function o5(e,t){for(var n=0;n<t.length;n++){const a=t[n];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function js(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gh={exports:{}},dc={},Yh={exports:{}},lt={};var Ww;function l5(){if(Ww)return lt;Ww=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function b(B,$,G){this.props=B,this.context=$,this.refs=j,this.updater=G||v}b.prototype.isReactComponent={},b.prototype.setState=function(B,$){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,$,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function _(){}_.prototype=b.prototype;function S(B,$,G){this.props=B,this.context=$,this.refs=j,this.updater=G||v}var P=S.prototype=new _;P.constructor=S,N(P,b.prototype),P.isPureReactComponent=!0;var C=Array.isArray,A=Object.prototype.hasOwnProperty,O={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function M(B,$,G){var ge,ue={},se=null,xe=null;if($!=null)for(ge in $.ref!==void 0&&(xe=$.ref),$.key!==void 0&&(se=""+$.key),$)A.call($,ge)&&!I.hasOwnProperty(ge)&&(ue[ge]=$[ge]);var Ne=arguments.length-2;if(Ne===1)ue.children=G;else if(1<Ne){for(var T=Array(Ne),K=0;K<Ne;K++)T[K]=arguments[K+2];ue.children=T}if(B&&B.defaultProps)for(ge in Ne=B.defaultProps,Ne)ue[ge]===void 0&&(ue[ge]=Ne[ge]);return{$$typeof:e,type:B,key:se,ref:xe,props:ue,_owner:O.current}}function D(B,$){return{$$typeof:e,type:B.type,key:$,ref:B.ref,props:B.props,_owner:B._owner}}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function Y(B){var $={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(G){return $[G]})}var W=/\/+/g;function re(B,$){return typeof B=="object"&&B!==null&&B.key!=null?Y(""+B.key):$.toString(36)}function U(B,$,G,ge,ue){var se=typeof B;(se==="undefined"||se==="boolean")&&(B=null);var xe=!1;if(B===null)xe=!0;else switch(se){case"string":case"number":xe=!0;break;case"object":switch(B.$$typeof){case e:case t:xe=!0}}if(xe)return xe=B,ue=ue(xe),B=ge===""?"."+re(xe,0):ge,C(ue)?(G="",B!=null&&(G=B.replace(W,"$&/")+"/"),U(ue,$,G,"",function(K){return K})):ue!=null&&(z(ue)&&(ue=D(ue,G+(!ue.key||xe&&xe.key===ue.key?"":(""+ue.key).replace(W,"$&/")+"/")+B)),$.push(ue)),1;if(xe=0,ge=ge===""?".":ge+":",C(B))for(var Ne=0;Ne<B.length;Ne++){se=B[Ne];var T=ge+re(se,Ne);xe+=U(se,$,G,T,ue)}else if(T=y(B),typeof T=="function")for(B=T.call(B),Ne=0;!(se=B.next()).done;)se=se.value,T=ge+re(se,Ne++),xe+=U(se,$,G,T,ue);else if(se==="object")throw $=String(B),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return xe}function R(B,$,G){if(B==null)return B;var ge=[],ue=0;return U(B,ge,"","",function(se){return $.call(G,se,ue++)}),ge}function Q(B){if(B._status===-1){var $=B._result;$=$(),$.then(function(G){(B._status===0||B._status===-1)&&(B._status=1,B._result=G)},function(G){(B._status===0||B._status===-1)&&(B._status=2,B._result=G)}),B._status===-1&&(B._status=0,B._result=$)}if(B._status===1)return B._result.default;throw B._result}var le={current:null},H={transition:null},ee={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:H,ReactCurrentOwner:O};function ce(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:R,forEach:function(B,$,G){R(B,function(){$.apply(this,arguments)},G)},count:function(B){var $=0;return R(B,function(){$++}),$},toArray:function(B){return R(B,function($){return $})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},lt.Component=b,lt.Fragment=n,lt.Profiler=s,lt.PureComponent=S,lt.StrictMode=a,lt.Suspense=u,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,lt.act=ce,lt.cloneElement=function(B,$,G){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ge=N({},B.props),ue=B.key,se=B.ref,xe=B._owner;if($!=null){if($.ref!==void 0&&(se=$.ref,xe=O.current),$.key!==void 0&&(ue=""+$.key),B.type&&B.type.defaultProps)var Ne=B.type.defaultProps;for(T in $)A.call($,T)&&!I.hasOwnProperty(T)&&(ge[T]=$[T]===void 0&&Ne!==void 0?Ne[T]:$[T])}var T=arguments.length-2;if(T===1)ge.children=G;else if(1<T){Ne=Array(T);for(var K=0;K<T;K++)Ne[K]=arguments[K+2];ge.children=Ne}return{$$typeof:e,type:B.type,key:ue,ref:se,props:ge,_owner:xe}},lt.createContext=function(B){return B={$$typeof:c,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},lt.createElement=M,lt.createFactory=function(B){var $=M.bind(null,B);return $.type=B,$},lt.createRef=function(){return{current:null}},lt.forwardRef=function(B){return{$$typeof:d,render:B}},lt.isValidElement=z,lt.lazy=function(B){return{$$typeof:f,_payload:{_status:-1,_result:B},_init:Q}},lt.memo=function(B,$){return{$$typeof:p,type:B,compare:$===void 0?null:$}},lt.startTransition=function(B){var $=H.transition;H.transition={};try{B()}finally{H.transition=$}},lt.unstable_act=ce,lt.useCallback=function(B,$){return le.current.useCallback(B,$)},lt.useContext=function(B){return le.current.useContext(B)},lt.useDebugValue=function(){},lt.useDeferredValue=function(B){return le.current.useDeferredValue(B)},lt.useEffect=function(B,$){return le.current.useEffect(B,$)},lt.useId=function(){return le.current.useId()},lt.useImperativeHandle=function(B,$,G){return le.current.useImperativeHandle(B,$,G)},lt.useInsertionEffect=function(B,$){return le.current.useInsertionEffect(B,$)},lt.useLayoutEffect=function(B,$){return le.current.useLayoutEffect(B,$)},lt.useMemo=function(B,$){return le.current.useMemo(B,$)},lt.useReducer=function(B,$,G){return le.current.useReducer(B,$,G)},lt.useRef=function(B){return le.current.useRef(B)},lt.useState=function(B){return le.current.useState(B)},lt.useSyncExternalStore=function(B,$,G){return le.current.useSyncExternalStore(B,$,G)},lt.useTransition=function(){return le.current.useTransition()},lt.version="18.3.1",lt}var Hw;function ol(){return Hw||(Hw=1,Yh.exports=l5()),Yh.exports}var Vw;function c5(){if(Vw)return dc;Vw=1;var e=ol(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,p){var f,h={},y=null,v=null;p!==void 0&&(y=""+p),u.key!==void 0&&(y=""+u.key),u.ref!==void 0&&(v=u.ref);for(f in u)a.call(u,f)&&!o.hasOwnProperty(f)&&(h[f]=u[f]);if(d&&d.defaultProps)for(f in u=d.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:t,type:d,key:y,ref:v,props:h,_owner:s.current}}return dc.Fragment=n,dc.jsx=c,dc.jsxs=c,dc}var Gw;function d5(){return Gw||(Gw=1,Gh.exports=c5()),Gh.exports}var r=d5(),g=ol();const fn=js(g),u5=o5({__proto__:null,default:fn},[g]);var Su={},Xh={exports:{}},mn={},Jh={exports:{}},Zh={};var Yw;function m5(){return Yw||(Yw=1,(function(e){function t(H,ee){var ce=H.length;H.push(ee);e:for(;0<ce;){var B=ce-1>>>1,$=H[B];if(0<s($,ee))H[B]=ee,H[ce]=$,ce=B;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ee=H[0],ce=H.pop();if(ce!==ee){H[0]=ce;e:for(var B=0,$=H.length,G=$>>>1;B<G;){var ge=2*(B+1)-1,ue=H[ge],se=ge+1,xe=H[se];if(0>s(ue,ce))se<$&&0>s(xe,ue)?(H[B]=xe,H[se]=ce,B=se):(H[B]=ue,H[ge]=ce,B=ge);else if(se<$&&0>s(xe,ce))H[B]=xe,H[se]=ce,B=se;else break e}}return ee}function s(H,ee){var ce=H.sortIndex-ee.sortIndex;return ce!==0?ce:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var u=[],p=[],f=1,h=null,y=3,v=!1,N=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(H){for(var ee=n(p);ee!==null;){if(ee.callback===null)a(p);else if(ee.startTime<=H)a(p),ee.sortIndex=ee.expirationTime,t(u,ee);else break;ee=n(p)}}function C(H){if(j=!1,P(H),!N)if(n(u)!==null)N=!0,Q(A);else{var ee=n(p);ee!==null&&le(C,ee.startTime-H)}}function A(H,ee){N=!1,j&&(j=!1,_(M),M=-1),v=!0;var ce=y;try{for(P(ee),h=n(u);h!==null&&(!(h.expirationTime>ee)||H&&!Y());){var B=h.callback;if(typeof B=="function"){h.callback=null,y=h.priorityLevel;var $=B(h.expirationTime<=ee);ee=e.unstable_now(),typeof $=="function"?h.callback=$:h===n(u)&&a(u),P(ee)}else a(u);h=n(u)}if(h!==null)var G=!0;else{var ge=n(p);ge!==null&&le(C,ge.startTime-ee),G=!1}return G}finally{h=null,y=ce,v=!1}}var O=!1,I=null,M=-1,D=5,z=-1;function Y(){return!(e.unstable_now()-z<D)}function W(){if(I!==null){var H=e.unstable_now();z=H;var ee=!0;try{ee=I(!0,H)}finally{ee?re():(O=!1,I=null)}}else O=!1}var re;if(typeof S=="function")re=function(){S(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,R=U.port2;U.port1.onmessage=W,re=function(){R.postMessage(null)}}else re=function(){b(W,0)};function Q(H){I=H,O||(O=!0,re())}function le(H,ee){M=b(function(){H(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){N||v||(N=!0,Q(A))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(H){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var ce=y;y=ee;try{return H()}finally{y=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ce=y;y=H;try{return ee()}finally{y=ce}},e.unstable_scheduleCallback=function(H,ee,ce){var B=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?B+ce:B):ce=B,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=ce+$,H={id:f++,callback:ee,priorityLevel:H,startTime:ce,expirationTime:$,sortIndex:-1},ce>B?(H.sortIndex=ce,t(p,H),n(u)===null&&H===n(p)&&(j?(_(M),M=-1):j=!0,le(C,ce-B))):(H.sortIndex=$,t(u,H),N||v||(N=!0,Q(A))),H},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(H){var ee=y;return function(){var ce=y;y=ee;try{return H.apply(this,arguments)}finally{y=ce}}}})(Zh)),Zh}var Xw;function f5(){return Xw||(Xw=1,Jh.exports=m5()),Jh.exports}var Jw;function p5(){if(Jw)return mn;Jw=1;var e=ol(),t=f5();function n(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,m=1;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(s[i]=l,i=0;i<l.length;i++)a.add(l[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function y(i){return u.call(h,i)?!0:u.call(f,i)?!1:p.test(i)?h[i]=!0:(f[i]=!0,!1)}function v(i,l,m,x){if(m!==null&&m.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,l,m,x){if(l===null||typeof l>"u"||v(i,l,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function j(i,l,m,x,w,k,E){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=w,this.mustUseProperty=m,this.propertyName=i,this.type=l,this.sanitizeURL=k,this.removeEmptyString=E}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];b[l]=new j(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(_,S);b[l]=new j(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(_,S);b[l]=new j(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(_,S);b[l]=new j(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,l,m,x){var w=b.hasOwnProperty(l)?b[l]:null;(w!==null?w.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,m,w,x)&&(m=null),x||w===null?y(l)&&(m===null?i.removeAttribute(l):i.setAttribute(l,""+m)):w.mustUseProperty?i[w.propertyName]=m===null?w.type===3?!1:"":m:(l=w.attributeName,x=w.attributeNamespace,m===null?i.removeAttribute(l):(w=w.type,m=w===3||w===4&&m===!0?"":""+m,x?i.setAttributeNS(x,l,m):i.setAttribute(l,m))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),O=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),Y=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),H=Symbol.iterator;function ee(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var ce=Object.assign,B;function $(i){if(B===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+i}var G=!1;function ge(i,l){if(!i||G)return"";G=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(de){var x=de}Reflect.construct(i,[],l)}else{try{l.call()}catch(de){x=de}i.call(l.prototype)}else{try{throw Error()}catch(de){x=de}i()}}catch(de){if(de&&x&&typeof de.stack=="string"){for(var w=de.stack.split(`
`),k=x.stack.split(`
`),E=w.length-1,q=k.length-1;1<=E&&0<=q&&w[E]!==k[q];)q--;for(;1<=E&&0<=q;E--,q--)if(w[E]!==k[q]){if(E!==1||q!==1)do if(E--,q--,0>q||w[E]!==k[q]){var X=`
`+w[E].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=E&&0<=q);break}}}finally{G=!1,Error.prepareStackTrace=m}return(i=i?i.displayName||i.name:"")?$(i):""}function ue(i){switch(i.tag){case 5:return $(i.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function se(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case I:return"Fragment";case O:return"Portal";case D:return"Profiler";case M:return"StrictMode";case re:return"Suspense";case U:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Y:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case W:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return l=i.displayName||null,l!==null?l:se(i.type)||"Memo";case Q:l=i._payload,i=i._init;try{return se(i(l))}catch{}}return null}function xe(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(l);case 8:return l===M?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Ne(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function T(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function K(i){var l=T(i)?"checked":"value",m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),x=""+i[l];if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,k=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(E){x=""+E,k.call(this,E)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(E){x=""+E},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function oe(i){i._valueTracker||(i._valueTracker=K(i))}function te(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var m=l.getValue(),x="";return i&&(x=T(i)?i.checked?"true":"false":i.value),i=x,i!==m?(l.setValue(i),!0):!1}function ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Pe(i,l){var m=l.checked;return ce({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??i._wrapperState.initialChecked})}function Ze(i,l){var m=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;m=Ne(l.value!=null?l.value:m),i._wrapperState={initialChecked:x,initialValue:m,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function he(i,l){l=l.checked,l!=null&&P(i,"checked",l,!1)}function pe(i,l){he(i,l);var m=Ne(l.value),x=l.type;if(m!=null)x==="number"?(m===0&&i.value===""||i.value!=m)&&(i.value=""+m):i.value!==""+m&&(i.value=""+m);else if(x==="submit"||x==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Oe(i,l.type,m):l.hasOwnProperty("defaultValue")&&Oe(i,l.type,Ne(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Je(i,l,m){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,m||l===i.value||(i.value=l),i.defaultValue=l}m=i.name,m!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,m!==""&&(i.name=m)}function Oe(i,l,m){(l!=="number"||ve(i.ownerDocument)!==i)&&(m==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+m&&(i.defaultValue=""+m))}var me=Array.isArray;function Ae(i,l,m,x){if(i=i.options,l){l={};for(var w=0;w<m.length;w++)l["$"+m[w]]=!0;for(m=0;m<i.length;m++)w=l.hasOwnProperty("$"+i[m].value),i[m].selected!==w&&(i[m].selected=w),w&&x&&(i[m].defaultSelected=!0)}else{for(m=""+Ne(m),l=null,w=0;w<i.length;w++){if(i[w].value===m){i[w].selected=!0,x&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function Te(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function De(i,l){var m=l.value;if(m==null){if(m=l.children,l=l.defaultValue,m!=null){if(l!=null)throw Error(n(92));if(me(m)){if(1<m.length)throw Error(n(93));m=m[0]}l=m}l==null&&(l=""),m=l}i._wrapperState={initialValue:Ne(m)}}function $e(i,l){var m=Ne(l.value),x=Ne(l.defaultValue);m!=null&&(m=""+m,m!==i.value&&(i.value=m),l.defaultValue==null&&i.defaultValue!==m&&(i.defaultValue=m)),x!=null&&(i.defaultValue=""+x)}function at(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var L,fe=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,m,x,w){MSApp.execUnsafeLocalFunction(function(){return i(l,m,x,w)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(L=L||document.createElement("div"),L.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=L.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function ye(i,l){if(l){var m=i.firstChild;if(m&&m===i.lastChild&&m.nodeType===3){m.nodeValue=l;return}}i.textContent=l}var tt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];Object.keys(tt).forEach(function(i){nt.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),tt[l]=tt[i]})});function Ie(i,l,m){return l==null||typeof l=="boolean"||l===""?"":m||typeof l!="number"||l===0||tt.hasOwnProperty(i)&&tt[i]?(""+l).trim():l+"px"}function Er(i,l){i=i.style;for(var m in l)if(l.hasOwnProperty(m)){var x=m.indexOf("--")===0,w=Ie(m,l[m],x);m==="float"&&(m="cssFloat"),x?i.setProperty(m,w):i[m]=w}}var Wn=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dr(i,l){if(l){if(Wn[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function ma(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hn=null;function J(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ee=null,Ge=null,_t=null;function St(i){if(i=Yl(i)){if(typeof Ee!="function")throw Error(n(280));var l=i.stateNode;l&&(l=Bd(l),Ee(i.stateNode,i.type,l))}}function lr(i){Ge?_t?_t.push(i):_t=[i]:Ge=i}function Lr(){if(Ge){var i=Ge,l=_t;if(_t=Ge=null,St(i),l)for(i=0;i<l.length;i++)St(l[i])}}function Vn(i,l){return i(l)}function Xr(){}var An=!1;function Es(i,l,m){if(An)return i(l,m);An=!0;try{return Vn(i,l,m)}finally{An=!1,(Ge!==null||_t!==null)&&(Xr(),Lr())}}function $a(i,l){var m=i.stateNode;if(m===null)return null;var x=Bd(m);if(x===null)return null;m=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(m&&typeof m!="function")throw Error(n(231,l,typeof m));return m}var Pl=!1;if(d)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Pl=!1}function Cl(i,l,m,x,w,k,E,q,X){var de=Array.prototype.slice.call(arguments,3);try{l.apply(m,de)}catch(we){this.onError(we)}}var Ts=!1,Is=null,ao=!1,Al=null,Gn={onError:function(i){Ts=!0,Is=i}};function El(i,l,m,x,w,k,E,q,X){Ts=!1,Is=null,Cl.apply(Gn,arguments)}function so(i,l,m,x,w,k,E,q,X){if(El.apply(this,arguments),Ts){if(Ts){var de=Is;Ts=!1,Is=null}else throw Error(n(198));ao||(ao=!0,Al=de)}}function za(i){var l=i,m=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(m=l.return),i=l.return;while(i)}return l.tag===3?m:null}function V(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Se(i){if(za(i)!==i)throw Error(n(188))}function Me(i){var l=i.alternate;if(!l){if(l=za(i),l===null)throw Error(n(188));return l!==i?null:i}for(var m=i,x=l;;){var w=m.return;if(w===null)break;var k=w.alternate;if(k===null){if(x=w.return,x!==null){m=x;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===m)return Se(w),i;if(k===x)return Se(w),l;k=k.sibling}throw Error(n(188))}if(m.return!==x.return)m=w,x=k;else{for(var E=!1,q=w.child;q;){if(q===m){E=!0,m=w,x=k;break}if(q===x){E=!0,x=w,m=k;break}q=q.sibling}if(!E){for(q=k.child;q;){if(q===m){E=!0,m=k,x=w;break}if(q===x){E=!0,x=k,m=w;break}q=q.sibling}if(!E)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?i:l}function Xe(i){return i=Me(i),i!==null?it(i):null}function it(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=it(i);if(l!==null)return l;i=i.sibling}return null}var mt=t.unstable_scheduleCallback,rr=t.unstable_cancelCallback,yO=t.unstable_shouldYield,vO=t.unstable_requestPaint,Jt=t.unstable_now,bO=t.unstable_getCurrentPriorityLevel,pp=t.unstable_ImmediatePriority,bb=t.unstable_UserBlockingPriority,jd=t.unstable_NormalPriority,jO=t.unstable_LowPriority,jb=t.unstable_IdlePriority,wd=null,fa=null;function wO(i){if(fa&&typeof fa.onCommitFiberRoot=="function")try{fa.onCommitFiberRoot(wd,i,void 0,(i.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:kO,NO=Math.log,_O=Math.LN2;function kO(i){return i>>>=0,i===0?32:31-(NO(i)/_O|0)|0}var Nd=64,_d=4194304;function Ol(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function kd(i,l){var m=i.pendingLanes;if(m===0)return 0;var x=0,w=i.suspendedLanes,k=i.pingedLanes,E=m&268435455;if(E!==0){var q=E&~w;q!==0?x=Ol(q):(k&=E,k!==0&&(x=Ol(k)))}else E=m&~w,E!==0?x=Ol(E):k!==0&&(x=Ol(k));if(x===0)return 0;if(l!==0&&l!==x&&(l&w)===0&&(w=x&-x,k=l&-l,w>=k||w===16&&(k&4194240)!==0))return l;if((x&4)!==0&&(x|=m&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=x;0<l;)m=31-Yn(l),w=1<<m,x|=i[m],l&=~w;return x}function SO(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PO(i,l){for(var m=i.suspendedLanes,x=i.pingedLanes,w=i.expirationTimes,k=i.pendingLanes;0<k;){var E=31-Yn(k),q=1<<E,X=w[E];X===-1?((q&m)===0||(q&x)!==0)&&(w[E]=SO(q,l)):X<=l&&(i.expiredLanes|=q),k&=~q}}function hp(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function wb(){var i=Nd;return Nd<<=1,(Nd&4194240)===0&&(Nd=64),i}function gp(i){for(var l=[],m=0;31>m;m++)l.push(i);return l}function Tl(i,l,m){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Yn(l),i[l]=m}function CO(i,l){var m=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var x=i.eventTimes;for(i=i.expirationTimes;0<m;){var w=31-Yn(m),k=1<<w;l[w]=0,x[w]=-1,i[w]=-1,m&=~k}}function xp(i,l){var m=i.entangledLanes|=l;for(i=i.entanglements;m;){var x=31-Yn(m),w=1<<x;w&l|i[x]&l&&(i[x]|=l),m&=~w}}var wt=0;function Nb(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var _b,yp,kb,Sb,Pb,vp=!1,Sd=[],Ms=null,Ds=null,Ls=null,Il=new Map,Ml=new Map,$s=[],AO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cb(i,l){switch(i){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Il.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(l.pointerId)}}function Dl(i,l,m,x,w,k){return i===null||i.nativeEvent!==k?(i={blockedOn:l,domEventName:m,eventSystemFlags:x,nativeEvent:k,targetContainers:[w]},l!==null&&(l=Yl(l),l!==null&&yp(l)),i):(i.eventSystemFlags|=x,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function EO(i,l,m,x,w){switch(l){case"focusin":return Ms=Dl(Ms,i,l,m,x,w),!0;case"dragenter":return Ds=Dl(Ds,i,l,m,x,w),!0;case"mouseover":return Ls=Dl(Ls,i,l,m,x,w),!0;case"pointerover":var k=w.pointerId;return Il.set(k,Dl(Il.get(k)||null,i,l,m,x,w)),!0;case"gotpointercapture":return k=w.pointerId,Ml.set(k,Dl(Ml.get(k)||null,i,l,m,x,w)),!0}return!1}function Ab(i){var l=gi(i.target);if(l!==null){var m=za(l);if(m!==null){if(l=m.tag,l===13){if(l=V(m),l!==null){i.blockedOn=l,Pb(i.priority,function(){kb(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){i.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pd(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var m=jp(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(m===null){m=i.nativeEvent;var x=new m.constructor(m.type,m);Hn=x,m.target.dispatchEvent(x),Hn=null}else return l=Yl(m),l!==null&&yp(l),i.blockedOn=m,!1;l.shift()}return!0}function Eb(i,l,m){Pd(i)&&m.delete(l)}function OO(){vp=!1,Ms!==null&&Pd(Ms)&&(Ms=null),Ds!==null&&Pd(Ds)&&(Ds=null),Ls!==null&&Pd(Ls)&&(Ls=null),Il.forEach(Eb),Ml.forEach(Eb)}function Ll(i,l){i.blockedOn===l&&(i.blockedOn=null,vp||(vp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OO)))}function $l(i){function l(w){return Ll(w,i)}if(0<Sd.length){Ll(Sd[0],i);for(var m=1;m<Sd.length;m++){var x=Sd[m];x.blockedOn===i&&(x.blockedOn=null)}}for(Ms!==null&&Ll(Ms,i),Ds!==null&&Ll(Ds,i),Ls!==null&&Ll(Ls,i),Il.forEach(l),Ml.forEach(l),m=0;m<$s.length;m++)x=$s[m],x.blockedOn===i&&(x.blockedOn=null);for(;0<$s.length&&(m=$s[0],m.blockedOn===null);)Ab(m),m.blockedOn===null&&$s.shift()}var io=C.ReactCurrentBatchConfig,Cd=!0;function TO(i,l,m,x){var w=wt,k=io.transition;io.transition=null;try{wt=1,bp(i,l,m,x)}finally{wt=w,io.transition=k}}function IO(i,l,m,x){var w=wt,k=io.transition;io.transition=null;try{wt=4,bp(i,l,m,x)}finally{wt=w,io.transition=k}}function bp(i,l,m,x){if(Cd){var w=jp(i,l,m,x);if(w===null)zp(i,l,x,Ad,m),Cb(i,x);else if(EO(w,i,l,m,x))x.stopPropagation();else if(Cb(i,x),l&4&&-1<AO.indexOf(i)){for(;w!==null;){var k=Yl(w);if(k!==null&&_b(k),k=jp(i,l,m,x),k===null&&zp(i,l,x,Ad,m),k===w)break;w=k}w!==null&&x.stopPropagation()}else zp(i,l,x,null,m)}}var Ad=null;function jp(i,l,m,x){if(Ad=null,i=J(x),i=gi(i),i!==null)if(l=za(i),l===null)i=null;else if(m=l.tag,m===13){if(i=V(l),i!==null)return i;i=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return Ad=i,null}function Ob(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bO()){case pp:return 1;case bb:return 4;case jd:case jO:return 16;case jb:return 536870912;default:return 16}default:return 16}}var zs=null,wp=null,Ed=null;function Tb(){if(Ed)return Ed;var i,l=wp,m=l.length,x,w="value"in zs?zs.value:zs.textContent,k=w.length;for(i=0;i<m&&l[i]===w[i];i++);var E=m-i;for(x=1;x<=E&&l[m-x]===w[k-x];x++);return Ed=w.slice(i,1<x?1-x:void 0)}function Od(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Td(){return!0}function Ib(){return!1}function xn(i){function l(m,x,w,k,E){this._reactName=m,this._targetInst=w,this.type=x,this.nativeEvent=k,this.target=E,this.currentTarget=null;for(var q in i)i.hasOwnProperty(q)&&(m=i[q],this[q]=m?m(k):k[q]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Td:Ib,this.isPropagationStopped=Ib,this}return ce(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Td)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Td)},persist:function(){},isPersistent:Td}),l}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Np=xn(oo),zl=ce({},oo,{view:0,detail:0}),MO=xn(zl),_p,kp,Rl,Id=ce({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rl&&(Rl&&i.type==="mousemove"?(_p=i.screenX-Rl.screenX,kp=i.screenY-Rl.screenY):kp=_p=0,Rl=i),_p)},movementY:function(i){return"movementY"in i?i.movementY:kp}}),Mb=xn(Id),DO=ce({},Id,{dataTransfer:0}),LO=xn(DO),$O=ce({},zl,{relatedTarget:0}),Sp=xn($O),zO=ce({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),RO=xn(zO),FO=ce({},oo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),BO=xn(FO),UO=ce({},oo,{data:0}),Db=xn(UO),qO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HO(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=WO[i])?!!l[i]:!1}function Pp(){return HO}var VO=ce({},zl,{key:function(i){if(i.key){var l=qO[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Od(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?KO[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pp,charCode:function(i){return i.type==="keypress"?Od(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Od(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),GO=xn(VO),YO=ce({},Id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lb=xn(YO),XO=ce({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pp}),JO=xn(XO),ZO=ce({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),QO=xn(ZO),e3=ce({},Id,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),t3=xn(e3),r3=[9,13,27,32],Cp=d&&"CompositionEvent"in window,Fl=null;d&&"documentMode"in document&&(Fl=document.documentMode);var n3=d&&"TextEvent"in window&&!Fl,$b=d&&(!Cp||Fl&&8<Fl&&11>=Fl),zb=" ",Rb=!1;function Fb(i,l){switch(i){case"keyup":return r3.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lo=!1;function a3(i,l){switch(i){case"compositionend":return Bb(l);case"keypress":return l.which!==32?null:(Rb=!0,zb);case"textInput":return i=l.data,i===zb&&Rb?null:i;default:return null}}function s3(i,l){if(lo)return i==="compositionend"||!Cp&&Fb(i,l)?(i=Tb(),Ed=wp=zs=null,lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return $b&&l.locale!=="ko"?null:l.data;default:return null}}var i3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ub(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!i3[i.type]:l==="textarea"}function qb(i,l,m,x){lr(x),l=zd(l,"onChange"),0<l.length&&(m=new Np("onChange","change",null,m,x),i.push({event:m,listeners:l}))}var Bl=null,Ul=null;function o3(i){oj(i,0)}function Md(i){var l=po(i);if(te(l))return i}function l3(i,l){if(i==="change")return l}var Kb=!1;if(d){var Ap;if(d){var Ep="oninput"in document;if(!Ep){var Wb=document.createElement("div");Wb.setAttribute("oninput","return;"),Ep=typeof Wb.oninput=="function"}Ap=Ep}else Ap=!1;Kb=Ap&&(!document.documentMode||9<document.documentMode)}function Hb(){Bl&&(Bl.detachEvent("onpropertychange",Vb),Ul=Bl=null)}function Vb(i){if(i.propertyName==="value"&&Md(Ul)){var l=[];qb(l,Ul,i,J(i)),Es(o3,l)}}function c3(i,l,m){i==="focusin"?(Hb(),Bl=l,Ul=m,Bl.attachEvent("onpropertychange",Vb)):i==="focusout"&&Hb()}function d3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Md(Ul)}function u3(i,l){if(i==="click")return Md(l)}function m3(i,l){if(i==="input"||i==="change")return Md(l)}function f3(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Xn=typeof Object.is=="function"?Object.is:f3;function ql(i,l){if(Xn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var m=Object.keys(i),x=Object.keys(l);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var w=m[x];if(!u.call(l,w)||!Xn(i[w],l[w]))return!1}return!0}function Gb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Yb(i,l){var m=Gb(i);i=0;for(var x;m;){if(m.nodeType===3){if(x=i+m.textContent.length,i<=l&&x>=l)return{node:m,offset:l-i};i=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Gb(m)}}function Xb(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Xb(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Jb(){for(var i=window,l=ve();l instanceof i.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)i=l.contentWindow;else break;l=ve(i.document)}return l}function Op(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function p3(i){var l=Jb(),m=i.focusedElem,x=i.selectionRange;if(l!==m&&m&&m.ownerDocument&&Xb(m.ownerDocument.documentElement,m)){if(x!==null&&Op(m)){if(l=x.start,i=x.end,i===void 0&&(i=l),"selectionStart"in m)m.selectionStart=l,m.selectionEnd=Math.min(i,m.value.length);else if(i=(l=m.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var w=m.textContent.length,k=Math.min(x.start,w);x=x.end===void 0?k:Math.min(x.end,w),!i.extend&&k>x&&(w=x,x=k,k=w),w=Yb(m,k);var E=Yb(m,x);w&&E&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),i.removeAllRanges(),k>x?(i.addRange(l),i.extend(E.node,E.offset)):(l.setEnd(E.node,E.offset),i.addRange(l)))}}for(l=[],i=m;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<l.length;m++)i=l[m],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var h3=d&&"documentMode"in document&&11>=document.documentMode,co=null,Tp=null,Kl=null,Ip=!1;function Zb(i,l,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ip||co==null||co!==ve(x)||(x=co,"selectionStart"in x&&Op(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Kl&&ql(Kl,x)||(Kl=x,x=zd(Tp,"onSelect"),0<x.length&&(l=new Np("onSelect","select",null,l,m),i.push({event:l,listeners:x}),l.target=co)))}function Dd(i,l){var m={};return m[i.toLowerCase()]=l.toLowerCase(),m["Webkit"+i]="webkit"+l,m["Moz"+i]="moz"+l,m}var uo={animationend:Dd("Animation","AnimationEnd"),animationiteration:Dd("Animation","AnimationIteration"),animationstart:Dd("Animation","AnimationStart"),transitionend:Dd("Transition","TransitionEnd")},Mp={},Qb={};d&&(Qb=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Ld(i){if(Mp[i])return Mp[i];if(!uo[i])return i;var l=uo[i],m;for(m in l)if(l.hasOwnProperty(m)&&m in Qb)return Mp[i]=l[m];return i}var ej=Ld("animationend"),tj=Ld("animationiteration"),rj=Ld("animationstart"),nj=Ld("transitionend"),aj=new Map,sj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(i,l){aj.set(i,l),o(l,[i])}for(var Dp=0;Dp<sj.length;Dp++){var Lp=sj[Dp],g3=Lp.toLowerCase(),x3=Lp[0].toUpperCase()+Lp.slice(1);Rs(g3,"on"+x3)}Rs(ej,"onAnimationEnd"),Rs(tj,"onAnimationIteration"),Rs(rj,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(nj,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function ij(i,l,m){var x=i.type||"unknown-event";i.currentTarget=m,so(x,l,void 0,i),i.currentTarget=null}function oj(i,l){l=(l&4)!==0;for(var m=0;m<i.length;m++){var x=i[m],w=x.event;x=x.listeners;e:{var k=void 0;if(l)for(var E=x.length-1;0<=E;E--){var q=x[E],X=q.instance,de=q.currentTarget;if(q=q.listener,X!==k&&w.isPropagationStopped())break e;ij(w,q,de),k=X}else for(E=0;E<x.length;E++){if(q=x[E],X=q.instance,de=q.currentTarget,q=q.listener,X!==k&&w.isPropagationStopped())break e;ij(w,q,de),k=X}}}if(ao)throw i=Al,ao=!1,Al=null,i}function Tt(i,l){var m=l[Kp];m===void 0&&(m=l[Kp]=new Set);var x=i+"__bubble";m.has(x)||(lj(l,i,2,!1),m.add(x))}function $p(i,l,m){var x=0;l&&(x|=4),lj(m,i,x,l)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Hl(i){if(!i[$d]){i[$d]=!0,a.forEach(function(m){m!=="selectionchange"&&(y3.has(m)||$p(m,!1,i),$p(m,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[$d]||(l[$d]=!0,$p("selectionchange",!1,l))}}function lj(i,l,m,x){switch(Ob(l)){case 1:var w=TO;break;case 4:w=IO;break;default:w=bp}m=w.bind(null,l,m,i),w=void 0,!Pl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),x?w!==void 0?i.addEventListener(l,m,{capture:!0,passive:w}):i.addEventListener(l,m,!0):w!==void 0?i.addEventListener(l,m,{passive:w}):i.addEventListener(l,m,!1)}function zp(i,l,m,x,w){var k=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var E=x.tag;if(E===3||E===4){var q=x.stateNode.containerInfo;if(q===w||q.nodeType===8&&q.parentNode===w)break;if(E===4)for(E=x.return;E!==null;){var X=E.tag;if((X===3||X===4)&&(X=E.stateNode.containerInfo,X===w||X.nodeType===8&&X.parentNode===w))return;E=E.return}for(;q!==null;){if(E=gi(q),E===null)return;if(X=E.tag,X===5||X===6){x=k=E;continue e}q=q.parentNode}}x=x.return}Es(function(){var de=k,we=J(m),_e=[];e:{var be=aj.get(i);if(be!==void 0){var ze=Np,Ue=i;switch(i){case"keypress":if(Od(m)===0)break e;case"keydown":case"keyup":ze=GO;break;case"focusin":Ue="focus",ze=Sp;break;case"focusout":Ue="blur",ze=Sp;break;case"beforeblur":case"afterblur":ze=Sp;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Mb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=LO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=JO;break;case ej:case tj:case rj:ze=RO;break;case nj:ze=QO;break;case"scroll":ze=MO;break;case"wheel":ze=t3;break;case"copy":case"cut":case"paste":ze=BO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=Lb}var We=(l&4)!==0,Zt=!We&&i==="scroll",ne=We?be!==null?be+"Capture":null:be;We=[];for(var Z=de,ie;Z!==null;){ie=Z;var Ce=ie.stateNode;if(ie.tag===5&&Ce!==null&&(ie=Ce,ne!==null&&(Ce=$a(Z,ne),Ce!=null&&We.push(Vl(Z,Ce,ie)))),Zt)break;Z=Z.return}0<We.length&&(be=new ze(be,Ue,null,m,we),_e.push({event:be,listeners:We}))}}if((l&7)===0){e:{if(be=i==="mouseover"||i==="pointerover",ze=i==="mouseout"||i==="pointerout",be&&m!==Hn&&(Ue=m.relatedTarget||m.fromElement)&&(gi(Ue)||Ue[Ra]))break e;if((ze||be)&&(be=we.window===we?we:(be=we.ownerDocument)?be.defaultView||be.parentWindow:window,ze?(Ue=m.relatedTarget||m.toElement,ze=de,Ue=Ue?gi(Ue):null,Ue!==null&&(Zt=za(Ue),Ue!==Zt||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(ze=null,Ue=de),ze!==Ue)){if(We=Mb,Ce="onMouseLeave",ne="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(We=Lb,Ce="onPointerLeave",ne="onPointerEnter",Z="pointer"),Zt=ze==null?be:po(ze),ie=Ue==null?be:po(Ue),be=new We(Ce,Z+"leave",ze,m,we),be.target=Zt,be.relatedTarget=ie,Ce=null,gi(we)===de&&(We=new We(ne,Z+"enter",Ue,m,we),We.target=ie,We.relatedTarget=Zt,Ce=We),Zt=Ce,ze&&Ue)t:{for(We=ze,ne=Ue,Z=0,ie=We;ie;ie=mo(ie))Z++;for(ie=0,Ce=ne;Ce;Ce=mo(Ce))ie++;for(;0<Z-ie;)We=mo(We),Z--;for(;0<ie-Z;)ne=mo(ne),ie--;for(;Z--;){if(We===ne||ne!==null&&We===ne.alternate)break t;We=mo(We),ne=mo(ne)}We=null}else We=null;ze!==null&&cj(_e,be,ze,We,!1),Ue!==null&&Zt!==null&&cj(_e,Zt,Ue,We,!0)}}e:{if(be=de?po(de):window,ze=be.nodeName&&be.nodeName.toLowerCase(),ze==="select"||ze==="input"&&be.type==="file")var Ye=l3;else if(Ub(be))if(Kb)Ye=m3;else{Ye=d3;var Qe=c3}else(ze=be.nodeName)&&ze.toLowerCase()==="input"&&(be.type==="checkbox"||be.type==="radio")&&(Ye=u3);if(Ye&&(Ye=Ye(i,de))){qb(_e,Ye,m,we);break e}Qe&&Qe(i,be,de),i==="focusout"&&(Qe=be._wrapperState)&&Qe.controlled&&be.type==="number"&&Oe(be,"number",be.value)}switch(Qe=de?po(de):window,i){case"focusin":(Ub(Qe)||Qe.contentEditable==="true")&&(co=Qe,Tp=de,Kl=null);break;case"focusout":Kl=Tp=co=null;break;case"mousedown":Ip=!0;break;case"contextmenu":case"mouseup":case"dragend":Ip=!1,Zb(_e,m,we);break;case"selectionchange":if(h3)break;case"keydown":case"keyup":Zb(_e,m,we)}var et;if(Cp)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else lo?Fb(i,m)&&(rt="onCompositionEnd"):i==="keydown"&&m.keyCode===229&&(rt="onCompositionStart");rt&&($b&&m.locale!=="ko"&&(lo||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&lo&&(et=Tb()):(zs=we,wp="value"in zs?zs.value:zs.textContent,lo=!0)),Qe=zd(de,rt),0<Qe.length&&(rt=new Db(rt,i,null,m,we),_e.push({event:rt,listeners:Qe}),et?rt.data=et:(et=Bb(m),et!==null&&(rt.data=et)))),(et=n3?a3(i,m):s3(i,m))&&(de=zd(de,"onBeforeInput"),0<de.length&&(we=new Db("onBeforeInput","beforeinput",null,m,we),_e.push({event:we,listeners:de}),we.data=et))}oj(_e,l)})}function Vl(i,l,m){return{instance:i,listener:l,currentTarget:m}}function zd(i,l){for(var m=l+"Capture",x=[];i!==null;){var w=i,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=$a(i,m),k!=null&&x.unshift(Vl(i,k,w)),k=$a(i,l),k!=null&&x.push(Vl(i,k,w))),i=i.return}return x}function mo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function cj(i,l,m,x,w){for(var k=l._reactName,E=[];m!==null&&m!==x;){var q=m,X=q.alternate,de=q.stateNode;if(X!==null&&X===x)break;q.tag===5&&de!==null&&(q=de,w?(X=$a(m,k),X!=null&&E.unshift(Vl(m,X,q))):w||(X=$a(m,k),X!=null&&E.push(Vl(m,X,q)))),m=m.return}E.length!==0&&i.push({event:l,listeners:E})}var v3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function dj(i){return(typeof i=="string"?i:""+i).replace(v3,`
`).replace(b3,"")}function Rd(i,l,m){if(l=dj(l),dj(i)!==l&&m)throw Error(n(425))}function Fd(){}var Rp=null,Fp=null;function Bp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,j3=typeof clearTimeout=="function"?clearTimeout:void 0,uj=typeof Promise=="function"?Promise:void 0,w3=typeof queueMicrotask=="function"?queueMicrotask:typeof uj<"u"?function(i){return uj.resolve(null).then(i).catch(N3)}:Up;function N3(i){setTimeout(function(){throw i})}function qp(i,l){var m=l,x=0;do{var w=m.nextSibling;if(i.removeChild(m),w&&w.nodeType===8)if(m=w.data,m==="/$"){if(x===0){i.removeChild(w),$l(l);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=w}while(m);$l(l)}function Fs(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function mj(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var m=i.data;if(m==="$"||m==="$!"||m==="$?"){if(l===0)return i;l--}else m==="/$"&&l++}i=i.previousSibling}return null}var fo=Math.random().toString(36).slice(2),pa="__reactFiber$"+fo,Gl="__reactProps$"+fo,Ra="__reactContainer$"+fo,Kp="__reactEvents$"+fo,_3="__reactListeners$"+fo,k3="__reactHandles$"+fo;function gi(i){var l=i[pa];if(l)return l;for(var m=i.parentNode;m;){if(l=m[Ra]||m[pa]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(i=mj(i);i!==null;){if(m=i[pa])return m;i=mj(i)}return l}i=m,m=i.parentNode}return null}function Yl(i){return i=i[pa]||i[Ra],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function po(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Bd(i){return i[Gl]||null}var Wp=[],ho=-1;function Bs(i){return{current:i}}function It(i){0>ho||(i.current=Wp[ho],Wp[ho]=null,ho--)}function At(i,l){ho++,Wp[ho]=i.current,i.current=l}var Us={},$r=Bs(Us),on=Bs(!1),xi=Us;function go(i,l){var m=i.type.contextTypes;if(!m)return Us;var x=i.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in m)w[k]=l[k];return x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=w),w}function ln(i){return i=i.childContextTypes,i!=null}function Ud(){It(on),It($r)}function fj(i,l,m){if($r.current!==Us)throw Error(n(168));At($r,l),At(on,m)}function pj(i,l,m){var x=i.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var w in x)if(!(w in l))throw Error(n(108,xe(i)||"Unknown",w));return ce({},m,x)}function qd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Us,xi=$r.current,At($r,i),At(on,on.current),!0}function hj(i,l,m){var x=i.stateNode;if(!x)throw Error(n(169));m?(i=pj(i,l,xi),x.__reactInternalMemoizedMergedChildContext=i,It(on),It($r),At($r,i)):It(on),At(on,m)}var Fa=null,Kd=!1,Hp=!1;function gj(i){Fa===null?Fa=[i]:Fa.push(i)}function S3(i){Kd=!0,gj(i)}function qs(){if(!Hp&&Fa!==null){Hp=!0;var i=0,l=wt;try{var m=Fa;for(wt=1;i<m.length;i++){var x=m[i];do x=x(!0);while(x!==null)}Fa=null,Kd=!1}catch(w){throw Fa!==null&&(Fa=Fa.slice(i+1)),mt(pp,qs),w}finally{wt=l,Hp=!1}}return null}var xo=[],yo=0,Wd=null,Hd=0,En=[],On=0,yi=null,Ba=1,Ua="";function vi(i,l){xo[yo++]=Hd,xo[yo++]=Wd,Wd=i,Hd=l}function xj(i,l,m){En[On++]=Ba,En[On++]=Ua,En[On++]=yi,yi=i;var x=Ba;i=Ua;var w=32-Yn(x)-1;x&=~(1<<w),m+=1;var k=32-Yn(l)+w;if(30<k){var E=w-w%5;k=(x&(1<<E)-1).toString(32),x>>=E,w-=E,Ba=1<<32-Yn(l)+w|m<<w|x,Ua=k+i}else Ba=1<<k|m<<w|x,Ua=i}function Vp(i){i.return!==null&&(vi(i,1),xj(i,1,0))}function Gp(i){for(;i===Wd;)Wd=xo[--yo],xo[yo]=null,Hd=xo[--yo],xo[yo]=null;for(;i===yi;)yi=En[--On],En[On]=null,Ua=En[--On],En[On]=null,Ba=En[--On],En[On]=null}var yn=null,vn=null,$t=!1,Jn=null;function yj(i,l){var m=Dn(5,null,null,0);m.elementType="DELETED",m.stateNode=l,m.return=i,l=i.deletions,l===null?(i.deletions=[m],i.flags|=16):l.push(m)}function vj(i,l){switch(i.tag){case 5:var m=i.type;return l=l.nodeType!==1||m.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,yn=i,vn=Fs(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,yn=i,vn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(m=yi!==null?{id:Ba,overflow:Ua}:null,i.memoizedState={dehydrated:l,treeContext:m,retryLane:1073741824},m=Dn(18,null,null,0),m.stateNode=l,m.return=i,i.child=m,yn=i,vn=null,!0):!1;default:return!1}}function Yp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Xp(i){if($t){var l=vn;if(l){var m=l;if(!vj(i,l)){if(Yp(i))throw Error(n(418));l=Fs(m.nextSibling);var x=yn;l&&vj(i,l)?yj(x,m):(i.flags=i.flags&-4097|2,$t=!1,yn=i)}}else{if(Yp(i))throw Error(n(418));i.flags=i.flags&-4097|2,$t=!1,yn=i}}}function bj(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function Vd(i){if(i!==yn)return!1;if(!$t)return bj(i),$t=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Bp(i.type,i.memoizedProps)),l&&(l=vn)){if(Yp(i))throw jj(),Error(n(418));for(;l;)yj(i,l),l=Fs(l.nextSibling)}if(bj(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var m=i.data;if(m==="/$"){if(l===0){vn=Fs(i.nextSibling);break e}l--}else m!=="$"&&m!=="$!"&&m!=="$?"||l++}i=i.nextSibling}vn=null}}else vn=yn?Fs(i.stateNode.nextSibling):null;return!0}function jj(){for(var i=vn;i;)i=Fs(i.nextSibling)}function vo(){vn=yn=null,$t=!1}function Jp(i){Jn===null?Jn=[i]:Jn.push(i)}var P3=C.ReactCurrentBatchConfig;function Xl(i,l,m){if(i=m.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var x=m.stateNode}if(!x)throw Error(n(147,i));var w=x,k=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(E){var q=w.refs;E===null?delete q[k]:q[k]=E},l._stringRef=k,l)}if(typeof i!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,i))}return i}function Gd(i,l){throw i=Object.prototype.toString.call(l),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function wj(i){var l=i._init;return l(i._payload)}function Nj(i){function l(ne,Z){if(i){var ie=ne.deletions;ie===null?(ne.deletions=[Z],ne.flags|=16):ie.push(Z)}}function m(ne,Z){if(!i)return null;for(;Z!==null;)l(ne,Z),Z=Z.sibling;return null}function x(ne,Z){for(ne=new Map;Z!==null;)Z.key!==null?ne.set(Z.key,Z):ne.set(Z.index,Z),Z=Z.sibling;return ne}function w(ne,Z){return ne=Js(ne,Z),ne.index=0,ne.sibling=null,ne}function k(ne,Z,ie){return ne.index=ie,i?(ie=ne.alternate,ie!==null?(ie=ie.index,ie<Z?(ne.flags|=2,Z):ie):(ne.flags|=2,Z)):(ne.flags|=1048576,Z)}function E(ne){return i&&ne.alternate===null&&(ne.flags|=2),ne}function q(ne,Z,ie,Ce){return Z===null||Z.tag!==6?(Z=Uh(ie,ne.mode,Ce),Z.return=ne,Z):(Z=w(Z,ie),Z.return=ne,Z)}function X(ne,Z,ie,Ce){var Ye=ie.type;return Ye===I?we(ne,Z,ie.props.children,Ce,ie.key):Z!==null&&(Z.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Q&&wj(Ye)===Z.type)?(Ce=w(Z,ie.props),Ce.ref=Xl(ne,Z,ie),Ce.return=ne,Ce):(Ce=yu(ie.type,ie.key,ie.props,null,ne.mode,Ce),Ce.ref=Xl(ne,Z,ie),Ce.return=ne,Ce)}function de(ne,Z,ie,Ce){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ie.containerInfo||Z.stateNode.implementation!==ie.implementation?(Z=qh(ie,ne.mode,Ce),Z.return=ne,Z):(Z=w(Z,ie.children||[]),Z.return=ne,Z)}function we(ne,Z,ie,Ce,Ye){return Z===null||Z.tag!==7?(Z=Pi(ie,ne.mode,Ce,Ye),Z.return=ne,Z):(Z=w(Z,ie),Z.return=ne,Z)}function _e(ne,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Uh(""+Z,ne.mode,ie),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return ie=yu(Z.type,Z.key,Z.props,null,ne.mode,ie),ie.ref=Xl(ne,null,Z),ie.return=ne,ie;case O:return Z=qh(Z,ne.mode,ie),Z.return=ne,Z;case Q:var Ce=Z._init;return _e(ne,Ce(Z._payload),ie)}if(me(Z)||ee(Z))return Z=Pi(Z,ne.mode,ie,null),Z.return=ne,Z;Gd(ne,Z)}return null}function be(ne,Z,ie,Ce){var Ye=Z!==null?Z.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Ye!==null?null:q(ne,Z,""+ie,Ce);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:return ie.key===Ye?X(ne,Z,ie,Ce):null;case O:return ie.key===Ye?de(ne,Z,ie,Ce):null;case Q:return Ye=ie._init,be(ne,Z,Ye(ie._payload),Ce)}if(me(ie)||ee(ie))return Ye!==null?null:we(ne,Z,ie,Ce,null);Gd(ne,ie)}return null}function ze(ne,Z,ie,Ce,Ye){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ne=ne.get(ie)||null,q(Z,ne,""+Ce,Ye);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case A:return ne=ne.get(Ce.key===null?ie:Ce.key)||null,X(Z,ne,Ce,Ye);case O:return ne=ne.get(Ce.key===null?ie:Ce.key)||null,de(Z,ne,Ce,Ye);case Q:var Qe=Ce._init;return ze(ne,Z,ie,Qe(Ce._payload),Ye)}if(me(Ce)||ee(Ce))return ne=ne.get(ie)||null,we(Z,ne,Ce,Ye,null);Gd(Z,Ce)}return null}function Ue(ne,Z,ie,Ce){for(var Ye=null,Qe=null,et=Z,rt=Z=0,vr=null;et!==null&&rt<ie.length;rt++){et.index>rt?(vr=et,et=null):vr=et.sibling;var ht=be(ne,et,ie[rt],Ce);if(ht===null){et===null&&(et=vr);break}i&&et&&ht.alternate===null&&l(ne,et),Z=k(ht,Z,rt),Qe===null?Ye=ht:Qe.sibling=ht,Qe=ht,et=vr}if(rt===ie.length)return m(ne,et),$t&&vi(ne,rt),Ye;if(et===null){for(;rt<ie.length;rt++)et=_e(ne,ie[rt],Ce),et!==null&&(Z=k(et,Z,rt),Qe===null?Ye=et:Qe.sibling=et,Qe=et);return $t&&vi(ne,rt),Ye}for(et=x(ne,et);rt<ie.length;rt++)vr=ze(et,ne,rt,ie[rt],Ce),vr!==null&&(i&&vr.alternate!==null&&et.delete(vr.key===null?rt:vr.key),Z=k(vr,Z,rt),Qe===null?Ye=vr:Qe.sibling=vr,Qe=vr);return i&&et.forEach(function(Zs){return l(ne,Zs)}),$t&&vi(ne,rt),Ye}function We(ne,Z,ie,Ce){var Ye=ee(ie);if(typeof Ye!="function")throw Error(n(150));if(ie=Ye.call(ie),ie==null)throw Error(n(151));for(var Qe=Ye=null,et=Z,rt=Z=0,vr=null,ht=ie.next();et!==null&&!ht.done;rt++,ht=ie.next()){et.index>rt?(vr=et,et=null):vr=et.sibling;var Zs=be(ne,et,ht.value,Ce);if(Zs===null){et===null&&(et=vr);break}i&&et&&Zs.alternate===null&&l(ne,et),Z=k(Zs,Z,rt),Qe===null?Ye=Zs:Qe.sibling=Zs,Qe=Zs,et=vr}if(ht.done)return m(ne,et),$t&&vi(ne,rt),Ye;if(et===null){for(;!ht.done;rt++,ht=ie.next())ht=_e(ne,ht.value,Ce),ht!==null&&(Z=k(ht,Z,rt),Qe===null?Ye=ht:Qe.sibling=ht,Qe=ht);return $t&&vi(ne,rt),Ye}for(et=x(ne,et);!ht.done;rt++,ht=ie.next())ht=ze(et,ne,rt,ht.value,Ce),ht!==null&&(i&&ht.alternate!==null&&et.delete(ht.key===null?rt:ht.key),Z=k(ht,Z,rt),Qe===null?Ye=ht:Qe.sibling=ht,Qe=ht);return i&&et.forEach(function(i5){return l(ne,i5)}),$t&&vi(ne,rt),Ye}function Zt(ne,Z,ie,Ce){if(typeof ie=="object"&&ie!==null&&ie.type===I&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case A:e:{for(var Ye=ie.key,Qe=Z;Qe!==null;){if(Qe.key===Ye){if(Ye=ie.type,Ye===I){if(Qe.tag===7){m(ne,Qe.sibling),Z=w(Qe,ie.props.children),Z.return=ne,ne=Z;break e}}else if(Qe.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===Q&&wj(Ye)===Qe.type){m(ne,Qe.sibling),Z=w(Qe,ie.props),Z.ref=Xl(ne,Qe,ie),Z.return=ne,ne=Z;break e}m(ne,Qe);break}else l(ne,Qe);Qe=Qe.sibling}ie.type===I?(Z=Pi(ie.props.children,ne.mode,Ce,ie.key),Z.return=ne,ne=Z):(Ce=yu(ie.type,ie.key,ie.props,null,ne.mode,Ce),Ce.ref=Xl(ne,Z,ie),Ce.return=ne,ne=Ce)}return E(ne);case O:e:{for(Qe=ie.key;Z!==null;){if(Z.key===Qe)if(Z.tag===4&&Z.stateNode.containerInfo===ie.containerInfo&&Z.stateNode.implementation===ie.implementation){m(ne,Z.sibling),Z=w(Z,ie.children||[]),Z.return=ne,ne=Z;break e}else{m(ne,Z);break}else l(ne,Z);Z=Z.sibling}Z=qh(ie,ne.mode,Ce),Z.return=ne,ne=Z}return E(ne);case Q:return Qe=ie._init,Zt(ne,Z,Qe(ie._payload),Ce)}if(me(ie))return Ue(ne,Z,ie,Ce);if(ee(ie))return We(ne,Z,ie,Ce);Gd(ne,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Z!==null&&Z.tag===6?(m(ne,Z.sibling),Z=w(Z,ie),Z.return=ne,ne=Z):(m(ne,Z),Z=Uh(ie,ne.mode,Ce),Z.return=ne,ne=Z),E(ne)):m(ne,Z)}return Zt}var bo=Nj(!0),_j=Nj(!1),Yd=Bs(null),Xd=null,jo=null,Zp=null;function Qp(){Zp=jo=Xd=null}function eh(i){var l=Yd.current;It(Yd),i._currentValue=l}function th(i,l,m){for(;i!==null;){var x=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),i===m)break;i=i.return}}function wo(i,l){Xd=i,Zp=jo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(cn=!0),i.firstContext=null)}function Tn(i){var l=i._currentValue;if(Zp!==i)if(i={context:i,memoizedValue:l,next:null},jo===null){if(Xd===null)throw Error(n(308));jo=i,Xd.dependencies={lanes:0,firstContext:i}}else jo=jo.next=i;return l}var bi=null;function rh(i){bi===null?bi=[i]:bi.push(i)}function kj(i,l,m,x){var w=l.interleaved;return w===null?(m.next=m,rh(l)):(m.next=w.next,w.next=m),l.interleaved=m,qa(i,x)}function qa(i,l){i.lanes|=l;var m=i.alternate;for(m!==null&&(m.lanes|=l),m=i,i=i.return;i!==null;)i.childLanes|=l,m=i.alternate,m!==null&&(m.childLanes|=l),m=i,i=i.return;return m.tag===3?m.stateNode:null}var Ks=!1;function nh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sj(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ka(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function Ws(i,l,m){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(pt&2)!==0){var w=x.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),x.pending=l,qa(i,m)}return w=x.interleaved,w===null?(l.next=l,rh(x)):(l.next=w.next,w.next=l),x.interleaved=l,qa(i,m)}function Jd(i,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194240)!==0)){var x=l.lanes;x&=i.pendingLanes,m|=x,l.lanes=m,xp(i,m)}}function Pj(i,l){var m=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var w=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var E={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};k===null?w=k=E:k=k.next=E,m=m.next}while(m!==null);k===null?w=k=l:k=k.next=l}else w=k=l;m={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:x.shared,effects:x.effects},i.updateQueue=m;return}i=m.lastBaseUpdate,i===null?m.firstBaseUpdate=l:i.next=l,m.lastBaseUpdate=l}function Zd(i,l,m,x){var w=i.updateQueue;Ks=!1;var k=w.firstBaseUpdate,E=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var X=q,de=X.next;X.next=null,E===null?k=de:E.next=de,E=X;var we=i.alternate;we!==null&&(we=we.updateQueue,q=we.lastBaseUpdate,q!==E&&(q===null?we.firstBaseUpdate=de:q.next=de,we.lastBaseUpdate=X))}if(k!==null){var _e=w.baseState;E=0,we=de=X=null,q=k;do{var be=q.lane,ze=q.eventTime;if((x&be)===be){we!==null&&(we=we.next={eventTime:ze,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ue=i,We=q;switch(be=l,ze=m,We.tag){case 1:if(Ue=We.payload,typeof Ue=="function"){_e=Ue.call(ze,_e,be);break e}_e=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=We.payload,be=typeof Ue=="function"?Ue.call(ze,_e,be):Ue,be==null)break e;_e=ce({},_e,be);break e;case 2:Ks=!0}}q.callback!==null&&q.lane!==0&&(i.flags|=64,be=w.effects,be===null?w.effects=[q]:be.push(q))}else ze={eventTime:ze,lane:be,tag:q.tag,payload:q.payload,callback:q.callback,next:null},we===null?(de=we=ze,X=_e):we=we.next=ze,E|=be;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;be=q,q=be.next,be.next=null,w.lastBaseUpdate=be,w.shared.pending=null}}while(!0);if(we===null&&(X=_e),w.baseState=X,w.firstBaseUpdate=de,w.lastBaseUpdate=we,l=w.shared.interleaved,l!==null){w=l;do E|=w.lane,w=w.next;while(w!==l)}else k===null&&(w.shared.lanes=0);Ni|=E,i.lanes=E,i.memoizedState=_e}}function Cj(i,l,m){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var x=i[l],w=x.callback;if(w!==null){if(x.callback=null,x=m,typeof w!="function")throw Error(n(191,w));w.call(x)}}}var Jl={},ha=Bs(Jl),Zl=Bs(Jl),Ql=Bs(Jl);function ji(i){if(i===Jl)throw Error(n(174));return i}function ah(i,l){switch(At(Ql,l),At(Zl,i),At(ha,Jl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:F(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=F(l,i)}It(ha),At(ha,l)}function No(){It(ha),It(Zl),It(Ql)}function Aj(i){ji(Ql.current);var l=ji(ha.current),m=F(l,i.type);l!==m&&(At(Zl,i),At(ha,m))}function sh(i){Zl.current===i&&(It(ha),It(Zl))}var Ut=Bs(0);function Qd(i){for(var l=i;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ih=[];function oh(){for(var i=0;i<ih.length;i++)ih[i]._workInProgressVersionPrimary=null;ih.length=0}var eu=C.ReactCurrentDispatcher,lh=C.ReactCurrentBatchConfig,wi=0,qt=null,cr=null,xr=null,tu=!1,ec=!1,tc=0,C3=0;function zr(){throw Error(n(321))}function ch(i,l){if(l===null)return!1;for(var m=0;m<l.length&&m<i.length;m++)if(!Xn(i[m],l[m]))return!1;return!0}function dh(i,l,m,x,w,k){if(wi=k,qt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,eu.current=i===null||i.memoizedState===null?T3:I3,i=m(x,w),ec){k=0;do{if(ec=!1,tc=0,25<=k)throw Error(n(301));k+=1,xr=cr=null,l.updateQueue=null,eu.current=M3,i=m(x,w)}while(ec)}if(eu.current=au,l=cr!==null&&cr.next!==null,wi=0,xr=cr=qt=null,tu=!1,l)throw Error(n(300));return i}function uh(){var i=tc!==0;return tc=0,i}function ga(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?qt.memoizedState=xr=i:xr=xr.next=i,xr}function In(){if(cr===null){var i=qt.alternate;i=i!==null?i.memoizedState:null}else i=cr.next;var l=xr===null?qt.memoizedState:xr.next;if(l!==null)xr=l,cr=i;else{if(i===null)throw Error(n(310));cr=i,i={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},xr===null?qt.memoizedState=xr=i:xr=xr.next=i}return xr}function rc(i,l){return typeof l=="function"?l(i):l}function mh(i){var l=In(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=i;var x=cr,w=x.baseQueue,k=m.pending;if(k!==null){if(w!==null){var E=w.next;w.next=k.next,k.next=E}x.baseQueue=w=k,m.pending=null}if(w!==null){k=w.next,x=x.baseState;var q=E=null,X=null,de=k;do{var we=de.lane;if((wi&we)===we)X!==null&&(X=X.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),x=de.hasEagerState?de.eagerState:i(x,de.action);else{var _e={lane:we,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};X===null?(q=X=_e,E=x):X=X.next=_e,qt.lanes|=we,Ni|=we}de=de.next}while(de!==null&&de!==k);X===null?E=x:X.next=q,Xn(x,l.memoizedState)||(cn=!0),l.memoizedState=x,l.baseState=E,l.baseQueue=X,m.lastRenderedState=x}if(i=m.interleaved,i!==null){w=i;do k=w.lane,qt.lanes|=k,Ni|=k,w=w.next;while(w!==i)}else w===null&&(m.lanes=0);return[l.memoizedState,m.dispatch]}function fh(i){var l=In(),m=l.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=i;var x=m.dispatch,w=m.pending,k=l.memoizedState;if(w!==null){m.pending=null;var E=w=w.next;do k=i(k,E.action),E=E.next;while(E!==w);Xn(k,l.memoizedState)||(cn=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),m.lastRenderedState=k}return[k,x]}function Ej(){}function Oj(i,l){var m=qt,x=In(),w=l(),k=!Xn(x.memoizedState,w);if(k&&(x.memoizedState=w,cn=!0),x=x.queue,ph(Mj.bind(null,m,x,i),[i]),x.getSnapshot!==l||k||xr!==null&&xr.memoizedState.tag&1){if(m.flags|=2048,nc(9,Ij.bind(null,m,x,w,l),void 0,null),yr===null)throw Error(n(349));(wi&30)!==0||Tj(m,l,w)}return w}function Tj(i,l,m){i.flags|=16384,i={getSnapshot:l,value:m},l=qt.updateQueue,l===null?(l={lastEffect:null,stores:null},qt.updateQueue=l,l.stores=[i]):(m=l.stores,m===null?l.stores=[i]:m.push(i))}function Ij(i,l,m,x){l.value=m,l.getSnapshot=x,Dj(l)&&Lj(i)}function Mj(i,l,m){return m(function(){Dj(l)&&Lj(i)})}function Dj(i){var l=i.getSnapshot;i=i.value;try{var m=l();return!Xn(i,m)}catch{return!0}}function Lj(i){var l=qa(i,1);l!==null&&ta(l,i,1,-1)}function $j(i){var l=ga();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:i},l.queue=i,i=i.dispatch=O3.bind(null,qt,i),[l.memoizedState,i]}function nc(i,l,m,x){return i={tag:i,create:l,destroy:m,deps:x,next:null},l=qt.updateQueue,l===null?(l={lastEffect:null,stores:null},qt.updateQueue=l,l.lastEffect=i.next=i):(m=l.lastEffect,m===null?l.lastEffect=i.next=i:(x=m.next,m.next=i,i.next=x,l.lastEffect=i)),i}function zj(){return In().memoizedState}function ru(i,l,m,x){var w=ga();qt.flags|=i,w.memoizedState=nc(1|l,m,void 0,x===void 0?null:x)}function nu(i,l,m,x){var w=In();x=x===void 0?null:x;var k=void 0;if(cr!==null){var E=cr.memoizedState;if(k=E.destroy,x!==null&&ch(x,E.deps)){w.memoizedState=nc(l,m,k,x);return}}qt.flags|=i,w.memoizedState=nc(1|l,m,k,x)}function Rj(i,l){return ru(8390656,8,i,l)}function ph(i,l){return nu(2048,8,i,l)}function Fj(i,l){return nu(4,2,i,l)}function Bj(i,l){return nu(4,4,i,l)}function Uj(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function qj(i,l,m){return m=m!=null?m.concat([i]):null,nu(4,4,Uj.bind(null,l,i),m)}function hh(){}function Kj(i,l){var m=In();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&ch(l,x[1])?x[0]:(m.memoizedState=[i,l],i)}function Wj(i,l){var m=In();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&ch(l,x[1])?x[0]:(i=i(),m.memoizedState=[i,l],i)}function Hj(i,l,m){return(wi&21)===0?(i.baseState&&(i.baseState=!1,cn=!0),i.memoizedState=m):(Xn(m,l)||(m=wb(),qt.lanes|=m,Ni|=m,i.baseState=!0),l)}function A3(i,l){var m=wt;wt=m!==0&&4>m?m:4,i(!0);var x=lh.transition;lh.transition={};try{i(!1),l()}finally{wt=m,lh.transition=x}}function Vj(){return In().memoizedState}function E3(i,l,m){var x=Ys(i);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},Gj(i))Yj(l,m);else if(m=kj(i,l,m,x),m!==null){var w=Zr();ta(m,i,x,w),Xj(m,l,x)}}function O3(i,l,m){var x=Ys(i),w={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(Gj(i))Yj(l,w);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var E=l.lastRenderedState,q=k(E,m);if(w.hasEagerState=!0,w.eagerState=q,Xn(q,E)){var X=l.interleaved;X===null?(w.next=w,rh(l)):(w.next=X.next,X.next=w),l.interleaved=w;return}}catch{}m=kj(i,l,w,x),m!==null&&(w=Zr(),ta(m,i,x,w),Xj(m,l,x))}}function Gj(i){var l=i.alternate;return i===qt||l!==null&&l===qt}function Yj(i,l){ec=tu=!0;var m=i.pending;m===null?l.next=l:(l.next=m.next,m.next=l),i.pending=l}function Xj(i,l,m){if((m&4194240)!==0){var x=l.lanes;x&=i.pendingLanes,m|=x,l.lanes=m,xp(i,m)}}var au={readContext:Tn,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},T3={readContext:Tn,useCallback:function(i,l){return ga().memoizedState=[i,l===void 0?null:l],i},useContext:Tn,useEffect:Rj,useImperativeHandle:function(i,l,m){return m=m!=null?m.concat([i]):null,ru(4194308,4,Uj.bind(null,l,i),m)},useLayoutEffect:function(i,l){return ru(4194308,4,i,l)},useInsertionEffect:function(i,l){return ru(4,2,i,l)},useMemo:function(i,l){var m=ga();return l=l===void 0?null:l,i=i(),m.memoizedState=[i,l],i},useReducer:function(i,l,m){var x=ga();return l=m!==void 0?m(l):l,x.memoizedState=x.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},x.queue=i,i=i.dispatch=E3.bind(null,qt,i),[x.memoizedState,i]},useRef:function(i){var l=ga();return i={current:i},l.memoizedState=i},useState:$j,useDebugValue:hh,useDeferredValue:function(i){return ga().memoizedState=i},useTransition:function(){var i=$j(!1),l=i[0];return i=A3.bind(null,i[1]),ga().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,m){var x=qt,w=ga();if($t){if(m===void 0)throw Error(n(407));m=m()}else{if(m=l(),yr===null)throw Error(n(349));(wi&30)!==0||Tj(x,l,m)}w.memoizedState=m;var k={value:m,getSnapshot:l};return w.queue=k,Rj(Mj.bind(null,x,k,i),[i]),x.flags|=2048,nc(9,Ij.bind(null,x,k,m,l),void 0,null),m},useId:function(){var i=ga(),l=yr.identifierPrefix;if($t){var m=Ua,x=Ba;m=(x&~(1<<32-Yn(x)-1)).toString(32)+m,l=":"+l+"R"+m,m=tc++,0<m&&(l+="H"+m.toString(32)),l+=":"}else m=C3++,l=":"+l+"r"+m.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},I3={readContext:Tn,useCallback:Kj,useContext:Tn,useEffect:ph,useImperativeHandle:qj,useInsertionEffect:Fj,useLayoutEffect:Bj,useMemo:Wj,useReducer:mh,useRef:zj,useState:function(){return mh(rc)},useDebugValue:hh,useDeferredValue:function(i){var l=In();return Hj(l,cr.memoizedState,i)},useTransition:function(){var i=mh(rc)[0],l=In().memoizedState;return[i,l]},useMutableSource:Ej,useSyncExternalStore:Oj,useId:Vj,unstable_isNewReconciler:!1},M3={readContext:Tn,useCallback:Kj,useContext:Tn,useEffect:ph,useImperativeHandle:qj,useInsertionEffect:Fj,useLayoutEffect:Bj,useMemo:Wj,useReducer:fh,useRef:zj,useState:function(){return fh(rc)},useDebugValue:hh,useDeferredValue:function(i){var l=In();return cr===null?l.memoizedState=i:Hj(l,cr.memoizedState,i)},useTransition:function(){var i=fh(rc)[0],l=In().memoizedState;return[i,l]},useMutableSource:Ej,useSyncExternalStore:Oj,useId:Vj,unstable_isNewReconciler:!1};function Zn(i,l){if(i&&i.defaultProps){l=ce({},l),i=i.defaultProps;for(var m in i)l[m]===void 0&&(l[m]=i[m]);return l}return l}function gh(i,l,m,x){l=i.memoizedState,m=m(x,l),m=m==null?l:ce({},l,m),i.memoizedState=m,i.lanes===0&&(i.updateQueue.baseState=m)}var su={isMounted:function(i){return(i=i._reactInternals)?za(i)===i:!1},enqueueSetState:function(i,l,m){i=i._reactInternals;var x=Zr(),w=Ys(i),k=Ka(x,w);k.payload=l,m!=null&&(k.callback=m),l=Ws(i,k,w),l!==null&&(ta(l,i,w,x),Jd(l,i,w))},enqueueReplaceState:function(i,l,m){i=i._reactInternals;var x=Zr(),w=Ys(i),k=Ka(x,w);k.tag=1,k.payload=l,m!=null&&(k.callback=m),l=Ws(i,k,w),l!==null&&(ta(l,i,w,x),Jd(l,i,w))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var m=Zr(),x=Ys(i),w=Ka(m,x);w.tag=2,l!=null&&(w.callback=l),l=Ws(i,w,x),l!==null&&(ta(l,i,x,m),Jd(l,i,x))}};function Jj(i,l,m,x,w,k,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,k,E):l.prototype&&l.prototype.isPureReactComponent?!ql(m,x)||!ql(w,k):!0}function Zj(i,l,m){var x=!1,w=Us,k=l.contextType;return typeof k=="object"&&k!==null?k=Tn(k):(w=ln(l)?xi:$r.current,x=l.contextTypes,k=(x=x!=null)?go(i,w):Us),l=new l(m,k),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=su,i.stateNode=l,l._reactInternals=i,x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=k),l}function Qj(i,l,m,x){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,x),l.state!==i&&su.enqueueReplaceState(l,l.state,null)}function xh(i,l,m,x){var w=i.stateNode;w.props=m,w.state=i.memoizedState,w.refs={},nh(i);var k=l.contextType;typeof k=="object"&&k!==null?w.context=Tn(k):(k=ln(l)?xi:$r.current,w.context=go(i,k)),w.state=i.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(gh(i,l,k,m),w.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&su.enqueueReplaceState(w,w.state,null),Zd(i,m,w,x),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function _o(i,l){try{var m="",x=l;do m+=ue(x),x=x.return;while(x);var w=m}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:l,stack:w,digest:null}}function yh(i,l,m){return{value:i,source:null,stack:m??null,digest:l??null}}function vh(i,l){try{console.error(l.value)}catch(m){setTimeout(function(){throw m})}}var D3=typeof WeakMap=="function"?WeakMap:Map;function ew(i,l,m){m=Ka(-1,m),m.tag=3,m.payload={element:null};var x=l.value;return m.callback=function(){mu||(mu=!0,Mh=x),vh(i,l)},m}function tw(i,l,m){m=Ka(-1,m),m.tag=3;var x=i.type.getDerivedStateFromError;if(typeof x=="function"){var w=l.value;m.payload=function(){return x(w)},m.callback=function(){vh(i,l)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(m.callback=function(){vh(i,l),typeof x!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})}),m}function rw(i,l,m){var x=i.pingCache;if(x===null){x=i.pingCache=new D3;var w=new Set;x.set(l,w)}else w=x.get(l),w===void 0&&(w=new Set,x.set(l,w));w.has(m)||(w.add(m),i=Y3.bind(null,i,l,m),l.then(i,i))}function nw(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function aw(i,l,m,x,w){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(l=Ka(-1,1),l.tag=2,Ws(m,l,1))),m.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var L3=C.ReactCurrentOwner,cn=!1;function Jr(i,l,m,x){l.child=i===null?_j(l,null,m,x):bo(l,i.child,m,x)}function sw(i,l,m,x,w){m=m.render;var k=l.ref;return wo(l,w),x=dh(i,l,m,x,k,w),m=uh(),i!==null&&!cn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~w,Wa(i,l,w)):($t&&m&&Vp(l),l.flags|=1,Jr(i,l,x,w),l.child)}function iw(i,l,m,x,w){if(i===null){var k=m.type;return typeof k=="function"&&!Bh(k)&&k.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(l.tag=15,l.type=k,ow(i,l,k,x,w)):(i=yu(m.type,null,x,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(k=i.child,(i.lanes&w)===0){var E=k.memoizedProps;if(m=m.compare,m=m!==null?m:ql,m(E,x)&&i.ref===l.ref)return Wa(i,l,w)}return l.flags|=1,i=Js(k,x),i.ref=l.ref,i.return=l,l.child=i}function ow(i,l,m,x,w){if(i!==null){var k=i.memoizedProps;if(ql(k,x)&&i.ref===l.ref)if(cn=!1,l.pendingProps=x=k,(i.lanes&w)!==0)(i.flags&131072)!==0&&(cn=!0);else return l.lanes=i.lanes,Wa(i,l,w)}return bh(i,l,m,x,w)}function lw(i,l,m){var x=l.pendingProps,w=x.children,k=i!==null?i.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(So,bn),bn|=m;else{if((m&1073741824)===0)return i=k!==null?k.baseLanes|m:m,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,At(So,bn),bn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:m,At(So,bn),bn|=x}else k!==null?(x=k.baseLanes|m,l.memoizedState=null):x=m,At(So,bn),bn|=x;return Jr(i,l,w,m),l.child}function cw(i,l){var m=l.ref;(i===null&&m!==null||i!==null&&i.ref!==m)&&(l.flags|=512,l.flags|=2097152)}function bh(i,l,m,x,w){var k=ln(m)?xi:$r.current;return k=go(l,k),wo(l,w),m=dh(i,l,m,x,k,w),x=uh(),i!==null&&!cn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~w,Wa(i,l,w)):($t&&x&&Vp(l),l.flags|=1,Jr(i,l,m,w),l.child)}function dw(i,l,m,x,w){if(ln(m)){var k=!0;qd(l)}else k=!1;if(wo(l,w),l.stateNode===null)ou(i,l),Zj(l,m,x),xh(l,m,x,w),x=!0;else if(i===null){var E=l.stateNode,q=l.memoizedProps;E.props=q;var X=E.context,de=m.contextType;typeof de=="object"&&de!==null?de=Tn(de):(de=ln(m)?xi:$r.current,de=go(l,de));var we=m.getDerivedStateFromProps,_e=typeof we=="function"||typeof E.getSnapshotBeforeUpdate=="function";_e||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(q!==x||X!==de)&&Qj(l,E,x,de),Ks=!1;var be=l.memoizedState;E.state=be,Zd(l,x,E,w),X=l.memoizedState,q!==x||be!==X||on.current||Ks?(typeof we=="function"&&(gh(l,m,we,x),X=l.memoizedState),(q=Ks||Jj(l,m,q,x,be,X,de))?(_e||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=X),E.props=x,E.state=X,E.context=de,x=q):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{E=l.stateNode,Sj(i,l),q=l.memoizedProps,de=l.type===l.elementType?q:Zn(l.type,q),E.props=de,_e=l.pendingProps,be=E.context,X=m.contextType,typeof X=="object"&&X!==null?X=Tn(X):(X=ln(m)?xi:$r.current,X=go(l,X));var ze=m.getDerivedStateFromProps;(we=typeof ze=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(q!==_e||be!==X)&&Qj(l,E,x,X),Ks=!1,be=l.memoizedState,E.state=be,Zd(l,x,E,w);var Ue=l.memoizedState;q!==_e||be!==Ue||on.current||Ks?(typeof ze=="function"&&(gh(l,m,ze,x),Ue=l.memoizedState),(de=Ks||Jj(l,m,de,x,be,Ue,X)||!1)?(we||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(x,Ue,X),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(x,Ue,X)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||q===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Ue),E.props=x,E.state=Ue,E.context=X,x=de):(typeof E.componentDidUpdate!="function"||q===i.memoizedProps&&be===i.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||q===i.memoizedProps&&be===i.memoizedState||(l.flags|=1024),x=!1)}return jh(i,l,m,x,k,w)}function jh(i,l,m,x,w,k){cw(i,l);var E=(l.flags&128)!==0;if(!x&&!E)return w&&hj(l,m,!1),Wa(i,l,k);x=l.stateNode,L3.current=l;var q=E&&typeof m.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,i!==null&&E?(l.child=bo(l,i.child,null,k),l.child=bo(l,null,q,k)):Jr(i,l,q,k),l.memoizedState=x.state,w&&hj(l,m,!0),l.child}function uw(i){var l=i.stateNode;l.pendingContext?fj(i,l.pendingContext,l.pendingContext!==l.context):l.context&&fj(i,l.context,!1),ah(i,l.containerInfo)}function mw(i,l,m,x,w){return vo(),Jp(w),l.flags|=256,Jr(i,l,m,x),l.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function Nh(i){return{baseLanes:i,cachePool:null,transitions:null}}function fw(i,l,m){var x=l.pendingProps,w=Ut.current,k=!1,E=(l.flags&128)!==0,q;if((q=E)||(q=i!==null&&i.memoizedState===null?!1:(w&2)!==0),q?(k=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),At(Ut,w&1),i===null)return Xp(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(E=x.children,i=x.fallback,k?(x=l.mode,k=l.child,E={mode:"hidden",children:E},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=E):k=vu(E,x,0,null),i=Pi(i,x,m,null),k.return=l,i.return=l,k.sibling=i,l.child=k,l.child.memoizedState=Nh(m),l.memoizedState=wh,i):_h(l,E));if(w=i.memoizedState,w!==null&&(q=w.dehydrated,q!==null))return $3(i,l,E,x,q,w,m);if(k){k=x.fallback,E=l.mode,w=i.child,q=w.sibling;var X={mode:"hidden",children:x.children};return(E&1)===0&&l.child!==w?(x=l.child,x.childLanes=0,x.pendingProps=X,l.deletions=null):(x=Js(w,X),x.subtreeFlags=w.subtreeFlags&14680064),q!==null?k=Js(q,k):(k=Pi(k,E,m,null),k.flags|=2),k.return=l,x.return=l,x.sibling=k,l.child=x,x=k,k=l.child,E=i.child.memoizedState,E=E===null?Nh(m):{baseLanes:E.baseLanes|m,cachePool:null,transitions:E.transitions},k.memoizedState=E,k.childLanes=i.childLanes&~m,l.memoizedState=wh,x}return k=i.child,i=k.sibling,x=Js(k,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=m),x.return=l,x.sibling=null,i!==null&&(m=l.deletions,m===null?(l.deletions=[i],l.flags|=16):m.push(i)),l.child=x,l.memoizedState=null,x}function _h(i,l){return l=vu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function iu(i,l,m,x){return x!==null&&Jp(x),bo(l,i.child,null,m),i=_h(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function $3(i,l,m,x,w,k,E){if(m)return l.flags&256?(l.flags&=-257,x=yh(Error(n(422))),iu(i,l,E,x)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(k=x.fallback,w=l.mode,x=vu({mode:"visible",children:x.children},w,0,null),k=Pi(k,w,E,null),k.flags|=2,x.return=l,k.return=l,x.sibling=k,l.child=x,(l.mode&1)!==0&&bo(l,i.child,null,E),l.child.memoizedState=Nh(E),l.memoizedState=wh,k);if((l.mode&1)===0)return iu(i,l,E,null);if(w.data==="$!"){if(x=w.nextSibling&&w.nextSibling.dataset,x)var q=x.dgst;return x=q,k=Error(n(419)),x=yh(k,x,void 0),iu(i,l,E,x)}if(q=(E&i.childLanes)!==0,cn||q){if(x=yr,x!==null){switch(E&-E){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(x.suspendedLanes|E))!==0?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,qa(i,w),ta(x,i,w,-1))}return Fh(),x=yh(Error(n(421))),iu(i,l,E,x)}return w.data==="$?"?(l.flags|=128,l.child=i.child,l=X3.bind(null,i),w._reactRetry=l,null):(i=k.treeContext,vn=Fs(w.nextSibling),yn=l,$t=!0,Jn=null,i!==null&&(En[On++]=Ba,En[On++]=Ua,En[On++]=yi,Ba=i.id,Ua=i.overflow,yi=l),l=_h(l,x.children),l.flags|=4096,l)}function pw(i,l,m){i.lanes|=l;var x=i.alternate;x!==null&&(x.lanes|=l),th(i.return,l,m)}function kh(i,l,m,x,w){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:w}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=m,k.tailMode=w)}function hw(i,l,m){var x=l.pendingProps,w=x.revealOrder,k=x.tail;if(Jr(i,l,x.children,m),x=Ut.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pw(i,m,l);else if(i.tag===19)pw(i,m,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}if(At(Ut,x),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(m=l.child,w=null;m!==null;)i=m.alternate,i!==null&&Qd(i)===null&&(w=m),m=m.sibling;m=w,m===null?(w=l.child,l.child=null):(w=m.sibling,m.sibling=null),kh(l,!1,w,m,k);break;case"backwards":for(m=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&Qd(i)===null){l.child=w;break}i=w.sibling,w.sibling=m,m=w,w=i}kh(l,!0,m,null,k);break;case"together":kh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ou(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Wa(i,l,m){if(i!==null&&(l.dependencies=i.dependencies),Ni|=l.lanes,(m&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(n(153));if(l.child!==null){for(i=l.child,m=Js(i,i.pendingProps),l.child=m,m.return=l;i.sibling!==null;)i=i.sibling,m=m.sibling=Js(i,i.pendingProps),m.return=l;m.sibling=null}return l.child}function z3(i,l,m){switch(l.tag){case 3:uw(l),vo();break;case 5:Aj(l);break;case 1:ln(l.type)&&qd(l);break;case 4:ah(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,w=l.memoizedProps.value;At(Yd,x._currentValue),x._currentValue=w;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(At(Ut,Ut.current&1),l.flags|=128,null):(m&l.child.childLanes)!==0?fw(i,l,m):(At(Ut,Ut.current&1),i=Wa(i,l,m),i!==null?i.sibling:null);At(Ut,Ut.current&1);break;case 19:if(x=(m&l.childLanes)!==0,(i.flags&128)!==0){if(x)return hw(i,l,m);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),At(Ut,Ut.current),x)break;return null;case 22:case 23:return l.lanes=0,lw(i,l,m)}return Wa(i,l,m)}var gw,Sh,xw,yw;gw=function(i,l){for(var m=l.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Sh=function(){},xw=function(i,l,m,x){var w=i.memoizedProps;if(w!==x){i=l.stateNode,ji(ha.current);var k=null;switch(m){case"input":w=Pe(i,w),x=Pe(i,x),k=[];break;case"select":w=ce({},w,{value:void 0}),x=ce({},x,{value:void 0}),k=[];break;case"textarea":w=Te(i,w),x=Te(i,x),k=[];break;default:typeof w.onClick!="function"&&typeof x.onClick=="function"&&(i.onclick=Fd)}Dr(m,x);var E;m=null;for(de in w)if(!x.hasOwnProperty(de)&&w.hasOwnProperty(de)&&w[de]!=null)if(de==="style"){var q=w[de];for(E in q)q.hasOwnProperty(E)&&(m||(m={}),m[E]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(s.hasOwnProperty(de)?k||(k=[]):(k=k||[]).push(de,null));for(de in x){var X=x[de];if(q=w?.[de],x.hasOwnProperty(de)&&X!==q&&(X!=null||q!=null))if(de==="style")if(q){for(E in q)!q.hasOwnProperty(E)||X&&X.hasOwnProperty(E)||(m||(m={}),m[E]="");for(E in X)X.hasOwnProperty(E)&&q[E]!==X[E]&&(m||(m={}),m[E]=X[E])}else m||(k||(k=[]),k.push(de,m)),m=X;else de==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,q=q?q.__html:void 0,X!=null&&q!==X&&(k=k||[]).push(de,X)):de==="children"?typeof X!="string"&&typeof X!="number"||(k=k||[]).push(de,""+X):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(s.hasOwnProperty(de)?(X!=null&&de==="onScroll"&&Tt("scroll",i),k||q===X||(k=[])):(k=k||[]).push(de,X))}m&&(k=k||[]).push("style",m);var de=k;(l.updateQueue=de)&&(l.flags|=4)}},yw=function(i,l,m,x){m!==x&&(l.flags|=4)};function ac(i,l){if(!$t)switch(i.tailMode){case"hidden":l=i.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?i.tail=null:m.sibling=null;break;case"collapsed":m=i.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Rr(i){var l=i.alternate!==null&&i.alternate.child===i.child,m=0,x=0;if(l)for(var w=i.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags&14680064,x|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=x,i.childLanes=m,l}function R3(i,l,m){var x=l.pendingProps;switch(Gp(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(l),null;case 1:return ln(l.type)&&Ud(),Rr(l),null;case 3:return x=l.stateNode,No(),It(on),It($r),oh(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(i===null||i.child===null)&&(Vd(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Jn!==null&&($h(Jn),Jn=null))),Sh(i,l),Rr(l),null;case 5:sh(l);var w=ji(Ql.current);if(m=l.type,i!==null&&l.stateNode!=null)xw(i,l,m,x,w),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(n(166));return Rr(l),null}if(i=ji(ha.current),Vd(l)){x=l.stateNode,m=l.type;var k=l.memoizedProps;switch(x[pa]=l,x[Gl]=k,i=(l.mode&1)!==0,m){case"dialog":Tt("cancel",x),Tt("close",x);break;case"iframe":case"object":case"embed":Tt("load",x);break;case"video":case"audio":for(w=0;w<Wl.length;w++)Tt(Wl[w],x);break;case"source":Tt("error",x);break;case"img":case"image":case"link":Tt("error",x),Tt("load",x);break;case"details":Tt("toggle",x);break;case"input":Ze(x,k),Tt("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},Tt("invalid",x);break;case"textarea":De(x,k),Tt("invalid",x)}Dr(m,k),w=null;for(var E in k)if(k.hasOwnProperty(E)){var q=k[E];E==="children"?typeof q=="string"?x.textContent!==q&&(k.suppressHydrationWarning!==!0&&Rd(x.textContent,q,i),w=["children",q]):typeof q=="number"&&x.textContent!==""+q&&(k.suppressHydrationWarning!==!0&&Rd(x.textContent,q,i),w=["children",""+q]):s.hasOwnProperty(E)&&q!=null&&E==="onScroll"&&Tt("scroll",x)}switch(m){case"input":oe(x),Je(x,k,!0);break;case"textarea":oe(x),at(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=Fd)}x=w,l.updateQueue=x,x!==null&&(l.flags|=4)}else{E=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(m)),i==="http://www.w3.org/1999/xhtml"?m==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof x.is=="string"?i=E.createElement(m,{is:x.is}):(i=E.createElement(m),m==="select"&&(E=i,x.multiple?E.multiple=!0:x.size&&(E.size=x.size))):i=E.createElementNS(i,m),i[pa]=l,i[Gl]=x,gw(i,l,!1,!1),l.stateNode=i;e:{switch(E=ma(m,x),m){case"dialog":Tt("cancel",i),Tt("close",i),w=x;break;case"iframe":case"object":case"embed":Tt("load",i),w=x;break;case"video":case"audio":for(w=0;w<Wl.length;w++)Tt(Wl[w],i);w=x;break;case"source":Tt("error",i),w=x;break;case"img":case"image":case"link":Tt("error",i),Tt("load",i),w=x;break;case"details":Tt("toggle",i),w=x;break;case"input":Ze(i,x),w=Pe(i,x),Tt("invalid",i);break;case"option":w=x;break;case"select":i._wrapperState={wasMultiple:!!x.multiple},w=ce({},x,{value:void 0}),Tt("invalid",i);break;case"textarea":De(i,x),w=Te(i,x),Tt("invalid",i);break;default:w=x}Dr(m,w),q=w;for(k in q)if(q.hasOwnProperty(k)){var X=q[k];k==="style"?Er(i,X):k==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&fe(i,X)):k==="children"?typeof X=="string"?(m!=="textarea"||X!=="")&&ye(i,X):typeof X=="number"&&ye(i,""+X):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?X!=null&&k==="onScroll"&&Tt("scroll",i):X!=null&&P(i,k,X,E))}switch(m){case"input":oe(i),Je(i,x,!1);break;case"textarea":oe(i),at(i);break;case"option":x.value!=null&&i.setAttribute("value",""+Ne(x.value));break;case"select":i.multiple=!!x.multiple,k=x.value,k!=null?Ae(i,!!x.multiple,k,!1):x.defaultValue!=null&&Ae(i,!!x.multiple,x.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Fd)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Rr(l),null;case 6:if(i&&l.stateNode!=null)yw(i,l,i.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(m=ji(Ql.current),ji(ha.current),Vd(l)){if(x=l.stateNode,m=l.memoizedProps,x[pa]=l,(k=x.nodeValue!==m)&&(i=yn,i!==null))switch(i.tag){case 3:Rd(x.nodeValue,m,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Rd(x.nodeValue,m,(i.mode&1)!==0)}k&&(l.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[pa]=l,l.stateNode=x}return Rr(l),null;case 13:if(It(Ut),x=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if($t&&vn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)jj(),vo(),l.flags|=98560,k=!1;else if(k=Vd(l),x!==null&&x.dehydrated!==null){if(i===null){if(!k)throw Error(n(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[pa]=l}else vo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Rr(l),k=!1}else Jn!==null&&($h(Jn),Jn=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=m,l):(x=x!==null,x!==(i!==null&&i.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Ut.current&1)!==0?dr===0&&(dr=3):Fh())),l.updateQueue!==null&&(l.flags|=4),Rr(l),null);case 4:return No(),Sh(i,l),i===null&&Hl(l.stateNode.containerInfo),Rr(l),null;case 10:return eh(l.type._context),Rr(l),null;case 17:return ln(l.type)&&Ud(),Rr(l),null;case 19:if(It(Ut),k=l.memoizedState,k===null)return Rr(l),null;if(x=(l.flags&128)!==0,E=k.rendering,E===null)if(x)ac(k,!1);else{if(dr!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(E=Qd(i),E!==null){for(l.flags|=128,ac(k,!1),x=E.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=m,m=l.child;m!==null;)k=m,i=x,k.flags&=14680066,E=k.alternate,E===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=E.childLanes,k.lanes=E.lanes,k.child=E.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=E.memoizedProps,k.memoizedState=E.memoizedState,k.updateQueue=E.updateQueue,k.type=E.type,i=E.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),m=m.sibling;return At(Ut,Ut.current&1|2),l.child}i=i.sibling}k.tail!==null&&Jt()>Po&&(l.flags|=128,x=!0,ac(k,!1),l.lanes=4194304)}else{if(!x)if(i=Qd(E),i!==null){if(l.flags|=128,x=!0,m=i.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),ac(k,!0),k.tail===null&&k.tailMode==="hidden"&&!E.alternate&&!$t)return Rr(l),null}else 2*Jt()-k.renderingStartTime>Po&&m!==1073741824&&(l.flags|=128,x=!0,ac(k,!1),l.lanes=4194304);k.isBackwards?(E.sibling=l.child,l.child=E):(m=k.last,m!==null?m.sibling=E:l.child=E,k.last=E)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=Jt(),l.sibling=null,m=Ut.current,At(Ut,x?m&1|2:m&1),l):(Rr(l),null);case 22:case 23:return Rh(),x=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(bn&1073741824)!==0&&(Rr(l),l.subtreeFlags&6&&(l.flags|=8192)):Rr(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function F3(i,l){switch(Gp(l),l.tag){case 1:return ln(l.type)&&Ud(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return No(),It(on),It($r),oh(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return sh(l),null;case 13:if(It(Ut),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(n(340));vo()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return It(Ut),null;case 4:return No(),null;case 10:return eh(l.type._context),null;case 22:case 23:return Rh(),null;case 24:return null;default:return null}}var lu=!1,Fr=!1,B3=typeof WeakSet=="function"?WeakSet:Set,Re=null;function ko(i,l){var m=i.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Wt(i,l,x)}else m.current=null}function Ph(i,l,m){try{m()}catch(x){Wt(i,l,x)}}var vw=!1;function U3(i,l){if(Rp=Cd,i=Jb(),Op(i)){if("selectionStart"in i)var m={start:i.selectionStart,end:i.selectionEnd};else e:{m=(m=i.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var w=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var E=0,q=-1,X=-1,de=0,we=0,_e=i,be=null;t:for(;;){for(var ze;_e!==m||w!==0&&_e.nodeType!==3||(q=E+w),_e!==k||x!==0&&_e.nodeType!==3||(X=E+x),_e.nodeType===3&&(E+=_e.nodeValue.length),(ze=_e.firstChild)!==null;)be=_e,_e=ze;for(;;){if(_e===i)break t;if(be===m&&++de===w&&(q=E),be===k&&++we===x&&(X=E),(ze=_e.nextSibling)!==null)break;_e=be,be=_e.parentNode}_e=ze}m=q===-1||X===-1?null:{start:q,end:X}}else m=null}m=m||{start:0,end:0}}else m=null;for(Fp={focusedElem:i,selectionRange:m},Cd=!1,Re=l;Re!==null;)if(l=Re,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Re=i;else for(;Re!==null;){l=Re;try{var Ue=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var We=Ue.memoizedProps,Zt=Ue.memoizedState,ne=l.stateNode,Z=ne.getSnapshotBeforeUpdate(l.elementType===l.type?We:Zn(l.type,We),Zt);ne.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var ie=l.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ce){Wt(l,l.return,Ce)}if(i=l.sibling,i!==null){i.return=l.return,Re=i;break}Re=l.return}return Ue=vw,vw=!1,Ue}function sc(i,l,m){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var w=x=x.next;do{if((w.tag&i)===i){var k=w.destroy;w.destroy=void 0,k!==void 0&&Ph(l,m,k)}w=w.next}while(w!==x)}}function cu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var m=l=l.next;do{if((m.tag&i)===i){var x=m.create;m.destroy=x()}m=m.next}while(m!==l)}}function Ch(i){var l=i.ref;if(l!==null){var m=i.stateNode;i.tag,i=m,typeof l=="function"?l(i):l.current=i}}function bw(i){var l=i.alternate;l!==null&&(i.alternate=null,bw(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[pa],delete l[Gl],delete l[Kp],delete l[_3],delete l[k3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function jw(i){return i.tag===5||i.tag===3||i.tag===4}function ww(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||jw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ah(i,l,m){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?m.nodeType===8?m.parentNode.insertBefore(i,l):m.insertBefore(i,l):(m.nodeType===8?(l=m.parentNode,l.insertBefore(i,m)):(l=m,l.appendChild(i)),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Fd));else if(x!==4&&(i=i.child,i!==null))for(Ah(i,l,m),i=i.sibling;i!==null;)Ah(i,l,m),i=i.sibling}function Eh(i,l,m){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?m.insertBefore(i,l):m.appendChild(i);else if(x!==4&&(i=i.child,i!==null))for(Eh(i,l,m),i=i.sibling;i!==null;)Eh(i,l,m),i=i.sibling}var Or=null,Qn=!1;function Hs(i,l,m){for(m=m.child;m!==null;)Nw(i,l,m),m=m.sibling}function Nw(i,l,m){if(fa&&typeof fa.onCommitFiberUnmount=="function")try{fa.onCommitFiberUnmount(wd,m)}catch{}switch(m.tag){case 5:Fr||ko(m,l);case 6:var x=Or,w=Qn;Or=null,Hs(i,l,m),Or=x,Qn=w,Or!==null&&(Qn?(i=Or,m=m.stateNode,i.nodeType===8?i.parentNode.removeChild(m):i.removeChild(m)):Or.removeChild(m.stateNode));break;case 18:Or!==null&&(Qn?(i=Or,m=m.stateNode,i.nodeType===8?qp(i.parentNode,m):i.nodeType===1&&qp(i,m),$l(i)):qp(Or,m.stateNode));break;case 4:x=Or,w=Qn,Or=m.stateNode.containerInfo,Qn=!0,Hs(i,l,m),Or=x,Qn=w;break;case 0:case 11:case 14:case 15:if(!Fr&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){w=x=x.next;do{var k=w,E=k.destroy;k=k.tag,E!==void 0&&((k&2)!==0||(k&4)!==0)&&Ph(m,l,E),w=w.next}while(w!==x)}Hs(i,l,m);break;case 1:if(!Fr&&(ko(m,l),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(q){Wt(m,l,q)}Hs(i,l,m);break;case 21:Hs(i,l,m);break;case 22:m.mode&1?(Fr=(x=Fr)||m.memoizedState!==null,Hs(i,l,m),Fr=x):Hs(i,l,m);break;default:Hs(i,l,m)}}function _w(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var m=i.stateNode;m===null&&(m=i.stateNode=new B3),l.forEach(function(x){var w=J3.bind(null,i,x);m.has(x)||(m.add(x),x.then(w,w))})}}function ea(i,l){var m=l.deletions;if(m!==null)for(var x=0;x<m.length;x++){var w=m[x];try{var k=i,E=l,q=E;e:for(;q!==null;){switch(q.tag){case 5:Or=q.stateNode,Qn=!1;break e;case 3:Or=q.stateNode.containerInfo,Qn=!0;break e;case 4:Or=q.stateNode.containerInfo,Qn=!0;break e}q=q.return}if(Or===null)throw Error(n(160));Nw(k,E,w),Or=null,Qn=!1;var X=w.alternate;X!==null&&(X.return=null),w.return=null}catch(de){Wt(w,l,de)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)kw(l,i),l=l.sibling}function kw(i,l){var m=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ea(l,i),xa(i),x&4){try{sc(3,i,i.return),cu(3,i)}catch(We){Wt(i,i.return,We)}try{sc(5,i,i.return)}catch(We){Wt(i,i.return,We)}}break;case 1:ea(l,i),xa(i),x&512&&m!==null&&ko(m,m.return);break;case 5:if(ea(l,i),xa(i),x&512&&m!==null&&ko(m,m.return),i.flags&32){var w=i.stateNode;try{ye(w,"")}catch(We){Wt(i,i.return,We)}}if(x&4&&(w=i.stateNode,w!=null)){var k=i.memoizedProps,E=m!==null?m.memoizedProps:k,q=i.type,X=i.updateQueue;if(i.updateQueue=null,X!==null)try{q==="input"&&k.type==="radio"&&k.name!=null&&he(w,k),ma(q,E);var de=ma(q,k);for(E=0;E<X.length;E+=2){var we=X[E],_e=X[E+1];we==="style"?Er(w,_e):we==="dangerouslySetInnerHTML"?fe(w,_e):we==="children"?ye(w,_e):P(w,we,_e,de)}switch(q){case"input":pe(w,k);break;case"textarea":$e(w,k);break;case"select":var be=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var ze=k.value;ze!=null?Ae(w,!!k.multiple,ze,!1):be!==!!k.multiple&&(k.defaultValue!=null?Ae(w,!!k.multiple,k.defaultValue,!0):Ae(w,!!k.multiple,k.multiple?[]:"",!1))}w[Gl]=k}catch(We){Wt(i,i.return,We)}}break;case 6:if(ea(l,i),xa(i),x&4){if(i.stateNode===null)throw Error(n(162));w=i.stateNode,k=i.memoizedProps;try{w.nodeValue=k}catch(We){Wt(i,i.return,We)}}break;case 3:if(ea(l,i),xa(i),x&4&&m!==null&&m.memoizedState.isDehydrated)try{$l(l.containerInfo)}catch(We){Wt(i,i.return,We)}break;case 4:ea(l,i),xa(i);break;case 13:ea(l,i),xa(i),w=i.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(Ih=Jt())),x&4&&_w(i);break;case 22:if(we=m!==null&&m.memoizedState!==null,i.mode&1?(Fr=(de=Fr)||we,ea(l,i),Fr=de):ea(l,i),xa(i),x&8192){if(de=i.memoizedState!==null,(i.stateNode.isHidden=de)&&!we&&(i.mode&1)!==0)for(Re=i,we=i.child;we!==null;){for(_e=Re=we;Re!==null;){switch(be=Re,ze=be.child,be.tag){case 0:case 11:case 14:case 15:sc(4,be,be.return);break;case 1:ko(be,be.return);var Ue=be.stateNode;if(typeof Ue.componentWillUnmount=="function"){x=be,m=be.return;try{l=x,Ue.props=l.memoizedProps,Ue.state=l.memoizedState,Ue.componentWillUnmount()}catch(We){Wt(x,m,We)}}break;case 5:ko(be,be.return);break;case 22:if(be.memoizedState!==null){Cw(_e);continue}}ze!==null?(ze.return=be,Re=ze):Cw(_e)}we=we.sibling}e:for(we=null,_e=i;;){if(_e.tag===5){if(we===null){we=_e;try{w=_e.stateNode,de?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(q=_e.stateNode,X=_e.memoizedProps.style,E=X!=null&&X.hasOwnProperty("display")?X.display:null,q.style.display=Ie("display",E))}catch(We){Wt(i,i.return,We)}}}else if(_e.tag===6){if(we===null)try{_e.stateNode.nodeValue=de?"":_e.memoizedProps}catch(We){Wt(i,i.return,We)}}else if((_e.tag!==22&&_e.tag!==23||_e.memoizedState===null||_e===i)&&_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===i)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===i)break e;we===_e&&(we=null),_e=_e.return}we===_e&&(we=null),_e.sibling.return=_e.return,_e=_e.sibling}}break;case 19:ea(l,i),xa(i),x&4&&_w(i);break;case 21:break;default:ea(l,i),xa(i)}}function xa(i){var l=i.flags;if(l&2){try{e:{for(var m=i.return;m!==null;){if(jw(m)){var x=m;break e}m=m.return}throw Error(n(160))}switch(x.tag){case 5:var w=x.stateNode;x.flags&32&&(ye(w,""),x.flags&=-33);var k=ww(i);Eh(i,k,w);break;case 3:case 4:var E=x.stateNode.containerInfo,q=ww(i);Ah(i,q,E);break;default:throw Error(n(161))}}catch(X){Wt(i,i.return,X)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function q3(i,l,m){Re=i,Sw(i)}function Sw(i,l,m){for(var x=(i.mode&1)!==0;Re!==null;){var w=Re,k=w.child;if(w.tag===22&&x){var E=w.memoizedState!==null||lu;if(!E){var q=w.alternate,X=q!==null&&q.memoizedState!==null||Fr;q=lu;var de=Fr;if(lu=E,(Fr=X)&&!de)for(Re=w;Re!==null;)E=Re,X=E.child,E.tag===22&&E.memoizedState!==null?Aw(w):X!==null?(X.return=E,Re=X):Aw(w);for(;k!==null;)Re=k,Sw(k),k=k.sibling;Re=w,lu=q,Fr=de}Pw(i)}else(w.subtreeFlags&8772)!==0&&k!==null?(k.return=w,Re=k):Pw(i)}}function Pw(i){for(;Re!==null;){var l=Re;if((l.flags&8772)!==0){var m=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Fr||cu(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!Fr)if(m===null)x.componentDidMount();else{var w=l.elementType===l.type?m.memoizedProps:Zn(l.type,m.memoizedProps);x.componentDidUpdate(w,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&Cj(l,k,x);break;case 3:var E=l.updateQueue;if(E!==null){if(m=null,l.child!==null)switch(l.child.tag){case 5:m=l.child.stateNode;break;case 1:m=l.child.stateNode}Cj(l,E,m)}break;case 5:var q=l.stateNode;if(m===null&&l.flags&4){m=q;var X=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&m.focus();break;case"img":X.src&&(m.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var de=l.alternate;if(de!==null){var we=de.memoizedState;if(we!==null){var _e=we.dehydrated;_e!==null&&$l(_e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fr||l.flags&512&&Ch(l)}catch(be){Wt(l,l.return,be)}}if(l===i){Re=null;break}if(m=l.sibling,m!==null){m.return=l.return,Re=m;break}Re=l.return}}function Cw(i){for(;Re!==null;){var l=Re;if(l===i){Re=null;break}var m=l.sibling;if(m!==null){m.return=l.return,Re=m;break}Re=l.return}}function Aw(i){for(;Re!==null;){var l=Re;try{switch(l.tag){case 0:case 11:case 15:var m=l.return;try{cu(4,l)}catch(X){Wt(l,m,X)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var w=l.return;try{x.componentDidMount()}catch(X){Wt(l,w,X)}}var k=l.return;try{Ch(l)}catch(X){Wt(l,k,X)}break;case 5:var E=l.return;try{Ch(l)}catch(X){Wt(l,E,X)}}}catch(X){Wt(l,l.return,X)}if(l===i){Re=null;break}var q=l.sibling;if(q!==null){q.return=l.return,Re=q;break}Re=l.return}}var K3=Math.ceil,du=C.ReactCurrentDispatcher,Oh=C.ReactCurrentOwner,Mn=C.ReactCurrentBatchConfig,pt=0,yr=null,nr=null,Tr=0,bn=0,So=Bs(0),dr=0,ic=null,Ni=0,uu=0,Th=0,oc=null,dn=null,Ih=0,Po=1/0,Ha=null,mu=!1,Mh=null,Vs=null,fu=!1,Gs=null,pu=0,lc=0,Dh=null,hu=-1,gu=0;function Zr(){return(pt&6)!==0?Jt():hu!==-1?hu:hu=Jt()}function Ys(i){return(i.mode&1)===0?1:(pt&2)!==0&&Tr!==0?Tr&-Tr:P3.transition!==null?(gu===0&&(gu=wb()),gu):(i=wt,i!==0||(i=window.event,i=i===void 0?16:Ob(i.type)),i)}function ta(i,l,m,x){if(50<lc)throw lc=0,Dh=null,Error(n(185));Tl(i,m,x),((pt&2)===0||i!==yr)&&(i===yr&&((pt&2)===0&&(uu|=m),dr===4&&Xs(i,Tr)),un(i,x),m===1&&pt===0&&(l.mode&1)===0&&(Po=Jt()+500,Kd&&qs()))}function un(i,l){var m=i.callbackNode;PO(i,l);var x=kd(i,i===yr?Tr:0);if(x===0)m!==null&&rr(m),i.callbackNode=null,i.callbackPriority=0;else if(l=x&-x,i.callbackPriority!==l){if(m!=null&&rr(m),l===1)i.tag===0?S3(Ow.bind(null,i)):gj(Ow.bind(null,i)),w3(function(){(pt&6)===0&&qs()}),m=null;else{switch(Nb(x)){case 1:m=pp;break;case 4:m=bb;break;case 16:m=jd;break;case 536870912:m=jb;break;default:m=jd}m=Rw(m,Ew.bind(null,i))}i.callbackPriority=l,i.callbackNode=m}}function Ew(i,l){if(hu=-1,gu=0,(pt&6)!==0)throw Error(n(327));var m=i.callbackNode;if(Co()&&i.callbackNode!==m)return null;var x=kd(i,i===yr?Tr:0);if(x===0)return null;if((x&30)!==0||(x&i.expiredLanes)!==0||l)l=xu(i,x);else{l=x;var w=pt;pt|=2;var k=Iw();(yr!==i||Tr!==l)&&(Ha=null,Po=Jt()+500,ki(i,l));do try{V3();break}catch(q){Tw(i,q)}while(!0);Qp(),du.current=k,pt=w,nr!==null?l=0:(yr=null,Tr=0,l=dr)}if(l!==0){if(l===2&&(w=hp(i),w!==0&&(x=w,l=Lh(i,w))),l===1)throw m=ic,ki(i,0),Xs(i,x),un(i,Jt()),m;if(l===6)Xs(i,x);else{if(w=i.current.alternate,(x&30)===0&&!W3(w)&&(l=xu(i,x),l===2&&(k=hp(i),k!==0&&(x=k,l=Lh(i,k))),l===1))throw m=ic,ki(i,0),Xs(i,x),un(i,Jt()),m;switch(i.finishedWork=w,i.finishedLanes=x,l){case 0:case 1:throw Error(n(345));case 2:Si(i,dn,Ha);break;case 3:if(Xs(i,x),(x&130023424)===x&&(l=Ih+500-Jt(),10<l)){if(kd(i,0)!==0)break;if(w=i.suspendedLanes,(w&x)!==x){Zr(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Up(Si.bind(null,i,dn,Ha),l);break}Si(i,dn,Ha);break;case 4:if(Xs(i,x),(x&4194240)===x)break;for(l=i.eventTimes,w=-1;0<x;){var E=31-Yn(x);k=1<<E,E=l[E],E>w&&(w=E),x&=~k}if(x=w,x=Jt()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*K3(x/1960))-x,10<x){i.timeoutHandle=Up(Si.bind(null,i,dn,Ha),x);break}Si(i,dn,Ha);break;case 5:Si(i,dn,Ha);break;default:throw Error(n(329))}}}return un(i,Jt()),i.callbackNode===m?Ew.bind(null,i):null}function Lh(i,l){var m=oc;return i.current.memoizedState.isDehydrated&&(ki(i,l).flags|=256),i=xu(i,l),i!==2&&(l=dn,dn=m,l!==null&&$h(l)),i}function $h(i){dn===null?dn=i:dn.push.apply(dn,i)}function W3(i){for(var l=i;;){if(l.flags&16384){var m=l.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var w=m[x],k=w.getSnapshot;w=w.value;try{if(!Xn(k(),w))return!1}catch{return!1}}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Xs(i,l){for(l&=~Th,l&=~uu,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var m=31-Yn(l),x=1<<m;i[m]=-1,l&=~x}}function Ow(i){if((pt&6)!==0)throw Error(n(327));Co();var l=kd(i,0);if((l&1)===0)return un(i,Jt()),null;var m=xu(i,l);if(i.tag!==0&&m===2){var x=hp(i);x!==0&&(l=x,m=Lh(i,x))}if(m===1)throw m=ic,ki(i,0),Xs(i,l),un(i,Jt()),m;if(m===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Si(i,dn,Ha),un(i,Jt()),null}function zh(i,l){var m=pt;pt|=1;try{return i(l)}finally{pt=m,pt===0&&(Po=Jt()+500,Kd&&qs())}}function _i(i){Gs!==null&&Gs.tag===0&&(pt&6)===0&&Co();var l=pt;pt|=1;var m=Mn.transition,x=wt;try{if(Mn.transition=null,wt=1,i)return i()}finally{wt=x,Mn.transition=m,pt=l,(pt&6)===0&&qs()}}function Rh(){bn=So.current,It(So)}function ki(i,l){i.finishedWork=null,i.finishedLanes=0;var m=i.timeoutHandle;if(m!==-1&&(i.timeoutHandle=-1,j3(m)),nr!==null)for(m=nr.return;m!==null;){var x=m;switch(Gp(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Ud();break;case 3:No(),It(on),It($r),oh();break;case 5:sh(x);break;case 4:No();break;case 13:It(Ut);break;case 19:It(Ut);break;case 10:eh(x.type._context);break;case 22:case 23:Rh()}m=m.return}if(yr=i,nr=i=Js(i.current,null),Tr=bn=l,dr=0,ic=null,Th=uu=Ni=0,dn=oc=null,bi!==null){for(l=0;l<bi.length;l++)if(m=bi[l],x=m.interleaved,x!==null){m.interleaved=null;var w=x.next,k=m.pending;if(k!==null){var E=k.next;k.next=w,x.next=E}m.pending=x}bi=null}return i}function Tw(i,l){do{var m=nr;try{if(Qp(),eu.current=au,tu){for(var x=qt.memoizedState;x!==null;){var w=x.queue;w!==null&&(w.pending=null),x=x.next}tu=!1}if(wi=0,xr=cr=qt=null,ec=!1,tc=0,Oh.current=null,m===null||m.return===null){dr=1,ic=l,nr=null;break}e:{var k=i,E=m.return,q=m,X=l;if(l=Tr,q.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=X,we=q,_e=we.tag;if((we.mode&1)===0&&(_e===0||_e===11||_e===15)){var be=we.alternate;be?(we.updateQueue=be.updateQueue,we.memoizedState=be.memoizedState,we.lanes=be.lanes):(we.updateQueue=null,we.memoizedState=null)}var ze=nw(E);if(ze!==null){ze.flags&=-257,aw(ze,E,q,k,l),ze.mode&1&&rw(k,de,l),l=ze,X=de;var Ue=l.updateQueue;if(Ue===null){var We=new Set;We.add(X),l.updateQueue=We}else Ue.add(X);break e}else{if((l&1)===0){rw(k,de,l),Fh();break e}X=Error(n(426))}}else if($t&&q.mode&1){var Zt=nw(E);if(Zt!==null){(Zt.flags&65536)===0&&(Zt.flags|=256),aw(Zt,E,q,k,l),Jp(_o(X,q));break e}}k=X=_o(X,q),dr!==4&&(dr=2),oc===null?oc=[k]:oc.push(k),k=E;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var ne=ew(k,X,l);Pj(k,ne);break e;case 1:q=X;var Z=k.type,ie=k.stateNode;if((k.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(Vs===null||!Vs.has(ie)))){k.flags|=65536,l&=-l,k.lanes|=l;var Ce=tw(k,q,l);Pj(k,Ce);break e}}k=k.return}while(k!==null)}Dw(m)}catch(Ye){l=Ye,nr===m&&m!==null&&(nr=m=m.return);continue}break}while(!0)}function Iw(){var i=du.current;return du.current=au,i===null?au:i}function Fh(){(dr===0||dr===3||dr===2)&&(dr=4),yr===null||(Ni&268435455)===0&&(uu&268435455)===0||Xs(yr,Tr)}function xu(i,l){var m=pt;pt|=2;var x=Iw();(yr!==i||Tr!==l)&&(Ha=null,ki(i,l));do try{H3();break}catch(w){Tw(i,w)}while(!0);if(Qp(),pt=m,du.current=x,nr!==null)throw Error(n(261));return yr=null,Tr=0,dr}function H3(){for(;nr!==null;)Mw(nr)}function V3(){for(;nr!==null&&!yO();)Mw(nr)}function Mw(i){var l=zw(i.alternate,i,bn);i.memoizedProps=i.pendingProps,l===null?Dw(i):nr=l,Oh.current=null}function Dw(i){var l=i;do{var m=l.alternate;if(i=l.return,(l.flags&32768)===0){if(m=R3(m,l,bn),m!==null){nr=m;return}}else{if(m=F3(m,l),m!==null){m.flags&=32767,nr=m;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{dr=6,nr=null;return}}if(l=l.sibling,l!==null){nr=l;return}nr=l=i}while(l!==null);dr===0&&(dr=5)}function Si(i,l,m){var x=wt,w=Mn.transition;try{Mn.transition=null,wt=1,G3(i,l,m,x)}finally{Mn.transition=w,wt=x}return null}function G3(i,l,m,x){do Co();while(Gs!==null);if((pt&6)!==0)throw Error(n(327));m=i.finishedWork;var w=i.finishedLanes;if(m===null)return null;if(i.finishedWork=null,i.finishedLanes=0,m===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var k=m.lanes|m.childLanes;if(CO(i,k),i===yr&&(nr=yr=null,Tr=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||fu||(fu=!0,Rw(jd,function(){return Co(),null})),k=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||k){k=Mn.transition,Mn.transition=null;var E=wt;wt=1;var q=pt;pt|=4,Oh.current=null,U3(i,m),kw(m,i),p3(Fp),Cd=!!Rp,Fp=Rp=null,i.current=m,q3(m),vO(),pt=q,wt=E,Mn.transition=k}else i.current=m;if(fu&&(fu=!1,Gs=i,pu=w),k=i.pendingLanes,k===0&&(Vs=null),wO(m.stateNode),un(i,Jt()),l!==null)for(x=i.onRecoverableError,m=0;m<l.length;m++)w=l[m],x(w.value,{componentStack:w.stack,digest:w.digest});if(mu)throw mu=!1,i=Mh,Mh=null,i;return(pu&1)!==0&&i.tag!==0&&Co(),k=i.pendingLanes,(k&1)!==0?i===Dh?lc++:(lc=0,Dh=i):lc=0,qs(),null}function Co(){if(Gs!==null){var i=Nb(pu),l=Mn.transition,m=wt;try{if(Mn.transition=null,wt=16>i?16:i,Gs===null)var x=!1;else{if(i=Gs,Gs=null,pu=0,(pt&6)!==0)throw Error(n(331));var w=pt;for(pt|=4,Re=i.current;Re!==null;){var k=Re,E=k.child;if((Re.flags&16)!==0){var q=k.deletions;if(q!==null){for(var X=0;X<q.length;X++){var de=q[X];for(Re=de;Re!==null;){var we=Re;switch(we.tag){case 0:case 11:case 15:sc(8,we,k)}var _e=we.child;if(_e!==null)_e.return=we,Re=_e;else for(;Re!==null;){we=Re;var be=we.sibling,ze=we.return;if(bw(we),we===de){Re=null;break}if(be!==null){be.return=ze,Re=be;break}Re=ze}}}var Ue=k.alternate;if(Ue!==null){var We=Ue.child;if(We!==null){Ue.child=null;do{var Zt=We.sibling;We.sibling=null,We=Zt}while(We!==null)}}Re=k}}if((k.subtreeFlags&2064)!==0&&E!==null)E.return=k,Re=E;else e:for(;Re!==null;){if(k=Re,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:sc(9,k,k.return)}var ne=k.sibling;if(ne!==null){ne.return=k.return,Re=ne;break e}Re=k.return}}var Z=i.current;for(Re=Z;Re!==null;){E=Re;var ie=E.child;if((E.subtreeFlags&2064)!==0&&ie!==null)ie.return=E,Re=ie;else e:for(E=Z;Re!==null;){if(q=Re,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:cu(9,q)}}catch(Ye){Wt(q,q.return,Ye)}if(q===E){Re=null;break e}var Ce=q.sibling;if(Ce!==null){Ce.return=q.return,Re=Ce;break e}Re=q.return}}if(pt=w,qs(),fa&&typeof fa.onPostCommitFiberRoot=="function")try{fa.onPostCommitFiberRoot(wd,i)}catch{}x=!0}return x}finally{wt=m,Mn.transition=l}}return!1}function Lw(i,l,m){l=_o(m,l),l=ew(i,l,1),i=Ws(i,l,1),l=Zr(),i!==null&&(Tl(i,1,l),un(i,l))}function Wt(i,l,m){if(i.tag===3)Lw(i,i,m);else for(;l!==null;){if(l.tag===3){Lw(l,i,m);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Vs===null||!Vs.has(x))){i=_o(m,i),i=tw(l,i,1),l=Ws(l,i,1),i=Zr(),l!==null&&(Tl(l,1,i),un(l,i));break}}l=l.return}}function Y3(i,l,m){var x=i.pingCache;x!==null&&x.delete(l),l=Zr(),i.pingedLanes|=i.suspendedLanes&m,yr===i&&(Tr&m)===m&&(dr===4||dr===3&&(Tr&130023424)===Tr&&500>Jt()-Ih?ki(i,0):Th|=m),un(i,l)}function $w(i,l){l===0&&((i.mode&1)===0?l=1:(l=_d,_d<<=1,(_d&130023424)===0&&(_d=4194304)));var m=Zr();i=qa(i,l),i!==null&&(Tl(i,l,m),un(i,m))}function X3(i){var l=i.memoizedState,m=0;l!==null&&(m=l.retryLane),$w(i,m)}function J3(i,l){var m=0;switch(i.tag){case 13:var x=i.stateNode,w=i.memoizedState;w!==null&&(m=w.retryLane);break;case 19:x=i.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(l),$w(i,m)}var zw;zw=function(i,l,m){if(i!==null)if(i.memoizedProps!==l.pendingProps||on.current)cn=!0;else{if((i.lanes&m)===0&&(l.flags&128)===0)return cn=!1,z3(i,l,m);cn=(i.flags&131072)!==0}else cn=!1,$t&&(l.flags&1048576)!==0&&xj(l,Hd,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;ou(i,l),i=l.pendingProps;var w=go(l,$r.current);wo(l,m),w=dh(null,l,x,i,w,m);var k=uh();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ln(x)?(k=!0,qd(l)):k=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,nh(l),w.updater=su,l.stateNode=w,w._reactInternals=l,xh(l,x,i,m),l=jh(null,l,x,!0,k,m)):(l.tag=0,$t&&k&&Vp(l),Jr(null,l,w,m),l=l.child),l;case 16:x=l.elementType;e:{switch(ou(i,l),i=l.pendingProps,w=x._init,x=w(x._payload),l.type=x,w=l.tag=Q3(x),i=Zn(x,i),w){case 0:l=bh(null,l,x,i,m);break e;case 1:l=dw(null,l,x,i,m);break e;case 11:l=sw(null,l,x,i,m);break e;case 14:l=iw(null,l,x,Zn(x.type,i),m);break e}throw Error(n(306,x,""))}return l;case 0:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Zn(x,w),bh(i,l,x,w,m);case 1:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Zn(x,w),dw(i,l,x,w,m);case 3:e:{if(uw(l),i===null)throw Error(n(387));x=l.pendingProps,k=l.memoizedState,w=k.element,Sj(i,l),Zd(l,x,null,m);var E=l.memoizedState;if(x=E.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){w=_o(Error(n(423)),l),l=mw(i,l,x,m,w);break e}else if(x!==w){w=_o(Error(n(424)),l),l=mw(i,l,x,m,w);break e}else for(vn=Fs(l.stateNode.containerInfo.firstChild),yn=l,$t=!0,Jn=null,m=_j(l,null,x,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(vo(),x===w){l=Wa(i,l,m);break e}Jr(i,l,x,m)}l=l.child}return l;case 5:return Aj(l),i===null&&Xp(l),x=l.type,w=l.pendingProps,k=i!==null?i.memoizedProps:null,E=w.children,Bp(x,w)?E=null:k!==null&&Bp(x,k)&&(l.flags|=32),cw(i,l),Jr(i,l,E,m),l.child;case 6:return i===null&&Xp(l),null;case 13:return fw(i,l,m);case 4:return ah(l,l.stateNode.containerInfo),x=l.pendingProps,i===null?l.child=bo(l,null,x,m):Jr(i,l,x,m),l.child;case 11:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Zn(x,w),sw(i,l,x,w,m);case 7:return Jr(i,l,l.pendingProps,m),l.child;case 8:return Jr(i,l,l.pendingProps.children,m),l.child;case 12:return Jr(i,l,l.pendingProps.children,m),l.child;case 10:e:{if(x=l.type._context,w=l.pendingProps,k=l.memoizedProps,E=w.value,At(Yd,x._currentValue),x._currentValue=E,k!==null)if(Xn(k.value,E)){if(k.children===w.children&&!on.current){l=Wa(i,l,m);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var q=k.dependencies;if(q!==null){E=k.child;for(var X=q.firstContext;X!==null;){if(X.context===x){if(k.tag===1){X=Ka(-1,m&-m),X.tag=2;var de=k.updateQueue;if(de!==null){de=de.shared;var we=de.pending;we===null?X.next=X:(X.next=we.next,we.next=X),de.pending=X}}k.lanes|=m,X=k.alternate,X!==null&&(X.lanes|=m),th(k.return,m,l),q.lanes|=m;break}X=X.next}}else if(k.tag===10)E=k.type===l.type?null:k.child;else if(k.tag===18){if(E=k.return,E===null)throw Error(n(341));E.lanes|=m,q=E.alternate,q!==null&&(q.lanes|=m),th(E,m,l),E=k.sibling}else E=k.child;if(E!==null)E.return=k;else for(E=k;E!==null;){if(E===l){E=null;break}if(k=E.sibling,k!==null){k.return=E.return,E=k;break}E=E.return}k=E}Jr(i,l,w.children,m),l=l.child}return l;case 9:return w=l.type,x=l.pendingProps.children,wo(l,m),w=Tn(w),x=x(w),l.flags|=1,Jr(i,l,x,m),l.child;case 14:return x=l.type,w=Zn(x,l.pendingProps),w=Zn(x.type,w),iw(i,l,x,w,m);case 15:return ow(i,l,l.type,l.pendingProps,m);case 17:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Zn(x,w),ou(i,l),l.tag=1,ln(x)?(i=!0,qd(l)):i=!1,wo(l,m),Zj(l,x,w),xh(l,x,w,m),jh(null,l,x,!0,i,m);case 19:return hw(i,l,m);case 22:return lw(i,l,m)}throw Error(n(156,l.tag))};function Rw(i,l){return mt(i,l)}function Z3(i,l,m,x){this.tag=i,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,l,m,x){return new Z3(i,l,m,x)}function Bh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Q3(i){if(typeof i=="function")return Bh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===W)return 11;if(i===R)return 14}return 2}function Js(i,l){var m=i.alternate;return m===null?(m=Dn(i.tag,l,i.key,i.mode),m.elementType=i.elementType,m.type=i.type,m.stateNode=i.stateNode,m.alternate=i,i.alternate=m):(m.pendingProps=l,m.type=i.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=i.flags&14680064,m.childLanes=i.childLanes,m.lanes=i.lanes,m.child=i.child,m.memoizedProps=i.memoizedProps,m.memoizedState=i.memoizedState,m.updateQueue=i.updateQueue,l=i.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=i.sibling,m.index=i.index,m.ref=i.ref,m}function yu(i,l,m,x,w,k){var E=2;if(x=i,typeof i=="function")Bh(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case I:return Pi(m.children,w,k,l);case M:E=8,w|=8;break;case D:return i=Dn(12,m,l,w|2),i.elementType=D,i.lanes=k,i;case re:return i=Dn(13,m,l,w),i.elementType=re,i.lanes=k,i;case U:return i=Dn(19,m,l,w),i.elementType=U,i.lanes=k,i;case le:return vu(m,w,k,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:E=10;break e;case Y:E=9;break e;case W:E=11;break e;case R:E=14;break e;case Q:E=16,x=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return l=Dn(E,m,l,w),l.elementType=i,l.type=x,l.lanes=k,l}function Pi(i,l,m,x){return i=Dn(7,i,x,l),i.lanes=m,i}function vu(i,l,m,x){return i=Dn(22,i,x,l),i.elementType=le,i.lanes=m,i.stateNode={isHidden:!1},i}function Uh(i,l,m){return i=Dn(6,i,null,l),i.lanes=m,i}function qh(i,l,m){return l=Dn(4,i.children!==null?i.children:[],i.key,l),l.lanes=m,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function e5(i,l,m,x,w){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gp(0),this.expirationTimes=gp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gp(0),this.identifierPrefix=x,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Kh(i,l,m,x,w,k,E,q,X){return i=new e5(i,l,m,q,X),l===1?(l=1,k===!0&&(l|=8)):l=0,k=Dn(3,null,null,l),i.current=k,k.stateNode=i,k.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(k),i}function t5(i,l,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:x==null?null:""+x,children:i,containerInfo:l,implementation:m}}function Fw(i){if(!i)return Us;i=i._reactInternals;e:{if(za(i)!==i||i.tag!==1)throw Error(n(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ln(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(i.tag===1){var m=i.type;if(ln(m))return pj(i,m,l)}return l}function Bw(i,l,m,x,w,k,E,q,X){return i=Kh(m,x,!0,i,w,k,E,q,X),i.context=Fw(null),m=i.current,x=Zr(),w=Ys(m),k=Ka(x,w),k.callback=l??null,Ws(m,k,w),i.current.lanes=w,Tl(i,w,x),un(i,x),i}function bu(i,l,m,x){var w=l.current,k=Zr(),E=Ys(w);return m=Fw(m),l.context===null?l.context=m:l.pendingContext=m,l=Ka(k,E),l.payload={element:i},x=x===void 0?null:x,x!==null&&(l.callback=x),i=Ws(w,l,E),i!==null&&(ta(i,w,E,k),Jd(i,w,E)),E}function ju(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function Uw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var m=i.retryLane;i.retryLane=m!==0&&m<l?m:l}}function Wh(i,l){Uw(i,l),(i=i.alternate)&&Uw(i,l)}function r5(){return null}var qw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Hh(i){this._internalRoot=i}wu.prototype.render=Hh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(n(409));bu(i,l,null,null)},wu.prototype.unmount=Hh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;_i(function(){bu(null,i,null,null)}),l[Ra]=null}};function wu(i){this._internalRoot=i}wu.prototype.unstable_scheduleHydration=function(i){if(i){var l=Sb();i={blockedOn:null,target:i,priority:l};for(var m=0;m<$s.length&&l!==0&&l<$s[m].priority;m++);$s.splice(m,0,i),m===0&&Ab(i)}};function Vh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Nu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Kw(){}function n5(i,l,m,x,w){if(w){if(typeof x=="function"){var k=x;x=function(){var de=ju(E);k.call(de)}}var E=Bw(l,x,i,0,null,!1,!1,"",Kw);return i._reactRootContainer=E,i[Ra]=E.current,Hl(i.nodeType===8?i.parentNode:i),_i(),E}for(;w=i.lastChild;)i.removeChild(w);if(typeof x=="function"){var q=x;x=function(){var de=ju(X);q.call(de)}}var X=Kh(i,0,!1,null,null,!1,!1,"",Kw);return i._reactRootContainer=X,i[Ra]=X.current,Hl(i.nodeType===8?i.parentNode:i),_i(function(){bu(l,X,m,x)}),X}function _u(i,l,m,x,w){var k=m._reactRootContainer;if(k){var E=k;if(typeof w=="function"){var q=w;w=function(){var X=ju(E);q.call(X)}}bu(l,E,i,w)}else E=n5(m,l,i,w,x);return ju(E)}_b=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var m=Ol(l.pendingLanes);m!==0&&(xp(l,m|1),un(l,Jt()),(pt&6)===0&&(Po=Jt()+500,qs()))}break;case 13:_i(function(){var x=qa(i,1);if(x!==null){var w=Zr();ta(x,i,1,w)}}),Wh(i,1)}},yp=function(i){if(i.tag===13){var l=qa(i,134217728);if(l!==null){var m=Zr();ta(l,i,134217728,m)}Wh(i,134217728)}},kb=function(i){if(i.tag===13){var l=Ys(i),m=qa(i,l);if(m!==null){var x=Zr();ta(m,i,l,x)}Wh(i,l)}},Sb=function(){return wt},Pb=function(i,l){var m=wt;try{return wt=i,l()}finally{wt=m}},Ee=function(i,l,m){switch(l){case"input":if(pe(i,m),l=m.name,m.type==="radio"&&l!=null){for(m=i;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<m.length;l++){var x=m[l];if(x!==i&&x.form===i.form){var w=Bd(x);if(!w)throw Error(n(90));te(x),pe(x,w)}}}break;case"textarea":$e(i,m);break;case"select":l=m.value,l!=null&&Ae(i,!!m.multiple,l,!1)}},Vn=zh,Xr=_i;var a5={usingClientEntryPoint:!1,Events:[Yl,po,Bd,lr,Lr,zh]},cc={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s5={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Xe(i),i===null?null:i.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||r5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{wd=ku.inject(s5),fa=ku}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a5,mn.createPortal=function(i,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vh(l))throw Error(n(200));return t5(i,l,null,m)},mn.createRoot=function(i,l){if(!Vh(i))throw Error(n(299));var m=!1,x="",w=qw;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=Kh(i,1,!1,null,null,m,!1,x,w),i[Ra]=l.current,Hl(i.nodeType===8?i.parentNode:i),new Hh(l)},mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Xe(l),i=i===null?null:i.stateNode,i},mn.flushSync=function(i){return _i(i)},mn.hydrate=function(i,l,m){if(!Nu(l))throw Error(n(200));return _u(null,i,l,!0,m)},mn.hydrateRoot=function(i,l,m){if(!Vh(i))throw Error(n(405));var x=m!=null&&m.hydratedSources||null,w=!1,k="",E=qw;if(m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(E=m.onRecoverableError)),l=Bw(l,null,i,1,m??null,w,!1,k,E),i[Ra]=l.current,Hl(i),x)for(i=0;i<x.length;i++)m=x[i],w=m._getVersion,w=w(m._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[m,w]:l.mutableSourceEagerHydrationData.push(m,w);return new wu(l)},mn.render=function(i,l,m){if(!Nu(l))throw Error(n(200));return _u(null,i,l,!1,m)},mn.unmountComponentAtNode=function(i){if(!Nu(i))throw Error(n(40));return i._reactRootContainer?(_i(function(){_u(null,null,i,!1,function(){i._reactRootContainer=null,i[Ra]=null})}),!0):!1},mn.unstable_batchedUpdates=zh,mn.unstable_renderSubtreeIntoContainer=function(i,l,m,x){if(!Nu(m))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return _u(i,l,m,!1,x)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var Zw;function bS(){if(Zw)return Xh.exports;Zw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xh.exports=p5(),Xh.exports}var Qw;function h5(){if(Qw)return Su;Qw=1;var e=bS();return Su.createRoot=e.createRoot,Su.hydrateRoot=e.hydrateRoot,Su}var g5=h5();var e1="popstate";function x5(e={}){function t(a,s){let{pathname:o,search:c,hash:d}=a.location;return Xx("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){return typeof s=="string"?s:Ac(s)}return v5(t,n,null,e)}function Ft(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function y5(){return Math.random().toString(36).substring(2,10)}function t1(e,t){return{usr:e.state,key:e.key,idx:t}}function Xx(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ll(t):t,state:n,key:t&&t.key||a||y5()}}function Ac({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ll(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function v5(e,t,n,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,d="POP",u=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function h(){d="POP";let b=f(),_=b==null?null:b-p;p=b,u&&u({action:d,location:j.location,delta:_})}function y(b,_){d="PUSH";let S=Xx(j.location,b,_);p=f()+1;let P=t1(S,p),C=j.createHref(S);try{c.pushState(P,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(C)}o&&u&&u({action:d,location:j.location,delta:1})}function v(b,_){d="REPLACE";let S=Xx(j.location,b,_);p=f();let P=t1(S,p),C=j.createHref(S);c.replaceState(P,"",C),o&&u&&u({action:d,location:j.location,delta:0})}function N(b){return b5(b)}let j={get action(){return d},get location(){return e(s,c)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(e1,h),u=b,()=>{s.removeEventListener(e1,h),u=null}},createHref(b){return t(s,b)},createURL:N,encodeLocation(b){let _=N(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:v,go(b){return c.go(b)}};return j}function b5(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ft(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Ac(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function jS(e,t,n="/"){return j5(e,t,n,!1)}function j5(e,t,n,a){let s=typeof t=="string"?ll(t):t,o=ds(s.pathname||"/",n);if(o==null)return null;let c=wS(e);w5(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let p=I5(o);d=O5(c[u],p,a)}return d}function wS(e,t=[],n=[],a="",s=!1){let o=(c,d,u=s,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&u)return;Ft(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let h=es([a,f.relativePath]),y=n.concat(f);c.children&&c.children.length>0&&(Ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),wS(c.children,t,y,h,u)),!(c.path==null&&!c.index)&&t.push({path:h,score:A5(h,c.index),routesMeta:y})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let u of NS(c.path))o(c,d,!0,u)}),t}function NS(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=NS(a.join("/")),d=[];return d.push(...c.map(u=>u===""?o:[o,u].join("/"))),s&&d.push(...c),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function w5(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:E5(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var N5=/^:[\w-]+$/,_5=3,k5=2,S5=1,P5=10,C5=-2,r1=e=>e==="*";function A5(e,t){let n=e.split("/"),a=n.length;return n.some(r1)&&(a+=C5),t&&(a+=k5),n.filter(s=>!r1(s)).reduce((s,o)=>s+(N5.test(o)?_5:o===""?S5:P5),a)}function E5(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function O5(e,t,n=!1){let{routesMeta:a}=e,s={},o="/",c=[];for(let d=0;d<a.length;++d){let u=a[d],p=d===a.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=dm({path:u.relativePath,caseSensitive:u.caseSensitive,end:p},f),y=u.route;if(!h&&p&&n&&!a[a.length-1].route.index&&(h=dm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),c.push({params:s,pathname:es([o,h.pathname]),pathnameBase:$5(es([o,h.pathnameBase])),route:y}),h.pathnameBase!=="/"&&(o=es([o,h.pathnameBase]))}return c}function dm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=T5(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((p,{paramName:f,isOptional:h},y)=>{if(f==="*"){let N=d[y]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const v=d[y];return h&&!v?p[f]=void 0:p[f]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:e}}function T5(e,t=!1,n=!0){kn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function I5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ds(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}var _S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M5=e=>_S.test(e);function D5(e,t="/"){let{pathname:n,search:a="",hash:s=""}=typeof e=="string"?ll(e):e,o;if(n)if(M5(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=n1(n.substring(1),"/"):o=n1(n,t)}else o=t;return{pathname:o,search:z5(a),hash:R5(s)}}function n1(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Qh(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function L5(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function a0(e){let t=L5(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function s0(e,t,n,a=!1){let s;typeof e=="string"?s=ll(e):(s={...e},Ft(!s.pathname||!s.pathname.includes("?"),Qh("?","pathname","search",s)),Ft(!s.pathname||!s.pathname.includes("#"),Qh("#","pathname","hash",s)),Ft(!s.search||!s.search.includes("#"),Qh("#","search","hash",s)));let o=e===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=n;else{let h=t.length-1;if(!a&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),h-=1;s.pathname=y.join("/")}d=h>=0?t[h]:"/"}let u=D5(s,d),p=c&&c!=="/"&&c.endsWith("/"),f=(o||c===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(p||f)&&(u.pathname+="/"),u}var es=e=>e.join("/").replace(/\/\/+/g,"/"),$5=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z5=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R5=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,F5=class{constructor(e,t,n,a=!1){this.status=e,this.statusText=t||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function B5(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function U5(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var kS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function SS(e,t){let n=e;if(typeof n!="string"||!_S.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,s=!1;if(kS)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),d=ds(c.pathname,t);c.origin===o.origin&&d!=null?n=d+c.search+c.hash:s=!0}catch{kn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var PS=["POST","PUT","PATCH","DELETE"];new Set(PS);var q5=["GET",...PS];new Set(q5);var cl=g.createContext(null);cl.displayName="DataRouter";var pf=g.createContext(null);pf.displayName="DataRouterState";var K5=g.createContext(!1),CS=g.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var W5=g.createContext(new Map);W5.displayName="Fetchers";var H5=g.createContext(null);H5.displayName="Await";var Pn=g.createContext(null);Pn.displayName="Navigation";var Gc=g.createContext(null);Gc.displayName="Location";var Ta=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ta.displayName="Route";var i0=g.createContext(null);i0.displayName="RouteError";var AS="REACT_ROUTER_ERROR",V5="REDIRECT",G5="ROUTE_ERROR_RESPONSE";function Y5(e){if(e.startsWith(`${AS}:${V5}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function X5(e){if(e.startsWith(`${AS}:${G5}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new F5(t.status,t.statusText,t.data)}catch{}}function J5(e,{relative:t}={}){Ft(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=g.useContext(Pn),{hash:s,pathname:o,search:c}=Yc(e,{relative:t}),d=o;return n!=="/"&&(d=o==="/"?n:es([n,o])),a.createHref({pathname:d,search:c,hash:s})}function dl(){return g.useContext(Gc)!=null}function an(){return Ft(dl(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Gc).location}var ES="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OS(e){g.useContext(Pn).static||g.useLayoutEffect(e)}function Cn(){let{isDataRoute:e}=g.useContext(Ta);return e?dT():Z5()}function Z5(){Ft(dl(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(cl),{basename:t,navigator:n}=g.useContext(Pn),{matches:a}=g.useContext(Ta),{pathname:s}=an(),o=JSON.stringify(a0(a)),c=g.useRef(!1);return OS(()=>{c.current=!0}),g.useCallback((u,p={})=>{if(kn(c.current,ES),!c.current)return;if(typeof u=="number"){n.go(u);return}let f=s0(u,JSON.parse(o),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:es([t,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[t,n,o,s,e])}g.createContext(null);function Yc(e,{relative:t}={}){let{matches:n}=g.useContext(Ta),{pathname:a}=an(),s=JSON.stringify(a0(n));return g.useMemo(()=>s0(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function Q5(e,t){return TS(e,t)}function TS(e,t,n,a,s){Ft(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=g.useContext(Pn),{matches:c}=g.useContext(Ta),d=c[c.length-1],u=d?d.params:{},p=d?d.pathname:"/",f=d?d.pathnameBase:"/",h=d&&d.route;{let S=h&&h.path||"";MS(p,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=an(),v;if(t){let S=typeof t=="string"?ll(t):t;Ft(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=y;let N=v.pathname||"/",j=N;if(f!=="/"){let S=f.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=jS(e,{pathname:j});kn(h||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),kn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=aT(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:es([f,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:es([f,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,n,a,s);return t&&_?g.createElement(Gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function eT(){let e=cT(),t=B5(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:o},"ErrorBoundary")," or"," ",g.createElement("code",{style:o},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,c)}var tT=g.createElement(eT,null),IS=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=X5(e.digest);n&&(e=n)}let t=e!==void 0?g.createElement(Ta.Provider,{value:this.props.routeContext},g.createElement(i0.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?g.createElement(rT,{error:e},t):t}};IS.contextType=K5;var eg=new WeakMap;function rT({children:e,error:t}){let{basename:n}=g.useContext(Pn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=Y5(t.digest);if(a){let s=eg.get(t);if(s)throw s;let o=SS(a.location,n);if(kS&&!eg.get(t))if(o.isExternal||a.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:a.replace}));throw eg.set(t,c),c}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function nT({routeContext:e,match:t,children:n}){let a=g.useContext(cl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Ta.Provider,{value:e},n)}function aT(e,t=[],n=null,a=null,s=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=n?.errors;if(c!=null){let f=o.findIndex(h=>h.route.id&&c?.[h.route.id]!==void 0);Ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,u=-1;if(n)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:y,errors:v}=n,N=h.route.loader&&!y.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||N){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let p=n&&a?(f,h)=>{a(f,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:U5(n.matches),errorInfo:h})}:void 0;return o.reduceRight((f,h,y)=>{let v,N=!1,j=null,b=null;n&&(v=c&&h.route.id?c[h.route.id]:void 0,j=h.route.errorElement||tT,d&&(u<0&&y===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,b=null):u===y&&(N=!0,b=h.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,y+1)),S=()=>{let P;return v?P=j:N?P=b:h.route.Component?P=g.createElement(h.route.Component,null):h.route.element?P=h.route.element:P=f,g.createElement(nT,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:P})};return n&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?g.createElement(IS,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:p}):S()},null)}function o0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sT(e){let t=g.useContext(cl);return Ft(t,o0(e)),t}function iT(e){let t=g.useContext(pf);return Ft(t,o0(e)),t}function oT(e){let t=g.useContext(Ta);return Ft(t,o0(e)),t}function l0(e){let t=oT(e),n=t.matches[t.matches.length-1];return Ft(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function lT(){return l0("useRouteId")}function cT(){let e=g.useContext(i0),t=iT("useRouteError"),n=l0("useRouteError");return e!==void 0?e:t.errors?.[n]}function dT(){let{router:e}=sT("useNavigate"),t=l0("useNavigate"),n=g.useRef(!1);return OS(()=>{n.current=!0}),g.useCallback(async(s,o={})=>{kn(n.current,ES),n.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var a1={};function MS(e,t,n){!t&&!a1[e]&&(a1[e]=!0,kn(!1,n))}g.memo(uT);function uT({routes:e,future:t,state:n,onError:a}){return TS(e,void 0,n,a,t)}function Uo({to:e,replace:t,state:n,relative:a}){Ft(dl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=g.useContext(Pn);kn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=g.useContext(Ta),{pathname:c}=an(),d=Cn(),u=s0(e,a0(o),c,a==="path"),p=JSON.stringify(u);return g.useEffect(()=>{d(JSON.parse(p),{replace:t,state:n,relative:a})},[d,p,a,t,n]),null}function st(e){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function mT({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){Ft(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:d,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[d,s,o,c]);typeof n=="string"&&(n=ll(n));let{pathname:p="/",search:f="",hash:h="",state:y=null,key:v="default"}=n,N=g.useMemo(()=>{let j=ds(p,d);return j==null?null:{location:{pathname:j,search:f,hash:h,state:y,key:v},navigationType:a}},[d,p,f,h,y,v,a]);return kn(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:g.createElement(Pn.Provider,{value:u},g.createElement(Gc.Provider,{children:t,value:N}))}function s1({children:e,location:t}){return Q5(Jx(e),t)}function Jx(e,t=[]){let n=[];return g.Children.forEach(e,(a,s)=>{if(!g.isValidElement(a))return;let o=[...t,s];if(a.type===g.Fragment){n.push.apply(n,Jx(a.props.children,o));return}Ft(a.type===st,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Jx(a.props.children,o)),n.push(c)}),n}var nm="get",am="application/x-www-form-urlencoded";function hf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function fT(e){return hf(e)&&e.tagName.toLowerCase()==="button"}function pT(e){return hf(e)&&e.tagName.toLowerCase()==="form"}function hT(e){return hf(e)&&e.tagName.toLowerCase()==="input"}function gT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function xT(e,t){return e.button===0&&(!t||t==="_self")&&!gT(e)}function Zx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(s=>[n,s]):[[n,a]])},[]))}function yT(e,t){let n=Zx(e);return t&&t.forEach((a,s)=>{n.has(s)||t.getAll(s).forEach(o=>{n.append(s,o)})}),n}var Pu=null;function vT(){if(Pu===null)try{new FormData(document.createElement("form"),0),Pu=!1}catch{Pu=!0}return Pu}var bT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tg(e){return e!=null&&!bT.has(e)?(kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${am}"`),null):e}function jT(e,t){let n,a,s,o,c;if(pT(e)){let d=e.getAttribute("action");a=d?ds(d,t):null,n=e.getAttribute("method")||nm,s=tg(e.getAttribute("enctype"))||am,o=new FormData(e)}else if(fT(e)||hT(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(a=u?ds(u,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||nm,s=tg(e.getAttribute("formenctype"))||tg(d.getAttribute("enctype"))||am,o=new FormData(d,e),!vT()){let{name:p,type:f,value:h}=e;if(f==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,h)}}else{if(hf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nm,a=null,s=am,c=e}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:n.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wT(e,t,n,a){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:t&&ds(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function NT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _T(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function kT(e,t,n){let a=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let c=await NT(o,n);return c.links?c.links():[]}return[]}));return AT(a.flat(1).filter(_T).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function i1(e,t,n,a,s,o){let c=(u,p)=>n[p]?u.route.id!==n[p].route.id:!0,d=(u,p)=>n[p].pathname!==u.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==u.params["*"];return o==="assets"?t.filter((u,p)=>c(u,p)||d(u,p)):o==="data"?t.filter((u,p)=>{let f=a.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(c(u,p)||d(u,p))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function ST(e,t,{includeHydrateFallback:n}={}){return PT(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function PT(e){return[...new Set(e)]}function CT(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function AT(e,t){let n=new Set;return new Set(t),e.reduce((a,s)=>{let o=JSON.stringify(CT(s));return n.has(o)||(n.add(o),a.push({key:o,link:s})),a},[])}function DS(){let e=g.useContext(cl);return c0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ET(){let e=g.useContext(pf);return c0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var d0=g.createContext(void 0);d0.displayName="FrameworkContext";function LS(){let e=g.useContext(d0);return c0(e,"You must render this element inside a <HydratedRouter> element"),e}function OT(e,t){let n=g.useContext(d0),[a,s]=g.useState(!1),[o,c]=g.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:p,onMouseLeave:f,onTouchStart:h}=t,y=g.useRef(null);g.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=_=>{_.forEach(S=>{c(S.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[e]),g.useEffect(()=>{if(a){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[a]);let v=()=>{s(!0)},N=()=>{s(!1),c(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:uc(d,v),onBlur:uc(u,N),onMouseEnter:uc(p,v),onMouseLeave:uc(f,N),onTouchStart:uc(h,v)}]:[!1,y,{}]}function uc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function TT({page:e,...t}){let{router:n}=DS(),a=g.useMemo(()=>jS(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?g.createElement(MT,{page:e,matches:a,...t}):null}function IT(e){let{manifest:t,routeModules:n}=LS(),[a,s]=g.useState([]);return g.useEffect(()=>{let o=!1;return kT(e,t,n).then(c=>{o||s(c)}),()=>{o=!0}},[e,t,n]),a}function MT({page:e,matches:t,...n}){let a=an(),{future:s,manifest:o,routeModules:c}=LS(),{basename:d}=DS(),{loaderData:u,matches:p}=ET(),f=g.useMemo(()=>i1(e,t,p,o,a,"data"),[e,t,p,o,a]),h=g.useMemo(()=>i1(e,t,p,o,a,"assets"),[e,t,p,o,a]),y=g.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,b=!1;if(t.forEach(S=>{let P=o.routes[S.route.id];!P||!P.hasLoader||(!f.some(C=>C.route.id===S.route.id)&&S.route.id in u&&c[S.route.id]?.shouldRevalidate||P.hasClientLoader?b=!0:j.add(S.route.id))}),j.size===0)return[];let _=wT(e,d,s.unstable_trailingSlashAwareDataRequests,"data");return b&&j.size>0&&_.searchParams.set("_routes",t.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[d,s.unstable_trailingSlashAwareDataRequests,u,a,o,f,t,e,c]),v=g.useMemo(()=>ST(h,o),[h,o]),N=IT(h);return g.createElement(g.Fragment,null,y.map(j=>g.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),v.map(j=>g.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),N.map(({key:j,link:b})=>g.createElement("link",{key:j,nonce:n.nonce,...b})))}function DT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var LT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LT&&(window.__reactRouterVersion="7.12.0")}catch{}function $T({basename:e,children:t,unstable_useTransitions:n,window:a}){let s=g.useRef();s.current==null&&(s.current=x5({window:a,v5Compat:!0}));let o=s.current,[c,d]=g.useState({action:o.action,location:o.location}),u=g.useCallback(p=>{n===!1?d(p):g.startTransition(()=>d(p))},[n]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.createElement(mT,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var $S=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u0=g.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:d,target:u,to:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:y,...v},N){let{basename:j,unstable_useTransitions:b}=g.useContext(Pn),_=typeof p=="string"&&$S.test(p),S=SS(p,j);p=S.to;let P=J5(p,{relative:s}),[C,A,O]=OT(a,v),I=FT(p,{replace:c,state:d,target:u,preventScrollReset:f,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:y,unstable_useTransitions:b});function M(z){t&&t(z),z.defaultPrevented||I(z)}let D=g.createElement("a",{...v,...O,href:S.absoluteURL||P,onClick:S.isExternal||o?t:M,ref:DT(N,A),target:u,"data-discover":!_&&n==="render"?"true":void 0});return C&&!_?g.createElement(g.Fragment,null,D,g.createElement(TT,{page:P})):D});u0.displayName="Link";var Ro=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:d,children:u,...p},f){let h=Yc(c,{relative:p.relative}),y=an(),v=g.useContext(pf),{navigator:N,basename:j}=g.useContext(Pn),b=v!=null&&HT(h)&&d===!0,_=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,S=y.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(S=S.toLowerCase(),P=P?P.toLowerCase():null,_=_.toLowerCase()),P&&j&&(P=ds(P,j)||P);const C=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=S===_||!s&&S.startsWith(_)&&S.charAt(C)==="/",O=P!=null&&(P===_||!s&&P.startsWith(_)&&P.charAt(_.length)==="/"),I={isActive:A,isPending:O,isTransitioning:b},M=A?t:void 0,D;typeof a=="function"?D=a(I):D=[a,A?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(I):o;return g.createElement(u0,{...p,"aria-current":M,className:D,ref:f,style:z,to:c,viewTransition:d},typeof u=="function"?u(I):u)});Ro.displayName="NavLink";var zT=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:s,state:o,method:c=nm,action:d,onSubmit:u,relative:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:y,...v},N)=>{let{unstable_useTransitions:j}=g.useContext(Pn),b=KT(),_=WT(d,{relative:p}),S=c.toLowerCase()==="get"?"get":"post",P=typeof d=="string"&&$S.test(d),C=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let O=A.nativeEvent.submitter,I=O?.getAttribute("formmethod")||c,M=()=>b(O||A.currentTarget,{fetcherKey:t,method:I,navigate:n,replace:s,state:o,relative:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:y});j&&n!==!1?g.startTransition(()=>M()):M()};return g.createElement("form",{ref:N,method:S,action:_,onSubmit:a?u:C,...v,"data-discover":!P&&e==="render"?"true":void 0})});zT.displayName="Form";function RT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zS(e){let t=g.useContext(cl);return Ft(t,RT(e)),t}function FT(e,{target:t,replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:u}={}){let p=Cn(),f=an(),h=Yc(e,{relative:o});return g.useCallback(y=>{if(xT(y,t)){y.preventDefault();let v=n!==void 0?n:Ac(f)===Ac(h),N=()=>p(e,{replace:v,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});u?g.startTransition(()=>N()):N()}},[f,p,h,n,a,t,e,s,o,c,d,u])}function BT(e){kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(Zx(e)),n=g.useRef(!1),a=an(),s=g.useMemo(()=>yT(a.search,n.current?null:t.current),[a.search]),o=Cn(),c=g.useCallback((d,u)=>{const p=Zx(typeof d=="function"?d(new URLSearchParams(s)):d);n.current=!0,o("?"+p,u)},[o,s]);return[s,c]}var UT=0,qT=()=>`__${String(++UT)}__`;function KT(){let{router:e}=zS("useSubmit"),{basename:t}=g.useContext(Pn),n=lT(),a=e.fetch,s=e.navigate;return g.useCallback(async(o,c={})=>{let{action:d,method:u,encType:p,formData:f,body:h}=jT(o,t);if(c.navigate===!1){let y=c.fetcherKey||qT();await a(y,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:f,body:h,formMethod:c.method||u,formEncType:c.encType||p,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:f,body:h,formMethod:c.method||u,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,t,n])}function WT(e,{relative:t}={}){let{basename:n}=g.useContext(Pn),a=g.useContext(Ta);Ft(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Yc(e||".",{relative:t})},c=an();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),u=d.getAll("index");if(u.some(f=>f==="")){d.delete("index"),u.filter(h=>h).forEach(h=>d.append("index",h));let f=d.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:es([n,o.pathname])),Ac(o)}function HT(e,{relative:t}={}){let n=g.useContext(CS);Ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=zS("useViewTransitionState"),s=Yc(e,{relative:t});if(!n.isTransitioning)return!1;let o=ds(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=ds(n.nextLocation.pathname,a)||n.nextLocation.pathname;return dm(s.pathname,c)!=null||dm(s.pathname,o)!=null}var m0=bS();const VT=[{id:"1",name:"Service Provider",email:"manglaaryan05@gmail.com",phone:"9876543210",status:"approved",specialization:["AC Repair","Electrician Services"],rating:4.8,totalJobs:120},{id:"2",name:"Jane Smith",email:"jane@example.com",phone:"8765432109",status:"approved",specialization:["Salon at Home","Massage Therapy"],rating:4.9,totalJobs:85},{id:"3",name:"Bob Johnson",email:"bob@example.com",phone:"7654321098",status:"pending",specialization:["Plumbing Services","Home Cleaning"],rating:0,totalJobs:0}],RS=[{id:"1",name:"Regular User",email:"user@KwikMedi.com",role:"user",status:"active",phone:"9876543210",address:"123 Main St, Apt 4B"},{id:"2",name:"Service Provider",email:"provider@KwikMedi.com",role:"provider",status:"active",phone:"8765432109",address:"456 Park Ave, Suite 10"},{id:"3",name:"Admin User",email:"admin@kwikmedi.com",role:"admin",status:"active",phone:"7654321098"}],GT={};let Ao=RS.filter(e=>e.role==="user"&&e.id).map(e=>({id:e.id,name:e.name||"",email:e.email,phone:e.phone||"",password:e.role==="user"?"Neighshop#user":"Neighshop#admin",role:"user",status:e.status,createdAt:new Date().toISOString()})),Ci=VT.map(e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,password:"Neighshop#provider",service:e.specialization[0],pincode:"400001",address:"",documentUrl:"/documents/provider.pdf",role:"provider",status:e.status,createdAt:new Date().toISOString()}));const Eo=e=>new Promise(t=>setTimeout(t,e)),Ai=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,phone:e.phone}),o1=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e),rg=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),l1=e=>/^\d{10}$/.test(e),Cu=GT?.VITE_API_BASE_URL||"/api",Au={login:async(e,t,n)=>{if(await Eo(1e3),!rg(e))return{success:!1,message:"Invalid email format"};if(n==="admin"){if(e==="admin@kwikmedi.com"&&t==="Neighshop#admin"){const a=RS.find(s=>s.role==="admin");if(a)return{success:!0,message:"Admin login successful",user:a}}return{success:!1,message:"Invalid admin credentials"}}if(n==="user"){const a=Ao.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="active"?{success:!1,message:"Your account is inactive"}:{success:!0,message:"Login successful",user:Ai(a)}}if(n==="provider"){const a=Ci.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="approved"?{success:!1,message:"Your account is pending approval"}:{success:!0,message:"Login successful",user:Ai(a)}}return{success:!1,message:"Invalid credentials"}},registerUser:async e=>{if(await Eo(1e3),!rg(e.email))return{success:!1,message:"Invalid email format"};if(!l1(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!o1(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(Ao.some(n=>n.email===e.email)||Ci.some(n=>n.email===e.email))return{success:!1,message:"Email already registered"};const t={...e,id:(Ao.length+1).toString(),role:"user",status:"active",createdAt:new Date().toISOString()};return Ao.push(t),{success:!0,message:"Registration successful",user:Ai(t)}},registerProvider:async(e,t)=>{if(await Eo(1e3),!rg(e.email))return{success:!1,message:"Invalid email format"};if(!l1(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!o1(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(!e.service)return{success:!1,message:"Service selection is required"};if(!e.pincode||!/^\d{6}$/.test(e.pincode))return{success:!1,message:"Invalid pincode format (6 digits required)"};if(Ao.some(o=>o.email===e.email)||Ci.some(o=>o.email===e.email))return{success:!1,message:"Email already registered"};if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png"].includes(t.type))return{success:!1,message:"Invalid document format"};if(t.size>5*1024*1024)return{success:!1,message:"Document size should be less than 5MB"};const a=URL.createObjectURL(t),s={...e,id:(Ci.length+1).toString(),role:"provider",status:"pending",documentUrl:a,createdAt:new Date().toISOString()};return Ci.push(s),{success:!0,message:"Registration submitted for approval. You will be notified once approved.",user:Ai(s)}},getRegisteredUsers:async()=>(await Eo(500),Ao.map(Ai)),getRegisteredProviders:async()=>(await Eo(500),Ci.map(Ai)),updateProviderStatus:async(e,t)=>{await Eo(500);const n=Ci.find(a=>a.id===e);return n?(n.status=t,{success:!0,message:`Provider ${t} successfully`,user:Ai(n)}):{success:!1,message:"Provider not found"}},sendOTP:async e=>{const t=await fetch(`${Cu}/api/provider/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw new Error("Failed to send OTP");return t.json()},verifyOTP:async(e,t)=>{const n=await fetch(`${Cu}/api/provider/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t})});if(!n.ok)throw new Error("Failed to verify OTP");return n.json()},getServiceProviderInfo:async e=>{const t=await fetch(`${Cu}/create_account_service_provider`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to get service provider info");return t.json()},createServiceProviderAccount:async(e,t)=>{const n=new FormData;n.append("name",t.name),n.append("service_type",t.service_type),n.append("phone_number",t.phone_number),n.append("address",t.address),n.append("pincode",t.pincode),n.append("document",t.document),t.referral&&n.append("referral",t.referral);const a=await fetch(`${Cu}/create_account_service_provider`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:n});if(!a.ok)throw new Error("Failed to create service provider account");return a.json()}},YT={},Oo=YT?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in",FS=g.createContext(void 0),Pr=()=>{const e=g.useContext(FS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},XT=({children:e})=>{const[t,n]=g.useState(null),[a,s]=g.useState(null),[o,c]=g.useState(!0),d=()=>{const b=localStorage.getItem("KwikMedi_user"),_=localStorage.getItem("KwikMedi_token"),S=localStorage.getItem("KwikMedi_role");if(_&&b)try{const P=JSON.parse(b);if(console.log("AuthContext: Restoring user data",{storedRole:S,userData:P}),S==="admin"||S==="helping_staff"||S==="finance_admin"||P.role==="admin"||P.role==="super_admin"||P.role==="helping_staff"||P.role==="helping_staff_admin"||P.role==="finance_admin"){if(_.startsWith("mock_token_")){console.log("AuthContext: Rejecting mock token, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),n(null),c(!1);return}fetch(`${Oo}/api/admin/me`,{headers:{Authorization:`Bearer ${_}`}}).then(C=>{if(C.ok)return C.json();throw new Error("Token validation failed")}).then(C=>{if(C.admin){s(_);let A=C.admin.role;A==="super_admin"?A="admin":A==="helping_staff_admin"&&(A="helping_staff");const O={...C.admin,role:A};console.log("AuthContext: Setting user data after validation",O),n(O),localStorage.setItem("KwikMedi_user",JSON.stringify(O)),localStorage.setItem("KwikMedi_role",A)}else{if((S==="helping_staff"||S==="finance_admin")&&P){console.log(`AuthContext: Using stored ${S} data (admin_me returned no admin)`),s(_);const A={...P,role:S};n(A),localStorage.setItem("KwikMedi_user",JSON.stringify(A)),localStorage.setItem("KwikMedi_role",S),c(!1);return}throw new Error("Invalid response")}}).catch(()=>{console.log("AuthContext: Token validation failed, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),n(null)}).finally(()=>{c(!1)})}else S==="provider"||P.role==="provider"?(s(_),n(P),c(!1)):fetch(`${Oo}/api/user/profile`,{headers:{Authorization:`Bearer ${_}`}}).then(C=>{C.ok?(s(_),n(P)):(localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),n(null))}).catch(()=>{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),n(null)}).finally(()=>{c(!1)})}catch{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),n(null),c(!1)}else c(!1)};g.useEffect(()=>{d();const b=S=>{(S.key==="KwikMedi_token"||S.key==="KwikMedi_user"||S.key==="KwikMedi_role")&&d()},_=()=>{d()};return window.addEventListener("storage",b),window.addEventListener("authUpdate",_),()=>{window.removeEventListener("storage",b),window.removeEventListener("authUpdate",_)}},[]);const j={user:t,isAuthenticated:!!a,isLoading:o,token:a,sendOTP:async b=>{try{await Au.sendOTP(b)}catch(_){throw console.error("Failed to send OTP:",_),_}},verifyOTP:async(b,_)=>{try{const S=await Au.verifyOTP(b,_);if(S.is_existing&&S.token&&S.provider){s(S.token),localStorage.setItem("KwikMedi_token",S.token);const P={id:S.provider.id.toString(),email:S.provider.email,role:"provider",status:S.provider.status||"pending",name:S.provider.name||"",phone:S.provider.phone||""};return n(P),localStorage.setItem("KwikMedi_user",JSON.stringify(P)),localStorage.setItem("KwikMedi_role","provider"),{token:S.token,user:P,isNewUser:!1}}else return{token:null,user:null,isNewUser:!0}}catch(S){throw console.error("OTP verification failed:",S),S}},createServiceProviderAccount:async b=>{if(!a)throw new Error("No authentication token found");try{await Au.createServiceProviderAccount(a,b);const S={email:(await Au.getServiceProviderInfo(a)).email,role:"provider",name:b.name,phone:b.phone_number,status:"pending"};n(S),localStorage.setItem("KwikMedi_user",JSON.stringify(S))}catch(_){throw console.error("Failed to create service provider account:",_),_}},adminLogin:async(b,_)=>{try{const S=await fetch(`${Oo}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:_})}),P=await S.json();if(!S.ok)throw new Error(P.message||"Login failed");if(P.token){s(P.token);const C=P.admin.role==="super_admin"?"admin":P.admin.role,A={...P.admin,role:C};n(A),localStorage.setItem("KwikMedi_token",P.token),localStorage.setItem("KwikMedi_user",JSON.stringify(A)),localStorage.setItem("KwikMedi_role","admin")}else throw new Error("No token received")}catch(S){throw console.error("Admin login failed:",S),S}},login:async(b,_,S="user")=>{try{const P=await fetch(`${Oo}/api/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:_})}),C=await P.json();if(!P.ok)throw new Error(C.message||"Login failed");if(C.token&&C.user){s(C.token);const A={id:C.user.id,email:C.user.email,role:S,status:C.user.status||"active",name:C.user.name||"",phone:C.user.phone||""};n(A),localStorage.setItem("KwikMedi_token",C.token),localStorage.setItem("KwikMedi_user",JSON.stringify(A)),localStorage.setItem("KwikMedi_role",S);const O=localStorage.getItem("selectedService"),I=localStorage.getItem("selectedCategory");O?localStorage.removeItem("selectedService"):I&&localStorage.removeItem("selectedCategory")}else throw new Error("No token or user data received")}catch(P){throw console.error("Login failed:",P),P}},logout:()=>{n(null),s(null),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_role")},refreshUserData:async()=>{try{const b=localStorage.getItem("KwikMedi_token"),_=localStorage.getItem("KwikMedi_role");if(b&&_)if(_==="admin"||_==="helping_staff"||_==="finance_admin")try{const S=await fetch(`${Oo}/api/admin/me`,{headers:{Authorization:`Bearer ${b}`}});if(S.ok){const P=await S.json(),C={...P.admin,role:P.admin.role==="super_admin"?"admin":P.admin.role};n(C),localStorage.setItem("KwikMedi_user",JSON.stringify(C)),console.log("Admin data refreshed:",C)}else S.status===404&&console.log("Admin /me endpoint not found, using stored user data")}catch(S){console.log("Admin /me endpoint error, using stored user data:",S)}else if(_==="provider")console.log("Service provider session maintained - no auto-refresh");else{const S=await fetch(`${Oo}/api/user/profile`,{headers:{Authorization:`Bearer ${b}`}});if(S.ok){const C=(await S.json()).profile,A={id:C.id,email:C.email,role:_,status:C.status||"active",name:C.name||"",phone:C.phone||""};console.log("Refreshing user data:",A),n(A),localStorage.setItem("KwikMedi_user",JSON.stringify(A)),console.log("User data updated in context and localStorage")}else console.error("Failed to refresh user data:",S.status)}}catch(b){console.error("Error refreshing user data:",b)}}};return r.jsx(FS.Provider,{value:j,children:e})},BS=g.createContext(void 0),Yt=()=>{const e=g.useContext(BS);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},JT=({children:e})=>{const[t,n]=g.useState([]),a=g.useCallback((o,c)=>{const d=Math.random().toString(36).substring(2,9);n(u=>[...u,{id:d,message:o,type:c}]),setTimeout(()=>{n(u=>u.filter(p=>p.id!==d))},2500)},[]),s=g.useCallback(o=>{n(c=>c.filter(d=>d.id!==o))},[]);return r.jsx(BS.Provider,{value:{toasts:t,addToast:a,removeToast:s},children:e})},ZT=()=>{const{toasts:e,removeToast:t}=Yt();return e.length===0?null:r.jsx("div",{className:"fixed bottom-0 right-0 p-4 z-50 max-w-md w-full",children:r.jsx("div",{className:"space-y-2",children:e.map(n=>r.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex items-start justify-between transition-all duration-300 animate-slide-up
              ${n.type==="success"?"bg-success text-white":n.type==="error"?"bg-error text-white":n.type==="warning"?"bg-warning text-white":"bg-primary text-secondary-dark"}
            `,children:[r.jsx("p",{children:n.message}),r.jsx("button",{onClick:()=>t(n.id),className:"ml-4 text-sm hover:opacity-70",children:""})]},n.id))})})};var QT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(e,t)=>{const n=g.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:u,...p},f)=>g.createElement("svg",{ref:f,...QT,width:s,height:s,stroke:a,strokeWidth:c?Number(o)*24/Number(s):o,className:["lucide",`lucide-${eI(e)}`,d].join(" "),...p},[...t.map(([h,y])=>g.createElement(h,y)),...Array.isArray(u)?u:[u]]));return n.displayName=`${e}`,n};const tI=ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const Xc=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const ca=ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const f0=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const p0=ke("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const rI=ke("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const nI=ke("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const aI=ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Ec=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const c1=ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const sI=ke("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const US=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const iI=ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const h0=ke("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const kr=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Ki=ke("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Wr=ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const oI=ke("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const ws=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const eo=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Ia=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ul=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const qS=ke("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);const lI=ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Sr=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Qx=ke("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const cI=ke("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const us=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const dI=ke("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Na=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const KS=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const to=ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ng=ke("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);const ag=ke("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);const ia=ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const gf=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const d1=ke("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const u1=ke("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const uI=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const mI=ke("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const fI=ke("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const pI=ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const qo=ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const hI=ke("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const gI=ke("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const xI=ke("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const kc=ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const oa=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const g0=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ms=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const ts=ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const sg=ke("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const yI=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Ja=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const WS=ke("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z",key:"1dba1m"}]]);const Hr=ke("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const vI=ke("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const ig=ke("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const bI=ke("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const ui=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const jI=ke("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const Xo=ke("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);const hn=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const m1=ke("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const qr=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const wI=ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const NI=ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Yr=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const _I=ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const kI=ke("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const um=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const _a=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const SI=ke("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const x0=ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const y0=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const PI=ke("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const fs=ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const mm=ke("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);const ra=ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const ey=ke("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);const CI=ke("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const ty=ke("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const AI=ke("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const ka=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Sc=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Jo=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const HS=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const fm=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const EI=ke("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const Dt=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Sa=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const OI=ke("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const rs=ke("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const gt=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const TI=ke("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),II=()=>{const[e,t]=g.useState(""),[n,a]=g.useState(""),[s,o]=g.useState(!1),c=Cn(),{adminLogin:d,isAuthenticated:u,user:p,isLoading:f}=Pr(),{addToast:h}=Yt();if(g.useEffect(()=>{!f&&u&&p?.role==="admin"&&c("/admin/dashboard",{replace:!0})},[u,p,f,c]),f)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const y=async v=>{v.preventDefault(),o(!0);try{await d(e,n);const N=localStorage.getItem("KwikMedi_user");if(N){const _=JSON.parse(N).role||"";if(_==="finance_admin"){h("Please use Financial Staff login","error"),o(!1);return}if(_==="helping_staff"||_==="helping_staff_admin"){h("Please use Helping Staff login","error"),o(!1);return}}h("Login successful!","success");const j=()=>{u&&p?.role==="admin"?c("/admin/dashboard",{replace:!0}):setTimeout(j,50)};setTimeout(j,100)}catch(N){const j=N?.message||"Login failed. Please check your credentials.";h(j,"error")}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("button",{onClick:()=>c("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[r.jsx(f0,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:r.jsx(_a,{className:"h-8 w-8 text-primary"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Super Admin Login"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Full system access and management"})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[r.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),r.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:v=>t(v.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:v=>a(v.target.value)})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:s?"Logging in...":"Sign in"})})]})]})})},MI=e=>{const t=new Date,n=t.toISOString().split("T")[0];let a;switch(e){case"7d":a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0];break;case"30d":a=new Date(t.setDate(t.getDate()-30)).toISOString().split("T")[0];break;case"90d":a=new Date(t.setDate(t.getDate()-90)).toISOString().split("T")[0];break;case"1y":a=new Date(t.setFullYear(t.getFullYear()-1)).toISOString().split("T")[0];break;default:a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0]}return{from:a,to:n}},DI=({dateFrom:e,dateTo:t,onDateRangeChange:n,onExport:a})=>{const s=d=>{const{from:u,to:p}=MI(d);n(u,p)},o=(d,u)=>{d==="from"?n(u,t):n(e,u)},c=()=>{const u=new Date().toISOString().split("T")[0];if(t===u){const p=Math.ceil((new Date(t).getTime()-new Date(e).getTime())/864e5);if(p<=7)return"7d";if(p<=30)return"30d";if(p<=90)return"90d";if(p<=365)return"1y"}return"custom"};return r.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200/50 z-50 shadow-sm",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"h-16 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-xl shadow-lg",children:r.jsx(aI,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Platform Analytics & Management"})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[r.jsx(kr,{className:"w-4 h-4 text-gray-400"}),r.jsxs("select",{value:c(),onChange:d=>{d.target.value!=="custom"&&s(d.target.value)},className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700 font-medium",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"}),r.jsx("option",{value:"custom",children:"Custom Range"})]})]}),c()==="custom"&&r.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[r.jsx("input",{type:"date",value:e,onChange:d=>o("from",d.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",max:t}),r.jsx("span",{className:"text-gray-400",children:"to"}),r.jsx("input",{type:"date",value:t,onChange:d=>o("to",d.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",min:e,max:new Date().toISOString().split("T")[0]})]}),a&&r.jsxs("button",{onClick:a,className:"flex items-center space-x-2 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-all duration-200 shadow-md hover:shadow-lg",children:[r.jsx(KS,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]}),r.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(Yr,{className:"w-5 h-5"})})]})]})})})},LI={},$I=LI?.VITE_API_BASE_URL||"/api",ml=$I,zI=(e,t)=>({metrics:{total_revenue:245678.5,total_bookings:1234,completed_bookings:1156,active_users:856,active_providers:234,pending_disputes:12,platform_revenue:24567.85,new_users_today:23,new_providers_today:5},growth_rates:{revenue_growth:15.5,booking_growth:22.3,user_growth:18.7},recent_activity:{new_bookings:45,completed_bookings:38,new_disputes:2,payments_received:42},date_range:{from:e,to:t}}),VS=(e,t)=>{const[n,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Pr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(zI(e,t)),o(!1)},500);return}try{const h=await fetch(`${ml}/admin/analytics/dashboard?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const y=await h.json();if(!y.success)throw new Error(y.message||"Failed to fetch dashboard data");a({metrics:y.metrics,growth_rates:y.growth_rates,recent_activity:y.recent_activity,date_range:y.date_range})}catch(h){console.error("Error fetching dashboard data:",h),d(h.message||"Failed to fetch dashboard data"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:n,loading:s,error:c}},RI=()=>({trend:[{period:"2024-01-01",total_revenue:12500,platform_revenue:1250,transaction_count:45,avg_transaction_value:277.78},{period:"2024-01-02",total_revenue:13800,platform_revenue:1380,transaction_count:52,avg_transaction_value:265.38},{period:"2024-01-03",total_revenue:15200,platform_revenue:1520,transaction_count:58,avg_transaction_value:262.07},{period:"2024-01-04",total_revenue:14100,platform_revenue:1410,transaction_count:54,avg_transaction_value:261.11},{period:"2024-01-05",total_revenue:16700,platform_revenue:1670,transaction_count:63,avg_transaction_value:265.08}],payment_methods:[{method:"Credit Card",total_amount:145678,transaction_count:523},{method:"Debit Card",total_amount:67890,transaction_count:312},{method:"UPI",total_amount:32110,transaction_count:399}],category_revenue:[{category:"Plumbing",total_revenue:45678,booking_count:234,avg_booking_value:195.21},{category:"Electrical",total_revenue:38900,booking_count:198,avg_booking_value:196.46},{category:"Cleaning",total_revenue:32100,booking_count:267,avg_booking_value:120.34},{category:"Carpentry",total_revenue:28900,booking_count:145,avg_booking_value:199.31}],top_providers:[{name:"John Smith",business_name:"Smith Services",total_earnings:12345,booking_count:67},{name:"Sarah Johnson",business_name:"Johnson Pro",total_earnings:11234,booking_count:58},{name:"Mike Williams",business_name:"Williams Solutions",total_earnings:9876,booking_count:52}]}),FI=(e,t)=>{const[n,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Pr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(RI()),o(!1)},500);return}try{const h=await fetch(`${ml}/admin/analytics/revenue?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const y=await h.json();if(!y.success)throw new Error(y.message||"Failed to fetch revenue data");a(y.revenue_data)}catch(h){console.error("Error fetching revenue data:",h),d(h.message||"Failed to fetch revenue data"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:n,loading:s,error:c}},BI=()=>({registration_trend:[{date:"2024-01-01",new_users:12},{date:"2024-01-02",new_users:18},{date:"2024-01-03",new_users:15},{date:"2024-01-04",new_users:22},{date:"2024-01-05",new_users:19}],activity_metrics:{total_users:856,active_users_30d:623,verified_users:712,users_with_bookings:534},geographic_distribution:[{city:"Mumbai",state:"Maharashtra",user_count:234,active_users:189},{city:"Delhi",state:"Delhi",user_count:198,active_users:156},{city:"Bangalore",state:"Karnataka",user_count:167,active_users:134},{city:"Pune",state:"Maharashtra",user_count:123,active_users:98}],engagement_metrics:{avg_bookings_per_user:2.3,avg_spent_per_user:456.78,repeat_user_rate:68.5},cohort_analysis:[{month:"2024-01",users_count:234,retention_rate:85.2},{month:"2023-12",users_count:198,retention_rate:82.3},{month:"2023-11",users_count:167,retention_rate:79.6}]}),UI=(e,t)=>{const[n,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Pr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(BI()),o(!1)},500);return}try{const h=await fetch(`${ml}/admin/analytics/users?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const y=await h.json();if(!y.success)throw new Error(y.message||"Failed to fetch user analytics");a(y.user_analytics)}catch(h){console.error("Error fetching user analytics:",h),d(h.message||"Failed to fetch user analytics"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:n,loading:s,error:c}},qI=()=>({booking_trend:[{date:"2024-01-01",total_bookings:45,completed_bookings:42,cancelled_bookings:3,completion_rate:93.3},{date:"2024-01-02",total_bookings:52,completed_bookings:48,cancelled_bookings:4,completion_rate:92.3},{date:"2024-01-03",total_bookings:58,completed_bookings:55,cancelled_bookings:3,completion_rate:94.8},{date:"2024-01-04",total_bookings:54,completed_bookings:51,cancelled_bookings:3,completion_rate:94.4},{date:"2024-01-05",total_bookings:63,completed_bookings:60,cancelled_bookings:3,completion_rate:95.2}],status_distribution:[{status:"completed",count:1156},{status:"pending",count:45},{status:"in_progress",count:23},{status:"cancelled",count:10}],peak_booking_times:[{hour:9,booking_count:45},{hour:10,booking_count:67},{hour:11,booking_count:89},{hour:14,booking_count:78},{hour:15,booking_count:92},{hour:16,booking_count:85}],category_performance:[{category:"Plumbing",total_bookings:234,completed_bookings:221,completion_rate:94.4,avg_booking_value:195.21,avg_rating:4.6},{category:"Electrical",total_bookings:198,completed_bookings:187,completion_rate:94.4,avg_booking_value:196.46,avg_rating:4.7},{category:"Cleaning",total_bookings:267,completed_bookings:254,completion_rate:95.1,avg_booking_value:120.34,avg_rating:4.5}],conversion_funnel:{searches:5678,profile_views:3456,bookings:1234,completed_bookings:1156,search_to_booking_rate:21.7,booking_completion_rate:93.7}}),KI=(e,t)=>{const[n,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Pr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(qI()),o(!1)},500);return}try{const h=await fetch(`${ml}/admin/analytics/bookings?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const y=await h.json();if(!y.success)throw new Error(y.message||"Failed to fetch booking analytics");a(y.booking_analytics)}catch(h){console.error("Error fetching booking analytics:",h),d(h.message||"Failed to fetch booking analytics"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:n,loading:s,error:c}},WI=()=>({registration_trend:[{date:"2024-01-01",new_providers:3},{date:"2024-01-02",new_providers:5},{date:"2024-01-03",new_providers:4},{date:"2024-01-04",new_providers:6},{date:"2024-01-05",new_providers:5}],status_distribution:[{status:"approved",verification_status:"verified",count:189},{status:"approved",verification_status:"pending",count:45},{status:"pending",verification_status:"pending",count:23},{status:"rejected",verification_status:"rejected",count:12}],top_performers:[{name:"John Smith",business_name:"Smith Services",rating:4.8,total_bookings:67,completed_bookings:65,completion_rate:97,total_earnings:12345},{name:"Sarah Johnson",business_name:"Johnson Pro",rating:4.7,total_bookings:58,completed_bookings:56,completion_rate:96.6,total_earnings:11234},{name:"Mike Williams",business_name:"Williams Solutions",rating:4.6,total_bookings:52,completed_bookings:50,completion_rate:96.2,total_earnings:9876}],performance_metrics:{avg_platform_rating:4.5,active_providers:234,verified_providers:189,avg_completion_rate:94.2},category_distribution:[{category:"Plumbing",provider_count:67,avg_rating:4.6},{category:"Electrical",provider_count:54,avg_rating:4.7},{category:"Cleaning",provider_count:78,avg_rating:4.5},{category:"Carpentry",provider_count:35,avg_rating:4.6}]}),HI=(e,t)=>{const[n,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Pr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(WI()),o(!1)},500);return}try{const h=await fetch(`${ml}/admin/analytics/providers?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const y=await h.json();if(!y.success)throw new Error(y.message||"Failed to fetch provider analytics");a(y.provider_analytics)}catch(h){console.error("Error fetching provider analytics:",h),d(h.message||"Failed to fetch provider analytics"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:n,loading:s,error:c}},VI=()=>({current_metrics:{avg_response_time_ms:145,avg_db_query_time_ms:23,avg_server_load:45.6,avg_memory_usage:62.3,avg_error_rate:.12,avg_uptime:99.8},time_series:[{timestamp:"2024-01-05T00:00:00Z",response_time:142,db_query_time:21,active_sessions:234,server_load:43.2,memory_usage:60.1,error_rate:.1},{timestamp:"2024-01-05T01:00:00Z",response_time:145,db_query_time:23,active_sessions:256,server_load:45.6,memory_usage:62.3,error_rate:.12},{timestamp:"2024-01-05T02:00:00Z",response_time:148,db_query_time:24,active_sessions:278,server_load:47.8,memory_usage:64.5,error_rate:.14},{timestamp:"2024-01-05T03:00:00Z",response_time:143,db_query_time:22,active_sessions:245,server_load:44.1,memory_usage:61.2,error_rate:.11}]}),GI=()=>{const[e,t]=g.useState(null),[n,a]=g.useState(!0),[s,o]=g.useState(null),{token:c}=Pr();return g.useEffect(()=>{(async()=>{const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{t(VI()),a(!1)},500);return}try{const p=await fetch(`${ml}/admin/analytics/system-performance`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!p.ok)throw p.status===401?new Error("Unauthorized: Please log in again"):p.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${p.status}`);const f=await p.json();if(!f.success)throw new Error(f.message||"Failed to fetch system performance data");t(f.performance_data)}catch(p){console.error("Error fetching system performance data:",p),o(p.message||"Failed to fetch system performance data"),t(null)}finally{a(!1)}})()},[c]),{data:e,loading:n,error:s}},YI=({dateFrom:e,dateTo:t})=>{const{data:n,loading:a,error:s}=VS(e,t);if(a)return r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((c,d)=>r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),r.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full"})]}),r.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},d))});if(s||!n)return r.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load metrics"});const o=[{name:"Total Revenue",value:`${n.metrics.total_revenue.toLocaleString("en-IN")}`,change:`${n.growth_rates.revenue_growth>0?"+":""}${n.growth_rates.revenue_growth}%`,changeType:n.growth_rates.revenue_growth>=0?"positive":"negative",icon:Na,gradient:"bg-primary"},{name:"Total Orders",value:n.metrics.total_bookings.toLocaleString("en-IN"),change:`${n.growth_rates.booking_growth>0?"+":""}${n.growth_rates.booking_growth}%`,changeType:n.growth_rates.booking_growth>=0?"positive":"negative",icon:kr,gradient:"bg-primary"},{name:"Completed Orders",value:n.metrics.completed_bookings.toLocaleString("en-IN"),change:`${(n.metrics.completed_bookings/n.metrics.total_bookings*100).toFixed(1)}%`,changeType:"positive",icon:Wr,gradient:"bg-primary"},{name:"Active Users",value:n.metrics.active_users.toLocaleString("en-IN"),change:`${n.growth_rates.user_growth>0?"+":""}${n.growth_rates.user_growth}%`,changeType:n.growth_rates.user_growth>=0?"positive":"negative",icon:Sa,gradient:"bg-primary"},{name:"Active Vendors",value:n.metrics.active_providers.toLocaleString("en-IN"),change:`${n.metrics.new_providers_today>0?"+":""}${n.metrics.new_providers_today}`,changeType:"positive",icon:mm,gradient:"bg-primary"},{name:"Platform Revenue",value:`${n.metrics.platform_revenue.toLocaleString("en-IN")}`,change:`${(n.metrics.platform_revenue/n.metrics.total_revenue*100).toFixed(1)}% of total`,changeType:"positive",icon:iI,gradient:"bg-primary"},{name:"New Users Today",value:n.metrics.new_users_today.toLocaleString(),change:"Today",changeType:"positive",icon:fm,gradient:"bg-primary"},{name:"Pending Disputes",value:n.metrics.pending_disputes.toLocaleString("en-IN"),change:"Active",changeType:"negative",icon:Xc,gradient:"bg-primary"}];return r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((c,d)=>{const u=c.icon;return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20 hover:scale-105 hover:bg-white/90",style:{animationDelay:`${d*50}ms`},children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("div",{className:`flex items-center justify-center w-12 h-12 ${c.gradient} rounded-xl shadow-md`,children:r.jsx(u,{className:"w-6 h-6 text-white"})}),r.jsx("div",{className:`text-sm font-semibold px-3 py-1 rounded-full ${c.changeType==="positive","text-primary bg-secondary border border-primary/20"}`,children:c.change})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:c.value}),r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:c.name})]})]},c.name)})})};function GS(e){var t,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=GS(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function ft(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=GS(e))&&(a&&(a+=" "),a+=t);return a}var XI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function v0(e){if(typeof e!="string")return!1;var t=XI;return t.includes(e)}var JI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZI=new Set(JI);function YS(e){return typeof e!="string"?!1:ZI.has(e)}function XS(e){return typeof e=="string"&&e.startsWith("data-")}function rn(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YS(n)||XS(n))&&(t[n]=e[n]);return t}function Wi(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return rn(t)}return typeof e=="object"&&!Array.isArray(e)?rn(e):null}function Gr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YS(n)||XS(n)||v0(n))&&(t[n]=e[n]);return t}function QI(e){return e==null?null:g.isValidElement(e)?Gr(e.props):typeof e=="object"&&!Array.isArray(e)?Gr(e):null}var e6=["children","width","height","viewBox","className","style","title","desc"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ry.apply(null,arguments)}function t6(e,t){if(e==null)return{};var n,a,s=r6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function r6(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var b0=g.forwardRef((e,t)=>{var{children:n,width:a,height:s,viewBox:o,className:c,style:d,title:u,desc:p}=e,f=t6(e,e6),h=o||{width:a,height:s,x:0,y:0},y=ft("recharts-surface",c);return g.createElement("svg",ry({},Gr(f),{className:y,width:a,height:s,style:d,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),g.createElement("title",null,u),g.createElement("desc",null,p),n)}),n6=["children","className"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ny.apply(null,arguments)}function a6(e,t){if(e==null)return{};var n,a,s=s6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function s6(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var Gt=g.forwardRef((e,t)=>{var{children:n,className:a}=e,s=a6(e,n6),o=ft("recharts-layer",a);return g.createElement("g",ny({className:o},Gr(s),{ref:t}),n)}),JS=g.createContext(null),i6=()=>g.useContext(JS);function Et(e){return function(){return e}}const ZS=Math.cos,pm=Math.sin,ua=Math.sqrt,hm=Math.PI,xf=2*hm,ay=Math.PI,sy=2*ay,Ii=1e-6,o6=sy-Ii;function QS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function l6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QS;const n=10**t;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*n)/n+a[s]}}class c6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QS:l6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,a,s){this._append`Q${+t},${+n},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,n,a,s,o,c){this._append`C${+t},${+n},${+a},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(t,n,a,s,o){if(t=+t,n=+n,a=+a,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,d=this._y1,u=a-t,p=s-n,f=c-t,h=d-n,y=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>Ii)if(!(Math.abs(h*u-p*f)>Ii)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let v=a-c,N=s-d,j=u*u+p*p,b=v*v+N*N,_=Math.sqrt(j),S=Math.sqrt(y),P=o*Math.tan((ay-Math.acos((j+y-b)/(2*_*S)))/2),C=P/S,A=P/_;Math.abs(C-1)>Ii&&this._append`L${t+C*f},${n+C*h}`,this._append`A${o},${o},0,0,${+(h*v>f*N)},${this._x1=t+A*u},${this._y1=n+A*p}`}}arc(t,n,a,s,o,c){if(t=+t,n=+n,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),u=a*Math.sin(s),p=t+d,f=n+u,h=1^c,y=c?s-o:o-s;this._x1===null?this._append`M${p},${f}`:(Math.abs(this._x1-p)>Ii||Math.abs(this._y1-f)>Ii)&&this._append`L${p},${f}`,a&&(y<0&&(y=y%sy+sy),y>o6?this._append`A${a},${a},0,1,${h},${t-d},${n-u}A${a},${a},0,1,${h},${this._x1=p},${this._y1=f}`:y>Ii&&this._append`A${a},${a},0,${+(y>=ay)},${h},${this._x1=t+a*Math.cos(o)},${this._y1=n+a*Math.sin(o)}`)}rect(t,n,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function j0(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const a=Math.floor(n);if(!(a>=0))throw new RangeError(`invalid digits: ${n}`);t=a}return e},()=>new c6(t)}function w0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eP(e){this._context=e}eP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function yf(e){return new eP(e)}function tP(e){return e[0]}function rP(e){return e[1]}function nP(e,t){var n=Et(!0),a=null,s=yf,o=null,c=j0(d);e=typeof e=="function"?e:e===void 0?tP:Et(e),t=typeof t=="function"?t:t===void 0?rP:Et(t);function d(u){var p,f=(u=w0(u)).length,h,y=!1,v;for(a==null&&(o=s(v=c())),p=0;p<=f;++p)!(p<f&&n(h=u[p],p,u))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+e(h,p,u),+t(h,p,u));if(v)return o=null,v+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:Et(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:Et(+u),d):t},d.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Et(!!u),d):n},d.curve=function(u){return arguments.length?(s=u,a!=null&&(o=s(a)),d):s},d.context=function(u){return arguments.length?(u==null?a=o=null:o=s(a=u),d):a},d}function Eu(e,t,n){var a=null,s=Et(!0),o=null,c=yf,d=null,u=j0(p);e=typeof e=="function"?e:e===void 0?tP:Et(+e),t=typeof t=="function"?t:Et(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?rP:Et(+n);function p(h){var y,v,N,j=(h=w0(h)).length,b,_=!1,S,P=new Array(j),C=new Array(j);for(o==null&&(d=c(S=u())),y=0;y<=j;++y){if(!(y<j&&s(b=h[y],y,h))===_)if(_=!_)v=y,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),N=y-1;N>=v;--N)d.point(P[N],C[N]);d.lineEnd(),d.areaEnd()}_&&(P[y]=+e(b,y,h),C[y]=+t(b,y,h),d.point(a?+a(b,y,h):P[y],n?+n(b,y,h):C[y]))}if(S)return d=null,S+""||null}function f(){return nP().defined(s).curve(c).context(o)}return p.x=function(h){return arguments.length?(e=typeof h=="function"?h:Et(+h),a=null,p):e},p.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Et(+h),p):e},p.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Et(+h),p):a},p.y=function(h){return arguments.length?(t=typeof h=="function"?h:Et(+h),n=null,p):t},p.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Et(+h),p):t},p.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Et(+h),p):n},p.lineX0=p.lineY0=function(){return f().x(e).y(t)},p.lineY1=function(){return f().x(e).y(n)},p.lineX1=function(){return f().x(a).y(t)},p.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Et(!!h),p):s},p.curve=function(h){return arguments.length?(c=h,o!=null&&(d=c(o)),p):c},p.context=function(h){return arguments.length?(h==null?o=d=null:d=c(o=h),p):o},p}class aP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function d6(e){return new aP(e,!0)}function u6(e){return new aP(e,!1)}const N0={draw(e,t){const n=ua(t/hm);e.moveTo(n,0),e.arc(0,0,n,0,xf)}},m6={draw(e,t){const n=ua(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},sP=ua(1/3),f6=sP*2,p6={draw(e,t){const n=ua(t/f6),a=n*sP;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}},h6={draw(e,t){const n=ua(t),a=-n/2;e.rect(a,a,n,n)}},g6=.8908130915292852,iP=pm(hm/10)/pm(7*hm/10),x6=pm(xf/10)*iP,y6=-ZS(xf/10)*iP,v6={draw(e,t){const n=ua(t*g6),a=x6*n,s=y6*n;e.moveTo(0,-n),e.lineTo(a,s);for(let o=1;o<5;++o){const c=xf*o/5,d=ZS(c),u=pm(c);e.lineTo(u*n,-d*n),e.lineTo(d*a-u*s,u*a+d*s)}e.closePath()}},og=ua(3),b6={draw(e,t){const n=-ua(t/(og*3));e.moveTo(0,n*2),e.lineTo(-og*n,-n),e.lineTo(og*n,-n),e.closePath()}},Ln=-.5,$n=ua(3)/2,iy=1/ua(12),j6=(iy/2+1)*3,w6={draw(e,t){const n=ua(t/j6),a=n/2,s=n*iy,o=a,c=n*iy+n,d=-o,u=c;e.moveTo(a,s),e.lineTo(o,c),e.lineTo(d,u),e.lineTo(Ln*a-$n*s,$n*a+Ln*s),e.lineTo(Ln*o-$n*c,$n*o+Ln*c),e.lineTo(Ln*d-$n*u,$n*d+Ln*u),e.lineTo(Ln*a+$n*s,Ln*s-$n*a),e.lineTo(Ln*o+$n*c,Ln*c-$n*o),e.lineTo(Ln*d+$n*u,Ln*u-$n*d),e.closePath()}};function N6(e,t){let n=null,a=j0(s);e=typeof e=="function"?e:Et(e||N0),t=typeof t=="function"?t:Et(t===void 0?64:+t);function s(){let o;if(n||(n=o=a()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Et(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Et(+o),s):t},s.context=function(o){return arguments.length?(n=o??null,s):n},s}function gm(){}function xm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oP(e){this._context=e}oP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _6(e){return new oP(e)}function lP(e){this._context=e}lP.prototype={areaStart:gm,areaEnd:gm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k6(e){return new lP(e)}function cP(e){this._context=e}cP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break;case 3:this._point=4;default:xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S6(e){return new cP(e)}function dP(e){this._context=e}dP.prototype={areaStart:gm,areaEnd:gm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P6(e){return new dP(e)}function f1(e){return e<0?-1:1}function p1(e,t,n){var a=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(a||s<0&&-0),c=(n-e._y1)/(s||a<0&&-0),d=(o*s+c*a)/(a+s);return(f1(o)+f1(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(d))||0}function h1(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function lg(e,t,n){var a=e._x0,s=e._y0,o=e._x1,c=e._y1,d=(o-a)/3;e._context.bezierCurveTo(a+d,s+d*t,o-d,c-d*n,o,c)}function ym(e){this._context=e}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lg(this,this._t0,h1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lg(this,h1(this,n=p1(this,e,t)),n);break;default:lg(this,this._t0,n=p1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function uP(e){this._context=new mP(e)}(uP.prototype=Object.create(ym.prototype)).point=function(e,t){ym.prototype.point.call(this,t,e)};function mP(e){this._context=e}mP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,a,s,o){this._context.bezierCurveTo(t,e,a,n,o,s)}};function C6(e){return new ym(e)}function A6(e){return new uP(e)}function fP(e){this._context=e}fP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var a=g1(e),s=g1(t),o=0,c=1;c<n;++o,++c)this._context.bezierCurveTo(a[0][o],s[0][o],a[1][o],s[1][o],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function g1(e){var t,n=e.length-1,a,s=new Array(n),o=new Array(n),c=new Array(n);for(s[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,o[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)a=s[t]/o[t-1],o[t]-=a,c[t]-=a*c[t-1];for(s[n-1]=c[n-1]/o[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/o[t];for(o[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function E6(e){return new fP(e)}function vf(e,t){this._context=e,this._t=t}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function O6(e){return new vf(e,.5)}function T6(e){return new vf(e,0)}function I6(e){return new vf(e,1)}function Hi(e,t){if((c=e.length)>1)for(var n=1,a,s,o=e[t[0]],c,d=o.length;n<c;++n)for(s=o,o=e[t[n]],a=0;a<d;++a)o[a][1]+=o[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function oy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function M6(e,t){return e[t]}function D6(e){const t=[];return t.key=e,t}function L6(){var e=Et([]),t=oy,n=Hi,a=M6;function s(o){var c=Array.from(e.apply(this,arguments),D6),d,u=c.length,p=-1,f;for(const h of o)for(d=0,++p;d<u;++d)(c[d][p]=[0,+a(h,c[d].key,p,o)]).data=h;for(d=0,f=w0(t(c));d<u;++d)c[f[d]].index=d;return n(c,f),c}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Et(Array.from(o)),s):e},s.value=function(o){return arguments.length?(a=typeof o=="function"?o:Et(+o),s):a},s.order=function(o){return arguments.length?(t=o==null?oy:typeof o=="function"?o:Et(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(n=o??Hi,s):n},s}function $6(e,t){if((a=e.length)>0){for(var n,a,s=0,o=e[0].length,c;s<o;++s){for(c=n=0;n<a;++n)c+=e[n][s][1]||0;if(c)for(n=0;n<a;++n)e[n][s][1]/=c}Hi(e,t)}}function z6(e,t){if((s=e.length)>0){for(var n=0,a=e[t[0]],s,o=a.length;n<o;++n){for(var c=0,d=0;c<s;++c)d+=e[c][n][1]||0;a[n][1]+=a[n][0]=-d/2}Hi(e,t)}}function R6(e,t){if(!(!((c=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var n=0,a=1,s,o,c;a<o;++a){for(var d=0,u=0,p=0;d<c;++d){for(var f=e[t[d]],h=f[a][1]||0,y=f[a-1][1]||0,v=(h-y)/2,N=0;N<d;++N){var j=e[t[N]],b=j[a][1]||0,_=j[a-1][1]||0;v+=b-_}u+=h,p+=v*h}s[a-1][1]+=s[a-1][0]=n,u&&(n-=p/u)}s[a-1][1]+=s[a-1][0]=n,Hi(e,t)}}var cg={},dg={},x1;function F6(){return x1||(x1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(dg)),dg}var ug={},y1;function pP(){return y1||(y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(ug)),ug}var mg={},v1;function _0(){return v1||(v1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(mg)),mg}var fg={},pg={},b1;function B6(){return b1||(b1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const a=String(n);return a==="0"&&Object.is(Number(n),-0)?"-0":a}e.toString=t})(pg)),pg}var j1;function k0(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B6(),n=_0();function a(s){if(Array.isArray(s))return s.map(n.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],c=s.length;if(c===0)return o;let d=0,u="",p="",f=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<c;){const h=s[d];p?h==="\\"&&d+1<c?(d++,u+=s[d]):h===p?p="":u+=h:f?h==='"'||h==="'"?p=h:h==="]"?(f=!1,o.push(u),u=""):u+=h:h==="["?(f=!0,u&&(o.push(u),u="")):h==="."?u&&(o.push(u),u=""):u+=h,d++}return u&&o.push(u),o}e.toPath=a})(fg)),fg}var w1;function S0(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F6(),n=pP(),a=_0(),s=k0();function o(d,u,p){if(d==null)return p;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return p;const f=d[u];return f===void 0?n.isDeepKey(u)?o(d,s.toPath(u),p):p:f}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const f=d[u];return f===void 0?p:f}default:{if(Array.isArray(u))return c(d,u,p);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return p;const f=d[u];return f===void 0?p:f}}}function c(d,u,p){if(u.length===0)return p;let f=d;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return p;f=f[u[h]]}return f===void 0?p:f}e.get=o})(cg)),cg}var hg,N1;function U6(){return N1||(N1=1,hg=S0().get),hg}var q6=U6();const Vi=js(q6);var K6=4;function ai(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K6,n=10**t,a=Math.round(e*n)/n;return Object.is(a,-0)?0:a}function Ht(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.reduce((s,o,c)=>{var d=n[c-1];return typeof d=="string"?s+d+o:d!==void 0?s+ai(d)+o:s+o},"")}var _r=e=>e===0?0:e>0?1:-1,Bn=e=>typeof e=="number"&&e!=+e,ps=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Le=e=>(typeof e=="number"||e instanceof Number)&&!Bn(e),Pa=e=>Le(e)||typeof e=="string",W6=0,Oc=e=>{var t=++W6;return"".concat(e||"").concat(t)},Vr=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&typeof t!="string")return a;var o;if(ps(t)){if(n==null)return a;var c=t.indexOf("%");o=n*parseFloat(t.slice(0,c))/100}else o=+t;return Bn(o)&&(o=a),s&&n!=null&&o>n&&(o=n),o},hP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},a=0;a<t;a++)if(!n[String(e[a])])n[String(e[a])]=!0;else return!0;return!1};function bt(e,t,n){return Le(e)&&Le(t)?ai(e+n*(t-e)):t}function gP(e,t,n){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Vi(a,t))===n)}var Lt=e=>e===null||typeof e>"u",Jc=e=>Lt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function H6(e){return e!=null}function Zc(){}var V6=["type","size","sizeType"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ly.apply(null,arguments)}function _1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(n),!0).forEach(function(a){G6(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function G6(e,t,n){return(t=Y6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y6(e){var t=X6(e,"string");return typeof t=="symbol"?t:t+""}function X6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J6(e,t){if(e==null)return{};var n,a,s=Z6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Z6(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var xP={symbolCircle:N0,symbolCross:m6,symbolDiamond:p6,symbolSquare:h6,symbolStar:v6,symbolTriangle:b6,symbolWye:w6},Q6=Math.PI/180,eM=e=>{var t="symbol".concat(Jc(e));return xP[t]||N0},tM=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Q6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rM=(e,t)=>{xP["symbol".concat(Jc(e))]=t},P0=e=>{var{type:t="circle",size:n=64,sizeType:a="area"}=e,s=J6(e,V6),o=k1(k1({},s),{},{type:t,size:n,sizeType:a}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var y=eM(c),v=N6().type(y).size(tM(n,a,c)),N=v();if(N!==null)return N},{className:u,cx:p,cy:f}=o,h=Gr(o);return Le(p)&&Le(f)&&Le(n)?g.createElement("path",ly({},h,{className:ft("recharts-symbols",u),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};P0.registerSymbol=rM;var yP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,C0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(s=>{v0(s)&&(a[s]=(o=>n[s](n,o)))}),a},nM=(e,t,n)=>a=>(e(t,n,a),null),Qc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var o=e[s];v0(s)&&typeof o=="function"&&(a||(a={}),a[s]=nM(o,t,n))}),a};function S1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(n),!0).forEach(function(a){sM(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sM(e,t,n){return(t=iM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iM(e){var t=oM(e,"string");return typeof t=="symbol"?t:t+""}function oM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xt(e,t){var n=aM({},e),a=t,s=Object.keys(t),o=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),n);return o}function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vm.apply(null,arguments)}function P1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(n),!0).forEach(function(a){cM(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cM(e,t,n){return(t=dM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dM(e){var t=uM(e,"string");return typeof t=="symbol"?t:t+""}function uM(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn=32,mM={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function fM(e){var{data:t,iconType:n,inactiveColor:a}=e,s=Rn/2,o=Rn/6,c=Rn/3,d=t.inactive?a:t.color,u=n??t.type;if(u==="none")return null;if(u==="plainline"){var p;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(p=t.payload)===null||p===void 0?void 0:p.strokeDasharray,x1:0,y1:s,x2:Rn,y2:s,className:"recharts-legend-icon"})}if(u==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Rn,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(u==="rect")return g.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rn/8,"h").concat(Rn,"v").concat(Rn*3/4,"h").concat(-Rn,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var f=lM({},t);return delete f.legendIcon,g.cloneElement(t.legendIcon,f)}return g.createElement(P0,{fill:d,cx:s,cy:s,size:Rn,sizeType:"diameter",type:u})}function pM(e){var{payload:t,iconSize:n,layout:a,formatter:s,inactiveColor:o,iconType:c}=e,d={x:0,y:0,width:Rn,height:Rn},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,h)=>{var y=f.formatter||s,v=ft({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var N=f.inactive?o:f.color,j=y?y(f.value,f,h):f.value;return g.createElement("li",vm({className:v,style:u,key:"legend-item-".concat(h)},Qc(e,f,h)),g.createElement(b0,{width:n,height:n,viewBox:d,style:p,"aria-label":"".concat(j," legend icon")},g.createElement(fM,{data:f,iconType:c,inactiveColor:o})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},j))})}var hM=e=>{var t=Xt(e,mM),{payload:n,layout:a,align:s}=t;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:o},g.createElement(pM,vm({},t,{payload:n})))},gg={},xg={},C1;function gM(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){const s=new Map;for(let o=0;o<n.length;o++){const c=n[o],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(xg)),xg}var yg={},A1;function vP(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(yg)),yg}var vg={},bg={},jg={},E1;function xM(){return E1||(E1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(jg)),jg}var O1;function A0(){return O1||(O1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xM();function n(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=n})(bg)),bg}var wg={},T1;function yM(){return T1||(T1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(wg)),wg}var I1;function vM(){return I1||(I1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A0(),n=yM();function a(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(vg)),vg}var Ng={},_g={},M1;function bM(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S0();function n(a){return function(s){return t.get(s,a)}}e.property=n})(_g)),_g}var kg={},Sg={},Pg={},Cg={},D1;function bP(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Cg)),Cg}var Ag={},L1;function jP(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ag)),Ag}var Eg={},$1;function wP(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a){return n===a||Number.isNaN(n)&&Number.isNaN(a)}e.eq=t})(Eg)),Eg}var z1;function jM(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bP(),n=jP(),a=wP();function s(f,h,y){return typeof y!="function"?s(f,h,()=>{}):o(f,h,function v(N,j,b,_,S,P){const C=y(N,j,b,_,S,P);return C!==void 0?!!C:o(N,j,v,P)},new Map)}function o(f,h,y,v){if(h===f)return!0;switch(typeof h){case"object":return c(f,h,y,v);case"function":return Object.keys(h).length>0?o(f,{...h},y,v):a.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function c(f,h,y,v){if(h==null)return!0;if(Array.isArray(h))return u(f,h,y,v);if(h instanceof Map)return d(f,h,y,v);if(h instanceof Set)return p(f,h,y,v);const N=Object.keys(h);if(f==null||n.isPrimitive(f))return N.length===0;if(N.length===0)return!0;if(v?.has(h))return v.get(h)===f;v?.set(h,f);try{for(let j=0;j<N.length;j++){const b=N[j];if(!n.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!y(f[b],h[b],b,f,h,v))return!1}return!0}finally{v?.delete(h)}}function d(f,h,y,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[N,j]of h.entries()){const b=f.get(N);if(y(b,j,N,f,h,v)===!1)return!1}return!0}function u(f,h,y,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const N=new Set;for(let j=0;j<h.length;j++){const b=h[j];let _=!1;for(let S=0;S<f.length;S++){if(N.has(S))continue;const P=f[S];let C=!1;if(y(P,b,j,f,h,v)&&(C=!0),C){N.add(S),_=!0;break}}if(!_)return!1}return!0}function p(f,h,y,v){return h.size===0?!0:f instanceof Set?u([...f],[...h],y,v):!1}e.isMatchWith=s,e.isSetMatch=p})(Pg)),Pg}var R1;function NP(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jM();function n(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=n})(Sg)),Sg}var Og={},Tg={},Ig={},F1;function wM(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(a=>Object.prototype.propertyIsEnumerable.call(n,a))}e.getSymbols=t})(Ig)),Ig}var Mg={},B1;function _P(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Mg)),Mg}var Dg={},U1;function kP(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",a="[object Number]",s="[object Boolean]",o="[object Arguments]",c="[object Symbol]",d="[object Date]",u="[object Map]",p="[object Set]",f="[object Array]",h="[object Function]",y="[object ArrayBuffer]",v="[object Object]",N="[object Error]",j="[object DataView]",b="[object Uint8Array]",_="[object Uint8ClampedArray]",S="[object Uint16Array]",P="[object Uint32Array]",C="[object BigUint64Array]",A="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",M="[object BigInt64Array]",D="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=y,e.arrayTag=f,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=C,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=N,e.float32ArrayTag=D,e.float64ArrayTag=z,e.functionTag=h,e.int16ArrayTag=O,e.int32ArrayTag=I,e.int8ArrayTag=A,e.mapTag=u,e.numberTag=a,e.objectTag=v,e.regexpTag=t,e.setTag=p,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=S,e.uint32ArrayTag=P,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=_})(Dg)),Dg}var Lg={},q1;function NM(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Lg)),Lg}var K1;function SP(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wM(),n=_P(),a=kP(),s=jP(),o=NM();function c(f,h){return d(f,void 0,f,new Map,h)}function d(f,h,y,v=new Map,N=void 0){const j=N?.(f,h,y,v);if(j!==void 0)return j;if(s.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const b=new Array(f.length);v.set(f,b);for(let _=0;_<f.length;_++)b[_]=d(f[_],_,y,v,N);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;v.set(f,b);for(const[_,S]of f)b.set(_,d(S,_,y,v,N));return b}if(f instanceof Set){const b=new Set;v.set(f,b);for(const _ of f)b.add(d(_,void 0,y,v,N));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,b);for(let _=0;_<f.length;_++)b[_]=d(f[_],_,y,v,N);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,b),u(b,f,y,v,N),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return v.set(f,b),u(b,f,y,v,N),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return v.set(f,b),u(b,f,y,v,N),b}if(f instanceof Error){const b=new f.constructor;return v.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,y,v,N),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return v.set(f,b),u(b,f,y,v,N),b}if(f instanceof Number){const b=new Number(f.valueOf());return v.set(f,b),u(b,f,y,v,N),b}if(f instanceof String){const b=new String(f.valueOf());return v.set(f,b),u(b,f,y,v,N),b}if(typeof f=="object"&&p(f)){const b=Object.create(Object.getPrototypeOf(f));return v.set(f,b),u(b,f,y,v,N),b}return f}function u(f,h,y=f,v,N){const j=[...Object.keys(h),...t.getSymbols(h)];for(let b=0;b<j.length;b++){const _=j[b],S=Object.getOwnPropertyDescriptor(f,_);(S==null||S.writable)&&(f[_]=d(h[_],_,y,v,N))}}function p(f){switch(n.getTag(f)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=u})(Tg)),Tg}var W1;function _M(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP();function n(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=n})(Og)),Og}var H1;function kM(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NP(),n=_M();function a(s){return s=n.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=a})(kg)),kg}var $g={},zg={},Rg={},V1;function SM(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SP(),n=kP();function a(s,o){return t.cloneDeepWith(s,(c,d,u,p)=>{const f=o?.(c,d,u,p);if(f!==void 0)return f;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case n.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=a})(Rg)),Rg}var G1;function PM(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SM();function n(a){return t.cloneDeepWith(a)}e.cloneDeep=n})(zg)),zg}var Fg={},Bg={},Y1;function PP(){return Y1||(Y1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=n})(Bg)),Bg}var Ug={},X1;function CM(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_P();function n(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=n})(Ug)),Ug}var J1;function AM(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pP(),n=PP(),a=CM(),s=k0();function o(c,d){let u;if(Array.isArray(d)?u=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?u=s.toPath(d):u=[d],u.length===0)return!1;let p=c;for(let f=0;f<u.length;f++){const h=u[f];if((p==null||!Object.hasOwn(p,h))&&!((Array.isArray(p)||a.isArguments(p))&&n.isIndex(h)&&h<p.length))return!1;p=p[h]}return!0}e.has=o})(Fg)),Fg}var Z1;function EM(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NP(),n=_0(),a=PM(),s=S0(),o=AM();function c(d,u){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return u=a.cloneDeep(u),function(p){const f=s.get(p,d);return f===void 0?o.has(p,d):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=c})($g)),$g}var Q1;function OM(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP(),n=bM(),a=kM(),s=EM();function o(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=o})(Ng)),Ng}var eN;function TM(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM(),n=vP(),a=vM(),s=OM();function o(c,d=n.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=o})(gg)),gg}var qg,tN;function IM(){return tN||(tN=1,qg=TM().uniqBy),qg}var MM=IM();const rN=js(MM);function CP(e,t,n){return t===!0?rN(e,n):typeof t=="function"?rN(e,t):e}var Kg={exports:{}},Wg={},Hg={exports:{}},Vg={};var nN;function DM(){if(nN)return Vg;nN=1;var e=ol();function t(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var n=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(h,y){var v=y(),N=a({inst:{value:v,getSnapshot:y}}),j=N[0].inst,b=N[1];return o(function(){j.value=v,j.getSnapshot=y,u(j)&&b({inst:j})},[h,v,y]),s(function(){return u(j)&&b({inst:j}),h(function(){u(j)&&b({inst:j})})},[h]),c(v),v}function u(h){var y=h.getSnapshot;h=h.value;try{var v=y();return!n(h,v)}catch{return!0}}function p(h,y){return y()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Vg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Vg}var aN;function LM(){return aN||(aN=1,Hg.exports=DM()),Hg.exports}var sN;function $M(){if(sN)return Wg;sN=1;var e=ol(),t=LM();function n(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var a=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,o=e.useRef,c=e.useEffect,d=e.useMemo,u=e.useDebugValue;return Wg.useSyncExternalStoreWithSelector=function(p,f,h,y,v){var N=o(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=d(function(){function _(O){if(!S){if(S=!0,P=O,O=y(O),v!==void 0&&j.hasValue){var I=j.value;if(v(I,O))return C=I}return C=O}if(I=C,a(P,O))return I;var M=y(O);return v!==void 0&&v(I,M)?(P=O,I):(P=O,C=M)}var S=!1,P,C,A=h===void 0?null:h;return[function(){return _(f())},A===null?void 0:function(){return _(A())}]},[f,h,y,v]);var b=s(p,N[0],N[1]);return c(function(){j.hasValue=!0,j.value=b},[b]),u(b),b},Wg}var iN;function zM(){return iN||(iN=1,Kg.exports=$M()),Kg.exports}var RM=zM(),E0=g.createContext(null),FM=e=>e,Ot=()=>{var e=g.useContext(E0);return e?e.store.dispatch:FM},sm=()=>{},BM=()=>sm,UM=(e,t)=>e===t;function Be(e){var t=g.useContext(E0);return RM.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:BM,t?t.store.getState:sm,t?t.store.getState:sm,t?e:sm,UM)}function qM(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function KM(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function WM(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${n}]`)}}var oN=e=>Array.isArray(e)?e:[e];function HM(e){const t=Array.isArray(e[0])?e[0]:e;return WM(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function VM(e,t){const n=[],{length:a}=e;for(let s=0;s<a;s++)n.push(e[s].apply(null,t));return n}var GM=class{constructor(e){this.value=e}deref(){return this.value}},YM=typeof WeakRef<"u"?WeakRef:GM,XM=0,lN=1;function Ou(){return{s:XM,v:void 0,o:null,p:null}}function AP(e,t={}){let n=Ou();const{resultEqualityCheck:a}=t;let s,o=0;function c(){let d=n;const{length:u}=arguments;for(let h=0,y=u;h<y;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const j=N.get(v);j===void 0?(d=Ou(),N.set(v,d)):d=j}else{let N=d.p;N===null&&(d.p=N=new Map);const j=N.get(v);j===void 0?(d=Ou(),N.set(v,d)):d=j}}const p=d;let f;if(d.s===lN)f=d.v;else if(f=e.apply(null,arguments),o++,a){const h=s?.deref?.()??s;h!=null&&a(h,f)&&(f=h,o!==0&&o--),s=typeof f=="object"&&f!==null||typeof f=="function"?new YM(f):f}return p.s=lN,p.v=f,f}return c.clearCache=()=>{n=Ou(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function JM(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let o=0,c=0,d,u={},p=s.pop();typeof p=="object"&&(u=p,p=s.pop()),qM(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const f={...n,...u},{memoize:h,memoizeOptions:y=[],argsMemoize:v=AP,argsMemoizeOptions:N=[]}=f,j=oN(y),b=oN(N),_=HM(s),S=h(function(){return o++,p.apply(null,arguments)},...j),P=v(function(){c++;const A=VM(_,arguments);return d=S.apply(null,A),d},...b);return Object.assign(P,{resultFunc:p,memoizedResultFunc:S,dependencies:_,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:v})};return Object.assign(a,{withTypes:()=>a}),a}var ae=JM(AP),ZM=Object.assign((e,t=ae)=>{KM(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),a=n.map(o=>e[o]);return t(a,(...o)=>o.reduce((c,d,u)=>(c[n[u]]=d,c),{}))},{withTypes:()=>ZM}),Gg={},Yg={},Xg={},cN;function QM(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const n=(a,s,o)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return o==="desc"?1:-1;if(a>s)return o==="desc"?-1:1}return o==="desc"?d-c:c-d}return 0};e.compareValues=n})(Xg)),Xg}var Jg={},Zg={},dN;function EP(){return dN||(dN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Zg)),Zg}var uN;function eD(){return uN||(uN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!n.test(o))||c!=null&&Object.hasOwn(c,o)}e.isKey=s})(Jg)),Jg}var mN;function tD(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM(),n=eD(),a=k0();function s(o,c,d,u){if(o==null)return[];d=u?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(v=>String(v));const p=(v,N)=>{let j=v;for(let b=0;b<N.length&&j!=null;++b)j=j[N[b]];return j},f=(v,N)=>N==null||v==null?N:typeof v=="object"&&"key"in v?Object.hasOwn(N,v.key)?N[v.key]:p(N,v.path):typeof v=="function"?v(N):Array.isArray(v)?p(N,v):typeof N=="object"?N[v]:N,h=c.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:a.toPath(v)}));return o.map(v=>({original:v,criteria:h.map(N=>f(N,v))})).slice().sort((v,N)=>{for(let j=0;j<h.length;j++){const b=t.compareValues(v.criteria[j],N.criteria[j],d[j]);if(b!==0)return b}return 0}).map(v=>v.original)}e.orderBy=s})(Yg)),Yg}var Qg={},fN;function rD(){return fN||(fN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a=1){const s=[],o=Math.floor(a),c=(d,u)=>{for(let p=0;p<d.length;p++){const f=d[p];Array.isArray(f)&&u<o?c(f,u+1):s.push(f)}};return c(n,0),s}e.flatten=t})(Qg)),Qg}var ex={},pN;function OP(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP(),n=A0(),a=bP(),s=wP();function o(c,d,u){return a.isObject(u)&&(typeof d=="number"&&n.isArrayLike(u)&&t.isIndex(d)&&d<u.length||typeof d=="string"&&d in u)?s.eq(u[d],c):!1}e.isIterateeCall=o})(ex)),ex}var hN;function nD(){return hN||(hN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD(),n=rD(),a=OP();function s(o,...c){const d=c.length;return d>1&&a.isIterateeCall(o,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(o,n.flatten(c),["asc"])}e.sortBy=s})(Gg)),Gg}var tx,gN;function aD(){return gN||(gN=1,tx=nD().sortBy),tx}var sD=aD();const bf=js(sD);var TP=e=>e.legend.settings,iD=e=>e.legend.size,oD=e=>e.legend.payload,lD=ae([oD,TP],(e,t)=>{var{itemSorter:n}=t,a=e.flat(1);return n?bf(a,n):a});function cD(){return Be(lD)}var Tu=1;function IP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),a=g.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-t.height)>Tu||Math.abs(c.left-t.left)>Tu||Math.abs(c.top-t.top)>Tu||Math.abs(c.width-t.width)>Tu)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Ir(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dD=typeof Symbol=="function"&&Symbol.observable||"@@observable",xN=dD,rx=()=>Math.random().toString(36).substring(7).split("").join("."),uD={INIT:`@@redux/INIT${rx()}`,REPLACE:`@@redux/REPLACE${rx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${rx()}`},bm=uD;function O0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function MP(e,t,n){if(typeof e!="function")throw new Error(Ir(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ir(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ir(1));return n(MP)(e,t)}let a=e,s=t,o=new Map,c=o,d=0,u=!1;function p(){c===o&&(c=new Map,o.forEach((b,_)=>{c.set(_,b)}))}function f(){if(u)throw new Error(Ir(3));return s}function h(b){if(typeof b!="function")throw new Error(Ir(4));if(u)throw new Error(Ir(5));let _=!0;p();const S=d++;return c.set(S,b),function(){if(_){if(u)throw new Error(Ir(6));_=!1,p(),c.delete(S),o=null}}}function y(b){if(!O0(b))throw new Error(Ir(7));if(typeof b.type>"u")throw new Error(Ir(8));if(typeof b.type!="string")throw new Error(Ir(17));if(u)throw new Error(Ir(9));try{u=!0,s=a(s,b)}finally{u=!1}return(o=c).forEach(S=>{S()}),b}function v(b){if(typeof b!="function")throw new Error(Ir(10));a=b,y({type:bm.REPLACE})}function N(){const b=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Ir(11));function S(){const C=_;C.next&&C.next(f())}return S(),{unsubscribe:b(S)}},[xN](){return this}}}return y({type:bm.INIT}),{dispatch:y,subscribe:h,getState:f,replaceReducer:v,[xN]:N}}function mD(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:bm.INIT})>"u")throw new Error(Ir(12));if(typeof n(void 0,{type:bm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ir(13))})}function DP(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(n[c]=e[c])}const a=Object.keys(n);let s;try{mD(n)}catch(o){s=o}return function(c={},d){if(s)throw s;let u=!1;const p={};for(let f=0;f<a.length;f++){const h=a[f],y=n[h],v=c[h],N=y(v,d);if(typeof N>"u")throw d&&d.type,new Error(Ir(14));p[h]=N,u=u||N!==v}return u=u||a.length!==Object.keys(c).length,u?p:c}}function jm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...a)=>t(n(...a)))}function fD(...e){return t=>(n,a)=>{const s=t(n,a);let o=()=>{throw new Error(Ir(15))};const c={getState:s.getState,dispatch:(u,...p)=>o(u,...p)},d=e.map(u=>u(c));return o=jm(...d)(s.dispatch),{...s,dispatch:o}}}function LP(e){return O0(e)&&"type"in e&&typeof e.type=="string"}var $P=Symbol.for("immer-nothing"),yN=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function na(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nn=Object,Zo=Nn.getPrototypeOf,wm="constructor",jf="prototype",cy="configurable",Nm="enumerable",im="writable",Tc="value",hs=e=>!!e&&!!e[nn];function da(e){return e?zP(e)||Nf(e)||!!e[yN]||!!e[wm]?.[yN]||_f(e)||kf(e):!1}var pD=Nn[jf][wm].toString(),vN=new WeakMap;function zP(e){if(!e||!T0(e))return!1;const t=Zo(e);if(t===null||t===Nn[jf])return!0;const n=Nn.hasOwnProperty.call(t,wm)&&t[wm];if(n===Object)return!0;if(!Fo(n))return!1;let a=vN.get(n);return a===void 0&&(a=Function.toString.call(n),vN.set(n,a)),a===pD}function wf(e,t,n=!0){ed(e)===0?(n?Reflect.ownKeys(e):Nn.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function ed(e){const t=e[nn];return t?t.type_:Nf(e)?1:_f(e)?2:kf(e)?3:0}var bN=(e,t,n=ed(e))=>n===2?e.has(t):Nn[jf].hasOwnProperty.call(e,t),dy=(e,t,n=ed(e))=>n===2?e.get(t):e[t],_m=(e,t,n,a=ed(e))=>{a===2?e.set(t,n):a===3?e.add(n):e[t]=n};function hD(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Nf=Array.isArray,_f=e=>e instanceof Map,kf=e=>e instanceof Set,T0=e=>typeof e=="object",Fo=e=>typeof e=="function",nx=e=>typeof e=="boolean";function gD(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ga=e=>e.copy_||e.base_,I0=e=>e.modified_?e.copy_:e.base_;function uy(e,t){if(_f(e))return new Map(e);if(kf(e))return new Set(e);if(Nf(e))return Array[jf].slice.call(e);const n=zP(e);if(t===!0||t==="class_only"&&!n){const a=Nn.getOwnPropertyDescriptors(e);delete a[nn];let s=Reflect.ownKeys(a);for(let o=0;o<s.length;o++){const c=s[o],d=a[c];d[im]===!1&&(d[im]=!0,d[cy]=!0),(d.get||d.set)&&(a[c]={[cy]:!0,[im]:!0,[Nm]:d[Nm],[Tc]:e[c]})}return Nn.create(Zo(e),a)}else{const a=Zo(e);if(a!==null&&n)return{...e};const s=Nn.create(a);return Nn.assign(s,e)}}function M0(e,t=!1){return Sf(e)||hs(e)||!da(e)||(ed(e)>1&&Nn.defineProperties(e,{set:Iu,add:Iu,clear:Iu,delete:Iu}),Nn.freeze(e),t&&wf(e,(n,a)=>{M0(a,!0)},!1)),e}function xD(){na(2)}var Iu={[Tc]:xD};function Sf(e){return e===null||!T0(e)?!0:Nn.isFrozen(e)}var km="MapSet",my="Patches",jN="ArrayMethods",RP={};function Gi(e){const t=RP[e];return t||na(0,e),t}var wN=e=>!!RP[e],Ic,FP=()=>Ic,yD=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:wN(km)?Gi(km):void 0,arrayMethodsPlugin_:wN(jN)?Gi(jN):void 0});function NN(e,t){t&&(e.patchPlugin_=Gi(my),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fy(e){py(e),e.drafts_.forEach(vD),e.drafts_=null}function py(e){e===Ic&&(Ic=e.parent_)}var _N=e=>Ic=yD(Ic,e);function vD(e){const t=e[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[nn].modified_&&(fy(t),na(4)),da(e)&&(e=SN(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(n[nn].base_,e,t)}else e=SN(t,n);return bD(t,e,!0),fy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$P?e:void 0}function SN(e,t){if(Sf(t))return t;const n=t[nn];if(!n)return Sm(t,e.handledSet_,e);if(!Pf(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:a}=n;if(a)for(;a.length>0;)a.pop()(e);qP(n,e)}return n.copy_}function bD(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&M0(t,n)}function BP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Pf=(e,t)=>e.scope_===t,jD=[];function UP(e,t,n,a){const s=Ga(e),o=e.type_;if(a!==void 0&&dy(s,a,o)===t){_m(s,a,n,o);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;wf(s,(u,p)=>{if(hs(p)){const f=d.get(p)||[];f.push(u),d.set(p,f)}})}const c=e.draftLocations_.get(t)??jD;for(const d of c)_m(s,d,n,o)}function wD(e,t,n){e.callbacks_.push(function(s){const o=t;if(!o||!Pf(o,s))return;s.mapSetPlugin_?.fixSetContents(o);const c=I0(o);UP(e,o.draft_??o,c,n),qP(o,s)})}function qP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}BP(e)}}function ND(e,t,n){const{scope_:a}=e;if(hs(n)){const s=n[nn];Pf(s,a)&&s.callbacks_.push(function(){om(e);const c=I0(s);UP(e,n,c,t)})}else da(n)&&e.callbacks_.push(function(){const o=Ga(e);e.type_===3?o.has(n)&&Sm(n,a.handledSet_,a):dy(o,t,e.type_)===n&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Sm(dy(e.copy_,t,e.type_),a.handledSet_,a)})}function Sm(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||hs(e)||t.has(e)||!da(e)||Sf(e)||(t.add(e),wf(e,(a,s)=>{if(hs(s)){const o=s[nn];if(Pf(o,n)){const c=I0(o);_m(e,a,c,e.type_),BP(o)}}else da(s)&&Sm(s,t,n)})),e}function _D(e,t){const n=Nf(e),a={type_:n?1:0,scope_:t?t.scope_:FP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,o=Pm;n&&(s=[a],o=Mc);const{revoke:c,proxy:d}=Proxy.revocable(s,o);return a.draft_=d,a.revoke_=c,[d,a]}var Pm={get(e,t){if(t===nn)return e;let n=e.scope_.arrayMethodsPlugin_;const a=e.type_===1&&typeof t=="string";if(a&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const s=Ga(e);if(!bN(s,t,e.type_))return kD(e,s,t);const o=s[t];if(e.finalized_||!da(o)||a&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&gD(t))return o;if(o===ax(e.base_,t)){om(e);const c=e.type_===1?+t:t,d=gy(e.scope_,o,e,c);return e.copy_[c]=d}return o},has(e,t){return t in Ga(e)},ownKeys(e){return Reflect.ownKeys(Ga(e))},set(e,t,n){const a=KP(Ga(e),t);if(a?.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=ax(Ga(e),t),o=s?.[nn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(hD(n,s)&&(n!==void 0||bN(e.base_,t,e.type_)))return!0;om(e),hy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),ND(e,t,n)),!0},deleteProperty(e,t){return om(e),ax(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ga(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{[im]:!0,[cy]:e.type_!==1||t!=="length",[Nm]:a[Nm],[Tc]:n[t]}},defineProperty(){na(11)},getPrototypeOf(e){return Zo(e.base_)},setPrototypeOf(){na(12)}},Mc={};for(let e in Pm){let t=Pm[e];Mc[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Mc.deleteProperty=function(e,t){return Mc.set.call(this,e,t,void 0)};Mc.set=function(e,t,n){return Pm.set.call(this,e[0],t,n,e[0])};function ax(e,t){const n=e[nn];return(n?Ga(n):e)[t]}function kD(e,t,n){const a=KP(t,n);return a?Tc in a?a[Tc]:a.get?.call(e.draft_):void 0}function KP(e,t){if(!(t in e))return;let n=Zo(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Zo(n)}}function hy(e){e.modified_||(e.modified_=!0,e.parent_&&hy(e.parent_))}function om(e){e.copy_||(e.assigned_=new Map,e.copy_=uy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SD=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,a,s)=>{if(Fo(n)&&!Fo(a)){const c=a;a=n;const d=this;return function(p=c,...f){return d.produce(p,h=>a.call(this,h,...f))}}Fo(a)||na(6),s!==void 0&&!Fo(s)&&na(7);let o;if(da(n)){const c=_N(this),d=gy(c,n,void 0);let u=!0;try{o=a(d),u=!1}finally{u?fy(c):py(c)}return NN(c,s),kN(o,c)}else if(!n||!T0(n)){if(o=a(n),o===void 0&&(o=n),o===$P&&(o=void 0),this.autoFreeze_&&M0(o,!0),s){const c=[],d=[];Gi(my).generateReplacementPatches_(n,o,{patches_:c,inversePatches_:d}),s(c,d)}return o}else na(1,n)},this.produceWithPatches=(n,a)=>{if(Fo(n))return(d,...u)=>this.produceWithPatches(d,p=>n(p,...u));let s,o;return[this.produce(n,a,(d,u)=>{s=d,o=u}),s,o]},nx(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),nx(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),nx(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){da(t)||na(8),hs(t)&&(t=la(t));const n=_N(this),a=gy(n,t,void 0);return a[nn].isManual_=!0,py(n),a}finishDraft(t,n){const a=t&&t[nn];(!a||!a.isManual_)&&na(9);const{scope_:s}=a;return NN(s,n),kN(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let a;for(a=n.length-1;a>=0;a--){const o=n[a];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}a>-1&&(n=n.slice(a+1));const s=Gi(my).applyPatches_;return hs(t)?s(t,n):this.produce(t,o=>s(o,n))}};function gy(e,t,n,a){const[s,o]=_f(t)?Gi(km).proxyMap_(t,n):kf(t)?Gi(km).proxySet_(t,n):_D(t,n);return(n?.scope_??FP()).drafts_.push(s),o.callbacks_=n?.callbacks_??[],o.key_=a,n&&a!==void 0?wD(n,o,a):o.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:p}=u;o.modified_&&p&&p.generatePatches_(o,[],u)}),s}function la(e){return hs(e)||na(10,e),WP(e)}function WP(e){if(!da(e)||Sf(e))return e;const t=e[nn];let n,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uy(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else n=uy(e,!0);return wf(n,(s,o)=>{_m(n,s,WP(o))},a),t&&(t.finalized_=!1),n}var PD=new SD,HP=PD.produce;function VP(e){return({dispatch:n,getState:a})=>s=>o=>typeof o=="function"?o(n,a,e):s(o)}var CD=VP(),AD=VP,ED=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jm:jm.apply(null,arguments)};function Un(e,t){function n(...a){if(t){let s=t(...a);if(!s)throw new Error(_n(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=a=>LP(a)&&a.type===e,n}var GP=class Nc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nc.prototype)}static get[Symbol.species](){return Nc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nc(...t[0].concat(this)):new Nc(...t.concat(this))}};function PN(e){return da(e)?HP(e,()=>{}):e}function Mu(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function OD(e){return typeof e=="boolean"}var TD=()=>function(t){const{thunk:n=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let c=new GP;return n&&(OD(n)?c.push(CD):c.push(AD(n.extraArgument))),c},YP="RTK_autoBatch",zt=()=>e=>({payload:e,meta:{[YP]:!0}}),CN=e=>t=>{setTimeout(t,e)},XP=(e={type:"raf"})=>t=>(...n)=>{const a=t(...n);let s=!0,o=!1,c=!1;const d=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CN(10):e.type==="callback"?e.queueNotification:CN(e.timeout),p=()=>{c=!1,o&&(o=!1,d.forEach(f=>f()))};return Object.assign({},a,{subscribe(f){const h=()=>s&&f(),y=a.subscribe(h);return d.add(f),()=>{y(),d.delete(f)}},dispatch(f){try{return s=!f?.meta?.[YP],o=!s,o&&(c||(c=!0,u(p))),a.dispatch(f)}finally{s=!0}}})},ID=e=>function(n){const{autoBatch:a=!0}=n??{};let s=new GP(e);return a&&s.push(XP(typeof a=="object"?a:void 0)),s};function MD(e){const t=TD(),{reducer:n=void 0,middleware:a,devTools:s=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(O0(n))d=DP(n);else throw new Error(_n(1));let u;typeof a=="function"?u=a(t):u=t();let p=jm;s&&(p=ED({trace:!1,...typeof s=="object"&&s}));const f=fD(...u),h=ID(f);let y=typeof c=="function"?c(h):h();const v=p(...y);return MP(d,o,v)}function JP(e){const t={},n=[];let a;const s={addCase(o,c){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(_n(28));if(d in t)throw new Error(_n(29));return t[d]=c,s},addAsyncThunk(o,c){return c.pending&&(t[o.pending.type]=c.pending),c.rejected&&(t[o.rejected.type]=c.rejected),c.fulfilled&&(t[o.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:o.settled,reducer:c.settled}),s},addMatcher(o,c){return n.push({matcher:o,reducer:c}),s},addDefaultCase(o){return a=o,s}};return e(s),[t,n,a]}function DD(e){return typeof e=="function"}function LD(e,t){let[n,a,s]=JP(t),o;if(DD(e))o=()=>PN(e());else{const d=PN(e);o=()=>d}function c(d=o(),u){let p=[n[u.type],...a.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return p.filter(f=>!!f).length===0&&(p=[s]),p.reduce((f,h)=>{if(h)if(hs(f)){const v=h(f,u);return v===void 0?f:v}else{if(da(f))return HP(f,y=>h(y,u));{const y=h(f,u);if(y===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return f},d)}return c.getInitialState=o,c}var $D="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zD=(e=21)=>{let t="",n=e;for(;n--;)t+=$D[Math.random()*64|0];return t},RD=Symbol.for("rtk-slice-createasyncthunk");function FD(e,t){return`${e}/${t}`}function BD({creators:e}={}){const t=e?.asyncThunk?.[RD];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(_n(11));const c=(typeof a.reducers=="function"?a.reducers(qD()):a.reducers)||{},d=Object.keys(c),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(P,C){const A=typeof P=="string"?P:P.type;if(!A)throw new Error(_n(12));if(A in u.sliceCaseReducersByType)throw new Error(_n(13));return u.sliceCaseReducersByType[A]=C,p},addMatcher(P,C){return u.sliceMatchers.push({matcher:P,reducer:C}),p},exposeAction(P,C){return u.actionCreators[P]=C,p},exposeCaseReducer(P,C){return u.sliceCaseReducersByName[P]=C,p}};d.forEach(P=>{const C=c[P],A={reducerName:P,type:FD(s,P),createNotation:typeof a.reducers=="function"};WD(C)?VD(A,C,p,t):KD(A,C,p)});function f(){const[P={},C=[],A=void 0]=typeof a.extraReducers=="function"?JP(a.extraReducers):[a.extraReducers],O={...P,...u.sliceCaseReducersByType};return LD(a.initialState,I=>{for(let M in O)I.addCase(M,O[M]);for(let M of u.sliceMatchers)I.addMatcher(M.matcher,M.reducer);for(let M of C)I.addMatcher(M.matcher,M.reducer);A&&I.addDefaultCase(A)})}const h=P=>P,y=new Map,v=new WeakMap;let N;function j(P,C){return N||(N=f()),N(P,C)}function b(){return N||(N=f()),N.getInitialState()}function _(P,C=!1){function A(I){let M=I[P];return typeof M>"u"&&C&&(M=Mu(v,A,b)),M}function O(I=h){const M=Mu(y,C,()=>new WeakMap);return Mu(M,I,()=>{const D={};for(const[z,Y]of Object.entries(a.selectors??{}))D[z]=UD(Y,I,()=>Mu(v,I,b),C);return D})}return{reducerPath:P,getSelectors:O,get selectors(){return O(A)},selectSlice:A}}const S={name:s,reducer:j,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,..._(o),injectInto(P,{reducerPath:C,...A}={}){const O=C??o;return P.inject({reducerPath:O,reducer:j},A),{...S,..._(O,!0)}}};return S}}function UD(e,t,n,a){function s(o,...c){let d=t(o);return typeof d>"u"&&a&&(d=n()),e(d,...c)}return s.unwrapped=e,s}var gn=BD();function qD(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function KD({type:e,reducerName:t,createNotation:n},a,s){let o,c;if("reducer"in a){if(n&&!HD(a))throw new Error(_n(17));o=a.reducer,c=a.prepare}else o=a;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?Un(e,c):Un(e))}function WD(e){return e._reducerDefinitionType==="asyncThunk"}function HD(e){return e._reducerDefinitionType==="reducerWithPrepare"}function VD({type:e,reducerName:t},n,a,s){if(!s)throw new Error(_n(18));const{payloadCreator:o,fulfilled:c,pending:d,rejected:u,settled:p,options:f}=n,h=s(e,o,f);a.exposeAction(t,h),c&&a.addCase(h.fulfilled,c),d&&a.addCase(h.pending,d),u&&a.addCase(h.rejected,u),p&&a.addMatcher(h.settled,p),a.exposeCaseReducer(t,{fulfilled:c||Du,pending:d||Du,rejected:u||Du,settled:p||Du})}function Du(){}var GD="task",ZP="listener",QP="completed",D0="cancelled",YD=`task-${D0}`,XD=`task-${QP}`,xy=`${ZP}-${D0}`,JD=`${ZP}-${QP}`,Cf=class{constructor(e){this.code=e,this.message=`${GD} ${D0} (reason: ${e})`}name="TaskAbortError";message},L0=(e,t)=>{if(typeof e!="function")throw new TypeError(_n(32))},Cm=()=>{},eC=(e,t=Cm)=>(e.catch(t),e),tC=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Fi=e=>{if(e.aborted)throw new Cf(e.reason)};function rC(e,t){let n=Cm;return new Promise((a,s)=>{const o=()=>s(new Cf(e.reason));if(e.aborted){o();return}n=tC(e,o),t.finally(()=>n()).then(a,s)}).finally(()=>{n=Cm})}var ZD=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Cf?"cancelled":"rejected",error:n}}finally{t?.()}},Am=e=>t=>eC(rC(e,t).then(n=>(Fi(e),n))),nC=e=>{const t=Am(e);return n=>t(new Promise(a=>setTimeout(a,n)))},{assign:Vo}=Object,AN={},Af="listenerMiddleware",QD=(e,t)=>{const n=a=>tC(e,()=>a.abort(e.reason));return(a,s)=>{L0(a);const o=new AbortController;n(o);const c=ZD(async()=>{Fi(e),Fi(o.signal);const d=await a({pause:Am(o.signal),delay:nC(o.signal),signal:o.signal});return Fi(o.signal),d},()=>o.abort(XD));return s?.autoJoin&&t.push(c.catch(Cm)),{result:Am(e)(c),cancel(){o.abort(YD)}}}},eL=(e,t)=>{const n=async(a,s)=>{Fi(t);let o=()=>{};const d=[new Promise((u,p)=>{let f=e({predicate:a,effect:(h,y)=>{y.unsubscribe(),u([h,y.getState(),y.getOriginalState()])}});o=()=>{f(),p()}})];s!=null&&d.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await rC(t,Promise.race(d));return Fi(t),u}finally{o()}};return(a,s)=>eC(n(a,s))},aC=e=>{let{type:t,actionCreator:n,matcher:a,predicate:s,effect:o}=e;if(t)s=Un(t).match;else if(n)t=n.type,s=n.match;else if(a)s=a;else if(!s)throw new Error(_n(21));return L0(o),{predicate:s,type:t,effect:o}},sC=Vo(e=>{const{type:t,predicate:n,effect:a}=aC(e);return{id:zD(),effect:a,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(_n(22))}}},{withTypes:()=>sC}),EN=(e,t)=>{const{type:n,effect:a,predicate:s}=aC(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===s)&&o.effect===a)},yy=e=>{e.pending.forEach(t=>{t.abort(xy)})},tL=(e,t)=>()=>{for(const n of t.keys())yy(n);e.clear()},ON=(e,t,n)=>{try{e(t,n)}catch(a){setTimeout(()=>{throw a},0)}},iC=Vo(Un(`${Af}/add`),{withTypes:()=>iC}),rL=Un(`${Af}/removeAll`),oC=Vo(Un(`${Af}/remove`),{withTypes:()=>oC}),nL=(...e)=>{console.error(`${Af}/error`,...e)},td=(e={})=>{const t=new Map,n=new Map,a=v=>{const N=n.get(v)??0;n.set(v,N+1)},s=v=>{const N=n.get(v)??1;N===1?n.delete(v):n.set(v,N-1)},{extra:o,onError:c=nL}=e;L0(c);const d=v=>(v.unsubscribe=()=>t.delete(v.id),t.set(v.id,v),N=>{v.unsubscribe(),N?.cancelActive&&yy(v)}),u=v=>{const N=EN(t,v)??sC(v);return d(N)};Vo(u,{withTypes:()=>u});const p=v=>{const N=EN(t,v);return N&&(N.unsubscribe(),v.cancelActive&&yy(N)),!!N};Vo(p,{withTypes:()=>p});const f=async(v,N,j,b)=>{const _=new AbortController,S=eL(u,_.signal),P=[];try{v.pending.add(_),a(v),await Promise.resolve(v.effect(N,Vo({},j,{getOriginalState:b,condition:(C,A)=>S(C,A).then(Boolean),take:S,delay:nC(_.signal),pause:Am(_.signal),extra:o,signal:_.signal,fork:QD(_.signal,P),unsubscribe:v.unsubscribe,subscribe:()=>{t.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((C,A,O)=>{C!==_&&(C.abort(xy),O.delete(C))})},cancel:()=>{_.abort(xy),v.pending.delete(_)},throwIfCancelled:()=>{Fi(_.signal)}})))}catch(C){C instanceof Cf||ON(c,C,{raisedBy:"effect"})}finally{await Promise.all(P),_.abort(JD),s(v),v.pending.delete(_)}},h=tL(t,n);return{middleware:v=>N=>j=>{if(!LP(j))return N(j);if(iC.match(j))return u(j.payload);if(rL.match(j)){h();return}if(oC.match(j))return p(j.payload);let b=v.getState();const _=()=>{if(b===AN)throw new Error(_n(23));return b};let S;try{if(S=N(j),t.size>0){const P=v.getState(),C=Array.from(t.values());for(const A of C){let O=!1;try{O=A.predicate(j,P,b)}catch(I){O=!1,ON(c,I,{raisedBy:"predicate"})}O&&f(A,j,v,_)}}}finally{b=AN}return S},startListening:u,stopListening:p,clearListeners:h}};function _n(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lC=gn({name:"chartLayout",initialState:aL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,a,s,o;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:sL,setLayout:iL,setChartSize:oL,setScale:lL}=lC.actions,cL=lC.reducer;function cC(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ct(e){return Number.isFinite(e)}function Ca(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function TN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(n),!0).forEach(function(a){dL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function dL(e,t,n){return(t=uL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uL(e){var t=mL(e,"string");return typeof t=="symbol"?t:t+""}function mL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e,t,n){return Lt(e)||Lt(t)?n:Pa(t)?Vi(e,t,n):typeof t=="function"?t(e):n}var fL=(e,t,n)=>{if(t&&n){var{width:a,height:s}=n,{align:o,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&o!=="center"&&Le(e[o]))return Ko(Ko({},e),{},{[o]:e[o]+(a||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&c!=="middle"&&Le(e[c]))return Ko(Ko({},e),{},{[c]:e[c]+(s||0)})}return e},Ma=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",dC=(e,t,n,a)=>{if(a)return e.map(d=>d.coordinate);var s,o,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(o=!0),d.coordinate));return s||c.push(t),o||c.push(n),c},uC=(e,t,n)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:o,scale:c,realScaleType:d,isCategorical:u,categoricalDomain:p,tickCount:f,ticks:h,niceTicks:y,axisType:v}=e;if(!c)return null;var N=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/N:0;if(j=v==="angleAxis"&&o&&o.length>=2?_r(o[0]-o[1])*2*j:j,h||y){var b=(h||y||[]).map((_,S)=>{var P=a?a.indexOf(_):_;return{coordinate:c(P)+j,value:_,offset:j,index:S}});return b.filter(_=>!Bn(_.coordinate))}return u&&p?p.map((_,S)=>({coordinate:c(_)+j,value:_,index:S,offset:j})):c.ticks&&f!=null?c.ticks(f).map((_,S)=>({coordinate:c(_)+j,value:_,offset:j,index:S})):c.domain().map((_,S)=>({coordinate:c(_)+j,value:a?a[_]:_,index:S,offset:j}))},IN=1e-4,pL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,a=e.range(),s=Math.min(a[0],a[1])-IN,o=Math.max(a[0],a[1])+IN,c=e(t[0]),d=e(t[n-1]);(c<s||c>o||d<s||d>o)&&e.domain([t[0],t[n-1]])}},hL=(e,t)=>{if(!t||t.length!==2||!Le(t[0])||!Le(t[1]))return e;var n=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Le(e[0])||e[0]<n)&&(s[0]=n),(!Le(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},gL=e=>{var t,n=e.length;if(!(n<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var o=0,c=0,d=0;d<n;++d){var u=e[d],p=u?.[s];if(p!=null){var f=p[1],h=p[0],y=Bn(f)?h:f;y>=0?(p[0]=o,p[1]=o+y,o=f):(p[0]=c,p[1]=c+y,c=f)}}}},xL=e=>{var t,n=e.length;if(!(n<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var o=0,c=0;c<n;++c){var d=e[c],u=d?.[s];if(u!=null){var p=Bn(u[1])?u[0]:u[1];p>=0?(u[0]=o,u[1]=o+p,o=u[1]):(u[0]=0,u[1]=0)}}}},yL={sign:gL,expand:$6,none:Hi,silhouette:z6,wiggle:R6,positive:xL},vL=(e,t,n)=>{var a,s=(a=yL[n])!==null&&a!==void 0?a:Hi,o=L6().keys(t).value((d,u)=>Number(jt(d,u,0))).order(oy).offset(s),c=o(e);return c.forEach((d,u)=>{d.forEach((p,f)=>{var h=jt(e[f],t[u],0);Array.isArray(h)&&h.length===2&&Le(h[0])&&Le(h[1])&&(p[0]=h[0],p[1]=h[1])})}),c};function mC(e){return e==null?void 0:String(e)}function Em(e){var{axis:t,ticks:n,bandSize:a,entry:s,index:o,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(s[t.dataKey])){var d=gP(n,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return n[o]?n[o].coordinate+a/2:null}var u=jt(s,Lt(c)?t.dataKey:c);return Lt(u)?null:t.scale(u)}var MN=e=>{var{axis:t,ticks:n,offset:a,bandSize:s,entry:o,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+a:null;var d=jt(o,t.dataKey,t.scale.domain()[c]);return Lt(d)?null:t.scale(d)-s/2+a},bL=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},jL=e=>{var t=e.flat(2).filter(Le);return[Math.min(...t),Math.max(...t)]},wL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],NL=(e,t,n)=>{if(e!=null)return wL(Object.keys(e).reduce((a,s)=>{var o=e[s];if(!o)return a;var{stackedData:c}=o,d=c.reduce((u,p)=>{var f=cC(p,t,n),h=jL(f);return!Ct(h[0])||!Ct(h[1])?u:[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},DN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oi=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&t&&t.length>=2){for(var s=bf(t,f=>f.coordinate),o=1/0,c=1,d=s.length;c<d;c++){var u=s[c],p=s[c-1];o=Math.min((u?.coordinate||0)-(p?.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function $N(e){var{tooltipEntrySettings:t,dataKey:n,payload:a,value:s,name:o}=e;return Ko(Ko({},t),{},{dataKey:n,payload:a,value:s,name:o})}function mi(e,t){if(e)return String(e);if(typeof t=="string")return t}var _L=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},kL=(e,t)=>t==="centric"?e.angle:e.radius,Ns=e=>e.layout.width,_s=e=>e.layout.height,SL=e=>e.layout.scale,fC=e=>e.layout.margin,Ef=ae(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Of=ae(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),pC="data-recharts-item-index",hC="data-recharts-item-id",rd=60;function zN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(n),!0).forEach(function(a){PL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zN(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function PL(e,t,n){return(t=CL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CL(e){var t=AL(e,"string");return typeof t=="symbol"?t:t+""}function AL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EL=e=>e.brush.height;function OL(e){var t=Of(e);return t.reduce((n,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:rd;return n+s}return n},0)}function TL(e){var t=Of(e);return t.reduce((n,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:rd;return n+s}return n},0)}function IL(e){var t=Ef(e);return t.reduce((n,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?n+a.height:n,0)}function ML(e){var t=Ef(e);return t.reduce((n,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?n+a.height:n,0)}var fr=ae([Ns,_s,fC,EL,OL,TL,IL,ML,TP,iD],(e,t,n,a,s,o,c,d,u,p)=>{var f={left:(n.left||0)+s,right:(n.right||0)+o},h={top:(n.top||0)+c,bottom:(n.bottom||0)+d},y=Lu(Lu({},h),f),v=y.bottom;y.bottom+=a,y=fL(y,u,p);var N=e-y.left-y.right,j=t-y.top-y.bottom;return Lu(Lu({brushBottom:v},y),{},{width:Math.max(N,0),height:Math.max(j,0)})}),DL=ae(fr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),$0=ae(Ns,_s,(e,t)=>({x:0,y:0,width:e,height:t})),LL=g.createContext(null),Cr=()=>g.useContext(LL)!=null,Tf=e=>e.brush,If=ae([Tf,fr,fC],(e,t,n)=>({height:e.height,x:Le(e.x)?e.x:t.left,y:Le(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Le(e.width)?e.width:t.width})),sx={},ix={},ox={},RN;function $L(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,a,{signal:s,edges:o}={}){let c,d=null;const u=o!=null&&o.includes("leading"),p=o==null||o.includes("trailing"),f=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},h=()=>{p&&f(),j()};let y=null;const v=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,h()},a)},N=()=>{y!==null&&(clearTimeout(y),y=null)},j=()=>{N(),c=void 0,d=null},b=()=>{f()},_=function(...S){if(s?.aborted)return;c=this,d=S;const P=y==null;v(),u&&P&&f()};return _.schedule=v,_.cancel=j,_.flush=b,s?.addEventListener("abort",j,{once:!0}),_}e.debounce=t})(ox)),ox}var FN;function zL(){return FN||(FN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$L();function n(a,s=0,o={}){typeof o!="object"&&(o={});const{leading:c=!1,trailing:d=!0,maxWait:u}=o,p=Array(2);c&&(p[0]="leading"),d&&(p[1]="trailing");let f,h=null;const y=t.debounce(function(...j){f=a.apply(this,j),h=null},s,{edges:p}),v=function(...j){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=a.apply(this,j),h=Date.now(),y.cancel(),y.schedule(),f):(y.apply(this,j),f)},N=()=>(y.flush(),f);return v.cancel=y.cancel,v.flush=N,v}e.debounce=n})(ix)),ix}var BN;function RL(){return BN||(BN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zL();function n(a,s=0,o={}){const{leading:c=!0,trailing:d=!0}=o;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=n})(sx)),sx}var lx,UN;function FL(){return UN||(UN=1,lx=RL().throttle),lx}var BL=FL();const UL=js(BL);var Om=function(t,n){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>s[c++]))}},gC=(e,t,n)=>{var{width:a="100%",height:s="100%",aspect:o,maxHeight:c}=n,d=ps(a)?e:Number(a),u=ps(s)?t:Number(s);return o&&o>0&&(d?u=d/o:u&&(d=u*o),c&&u!=null&&u>c&&(u=c)),{calculatedWidth:d,calculatedHeight:u}},qL={width:0,height:0,overflow:"visible"},KL={width:0,overflowX:"visible"},WL={height:0,overflowY:"visible"},HL={},VL=e=>{var{width:t,height:n}=e,a=ps(t),s=ps(n);return a&&s?qL:a?KL:s?WL:HL};function GL(e){var{width:t,height:n,aspect:a}=e,s=t,o=n;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=a&&a>0?void 0:"100%":o===void 0&&(o=a&&a>0?void 0:"100%"),{width:s,height:o}}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vy.apply(null,arguments)}function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function KN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(n),!0).forEach(function(a){YL(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function YL(e,t,n){return(t=XL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XL(e){var t=JL(e,"string");return typeof t=="symbol"?t:t+""}function JL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xC=g.createContext({width:-1,height:-1});function ZL(e){return Ca(e.width)&&Ca(e.height)}function yC(e){var{children:t,width:n,height:a}=e,s=g.useMemo(()=>({width:n,height:a}),[n,a]);return ZL(s)?g.createElement(xC.Provider,{value:s},t):null}var z0=()=>g.useContext(xC),QL=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:a={width:-1,height:-1},width:s,height:o,minWidth:c=0,minHeight:d,maxHeight:u,children:p,debounce:f=0,id:h,className:y,onResize:v,style:N={}}=e,j=g.useRef(null),b=g.useRef();b.current=v,g.useImperativeHandle(t,()=>j.current);var[_,S]=g.useState({containerWidth:a.width,containerHeight:a.height}),P=g.useCallback((M,D)=>{S(z=>{var Y=Math.round(M),W=Math.round(D);return z.containerWidth===Y&&z.containerHeight===W?z:{containerWidth:Y,containerHeight:W}})},[]);g.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return Zc;var M=W=>{var re,{width:U,height:R}=W[0].contentRect;P(U,R),(re=b.current)===null||re===void 0||re.call(b,U,R)};f>0&&(M=UL(M,f,{trailing:!0,leading:!1}));var D=new ResizeObserver(M),{width:z,height:Y}=j.current.getBoundingClientRect();return P(z,Y),D.observe(j.current),()=>{D.disconnect()}},[P,f]);var{containerWidth:C,containerHeight:A}=_;Om(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:I}=gC(C,A,{width:s,height:o,aspect:n,maxHeight:u});return Om(O!=null&&O>0||I!=null&&I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,I,s,o,c,d,n),g.createElement("div",{id:h?"".concat(h):void 0,className:ft("recharts-responsive-container",y),style:KN(KN({},N),{},{width:s,height:o,minWidth:c,minHeight:d,maxHeight:u}),ref:j},g.createElement("div",{style:VL({width:s,height:o})},g.createElement(yC,{width:O,height:I},p)))}),ns=g.forwardRef((e,t)=>{var n=z0();if(Ca(n.width)&&Ca(n.height))return e.children;var{width:a,height:s}=GL({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:c}=gC(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Le(o)&&Le(c)?g.createElement(yC,{width:o,height:c},e.children):g.createElement(QL,vy({},e,{width:a,height:s,ref:t}))});function vC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Mf=()=>{var e,t=Cr(),n=Be(DL),a=Be(If),s=(e=Be(Tf))===null||e===void 0?void 0:e.padding;return!t||!a||!s?n:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},e$={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},bC=()=>{var e;return(e=Be(fr))!==null&&e!==void 0?e:e$},R0=()=>Be(Ns),F0=()=>Be(_s),t$=()=>Be(e=>e.layout.margin),ut=e=>e.layout.layoutType,fi=()=>Be(ut),r$=()=>{var e=fi();if(e==="horizontal"||e==="vertical")return e},n$=()=>{var e=fi();return e!==void 0},Df=e=>{var t=Ot(),n=Cr(),{width:a,height:s}=e,o=z0(),c=a,d=s;return o&&(c=o.width>0?o.width:a,d=o.height>0?o.height:s),g.useEffect(()=>{!n&&Ca(c)&&Ca(d)&&t(oL({width:c,height:d}))},[t,n,c,d]),null},jC=Symbol.for("immer-nothing"),WN=Symbol.for("immer-draftable"),Sn=Symbol.for("immer-state");function aa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Dc=Object.getPrototypeOf;function Qo(e){return!!e&&!!e[Sn]}function Yi(e){return e?wC(e)||Array.isArray(e)||!!e[WN]||!!e.constructor?.[WN]||nd(e)||$f(e):!1}var a$=Object.prototype.constructor.toString(),HN=new WeakMap;function wC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let a=HN.get(n);return a===void 0&&(a=Function.toString.call(n),HN.set(n,a)),a===a$}function Tm(e,t,n=!0){Lf(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function Lf(e){const t=e[Sn];return t?t.type_:Array.isArray(e)?1:nd(e)?2:$f(e)?3:0}function by(e,t){return Lf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NC(e,t,n){const a=Lf(e);a===2?e.set(t,n):a===3?e.add(n):e[t]=n}function s$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nd(e){return e instanceof Map}function $f(e){return e instanceof Set}function Mi(e){return e.copy_||e.base_}function jy(e,t){if(nd(e))return new Map(e);if($f(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=wC(e);if(t===!0||t==="class_only"&&!n){const a=Object.getOwnPropertyDescriptors(e);delete a[Sn];let s=Reflect.ownKeys(a);for(let o=0;o<s.length;o++){const c=s[o],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Dc(e),a)}else{const a=Dc(e);if(a!==null&&n)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function B0(e,t=!1){return zf(e)||Qo(e)||!Yi(e)||(Lf(e)>1&&Object.defineProperties(e,{set:$u,add:$u,clear:$u,delete:$u}),Object.freeze(e),t&&Object.values(e).forEach(n=>B0(n,!0))),e}function i$(){aa(2)}var $u={value:i$};function zf(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var o$={};function Xi(e){const t=o$[e];return t||aa(0,e),t}var Lc;function _C(){return Lc}function l$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VN(e,t){t&&(Xi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function wy(e){Ny(e),e.drafts_.forEach(c$),e.drafts_=null}function Ny(e){e===Lc&&(Lc=e.parent_)}function GN(e){return Lc=l$(Lc,e)}function c$(e){const t=e[Sn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function YN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Sn].modified_&&(wy(t),aa(4)),Yi(e)&&(e=Im(t,e),t.parent_||Mm(t,e)),t.patches_&&Xi("Patches").generateReplacementPatches_(n[Sn].base_,e,t.patches_,t.inversePatches_)):e=Im(t,n,[]),wy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jC?e:void 0}function Im(e,t,n){if(zf(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[Sn];if(!s)return Tm(t,(o,c)=>XN(e,s,t,o,c,n),a),t;if(s.scope_!==e)return t;if(!s.modified_)return Mm(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let c=o,d=!1;s.type_===3&&(c=new Set(o),o.clear(),d=!0),Tm(c,(u,p)=>XN(e,s,o,u,p,n,d),a),Mm(e,o,!1),n&&e.patches_&&Xi("Patches").generatePatches_(s,n,e.patches_,e.inversePatches_)}return s.copy_}function XN(e,t,n,a,s,o,c){if(s==null||typeof s!="object"&&!c)return;const d=zf(s);if(!(d&&!c)){if(Qo(s)){const u=o&&t&&t.type_!==3&&!by(t.assigned_,a)?o.concat(a):void 0,p=Im(e,s,u);if(NC(n,a,p),Qo(p))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Yi(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&d)return;Im(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(nd(n)?n.has(a):Object.prototype.propertyIsEnumerable.call(n,a))&&Mm(e,s)}}}function Mm(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&B0(t,n)}function d$(e,t){const n=Array.isArray(e),a={type_:n?1:0,scope_:t?t.scope_:_C(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,o=U0;n&&(s=[a],o=$c);const{revoke:c,proxy:d}=Proxy.revocable(s,o);return a.draft_=d,a.revoke_=c,d}var U0={get(e,t){if(t===Sn)return e;const n=Mi(e);if(!by(n,t))return u$(e,n,t);const a=n[t];return e.finalized_||!Yi(a)?a:a===cx(e.base_,t)?(dx(e),e.copy_[t]=ky(a,e)):a},has(e,t){return t in Mi(e)},ownKeys(e){return Reflect.ownKeys(Mi(e))},set(e,t,n){const a=kC(Mi(e),t);if(a?.set)return a.set.call(e.draft_,n),!0;if(!e.modified_){const s=cx(Mi(e),t),o=s?.[Sn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(s$(n,s)&&(n!==void 0||by(e.base_,t)))return!0;dx(e),_y(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dx(e),_y(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Mi(e),a=Reflect.getOwnPropertyDescriptor(n,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:n[t]}},defineProperty(){aa(11)},getPrototypeOf(e){return Dc(e.base_)},setPrototypeOf(){aa(12)}},$c={};Tm(U0,(e,t)=>{$c[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});$c.deleteProperty=function(e,t){return $c.set.call(this,e,t,void 0)};$c.set=function(e,t,n){return U0.set.call(this,e[0],t,n,e[0])};function cx(e,t){const n=e[Sn];return(n?Mi(n):e)[t]}function u$(e,t,n){const a=kC(t,n);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function kC(e,t){if(!(t in e))return;let n=Dc(e);for(;n;){const a=Object.getOwnPropertyDescriptor(n,t);if(a)return a;n=Dc(n)}}function _y(e){e.modified_||(e.modified_=!0,e.parent_&&_y(e.parent_))}function dx(e){e.copy_||(e.copy_=jy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var m$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,a)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const c=this;return function(u=o,...p){return c.produce(u,f=>n.call(this,f,...p))}}typeof n!="function"&&aa(6),a!==void 0&&typeof a!="function"&&aa(7);let s;if(Yi(t)){const o=GN(this),c=ky(t,void 0);let d=!0;try{s=n(c),d=!1}finally{d?wy(o):Ny(o)}return VN(o,a),YN(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===jC&&(s=void 0),this.autoFreeze_&&B0(s,!0),a){const o=[],c=[];Xi("Patches").generateReplacementPatches_(t,s,o,c),a(o,c)}return s}else aa(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,u=>t(u,...d));let a,s;return[this.produce(t,n,(c,d)=>{a=c,s=d}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yi(e)||aa(8),Qo(e)&&(e=f$(e));const t=GN(this),n=ky(e,void 0);return n[Sn].isManual_=!0,Ny(t),n}finishDraft(e,t){const n=e&&e[Sn];(!n||!n.isManual_)&&aa(9);const{scope_:a}=n;return VN(a,t),YN(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const a=Xi("Patches").applyPatches_;return Qo(e)?a(e,t):this.produce(e,s=>a(s,t))}};function ky(e,t){const n=nd(e)?Xi("MapSet").proxyMap_(e,t):$f(e)?Xi("MapSet").proxySet_(e,t):d$(e,t);return(t?t.scope_:_C()).drafts_.push(n),n}function f$(e){return Qo(e)||aa(10,e),SC(e)}function SC(e){if(!Yi(e)||zf(e))return e;const t=e[Sn];let n,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=jy(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else n=jy(e,!0);return Tm(n,(s,o)=>{NC(n,s,SC(o))},a),t&&(t.finalized_=!1),n}var p$=new m$;p$.produce;var h$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},PC=gn({name:"legend",initialState:h$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:zt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:a}=t.payload,s=la(e).payload.indexOf(n);s>-1&&(e.payload[s]=a)},prepare:zt()},removeLegendPayload:{reducer(e,t){var n=la(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:zt()}}}),{setLegendSize:JN,setLegendSettings:g$,addLegendPayload:CC,replaceLegendPayload:AC,removeLegendPayload:EC}=PC.actions,x$=PC.reducer,y$=["contextPayload"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Sy.apply(null,arguments)}function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function el(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(n),!0).forEach(function(a){v$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function v$(e,t,n){return(t=b$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b$(e){var t=j$(e,"string");return typeof t=="symbol"?t:t+""}function j$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w$(e,t){if(e==null)return{};var n,a,s=N$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function N$(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function _$(e){return e.value}function k$(e){var{contextPayload:t}=e,n=w$(e,y$),a=CP(t,e.payloadUniqBy,_$),s=el(el({},n),{},{payload:a});return g.isValidElement(e.content)?g.cloneElement(e.content,s):typeof e.content=="function"?g.createElement(e.content,s):g.createElement(hM,s)}function S$(e,t,n,a,s,o){var{layout:c,align:d,verticalAlign:u}=t,p,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?p={left:((a||0)-o.width)/2}:p=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((s||0)-o.height)/2}:f=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),el(el({},p),f)}function P$(e){var t=Ot();return g.useEffect(()=>{t(g$(e))},[t,e]),null}function C$(e){var t=Ot();return g.useEffect(()=>(t(JN(e)),()=>{t(JN({width:0,height:0}))}),[t,e]),null}function A$(e,t,n,a){return e==="vertical"&&Le(t)?{height:t}:e==="horizontal"?{width:n||a}:null}var E$={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Rf(e){var t=Xt(e,E$),n=cD(),a=i6(),s=t$(),{width:o,height:c,wrapperStyle:d,portal:u}=t,[p,f]=IP([n]),h=R0(),y=F0();if(h==null||y==null)return null;var v=h-(s?.left||0)-(s?.right||0),N=A$(t.layout,c,o,v),j=u?d:el(el({position:"absolute",width:N?.width||o||"auto",height:N?.height||c||"auto"},S$(d,t,s,h,y,p)),d),b=u??a;if(b==null||n==null)return null;var _=g.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:f},g.createElement(P$,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&g.createElement(C$,{width:p.width,height:p.height}),g.createElement(k$,Sy({},t,N,{margin:s,chartWidth:h,chartHeight:y,contextPayload:n})));return m0.createPortal(_,b)}Rf.displayName="Legend";function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Py.apply(null,arguments)}function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ux(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(a){O$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function O$(e,t,n){return(t=T$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T$(e){var t=I$(e,"string");return typeof t=="symbol"?t:t+""}function I$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$(e){return Array.isArray(e)&&Pa(e[0])&&Pa(e[1])?e.join(" ~ "):e}var D$=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:a={},labelStyle:s={},payload:o,formatter:c,itemSorter:d,wrapperClassName:u,labelClassName:p,label:f,labelFormatter:h,accessibilityLayer:y=!1}=e,v=()=>{if(o&&o.length){var A={padding:0,margin:0},O=(d?bf(o,d):o).map((I,M)=>{if(I.type==="none")return null;var D=I.formatter||c||M$,{value:z,name:Y}=I,W=z,re=Y;if(D){var U=D(z,Y,I,M,o);if(Array.isArray(U))[W,re]=U;else if(U!=null)W=U;else return null}var R=ux({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},a);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:R},Pa(re)?g.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Pa(re)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},W),g.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:A},O)}return null},N=ux({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=ux({margin:0},s),b=!Lt(f),_=b?f:"",S=ft("recharts-default-tooltip",u),P=ft("recharts-tooltip-label",p);b&&h&&o!==void 0&&o!==null&&(_=h(f,o));var C=y?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Py({className:S,style:N},C),g.createElement("p",{className:P,style:j},g.isValidElement(_)?_:"".concat(_)),v())},mc="recharts-tooltip-wrapper",L$={visibility:"hidden"};function $$(e){var{coordinate:t,translateX:n,translateY:a}=e;return ft(mc,{["".concat(mc,"-right")]:Le(n)&&t&&Le(t.x)&&n>=t.x,["".concat(mc,"-left")]:Le(n)&&t&&Le(t.x)&&n<t.x,["".concat(mc,"-bottom")]:Le(a)&&t&&Le(t.y)&&a>=t.y,["".concat(mc,"-top")]:Le(a)&&t&&Le(t.y)&&a<t.y})}function e_(e){var{allowEscapeViewBox:t,coordinate:n,key:a,offsetTopLeft:s,position:o,reverseDirection:c,tooltipDimension:d,viewBox:u,viewBoxDimension:p}=e;if(o&&Le(o[a]))return o[a];var f=n[a]-d-(s>0?s:0),h=n[a]+s;if(t[a])return c[a]?f:h;var y=u[a];if(y==null)return 0;if(c[a]){var v=f,N=y;return v<N?Math.max(h,y):Math.max(f,y)}if(p==null)return 0;var j=h+d,b=y+p;return j>b?Math.max(f,y):Math.max(h,y)}function z$(e){var{translateX:t,translateY:n,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function R$(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:a,position:s,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:u}=e,p,f,h;return c.height>0&&c.width>0&&n?(f=e_({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),h=e_({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),p=z$({translateX:f,translateY:h,useTranslate3d:d})):p=L$,{cssProperties:p,cssClasses:$$({translateX:f,translateY:h,coordinate:n})}}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(a){Cy(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Cy(e,t,n){return(t=F$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F$(e){var t=B$(e,"string");return typeof t=="symbol"?t:t+""}function B$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class U$ extends g.PureComponent{constructor(){super(...arguments),Cy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Cy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,a,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&n!==void 0?n:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:a,animationEasing:s,children:o,coordinate:c,hasPayload:d,isAnimationActive:u,offset:p,position:f,reverseDirection:h,useTranslate3d:y,viewBox:v,wrapperStyle:N,lastBoundingBox:j,innerRef:b,hasPortalFromProps:_}=this.props,{cssClasses:S,cssProperties:P}=R$({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:p,position:f,reverseDirection:h,tooltipBox:{height:j.height,width:j.width},useTranslate3d:y,viewBox:v}),C=_?{}:zu(zu({transition:u&&t?"transform ".concat(a,"ms ").concat(s):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),A=zu(zu({},C),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},N);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:A,ref:b},o)}}var OC=()=>{var e;return(e=Be(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Ay(){return Ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ay.apply(null,arguments)}function r_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function n_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(n),!0).forEach(function(a){q$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function q$(e,t,n){return(t=K$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K$(e){var t=W$(e,"string");return typeof t=="symbol"?t:t+""}function W$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a_={curveBasisClosed:k6,curveBasisOpen:S6,curveBasis:_6,curveBumpX:d6,curveBumpY:u6,curveLinearClosed:P6,curveLinear:yf,curveMonotoneX:C6,curveMonotoneY:A6,curveNatural:E6,curveStep:O6,curveStepAfter:I6,curveStepBefore:T6},Dm=e=>Ct(e.x)&&Ct(e.y),s_=e=>e.base!=null&&Dm(e.base)&&Dm(e),fc=e=>e.x,pc=e=>e.y,H$=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Jc(e));return(n==="curveMonotone"||n==="curveBump")&&t?a_["".concat(n).concat(t==="vertical"?"Y":"X")]:a_[n]||yf},V$=e=>{var{type:t="linear",points:n=[],baseLine:a,layout:s,connectNulls:o=!1}=e,c=H$(t,s),d=o?n.filter(Dm):n,u;if(Array.isArray(a)){var p=n.map((v,N)=>n_(n_({},v),{},{base:a[N]}));s==="vertical"?u=Eu().y(pc).x1(fc).x0(v=>v.base.x):u=Eu().x(fc).y1(pc).y0(v=>v.base.y);var f=u.defined(s_).curve(c),h=o?p.filter(s_):p;return f(h)}s==="vertical"&&Le(a)?u=Eu().y(pc).x1(fc).x0(a):Le(a)?u=Eu().x(fc).y1(pc).y0(a):u=nP().x(fc).y(pc);var y=u.defined(Dm).curve(c);return y(d)},Go=e=>{var{className:t,points:n,path:a,pathRef:s}=e,o=fi();if((!n||!n.length)&&!a)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},d=n&&n.length?V$(c):a;return g.createElement("path",Ay({},rn(e),C0(e),{className:ft("recharts-curve",t),d:d===null?void 0:d,ref:s}))},G$=["x","y","top","left","width","height","className"];function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ey.apply(null,arguments)}function i_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Y$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(n),!0).forEach(function(a){X$(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function X$(e,t,n){return(t=J$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J$(e){var t=Z$(e,"string");return typeof t=="symbol"?t:t+""}function Z$(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q$(e,t){if(e==null)return{};var n,a,s=ez(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ez(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var tz=(e,t,n,a,s,o)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(t,"h").concat(n),rz=e=>{var{x:t=0,y:n=0,top:a=0,left:s=0,width:o=0,height:c=0,className:d}=e,u=Q$(e,G$),p=Y$({x:t,y:n,top:a,left:s,width:o,height:c},u);return!Le(t)||!Le(n)||!Le(o)||!Le(c)||!Le(a)||!Le(s)?null:g.createElement("path",Ey({},Gr(p),{className:ft("recharts-cross",d),d:tz(t,n,o,c,a,s)}))};function nz(e,t,n,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?a:n.width-1,height:e==="horizontal"?n.height-1:a}}function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function l_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(a){az(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function az(e,t,n){return(t=sz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sz(e){var t=iz(e,"string");return typeof t=="symbol"?t:t+""}function iz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oz=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TC=(e,t,n)=>e.map(a=>"".concat(oz(a)," ").concat(t,"ms ").concat(n)).join(","),lz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,a)=>n.filter(s=>a.includes(s))),zc=(e,t)=>Object.keys(t).reduce((n,a)=>l_(l_({},n),{},{[a]:e(a,t[a])}),{});function c_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(n),!0).forEach(function(a){cz(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function cz(e,t,n){return(t=dz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dz(e){var t=uz(e,"string");return typeof t=="symbol"?t:t+""}function uz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lm=(e,t,n)=>e+(t-e)*n,Oy=e=>{var{from:t,to:n}=e;return t!==n},IC=(e,t,n)=>{var a=zc((s,o)=>{if(Oy(o)){var[c,d]=e(o.from,o.to,o.velocity);return mr(mr({},o),{},{from:c,velocity:d})}return o},t);return n<1?zc((s,o)=>Oy(o)&&a[s]!=null?mr(mr({},o),{},{velocity:Lm(o.velocity,a[s].velocity,n),from:Lm(o.from,a[s].from,n)}):o,t):IC(e,a,n-1)};function mz(e,t,n,a,s,o){var c,d=a.reduce((y,v)=>mr(mr({},y),{},{[v]:{from:e[v],velocity:0,to:t[v]}}),{}),u=()=>zc((y,v)=>v.from,d),p=()=>!Object.values(d).filter(Oy).length,f=null,h=y=>{c||(c=y);var v=y-c,N=v/n.dt;d=IC(n,d,N),s(mr(mr(mr({},e),t),u())),c=y,p()||(f=o.setTimeout(h))};return()=>(f=o.setTimeout(h),()=>{var y;(y=f)===null||y===void 0||y()})}function fz(e,t,n,a,s,o,c){var d=null,u=s.reduce((h,y)=>{var v=e[y],N=t[y];return v==null||N==null?h:mr(mr({},h),{},{[y]:[v,N]})},{}),p,f=h=>{p||(p=h);var y=(h-p)/a,v=zc((j,b)=>Lm(...b,n(y)),u);if(o(mr(mr(mr({},e),t),v)),y<1)d=c.setTimeout(f);else{var N=zc((j,b)=>Lm(...b,n(1)),u);o(mr(mr(mr({},e),t),N))}};return()=>(d=c.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}const pz=(e,t,n,a,s,o)=>{var c=lz(e,t);return n==null?()=>(s(mr(mr({},e),t)),()=>{}):n.isStepper===!0?mz(e,t,n,c,s,o):fz(e,t,n,a,c,s,o)};var $m=1e-4,MC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],DC=(e,t)=>e.map((n,a)=>n*t**a).reduce((n,a)=>n+a),d_=(e,t)=>n=>{var a=MC(e,t);return DC(a,n)},hz=(e,t)=>n=>{var a=MC(e,t),s=[...a.map((o,c)=>o*c).slice(1),0];return DC(s,n)},gz=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var a=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(a==null||a.length!==4)return null;var s=a.map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]},xz=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=gz(n[0]);if(s)return s}}return n.length===4?n:[0,0,1,1]},yz=(e,t,n,a)=>{var s=d_(e,n),o=d_(t,a),c=hz(e,n),d=p=>p>1?1:p<0?0:p,u=p=>{for(var f=p>1?1:p,h=f,y=0;y<8;++y){var v=s(h)-f,N=c(h);if(Math.abs(v-f)<$m||N<$m)return o(h);h=d(h-v/N)}return o(h)};return u.isStepper=!1,u},u_=function(){return yz(...xz(...arguments))},vz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:a=8,dt:s=17}=t,o=(c,d,u)=>{var p=-(c-d)*n,f=u*a,h=u+(p-f)*s/1e3,y=u*s/1e3+c;return Math.abs(y-d)<$m&&Math.abs(h)<$m?[d,0]:[y,h]};return o.isStepper=!0,o.dt=s,o},bz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return u_(e);case"spring":return vz();default:if(e.split("(")[0]==="cubic-bezier")return u_(e)}return typeof e=="function"?e:null};function jz(e){var t,n=()=>null,a=!1,s=null,o=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[u,...p]=d;if(typeof u=="number"){s=e.setTimeout(o.bind(null,p),u);return}o(u),s=e.setTimeout(o.bind(null,p));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),o(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class wz{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,o=c=>{c-a>=n?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{s!=null&&cancelAnimationFrame(s)}}}function Nz(){return jz(new wz)}var _z=g.createContext(Nz);function kz(e,t){var n=g.useContext(_z);return g.useMemo(()=>t??n(e),[e,t,n])}var Sz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ad={isSsr:Sz()},Pz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},m_={t:0},mx={t:1};function fl(e){var t=Xt(e,Pz),{isActive:n,canBegin:a,duration:s,easing:o,begin:c,onAnimationEnd:d,onAnimationStart:u,children:p}=t,f=n==="auto"?!ad.isSsr:n,h=kz(t.animationId,t.animationManager),[y,v]=g.useState(f?m_:mx),N=g.useRef(null);return g.useEffect(()=>{f||v(mx)},[f]),g.useEffect(()=>{if(!f||!a)return Zc;var j=pz(m_,mx,bz(o),s,v,h.getTimeoutController()),b=()=>{N.current=j()};return h.start([u,c,b,s,d]),()=>{h.stop(),N.current&&N.current(),d()}},[f,a,s,o,c,u,d,h]),p(y.t)}function pl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(Oc(t)),a=g.useRef(e);return a.current!==e&&(n.current=Oc(t),a.current=e),n.current}var Cz=["radius"],Az=["radius"],f_,p_,h_,g_,x_,y_,v_,b_,j_,w_;function N_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(n),!0).forEach(function(a){Ez(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ez(e,t,n){return(t=Oz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oz(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},zm.apply(null,arguments)}function k_(e,t){if(e==null)return{};var n,a,s=Iz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Iz(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function ya(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S_=(e,t,n,a,s)=>{var o=ai(n),c=ai(a),d=Math.min(Math.abs(o)/2,Math.abs(c)/2),u=c>=0?1:-1,p=o>=0?1:-1,f=c>=0&&o>=0||c<0&&o<0?1:0,h;if(d>0&&s instanceof Array){for(var y=[0,0,0,0],v=0,N=4;v<N;v++)y[v]=s[v]>d?d:s[v];h=Ht(f_||(f_=ya(["M",",",""])),e,t+u*y[0]),y[0]>0&&(h+=Ht(p_||(p_=ya(["A ",",",",0,0,",",",",",""])),y[0],y[0],f,e+p*y[0],t)),h+=Ht(h_||(h_=ya(["L ",",",""])),e+n-p*y[1],t),y[1]>0&&(h+=Ht(g_||(g_=ya(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],f,e+n,t+u*y[1])),h+=Ht(x_||(x_=ya(["L ",",",""])),e+n,t+a-u*y[2]),y[2]>0&&(h+=Ht(y_||(y_=ya(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],f,e+n-p*y[2],t+a)),h+=Ht(v_||(v_=ya(["L ",",",""])),e+p*y[3],t+a),y[3]>0&&(h+=Ht(b_||(b_=ya(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],f,e,t+a-u*y[3])),h+="Z"}else if(d>0&&s===+s&&s>0){var j=Math.min(d,s);h=Ht(j_||(j_=ya(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*j,j,j,f,e+p*j,t,e+n-p*j,t,j,j,f,e+n,t+u*j,e+n,t+a-u*j,j,j,f,e+n-p*j,t+a,e+p*j,t+a,j,j,f,e,t+a-u*j)}else h=Ht(w_||(w_=ya(["M ",","," h "," v "," h "," Z"])),e,t,n,a,-n);return h},P_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LC=e=>{var t=Xt(e,P_),n=g.useRef(null),[a,s]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&s(le)}catch{}},[]);var{x:o,y:c,width:d,height:u,radius:p,className:f}=t,{animationEasing:h,animationDuration:y,animationBegin:v,isAnimationActive:N,isUpdateAnimationActive:j}=t,b=g.useRef(d),_=g.useRef(u),S=g.useRef(o),P=g.useRef(c),C=g.useMemo(()=>({x:o,y:c,width:d,height:u,radius:p}),[o,c,d,u,p]),A=pl(C,"rectangle-");if(o!==+o||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var O=ft("recharts-rectangle",f);if(!j){var I=Gr(t),{radius:M}=I,D=k_(I,Cz);return g.createElement("path",zm({},D,{x:ai(o),y:ai(c),width:ai(d),height:ai(u),radius:typeof p=="number"?p:void 0,className:O,d:S_(o,c,d,u,p)}))}var z=b.current,Y=_.current,W=S.current,re=P.current,U="0px ".concat(a===-1?1:a,"px"),R="".concat(a,"px 0px"),Q=TC(["strokeDasharray"],y,typeof h=="string"?h:P_.animationEasing);return g.createElement(fl,{animationId:A,key:A,canBegin:a>0,duration:y,easing:h,isActive:j,begin:v},le=>{var H=bt(z,d,le),ee=bt(Y,u,le),ce=bt(W,o,le),B=bt(re,c,le);n.current&&(b.current=H,_.current=ee,S.current=ce,P.current=B);var $;N?le>0?$={transition:Q,strokeDasharray:R}:$={strokeDasharray:U}:$={strokeDasharray:R};var G=Gr(t),{radius:ge}=G,ue=k_(G,Az);return g.createElement("path",zm({},ue,{radius:typeof p=="number"?p:void 0,className:O,d:S_(ce,B,H,ee,p),ref:n,style:__(__({},$),t.style)}))})};function C_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C_(Object(n),!0).forEach(function(a){Mz(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C_(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Mz(e,t,n){return(t=Dz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dz(e){var t=Lz(e,"string");return typeof t=="symbol"?t:t+""}function Lz(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rm=Math.PI/180,$z=e=>e*180/Math.PI,sr=(e,t,n,a)=>({x:e+Math.cos(-Rm*a)*n,y:t+Math.sin(-Rm*a)*n}),$C=function(t,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(n-(a.top||0)-(a.bottom||0)))/2},zz=(e,t)=>{var{x:n,y:a}=e,{x:s,y:o}=t;return Math.sqrt((n-s)**2+(a-o)**2)},Rz=(e,t)=>{var{x:n,y:a}=e,{cx:s,cy:o}=t,c=zz({x:n,y:a},{x:s,y:o});if(c<=0)return{radius:c,angle:0};var d=(n-s)/c,u=Math.acos(d);return a>o&&(u=2*Math.PI-u),{radius:c,angle:$z(u),angleInRadian:u}},Fz=e=>{var{startAngle:t,endAngle:n}=e,a=Math.floor(t/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:t-o*360,endAngle:n-o*360}},Bz=(e,t)=>{var{startAngle:n,endAngle:a}=t,s=Math.floor(n/360),o=Math.floor(a/360),c=Math.min(s,o);return e+c*360},Uz=(e,t)=>{var{chartX:n,chartY:a}=e,{radius:s,angle:o}=Rz({x:n,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:u,endAngle:p}=Fz(t),f=o,h;if(u<=p){for(;f>p;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=p}else{for(;f>u;)f-=360;for(;f<p;)f+=360;h=f>=p&&f<=u}return h?A_(A_({},t),{},{radius:s,angle:Bz(f,t)}):null};function zC(e){var{cx:t,cy:n,radius:a,startAngle:s,endAngle:o}=e,c=sr(t,n,a,s),d=sr(t,n,a,o);return{points:[c,d],cx:t,cy:n,radius:a,startAngle:s,endAngle:o}}var E_,O_,T_,I_,M_,D_,L_;function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ty.apply(null,arguments)}function Li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qz=(e,t)=>{var n=_r(t-e),a=Math.min(Math.abs(t-e),359.999);return n*a},Ru=e=>{var{cx:t,cy:n,radius:a,angle:s,sign:o,isExternal:c,cornerRadius:d,cornerIsExternal:u}=e,p=d*(c?1:-1)+a,f=Math.asin(d/p)/Rm,h=u?s:s+o*f,y=sr(t,n,p,h),v=sr(t,n,a,h),N=u?s-o*f:s,j=sr(t,n,p*Math.cos(f*Rm),N);return{center:y,circleTangency:v,lineTangency:j,theta:f}},RC=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,d=qz(o,c),u=o+d,p=sr(t,n,s,o),f=sr(t,n,s,u),h=Ht(E_||(E_=Li(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,s,s,+(Math.abs(d)>180),+(o>u),f.x,f.y);if(a>0){var y=sr(t,n,a,o),v=sr(t,n,a,u);h+=Ht(O_||(O_=Li(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,a,a,+(Math.abs(d)>180),+(o<=u),y.x,y.y)}else h+=Ht(T_||(T_=Li(["L ",","," Z"])),t,n);return h},Kz=e=>{var{cx:t,cy:n,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:p}=e,f=_r(p-u),{circleTangency:h,lineTangency:y,theta:v}=Ru({cx:t,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:d}),{circleTangency:N,lineTangency:j,theta:b}=Ru({cx:t,cy:n,radius:s,angle:p,sign:-f,cornerRadius:o,cornerIsExternal:d}),_=d?Math.abs(u-p):Math.abs(u-p)-v-b;if(_<0)return c?Ht(I_||(I_=Li(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,o,o,o*2,o,o,-o*2):RC({cx:t,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:p});var S=Ht(M_||(M_=Li(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,o,o,+(f<0),h.x,h.y,s,s,+(_>180),+(f<0),N.x,N.y,o,o,+(f<0),j.x,j.y);if(a>0){var{circleTangency:P,lineTangency:C,theta:A}=Ru({cx:t,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:O,lineTangency:I,theta:M}=Ru({cx:t,cy:n,radius:a,angle:p,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),D=d?Math.abs(u-p):Math.abs(u-p)-A-M;if(D<0&&o===0)return"".concat(S,"L").concat(t,",").concat(n,"Z");S+=Ht(D_||(D_=Li(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),I.x,I.y,o,o,+(f<0),O.x,O.y,a,a,+(D>180),+(f>0),P.x,P.y,o,o,+(f<0),C.x,C.y)}else S+=Ht(L_||(L_=Li(["L",",","Z"])),t,n);return S},Wz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FC=e=>{var t=Xt(e,Wz),{cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:u,startAngle:p,endAngle:f,className:h}=t;if(o<s||p===f)return null;var y=ft("recharts-sector",h),v=o-s,N=Vr(c,v,0,!0),j;return N>0&&Math.abs(p-f)<360?j=Kz({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(N,v/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:p,endAngle:f}):j=RC({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:p,endAngle:f}),g.createElement("path",Ty({},Gr(t),{className:y,d:j}))};function Hz(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(yP(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:o,outerRadius:c,angle:d}=t,u=sr(a,s,o,d),p=sr(a,s,c,d);return[{x:u.x,y:u.y},{x:p.x,y:p.y}]}return zC(t)}}var fx={},px={},hx={},$_;function Vz(){return $_||($_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EP();function n(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=n})(hx)),hx}var z_;function Gz(){return z_||(z_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vz();function n(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=n})(px)),px}var R_;function Yz(){return R_||(R_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OP(),n=Gz();function a(s,o,c){c&&typeof c!="number"&&t.isIterateeCall(s,o,c)&&(o=c=void 0),s=n.toFinite(s),o===void 0?(o=s,s=0):o=n.toFinite(o),c=c===void 0?s<o?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((o-s)/(c||1)),0),u=new Array(d);for(let p=0;p<d;p++)u[p]=s,s+=c;return u}e.range=a})(fx)),fx}var gx,F_;function Xz(){return F_||(F_=1,gx=Yz().range),gx}var Jz=Xz();const BC=js(Jz);function ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function q0(e){let t,n,a;e.length!==2?(t=ii,n=(d,u)=>ii(e(d),u),a=(d,u)=>e(d)-u):(t=e===ii||e===Zz?e:Qz,n=e,a=e);function s(d,u,p=0,f=d.length){if(p<f){if(t(u,u)!==0)return f;do{const h=p+f>>>1;n(d[h],u)<0?p=h+1:f=h}while(p<f)}return p}function o(d,u,p=0,f=d.length){if(p<f){if(t(u,u)!==0)return f;do{const h=p+f>>>1;n(d[h],u)<=0?p=h+1:f=h}while(p<f)}return p}function c(d,u,p=0,f=d.length){const h=s(d,u,p,f-1);return h>p&&a(d[h-1],u)>-a(d[h],u)?h-1:h}return{left:s,center:c,right:o}}function Qz(){return 0}function UC(e){return e===null?NaN:+e}function*eR(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const tR=q0(ii),sd=tR.right;q0(UC).center;class B_ extends Map{constructor(t,n=aR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(U_(this,t))}has(t){return super.has(U_(this,t))}set(t,n){return super.set(rR(this,t),n)}delete(t){return super.delete(nR(this,t))}}function U_({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):n}function rR({_intern:e,_key:t},n){const a=t(n);return e.has(a)?e.get(a):(e.set(a,n),n)}function nR({_intern:e,_key:t},n){const a=t(n);return e.has(a)&&(n=e.get(a),e.delete(a)),n}function aR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sR(e=ii){if(e===ii)return qC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const a=e(t,n);return a||a===0?a:(e(n,n)===0)-(e(t,t)===0)}}function qC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iR=Math.sqrt(50),oR=Math.sqrt(10),lR=Math.sqrt(2);function Fm(e,t,n){const a=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(a)),o=a/Math.pow(10,s),c=o>=iR?10:o>=oR?5:o>=lR?2:1;let d,u,p;return s<0?(p=Math.pow(10,-s)/c,d=Math.round(e*p),u=Math.round(t*p),d/p<e&&++d,u/p>t&&--u,p=-p):(p=Math.pow(10,s)*c,d=Math.round(e/p),u=Math.round(t/p),d*p<e&&++d,u*p>t&&--u),u<d&&.5<=n&&n<2?Fm(e,t,n*2):[d,u,p]}function Iy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const a=t<e,[s,o,c]=a?Fm(t,e,n):Fm(e,t,n);if(!(o>=s))return[];const d=o-s+1,u=new Array(d);if(a)if(c<0)for(let p=0;p<d;++p)u[p]=(o-p)/-c;else for(let p=0;p<d;++p)u[p]=(o-p)*c;else if(c<0)for(let p=0;p<d;++p)u[p]=(s+p)/-c;else for(let p=0;p<d;++p)u[p]=(s+p)*c;return u}function My(e,t,n){return t=+t,e=+e,n=+n,Fm(e,t,n)[2]}function Dy(e,t,n){t=+t,e=+e,n=+n;const a=t<e,s=a?My(t,e,n):My(e,t,n);return(a?-1:1)*(s<0?1/-s:s)}function q_(e,t){let n;for(const a of e)a!=null&&(n<a||n===void 0&&a>=a)&&(n=a);return n}function K_(e,t){let n;for(const a of e)a!=null&&(n>a||n===void 0&&a>=a)&&(n=a);return n}function KC(e,t,n=0,a=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),a=Math.floor(Math.min(e.length-1,a)),!(n<=t&&t<=a))return e;for(s=s===void 0?qC:sR(s);a>n;){if(a-n>600){const u=a-n+1,p=t-n+1,f=Math.log(u),h=.5*Math.exp(2*f/3),y=.5*Math.sqrt(f*h*(u-h)/u)*(p-u/2<0?-1:1),v=Math.max(n,Math.floor(t-p*h/u+y)),N=Math.min(a,Math.floor(t+(u-p)*h/u+y));KC(e,t,v,N,s)}const o=e[t];let c=n,d=a;for(hc(e,n,t),s(e[a],o)>0&&hc(e,n,a);c<d;){for(hc(e,c,d),++c,--d;s(e[c],o)<0;)++c;for(;s(e[d],o)>0;)--d}s(e[n],o)===0?hc(e,n,d):(++d,hc(e,d,a)),d<=t&&(n=d+1),t<=d&&(a=d-1)}return e}function hc(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function cR(e,t,n){if(e=Float64Array.from(eR(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return K_(e);if(t>=1)return q_(e);var a,s=(a-1)*t,o=Math.floor(s),c=q_(KC(e,o).subarray(0,o+1)),d=K_(e.subarray(o+1));return c+(d-c)*(s-o)}}function dR(e,t,n=UC){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+n(e[0],0,e);if(t>=1)return+n(e[a-1],a-1,e);var a,s=(a-1)*t,o=Math.floor(s),c=+n(e[o],o,e),d=+n(e[o+1],o+1,e);return c+(d-c)*(s-o)}}function uR(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(s);++a<s;)o[a]=e+a*n;return o}function Kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ks(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ly=Symbol("implicit");function K0(){var e=new B_,t=[],n=[],a=Ly;function s(o){let c=e.get(o);if(c===void 0){if(a!==Ly)return a;e.set(o,c=t.push(o)-1)}return n[c%n.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new B_;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(o){return arguments.length?(n=Array.from(o),s):n.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return K0(t,n).unknown(a)},Kn.apply(s,arguments),s}function W0(){var e=K0().unknown(void 0),t=e.domain,n=e.range,a=0,s=1,o,c,d=!1,u=0,p=0,f=.5;delete e.unknown;function h(){var y=t().length,v=s<a,N=v?s:a,j=v?a:s;o=(j-N)/Math.max(1,y-u+p*2),d&&(o=Math.floor(o)),N+=(j-N-o*(y-u))*f,c=o*(1-u),d&&(N=Math.round(N),c=Math.round(c));var b=uR(y).map(function(_){return N+o*_});return n(v?b.reverse():b)}return e.domain=function(y){return arguments.length?(t(y),h()):t()},e.range=function(y){return arguments.length?([a,s]=y,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(y){return[a,s]=y,a=+a,s=+s,d=!0,h()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(y){return arguments.length?(d=!!y,h()):d},e.padding=function(y){return arguments.length?(u=Math.min(1,p=+y),h()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),h()):u},e.paddingOuter=function(y){return arguments.length?(p=+y,h()):p},e.align=function(y){return arguments.length?(f=Math.max(0,Math.min(1,y)),h()):f},e.copy=function(){return W0(t(),[a,s]).round(d).paddingInner(u).paddingOuter(p).align(f)},Kn.apply(h(),arguments)}function WC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WC(t())},e}function mR(){return WC(W0.apply(null,arguments).paddingInner(1))}function H0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HC(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function id(){}var Rc=.7,Bm=1/Rc,Yo="\\s*([+-]?\\d+)\\s*",Fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fR=/^#([0-9a-f]{3,8})$/,pR=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),hR=new RegExp(`^rgb\\(${wa},${wa},${wa}\\)$`),gR=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${Fc}\\)$`),xR=new RegExp(`^rgba\\(${wa},${wa},${wa},${Fc}\\)$`),yR=new RegExp(`^hsl\\(${Fc},${wa},${wa}\\)$`),vR=new RegExp(`^hsla\\(${Fc},${wa},${wa},${Fc}\\)$`),W_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H0(id,Bc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:H_,formatHex:H_,formatHex8:bR,formatHsl:jR,formatRgb:V_,toString:V_});function H_(){return this.rgb().formatHex()}function bR(){return this.rgb().formatHex8()}function jR(){return VC(this).formatHsl()}function V_(){return this.rgb().formatRgb()}function Bc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?G_(t):n===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pR.exec(e))?new pn(t[1],t[2],t[3],1):(t=hR.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gR.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=xR.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yR.exec(e))?J_(t[1],t[2]/100,t[3]/100,1):(t=vR.exec(e))?J_(t[1],t[2]/100,t[3]/100,t[4]):W_.hasOwnProperty(e)?G_(W_[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function G_(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,n,a){return a<=0&&(e=t=n=NaN),new pn(e,t,n,a)}function wR(e){return e instanceof id||(e=Bc(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function $y(e,t,n,a){return arguments.length===1?wR(e):new pn(e,t,n,a??1)}function pn(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}H0(pn,$y,HC(id,{brighter(e){return e=e==null?Bm:Math.pow(Bm,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rc:Math.pow(Rc,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(Bi(this.r),Bi(this.g),Bi(this.b),Um(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y_,formatHex:Y_,formatHex8:NR,formatRgb:X_,toString:X_}));function Y_(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function NR(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i((isNaN(this.opacity)?1:this.opacity)*255)}`}function X_(){const e=Um(this.opacity);return`${e===1?"rgb(":"rgba("}${Bi(this.r)}, ${Bi(this.g)}, ${Bi(this.b)}${e===1?")":`, ${e})`}`}function Um(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $i(e){return e=Bi(e),(e<16?"0":"")+e.toString(16)}function J_(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new sa(e,t,n,a)}function VC(e){if(e instanceof sa)return new sa(e.h,e.s,e.l,e.opacity);if(e instanceof id||(e=Bc(e)),!e)return new sa;if(e instanceof sa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,a=e.b/255,s=Math.min(t,n,a),o=Math.max(t,n,a),c=NaN,d=o-s,u=(o+s)/2;return d?(t===o?c=(n-a)/d+(n<a)*6:n===o?c=(a-t)/d+2:c=(t-n)/d+4,d/=u<.5?o+s:2-o-s,c*=60):d=u>0&&u<1?0:c,new sa(c,d,u,e.opacity)}function _R(e,t,n,a){return arguments.length===1?VC(e):new sa(e,t,n,a??1)}function sa(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}H0(sa,_R,HC(id,{brighter(e){return e=e==null?Bm:Math.pow(Bm,e),new sa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rc:Math.pow(Rc,e),new sa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,s=2*n-a;return new pn(xx(e>=240?e-240:e+120,s,a),xx(e,s,a),xx(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new sa(Z_(this.h),Bu(this.s),Bu(this.l),Um(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Um(this.opacity);return`${e===1?"hsl(":"hsla("}${Z_(this.h)}, ${Bu(this.s)*100}%, ${Bu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Z_(e){return e=(e||0)%360,e<0?e+360:e}function Bu(e){return Math.max(0,Math.min(1,e||0))}function xx(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const V0=e=>()=>e;function kR(e,t){return function(n){return e+n*t}}function SR(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}function PR(e){return(e=+e)==1?GC:function(t,n){return n-t?SR(t,n,e):V0(isNaN(t)?n:t)}}function GC(e,t){var n=t-e;return n?kR(e,n):V0(isNaN(e)?t:e)}const Q_=(function e(t){var n=PR(t);function a(s,o){var c=n((s=$y(s)).r,(o=$y(o)).r),d=n(s.g,o.g),u=n(s.b,o.b),p=GC(s.opacity,o.opacity);return function(f){return s.r=c(f),s.g=d(f),s.b=u(f),s.opacity=p(f),s+""}}return a.gamma=e,a})(1);function CR(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(o){for(s=0;s<n;++s)a[s]=e[s]*(1-o)+t[s]*o;return a}}function AR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ER(e,t){var n=t?t.length:0,a=e?Math.min(n,e.length):0,s=new Array(a),o=new Array(n),c;for(c=0;c<a;++c)s[c]=hl(e[c],t[c]);for(;c<n;++c)o[c]=t[c];return function(d){for(c=0;c<a;++c)o[c]=s[c](d);return o}}function OR(e,t){var n=new Date;return e=+e,t=+t,function(a){return n.setTime(e*(1-a)+t*a),n}}function qm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function TR(e,t){var n={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=hl(e[s],t[s]):a[s]=t[s];return function(o){for(s in n)a[s]=n[s](o);return a}}var zy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yx=new RegExp(zy.source,"g");function IR(e){return function(){return e}}function MR(e){return function(t){return e(t)+""}}function DR(e,t){var n=zy.lastIndex=yx.lastIndex=0,a,s,o,c=-1,d=[],u=[];for(e=e+"",t=t+"";(a=zy.exec(e))&&(s=yx.exec(t));)(o=s.index)>n&&(o=t.slice(n,o),d[c]?d[c]+=o:d[++c]=o),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,u.push({i:c,x:qm(a,s)})),n=yx.lastIndex;return n<t.length&&(o=t.slice(n),d[c]?d[c]+=o:d[++c]=o),d.length<2?u[0]?MR(u[0].x):IR(t):(t=u.length,function(p){for(var f=0,h;f<t;++f)d[(h=u[f]).i]=h.x(p);return d.join("")})}function hl(e,t){var n=typeof t,a;return t==null||n==="boolean"?V0(t):(n==="number"?qm:n==="string"?(a=Bc(t))?(t=a,Q_):DR:t instanceof Bc?Q_:t instanceof Date?OR:AR(t)?CR:Array.isArray(t)?ER:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?TR:qm)(e,t)}function G0(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function LR(e,t){t===void 0&&(t=e,e=hl);for(var n=0,a=t.length-1,s=t[0],o=new Array(a<0?0:a);n<a;)o[n]=e(s,s=t[++n]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return o[d](c-d)}}function $R(e){return function(){return e}}function Km(e){return+e}var e2=[0,1];function tn(e){return e}function Ry(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:$R(isNaN(t)?NaN:.5)}function zR(e,t){var n;return e>t&&(n=e,e=t,t=n),function(a){return Math.max(e,Math.min(t,a))}}function RR(e,t,n){var a=e[0],s=e[1],o=t[0],c=t[1];return s<a?(a=Ry(s,a),o=n(c,o)):(a=Ry(a,s),o=n(o,c)),function(d){return o(a(d))}}function FR(e,t,n){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=Ry(e[c],e[c+1]),o[c]=n(t[c],t[c+1]);return function(d){var u=sd(e,d,1,a)-1;return o[u](s[u](d))}}function od(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ff(){var e=e2,t=e2,n=hl,a,s,o,c=tn,d,u,p;function f(){var y=Math.min(e.length,t.length);return c!==tn&&(c=zR(e[0],e[y-1])),d=y>2?FR:RR,u=p=null,h}function h(y){return y==null||isNaN(y=+y)?o:(u||(u=d(e.map(a),t,n)))(a(c(y)))}return h.invert=function(y){return c(s((p||(p=d(t,e.map(a),qm)))(y)))},h.domain=function(y){return arguments.length?(e=Array.from(y,Km),f()):e.slice()},h.range=function(y){return arguments.length?(t=Array.from(y),f()):t.slice()},h.rangeRound=function(y){return t=Array.from(y),n=G0,f()},h.clamp=function(y){return arguments.length?(c=y?!0:tn,f()):c!==tn},h.interpolate=function(y){return arguments.length?(n=y,f()):n},h.unknown=function(y){return arguments.length?(o=y,h):o},function(y,v){return a=y,s=v,f()}}function Y0(){return Ff()(tn,tn)}function BR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Wm(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}function tl(e){return e=Wm(Math.abs(e)),e?e[1]:NaN}function UR(e,t){return function(n,a){for(var s=n.length,o=[],c=0,d=e[0],u=0;s>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),o.push(n.substring(s-=d,s+d)),!((u+=d+1)>a));)d=e[c=(c+1)%e.length];return o.reverse().join(t)}}function qR(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var KR=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uc(e){if(!(t=KR.exec(e)))throw new Error("invalid format: "+e);var t;return new X0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Uc.prototype=X0.prototype;function X0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}X0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WR(e){e:for(var t=e.length,n=1,a=-1,s;n<t;++n)switch(e[n]){case".":a=s=n;break;case"0":a===0&&(a=n),s=n;break;default:if(!+e[n])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var Hm;function HR(e,t){var n=Wm(e,t);if(!n)return Hm=void 0,e.toPrecision(t);var a=n[0],s=n[1],o=s-(Hm=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return o===c?a:o>c?a+new Array(o-c+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Wm(e,Math.max(0,t+o-1))[0]}function t2(e,t){var n=Wm(e,t);if(!n)return e+"";var a=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const r2={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>t2(e*100,t),r:t2,s:HR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function n2(e){return e}var a2=Array.prototype.map,s2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function VR(e){var t=e.grouping===void 0||e.thousands===void 0?n2:UR(a2.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?n2:qR(a2.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function p(h,y){h=Uc(h);var v=h.fill,N=h.align,j=h.sign,b=h.symbol,_=h.zero,S=h.width,P=h.comma,C=h.precision,A=h.trim,O=h.type;O==="n"?(P=!0,O="g"):r2[O]||(C===void 0&&(C=12),A=!0,O="g"),(_||v==="0"&&N==="=")&&(_=!0,v="0",N="=");var I=(y?.prefix!==void 0?y.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():""),M=(b==="$"?a:/[%p]/.test(O)?c:"")+(y?.suffix!==void 0?y.suffix:""),D=r2[O],z=/[defgprs%]/.test(O);C=C===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Y(W){var re=I,U=M,R,Q,le;if(O==="c")U=D(W)+U,W="";else{W=+W;var H=W<0||1/W<0;if(W=isNaN(W)?u:D(Math.abs(W),C),A&&(W=WR(W)),H&&+W==0&&j!=="+"&&(H=!1),re=(H?j==="("?j:d:j==="-"||j==="("?"":j)+re,U=(O==="s"&&!isNaN(W)&&Hm!==void 0?s2[8+Hm/3]:"")+U+(H&&j==="("?")":""),z){for(R=-1,Q=W.length;++R<Q;)if(le=W.charCodeAt(R),48>le||le>57){U=(le===46?s+W.slice(R+1):W.slice(R))+U,W=W.slice(0,R);break}}}P&&!_&&(W=t(W,1/0));var ee=re.length+W.length+U.length,ce=ee<S?new Array(S-ee+1).join(v):"";switch(P&&_&&(W=t(ce+W,ce.length?S-U.length:1/0),ce=""),N){case"<":W=re+W+U+ce;break;case"=":W=re+ce+W+U;break;case"^":W=ce.slice(0,ee=ce.length>>1)+re+W+U+ce.slice(ee);break;default:W=ce+re+W+U;break}return o(W)}return Y.toString=function(){return h+""},Y}function f(h,y){var v=Math.max(-8,Math.min(8,Math.floor(tl(y)/3)))*3,N=Math.pow(10,-v),j=p((h=Uc(h),h.type="f",h),{suffix:s2[8+v/3]});return function(b){return j(N*b)}}return{format:p,formatPrefix:f}}var Uu,J0,YC;GR({thousands:",",grouping:[3],currency:["$",""]});function GR(e){return Uu=VR(e),J0=Uu.format,YC=Uu.formatPrefix,Uu}function YR(e){return Math.max(0,-tl(Math.abs(e)))}function XR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tl(t)/3)))*3-tl(Math.abs(e)))}function JR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,tl(t)-tl(e))+1}function XC(e,t,n,a){var s=Dy(e,t,n),o;switch(a=Uc(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=XR(s,c))&&(a.precision=o),YC(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=JR(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=YR(s))&&(a.precision=o-(a.type==="%")*2);break}}return J0(a)}function pi(e){var t=e.domain;return e.ticks=function(n){var a=t();return Iy(a[0],a[a.length-1],n??10)},e.tickFormat=function(n,a){var s=t();return XC(s[0],s[s.length-1],n??10,a)},e.nice=function(n){n==null&&(n=10);var a=t(),s=0,o=a.length-1,c=a[s],d=a[o],u,p,f=10;for(d<c&&(p=c,c=d,d=p,p=s,s=o,o=p);f-- >0;){if(p=My(c,d,n),p===u)return a[s]=c,a[o]=d,t(a);if(p>0)c=Math.floor(c/p)*p,d=Math.ceil(d/p)*p;else if(p<0)c=Math.ceil(c*p)/p,d=Math.floor(d*p)/p;else break;u=p}return e},e}function JC(){var e=Y0();return e.copy=function(){return od(e,JC())},Kn.apply(e,arguments),pi(e)}function ZC(e){var t;function n(a){return a==null||isNaN(a=+a)?t:a}return n.invert=n,n.domain=n.range=function(a){return arguments.length?(e=Array.from(a,Km),n):e.slice()},n.unknown=function(a){return arguments.length?(t=a,n):t},n.copy=function(){return ZC(e).unknown(t)},e=arguments.length?Array.from(e,Km):[0,1],pi(n)}function QC(e,t){e=e.slice();var n=0,a=e.length-1,s=e[n],o=e[a],c;return o<s&&(c=n,n=a,a=c,c=s,s=o,o=c),e[n]=t.floor(s),e[a]=t.ceil(o),e}function i2(e){return Math.log(e)}function o2(e){return Math.exp(e)}function ZR(e){return-Math.log(-e)}function QR(e){return-Math.exp(-e)}function e8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function t8(e){return e===10?e8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function r8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function l2(e){return(t,n)=>-e(-t,n)}function Z0(e){const t=e(i2,o2),n=t.domain;let a=10,s,o;function c(){return s=r8(a),o=t8(a),n()[0]<0?(s=l2(s),o=l2(o),e(ZR,QR)):e(i2,o2),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const u=n();let p=u[0],f=u[u.length-1];const h=f<p;h&&([p,f]=[f,p]);let y=s(p),v=s(f),N,j;const b=d==null?10:+d;let _=[];if(!(a%1)&&v-y<b){if(y=Math.floor(y),v=Math.ceil(v),p>0){for(;y<=v;++y)for(N=1;N<a;++N)if(j=y<0?N/o(-y):N*o(y),!(j<p)){if(j>f)break;_.push(j)}}else for(;y<=v;++y)for(N=a-1;N>=1;--N)if(j=y>0?N/o(-y):N*o(y),!(j<p)){if(j>f)break;_.push(j)}_.length*2<b&&(_=Iy(p,f,b))}else _=Iy(y,v,Math.min(v-y,b)).map(o);return h?_.reverse():_},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=Uc(u)).precision==null&&(u.trim=!0),u=J0(u)),d===1/0)return u;const p=Math.max(1,a*d/t.ticks().length);return f=>{let h=f/o(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=p?u(f):""}},t.nice=()=>n(QC(n(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function eA(){const e=Z0(Ff()).domain([1,10]);return e.copy=()=>od(e,eA()).base(e.base()),Kn.apply(e,arguments),e}function c2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function d2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Q0(e){var t=1,n=e(c2(t),d2(t));return n.constant=function(a){return arguments.length?e(c2(t=+a),d2(t)):t},pi(n)}function tA(){var e=Q0(Ff());return e.copy=function(){return od(e,tA()).constant(e.constant())},Kn.apply(e,arguments)}function u2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function n8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function a8(e){return e<0?-e*e:e*e}function ev(e){var t=e(tn,tn),n=1;function a(){return n===1?e(tn,tn):n===.5?e(n8,a8):e(u2(n),u2(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,a()):n},pi(t)}function tv(){var e=ev(Ff());return e.copy=function(){return od(e,tv()).exponent(e.exponent())},Kn.apply(e,arguments),e}function s8(){return tv.apply(null,arguments).exponent(.5)}function m2(e){return Math.sign(e)*e*e}function i8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function rA(){var e=Y0(),t=[0,1],n=!1,a;function s(o){var c=i8(e(o));return isNaN(c)?a:n?Math.round(c):c}return s.invert=function(o){return e.invert(m2(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Km)).map(m2)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(n=!!o,s):n},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return rA(e.domain(),t).round(n).clamp(e.clamp()).unknown(a)},Kn.apply(s,arguments),pi(s)}function nA(){var e=[],t=[],n=[],a;function s(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=dR(e,c/d);return o}function o(c){return c==null||isNaN(c=+c)?a:t[sd(n,c)]}return o.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ii),s()},o.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},o.unknown=function(c){return arguments.length?(a=c,o):a},o.quantiles=function(){return n.slice()},o.copy=function(){return nA().domain(e).range(t).unknown(a)},Kn.apply(o,arguments)}function aA(){var e=0,t=1,n=1,a=[.5],s=[0,1],o;function c(u){return u!=null&&u<=u?s[sd(a,u,0,n)]:o}function d(){var u=-1;for(a=new Array(n);++u<n;)a[u]=((u+1)*t-(u-n)*e)/(n+1);return c}return c.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},c.range=function(u){return arguments.length?(n=(s=Array.from(u)).length-1,d()):s.slice()},c.invertExtent=function(u){var p=s.indexOf(u);return p<0?[NaN,NaN]:p<1?[e,a[0]]:p>=n?[a[n-1],t]:[a[p-1],a[p]]},c.unknown=function(u){return arguments.length&&(o=u),c},c.thresholds=function(){return a.slice()},c.copy=function(){return aA().domain([e,t]).range(s).unknown(o)},Kn.apply(pi(c),arguments)}function sA(){var e=[.5],t=[0,1],n,a=1;function s(o){return o!=null&&o<=o?t[sd(e,o,0,a)]:n}return s.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return sA().domain(e).range(t).unknown(n)},Kn.apply(s,arguments)}const vx=new Date,bx=new Date;function pr(e,t,n,a){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const c=s(o),d=s.ceil(o);return o-c<d-o?c:d},s.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,d)=>{const u=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<c)||!(d>0))return u;let p;do u.push(p=new Date(+o)),t(o,d),e(o);while(p<o&&o<c);return u},s.filter=o=>pr(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!o(c););else for(;--d>=0;)for(;t(c,1),!o(c););}),n&&(s.count=(o,c)=>(vx.setTime(+o),bx.setTime(+c),e(vx),e(bx),Math.floor(n(vx,bx))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(a?c=>a(c)%o===0:c=>s.count(0,c)%o===0):s)),s}const Vm=pr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Vm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Vm);Vm.range;const Za=1e3,Fn=Za*60,Qa=Fn*60,gs=Qa*24,rv=gs*7,f2=gs*30,jx=gs*365,zi=pr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCSeconds());zi.range;const nv=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Za)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getMinutes());nv.range;const av=pr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCMinutes());av.range;const sv=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Za-e.getMinutes()*Fn)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getHours());sv.range;const iv=pr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qa)},(e,t)=>(t-e)/Qa,e=>e.getUTCHours());iv.range;const ld=pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/gs,e=>e.getDate()-1);ld.range;const Bf=pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>e.getUTCDate()-1);Bf.range;const iA=pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gs,e=>Math.floor(e/gs));iA.range;function ro(e){return pr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/rv)}const Uf=ro(0),Gm=ro(1),o8=ro(2),l8=ro(3),rl=ro(4),c8=ro(5),d8=ro(6);Uf.range;Gm.range;o8.range;l8.range;rl.range;c8.range;d8.range;function no(e){return pr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/rv)}const qf=no(0),Ym=no(1),u8=no(2),m8=no(3),nl=no(4),f8=no(5),p8=no(6);qf.range;Ym.range;u8.range;m8.range;nl.range;f8.range;p8.range;const ov=pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ov.range;const lv=pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lv.range;const xs=pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});xs.range;const ys=pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ys.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ys.range;function oA(e,t,n,a,s,o){const c=[[zi,1,Za],[zi,5,5*Za],[zi,15,15*Za],[zi,30,30*Za],[o,1,Fn],[o,5,5*Fn],[o,15,15*Fn],[o,30,30*Fn],[s,1,Qa],[s,3,3*Qa],[s,6,6*Qa],[s,12,12*Qa],[a,1,gs],[a,2,2*gs],[n,1,rv],[t,1,f2],[t,3,3*f2],[e,1,jx]];function d(p,f,h){const y=f<p;y&&([p,f]=[f,p]);const v=h&&typeof h.range=="function"?h:u(p,f,h),N=v?v.range(p,+f+1):[];return y?N.reverse():N}function u(p,f,h){const y=Math.abs(f-p)/h,v=q0(([,,b])=>b).right(c,y);if(v===c.length)return e.every(Dy(p/jx,f/jx,h));if(v===0)return Vm.every(Math.max(Dy(p,f,h),1));const[N,j]=c[y/c[v-1][2]<c[v][2]/y?v-1:v];return N.every(j)}return[d,u]}const[h8,g8]=oA(ys,lv,qf,iA,iv,av),[x8,y8]=oA(xs,ov,Uf,ld,sv,nv);function wx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function v8(e){var t=e.dateTime,n=e.date,a=e.time,s=e.periods,o=e.days,c=e.shortDays,d=e.months,u=e.shortMonths,p=xc(s),f=yc(s),h=xc(o),y=yc(o),v=xc(c),N=yc(c),j=xc(d),b=yc(d),_=xc(u),S=yc(u),P={a:le,A:H,b:ee,B:ce,c:null,d:v2,e:v2,f:U8,g:Z8,G:eF,H:R8,I:F8,j:B8,L:lA,m:q8,M:K8,p:B,q:$,Q:w2,s:N2,S:W8,u:H8,U:V8,V:G8,w:Y8,W:X8,x:null,X:null,y:J8,Y:Q8,Z:tF,"%":j2},C={a:G,A:ge,b:ue,B:se,c:null,d:b2,e:b2,f:sF,g:hF,G:xF,H:rF,I:nF,j:aF,L:dA,m:iF,M:oF,p:xe,q:Ne,Q:w2,s:N2,S:lF,u:cF,U:dF,V:uF,w:mF,W:fF,x:null,X:null,y:pF,Y:gF,Z:yF,"%":j2},A={a:z,A:Y,b:W,B:re,c:U,d:x2,e:x2,f:D8,g:g2,G:h2,H:y2,I:y2,j:O8,L:M8,m:E8,M:T8,p:D,q:A8,Q:$8,s:z8,S:I8,u:_8,U:k8,V:S8,w:N8,W:P8,x:R,X:Q,y:g2,Y:h2,Z:C8,"%":L8};P.x=O(n,P),P.X=O(a,P),P.c=O(t,P),C.x=O(n,C),C.X=O(a,C),C.c=O(t,C);function O(T,K){return function(oe){var te=[],ve=-1,Pe=0,Ze=T.length,he,pe,Je;for(oe instanceof Date||(oe=new Date(+oe));++ve<Ze;)T.charCodeAt(ve)===37&&(te.push(T.slice(Pe,ve)),(pe=p2[he=T.charAt(++ve)])!=null?he=T.charAt(++ve):pe=he==="e"?" ":"0",(Je=K[he])&&(he=Je(oe,pe)),te.push(he),Pe=ve+1);return te.push(T.slice(Pe,ve)),te.join("")}}function I(T,K){return function(oe){var te=gc(1900,void 0,1),ve=M(te,T,oe+="",0),Pe,Ze;if(ve!=oe.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(K&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Pe=Nx(gc(te.y,0,1)),Ze=Pe.getUTCDay(),Pe=Ze>4||Ze===0?Ym.ceil(Pe):Ym(Pe),Pe=Bf.offset(Pe,(te.V-1)*7),te.y=Pe.getUTCFullYear(),te.m=Pe.getUTCMonth(),te.d=Pe.getUTCDate()+(te.w+6)%7):(Pe=wx(gc(te.y,0,1)),Ze=Pe.getDay(),Pe=Ze>4||Ze===0?Gm.ceil(Pe):Gm(Pe),Pe=ld.offset(Pe,(te.V-1)*7),te.y=Pe.getFullYear(),te.m=Pe.getMonth(),te.d=Pe.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),Ze="Z"in te?Nx(gc(te.y,0,1)).getUTCDay():wx(gc(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(Ze+5)%7:te.w+te.U*7-(Ze+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Nx(te)):wx(te)}}function M(T,K,oe,te){for(var ve=0,Pe=K.length,Ze=oe.length,he,pe;ve<Pe;){if(te>=Ze)return-1;if(he=K.charCodeAt(ve++),he===37){if(he=K.charAt(ve++),pe=A[he in p2?K.charAt(ve++):he],!pe||(te=pe(T,oe,te))<0)return-1}else if(he!=oe.charCodeAt(te++))return-1}return te}function D(T,K,oe){var te=p.exec(K.slice(oe));return te?(T.p=f.get(te[0].toLowerCase()),oe+te[0].length):-1}function z(T,K,oe){var te=v.exec(K.slice(oe));return te?(T.w=N.get(te[0].toLowerCase()),oe+te[0].length):-1}function Y(T,K,oe){var te=h.exec(K.slice(oe));return te?(T.w=y.get(te[0].toLowerCase()),oe+te[0].length):-1}function W(T,K,oe){var te=_.exec(K.slice(oe));return te?(T.m=S.get(te[0].toLowerCase()),oe+te[0].length):-1}function re(T,K,oe){var te=j.exec(K.slice(oe));return te?(T.m=b.get(te[0].toLowerCase()),oe+te[0].length):-1}function U(T,K,oe){return M(T,t,K,oe)}function R(T,K,oe){return M(T,n,K,oe)}function Q(T,K,oe){return M(T,a,K,oe)}function le(T){return c[T.getDay()]}function H(T){return o[T.getDay()]}function ee(T){return u[T.getMonth()]}function ce(T){return d[T.getMonth()]}function B(T){return s[+(T.getHours()>=12)]}function $(T){return 1+~~(T.getMonth()/3)}function G(T){return c[T.getUTCDay()]}function ge(T){return o[T.getUTCDay()]}function ue(T){return u[T.getUTCMonth()]}function se(T){return d[T.getUTCMonth()]}function xe(T){return s[+(T.getUTCHours()>=12)]}function Ne(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var K=O(T+="",P);return K.toString=function(){return T},K},parse:function(T){var K=I(T+="",!1);return K.toString=function(){return T},K},utcFormat:function(T){var K=O(T+="",C);return K.toString=function(){return T},K},utcParse:function(T){var K=I(T+="",!0);return K.toString=function(){return T},K}}}var p2={"-":"",_:" ",0:"0"},Ar=/^\s*\d+/,b8=/^%/,j8=/[\\^$*+?|[\]().{}]/g;function xt(e,t,n){var a=e<0?"-":"",s=(a?-e:e)+"",o=s.length;return a+(o<n?new Array(n-o+1).join(t)+s:s)}function w8(e){return e.replace(j8,"\\$&")}function xc(e){return new RegExp("^(?:"+e.map(w8).join("|")+")","i")}function yc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function N8(e,t,n){var a=Ar.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function _8(e,t,n){var a=Ar.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function k8(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function S8(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function P8(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function h2(e,t,n){var a=Ar.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function g2(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function C8(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function A8(e,t,n){var a=Ar.exec(t.slice(n,n+1));return a?(e.q=a[0]*3-3,n+a[0].length):-1}function E8(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function x2(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function O8(e,t,n){var a=Ar.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function y2(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function T8(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function I8(e,t,n){var a=Ar.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function M8(e,t,n){var a=Ar.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function D8(e,t,n){var a=Ar.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function L8(e,t,n){var a=b8.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function $8(e,t,n){var a=Ar.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function z8(e,t,n){var a=Ar.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function v2(e,t){return xt(e.getDate(),t,2)}function R8(e,t){return xt(e.getHours(),t,2)}function F8(e,t){return xt(e.getHours()%12||12,t,2)}function B8(e,t){return xt(1+ld.count(xs(e),e),t,3)}function lA(e,t){return xt(e.getMilliseconds(),t,3)}function U8(e,t){return lA(e,t)+"000"}function q8(e,t){return xt(e.getMonth()+1,t,2)}function K8(e,t){return xt(e.getMinutes(),t,2)}function W8(e,t){return xt(e.getSeconds(),t,2)}function H8(e){var t=e.getDay();return t===0?7:t}function V8(e,t){return xt(Uf.count(xs(e)-1,e),t,2)}function cA(e){var t=e.getDay();return t>=4||t===0?rl(e):rl.ceil(e)}function G8(e,t){return e=cA(e),xt(rl.count(xs(e),e)+(xs(e).getDay()===4),t,2)}function Y8(e){return e.getDay()}function X8(e,t){return xt(Gm.count(xs(e)-1,e),t,2)}function J8(e,t){return xt(e.getFullYear()%100,t,2)}function Z8(e,t){return e=cA(e),xt(e.getFullYear()%100,t,2)}function Q8(e,t){return xt(e.getFullYear()%1e4,t,4)}function eF(e,t){var n=e.getDay();return e=n>=4||n===0?rl(e):rl.ceil(e),xt(e.getFullYear()%1e4,t,4)}function tF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xt(t/60|0,"0",2)+xt(t%60,"0",2)}function b2(e,t){return xt(e.getUTCDate(),t,2)}function rF(e,t){return xt(e.getUTCHours(),t,2)}function nF(e,t){return xt(e.getUTCHours()%12||12,t,2)}function aF(e,t){return xt(1+Bf.count(ys(e),e),t,3)}function dA(e,t){return xt(e.getUTCMilliseconds(),t,3)}function sF(e,t){return dA(e,t)+"000"}function iF(e,t){return xt(e.getUTCMonth()+1,t,2)}function oF(e,t){return xt(e.getUTCMinutes(),t,2)}function lF(e,t){return xt(e.getUTCSeconds(),t,2)}function cF(e){var t=e.getUTCDay();return t===0?7:t}function dF(e,t){return xt(qf.count(ys(e)-1,e),t,2)}function uA(e){var t=e.getUTCDay();return t>=4||t===0?nl(e):nl.ceil(e)}function uF(e,t){return e=uA(e),xt(nl.count(ys(e),e)+(ys(e).getUTCDay()===4),t,2)}function mF(e){return e.getUTCDay()}function fF(e,t){return xt(Ym.count(ys(e)-1,e),t,2)}function pF(e,t){return xt(e.getUTCFullYear()%100,t,2)}function hF(e,t){return e=uA(e),xt(e.getUTCFullYear()%100,t,2)}function gF(e,t){return xt(e.getUTCFullYear()%1e4,t,4)}function xF(e,t){var n=e.getUTCDay();return e=n>=4||n===0?nl(e):nl.ceil(e),xt(e.getUTCFullYear()%1e4,t,4)}function yF(){return"+0000"}function j2(){return"%"}function w2(e){return+e}function N2(e){return Math.floor(+e/1e3)}var To,mA,fA;vF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vF(e){return To=v8(e),mA=To.format,To.parse,fA=To.utcFormat,To.utcParse,To}function bF(e){return new Date(e)}function jF(e){return e instanceof Date?+e:+new Date(+e)}function cv(e,t,n,a,s,o,c,d,u,p){var f=Y0(),h=f.invert,y=f.domain,v=p(".%L"),N=p(":%S"),j=p("%I:%M"),b=p("%I %p"),_=p("%a %d"),S=p("%b %d"),P=p("%B"),C=p("%Y");function A(O){return(u(O)<O?v:d(O)<O?N:c(O)<O?j:o(O)<O?b:a(O)<O?s(O)<O?_:S:n(O)<O?P:C)(O)}return f.invert=function(O){return new Date(h(O))},f.domain=function(O){return arguments.length?y(Array.from(O,jF)):y().map(bF)},f.ticks=function(O){var I=y();return e(I[0],I[I.length-1],O??10)},f.tickFormat=function(O,I){return I==null?A:p(I)},f.nice=function(O){var I=y();return(!O||typeof O.range!="function")&&(O=t(I[0],I[I.length-1],O??10)),O?y(QC(I,O)):f},f.copy=function(){return od(f,cv(e,t,n,a,s,o,c,d,u,p))},f}function wF(){return Kn.apply(cv(x8,y8,xs,ov,Uf,ld,sv,nv,zi,mA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NF(){return Kn.apply(cv(h8,g8,ys,lv,qf,Bf,iv,av,zi,fA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Kf(){var e=0,t=1,n,a,s,o,c=tn,d=!1,u;function p(h){return h==null||isNaN(h=+h)?u:c(s===0?.5:(h=(o(h)-n)*s,d?Math.max(0,Math.min(1,h)):h))}p.domain=function(h){return arguments.length?([e,t]=h,n=o(e=+e),a=o(t=+t),s=n===a?0:1/(a-n),p):[e,t]},p.clamp=function(h){return arguments.length?(d=!!h,p):d},p.interpolator=function(h){return arguments.length?(c=h,p):c};function f(h){return function(y){var v,N;return arguments.length?([v,N]=y,c=h(v,N),p):[c(0),c(1)]}}return p.range=f(hl),p.rangeRound=f(G0),p.unknown=function(h){return arguments.length?(u=h,p):u},function(h){return o=h,n=h(e),a=h(t),s=n===a?0:1/(a-n),p}}function hi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function pA(){var e=pi(Kf()(tn));return e.copy=function(){return hi(e,pA())},ks.apply(e,arguments)}function hA(){var e=Z0(Kf()).domain([1,10]);return e.copy=function(){return hi(e,hA()).base(e.base())},ks.apply(e,arguments)}function gA(){var e=Q0(Kf());return e.copy=function(){return hi(e,gA()).constant(e.constant())},ks.apply(e,arguments)}function dv(){var e=ev(Kf());return e.copy=function(){return hi(e,dv()).exponent(e.exponent())},ks.apply(e,arguments)}function _F(){return dv.apply(null,arguments).exponent(.5)}function xA(){var e=[],t=tn;function n(a){if(a!=null&&!isNaN(a=+a))return t((sd(e,a,1)-1)/(e.length-1))}return n.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ii),n},n.interpolator=function(a){return arguments.length?(t=a,n):t},n.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},n.quantiles=function(a){return Array.from({length:a+1},(s,o)=>cR(e,o/a))},n.copy=function(){return xA(t).domain(e)},ks.apply(n,arguments)}function Wf(){var e=0,t=.5,n=1,a=1,s,o,c,d,u,p=tn,f,h=!1,y;function v(j){return isNaN(j=+j)?y:(j=.5+((j=+f(j))-o)*(a*j<a*o?d:u),p(h?Math.max(0,Math.min(1,j)):j))}v.domain=function(j){return arguments.length?([e,t,n]=j,s=f(e=+e),o=f(t=+t),c=f(n=+n),d=s===o?0:.5/(o-s),u=o===c?0:.5/(c-o),a=o<s?-1:1,v):[e,t,n]},v.clamp=function(j){return arguments.length?(h=!!j,v):h},v.interpolator=function(j){return arguments.length?(p=j,v):p};function N(j){return function(b){var _,S,P;return arguments.length?([_,S,P]=b,p=LR(j,[_,S,P]),v):[p(0),p(.5),p(1)]}}return v.range=N(hl),v.rangeRound=N(G0),v.unknown=function(j){return arguments.length?(y=j,v):y},function(j){return f=j,s=j(e),o=j(t),c=j(n),d=s===o?0:.5/(o-s),u=o===c?0:.5/(c-o),a=o<s?-1:1,v}}function yA(){var e=pi(Wf()(tn));return e.copy=function(){return hi(e,yA())},ks.apply(e,arguments)}function vA(){var e=Z0(Wf()).domain([.1,1,10]);return e.copy=function(){return hi(e,vA()).base(e.base())},ks.apply(e,arguments)}function bA(){var e=Q0(Wf());return e.copy=function(){return hi(e,bA()).constant(e.constant())},ks.apply(e,arguments)}function uv(){var e=ev(Wf());return e.copy=function(){return hi(e,uv()).exponent(e.exponent())},ks.apply(e,arguments)}function kF(){return uv.apply(null,arguments).exponent(.5)}const _c=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:W0,scaleDiverging:yA,scaleDivergingLog:vA,scaleDivergingPow:uv,scaleDivergingSqrt:kF,scaleDivergingSymlog:bA,scaleIdentity:ZC,scaleImplicit:Ly,scaleLinear:JC,scaleLog:eA,scaleOrdinal:K0,scalePoint:mR,scalePow:tv,scaleQuantile:nA,scaleQuantize:aA,scaleRadial:rA,scaleSequential:pA,scaleSequentialLog:hA,scaleSequentialPow:dv,scaleSequentialQuantile:xA,scaleSequentialSqrt:_F,scaleSequentialSymlog:gA,scaleSqrt:s8,scaleSymlog:tA,scaleThreshold:sA,scaleTime:wF,scaleUtc:NF,tickFormat:XC},Symbol.toStringTag,{value:"Module"}));var Ss=e=>e.chartData,Hf=ae([Ss],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),mv=(e,t,n,a)=>a?Hf(e):Ss(e),jA=(e,t,n)=>n?Hf(e):Ss(e);function li(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ct(t)&&Ct(n))return!0}return!1}function _2(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function wA(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,a]=e,s,o;if(Ct(n))s=n;else if(typeof n=="function")return;if(Ct(a))o=a;else if(typeof a=="function")return;var c=[s,o];if(li(c))return c}}function SF(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,n);if(li(a))return _2(a,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Le(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&DN.test(s)){var u=DN.exec(s);if(u==null||u[1]==null||t==null)c=void 0;else{var p=+u[1];c=t[0]-p}}else c=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Le(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&LN.test(o)){var f=LN.exec(o);if(f==null||f[1]==null||t==null)d=void 0;else{var h=+f[1];d=t[1]+h}}else d=t?.[1];var y=[c,d];if(li(y))return t==null?y:_2(y,t,n)}}}var gl=1e9,PF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pv,Rt=!0,qn="[DecimalError] ",Ui=qn+"Invalid argument: ",fv=qn+"Exponent out of range: ",xl=Math.floor,Di=Math.pow,CF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,wr=1e7,Mt=7,NA=9007199254740991,Xm=xl(NA/Mt),Fe={};Fe.absoluteValue=Fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Fe.comparedTo=Fe.cmp=function(e){var t,n,a,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,s=e.d.length,t=0,n=a<s?a:s;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return a===s?0:a>s^o.s<0?1:-1};Fe.decimalPlaces=Fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Mt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Fe.dividedBy=Fe.div=function(e){return as(this,new this.constructor(e))};Fe.dividedToIntegerBy=Fe.idiv=function(e){var t=this,n=t.constructor;return Pt(as(t,new n(e),0,1),n.precision)};Fe.equals=Fe.eq=function(e){return!this.cmp(e)};Fe.exponent=function(){return ir(this)};Fe.greaterThan=Fe.gt=function(e){return this.cmp(e)>0};Fe.greaterThanOrEqualTo=Fe.gte=function(e){return this.cmp(e)>=0};Fe.isInteger=Fe.isint=function(){return this.e>this.d.length-2};Fe.isNegative=Fe.isneg=function(){return this.s<0};Fe.isPositive=Fe.ispos=function(){return this.s>0};Fe.isZero=function(){return this.s===0};Fe.lessThan=Fe.lt=function(e){return this.cmp(e)<0};Fe.lessThanOrEqualTo=Fe.lte=function(e){return this.cmp(e)<1};Fe.logarithm=Fe.log=function(e){var t,n=this,a=n.constructor,s=a.precision,o=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(wn))throw Error(qn+"NaN");if(n.s<1)throw Error(qn+(n.s?"NaN":"-Infinity"));return n.eq(wn)?new a(0):(Rt=!1,t=as(qc(n,o),qc(e,o),o),Rt=!0,Pt(t,s))};Fe.minus=Fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?SA(t,e):_A(t,(e.s=-e.s,e))};Fe.modulo=Fe.mod=function(e){var t,n=this,a=n.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(qn+"NaN");return n.s?(Rt=!1,t=as(n,e,0,1).times(e),Rt=!0,n.minus(t)):Pt(new a(n),s)};Fe.naturalExponential=Fe.exp=function(){return kA(this)};Fe.naturalLogarithm=Fe.ln=function(){return qc(this)};Fe.negated=Fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Fe.plus=Fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_A(t,e):SA(t,(e.s=-e.s,e))};Fe.precision=Fe.sd=function(e){var t,n,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ui+e);if(t=ir(s)+1,a=s.d.length-1,n=a*Mt+1,a=s.d[a],a){for(;a%10==0;a/=10)n--;for(a=s.d[0];a>=10;a/=10)n++}return e&&t>n?t:n};Fe.squareRoot=Fe.sqrt=function(){var e,t,n,a,s,o,c,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(qn+"NaN")}for(e=ir(d),Rt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ja(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=xl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(s.toString()),n=u.precision,s=c=n+3;;)if(o=a,a=o.plus(as(d,o,c+2)).times(.5),ja(o.d).slice(0,c)===(t=ja(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Pt(o,n+1,0),o.times(o).eq(d)){a=o;break}}else if(t!="9999")break;c+=4}return Rt=!0,Pt(a,n)};Fe.times=Fe.mul=function(e){var t,n,a,s,o,c,d,u,p,f=this,h=f.constructor,y=f.d,v=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,u=y.length,p=v.length,u<p&&(o=y,y=v,v=o,c=u,u=p,p=c),o=[],c=u+p,a=c;a--;)o.push(0);for(a=p;--a>=0;){for(t=0,s=u+a;s>a;)d=o[s]+v[a]*y[s-a-1]+t,o[s--]=d%wr|0,t=d/wr|0;o[s]=(o[s]+t)%wr|0}for(;!o[--c];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,Rt?Pt(e,h.precision):e};Fe.toDecimalPlaces=Fe.todp=function(e,t){var n=this,a=n.constructor;return n=new a(n),e===void 0?n:(Aa(e,0,gl),t===void 0?t=a.rounding:Aa(t,0,8),Pt(n,e+ir(n)+1,t))};Fe.toExponential=function(e,t){var n,a=this,s=a.constructor;return e===void 0?n=Ji(a,!0):(Aa(e,0,gl),t===void 0?t=s.rounding:Aa(t,0,8),a=Pt(new s(a),e+1,t),n=Ji(a,!0,e+1)),n};Fe.toFixed=function(e,t){var n,a,s=this,o=s.constructor;return e===void 0?Ji(s):(Aa(e,0,gl),t===void 0?t=o.rounding:Aa(t,0,8),a=Pt(new o(s),e+ir(s)+1,t),n=Ji(a.abs(),!1,e+ir(a)+1),s.isneg()&&!s.isZero()?"-"+n:n)};Fe.toInteger=Fe.toint=function(){var e=this,t=e.constructor;return Pt(new t(e),ir(e)+1,t.rounding)};Fe.toNumber=function(){return+this};Fe.toPower=Fe.pow=function(e){var t,n,a,s,o,c,d=this,u=d.constructor,p=12,f=+(e=new u(e));if(!e.s)return new u(wn);if(d=new u(d),!d.s){if(e.s<1)throw Error(qn+"Infinity");return d}if(d.eq(wn))return d;if(a=u.precision,e.eq(wn))return Pt(d,a);if(t=e.e,n=e.d.length-1,c=t>=n,o=d.s,c){if((n=f<0?-f:f)<=NA){for(s=new u(wn),t=Math.ceil(a/Mt+4),Rt=!1;n%2&&(s=s.times(d),S2(s.d,t)),n=xl(n/2),n!==0;)d=d.times(d),S2(d.d,t);return Rt=!0,e.s<0?new u(wn).div(s):Pt(s,a)}}else if(o<0)throw Error(qn+"NaN");return o=o<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,Rt=!1,s=e.times(qc(d,a+p)),Rt=!0,s=kA(s),s.s=o,s};Fe.toPrecision=function(e,t){var n,a,s=this,o=s.constructor;return e===void 0?(n=ir(s),a=Ji(s,n<=o.toExpNeg||n>=o.toExpPos)):(Aa(e,1,gl),t===void 0?t=o.rounding:Aa(t,0,8),s=Pt(new o(s),e,t),n=ir(s),a=Ji(s,e<=n||n<=o.toExpNeg,e)),a};Fe.toSignificantDigits=Fe.tosd=function(e,t){var n=this,a=n.constructor;return e===void 0?(e=a.precision,t=a.rounding):(Aa(e,1,gl),t===void 0?t=a.rounding:Aa(t,0,8)),Pt(new a(n),e,t)};Fe.toString=Fe.valueOf=Fe.val=Fe.toJSON=Fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ir(e),n=e.constructor;return Ji(e,t<=n.toExpNeg||t>=n.toExpPos)};function _A(e,t){var n,a,s,o,c,d,u,p,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Rt?Pt(t,h):t;if(u=e.d,p=t.d,c=e.e,s=t.e,u=u.slice(),o=c-s,o){for(o<0?(a=u,o=-o,d=p.length):(a=p,s=c,d=u.length),c=Math.ceil(h/Mt),d=c>d?c+1:d+1,o>d&&(o=d,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(d=u.length,o=p.length,d-o<0&&(o=d,a=p,p=u,u=a),n=0;o;)n=(u[--o]=u[o]+p[o]+n)/wr|0,u[o]%=wr;for(n&&(u.unshift(n),++s),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=s,Rt?Pt(t,h):t}function Aa(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Ui+e)}function ja(e){var t,n,a,s=e.length-1,o="",c=e[0];if(s>0){for(o+=c,t=1;t<s;t++)a=e[t]+"",n=Mt-a.length,n&&(o+=ti(n)),o+=a;c=e[t],a=c+"",n=Mt-a.length,n&&(o+=ti(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var as=(function(){function e(a,s){var o,c=0,d=a.length;for(a=a.slice();d--;)o=a[d]*s+c,a[d]=o%wr|0,c=o/wr|0;return c&&a.unshift(c),a}function t(a,s,o,c){var d,u;if(o!=c)u=o>c?1:-1;else for(d=u=0;d<o;d++)if(a[d]!=s[d]){u=a[d]>s[d]?1:-1;break}return u}function n(a,s,o){for(var c=0;o--;)a[o]-=c,c=a[o]<s[o]?1:0,a[o]=c*wr+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,c){var d,u,p,f,h,y,v,N,j,b,_,S,P,C,A,O,I,M,D=a.constructor,z=a.s==s.s?1:-1,Y=a.d,W=s.d;if(!a.s)return new D(a);if(!s.s)throw Error(qn+"Division by zero");for(u=a.e-s.e,I=W.length,A=Y.length,v=new D(z),N=v.d=[],p=0;W[p]==(Y[p]||0);)++p;if(W[p]>(Y[p]||0)&&--u,o==null?S=o=D.precision:c?S=o+(ir(a)-ir(s))+1:S=o,S<0)return new D(0);if(S=S/Mt+2|0,p=0,I==1)for(f=0,W=W[0],S++;(p<A||f)&&S--;p++)P=f*wr+(Y[p]||0),N[p]=P/W|0,f=P%W|0;else{for(f=wr/(W[0]+1)|0,f>1&&(W=e(W,f),Y=e(Y,f),I=W.length,A=Y.length),C=I,j=Y.slice(0,I),b=j.length;b<I;)j[b++]=0;M=W.slice(),M.unshift(0),O=W[0],W[1]>=wr/2&&++O;do f=0,d=t(W,j,I,b),d<0?(_=j[0],I!=b&&(_=_*wr+(j[1]||0)),f=_/O|0,f>1?(f>=wr&&(f=wr-1),h=e(W,f),y=h.length,b=j.length,d=t(h,j,y,b),d==1&&(f--,n(h,I<y?M:W,y))):(f==0&&(d=f=1),h=W.slice()),y=h.length,y<b&&h.unshift(0),n(j,h,b),d==-1&&(b=j.length,d=t(W,j,I,b),d<1&&(f++,n(j,I<b?M:W,b))),b=j.length):d===0&&(f++,j=[0]),N[p++]=f,d&&j[0]?j[b++]=Y[C]||0:(j=[Y[C]],b=1);while((C++<A||j[0]!==void 0)&&S--)}return N[0]||N.shift(),v.e=u,Pt(v,c?o+ir(v)+1:o)}})();function kA(e,t){var n,a,s,o,c,d,u=0,p=0,f=e.constructor,h=f.precision;if(ir(e)>16)throw Error(fv+ir(e));if(!e.s)return new f(wn);for(Rt=!1,d=h,c=new f(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(a=Math.log(Di(2,p))/Math.LN10*2+5|0,d+=a,n=s=o=new f(wn),f.precision=d;;){if(s=Pt(s.times(e),d),n=n.times(++u),c=o.plus(as(s,n,d)),ja(c.d).slice(0,d)===ja(o.d).slice(0,d)){for(;p--;)o=Pt(o.times(o),d);return f.precision=h,t==null?(Rt=!0,Pt(o,h)):o}o=c}}function ir(e){for(var t=e.e*Mt,n=e.d[0];n>=10;n/=10)t++;return t}function _x(e,t,n){if(t>e.LN10.sd())throw Rt=!0,n&&(e.precision=n),Error(qn+"LN10 precision limit exceeded");return Pt(new e(e.LN10),t)}function ti(e){for(var t="";e--;)t+="0";return t}function qc(e,t){var n,a,s,o,c,d,u,p,f,h=1,y=10,v=e,N=v.d,j=v.constructor,b=j.precision;if(v.s<1)throw Error(qn+(v.s?"NaN":"-Infinity"));if(v.eq(wn))return new j(0);if(t==null?(Rt=!1,p=b):p=t,v.eq(10))return t==null&&(Rt=!0),_x(j,p);if(p+=y,j.precision=p,n=ja(N),a=n.charAt(0),o=ir(v),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&n.charAt(1)>3;)v=v.times(e),n=ja(v.d),a=n.charAt(0),h++;o=ir(v),a>1?(v=new j("0."+n),o++):v=new j(a+"."+n.slice(1))}else return u=_x(j,p+2,b).times(o+""),v=qc(new j(a+"."+n.slice(1)),p-y).plus(u),j.precision=b,t==null?(Rt=!0,Pt(v,b)):v;for(d=c=v=as(v.minus(wn),v.plus(wn),p),f=Pt(v.times(v),p),s=3;;){if(c=Pt(c.times(f),p),u=d.plus(as(c,new j(s),p)),ja(u.d).slice(0,p)===ja(d.d).slice(0,p))return d=d.times(2),o!==0&&(d=d.plus(_x(j,p+2,b).times(o+""))),d=as(d,new j(h),p),j.precision=b,t==null?(Rt=!0,Pt(d,b)):d;d=u,s+=2}}function k2(e,t){var n,a,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(n<0&&(n=a),n+=+t.slice(a+1),t=t.substring(0,a)):n<0&&(n=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,n=n-a-1,e.e=xl(n/Mt),e.d=[],a=(n+1)%Mt,n<0&&(a+=Mt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Mt;a<s;)e.d.push(+t.slice(a,a+=Mt));t=t.slice(a),a=Mt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Rt&&(e.e>Xm||e.e<-Xm))throw Error(fv+n)}else e.s=0,e.e=0,e.d=[0];return e}function Pt(e,t,n){var a,s,o,c,d,u,p,f,h=e.d;for(c=1,o=h[0];o>=10;o/=10)c++;if(a=t-c,a<0)a+=Mt,s=t,p=h[f=0];else{if(f=Math.ceil((a+1)/Mt),o=h.length,f>=o)return e;for(p=o=h[f],c=1;o>=10;o/=10)c++;a%=Mt,s=a-Mt+c}if(n!==void 0&&(o=Di(10,c-s-1),d=p/o%10|0,u=t<0||h[f+1]!==void 0||p%o,u=n<4?(d||u)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||u||n==6&&(a>0?s>0?p/Di(10,c-s):0:h[f-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return u?(o=ir(e),h.length=1,t=t-o-1,h[0]=Di(10,(Mt-t%Mt)%Mt),e.e=xl(-t/Mt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,o=1,f--):(h.length=f+1,o=Di(10,Mt-a),h[f]=s>0?(p/Di(10,c-s)%Di(10,s)|0)*o:0),u)for(;;)if(f==0){(h[0]+=o)==wr&&(h[0]=1,++e.e);break}else{if(h[f]+=o,h[f]!=wr)break;h[f--]=0,o=1}for(a=h.length;h[--a]===0;)h.pop();if(Rt&&(e.e>Xm||e.e<-Xm))throw Error(fv+ir(e));return e}function SA(e,t){var n,a,s,o,c,d,u,p,f,h,y=e.constructor,v=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),Rt?Pt(t,v):t;if(u=e.d,h=t.d,a=t.e,p=e.e,u=u.slice(),c=p-a,c){for(f=c<0,f?(n=u,c=-c,d=h.length):(n=h,a=p,d=u.length),s=Math.max(Math.ceil(v/Mt),d)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=u.length,d=h.length,f=s<d,f&&(d=s),s=0;s<d;s++)if(u[s]!=h[s]){f=u[s]<h[s];break}c=0}for(f&&(n=u,u=h,h=n,t.s=-t.s),d=u.length,s=h.length-d;s>0;--s)u[d++]=0;for(s=h.length;s>c;){if(u[--s]<h[s]){for(o=s;o&&u[--o]===0;)u[o]=wr-1;--u[o],u[s]+=wr}u[s]-=h[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,Rt?Pt(t,v):t):new y(0)}function Ji(e,t,n){var a,s=ir(e),o=ja(e.d),c=o.length;return t?(n&&(a=n-c)>0?o=o.charAt(0)+"."+o.slice(1)+ti(a):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ti(-s-1)+o,n&&(a=n-c)>0&&(o+=ti(a))):s>=c?(o+=ti(s+1-c),n&&(a=n-s-1)>0&&(o=o+"."+ti(a))):((a=s+1)<c&&(o=o.slice(0,a)+"."+o.slice(a)),n&&(a=n-c)>0&&(s+1===c&&(o+="."),o+=ti(a))),e.s<0?"-"+o:o}function S2(e,t){if(e.length>t)return e.length=t,!0}function PA(e){var t,n,a;function s(o){var c=this;if(!(c instanceof s))return new s(o);if(c.constructor=s,o instanceof s){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ui+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return k2(c,o.toString())}else if(typeof o!="string")throw Error(Ui+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,CF.test(o))k2(c,o);else throw Error(Ui+o)}if(s.prototype=Fe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=PA,s.config=s.set=AF,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(n=a[t++])||(e[n]=this[n]);return s.config(e),s}function AF(e){if(!e||typeof e!="object")throw Error(qn+"Object expected");var t,n,a,s=["precision",1,gl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[n=s[t]])!==void 0)if(xl(a)===a&&a>=s[t+1]&&a<=s[t+2])this[n]=a;else throw Error(Ui+n+": "+a);if((a=e[n="LN10"])!==void 0)if(a==Math.LN10)this[n]=new this(a);else throw Error(Ui+n+": "+a);return this}var pv=PA(PF);wn=new pv(1);const Nt=pv;var EF=e=>e,CA={},AA=e=>e===CA,P2=e=>function t(){return arguments.length===0||arguments.length===1&&AA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},EA=(e,t)=>e===1?t:P2(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(c=>c!==CA).length;return o>=e?t(...a):EA(e-o,P2(function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];var p=a.map(f=>AA(f)?d.shift():f);return t(...p,...d)}))}),OF=e=>EA(e.length,e),Fy=(e,t)=>{for(var n=[],a=e;a<t;++a)n[a-e]=a;return n},TF=OF((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),IF=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];if(!n.length)return EF;var s=n.reverse(),o=s[0],c=s.slice(1);return function(){return c.reduce((d,u)=>u(d),o(...arguments))}};function OA(e){var t;return e===0?t=1:t=Math.floor(new Nt(e).abs().log(10).toNumber())+1,t}function TA(e,t,n){for(var a=new Nt(e),s=0,o=[];a.lt(t)&&s<1e5;)o.push(a.toNumber()),a=a.add(n),s++;return o}var IA=e=>{var[t,n]=e,[a,s]=[t,n];return t>n&&([a,s]=[n,t]),[a,s]},MA=(e,t,n)=>{if(e.lte(0))return new Nt(0);var a=OA(e.toNumber()),s=new Nt(10).pow(a),o=e.div(s),c=a!==1?.05:.1,d=new Nt(Math.ceil(o.div(c).toNumber())).add(n).mul(c),u=d.mul(s);return t?new Nt(u.toNumber()):new Nt(Math.ceil(u.toNumber()))},MF=(e,t,n)=>{var a=new Nt(1),s=new Nt(e);if(!s.isint()&&n){var o=Math.abs(e);o<1?(a=new Nt(10).pow(OA(e)-1),s=new Nt(Math.floor(s.div(a).toNumber())).mul(a)):o>1&&(s=new Nt(Math.floor(e)))}else e===0?s=new Nt(Math.floor((t-1)/2)):n||(s=new Nt(Math.floor(e)));var c=Math.floor((t-1)/2),d=IF(TF(u=>s.add(new Nt(u-c).mul(a)).toNumber()),Fy);return d(0,t)},DA=function(t,n,a,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(a-1)))return{step:new Nt(0),tickMin:new Nt(0),tickMax:new Nt(0)};var c=MA(new Nt(n).sub(t).div(a-1),s,o),d;t<=0&&n>=0?d=new Nt(0):(d=new Nt(t).add(n).div(2),d=d.sub(new Nt(d).mod(c)));var u=Math.ceil(d.sub(t).div(c).toNumber()),p=Math.ceil(new Nt(n).sub(d).div(c).toNumber()),f=u+p+1;return f>a?DA(t,n,a,s,o+1):(f<a&&(p=n>0?p+(a-f):p,u=n>0?u:u+(a-f)),{step:c,tickMin:d.sub(new Nt(u).mul(c)),tickMax:d.add(new Nt(p).mul(c))})},DF=function(t){var[n,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,u]=IA([n,a]);if(d===-1/0||u===1/0){var p=u===1/0?[d,...Fy(0,s-1).map(()=>1/0)]:[...Fy(0,s-1).map(()=>-1/0),u];return n>a?p.reverse():p}if(d===u)return MF(d,s,o);var{step:f,tickMin:h,tickMax:y}=DA(d,u,c,o,0),v=TA(h,y.add(new Nt(.1).mul(f)),f);return n>a?v.reverse():v},LF=function(t,n){var[a,s]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=IA([a,s]);if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var u=Math.max(n,2),p=MA(new Nt(d).sub(c).div(u-1),o,0),f=[...TA(new Nt(c),new Nt(d),p),d];return o===!1&&(f=f.map(h=>Math.round(h))),a>s?f.reverse():f},LA=e=>e.rootProps.maxBarSize,$F=e=>e.rootProps.barGap,$A=e=>e.rootProps.barCategoryGap,zF=e=>e.rootProps.barSize,cd=e=>e.rootProps.stackOffset,zA=e=>e.rootProps.reverseStackOrder,hv=e=>e.options.chartName,gv=e=>e.rootProps.syncId,RA=e=>e.rootProps.syncMethod,xv=e=>e.options.eventEmitter,RF=e=>e.rootProps.baseValue,tr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ya={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Vf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},FF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ya.angleAxisId,includeHidden:!1,name:void 0,reversed:Ya.reversed,scale:Ya.scale,tick:Ya.tick,tickCount:void 0,ticks:void 0,type:Ya.type,unit:void 0},BF={allowDataOverflow:jn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,ticks:void 0,type:jn.type,unit:void 0},UF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ya.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ya.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ya.scale,tick:Ya.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},qF={allowDataOverflow:jn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,ticks:void 0,type:"category",unit:void 0},yv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?UF:FF,vv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?qF:BF,Gf=e=>e.polarOptions,bv=ae([Ns,_s,fr],$C),FA=ae([Gf,bv],(e,t)=>{if(e!=null)return Vr(e.innerRadius,t,0)}),BA=ae([Gf,bv],(e,t)=>{if(e!=null)return Vr(e.outerRadius,t,t*.8)}),KF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},UA=ae([Gf],KF);ae([yv,UA],Vf);var qA=ae([bv,FA,BA],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ae([vv,qA],Vf);var KA=ae([ut,Gf,FA,BA,Ns,_s],(e,t,n,a,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||a==null)){var{cx:c,cy:d,startAngle:u,endAngle:p}=t;return{cx:Vr(c,s,s/2),cy:Vr(d,o,o/2),innerRadius:n,outerRadius:a,startAngle:u,endAngle:p,clockWise:!1}}}),Bt=(e,t)=>t,dd=(e,t,n)=>n;function Yf(e){return e?.id}function WA(e,t,n){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=n,c=new Map;return e.forEach(d=>{var u,p=(u=d.data)!==null&&u!==void 0?u:a;if(!(p==null||p.length===0)){var f=Yf(d);p.forEach((h,y)=>{var v=o==null||s?y:String(jt(h,o,null)),N=jt(h,d.dataKey,0),j;c.has(v)?j=c.get(v):j={},Object.assign(j,{[f]:N}),c.set(v,j)})}}),Array.from(c.values())}function Xf(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Jf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Zf(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function WF(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var hr=e=>{var t=ut(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yl=e=>e.tooltip.settings.axisId;function C2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(n),!0).forEach(function(a){HF(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function HF(e,t,n){return(t=VF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VF(e){var t=GF(e,"string");return typeof t=="symbol"?t:t+""}function GF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var By=[0,"auto"],br={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},HA=(e,t)=>e.cartesianAxis.xAxis[t],Ps=(e,t)=>{var n=HA(e,t);return n??br},jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:By,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:rd},VA=(e,t)=>e.cartesianAxis.yAxis[t],Cs=(e,t)=>{var n=VA(e,t);return n??jr},YF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},jv=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??YF},Kt=(e,t,n)=>{switch(t){case"xAxis":return Ps(e,n);case"yAxis":return Cs(e,n);case"zAxis":return jv(e,n);case"angleAxis":return yv(e,n);case"radiusAxis":return vv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},XF=(e,t,n)=>{switch(t){case"xAxis":return Ps(e,n);case"yAxis":return Cs(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ud=(e,t,n)=>{switch(t){case"xAxis":return Ps(e,n);case"yAxis":return Cs(e,n);case"angleAxis":return yv(e,n);case"radiusAxis":return vv(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},GA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function wv(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var md=e=>e.graphicalItems.cartesianItems,JF=ae([Bt,dd],wv),Nv=(e,t,n)=>e.filter(n).filter(a=>t?.includeHidden===!0?!0:!a.hide),fd=ae([md,Kt,JF],Nv,{memoizeOptions:{resultEqualityCheck:Zf}}),YA=ae([fd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Xf)),XA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),ZF=ae([fd],XA),_v=e=>e.map(t=>t.data).filter(Boolean).flat(1),QF=ae([fd],_v,{memoizeOptions:{resultEqualityCheck:Zf}}),kv=(e,t)=>{var{chartData:n=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:n.slice(a,s+1)},Sv=ae([QF,mv],kv),Pv=(e,t,n)=>t?.dataKey!=null?e.map(a=>({value:jt(a,t.dataKey)})):n.length>0?n.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:jt(s,a)}))):e.map(a=>({value:a})),Qf=ae([Sv,Kt,fd],Pv);function JA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function lm(e){if(Pa(e)||e instanceof Date){var t=Number(e);if(Ct(t))return t}}function A2(e){if(Array.isArray(e)){var t=[lm(e[0]),lm(e[1])];return li(t)?t:void 0}var n=lm(e);if(n!=null)return[n,n]}function vs(e){return e.map(lm).filter(H6)}function eB(e,t,n){return!n||typeof t!="number"||Bn(t)?[]:n.length?vs(n.flatMap(a=>{var s=jt(e,a.dataKey),o,c;if(Array.isArray(s)?[o,c]=s:o=c=s,!(!Ct(o)||!Ct(c)))return[t-o,t+c]})):[]}var gr=e=>{var t=hr(e),n=yl(e);return ud(e,t,n)},pd=ae([gr],e=>e?.dataKey),tB=ae([YA,mv,gr],WA),ZA=(e,t,n,a)=>{var s={},o=t.reduce((c,d)=>{if(d.stackId==null)return c;var u=c[d.stackId];return u==null&&(u=[]),u.push(d),c[d.stackId]=u,c},s);return Object.fromEntries(Object.entries(o).map(c=>{var[d,u]=c,p=a?[...u].reverse():u,f=p.map(Yf);return[d,{stackedData:vL(e,f,n),graphicalItems:p}]}))},Zm=ae([tB,YA,cd,zA],ZA),QA=(e,t,n,a)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(a==null&&n!=="zAxis"){var c=NL(e,s,o);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},rB=ae([Kt],e=>e.allowDataOverflow),Cv=e=>{var t;if(e==null||!("domain"in e))return By;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=vs(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:By},Av=ae([Kt],Cv),Ev=ae([Av,rB],wA),nB=ae([Zm,Ss,Bt,Ev],QA,{memoizeOptions:{resultEqualityCheck:Jf}}),ep=e=>e.errorBars,aB=(e,t,n)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>JA(n,a)),Qm=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n.filter(Boolean);if(s.length!==0){var o=s.flat(),c=Math.min(...o),d=Math.max(...o);return[c,d]}},Ov=(e,t,n,a,s)=>{var o,c;if(n.length>0&&e.forEach(d=>{n.forEach(u=>{var p,f,h=(p=a[u.id])===null||p===void 0?void 0:p.filter(_=>JA(s,_)),y=jt(d,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),v=eB(d,y,h);if(v.length>=2){var N=Math.min(...v),j=Math.max(...v);(o==null||N<o)&&(o=N),(c==null||j>c)&&(c=j)}var b=A2(y);b!=null&&(o=o==null?b[0]:Math.min(o,b[0]),c=c==null?b[1]:Math.max(c,b[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var u=A2(jt(d,t.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),c=c==null?u[1]:Math.max(c,u[1]))}),Ct(o)&&Ct(c))return[o,c]},sB=ae([Sv,Kt,ZF,ep,Bt],Ov,{memoizeOptions:{resultEqualityCheck:Jf}});function iB(e){var{value:t}=e;if(Pa(t)||t instanceof Date)return t}var oB=(e,t,n)=>{var a=e.map(iB).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&hP(a))?BC(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},e4=e=>e.referenceElements.dots,vl=(e,t,n)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===n:a.yAxisId===n),lB=ae([e4,Bt,dd],vl),t4=e=>e.referenceElements.areas,cB=ae([t4,Bt,dd],vl),r4=e=>e.referenceElements.lines,dB=ae([r4,Bt,dd],vl),n4=(e,t)=>{if(e!=null){var n=vs(e.map(a=>t==="xAxis"?a.x:a.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},uB=ae(lB,Bt,n4),a4=(e,t)=>{if(e!=null){var n=vs(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},mB=ae([cB,Bt],a4);function fB(e){var t;if(e.x!=null)return vs([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return n==null||n.length===0?[]:vs(n)}function pB(e){var t;if(e.y!=null)return vs([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return n==null||n.length===0?[]:vs(n)}var s4=(e,t)=>{if(e!=null){var n=e.flatMap(a=>t==="xAxis"?fB(a):pB(a));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},hB=ae([dB,Bt],s4),gB=ae(uB,hB,mB,(e,t,n)=>Qm(e,n,t)),Tv=(e,t,n,a,s,o,c,d)=>{if(n!=null)return n;var u=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",p=u?Qm(a,o,s):Qm(o,s);return SF(t,p,e.allowDataOverflow)},xB=ae([Kt,Av,Ev,nB,sB,gB,ut,Bt],Tv,{memoizeOptions:{resultEqualityCheck:Jf}}),yB=[0,1],Iv=(e,t,n,a,s,o,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:u}=e,p=Ma(t,o);if(p&&d==null){var f;return BC(0,(f=n?.length)!==null&&f!==void 0?f:0)}return u==="category"?oB(a,e,p):s==="expand"?yB:c}},Mv=ae([Kt,ut,Sv,Qf,cd,Bt,xB],Iv),i4=(e,t,n,a,s)=>{if(e!=null){var{scale:o,type:c}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(Jc(o));return d in _c?d:"point"}}},bl=ae([Kt,ut,GA,hv,Bt],i4);function vB(e){if(e!=null){if(e in _c)return _c[e]();var t="scale".concat(Jc(e));if(t in _c)return _c[t]()}}function Dv(e,t,n,a){if(!(n==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(a);var s=vB(t);if(s!=null){var o=s.domain(n).range(a);return pL(o),o}}}var Lv=(e,t,n)=>{var a=Cv(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&li(e))return DF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&li(e))return LF(e,t.tickCount,t.allowDecimals)}},$v=ae([Mv,ud,bl],Lv),zv=(e,t,n,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&li(t)&&Array.isArray(n)&&n.length>0){var s=t[0],o=n[0],c=t[1],d=n[n.length-1];return[Math.min(s,o),Math.max(c,d)]}return t},bB=ae([Kt,Mv,$v,Bt],zv),jB=ae(Qf,Kt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,a=Array.from(vs(e.map(h=>h.value))).sort((h,y)=>h-y),s=a[0],o=a[a.length-1];if(s==null||o==null)return 1/0;var c=o-s;if(c===0)return 1/0;for(var d=0;d<a.length-1;d++){var u=a[d],p=a[d+1];if(!(u==null||p==null)){var f=p-u;n=Math.min(n,f)}}return n/c}}),o4=ae(jB,ut,$A,fr,(e,t,n,a,s)=>s,(e,t,n,a,s)=>{if(!Ct(e))return 0;var o=t==="vertical"?a.height:a.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var c=Vr(n,e*o),d=e*o/2;return d-c-(d-c)/o*c}return 0}),wB=(e,t,n)=>{var a=Ps(e,t);return a==null||typeof a.padding!="string"?0:o4(e,"xAxis",t,n,a.padding)},NB=(e,t,n)=>{var a=Cs(e,t);return a==null||typeof a.padding!="string"?0:o4(e,"yAxis",t,n,a.padding)},_B=ae(Ps,wB,(e,t)=>{var n,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),kB=ae(Cs,NB,(e,t)=>{var n,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),SB=ae([fr,_B,If,Tf,(e,t,n)=>n],(e,t,n,a,s)=>{var{padding:o}=a;return s?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),PB=ae([fr,ut,kB,If,Tf,(e,t,n)=>n],(e,t,n,a,s,o)=>{var{padding:c}=s;return o?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),hd=(e,t,n,a)=>{var s;switch(t){case"xAxis":return SB(e,n,a);case"yAxis":return PB(e,n,a);case"zAxis":return(s=jv(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return UA(e);case"radiusAxis":return qA(e,n);default:return}},l4=ae([Kt,hd],Vf),tp=ae([Kt,bl,bB,l4],Dv);ae([fd,ep,Bt],aB);function c4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var rp=(e,t)=>t,np=(e,t,n)=>n,CB=ae(Ef,rp,np,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(c4)),AB=ae(Of,rp,np,(e,t,n)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===n).sort(c4)),d4=(e,t)=>({width:e.width,height:t.height}),EB=(e,t)=>{var n=typeof t.width=="number"?t.width:rd;return{width:n,height:e.height}},u4=ae(fr,Ps,d4),OB=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},TB=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},IB=ae(_s,fr,CB,rp,np,(e,t,n,a,s)=>{var o={},c;return n.forEach(d=>{var u=d4(t,d);c==null&&(c=OB(t,a,e));var p=a==="top"&&!s||a==="bottom"&&s;o[d.id]=c-Number(p)*u.height,c+=(p?-1:1)*u.height}),o}),MB=ae(Ns,fr,AB,rp,np,(e,t,n,a,s)=>{var o={},c;return n.forEach(d=>{var u=EB(t,d);c==null&&(c=TB(t,a,e));var p=a==="left"&&!s||a==="right"&&s;o[d.id]=c-Number(p)*u.width,c+=(p?-1:1)*u.width}),o}),DB=(e,t)=>{var n=Ps(e,t);if(n!=null)return IB(e,n.orientation,n.mirror)},LB=ae([fr,Ps,DB,(e,t)=>t],(e,t,n,a)=>{if(t!=null){var s=n?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),$B=(e,t)=>{var n=Cs(e,t);if(n!=null)return MB(e,n.orientation,n.mirror)},zB=ae([fr,Cs,$B,(e,t)=>t],(e,t,n,a)=>{if(t!=null){var s=n?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),m4=ae(fr,Cs,(e,t)=>{var n=typeof t.width=="number"?t.width:rd;return{width:n,height:e.height}}),E2=(e,t,n)=>{switch(t){case"xAxis":return u4(e,n).width;case"yAxis":return m4(e,n).height;default:return}},f4=(e,t,n,a)=>{if(n!=null){var{allowDuplicatedCategory:s,type:o,dataKey:c}=n,d=Ma(e,a),u=t.map(p=>p.value);if(c&&d&&o==="category"&&s&&hP(u))return u}},Rv=ae([ut,Qf,Kt,Bt],f4),p4=(e,t,n,a)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:o}=n,c=Ma(e,a);if(c&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Fv=ae([ut,Qf,ud,Bt],p4),O2=ae([ut,XF,bl,tp,Rv,Fv,hd,$v,Bt],(e,t,n,a,s,o,c,d,u)=>{if(t!=null){var p=Ma(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:o,duplicateDomain:s,isCategorical:p,niceTicks:d,range:c,realScaleType:n,scale:a}}}),RB=(e,t,n,a,s,o,c,d,u)=>{if(!(t==null||a==null)){var p=Ma(e,u),{type:f,ticks:h,tickCount:y}=t,v=n==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,N=f==="category"&&a.bandwidth?a.bandwidth()/v:0;N=u==="angleAxis"&&o!=null&&o.length>=2?_r(o[0]-o[1])*2*N:N;var j=h||s;if(j){var b=j.map((_,S)=>{var P=c?c.indexOf(_):_;return{index:S,coordinate:a(P)+N,value:_,offset:N}});return b.filter(_=>Ct(_.coordinate))}return p&&d?d.map((_,S)=>({coordinate:a(_)+N,value:_,index:S,offset:N})).filter(_=>Ct(_.coordinate)):a.ticks?a.ticks(y).map(_=>({coordinate:a(_)+N,value:_,offset:N})):a.domain().map((_,S)=>({coordinate:a(_)+N,value:c?c[_]:_,index:S,offset:N}))}},h4=ae([ut,ud,bl,tp,$v,hd,Rv,Fv,Bt],RB),FB=(e,t,n,a,s,o,c)=>{if(!(t==null||n==null||a==null||a[0]===a[1])){var d=Ma(e,c),{tickCount:u}=t,p=0;return p=c==="angleAxis"&&a?.length>=2?_r(a[0]-a[1])*2*p:p,d&&o?o.map((f,h)=>({coordinate:n(f)+p,value:f,index:h,offset:p})):n.ticks?n.ticks(u).map(f=>({coordinate:n(f)+p,value:f,offset:p})):n.domain().map((f,h)=>({coordinate:n(f)+p,value:s?s[f]:f,index:h,offset:p}))}},Ea=ae([ut,ud,tp,hd,Rv,Fv,Bt],FB),Oa=ae(Kt,tp,(e,t)=>{if(!(e==null||t==null))return Jm(Jm({},e),{},{scale:t})}),BB=ae([Kt,bl,Mv,l4],Dv);ae((e,t,n)=>jv(e,n),BB,(e,t)=>{if(!(e==null||t==null))return Jm(Jm({},e),{},{scale:t})});var UB=ae([ut,Ef,Of],(e,t,n)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),g4=e=>e.options.defaultTooltipEventType,x4=e=>e.options.validateTooltipEventTypes;function y4(e,t,n){if(e==null)return t;var a=e?"axis":"item";return n==null?t:n.includes(a)?a:t}function Bv(e,t){var n=g4(e),a=x4(e);return y4(t,n,a)}function qB(e){return Be(t=>Bv(t,e))}var v4=(e,t)=>{var n,a=Number(t);if(!(Bn(a)||t==null))return a>=0?e==null||(n=e[a])===null||n===void 0?void 0:n.value:void 0},KB=e=>e.tooltip.settings,ni={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},WB={itemInteraction:{click:ni,hover:ni},axisInteraction:{click:ni,hover:ni},keyboardInteraction:ni,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},b4=gn({name:"tooltip",initialState:WB,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:zt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:a}=t.payload,s=la(e).tooltipItemPayloads.indexOf(n);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:zt()},removeTooltipEntrySettings:{reducer(e,t){var n=la(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:zt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:HB,replaceTooltipEntrySettings:VB,removeTooltipEntrySettings:GB,setTooltipSettingsState:YB,setActiveMouseOverItemIndex:j4,mouseLeaveItem:XB,mouseLeaveChart:w4,setActiveClickItemIndex:JB,setMouseOverAxisIndex:N4,setMouseClickAxisIndex:ZB,setSyncInteraction:Uy,setKeyboardInteraction:qy}=b4.actions,QB=b4.reducer;function T2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T2(Object(n),!0).forEach(function(a){e7(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function e7(e,t,n){return(t=t7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=r7(e,"string");return typeof t=="symbol"?t:t+""}function r7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n7(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function a7(e){return e.index!=null}var _4=(e,t,n,a)=>{if(t==null)return ni;var s=n7(e,t,n);if(s==null)return ni;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(a7(s)){if(o)return qu(qu({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return qu(qu({},ni),{},{coordinate:s.coordinate})};function s7(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function i7(e,t){var n=s7(e),a=t[0],s=t[1];if(n===void 0)return!1;var o=Math.min(a,s),c=Math.max(a,s);return n>=o&&n<=c}function o7(e,t,n){if(n==null||t==null)return!0;var a=jt(e,t);return a==null||!li(n)?!0:i7(a,n)}var Uv=(e,t,n,a)=>{var s=e?.index;if(s==null)return null;var o=Number(s);if(!Ct(o))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var u=Math.max(c,Math.min(o,d)),p=t[u];return p==null||o7(p,n,a)?String(u):null},k4=(e,t,n,a,s,o,c,d)=>{if(!(o==null||d==null)){var u=c[0],p=u==null?void 0:d(u.positions,o);if(p!=null)return p;var f=s?.[Number(o)];if(f)return n==="horizontal"?{x:f.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:f.coordinate}}},S4=(e,t,n,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;if(n==="hover"?s=e.itemInteraction.hover.graphicalItemId:s=e.itemInteraction.click.graphicalItemId,s==null&&a!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.graphicalItemId)===s})},gd=e=>e.options.tooltipPayloadSearcher,jl=e=>e.tooltip;function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function M2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(a){l7(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function l7(e,t,n){return(t=c7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c7(e){var t=d7(e,"string");return typeof t=="symbol"?t:t+""}function d7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u7(e,t){return e??t}var P4=(e,t,n,a,s,o,c)=>{if(!(t==null||o==null)){var{chartData:d,computedData:u,dataStartIndex:p,dataEndIndex:f}=n,h=[];return e.reduce((y,v)=>{var N,{dataDefinedOnItem:j,settings:b}=v,_=u7(j,d),S=Array.isArray(_)?cC(_,p,f):_,P=(N=b?.dataKey)!==null&&N!==void 0?N:a,C=b?.nameKey,A;if(a&&Array.isArray(S)&&!Array.isArray(S[0])&&c==="axis"?A=gP(S,a,s):A=o(S,t,u,C),Array.isArray(A))A.forEach(I=>{var M=M2(M2({},b),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});y.push($N({tooltipEntrySettings:M,dataKey:I.dataKey,payload:I.payload,value:jt(I.payload,I.dataKey),name:I.name}))});else{var O;y.push($N({tooltipEntrySettings:b,dataKey:P,payload:A,value:jt(A,P),name:(O=jt(A,C))!==null&&O!==void 0?O:b?.name}))}return y},h)}},qv=ae([gr,ut,GA,hv,hr],i4),m7=ae([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),f7=ae([hr,yl],wv),wl=ae([m7,gr,f7],Nv,{memoizeOptions:{resultEqualityCheck:Zf}}),p7=ae([wl],e=>e.filter(Xf)),h7=ae([wl],_v,{memoizeOptions:{resultEqualityCheck:Zf}}),Nl=ae([h7,Ss],kv),g7=ae([p7,Ss,gr],WA),Kv=ae([Nl,gr,wl],Pv),C4=ae([gr],Cv),x7=ae([gr],e=>e.allowDataOverflow),A4=ae([C4,x7],wA),y7=ae([wl],e=>e.filter(Xf)),v7=ae([g7,y7,cd,zA],ZA),b7=ae([v7,Ss,hr,A4],QA),j7=ae([wl],XA),w7=ae([Nl,gr,j7,ep,hr],Ov,{memoizeOptions:{resultEqualityCheck:Jf}}),N7=ae([e4,hr,yl],vl),_7=ae([N7,hr],n4),k7=ae([t4,hr,yl],vl),S7=ae([k7,hr],a4),P7=ae([r4,hr,yl],vl),C7=ae([P7,hr],s4),A7=ae([_7,C7,S7],Qm),E7=ae([gr,C4,A4,b7,w7,A7,ut,hr],Tv),xd=ae([gr,ut,Nl,Kv,cd,hr,E7],Iv),O7=ae([xd,gr,qv],Lv),T7=ae([gr,xd,O7,hr],zv),E4=e=>{var t=hr(e),n=yl(e),a=!1;return hd(e,t,n,a)},O4=ae([gr,E4],Vf),T4=ae([gr,qv,T7,O4],Dv),I7=ae([ut,Kv,gr,hr],f4),M7=ae([ut,Kv,gr,hr],p4),D7=(e,t,n,a,s,o,c,d)=>{if(t){var{type:u}=t,p=Ma(e,d);if(a){var f=n==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,h=u==="category"&&a.bandwidth?a.bandwidth()/f:0;return h=d==="angleAxis"&&s!=null&&s?.length>=2?_r(s[0]-s[1])*2*h:h,p&&c?c.map((y,v)=>({coordinate:a(y)+h,value:y,index:v,offset:h})):a.domain().map((y,v)=>({coordinate:a(y)+h,value:o?o[y]:y,index:v,offset:h}))}}},As=ae([ut,gr,qv,T4,E4,I7,M7,hr],D7),Wv=ae([g4,x4,KB],(e,t,n)=>y4(n.shared,e,t)),I4=e=>e.tooltip.settings.trigger,Hv=e=>e.tooltip.settings.defaultIndex,yd=ae([jl,Wv,I4,Hv],_4),ci=ae([yd,Nl,pd,xd],Uv),M4=ae([As,ci],v4),Vv=ae([yd],e=>{if(e)return e.dataKey}),L7=ae([yd],e=>{if(e)return e.graphicalItemId}),D4=ae([jl,Wv,I4,Hv],S4),$7=ae([Ns,_s,ut,fr,As,Hv,D4,gd],k4),z7=ae([yd,$7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),R7=ae([yd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),F7=ae([D4,ci,Ss,pd,M4,gd,Wv],P4),B7=ae([F7],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function D2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function L2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D2(Object(n),!0).forEach(function(a){U7(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function U7(e,t,n){return(t=q7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W7=()=>Be(gr),H7=()=>{var e=W7(),t=Be(As),n=Be(T4);return oi(!e||!n?void 0:L2(L2({},e),{},{scale:n}),t)};function $2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(n),!0).forEach(function(a){V7(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function V7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=Y7(e,"string");return typeof t=="symbol"?t:t+""}function Y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X7=(e,t,n,a)=>{var s=t.find(o=>o&&o.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},J7=(e,t,n,a)=>{var s=t.find(p=>p&&p.index===n);if(s){if(e==="centric"){var o=s.coordinate,{radius:c}=a;return Io(Io(Io({},a),sr(a.cx,a.cy,c,o)),{},{angle:o,radius:c})}var d=s.coordinate,{angle:u}=a;return Io(Io(Io({},a),sr(a.cx,a.cy,d,u)),{},{angle:u,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Z7(e,t){var{chartX:n,chartY:a}=e;return n>=t.left&&n<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var L4=(e,t,n,a,s)=>{var o,c=(o=t?.length)!==null&&o!==void 0?o:0;if(c<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<c;d++){var u,p,f,h,y,v=d>0?(u=n[d-1])===null||u===void 0?void 0:u.coordinate:(p=n[c-1])===null||p===void 0?void 0:p.coordinate,N=(f=n[d])===null||f===void 0?void 0:f.coordinate,j=d>=c-1?(h=n[0])===null||h===void 0?void 0:h.coordinate:(y=n[d+1])===null||y===void 0?void 0:y.coordinate,b=void 0;if(!(v==null||N==null||j==null))if(_r(N-v)!==_r(j-N)){var _=[];if(_r(j-N)===_r(s[1]-s[0])){b=j;var S=N+s[1]-s[0];_[0]=Math.min(S,(S+v)/2),_[1]=Math.max(S,(S+v)/2)}else{b=v;var P=j+s[1]-s[0];_[0]=Math.min(N,(P+N)/2),_[1]=Math.max(N,(P+N)/2)}var C=[Math.min(N,(b+N)/2),Math.max(N,(b+N)/2)];if(e>C[0]&&e<=C[1]||e>=_[0]&&e<=_[1]){var A;return(A=n[d])===null||A===void 0?void 0:A.index}}else{var O=Math.min(v,j),I=Math.max(v,j);if(e>(O+N)/2&&e<=(I+N)/2){var M;return(M=n[d])===null||M===void 0?void 0:M.index}}}else if(t)for(var D=0;D<c;D++){var z=t[D];if(z!=null){var Y=t[D+1],W=t[D-1];if(D===0&&Y!=null&&e<=(z.coordinate+Y.coordinate)/2||D===c-1&&W!=null&&e>(z.coordinate+W.coordinate)/2||D>0&&D<c-1&&W!=null&&Y!=null&&e>(z.coordinate+W.coordinate)/2&&e<=(z.coordinate+Y.coordinate)/2)return z.index}}return-1},$4=()=>Be(hv),Gv=(e,t)=>t,z4=(e,t,n)=>n,Yv=(e,t,n,a)=>a,Q7=ae(As,e=>bf(e,t=>t.coordinate)),Xv=ae([jl,Gv,z4,Yv],_4),Jv=ae([Xv,Nl,pd,xd],Uv),e9=(e,t,n)=>{if(t!=null){var a=jl(e);return t==="axis"?n==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:n==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},R4=ae([jl,Gv,z4,Yv],S4),ef=ae([Ns,_s,ut,fr,As,Yv,R4,gd],k4),t9=ae([Xv,ef],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),F4=ae([As,Jv],v4),r9=ae([R4,Jv,Ss,pd,F4,gd,Gv],P4),n9=ae([Xv,Jv],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),a9=(e,t,n,a,s,o,c)=>{if(!(!e||!n||!a||!s)&&Z7(e,c)){var d=_L(e,t),u=L4(d,o,s,n,a),p=X7(t,s,u,e);return{activeIndex:String(u),activeCoordinate:p}}},s9=(e,t,n,a,s,o,c)=>{if(!(!e||!a||!s||!o||!n)){var d=Uz(e,n);if(d){var u=kL(d,t),p=L4(u,c,o,a,s),f=J7(t,o,p,d);return{activeIndex:String(p),activeCoordinate:f}}}},i9=(e,t,n,a,s,o,c,d)=>{if(!(!e||!t||!a||!s||!o))return t==="horizontal"||t==="vertical"?a9(e,t,a,s,o,c,d):s9(e,t,n,a,s,o,c)},o9=ae(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var a=e[t];if(a!=null)return n?a.panoramaElement:a.element}}),l9=ae(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(tr)),n=Array.from(new Set(t));return n.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:WF}});function z2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function R2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(n),!0).forEach(function(a){c9(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function c9(e,t,n){return(t=d9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d9(e){var t=u9(e,"string");return typeof t=="symbol"?t:t+""}function u9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m9={},f9={zIndexMap:Object.values(tr).reduce((e,t)=>R2(R2({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),m9)},p9=new Set(Object.values(tr));function h9(e){return p9.has(e)}var B4=gn({name:"zIndex",initialState:f9,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:zt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!h9(n)&&delete e.zIndexMap[n])},prepare:zt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:a,isPanorama:s}=t.payload;e.zIndexMap[n]?s?e.zIndexMap[n].panoramaElement=a:e.zIndexMap[n].element=a:e.zIndexMap[n]={consumers:0,element:s?void 0:a,panoramaElement:s?a:void 0}},prepare:zt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:zt()}}}),{registerZIndexPortal:g9,unregisterZIndexPortal:x9,registerZIndexPortalElement:y9,unregisterZIndexPortalElement:v9}=B4.actions,b9=B4.reducer;function sn(e){var{zIndex:t,children:n}=e,a=n$(),s=a&&t!==void 0&&t!==0,o=Cr(),c=Ot();g.useLayoutEffect(()=>s?(c(g9({zIndex:t})),()=>{c(x9({zIndex:t}))}):Zc,[c,t,s]);var d=Be(u=>o9(u,t,o));return s?d?m0.createPortal(n,d):null:n}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ky.apply(null,arguments)}function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F2(Object(n),!0).forEach(function(a){j9(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function j9(e,t,n){return(t=w9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e){var t=N9(e,"string");return typeof t=="symbol"?t:t+""}function N9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _9(e){var{cursor:t,cursorComp:n,cursorProps:a}=e;return g.isValidElement(t)?g.cloneElement(t,a):g.createElement(n,a)}function k9(e){var t,{coordinate:n,payload:a,index:s,offset:o,tooltipAxisBandSize:c,layout:d,cursor:u,tooltipEventType:p,chartName:f}=e,h=n,y=a,v=s;if(!u||!h||f!=="ScatterChart"&&p!=="axis")return null;var N,j,b;if(f==="ScatterChart")N=h,j=rz,b=tr.cursorLine;else if(f==="BarChart")N=nz(d,h,o,c),j=LC,b=tr.cursorRectangle;else if(d==="radial"&&yP(h)){var{cx:_,cy:S,radius:P,startAngle:C,endAngle:A}=zC(h);N={cx:_,cy:S,startAngle:C,endAngle:A,innerRadius:P,outerRadius:P},j=FC,b=tr.cursorLine}else N={points:Hz(d,h,o)},j=Go,b=tr.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,I=Ku(Ku(Ku(Ku({stroke:"#ccc",pointerEvents:"none"},o),N),Wi(u)),{},{payload:y,payloadIndex:v,className:ft("recharts-tooltip-cursor",O)});return g.createElement(sn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(_9,{cursor:u,cursorComp:j,cursorProps:I}))}function S9(e){var t=H7(),n=bC(),a=fi(),s=$4();return t==null||n==null||a==null||s==null?null:g.createElement(k9,Ky({},e,{offset:n,layout:a,tooltipAxisBandSize:t,chartName:s}))}var U4=g.createContext(null),P9=()=>g.useContext(U4),kx={exports:{}},B2;function C9(){return B2||(B2=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function s(u,p,f){this.fn=u,this.context=p,this.once=f||!1}function o(u,p,f,h,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new s(f,h||u,y),N=n?n+p:p;return u._events[N]?u._events[N].fn?u._events[N]=[u._events[N],v]:u._events[N].push(v):(u._events[N]=v,u._eventsCount++),u}function c(u,p){--u._eventsCount===0?u._events=new a:delete u._events[p]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],f,h;if(this._eventsCount===0)return p;for(h in f=this._events)t.call(f,h)&&p.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},d.prototype.listeners=function(p){var f=n?n+p:p,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,v=h.length,N=new Array(v);y<v;y++)N[y]=h[y].fn;return N},d.prototype.listenerCount=function(p){var f=n?n+p:p,h=this._events[f];return h?h.fn?1:h.length:0},d.prototype.emit=function(p,f,h,y,v,N){var j=n?n+p:p;if(!this._events[j])return!1;var b=this._events[j],_=arguments.length,S,P;if(b.fn){switch(b.once&&this.removeListener(p,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,y),!0;case 5:return b.fn.call(b.context,f,h,y,v),!0;case 6:return b.fn.call(b.context,f,h,y,v,N),!0}for(P=1,S=new Array(_-1);P<_;P++)S[P-1]=arguments[P];b.fn.apply(b.context,S)}else{var C=b.length,A;for(P=0;P<C;P++)switch(b[P].once&&this.removeListener(p,b[P].fn,void 0,!0),_){case 1:b[P].fn.call(b[P].context);break;case 2:b[P].fn.call(b[P].context,f);break;case 3:b[P].fn.call(b[P].context,f,h);break;case 4:b[P].fn.call(b[P].context,f,h,y);break;default:if(!S)for(A=1,S=new Array(_-1);A<_;A++)S[A-1]=arguments[A];b[P].fn.apply(b[P].context,S)}}return!0},d.prototype.on=function(p,f,h){return o(this,p,f,h,!1)},d.prototype.once=function(p,f,h){return o(this,p,f,h,!0)},d.prototype.removeListener=function(p,f,h,y){var v=n?n+p:p;if(!this._events[v])return this;if(!f)return c(this,v),this;var N=this._events[v];if(N.fn)N.fn===f&&(!y||N.once)&&(!h||N.context===h)&&c(this,v);else{for(var j=0,b=[],_=N.length;j<_;j++)(N[j].fn!==f||y&&!N[j].once||h&&N[j].context!==h)&&b.push(N[j]);b.length?this._events[v]=b.length===1?b[0]:b:c(this,v)}return this},d.prototype.removeAllListeners=function(p){var f;return p?(f=n?n+p:p,this._events[f]&&c(this,f)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d})(kx)),kx.exports}var A9=C9();const E9=js(A9);var Kc=new E9,Wy="recharts.syncEvent.tooltip",U2="recharts.syncEvent.brush";function ap(e,t){if(t){var n=Number.parseInt(t,10);if(!Bn(n))return e?.[n]}}var O9={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},q4=gn({name:"options",initialState:O9,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),T9=q4.reducer,{createEventEmitter:I9}=q4.actions;function M9(e){return e.tooltip.syncInteraction}var D9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},K4=gn({name:"chartData",initialState:D9,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:a}=t.payload;n!=null&&(e.dataStartIndex=n),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:q2,setDataStartEndIndexes:L9,setComputedData:PZ}=K4.actions,$9=K4.reducer,z9=["x","y"];function K2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K2(Object(n),!0).forEach(function(a){R9(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function R9(e,t,n){return(t=F9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U9(e,t){if(e==null)return{};var n,a,s=q9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function q9(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function K9(){var e=Be(gv),t=Be(xv),n=Ot(),a=Be(RA),s=Be(As),o=fi(),c=Mf(),d=Be(u=>u.rootProps.className);g.useEffect(()=>{if(e==null)return Zc;var u=(p,f,h)=>{if(t!==h&&e===p){if(a==="index"){var y;if(c&&f!==null&&f!==void 0&&(y=f.payload)!==null&&y!==void 0&&y.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:N,y:j}=v,b=U9(v,z9),{x:_,y:S,width:P,height:C}=f.payload.sourceViewBox,A=Mo(Mo({},b),{},{x:c.x+(P?(N-_)/P:0)*c.width,y:c.y+(C?(j-S)/C:0)*c.height});n(Mo(Mo({},f),{},{payload:Mo(Mo({},f.payload),{},{coordinate:A})}))}else n(f);return}if(s!=null){var O;if(typeof a=="function"){var I={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},M=a(s,I);O=s[M]}else a==="value"&&(O=s.find(Q=>String(Q.value)===f.payload.label));var{coordinate:D}=f.payload;if(O==null||f.payload.active===!1||D==null||c==null){n(Uy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:Y}=D,W=Math.min(z,c.x+c.width),re=Math.min(Y,c.y+c.height),U={x:o==="horizontal"?O.coordinate:W,y:o==="horizontal"?re:O.coordinate},R=Uy({active:f.payload.active,coordinate:U,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(R)}}};return Kc.on(Wy,u),()=>{Kc.off(Wy,u)}},[d,n,t,e,a,s,o,c])}function W9(){var e=Be(gv),t=Be(xv),n=Ot();g.useEffect(()=>{if(e==null)return Zc;var a=(s,o,c)=>{t!==c&&e===s&&n(L9(o))};return Kc.on(U2,a),()=>{Kc.off(U2,a)}},[n,t,e])}function H9(){var e=Ot();g.useEffect(()=>{e(I9())},[e]),K9(),W9()}function V9(e,t,n,a,s,o){var c=Be(v=>e9(v,e,t)),d=Be(xv),u=Be(gv),p=Be(RA),f=Be(M9),h=f?.active,y=Mf();g.useEffect(()=>{if(!h&&u!=null&&d!=null){var v=Uy({active:o,coordinate:n,dataKey:c,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:y,graphicalItemId:void 0});Kc.emit(Wy,u,v,d)}},[h,n,c,s,a,d,u,p,o,y])}function W2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function H2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(n),!0).forEach(function(a){G9(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function G9(e,t,n){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J9(e){return e.dataKey}function Z9(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(D$,t)}var V2=[],Q9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ss(e){var t,n,a=Xt(e,Q9),{active:s,allowEscapeViewBox:o,animationDuration:c,animationEasing:d,content:u,filterNull:p,isAnimationActive:f,offset:h,payloadUniqBy:y,position:v,reverseDirection:N,useTranslate3d:j,wrapperStyle:b,cursor:_,shared:S,trigger:P,defaultIndex:C,portal:A,axisId:O}=a,I=Ot(),M=typeof C=="number"?String(C):C;g.useEffect(()=>{I(YB({shared:S,trigger:P,axisId:O,active:s,defaultIndex:M}))},[I,S,P,O,s,M]);var D=Mf(),z=OC(),Y=qB(S),{activeIndex:W,isActive:re}=(t=Be(xe=>n9(xe,Y,P,M)))!==null&&t!==void 0?t:{},U=Be(xe=>r9(xe,Y,P,M)),R=Be(xe=>F4(xe,Y,P,M)),Q=Be(xe=>t9(xe,Y,P,M)),le=U,H=P9(),ee=(n=s??re)!==null&&n!==void 0?n:!1,[ce,B]=IP([le,ee]),$=Y==="axis"?R:void 0;V9(Y,P,Q,$,W,ee);var G=A??H;if(G==null||D==null||Y==null)return null;var ge=le??V2;ee||(ge=V2),p&&ge.length&&(ge=CP(ge.filter(xe=>xe.value!=null&&(xe.hide!==!0||a.includeHidden)),y,J9));var ue=ge.length>0,se=g.createElement(U$,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:f,active:ee,coordinate:Q,hasPayload:ue,offset:h,position:v,reverseDirection:N,useTranslate3d:j,viewBox:D,wrapperStyle:b,lastBoundingBox:ce,innerRef:B,hasPortalFromProps:!!A},Z9(u,H2(H2({},a),{},{payload:ge,label:$,active:ee,activeIndex:W,coordinate:Q,accessibilityLayer:z})));return g.createElement(g.Fragment,null,m0.createPortal(se,G),ee&&g.createElement(S9,{cursor:_,tooltipEventType:Y,coordinate:Q,payload:ge,index:W}))}var _l=e=>null;_l.displayName="Cell";function eU(e,t,n){return(t=tU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tU(e){var t=rU(e,"string");return typeof t=="symbol"?t:t+""}function rU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nU{constructor(t){eU(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function G2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function aU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G2(Object(n),!0).forEach(function(a){sU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function sU(e,t,n){return(t=iU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iU(e){var t=oU(e,"string");return typeof t=="symbol"?t:t+""}function oU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lU={cacheSize:2e3,enableCache:!0},W4=aU({},lU),Y2=new nU(W4.cacheSize),cU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},X2="recharts_measurement_span";function dU(e,t){var n=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(c,"|").concat(d)}var J2=(e,t)=>{try{var n=document.getElementById(X2);n||(n=document.createElement("span"),n.setAttribute("id",X2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,cU,t),n.textContent="".concat(e);var a=n.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},Pc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ad.isSsr)return{width:0,height:0};if(!W4.enableCache)return J2(t,n);var a=dU(t,n),s=Y2.get(a);if(s)return s;var o=J2(t,n);return Y2.set(a,o),o},H4;function uU(e,t,n){return(t=mU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mU(e){var t=fU(e,"string");return typeof t=="symbol"?t:t+""}function fU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xU=["cm","mm","pt","pc","in","Q","px"];function yU(e){return xU.includes(e)}var Wo="NaN";function vU(e,t){return e*gU[t]}class Mr{static parse(t){var n,[,a,s]=(n=hU.exec(t))!==null&&n!==void 0?n:[];return a==null?Mr.NaN:new Mr(parseFloat(a),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Bn(t)&&(this.unit=""),n!==""&&!pU.test(n)&&(this.num=NaN,this.unit=""),yU(n)&&(this.num=vU(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Mr(NaN,""):new Mr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bn(this.num)}}H4=Mr;uU(Mr,"NaN",new H4(NaN,""));function V4(e){if(e==null||e.includes(Wo))return Wo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,a,s,o]=(n=Z2.exec(t))!==null&&n!==void 0?n:[],c=Mr.parse(a??""),d=Mr.parse(o??""),u=s==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Wo;t=t.replace(Z2,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,f,h,y]=(p=Q2.exec(t))!==null&&p!==void 0?p:[],v=Mr.parse(f??""),N=Mr.parse(y??""),j=h==="+"?v.add(N):v.subtract(N);if(j.isNaN())return Wo;t=t.replace(Q2,j.toString())}return t}var ek=/\(([^()]*)\)/;function bU(e){for(var t=e,n;(n=ek.exec(t))!=null;){var[,a]=n;t=t.replace(ek,V4(a))}return t}function jU(e){var t=e.replace(/\s+/g,"");return t=bU(t),t=V4(t),t}function wU(e){try{return jU(e)}catch{return Wo}}function Sx(e){var t=wU(e.slice(5,-1));return t===Wo?"":t}var NU=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_U=["dx","dy","angle","className","breakAll"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hy.apply(null,arguments)}function tk(e,t){if(e==null)return{};var n,a,s=kU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function kU(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var G4=/[ \f\n\r\t\v\u2028\u2029]+/,Y4=e=>{var{children:t,breakAll:n,style:a}=e;try{var s=[];Lt(t)||(n?s=t.toString().split(""):s=t.toString().split(G4));var o=s.map(d=>({word:d,width:Pc(d,a).width})),c=n?0:Pc("",a).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}};function SU(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var X4=(e,t,n,a)=>e.reduce((s,o)=>{var{word:c,width:d}=o,u=s[s.length-1];if(u&&d!=null&&(t==null||a||u.width+d+n<Number(t)))u.words.push(c),u.width+=d+n;else{var p={words:[c],width:d};s.push(p)}return s},[]),J4=e=>e.reduce((t,n)=>t.width>n.width?t:n),PU="",rk=(e,t,n,a,s,o,c,d)=>{var u=e.slice(0,t),p=Y4({breakAll:n,style:a,children:u+PU});if(!p)return[!1,[]];var f=X4(p.wordsWithComputedWidth,o,c,d),h=f.length>s||J4(f).width>Number(o);return[h,f]},CU=(e,t,n,a,s)=>{var{maxLines:o,children:c,style:d,breakAll:u}=e,p=Le(o),f=String(c),h=X4(t,a,n,s);if(!p||s)return h;var y=h.length>o||J4(h).width>Number(a);if(!y)return h;for(var v=0,N=f.length-1,j=0,b;v<=N&&j<=f.length-1;){var _=Math.floor((v+N)/2),S=_-1,[P,C]=rk(f,S,u,d,o,a,n,s),[A]=rk(f,_,u,d,o,a,n,s);if(!P&&!A&&(v=_+1),P&&A&&(N=_-1),!P&&A){b=C;break}j++}return b||h},nk=e=>{var t=Lt(e)?[]:e.toString().split(G4);return[{words:t,width:void 0}]},AU=e=>{var{width:t,scaleToFit:n,children:a,style:s,breakAll:o,maxLines:c}=e;if((t||n)&&!ad.isSsr){var d,u,p=Y4({breakAll:o,children:a,style:s});if(p){var{wordsWithComputedWidth:f,spaceWidth:h}=p;d=f,u=h}else return nk(a);return CU({breakAll:o,children:a,maxLines:c,style:s},d,u,t,!!n)}return nk(a)},Z4="#808080",EU={angle:0,breakAll:!1,capHeight:"0.71em",fill:Z4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sp=g.forwardRef((e,t)=>{var n=Xt(e,EU),{x:a,y:s,lineHeight:o,capHeight:c,fill:d,scaleToFit:u,textAnchor:p,verticalAnchor:f}=n,h=tk(n,NU),y=g.useMemo(()=>AU({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:v,dy:N,angle:j,className:b,breakAll:_}=h,S=tk(h,_U);if(!Pa(a)||!Pa(s)||y.length===0)return null;var P=Number(a)+(Le(v)?v:0),C=Number(s)+(Le(N)?N:0);if(!Ct(P)||!Ct(C))return null;var A;switch(f){case"start":A=Sx("calc(".concat(c,")"));break;case"middle":A=Sx("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:A=Sx("calc(".concat(y.length-1," * -").concat(o,")"));break}var O=[];if(u){var I=y[0].width,{width:M}=h;O.push("scale(".concat(Le(M)&&Le(I)?M/I:1,")"))}return j&&O.push("rotate(".concat(j,", ").concat(P,", ").concat(C,")")),O.length&&(S.transform=O.join(" ")),g.createElement("text",Hy({},Gr(S),{ref:t,x:P,y:C,className:ft("recharts-text",b),textAnchor:p,fill:d.includes("url")?Z4:d}),y.map((D,z)=>{var Y=D.words.join(_?"":" ");return g.createElement("tspan",{x:P,dy:z===0?A:o,key:"".concat(Y,"-").concat(z)},Y)}))});sp.displayName="Text";var OU=["labelRef"],TU=["content"];function ak(e,t){if(e==null)return{};var n,a,s=IU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function IU(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(n),!0).forEach(function(a){MU(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function MU(e,t,n){return(t=DU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DU(e){var t=LU(e,"string");return typeof t=="symbol"?t:t+""}function LU(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xa.apply(null,arguments)}var Q4=g.createContext(null),$U=e=>{var{x:t,y:n,upperWidth:a,lowerWidth:s,width:o,height:c,children:d}=e,u=g.useMemo(()=>({x:t,y:n,upperWidth:a,lowerWidth:s,width:o,height:c}),[t,n,a,s,o,c]);return g.createElement(Q4.Provider,{value:u},d)},eE=()=>{var e=g.useContext(Q4),t=Mf();return e||vC(t)},zU=g.createContext(null),RU=()=>{var e=g.useContext(zU),t=Be(KA);return e||t},FU=e=>{var{value:t,formatter:n}=e,a=Lt(e.children)?t:e.children;return typeof n=="function"?n(a):a},Zv=e=>e!=null&&typeof e=="function",BU=(e,t)=>{var n=_r(t-e),a=Math.min(Math.abs(t-e),360);return n*a},UU=(e,t,n,a,s)=>{var{offset:o,className:c}=e,{cx:d,cy:u,innerRadius:p,outerRadius:f,startAngle:h,endAngle:y,clockWise:v}=s,N=(p+f)/2,j=BU(h,y),b=j>=0?1:-1,_,S;switch(t){case"insideStart":_=h+b*o,S=v;break;case"insideEnd":_=y-b*o,S=!v;break;case"end":_=y+b*o,S=v;break;default:throw new Error("Unsupported position ".concat(t))}S=j<=0?S:!S;var P=sr(d,u,N,_),C=sr(d,u,N,_+(S?1:-1)*359),A="M".concat(P.x,",").concat(P.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(S?0:1,`,
    `).concat(C.x,",").concat(C.y),O=Lt(e.id)?Oc("recharts-radial-line-"):e.id;return g.createElement("text",Xa({},a,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",c)}),g.createElement("defs",null,g.createElement("path",{id:O,d:A})),g.createElement("textPath",{xlinkHref:"#".concat(O)},n))},qU=(e,t,n)=>{var{cx:a,cy:s,innerRadius:o,outerRadius:c,startAngle:d,endAngle:u}=e,p=(d+u)/2;if(n==="outside"){var{x:f,y:h}=sr(a,s,c+t,p);return{x:f,y:h,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var y=(o+c)/2,{x:v,y:N}=sr(a,s,y,p);return{x:v,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Vy=e=>"cx"in e&&Le(e.cx),KU=(e,t)=>{var{parentViewBox:n,offset:a,position:s}=e,o;n!=null&&!Vy(n)&&(o=n);var{x:c,y:d,upperWidth:u,lowerWidth:p,height:f}=t,h=c,y=c+(u-p)/2,v=(h+y)/2,N=(u+p)/2,j=h+u/2,b=f>=0?1:-1,_=b*a,S=b>0?"end":"start",P=b>0?"start":"end",C=u>=0?1:-1,A=C*a,O=C>0?"end":"start",I=C>0?"start":"end";if(s==="top"){var M={x:h+u/2,y:d-_,textAnchor:"middle",verticalAnchor:S};return er(er({},M),o?{height:Math.max(d-o.y,0),width:u}:{})}if(s==="bottom"){var D={x:y+p/2,y:d+f+_,textAnchor:"middle",verticalAnchor:P};return er(er({},D),o?{height:Math.max(o.y+o.height-(d+f),0),width:p}:{})}if(s==="left"){var z={x:v-A,y:d+f/2,textAnchor:O,verticalAnchor:"middle"};return er(er({},z),o?{width:Math.max(z.x-o.x,0),height:f}:{})}if(s==="right"){var Y={x:v+N+A,y:d+f/2,textAnchor:I,verticalAnchor:"middle"};return er(er({},Y),o?{width:Math.max(o.x+o.width-Y.x,0),height:f}:{})}var W=o?{width:N,height:f}:{};return s==="insideLeft"?er({x:v+A,y:d+f/2,textAnchor:I,verticalAnchor:"middle"},W):s==="insideRight"?er({x:v+N-A,y:d+f/2,textAnchor:O,verticalAnchor:"middle"},W):s==="insideTop"?er({x:h+u/2,y:d+_,textAnchor:"middle",verticalAnchor:P},W):s==="insideBottom"?er({x:y+p/2,y:d+f-_,textAnchor:"middle",verticalAnchor:S},W):s==="insideTopLeft"?er({x:h+A,y:d+_,textAnchor:I,verticalAnchor:P},W):s==="insideTopRight"?er({x:h+u-A,y:d+_,textAnchor:O,verticalAnchor:P},W):s==="insideBottomLeft"?er({x:y+A,y:d+f-_,textAnchor:I,verticalAnchor:S},W):s==="insideBottomRight"?er({x:y+p-A,y:d+f-_,textAnchor:O,verticalAnchor:S},W):s&&typeof s=="object"&&(Le(s.x)||ps(s.x))&&(Le(s.y)||ps(s.y))?er({x:c+Vr(s.x,N),y:d+Vr(s.y,f),textAnchor:"end",verticalAnchor:"end"},W):er({x:j,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},W)},WU={angle:0,offset:5,zIndex:tr.label,position:"middle",textBreakAll:!1};function ri(e){var t=Xt(e,WU),{viewBox:n,position:a,value:s,children:o,content:c,className:d="",textBreakAll:u,labelRef:p}=t,f=RU(),h=eE(),y=a==="center"?h:f??h,v,N,j;if(n==null?v=y:Vy(n)?v=n:v=vC(n),!v||Lt(s)&&Lt(o)&&!g.isValidElement(c)&&typeof c!="function")return null;var b=er(er({},t),{},{viewBox:v});if(g.isValidElement(c)){var{labelRef:_}=b,S=ak(b,OU);return g.cloneElement(c,S)}if(typeof c=="function"){var{content:P}=b,C=ak(b,TU);if(N=g.createElement(c,C),g.isValidElement(N))return N}else N=FU(t);var A=Gr(t);if(Vy(v)){if(a==="insideStart"||a==="insideEnd"||a==="end")return UU(t,a,N,A,v);j=qU(v,t.offset,t.position)}else j=KU(t,v);return g.createElement(sn,{zIndex:t.zIndex},g.createElement(sp,Xa({ref:p,className:ft("recharts-label",d)},A,j,{textAnchor:SU(A.textAnchor)?A.textAnchor:j.textAnchor,breakAll:u}),N))}ri.displayName="Label";var HU=(e,t,n)=>{if(!e)return null;var a={viewBox:t,labelRef:n};return e===!0?g.createElement(ri,Xa({key:"label-implicit"},a)):Pa(e)?g.createElement(ri,Xa({key:"label-implicit",value:e},a)):g.isValidElement(e)?e.type===ri?g.cloneElement(e,er({key:"label-implicit"},a)):g.createElement(ri,Xa({key:"label-implicit",content:e},a)):Zv(e)?g.createElement(ri,Xa({key:"label-implicit",content:e},a)):e&&typeof e=="object"?g.createElement(ri,Xa({},e,{key:"label-implicit"},a)):null};function VU(e){var{label:t,labelRef:n}=e,a=eE();return HU(t,a,n)||null}var Px={},Cx={},ik;function GU(){return ik||(ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Cx)),Cx}var Ax={},ok;function YU(){return ok||(ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Ax)),Ax}var lk;function XU(){return lk||(lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GU(),n=YU(),a=A0();function s(o){if(a.isArrayLike(o))return t.last(n.toArray(o))}e.last=s})(Px)),Px}var Ex,ck;function JU(){return ck||(ck=1,Ex=XU().last),Ex}var ZU=JU();const QU=js(ZU);var eq=["valueAccessor"],tq=["dataKey","clockWise","id","textBreakAll","zIndex"];function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tf.apply(null,arguments)}function dk(e,t){if(e==null)return{};var n,a,s=rq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rq(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var nq=e=>Array.isArray(e.value)?QU(e.value):e.value,tE=g.createContext(void 0),Qv=tE.Provider,rE=g.createContext(void 0),aq=rE.Provider;function sq(){return g.useContext(tE)}function iq(){return g.useContext(rE)}function cm(e){var{valueAccessor:t=nq}=e,n=dk(e,eq),{dataKey:a,clockWise:s,id:o,textBreakAll:c,zIndex:d}=n,u=dk(n,tq),p=sq(),f=iq(),h=p||f;return!h||!h.length?null:g.createElement(sn,{zIndex:d??tr.label},g.createElement(Gt,{className:"recharts-label-list"},h.map((y,v)=>{var N,j=Lt(a)?t(y,v):jt(y&&y.payload,a),b=Lt(o)?{}:{id:"".concat(o,"-").concat(v)};return g.createElement(ri,tf({key:"label-".concat(v)},Gr(y),u,b,{fill:(N=n.fill)!==null&&N!==void 0?N:y.fill,parentViewBox:y.parentViewBox,value:j,textBreakAll:c,viewBox:y.viewBox,index:v,zIndex:0}))})))}cm.displayName="LabelList";function ip(e){var{label:t}=e;return t?t===!0?g.createElement(cm,{key:"labelList-implicit"}):g.isValidElement(t)||Zv(t)?g.createElement(cm,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(cm,tf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Gy.apply(null,arguments)}var nE=e=>{var{cx:t,cy:n,r:a,className:s}=e,o=ft("recharts-dot",s);return Le(t)&&Le(n)&&Le(a)?g.createElement("circle",Gy({},rn(e),C0(e),{className:o,cx:t,cy:n,r:a})):null},aE=e=>e.graphicalItems.polarItems,oq=ae([Bt,dd],wv),op=ae([aE,Kt,oq],Nv),lq=ae([op],_v),lp=ae([lq,Hf],kv),cq=ae([lp,Kt,op],Pv);ae([lp,Kt,op],(e,t,n)=>n.length>0?e.flatMap(a=>n.flatMap(s=>{var o,c=jt(a,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:jt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var uk=()=>{},dq=ae([lp,Kt,op,ep,Bt],Ov),uq=ae([Kt,Av,Ev,uk,dq,uk,ut,Bt],Tv),sE=ae([Kt,ut,lp,cq,cd,Bt,uq],Iv),mq=ae([sE,Kt,bl],Lv);ae([Kt,sE,mq,Bt],zv);var fq={radiusAxis:{},angleAxis:{}},iE=gn({name:"polarAxis",initialState:fq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:CZ,removeRadiusAxis:AZ,addAngleAxis:EZ,removeAngleAxis:OZ}=iE.actions,pq=iE.reducer;function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function fk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(a){hq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function hq(e,t,n){return(t=gq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gq(e){var t=xq(e,"string");return typeof t=="symbol"?t:t+""}function xq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yq=(e,t)=>t,eb=ae([aE,yq],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),vq=[],tb=(e,t,n)=>n?.length===0?vq:n,oE=ae([Hf,eb,tb],(e,t,n)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&n!=null&&(s=n.map(o=>fk(fk({},t.presentationProps),o.props))),s!=null)return s}}),bq=ae([oE,eb,tb],(e,t,n)=>{if(!(e==null||t==null))return e.map((a,s)=>{var o,c=jt(a,t.nameKey,t.name),d;return n!=null&&(o=n[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=n[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:mi(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),jq=ae([oE,eb,tb,fr],(e,t,n,a)=>{if(!(t==null||e==null))return NK({offset:a,pieSettings:t,displayedData:e,cells:n})}),Ox={exports:{}},kt={};var pk;function wq(){if(pk)return kt;pk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function N(j){if(typeof j=="object"&&j!==null){var b=j.$$typeof;switch(b){case e:switch(j=j.type,j){case n:case s:case a:case u:case p:case y:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case h:case f:return j;case o:return j;default:return b}}case t:return b}}}return kt.ContextConsumer=o,kt.ContextProvider=c,kt.Element=e,kt.ForwardRef=d,kt.Fragment=n,kt.Lazy=h,kt.Memo=f,kt.Portal=t,kt.Profiler=s,kt.StrictMode=a,kt.Suspense=u,kt.SuspenseList=p,kt.isContextConsumer=function(j){return N(j)===o},kt.isContextProvider=function(j){return N(j)===c},kt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},kt.isForwardRef=function(j){return N(j)===d},kt.isFragment=function(j){return N(j)===n},kt.isLazy=function(j){return N(j)===h},kt.isMemo=function(j){return N(j)===f},kt.isPortal=function(j){return N(j)===t},kt.isProfiler=function(j){return N(j)===s},kt.isStrictMode=function(j){return N(j)===a},kt.isSuspense=function(j){return N(j)===u},kt.isSuspenseList=function(j){return N(j)===p},kt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===s||j===a||j===u||j===p||typeof j=="object"&&j!==null&&(j.$$typeof===h||j.$$typeof===f||j.$$typeof===c||j.$$typeof===o||j.$$typeof===d||j.$$typeof===v||j.getModuleId!==void 0)},kt.typeOf=N,kt}var hk;function Nq(){return hk||(hk=1,Ox.exports=wq()),Ox.exports}var _q=Nq(),gk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",xk=null,Tx=null,lE=e=>{if(e===xk&&Array.isArray(Tx))return Tx;var t=[];return g.Children.forEach(e,n=>{Lt(n)||(_q.isFragment(n)?t=t.concat(lE(n.props.children)):t.push(n))}),Tx=t,xk=e,t};function rb(e,t){var n=[],a=[];return Array.isArray(t)?a=t.map(s=>gk(s)):a=[gk(t)],lE(e).forEach(s=>{var o=Vi(s,"type.displayName")||Vi(s,"type.name");o&&a.indexOf(o)!==-1&&n.push(s)}),n}var nb=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Ix={},yk;function kq(){return yk||(yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${s}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(Ix)),Ix}var Mx,vk;function Sq(){return vk||(vk=1,Mx=kq().isPlainObject),Mx}var Pq=Sq();const Cq=js(Pq);var bk,jk,wk,Nk,_k;function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(a){Aq(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Aq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},rf.apply(null,arguments)}function vc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Pk=(e,t,n,a,s)=>{var o=n-a,c;return c=Ht(bk||(bk=vc(["M ",",",""])),e,t),c+=Ht(jk||(jk=vc(["L ",",",""])),e+n,t),c+=Ht(wk||(wk=vc(["L ",",",""])),e+n-o/2,t+s),c+=Ht(Nk||(Nk=vc(["L ",",",""])),e+n-o/2-a,t+s),c+=Ht(_k||(_k=vc(["L ",","," Z"])),e,t),c},Tq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iq=e=>{var t=Xt(e,Tq),{x:n,y:a,upperWidth:s,lowerWidth:o,height:c,className:d}=t,{animationEasing:u,animationDuration:p,animationBegin:f,isUpdateAnimationActive:h}=t,y=g.useRef(null),[v,N]=g.useState(-1),j=g.useRef(s),b=g.useRef(o),_=g.useRef(c),S=g.useRef(n),P=g.useRef(a),C=pl(e,"trapezoid-");if(g.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var U=y.current.getTotalLength();U&&N(U)}catch{}},[]),n!==+n||a!==+a||s!==+s||o!==+o||c!==+c||s===0&&o===0||c===0)return null;var A=ft("recharts-trapezoid",d);if(!h)return g.createElement("g",null,g.createElement("path",rf({},Gr(t),{className:A,d:Pk(n,a,s,o,c)})));var O=j.current,I=b.current,M=_.current,D=S.current,z=P.current,Y="0px ".concat(v===-1?1:v,"px"),W="".concat(v,"px 0px"),re=TC(["strokeDasharray"],p,u);return g.createElement(fl,{animationId:C,key:C,canBegin:v>0,duration:p,easing:u,isActive:h,begin:f},U=>{var R=bt(O,s,U),Q=bt(I,o,U),le=bt(M,c,U),H=bt(D,n,U),ee=bt(z,a,U);y.current&&(j.current=R,b.current=Q,_.current=le,S.current=H,P.current=ee);var ce=U>0?{transition:re,strokeDasharray:W}:{strokeDasharray:Y};return g.createElement("path",rf({},Gr(t),{className:A,d:Pk(H,ee,R,Q,le),ref:y,style:Sk(Sk({},ce),t.style)}))})},Mq=["option","shapeType","activeClassName"];function Dq(e,t){if(e==null)return{};var n,a,s=Lq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Lq(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function nf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(a){$q(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function $q(e,t,n){return(t=zq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fq(e,t){return nf(nf({},t),e)}function Bq(e,t){return e==="symbols"}function Ak(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(LC,n);case"trapezoid":return g.createElement(Iq,n);case"sector":return g.createElement(FC,n);case"symbols":if(Bq(t))return g.createElement(P0,n);break;case"curve":return g.createElement(Go,n);default:return null}}function Uq(e){return g.isValidElement(e)?e.props:e}function ab(e){var{option:t,shapeType:n,activeClassName:a="recharts-active-shape"}=e,s=Dq(e,Mq),o;if(g.isValidElement(t))o=g.cloneElement(t,nf(nf({},s),Uq(t)));else if(typeof t=="function")o=t(s,s.index);else if(Cq(t)&&typeof t!="boolean"){var c=Fq(t,s);o=g.createElement(Ak,{shapeType:n,elementProps:c})}else{var d=s;o=g.createElement(Ak,{shapeType:n,elementProps:d})}return s.isActive?g.createElement(Gt,{className:a},o):o}var sb=(e,t,n)=>{var a=Ot();return(s,o)=>c=>{e?.(s,o,c),a(j4({activeIndex:String(o),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:n}))}},ib=e=>{var t=Ot();return(n,a)=>s=>{e?.(n,a,s),t(XB())}},ob=(e,t,n)=>{var a=Ot();return(s,o)=>c=>{e?.(s,o,c),a(JB({activeIndex:String(o),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:n}))}};function cp(e){var{tooltipEntrySettings:t}=e,n=Ot(),a=Cr(),s=g.useRef(null);return g.useLayoutEffect(()=>{a||(s.current===null?n(HB(t)):s.current!==t&&n(VB({prev:s.current,next:t})),s.current=t)},[t,n,a]),g.useLayoutEffect(()=>()=>{s.current&&(n(GB(s.current)),s.current=null)},[n]),null}function lb(e){var{legendPayload:t}=e,n=Ot(),a=Cr(),s=g.useRef(null);return g.useLayoutEffect(()=>{a||(s.current===null?n(CC(t)):s.current!==t&&n(AC({prev:s.current,next:t})),s.current=t)},[n,a,t]),g.useLayoutEffect(()=>()=>{s.current&&(n(EC(s.current)),s.current=null)},[n]),null}function qq(e){var{legendPayload:t}=e,n=Ot(),a=Be(ut),s=g.useRef(null);return g.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?n(CC(t)):s.current!==t&&n(AC({prev:s.current,next:t})),s.current=t)},[n,a,t]),g.useLayoutEffect(()=>()=>{s.current&&(n(EC(s.current)),s.current=null)},[n]),null}var Dx,Kq=()=>{var[e]=g.useState(()=>Oc("uid-"));return e},Wq=(Dx=u5.useId)!==null&&Dx!==void 0?Dx:Kq;function Hq(e,t){var n=Wq();return t||(e?"".concat(e,"-").concat(n):n)}var Vq=g.createContext(void 0),dp=e=>{var{id:t,type:n,children:a}=e,s=Hq("recharts-".concat(n),t);return g.createElement(Vq.Provider,{value:s},a(s))},Gq={cartesianItems:[],polarItems:[]},cE=gn({name:"graphicalItems",initialState:Gq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:zt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:a}=t.payload,s=la(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=a)},prepare:zt()},removeCartesianGraphicalItem:{reducer(e,t){var n=la(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:zt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:zt()},removePolarGraphicalItem:{reducer(e,t){var n=la(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:zt()}}}),{addCartesianGraphicalItem:Yq,replaceCartesianGraphicalItem:Xq,removeCartesianGraphicalItem:Jq,addPolarGraphicalItem:Zq,removePolarGraphicalItem:Qq}=cE.actions,eK=cE.reducer,tK=e=>{var t=Ot(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Yq(e)):n.current!==e&&t(Xq({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Jq(n.current)),n.current=null)},[t]),null},cb=g.memo(tK);function rK(e){var t=Ot();return g.useLayoutEffect(()=>(t(Zq(e)),()=>{t(Qq(e))}),[t,e]),null}var nK=["key"],aK=["onMouseEnter","onClick","onMouseLeave"],sK=["id"],iK=["id"];function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(a){oK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oK(e,t,n){return(t=lK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},di.apply(null,arguments)}function up(e,t){if(e==null)return{};var n,a,s=dK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dK(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function uK(e){var t=g.useMemo(()=>rb(e.children,_l),[e.children]),n=Be(a=>bq(a,e.id,t));return n==null?null:g.createElement(qq,{legendPayload:n})}var mK=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:a,stroke:s,strokeWidth:o,fill:c,name:d,hide:u,tooltipType:p,id:f}=e,h={dataDefinedOnItem:a.map(y=>y.tooltipPayload),positions:a.map(y=>y.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:c,dataKey:t,nameKey:n,name:mi(d,t),hide:u,type:p,color:c,unit:"",graphicalItemId:f}};return g.createElement(cp,{tooltipEntrySettings:h})}),fK=(e,t)=>e>t?"start":e<t?"end":"middle",pK=(e,t,n)=>Vr(typeof t=="function"?t(e):t,n,n*.8),hK=(e,t,n)=>{var{top:a,left:s,width:o,height:c}=t,d=$C(o,c),u=s+Vr(e.cx,o,o/2),p=a+Vr(e.cy,c,c/2),f=Vr(e.innerRadius,d,0),h=pK(n,e.outerRadius,d),y=e.maxRadius||Math.sqrt(o*o+c*c)/2;return{cx:u,cy:p,innerRadius:f,outerRadius:h,maxRadius:y}},gK=(e,t)=>{var n=_r(t-e),a=Math.min(Math.abs(t-e),360);return n*a};function xK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var yK=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=up(t,nK);return g.createElement(Go,di({},s,{type:"linear",className:n}))},vK=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var a=n;if(typeof e=="function"&&(a=e(t),g.isValidElement(a)))return a;var s=ft("recharts-pie-label-text",xK(e));return g.createElement(sp,di({},t,{alignmentBaseline:"middle",className:s}),a)};function bK(e){var{sectors:t,props:n,showLabels:a}=e,{label:s,labelLine:o,dataKey:c}=n;if(!a||!s||!t)return null;var d=rn(n),u=Wi(s),p=Wi(o),f=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=t.map((y,v)=>{var N=(y.startAngle+y.endAngle)/2,j=sr(y.cx,y.cy,y.outerRadius+f,N),b=Vt(Vt(Vt(Vt({},d),y),{},{stroke:"none"},u),{},{index:v,textAnchor:fK(j.x,y.cx)},j),_=Vt(Vt(Vt(Vt({},d),y),{},{fill:"none",stroke:y.fill},p),{},{index:v,points:[sr(y.cx,y.cy,y.outerRadius,N),j],key:"line"});return g.createElement(sn,{zIndex:tr.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},g.createElement(Gt,null,o&&yK(o,_),vK(s,b,jt(y,c))))});return g.createElement(Gt,{className:"recharts-pie-labels"},h)}function jK(e){var{sectors:t,props:n,showLabels:a}=e,{label:s}=n;return typeof s=="object"&&s!=null&&"position"in s?g.createElement(ip,{label:s}):g.createElement(bK,{sectors:t,props:n,showLabels:a})}function wK(e){var{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:s,shape:o,id:c}=e,d=Be(ci),u=Be(Vv),p=Be(L7),{onMouseEnter:f,onClick:h,onMouseLeave:y}=s,v=up(s,aK),N=sb(f,s.dataKey,c),j=ib(y),b=ob(h,s.dataKey,c);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((_,S)=>{if(_?.startAngle===0&&_?.endAngle===0&&t.length!==1)return null;var P=p==null||p===c,C=String(S)===d&&(u==null||s.dataKey===u)&&P,A=d?a:null,O=n&&C?n:A,I=Vt(Vt({},_),{},{stroke:_.stroke,tabIndex:-1,[pC]:S,[hC]:c});return g.createElement(Gt,di({key:"sector-".concat(_?.startAngle,"-").concat(_?.endAngle,"-").concat(_.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Qc(v,_,S),{onMouseEnter:N(_,S),onMouseLeave:j(_,S),onClick:b(_,S)}),g.createElement(ab,di({option:o??O,index:S,shapeType:"sector",isActive:C},I)))}))}function NK(e){var t,{pieSettings:n,displayedData:a,cells:s,offset:o}=e,{cornerRadius:c,startAngle:d,endAngle:u,dataKey:p,nameKey:f,tooltipType:h}=n,y=Math.abs(n.minAngle),v=gK(d,u),N=Math.abs(v),j=a.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(O=>jt(O,p,0)!==0).length,_=(N>=360?b:b-1)*j,S=N-b*y-_,P=a.reduce((O,I)=>{var M=jt(I,p,0);return O+(Le(M)?M:0)},0),C;if(P>0){var A;C=a.map((O,I)=>{var M=jt(O,p,0),D=jt(O,f,I),z=hK(n,o,O),Y=(Le(M)?M:0)/P,W,re=Vt(Vt({},O),s&&s[I]&&s[I].props);I?W=A.endAngle+_r(v)*j*(M!==0?1:0):W=d;var U=W+_r(v)*((M!==0?y:0)+Y*S),R=(W+U)/2,Q=(z.innerRadius+z.outerRadius)/2,le=[{name:D,value:M,payload:re,dataKey:p,type:h,graphicalItemId:n.id}],H=sr(z.cx,z.cy,Q,R);return A=Vt(Vt(Vt(Vt({},n.presentationProps),{},{percent:Y,cornerRadius:typeof c=="string"?parseFloat(c):c,name:D,tooltipPayload:le,midAngle:R,middleRadius:Q,tooltipPosition:H},re),z),{},{value:M,dataKey:p,startAngle:W,endAngle:U,payload:re,paddingAngle:_r(v)*j}),A})}return C}function _K(e){var{showLabels:t,sectors:n,children:a}=e,s=g.useMemo(()=>!t||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,t]);return g.createElement(aq,{value:t?s:void 0},a)}function kK(e){var{props:t,previousSectorsRef:n,id:a}=e,{sectors:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:u,activeShape:p,inactiveShape:f,onAnimationStart:h,onAnimationEnd:y}=t,v=pl(t,"recharts-pie-"),N=n.current,[j,b]=g.useState(!1),_=g.useCallback(()=>{typeof y=="function"&&y(),b(!1)},[y]),S=g.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return g.createElement(_K,{showLabels:!j,sectors:s},g.createElement(fl,{animationId:v,begin:c,duration:d,isActive:o,easing:u,onAnimationStart:S,onAnimationEnd:_,key:v},P=>{var C=[],A=s&&s[0],O=A?.startAngle;return s?.forEach((I,M)=>{var D=N&&N[M],z=M>0?Vi(I,"paddingAngle",0):0;if(D){var Y=bt(D.endAngle-D.startAngle,I.endAngle-I.startAngle,P),W=Vt(Vt({},I),{},{startAngle:O+z,endAngle:O+Y+z});C.push(W),O=W.endAngle}else{var{endAngle:re,startAngle:U}=I,R=bt(0,re-U,P),Q=Vt(Vt({},I),{},{startAngle:O+z,endAngle:O+R+z});C.push(Q),O=Q.endAngle}}),n.current=C,g.createElement(Gt,null,g.createElement(wK,{sectors:C,activeShape:p,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:a}))}),g.createElement(jK,{showLabels:!j,sectors:s,props:t}),t.children)}var SK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:tr.area};function PK(e){var{id:t}=e,n=up(e,sK),{hide:a,className:s,rootTabIndex:o}=e,c=g.useMemo(()=>rb(e.children,_l),[e.children]),d=Be(f=>jq(f,t,c)),u=g.useRef(null),p=ft("recharts-pie",s);return a||d==null?(u.current=null,g.createElement(Gt,{tabIndex:o,className:p})):g.createElement(sn,{zIndex:e.zIndex},g.createElement(mK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Gt,{tabIndex:o,className:p},g.createElement(kK,{props:Vt(Vt({},n),{},{sectors:d}),previousSectorsRef:u,id:t})))}function dE(e){var t=Xt(e,SK),{id:n}=t,a=up(t,iK),s=rn(a);return g.createElement(dp,{id:n,type:"pie"},o=>g.createElement(g.Fragment,null,g.createElement(rK,{type:"pie",id:o,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),g.createElement(uK,di({},a,{id:o})),g.createElement(PK,di({},a,{id:o}))))}dE.displayName="Pie";var CK=["points"];function Ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Lx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(n),!0).forEach(function(a){AK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function AK(e,t,n){return(t=EK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},af.apply(null,arguments)}function TK(e,t){if(e==null)return{};var n,a,s=IK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function IK(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function MK(e){var{option:t,dotProps:n,className:a}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var s=ft(a,typeof t!="boolean"?t.className:""),o=n??{},{points:c}=o,d=TK(o,CK);return g.createElement(nE,af({},d,{className:s}))}function DK(e,t){return e==null?!1:t?!0:e.length===1}function uE(e){var{points:t,dot:n,className:a,dotClassName:s,dataKey:o,baseProps:c,needClip:d,clipPathId:u,zIndex:p=tr.scatter}=e;if(!DK(t,n))return null;var f=nb(n),h=QI(n),y=t.map((N,j)=>{var b,_,S=Lx(Lx(Lx({r:3},c),h),{},{index:j,cx:(b=N.x)!==null&&b!==void 0?b:void 0,cy:(_=N.y)!==null&&_!==void 0?_:void 0,dataKey:o,value:N.value,payload:N.payload,points:t});return g.createElement(MK,{key:"dot-".concat(j),option:n,dotProps:S,className:s})}),v={};return d&&u!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),g.createElement(sn,{zIndex:p},g.createElement(Gt,af({className:a},v),y))}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ik(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(a){LK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function LK(e,t,n){return(t=$K(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $K(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mE=0,RK={xAxis:{},yAxis:{},zAxis:{}},fE=gn({name:"cartesianAxis",initialState:RK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:zt()},replaceXAxis:{reducer(e,t){var{prev:n,next:a}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==a.id&&delete e.xAxis[n.id],e.xAxis[a.id]=a)},prepare:zt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:zt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:zt()},replaceYAxis:{reducer(e,t){var{prev:n,next:a}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==a.id&&delete e.yAxis[n.id],e.yAxis[a.id]=a)},prepare:zt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:zt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:zt()},replaceZAxis:{reducer(e,t){var{prev:n,next:a}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==a.id&&delete e.zAxis[n.id],e.zAxis[a.id]=a)},prepare:zt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:zt()},updateYAxisWidth(e,t){var{id:n,width:a}=t.payload,s=e.yAxis[n];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&a===o[1]&&a!==s.width&&Math.abs(a-o[0])<=1)return;var c=[...o,a].slice(-3);e.yAxis[n]=Ik(Ik({},e.yAxis[n]),{},{width:a,widthHistory:c})}}}}),{addXAxis:FK,replaceXAxis:BK,removeXAxis:UK,addYAxis:qK,replaceYAxis:KK,removeYAxis:WK,addZAxis:TZ,replaceZAxis:IZ,removeZAxis:MZ,updateYAxisWidth:HK}=fE.actions,VK=fE.reducer,GK=ae([fr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),YK=ae([GK,Ns,_s],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),mp=()=>Be(YK),XK=()=>Be(B7);function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function $x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(a){JK(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function JK(e,t,n){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZK(e){var t=QK(e,"string");return typeof t=="symbol"?t:t+""}function QK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eW=e=>{var{point:t,childIndex:n,mainColor:a,activeDot:s,dataKey:o,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:n,dataKey:o,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=$x($x($x({},d),Wi(s)),C0(s)),p;return g.isValidElement(s)?p=g.cloneElement(s,u):typeof s=="function"?p=s(u):p=g.createElement(nE,u),g.createElement(Gt,{className:"recharts-active-dot",clipPath:c},p)};function Yy(e){var{points:t,mainColor:n,activeDot:a,itemDataKey:s,clipPath:o,zIndex:c=tr.activeDot}=e,d=Be(ci),u=XK();if(t==null||u==null)return null;var p=t.find(f=>u.includes(f.payload));return Lt(p)?null:g.createElement(sn,{zIndex:c},g.createElement(eW,{point:p,childIndex:Number(d),mainColor:n,dataKey:s,activeDot:a,clipPath:o}))}var Dk=(e,t,n)=>{var a=n??e;if(!Lt(a))return Vr(a,t,0)},tW=(e,t,n)=>{var a={},s=e.filter(Xf),o=e.filter(p=>p.stackId==null),c=s.reduce((p,f)=>(p[f.stackId]||(p[f.stackId]=[]),p[f.stackId].push(f),p),a),d=Object.entries(c).map(p=>{var[f,h]=p,y=h.map(N=>N.dataKey),v=Dk(t,n,h[0].barSize);return{stackId:f,dataKeys:y,barSize:v}}),u=o.map(p=>{var f=[p.dataKey].filter(y=>y!=null),h=Dk(t,n,p.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...d,...u]};function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(a){rW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function rW(e,t,n){return(t=nW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sW(e,t,n,a,s){var o=a.length;if(!(o<1)){var c=Vr(e,n,0,!0),d,u=[];if(Ct(a[0].barSize)){var p=!1,f=n/o,h=a.reduce((_,S)=>_+(S.barSize||0),0);h+=(o-1)*c,h>=n&&(h-=(o-1)*c,c=0),h>=n&&f>0&&(p=!0,f*=.9,h=o*f);var y=(n-h)/2>>0,v={offset:y-c,size:0};d=a.reduce((_,S)=>{var P,C={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:v.offset+v.size+c,size:p?f:(P=S.barSize)!==null&&P!==void 0?P:0}},A=[..._,C];return v=A[A.length-1].position,A},u)}else{var N=Vr(t,n,0,!0);n-2*N-(o-1)*c<=0&&(c=0);var j=(n-2*N-(o-1)*c)/o;j>1&&(j>>=0);var b=Ct(s)?Math.min(j,s):j;d=a.reduce((_,S,P)=>[..._,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:N+(j+c)*P+(j-b)/2,size:b}}],u)}return d}}var iW=(e,t,n,a,s,o,c)=>{var d=Lt(c)?t:c,u=sW(n,a,s!==o?s:o,e,d);return s!==o&&u!=null&&(u=u.map(p=>Wu(Wu({},p),{},{position:Wu(Wu({},p.position),{},{offset:p.position.offset-s/2})}))),u},oW=(e,t)=>{var n=Yf(t);if(!(!e||n==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:o}=s;if(o)return o.find(c=>c.key===n)}}}};function lW(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ct(e.zIndex)?e.zIndex:t}var pE=e=>{var{chartData:t}=e,n=Ot(),a=Cr();return g.useEffect(()=>a?()=>{}:(n(q2(t)),()=>{n(q2(void 0))}),[t,n,a]),null},$k={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},hE=gn({name:"brush",initialState:$k,reducers:{setBrushSettings(e,t){return t.payload==null?$k:t.payload}}}),{setBrushSettings:DZ}=hE.actions,cW=hE.reducer;function dW(e,t,n){return(t=uW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class db{static create(t){return new db(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}dW(db,"EPS",1e-4);function fW(e){return(e%180+180)%180}var pW=function(t){var{width:n,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fW(s),c=o*Math.PI/180,d=Math.atan(a/n),u=c>d&&c<Math.PI-d?a/Math.sin(c):n/Math.cos(c);return Math.abs(u)},hW={dots:[],areas:[],lines:[]},gE=gn({name:"referenceElements",initialState:hW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=la(e).dots.findIndex(a=>a===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=la(e).areas.findIndex(a=>a===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=la(e).lines.findIndex(a=>a===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:LZ,removeDot:$Z,addArea:zZ,removeArea:RZ,addLine:FZ,removeLine:BZ}=gE.actions,gW=gE.reducer,xW=g.createContext(void 0),yW=e=>{var{children:t}=e,[n]=g.useState("".concat(Oc("recharts"),"-clip")),a=mp();if(a==null)return null;var{x:s,y:o,width:c,height:d}=a;return g.createElement(xW.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:s,y:o,height:d,width:c}))),t)};function xE(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],a=0;a<e.length;a+=t){var s=e[a];s!==void 0&&n.push(s)}return n}function vW(e,t,n){var a={width:e.width+t.width,height:e.height+t.height};return pW(a,n)}function bW(e,t,n){var a=n==="width",{x:s,y:o,width:c,height:d}=e;return t===1?{start:a?s:o,end:a?s+c:o+d}:{start:a?s+c:o+d,end:a?s:o}}function Wc(e,t,n,a,s){if(e*t<e*a||e*t>e*s)return!1;var o=n();return e*(t-e*o/2-a)>=0&&e*(t+e*o/2-s)<=0}function jW(e,t){return xE(e,t+1)}function wW(e,t,n,a,s){for(var o=(a||[]).slice(),{start:c,end:d}=t,u=0,p=1,f=c,h=function(){var N=a?.[u];if(N===void 0)return{v:xE(a,p)};var j=u,b,_=()=>(b===void 0&&(b=n(N,j)),b),S=N.coordinate,P=u===0||Wc(e,S,_,f,d);P||(u=0,f=c,p+=1),P&&(f=S+e*(_()/2+s),u+=p)},y;p<=o.length;)if(y=h(),y)return y.v;return[]}function NW(e,t,n,a,s){var o=(a||[]).slice(),c=o.length;if(c===0)return[];for(var{start:d,end:u}=t,p=1;p<=c;p++){for(var f=(c-1)%p,h=d,y=!0,v=function(){var S=a[N],P=N,C,A=()=>(C===void 0&&(C=n(S,P)),C),O=S.coordinate,I=N===f||Wc(e,O,A,h,u);if(!I)return y=!1,1;I&&(h=O+e*(A()/2+s))},N=f;N<c&&!v();N+=p);if(y){for(var j=[],b=f;b<c;b+=p)j.push(a[b]);return j}}return[]}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(a){_W(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function _W(e,t,n){return(t=kW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kW(e){var t=SW(e,"string");return typeof t=="symbol"?t:t+""}function SW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PW(e,t,n,a,s){for(var o=(a||[]).slice(),c=o.length,{start:d}=t,{end:u}=t,p=function(y){var v=o[y],N,j=()=>(N===void 0&&(N=n(v,y)),N);if(y===c-1){var b=e*(v.coordinate+e*j()/2-u);o[y]=v=Ur(Ur({},v),{},{tickCoord:b>0?v.coordinate-b*e:v.coordinate})}else o[y]=v=Ur(Ur({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var _=Wc(e,v.tickCoord,j,d,u);_&&(u=v.tickCoord-e*(j()/2+s),o[y]=Ur(Ur({},v),{},{isShow:!0}))}},f=c-1;f>=0;f--)p(f);return o}function CW(e,t,n,a,s,o){var c=(a||[]).slice(),d=c.length,{start:u,end:p}=t;if(o){var f=a[d-1],h=n(f,d-1),y=e*(f.coordinate+e*h/2-p);if(c[d-1]=f=Ur(Ur({},f),{},{tickCoord:y>0?f.coordinate-y*e:f.coordinate}),f.tickCoord!=null){var v=Wc(e,f.tickCoord,()=>h,u,p);v&&(p=f.tickCoord-e*(h/2+s),c[d-1]=Ur(Ur({},f),{},{isShow:!0}))}}for(var N=o?d-1:d,j=function(S){var P=c[S],C,A=()=>(C===void 0&&(C=n(P,S)),C);if(S===0){var O=e*(P.coordinate-e*A()/2-u);c[S]=P=Ur(Ur({},P),{},{tickCoord:O<0?P.coordinate-O*e:P.coordinate})}else c[S]=P=Ur(Ur({},P),{},{tickCoord:P.coordinate});if(P.tickCoord!=null){var I=Wc(e,P.tickCoord,A,u,p);I&&(u=P.tickCoord+e*(A()/2+s),c[S]=Ur(Ur({},P),{},{isShow:!0}))}},b=0;b<N;b++)j(b);return c}function ub(e,t,n){var{tick:a,ticks:s,viewBox:o,minTickGap:c,orientation:d,interval:u,tickFormatter:p,unit:f,angle:h}=e;if(!s||!s.length||!a)return[];if(Le(u)||ad.isSsr){var y;return(y=jW(s,Le(u)?u:0))!==null&&y!==void 0?y:[]}var v=[],N=d==="top"||d==="bottom"?"width":"height",j=f&&N==="width"?Pc(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},b=(P,C)=>{var A=typeof p=="function"?p(P.value,C):P.value;return N==="width"?vW(Pc(A,{fontSize:t,letterSpacing:n}),j,h):Pc(A,{fontSize:t,letterSpacing:n})[N]},_=s.length>=2?_r(s[1].coordinate-s[0].coordinate):1,S=bW(o,_,N);return u==="equidistantPreserveStart"?wW(_,S,b,s,c):u==="equidistantPreserveEnd"?NW(_,S,b,s,c):(u==="preserveStart"||u==="preserveStartEnd"?v=CW(_,S,b,s,c,u==="preserveStartEnd"):v=PW(_,S,b,s,c),v.filter(P=>P.isShow))}var AW=e=>{var{ticks:t,label:n,labelGapWithTick:a=5,tickSize:s=0,tickMargin:o=0}=e,c=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>c&&(c=h.width)}});var d=n?n.getBoundingClientRect().width:0,u=s+o,p=c+u+d+(n?a:0);return Math.round(p)}return 0},EW=["axisLine","width","height","className","hide","ticks","axisType"];function OW(e,t){if(e==null)return{};var n,a,s=TW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function TW(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zi.apply(null,arguments)}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(a){IW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function IW(e,t,n){return(t=MW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var is={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:tr.axis};function LW(e){var{x:t,y:n,width:a,height:s,orientation:o,mirror:c,axisLine:d,otherSvgProps:u}=e;if(!d)return null;var p=ar(ar(ar({},u),rn(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!c||o==="bottom"&&c);p=ar(ar({},p),{},{x1:t,y1:n+f*s,x2:t+a,y2:n+f*s})}else{var h=+(o==="left"&&!c||o==="right"&&c);p=ar(ar({},p),{},{x1:t+h*a,y1:n,x2:t+h*a,y2:n+s})}return g.createElement("line",Zi({},p,{className:ft("recharts-cartesian-axis-line",Vi(d,"className"))}))}function $W(e,t,n,a,s,o,c,d,u){var p,f,h,y,v,N,j=d?-1:1,b=e.tickSize||c,_=Le(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":p=f=e.coordinate,y=n+ +!d*s,h=y-j*b,N=h-j*u,v=_;break;case"left":h=y=e.coordinate,f=t+ +!d*a,p=f-j*b,v=p-j*u,N=_;break;case"right":h=y=e.coordinate,f=t+ +d*a,p=f+j*b,v=p+j*u,N=_;break;default:p=f=e.coordinate,y=n+ +d*s,h=y+j*b,N=h+j*u,v=_;break}return{line:{x1:p,y1:h,x2:f,y2:y},tick:{x:v,y:N}}}function zW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function RW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function FW(e){var{option:t,tickProps:n,value:a}=e,s,o=ft(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,ar(ar({},n),{},{className:o}));else if(typeof t=="function")s=t(ar(ar({},n),{},{className:o}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=ft(c,t?.className)),s=g.createElement(sp,Zi({},n,{className:c}),a)}return s}var BW=g.forwardRef((e,t)=>{var{ticks:n=[],tick:a,tickLine:s,stroke:o,tickFormatter:c,unit:d,padding:u,tickTextProps:p,orientation:f,mirror:h,x:y,y:v,width:N,height:j,tickSize:b,tickMargin:_,fontSize:S,letterSpacing:P,getTicksConfig:C,events:A,axisType:O}=e,I=ub(ar(ar({},C),{},{ticks:n}),S,P),M=zW(f,h),D=RW(f,h),z=rn(C),Y=Wi(a),W={};typeof s=="object"&&(W=s);var re=ar(ar({},z),{},{fill:"none"},W),U=I.map(le=>ar({entry:le},$W(le,y,v,N,j,f,b,h,_))),R=U.map(le=>{var{entry:H,line:ee}=le;return g.createElement(Gt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},s&&g.createElement("line",Zi({},re,ee,{className:ft("recharts-cartesian-axis-tick-line",Vi(s,"className"))})))}),Q=U.map((le,H)=>{var{entry:ee,tick:ce}=le,B=ar(ar(ar(ar({textAnchor:M,verticalAnchor:D},z),{},{stroke:"none",fill:o},Y),ce),{},{index:H,payload:ee,visibleTicksCount:I.length,tickFormatter:c,padding:u},p);return g.createElement(Gt,Zi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},Qc(A,ee,H)),a&&g.createElement(FW,{option:a,tickProps:B,value:"".concat(typeof c=="function"?c(ee.value,H):ee.value).concat(d||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},Q.length>0&&g.createElement(sn,{zIndex:tr.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},Q)),R.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},R))}),UW=g.forwardRef((e,t)=>{var{axisLine:n,width:a,height:s,className:o,hide:c,ticks:d,axisType:u}=e,p=OW(e,EW),[f,h]=g.useState(""),[y,v]=g.useState(""),N=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return AW({ticks:N.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=g.useCallback(b=>{if(b){var _=b.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=_;var S=_[0];if(S){var P=window.getComputedStyle(S),C=P.fontSize,A=P.letterSpacing;(C!==f||A!==y)&&(h(C),v(A))}}},[f,y]);return c||a!=null&&a<=0||s!=null&&s<=0?null:g.createElement(sn,{zIndex:e.zIndex},g.createElement(Gt,{className:ft("recharts-cartesian-axis",o)},g.createElement(LW,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:rn(e)}),g.createElement(BW,{ref:j,axisType:u,events:p,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement($U,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(VU,{label:e.label,labelRef:e.labelRef}),e.children)))}),mb=g.forwardRef((e,t)=>{var n=Xt(e,is);return g.createElement(UW,Zi({},n,{ref:t}))});mb.displayName="CartesianAxis";var qW=["x1","y1","x2","y2","key"],KW=["offset"],WW=["xAxisId","yAxisId"],HW=["xAxisId","yAxisId"];function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(a){VW(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function VW(e,t,n){return(t=GW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GW(e){var t=YW(e,"string");return typeof t=="symbol"?t:t+""}function YW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ri(){return Ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ri.apply(null,arguments)}function sf(e,t){if(e==null)return{};var n,a,s=XW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function XW(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var JW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:a,y:s,width:o,height:c,ry:d}=e;return g.createElement("rect",{x:a,y:s,ry:d,width:o,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yE(e){var{option:t,lineItemProps:n}=e,a;if(g.isValidElement(t))a=g.cloneElement(t,n);else if(typeof t=="function")a=t(n);else{var s,{x1:o,y1:c,x2:d,y2:u,key:p}=n,f=sf(n,qW),h=(s=rn(f))!==null&&s!==void 0?s:{},{offset:y}=h,v=sf(h,KW);a=g.createElement("line",Ri({},v,{x1:o,y1:c,x2:d,y2:u,fill:"none",key:p}))}return a}function ZW(e){var{x:t,width:n,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,d=sf(e,WW),u=s.map((p,f)=>{var h=Kr(Kr({},d),{},{x1:t,y1:p,x2:t+n,y2:p,key:"line-".concat(f),index:f});return g.createElement(yE,{key:"line-".concat(f),option:a,lineItemProps:h})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function QW(e){var{y:t,height:n,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,d=sf(e,HW),u=s.map((p,f)=>{var h=Kr(Kr({},d),{},{x1:p,y1:t,x2:p,y2:t+n,key:"line-".concat(f),index:f});return g.createElement(yE,{option:a,lineItemProps:h,key:"line-".concat(f)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function eH(e){var{horizontalFill:t,fillOpacity:n,x:a,y:s,width:o,height:c,horizontalPoints:d,horizontal:u=!0}=e;if(!u||!t||!t.length||d==null)return null;var p=d.map(h=>Math.round(h+s-s)).sort((h,y)=>h-y);s!==p[0]&&p.unshift(0);var f=p.map((h,y)=>{var v=!p[y+1],N=v?s+c-h:p[y+1]-h;if(N<=0)return null;var j=y%t.length;return g.createElement("rect",{key:"react-".concat(y),y:h,x:a,height:N,width:o,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tH(e){var{vertical:t=!0,verticalFill:n,fillOpacity:a,x:s,y:o,width:c,height:d,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var p=u.map(h=>Math.round(h+s-s)).sort((h,y)=>h-y);s!==p[0]&&p.unshift(0);var f=p.map((h,y)=>{var v=!p[y+1],N=v?s+c-h:p[y+1]-h;if(N<=0)return null;var j=y%n.length;return g.createElement("rect",{key:"react-".concat(y),x:h,y:o,width:N,height:d,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rH=(e,t)=>{var{xAxis:n,width:a,height:s,offset:o}=e;return dC(ub(Kr(Kr(Kr({},is),n),{},{ticks:uC(n),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,t)},nH=(e,t)=>{var{yAxis:n,width:a,height:s,offset:o}=e;return dC(ub(Kr(Kr(Kr({},is),n),{},{ticks:uC(n),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,t)},aH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:tr.grid};function os(e){var t=R0(),n=F0(),a=bC(),s=Kr(Kr({},Xt(e,aH)),{},{x:Le(e.x)?e.x:a.left,y:Le(e.y)?e.y:a.top,width:Le(e.width)?e.width:a.width,height:Le(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:c,x:d,y:u,width:p,height:f,syncWithTicks:h,horizontalValues:y,verticalValues:v}=s,N=Cr(),j=Be(D=>O2(D,"xAxis",o,N)),b=Be(D=>O2(D,"yAxis",c,N));if(!Ca(p)||!Ca(f)||!Le(d)||!Le(u))return null;var _=s.verticalCoordinatesGenerator||rH,S=s.horizontalCoordinatesGenerator||nH,{horizontalPoints:P,verticalPoints:C}=s;if((!P||!P.length)&&typeof S=="function"){var A=y&&y.length,O=S({yAxis:b?Kr(Kr({},b),{},{ticks:A?y:b.ticks}):void 0,width:t??p,height:n??f,offset:a},A?!0:h);Om(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(P=O)}if((!C||!C.length)&&typeof _=="function"){var I=v&&v.length,M=_({xAxis:j?Kr(Kr({},j),{},{ticks:I?v:j.ticks}):void 0,width:t??p,height:n??f,offset:a},I?!0:h);Om(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(C=M)}return g.createElement(sn,{zIndex:s.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(JW,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(eH,Ri({},s,{horizontalPoints:P})),g.createElement(tH,Ri({},s,{verticalPoints:C})),g.createElement(ZW,Ri({},s,{offset:a,horizontalPoints:P,xAxis:j,yAxis:b})),g.createElement(QW,Ri({},s,{offset:a,verticalPoints:C,xAxis:j,yAxis:b}))))}os.displayName="CartesianGrid";var sH={},vE=gn({name:"errorBars",initialState:sH,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]||(e[n]=[]),e[n].push(a)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:a,next:s}=t.payload;e[n]&&(e[n]=e[n].map(o=>o.dataKey===a.dataKey&&o.direction===a.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:a}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:UZ,replaceErrorBar:qZ,removeErrorBar:KZ}=vE.actions,iH=vE.reducer,oH=["children"];function lH(e,t){if(e==null)return{};var n,a,s=cH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function cH(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var dH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uH=g.createContext(dH);function bE(e){var{children:t}=e,n=lH(e,oH);return g.createElement(uH.Provider,{value:n},t)}function fp(e,t){var n,a,s=Be(p=>Ps(p,e)),o=Be(p=>Cs(p,t)),c=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:br.allowDataOverflow,d=(a=o?.allowDataOverflow)!==null&&a!==void 0?a:jr.allowDataOverflow,u=c||d;return{needClip:u,needClipX:c,needClipY:d}}function fb(e){var{xAxisId:t,yAxisId:n,clipPathId:a}=e,s=mp(),{needClipX:o,needClipY:c,needClip:d}=fp(t,n);if(!d||!s)return null;var{x:u,y:p,width:f,height:h}=s;return g.createElement("clipPath",{id:"clipPath-".concat(a)},g.createElement("rect",{x:o?u:u-f/2,y:c?p:p-h/2,width:o?f:f*2,height:c?h:h*2}))}var jE=(e,t,n,a)=>Oa(e,"xAxis",t,a),wE=(e,t,n,a)=>Ea(e,"xAxis",t,a),NE=(e,t,n,a)=>Oa(e,"yAxis",n,a),_E=(e,t,n,a)=>Ea(e,"yAxis",n,a),mH=ae([ut,jE,NE,wE,_E],(e,t,n,a,s)=>Ma(e,"xAxis")?oi(t,a,!1):oi(n,s,!1)),fH=(e,t,n,a,s)=>s;function pH(e){return e.type==="line"}var hH=ae([md,fH],(e,t)=>e.filter(pH).find(n=>n.id===t)),gH=ae([ut,jE,NE,wE,_E,hH,mH,mv],(e,t,n,a,s,o,c,d)=>{var{chartData:u,dataStartIndex:p,dataEndIndex:f}=d;if(!(o==null||t==null||n==null||a==null||s==null||a.length===0||s.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:y}=o,v;if(y!=null&&y.length>0?v=y:v=u?.slice(p,f+1),v!=null)return rV({layout:e,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:h,bandSize:c,displayedData:v})}});function kE(e){var t=Wi(e),n=3,a=2;if(t!=null){var{r:s,strokeWidth:o}=t,c=Number(s),d=Number(o);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(d)||d<0)&&(d=a),{r:c,strokeWidth:d}}return{r:n,strokeWidth:a}}var zx={exports:{}},Rx={};var Bk;function xH(){if(Bk)return Rx;Bk=1;var e=ol();function t(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var n=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Rx.useSyncExternalStoreWithSelector=function(u,p,f,h,y){var v=s(null);if(v.current===null){var N={hasValue:!1,value:null};v.current=N}else N=v.current;v=c(function(){function b(A){if(!_){if(_=!0,S=A,A=h(A),y!==void 0&&N.hasValue){var O=N.value;if(y(O,A))return P=O}return P=A}if(O=P,n(S,A))return O;var I=h(A);return y!==void 0&&y(O,I)?(S=A,O):(S=A,P=I)}var _=!1,S,P,C=f===void 0?null:f;return[function(){return b(p())},C===null?void 0:function(){return b(C())}]},[p,f,h,y]);var j=a(u,v[0],v[1]);return o(function(){N.hasValue=!0,N.value=j},[j]),d(j),j},Rx}var Uk;function yH(){return Uk||(Uk=1,zx.exports=xH()),zx.exports}yH();function vH(e){e()}function bH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vH(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let a=e;for(;a;)n.push(a),a=a.next;return n},subscribe(n){let a=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var qk={notify(){},get:()=>[]};function jH(e,t){let n,a=qk,s=0,o=!1;function c(j){f();const b=a.subscribe(j);let _=!1;return()=>{_||(_=!0,b(),h())}}function d(){a.notify()}function u(){N.onStateChange&&N.onStateChange()}function p(){return o}function f(){s++,n||(n=e.subscribe(u),a=bH())}function h(){s--,n&&s===0&&(n(),n=void 0,a.clear(),a=qk)}function y(){o||(o=!0,f())}function v(){o&&(o=!1,h())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:p,trySubscribe:y,tryUnsubscribe:v,getListeners:()=>a};return N}var wH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NH=wH(),_H=()=>typeof navigator<"u"&&navigator.product==="ReactNative",kH=_H(),SH=()=>NH||kH?g.useLayoutEffect:g.useEffect,PH=SH();function Kk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function CH(e,t){if(Kk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Kk(e[n[s]],t[n[s]]))return!1;return!0}var AH=Symbol.for("react-redux-context"),EH=typeof globalThis<"u"?globalThis:{};function OH(){if(!g.createContext)return{};const e=EH[AH]??=new Map;let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var TH=OH();function IH(e){const{children:t,context:n,serverState:a,store:s}=e,o=g.useMemo(()=>{const u=jH(s);return{store:s,subscription:u,getServerState:a?()=>a:void 0}},[s,a]),c=g.useMemo(()=>s.getState(),[s]);PH(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,c]);const d=n||TH;return g.createElement(d.Provider,{value:o},t)}var MH=IH,DH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function LH(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function vd(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of n)if(DH.has(a)){if(e[a]==null&&t[a]==null)continue;if(!CH(e[a],t[a]))return!1}else if(!LH(e[a],t[a]))return!1;return!0}var $H=["id"],zH=["type","layout","connectNulls","needClip","shape"],RH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Hc.apply(null,arguments)}function Wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(n),!0).forEach(function(a){FH(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function FH(e,t,n){return(t=BH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BH(e){var t=UH(e,"string");return typeof t=="symbol"?t:t+""}function UH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pb(e,t){if(e==null)return{};var n,a,s=qH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function qH(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var KH=e=>{var{dataKey:t,name:n,stroke:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:a,value:mi(n,t),payload:e}]},WH=g.memo(e=>{var{dataKey:t,data:n,stroke:a,strokeWidth:s,fill:o,name:c,hide:d,unit:u,tooltipType:p,id:f}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:mi(c,t),hide:d,type:p,color:a,unit:u,graphicalItemId:f}};return g.createElement(cp,{tooltipEntrySettings:h})}),SE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function HH(e,t){for(var n=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...n];return a}var VH=(e,t,n)=>{var a=n.reduce((h,y)=>h+y);if(!a)return SE(t,e);for(var s=Math.floor(e/a),o=e%a,c=t-e,d=[],u=0,p=0;u<n.length;p+=n[u],++u)if(p+n[u]>o){d=[...n.slice(0,u),o-p];break}var f=d.length%2===0?[0,c]:[c];return[...HH(n,s),...d,...f].map(h=>"".concat(h,"px")).join(", ")};function GH(e){var{clipPathId:t,points:n,props:a}=e,{dot:s,dataKey:o,needClip:c}=a,{id:d}=a,u=pb(a,$H),p=rn(u);return g.createElement(uE,{points:n,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:p,needClip:c,clipPathId:t})}function YH(e){var{showLabels:t,children:n,points:a}=e,s=g.useMemo(()=>a?.map(o=>{var c,d,u={x:(c=o.x)!==null&&c!==void 0?c:0,y:(d=o.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ba(ba({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[a]);return g.createElement(Qv,{value:t?s:void 0},n)}function Hk(e){var{clipPathId:t,pathRef:n,points:a,strokeDasharray:s,props:o}=e,{type:c,layout:d,connectNulls:u,needClip:p,shape:f}=o,h=pb(o,zH),y=ba(ba({},Gr(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:a,type:c,layout:d,connectNulls:u,strokeDasharray:s??o.strokeDasharray});return g.createElement(g.Fragment,null,a?.length>1&&g.createElement(ab,Hc({shapeType:"curve",option:f},y,{pathRef:n})),g.createElement(GH,{points:a,clipPathId:t,props:o}))}function XH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function JH(e){var{clipPathId:t,props:n,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:c,strokeDasharray:d,isAnimationActive:u,animationBegin:p,animationDuration:f,animationEasing:h,animateNewValues:y,width:v,height:N,onAnimationEnd:j,onAnimationStart:b}=n,_=s.current,S=pl(c,"recharts-line-"),P=g.useRef(S),[C,A]=g.useState(!1),O=!C,I=g.useCallback(()=>{typeof j=="function"&&j(),A(!1)},[j]),M=g.useCallback(()=>{typeof b=="function"&&b(),A(!0)},[b]),D=XH(a.current),z=g.useRef(0);P.current!==S&&(z.current=o.current,P.current=S);var Y=z.current;return g.createElement(YH,{points:c,showLabels:O},n.children,g.createElement(fl,{animationId:S,begin:p,duration:f,isActive:u,easing:h,onAnimationEnd:I,onAnimationStart:M,key:S},W=>{var re=bt(Y,D+Y,W),U=Math.min(re,D),R;if(u)if(d){var Q="".concat(d).split(/[,\s]+/gim).map(ee=>parseFloat(ee));R=VH(U,D,Q)}else R=SE(D,U);else R=d==null?void 0:String(d);if(W>0&&D>0&&(s.current=c,o.current=Math.max(o.current,U)),_){var le=_.length/c.length,H=W===1?c:c.map((ee,ce)=>{var B=Math.floor(ce*le);if(_[B]){var $=_[B];return ba(ba({},ee),{},{x:bt($.x,ee.x,W),y:bt($.y,ee.y,W)})}return y?ba(ba({},ee),{},{x:bt(v*2,ee.x,W),y:bt(N/2,ee.y,W)}):ba(ba({},ee),{},{x:ee.x,y:ee.y})});return s.current=H,g.createElement(Hk,{props:n,points:H,clipPathId:t,pathRef:a,strokeDasharray:R})}return g.createElement(Hk,{props:n,points:c,clipPathId:t,pathRef:a,strokeDasharray:R})}),g.createElement(ip,{label:n.label}))}function ZH(e){var{clipPathId:t,props:n}=e,a=g.useRef(null),s=g.useRef(0),o=g.useRef(null);return g.createElement(JH,{props:n,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o})}var QH=(e,t)=>{var n,a;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:jt(e.payload,t)}};class eV extends g.Component{render(){var{hide:t,dot:n,points:a,className:s,xAxisId:o,yAxisId:c,top:d,left:u,width:p,height:f,id:h,needClip:y,zIndex:v}=this.props;if(t)return null;var N=ft("recharts-line",s),j=h,{r:b,strokeWidth:_}=kE(n),S=nb(n),P=b*2+_,C=y?"url(#clipPath-".concat(S?"":"dots-").concat(j,")"):void 0;return g.createElement(sn,{zIndex:v},g.createElement(Gt,{className:N},y&&g.createElement("defs",null,g.createElement(fb,{clipPathId:j,xAxisId:o,yAxisId:c}),!S&&g.createElement("clipPath",{id:"clipPath-dots-".concat(j)},g.createElement("rect",{x:u-P/2,y:d-P/2,width:p+P,height:f+P}))),g.createElement(bE,{xAxisId:o,yAxisId:c,data:a,dataPointFormatter:QH,errorBarOffset:0},g.createElement(ZH,{props:this.props,clipPathId:j}))),g.createElement(Yy,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var PE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:tr.line,type:"linear"};function tV(e){var t=Xt(e,PE),{activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:o,animationEasing:c,connectNulls:d,dot:u,hide:p,isAnimationActive:f,label:h,legendType:y,xAxisId:v,yAxisId:N,id:j}=t,b=pb(t,RH),{needClip:_}=fp(v,N),S=mp(),P=fi(),C=Cr(),A=Be(z=>gH(z,v,N,C,j));if(P!=="horizontal"&&P!=="vertical"||A==null||S==null)return null;var{height:O,width:I,x:M,y:D}=S;return g.createElement(eV,Hc({},b,{id:j,connectNulls:d,dot:u,activeDot:n,animateNewValues:a,animationBegin:s,animationDuration:o,animationEasing:c,isAnimationActive:f,hide:p,label:h,legendType:y,xAxisId:v,yAxisId:N,points:A,layout:P,height:O,width:I,left:M,top:D,needClip:_}))}function rV(e){var{layout:t,xAxis:n,yAxis:a,xAxisTicks:s,yAxisTicks:o,dataKey:c,bandSize:d,displayedData:u}=e;return u.map((p,f)=>{var h=jt(p,c);if(t==="horizontal"){var y=Em({axis:n,ticks:s,bandSize:d,entry:p,index:f}),v=Lt(h)?null:a.scale(h);return{x:y,y:v,value:h,payload:p}}var N=Lt(h)?null:n.scale(h),j=Em({axis:a,ticks:o,bandSize:d,entry:p,index:f});return N==null||j==null?null:{x:N,y:j,value:h,payload:p}}).filter(Boolean)}function nV(e){var t=Xt(e,PE),n=Cr();return g.createElement(dp,{id:t.id,type:"line"},a=>g.createElement(g.Fragment,null,g.createElement(lb,{legendPayload:KH(t)}),g.createElement(WH,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),g.createElement(cb,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(tV,Hc({},t,{id:a}))))}var CE=g.memo(nV,vd);CE.displayName="Line";function Da(e,t){var n,a;return(n=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&n!==void 0?n:mE}function La(e,t){var n,a;return(n=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&n!==void 0?n:mE}var AE=(e,t,n)=>Oa(e,"xAxis",Da(e,t),n),EE=(e,t,n)=>Ea(e,"xAxis",Da(e,t),n),OE=(e,t,n)=>Oa(e,"yAxis",La(e,t),n),TE=(e,t,n)=>Ea(e,"yAxis",La(e,t),n),aV=ae([ut,AE,OE,EE,TE],(e,t,n,a,s)=>Ma(e,"xAxis")?oi(t,a,!1):oi(n,s,!1)),sV=(e,t)=>t,IE=ae([md,sV],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),ME=e=>{var t=ut(e),n=Ma(t,"xAxis");return n?"yAxis":"xAxis"},iV=(e,t)=>{var n=ME(e);return n==="yAxis"?La(e,t):Da(e,t)},oV=(e,t,n)=>Zm(e,ME(e),iV(e,t),n),lV=ae([IE,oV],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:a}=e,s=Yf(e);if(!(a==null||s==null)){var o=(n=t[a])===null||n===void 0?void 0:n.stackedData,c=o?.find(d=>d.key===s);if(c!=null)return c.map(d=>[d[0],d[1]])}}}),cV=ae([ut,AE,OE,EE,TE,lV,jA,aV,IE,RF],(e,t,n,a,s,o,c,d,u,p)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:y}=c;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:v}=u,N;if(v&&v.length>0?N=v:N=f?.slice(h,y+1),N!=null)return CV({layout:e,xAxis:t,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataStartIndex:h,areaSettings:u,stackedData:o,displayedData:N,chartBaseValue:p,bandSize:d})}}),dV=["id"],uV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qi.apply(null,arguments)}function DE(e,t){if(e==null)return{};var n,a,s=mV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function mV(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(n),!0).forEach(function(a){fV(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fV(e,t,n){return(t=pV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pV(e){var t=hV(e,"string");return typeof t=="symbol"?t:t+""}function hV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function of(e,t){return e&&e!=="none"?e:t}var gV=e=>{var{dataKey:t,name:n,stroke:a,fill:s,legendType:o,hide:c}=e;return[{inactive:c,dataKey:t,type:o,color:of(a,s),value:mi(n,t),payload:e}]},xV=g.memo(e=>{var{dataKey:t,data:n,stroke:a,strokeWidth:s,fill:o,name:c,hide:d,unit:u,tooltipType:p,id:f}=e,h={dataDefinedOnItem:n,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:mi(c,t),hide:d,type:p,color:of(a,o),unit:u,graphicalItemId:f}};return g.createElement(cp,{tooltipEntrySettings:h})});function yV(e){var{clipPathId:t,points:n,props:a}=e,{needClip:s,dot:o,dataKey:c}=a,d=rn(a);return g.createElement(uE,{points:n,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function vV(e){var{showLabels:t,children:n,points:a}=e,s=a.map(o=>{var c,d,u={x:(c=o.x)!==null&&c!==void 0?c:0,y:(d=o.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ho(Ho({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return g.createElement(Qv,{value:t?s:void 0},n)}function Gk(e){var{points:t,baseLine:n,needClip:a,clipPathId:s,props:o}=e,{layout:c,type:d,stroke:u,connectNulls:p,isRange:f}=o,{id:h}=o,y=DE(o,dV),v=rn(y),N=Gr(y);return g.createElement(g.Fragment,null,t?.length>1&&g.createElement(Gt,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},g.createElement(Go,qi({},N,{id:h,points:t,connectNulls:p,type:d,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&g.createElement(Go,qi({},v,{className:"recharts-area-curve",layout:c,type:d,connectNulls:p,fill:"none",points:t})),u!=="none"&&f&&g.createElement(Go,qi({},v,{className:"recharts-area-curve",layout:c,type:d,connectNulls:p,fill:"none",points:n}))),g.createElement(yV,{points:t,props:y,clipPathId:s}))}function bV(e){var t,n,{alpha:a,baseLine:s,points:o,strokeWidth:c}=e,d=(t=o[0])===null||t===void 0?void 0:t.y,u=(n=o[o.length-1])===null||n===void 0?void 0:n.y;if(!Ct(d)||!Ct(u))return null;var p=a*Math.abs(d-u),f=Math.max(...o.map(h=>h.x||0));return Le(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.x||0),f)),Le(f)?g.createElement("rect",{x:0,y:d<u?d:d-p,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}function jV(e){var t,n,{alpha:a,baseLine:s,points:o,strokeWidth:c}=e,d=(t=o[0])===null||t===void 0?void 0:t.x,u=(n=o[o.length-1])===null||n===void 0?void 0:n.x;if(!Ct(d)||!Ct(u))return null;var p=a*Math.abs(d-u),f=Math.max(...o.map(h=>h.y||0));return Le(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.y||0),f)),Le(f)?g.createElement("rect",{x:d<u?d:d-p,y:0,width:p,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}function wV(e){var{alpha:t,layout:n,points:a,baseLine:s,strokeWidth:o}=e;return n==="vertical"?g.createElement(bV,{alpha:t,points:a,baseLine:s,strokeWidth:o}):g.createElement(jV,{alpha:t,points:a,baseLine:s,strokeWidth:o})}function NV(e){var{needClip:t,clipPathId:n,props:a,previousPointsRef:s,previousBaselineRef:o}=e,{points:c,baseLine:d,isAnimationActive:u,animationBegin:p,animationDuration:f,animationEasing:h,onAnimationStart:y,onAnimationEnd:v}=a,N=g.useMemo(()=>({points:c,baseLine:d}),[c,d]),j=pl(N,"recharts-area-"),b=r$(),[_,S]=g.useState(!1),P=!_,C=g.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),A=g.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]);if(b==null)return null;var O=s.current,I=o.current;return g.createElement(vV,{showLabels:P,points:c},a.children,g.createElement(fl,{animationId:j,begin:p,duration:f,isActive:u,easing:h,onAnimationEnd:C,onAnimationStart:A,key:j},M=>{if(O){var D=O.length/c.length,z=M===1?c:c.map((W,re)=>{var U=Math.floor(re*D);if(O[U]){var R=O[U];return Ho(Ho({},W),{},{x:bt(R.x,W.x,M),y:bt(R.y,W.y,M)})}return W}),Y;return Le(d)?Y=bt(I,d,M):Lt(d)||Bn(d)?Y=bt(I,0,M):Y=d.map((W,re)=>{var U=Math.floor(re*D);if(Array.isArray(I)&&I[U]){var R=I[U];return Ho(Ho({},W),{},{x:bt(R.x,W.x,M),y:bt(R.y,W.y,M)})}return W}),M>0&&(s.current=z,o.current=Y),g.createElement(Gk,{points:z,baseLine:Y,needClip:t,clipPathId:n,props:a})}return M>0&&(s.current=c,o.current=d),g.createElement(Gt,null,u&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(n)},g.createElement(wV,{alpha:M,points:c,baseLine:d,layout:b,strokeWidth:a.strokeWidth}))),g.createElement(Gt,{clipPath:"url(#animationClipPath-".concat(n,")")},g.createElement(Gk,{points:c,baseLine:d,needClip:t,clipPathId:n,props:a})))}),g.createElement(ip,{label:a.label}))}function _V(e){var{needClip:t,clipPathId:n,props:a}=e,s=g.useRef(null),o=g.useRef();return g.createElement(NV,{needClip:t,clipPathId:n,props:a,previousPointsRef:s,previousBaselineRef:o})}class kV extends g.PureComponent{render(){var{hide:t,dot:n,points:a,className:s,top:o,left:c,needClip:d,xAxisId:u,yAxisId:p,width:f,height:h,id:y,baseLine:v,zIndex:N}=this.props;if(t)return null;var j=ft("recharts-area",s),b=y,{r:_,strokeWidth:S}=kE(n),P=nb(n),C=_*2+S,A=d?"url(#clipPath-".concat(P?"":"dots-").concat(b,")"):void 0;return g.createElement(sn,{zIndex:N},g.createElement(Gt,{className:j},d&&g.createElement("defs",null,g.createElement(fb,{clipPathId:b,xAxisId:u,yAxisId:p}),!P&&g.createElement("clipPath",{id:"clipPath-dots-".concat(b)},g.createElement("rect",{x:c-C/2,y:o-C/2,width:f+C,height:h+C}))),g.createElement(_V,{needClip:d,clipPathId:b,props:this.props})),g.createElement(Yy,{points:a,mainColor:of(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(v)&&g.createElement(Yy,{points:v,mainColor:of(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var LE={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:tr.area};function SV(e){var t,n=Xt(e,LE),{activeDot:a,animationBegin:s,animationDuration:o,animationEasing:c,connectNulls:d,dot:u,fill:p,fillOpacity:f,hide:h,isAnimationActive:y,legendType:v,stroke:N,xAxisId:j,yAxisId:b}=n,_=DE(n,uV),S=fi(),P=$4(),{needClip:C}=fp(j,b),A=Cr(),{points:O,isRange:I,baseLine:M}=(t=Be(U=>cV(U,e.id,A)))!==null&&t!==void 0?t:{},D=mp();if(S!=="horizontal"&&S!=="vertical"||D==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:z,width:Y,x:W,y:re}=D;return!O||!O.length?null:g.createElement(kV,qi({},_,{activeDot:a,animationBegin:s,animationDuration:o,animationEasing:c,baseLine:M,connectNulls:d,dot:u,fill:p,fillOpacity:f,height:z,hide:h,layout:S,isAnimationActive:y==="auto"?!ad.isSsr:y,isRange:I,legendType:v,needClip:C,points:O,stroke:N,width:Y,left:W,top:re,xAxisId:j,yAxisId:b}))}var PV=(e,t,n,a,s)=>{var o=n??t;if(Le(o))return o;var c=e==="horizontal"?s:a,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),p=Math.min(d[0],d[1]);return o==="dataMin"?p:o==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]};function CV(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:a},stackedData:s,layout:o,chartBaseValue:c,xAxis:d,yAxis:u,displayedData:p,dataStartIndex:f,xAxisTicks:h,yAxisTicks:y,bandSize:v}=e,N=s&&s.length,j=PV(o,c,n,d,u),b=o==="horizontal",_=!1,S=p.map((C,A)=>{var O,I,M;if(N)M=s[f+A];else{var D=jt(C,a);Array.isArray(D)?(M=D,_=!0):M=[j,D]}var z=(O=(I=M)===null||I===void 0?void 0:I[1])!==null&&O!==void 0?O:null,Y=z==null||N&&!t&&jt(C,a)==null;return b?{x:Em({axis:d,ticks:h,bandSize:v,entry:C,index:A}),y:Y?null:u.scale(z),value:M,payload:C}:{x:Y?null:d.scale(z),y:Em({axis:u,ticks:y,bandSize:v,entry:C,index:A}),value:M,payload:C}}),P;return N||_?P=S.map(C=>{var A=Array.isArray(C.value)?C.value[0]:null;return b?{x:C.x,y:A!=null&&C.y!=null?u.scale(A):null,payload:C.payload}:{x:A!=null?d.scale(A):null,y:C.y,payload:C.payload}}):P=b?u.scale(j):d.scale(j),{points:S,baseLine:P,isRange:_}}function AV(e){var t=Xt(e,LE),n=Cr();return g.createElement(dp,{id:t.id,type:"area"},a=>g.createElement(g.Fragment,null,g.createElement(lb,{legendPayload:gV(t)}),g.createElement(xV,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),g.createElement(cb,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:mC(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),g.createElement(SV,qi({},t,{id:a}))))}var Cc=g.memo(AV,vd);Cc.displayName="Area";var EV="Invariant failed";function OV(e,t){throw new Error(EV)}function Xy(){return Xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Xy.apply(null,arguments)}function lf(e){return g.createElement(ab,Xy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var TV=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Le(t))return t;var o=Le(a)||Lt(a);return o?t(a,s):(o||OV(),n)}},IV=(e,t,n)=>n,MV=(e,t)=>t,bd=ae([md,MV],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),DV=ae([bd],e=>e?.maxBarSize),LV=(e,t,n,a)=>a,$V=ae([ut,md,Da,La,IV],(e,t,n,a,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===n:o.yAxisId===a).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),zV=(e,t,n)=>{var a=ut(e),s=Da(e,t),o=La(e,t);if(!(s==null||o==null))return a==="horizontal"?Zm(e,"yAxis",o,n):Zm(e,"xAxis",s,n)},RV=(e,t)=>{var n=ut(e),a=Da(e,t),s=La(e,t);if(!(a==null||s==null))return n==="horizontal"?E2(e,"xAxis",a):E2(e,"yAxis",s)},FV=ae([$V,zF,RV],tW),BV=(e,t,n)=>{var a,s,o=bd(e,t);if(o!=null){var c=Da(e,t),d=La(e,t);if(!(c==null||d==null)){var u=ut(e),p=LA(e),{maxBarSize:f}=o,h=Lt(f)?p:f,y,v;return u==="horizontal"?(y=Oa(e,"xAxis",c,n),v=Ea(e,"xAxis",c,n)):(y=Oa(e,"yAxis",d,n),v=Ea(e,"yAxis",d,n)),(a=(s=oi(y,v,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}}},$E=(e,t,n)=>{var a=ut(e),s=Da(e,t),o=La(e,t);if(!(s==null||o==null)){var c,d;return a==="horizontal"?(c=Oa(e,"xAxis",s,n),d=Ea(e,"xAxis",s,n)):(c=Oa(e,"yAxis",o,n),d=Ea(e,"yAxis",o,n)),oi(c,d)}},UV=ae([FV,LA,$F,$A,BV,$E,DV],iW),qV=(e,t,n)=>{var a=Da(e,t);if(a!=null)return Oa(e,"xAxis",a,n)},KV=(e,t,n)=>{var a=La(e,t);if(a!=null)return Oa(e,"yAxis",a,n)},WV=(e,t,n)=>{var a=Da(e,t);if(a!=null)return Ea(e,"xAxis",a,n)},HV=(e,t,n)=>{var a=La(e,t);if(a!=null)return Ea(e,"yAxis",a,n)},VV=ae([UV,bd],(e,t)=>{if(!(e==null||t==null)){var n=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),GV=ae([zV,bd],oW),YV=ae([fr,$0,qV,KV,WV,HV,VV,ut,jA,$E,GV,bd,LV],(e,t,n,a,s,o,c,d,u,p,f,h,y)=>{var{chartData:v,dataStartIndex:N,dataEndIndex:j}=u;if(!(h==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||n==null||a==null||s==null||o==null||p==null)){var{data:b}=h,_;if(b!=null&&b.length>0?_=b:_=v?.slice(N,j+1),_!=null)return _G({layout:d,barSettings:h,pos:c,parentViewBox:t,bandSize:p,xAxis:n,yAxis:a,xAxisTicks:s,yAxisTicks:o,stackedData:f,displayedData:_,offset:e,cells:y,dataStartIndex:N})}}),XV=["index"];function Jy(){return Jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jy.apply(null,arguments)}function JV(e,t){if(e==null)return{};var n,a,s=ZV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ZV(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var zE=g.createContext(void 0),QV=e=>{var t=g.useContext(zE);if(t!=null)return t.stackId;if(e!=null)return mC(e)},eG=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),tG=e=>{var t=g.useContext(zE);if(t!=null){var{stackId:n}=t;return"url(#".concat(eG(n,e),")")}},rG=e=>{var{index:t}=e,n=JV(e,XV),a=tG(t);return g.createElement(Gt,Jy({className:"recharts-bar-stack-layer",clipPath:a},n))},nG=["onMouseEnter","onMouseLeave","onClick"],aG=["value","background","tooltipPosition"],sG=["id"],iG=["onMouseEnter","onClick","onMouseLeave"];function bs(){return bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bs.apply(null,arguments)}function Yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(n),!0).forEach(function(a){oG(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function oG(e,t,n){return(t=lG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cf(e,t){if(e==null)return{};var n,a,s=dG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function dG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var uG=e=>{var{dataKey:t,name:n,fill:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:a,value:mi(n,t),payload:e}]},mG=g.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:a,fill:s,name:o,hide:c,unit:d,tooltipType:u,id:p}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:mi(o,t),hide:c,type:u,color:s,unit:d,graphicalItemId:p}};return g.createElement(cp,{tooltipEntrySettings:f})});function fG(e){var t=Be(ci),{data:n,dataKey:a,background:s,allOtherBarProps:o}=e,{onMouseEnter:c,onMouseLeave:d,onClick:u}=o,p=cf(o,nG),f=sb(c,a,o.id),h=ib(d),y=ob(u,a,o.id);if(!s||n==null)return null;var v=Wi(s);return g.createElement(sn,{zIndex:lW(s,tr.barBackground)},n.map((N,j)=>{var{value:b,background:_,tooltipPosition:S}=N,P=cf(N,aG);if(!_)return null;var C=f(N,j),A=h(N,j),O=y(N,j),I=en(en(en(en(en({option:s,isActive:String(j)===t},P),{},{fill:"#eee"},_),v),Qc(p,N,j)),{},{onMouseEnter:C,onMouseLeave:A,onClick:O,dataKey:a,index:j,className:"recharts-bar-background-rectangle"});return g.createElement(lf,bs({key:"background-bar-".concat(j)},I))}))}function pG(e){var{showLabels:t,children:n,rects:a}=e,s=a?.map(o=>{var c={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return en(en({},c),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:c,fill:o.fill})});return g.createElement(Qv,{value:t?s:void 0},n)}function hG(e){var{shape:t,activeBar:n,baseProps:a,entry:s,index:o,dataKey:c}=e,d=Be(ci),u=Be(Vv),p=n&&String(o)===d&&(u==null||c===u),f=p?n:t;return p?g.createElement(sn,{zIndex:tr.activeBar},g.createElement(lf,bs({},a,{name:String(a.name)},s,{isActive:p,option:f,index:o,dataKey:c}))):g.createElement(lf,bs({},a,{name:String(a.name)},s,{isActive:p,option:f,index:o,dataKey:c}))}function gG(e){var{shape:t,baseProps:n,entry:a,index:s,dataKey:o}=e;return g.createElement(lf,bs({},n,{name:String(n.name)},a,{isActive:!1,option:t,index:s,dataKey:o}))}function xG(e){var t,{data:n,props:a}=e,s=(t=rn(a))!==null&&t!==void 0?t:{},{id:o}=s,c=cf(s,sG),{shape:d,dataKey:u,activeBar:p}=a,{onMouseEnter:f,onClick:h,onMouseLeave:y}=a,v=cf(a,iG),N=sb(f,u,o),j=ib(y),b=ob(h,u,o);return n?g.createElement(g.Fragment,null,n.map((_,S)=>g.createElement(rG,bs({index:S,key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(S),className:"recharts-bar-rectangle"},Qc(v,_,S),{onMouseEnter:N(_,S),onMouseLeave:j(_,S),onClick:b(_,S)}),p?g.createElement(hG,{shape:d,activeBar:p,baseProps:c,entry:_,index:S,dataKey:u}):g.createElement(gG,{shape:d,baseProps:c,entry:_,index:S,dataKey:u})))):null}function yG(e){var{props:t,previousRectanglesRef:n}=e,{data:a,layout:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationEnd:p,onAnimationStart:f}=t,h=n.current,y=pl(t,"recharts-bar-"),[v,N]=g.useState(!1),j=!v,b=g.useCallback(()=>{typeof p=="function"&&p(),N(!1)},[p]),_=g.useCallback(()=>{typeof f=="function"&&f(),N(!0)},[f]);return g.createElement(pG,{showLabels:j,rects:a},g.createElement(fl,{animationId:y,begin:c,duration:d,isActive:o,easing:u,onAnimationEnd:b,onAnimationStart:_,key:y},S=>{var P=S===1?a:a?.map((C,A)=>{var O=h&&h[A];if(O)return en(en({},C),{},{x:bt(O.x,C.x,S),y:bt(O.y,C.y,S),width:bt(O.width,C.width,S),height:bt(O.height,C.height,S)});if(s==="horizontal"){var I=bt(0,C.height,S),M=bt(C.stackedBarStart,C.y,S);return en(en({},C),{},{y:M,height:I})}var D=bt(0,C.width,S),z=bt(C.stackedBarStart,C.x,S);return en(en({},C),{},{width:D,x:z})});return S>0&&(n.current=P??null),P==null?null:g.createElement(Gt,null,g.createElement(xG,{props:t,data:P}))}),g.createElement(ip,{label:t.label}),t.children)}function vG(e){var t=g.useRef(null);return g.createElement(yG,{previousRectanglesRef:t,props:e})}var RE=0,bG=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:jt(e,t)}};class jG extends g.PureComponent{render(){var{hide:t,data:n,dataKey:a,className:s,xAxisId:o,yAxisId:c,needClip:d,background:u,id:p}=this.props;if(t||n==null)return null;var f=ft("recharts-bar",s),h=p;return g.createElement(Gt,{className:f,id:p},d&&g.createElement("defs",null,g.createElement(fb,{clipPathId:h,xAxisId:o,yAxisId:c})),g.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(h,")"):void 0},g.createElement(fG,{data:n,dataKey:a,background:u,allOtherBarProps:this.props}),g.createElement(vG,this.props)))}}var wG={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:RE,xAxisId:0,yAxisId:0,zIndex:tr.bar};function NG(e){var{xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:o,activeBar:c,animationBegin:d,animationDuration:u,animationEasing:p,isAnimationActive:f}=e,{needClip:h}=fp(t,n),y=fi(),v=Cr(),N=rb(e.children,_l),j=Be(S=>YV(S,e.id,v,N));if(y!=="vertical"&&y!=="horizontal")return null;var b,_=j?.[0];return _==null||_.height==null||_.width==null?b=0:b=y==="vertical"?_.height/2:_.width/2,g.createElement(bE,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:bG,errorBarOffset:b},g.createElement(jG,bs({},e,{layout:y,needClip:h,data:j,xAxisId:t,yAxisId:n,hide:a,legendType:s,minPointSize:o,activeBar:c,animationBegin:d,animationDuration:u,animationEasing:p,isAnimationActive:f})))}function _G(e){var{layout:t,barSettings:{dataKey:n,minPointSize:a},pos:s,bandSize:o,xAxis:c,yAxis:d,xAxisTicks:u,yAxisTicks:p,stackedData:f,displayedData:h,offset:y,cells:v,parentViewBox:N,dataStartIndex:j}=e,b=t==="horizontal"?d:c,_=f?b.scale.domain():null,S=bL({numericAxis:b}),P=b.scale(S);return h.map((C,A)=>{var O,I,M,D,z,Y;if(f){var W=f[A+j];if(W==null)return null;O=hL(W,_)}else O=jt(C,n),Array.isArray(O)||(O=[S,O]);var re=TV(a,RE)(O[1],A);if(t==="horizontal"){var U,[R,Q]=[d.scale(O[0]),d.scale(O[1])];I=MN({axis:c,ticks:u,bandSize:o,offset:s.offset,entry:C,index:A}),M=(U=Q??R)!==null&&U!==void 0?U:void 0,D=s.size;var le=R-Q;if(z=Bn(le)?0:le,Y={x:I,y:y.top,width:D,height:y.height},Math.abs(re)>0&&Math.abs(z)<Math.abs(re)){var H=_r(z||re)*(Math.abs(re)-Math.abs(z));M-=H,z+=H}}else{var[ee,ce]=[c.scale(O[0]),c.scale(O[1])];if(I=ee,M=MN({axis:d,ticks:p,bandSize:o,offset:s.offset,entry:C,index:A}),D=ce-ee,z=s.size,Y={x:y.left,y:M,width:y.width,height:z},Math.abs(re)>0&&Math.abs(D)<Math.abs(re)){var B=_r(D||re)*(Math.abs(re)-Math.abs(D));D+=B}}if(I==null||M==null||D==null||z==null)return null;var $=en(en({},C),{},{stackedBarStart:P,x:I,y:M,width:D,height:z,value:f?O:O[1],payload:C,background:Y,tooltipPosition:{x:I+D/2,y:M+z/2},parentViewBox:N},v&&v[A]&&v[A].props);return $}).filter(Boolean)}function kG(e){var t=Xt(e,wG),n=QV(t.stackId),a=Cr();return g.createElement(dp,{id:t.id,type:"bar"},s=>g.createElement(g.Fragment,null,g.createElement(lb,{legendPayload:uG(t)}),g.createElement(mG,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:s}),g.createElement(cb,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),g.createElement(sn,{zIndex:t.zIndex},g.createElement(NG,bs({},t,{id:s})))))}var al=g.memo(kG,vd);al.displayName="Bar";var SG=["domain","range"],PG=["domain","range"];function Xk(e,t){if(e==null)return{};var n,a,s=CG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function CG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function Jk(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function FE(e,t){if(e===t)return!0;var{domain:n,range:a}=e,s=Xk(e,SG),{domain:o,range:c}=t,d=Xk(t,PG);return!Jk(n,o)||!Jk(a,c)?!1:vd(s,d)}var AG=["dangerouslySetInnerHTML","ticks","scale"],EG=["id","scale"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zy.apply(null,arguments)}function Zk(e,t){if(e==null)return{};var n,a,s=OG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function OG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function TG(e){var t=Ot(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(FK(e)):n.current!==e&&t(BK({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(UK(n.current)),n.current=null)},[t]),null}var IG=e=>{var{xAxisId:t,className:n}=e,a=Be($0),s=Cr(),o="xAxis",c=Be(_=>h4(_,o,t,s)),d=Be(_=>u4(_,t)),u=Be(_=>LB(_,t)),p=Be(_=>HA(_,t));if(d==null||u==null||p==null)return null;var{dangerouslySetInnerHTML:f,ticks:h,scale:y}=e,v=Zk(e,AG),{id:N,scale:j}=p,b=Zk(p,EG);return g.createElement(mb,Zy({},v,b,{x:u.x,y:u.y,width:d.width,height:d.height,className:ft("recharts-".concat(o," ").concat(o),n),viewBox:a,ticks:c,axisType:o}))},MG={allowDataOverflow:br.allowDataOverflow,allowDecimals:br.allowDecimals,allowDuplicatedCategory:br.allowDuplicatedCategory,angle:br.angle,axisLine:is.axisLine,height:br.height,hide:!1,includeHidden:br.includeHidden,interval:br.interval,minTickGap:br.minTickGap,mirror:br.mirror,orientation:br.orientation,padding:br.padding,reversed:br.reversed,scale:br.scale,tick:br.tick,tickCount:br.tickCount,tickLine:is.tickLine,tickSize:is.tickSize,type:br.type,xAxisId:0},DG=e=>{var t=Xt(e,MG);return g.createElement(g.Fragment,null,g.createElement(TG,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(IG,t))},ls=g.memo(DG,FE);ls.displayName="XAxis";var LG=["dangerouslySetInnerHTML","ticks","scale"],$G=["id","scale"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qy.apply(null,arguments)}function Qk(e,t){if(e==null)return{};var n,a,s=zG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function zG(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function RG(e){var t=Ot(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(qK(e)):n.current!==e&&t(KK({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(WK(n.current)),n.current=null)},[t]),null}var FG=e=>{var{yAxisId:t,className:n,width:a,label:s}=e,o=g.useRef(null),c=g.useRef(null),d=Be($0),u=Cr(),p=Ot(),f="yAxis",h=Be(O=>m4(O,t)),y=Be(O=>zB(O,t)),v=Be(O=>h4(O,f,t,u)),N=Be(O=>VA(O,t));if(g.useLayoutEffect(()=>{if(!(a!=="auto"||!h||Zv(s)||g.isValidElement(s)||N==null)){var O=o.current;if(O){var I=O.getCalculatedWidth();Math.round(h.width)!==Math.round(I)&&p(HK({id:t,width:I}))}}},[v,h,p,s,t,a,N]),h==null||y==null||N==null)return null;var{dangerouslySetInnerHTML:j,ticks:b,scale:_}=e,S=Qk(e,LG),{id:P,scale:C}=N,A=Qk(N,$G);return g.createElement(mb,Qy({},S,A,{ref:o,labelRef:c,x:y.x,y:y.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:h.width,height:h.height,className:ft("recharts-".concat(f," ").concat(f),n),viewBox:d,ticks:v,axisType:f}))},BG={allowDataOverflow:jr.allowDataOverflow,allowDecimals:jr.allowDecimals,allowDuplicatedCategory:jr.allowDuplicatedCategory,angle:jr.angle,axisLine:is.axisLine,hide:!1,includeHidden:jr.includeHidden,interval:jr.interval,minTickGap:jr.minTickGap,mirror:jr.mirror,orientation:jr.orientation,padding:jr.padding,reversed:jr.reversed,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,tickLine:is.tickLine,tickSize:is.tickSize,type:jr.type,width:jr.width,yAxisId:0},UG=e=>{var t=Xt(e,BG);return g.createElement(g.Fragment,null,g.createElement(RG,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(FG,t))},cs=g.memo(UG,FE);cs.displayName="YAxis";var qG=(e,t)=>t,hb=ae([qG,ut,KA,hr,O4,As,Q7,fr],i9),gb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/a)}},BE=Un("mouseClick"),UE=td();UE.startListening({actionCreator:BE,effect:(e,t)=>{var n=e.payload,a=hb(t.getState(),gb(n));a?.activeIndex!=null&&t.dispatch(ZB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var e0=Un("mouseMove"),qE=td(),Hu=null;qE.startListening({actionCreator:e0,effect:(e,t)=>{var n=e.payload;Hu!==null&&cancelAnimationFrame(Hu);var a=gb(n);Hu=requestAnimationFrame(()=>{var s=t.getState(),o=Bv(s,s.tooltip.settings.shared);if(o==="axis"){var c=hb(s,a);c?.activeIndex!=null?t.dispatch(N4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(w4())}Hu=null})}});function KG(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var eS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},KE=gn({name:"rootProps",initialState:eS,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:eS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),WG=KE.reducer,{updateOptions:HG}=KE.actions,WE=gn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:VG}=WE.actions,GG=WE.reducer,HE=Un("keyDown"),VE=Un("focus"),xb=td();xb.startListening({actionCreator:HE,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=Uv(s,Nl(n),pd(n),xd(n)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var u=As(n);if(o==="Enter"){var p=ef(n,"axis","hover",String(s.index));t.dispatch(qy({active:!s.active,activeIndex:s.index,activeCoordinate:p}));return}var f=UB(n),h=f==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,v=d+y*h;if(!(u==null||v>=u.length||v<0)){var N=ef(n,"axis","hover",String(v));t.dispatch(qy({active:!0,activeIndex:v.toString(),activeCoordinate:N}))}}}}}});xb.startListening({actionCreator:VE,effect:(e,t)=>{var n=t.getState(),a=n.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var o="0",c=ef(n,"axis","hover",String(o));t.dispatch(qy({active:!0,activeIndex:o,activeCoordinate:c}))}}}});var zn=Un("externalEvent"),GE=td(),Fx=new Map;GE.startListening({actionCreator:zn,effect:(e,t)=>{var{handler:n,reactEvent:a}=e.payload;if(n!=null){a.persist();var s=a.type,o=Fx.get(s);o!==void 0&&cancelAnimationFrame(o);var c=requestAnimationFrame(()=>{try{var d=t.getState(),u={activeCoordinate:z7(d),activeDataKey:Vv(d),activeIndex:ci(d),activeLabel:M4(d),activeTooltipIndex:ci(d),isTooltipActive:R7(d)};n(u,a)}finally{Fx.delete(s)}});Fx.set(s,c)}}});var YG=ae([jl],e=>e.tooltipItemPayloads),XG=ae([YG,gd,(e,t)=>t,(e,t,n)=>n],(e,t,n,a)=>{var s=e.find(d=>d.settings.graphicalItemId===a);if(s!=null){var{positions:o}=s;if(o!=null){var c=t(o,n);return c}}}),YE=Un("touchMove"),XE=td();XE.startListening({actionCreator:YE,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var a=t.getState(),s=Bv(a,a.tooltip.settings.shared);if(s==="axis"){var o=n.touches[0];if(o==null)return;var c=hb(a,gb({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(N4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(s==="item"){var d,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var p=document.elementFromPoint(u.clientX,u.clientY);if(!p||!p.getAttribute)return;var f=p.getAttribute(pC),h=(d=p.getAttribute(hC))!==null&&d!==void 0?d:void 0,y=wl(a).find(j=>j.id===h);if(f==null||y==null||h==null)return;var{dataKey:v}=y,N=XG(a,f,h);t.dispatch(j4({activeDataKey:v,activeIndex:f,activeCoordinate:N,activeGraphicalItemId:h}))}}}});var JG=DP({brush:cW,cartesianAxis:VK,chartData:$9,errorBars:iH,graphicalItems:eK,layout:cL,legend:x$,options:T9,polarAxis:pq,polarOptions:GG,referenceElements:gW,rootProps:WG,tooltip:QB,zIndex:b9}),ZG=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return MD({reducer:JG,preloadedState:t,middleware:a=>{var s;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([UE.middleware,qE.middleware,xb.middleware,GE.middleware,XE.middleware])},enhancers:a=>{var s=a;return typeof a=="function"&&(s=a()),s.concat(XP({type:"raf"}))},devTools:{serialize:{replacer:KG},name:"recharts-".concat(n)}})};function JE(e){var{preloadedState:t,children:n,reduxStoreName:a}=e,s=Cr(),o=g.useRef(null);if(s)return n;o.current==null&&(o.current=ZG(t,a));var c=E0;return g.createElement(MH,{context:c,store:o.current},n)}function QG(e){var{layout:t,margin:n}=e,a=Ot(),s=Cr();return g.useEffect(()=>{s||(a(iL(t)),a(sL(n)))},[a,s,t,n]),null}var ZE=g.memo(QG,vd);function QE(e){var t=Ot();return g.useEffect(()=>{t(HG(e))},[t,e]),null}function tS(e){var{zIndex:t,isPanorama:n}=e,a=g.useRef(null),s=Ot();return g.useLayoutEffect(()=>(a.current&&s(y9({zIndex:t,element:a.current,isPanorama:n})),()=>{s(v9({zIndex:t,isPanorama:n}))}),[s,t,n]),g.createElement("g",{tabIndex:-1,ref:a})}function rS(e){var{children:t,isPanorama:n}=e,a=Be(l9);if(!a||a.length===0)return t;var s=a.filter(c=>c<0),o=a.filter(c=>c>0);return g.createElement(g.Fragment,null,s.map(c=>g.createElement(tS,{key:c,zIndex:c,isPanorama:n})),t,o.map(c=>g.createElement(tS,{key:c,zIndex:c,isPanorama:n})))}var eY=["children"];function tY(e,t){if(e==null)return{};var n,a,s=rY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function rY(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},df.apply(null,arguments)}var nY={width:"100%",height:"100%",display:"block"},aY=g.forwardRef((e,t)=>{var n=R0(),a=F0(),s=OC();if(!Ca(n)||!Ca(a))return null;var{children:o,otherAttributes:c,title:d,desc:u}=e,p,f;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=s?0:void 0,typeof c.role=="string"?f=c.role:f=s?"application":void 0),g.createElement(b0,df({},c,{title:d,desc:u,role:f,tabIndex:p,width:n,height:a,style:nY,ref:t}),o)}),sY=e=>{var{children:t}=e,n=Be(If);if(!n)return null;var{width:a,height:s,y:o,x:c}=n;return g.createElement(b0,{width:a,height:s,x:c,y:o},t)},nS=g.forwardRef((e,t)=>{var{children:n}=e,a=tY(e,eY),s=Cr();return s?g.createElement(sY,null,g.createElement(rS,{isPanorama:!0},n)):g.createElement(aY,df({ref:t},a),g.createElement(rS,{isPanorama:!1},n))});function iY(){var e=Ot(),[t,n]=g.useState(null),a=Be(SL);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;Ct(o)&&o!==a&&e(lL(o))}},[t,e,a]),n}function aS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function oY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(n),!0).forEach(function(a){lY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aS(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function lY(e,t,n){return(t=cY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qi(){return Qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Qi.apply(null,arguments)}var uY=()=>(H9(),null);function uf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var mY=g.forwardRef((e,t)=>{var n,a,s=g.useRef(null),[o,c]=g.useState({containerWidth:uf((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:uf((a=e.style)===null||a===void 0?void 0:a.height)}),d=g.useCallback((p,f)=>{c(h=>{var y=Math.round(p),v=Math.round(f);return h.containerWidth===y&&h.containerHeight===v?h:{containerWidth:y,containerHeight:v}})},[]),u=g.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=p.getBoundingClientRect();d(f,h);var y=N=>{var{width:j,height:b}=N[0].contentRect;d(j,b)},v=new ResizeObserver(y);v.observe(p),s.current=v}},[t,d]);return g.useEffect(()=>()=>{var p=s.current;p?.disconnect()},[d]),g.createElement(g.Fragment,null,g.createElement(Df,{width:o.containerWidth,height:o.containerHeight}),g.createElement("div",Qi({ref:u},e)))}),fY=g.forwardRef((e,t)=>{var{width:n,height:a}=e,[s,o]=g.useState({containerWidth:uf(n),containerHeight:uf(a)}),c=g.useCallback((u,p)=>{o(f=>{var h=Math.round(u),y=Math.round(p);return f.containerWidth===h&&f.containerHeight===y?f:{containerWidth:h,containerHeight:y}})},[]),d=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:p,height:f}=u.getBoundingClientRect();c(p,f)}},[t,c]);return g.createElement(g.Fragment,null,g.createElement(Df,{width:s.containerWidth,height:s.containerHeight}),g.createElement("div",Qi({ref:d},e)))}),pY=g.forwardRef((e,t)=>{var{width:n,height:a}=e;return g.createElement(g.Fragment,null,g.createElement(Df,{width:n,height:a}),g.createElement("div",Qi({ref:t},e)))}),hY=g.forwardRef((e,t)=>{var{width:n,height:a}=e;return ps(n)||ps(a)?g.createElement(fY,Qi({},e,{ref:t})):g.createElement(pY,Qi({},e,{ref:t}))});function gY(e){return e===!0?mY:hY}var xY=g.forwardRef((e,t)=>{var{children:n,className:a,height:s,onClick:o,onContextMenu:c,onDoubleClick:d,onMouseDown:u,onMouseEnter:p,onMouseLeave:f,onMouseMove:h,onMouseUp:y,onTouchEnd:v,onTouchMove:N,onTouchStart:j,style:b,width:_,responsive:S,dispatchTouchEvents:P=!0}=e,C=g.useRef(null),A=Ot(),[O,I]=g.useState(null),[M,D]=g.useState(null),z=iY(),Y=z0(),W=Y?.width>0?Y.width:_,re=Y?.height>0?Y.height:s,U=g.useCallback(T=>{z(T),typeof t=="function"&&t(T),I(T),D(T),T!=null&&(C.current=T)},[z,t,I,D]),R=g.useCallback(T=>{A(BE(T)),A(zn({handler:o,reactEvent:T}))},[A,o]),Q=g.useCallback(T=>{A(e0(T)),A(zn({handler:p,reactEvent:T}))},[A,p]),le=g.useCallback(T=>{A(w4()),A(zn({handler:f,reactEvent:T}))},[A,f]),H=g.useCallback(T=>{A(e0(T)),A(zn({handler:h,reactEvent:T}))},[A,h]),ee=g.useCallback(()=>{A(VE())},[A]),ce=g.useCallback(T=>{A(HE(T.key))},[A]),B=g.useCallback(T=>{A(zn({handler:c,reactEvent:T}))},[A,c]),$=g.useCallback(T=>{A(zn({handler:d,reactEvent:T}))},[A,d]),G=g.useCallback(T=>{A(zn({handler:u,reactEvent:T}))},[A,u]),ge=g.useCallback(T=>{A(zn({handler:y,reactEvent:T}))},[A,y]),ue=g.useCallback(T=>{A(zn({handler:j,reactEvent:T}))},[A,j]),se=g.useCallback(T=>{P&&A(YE(T)),A(zn({handler:N,reactEvent:T}))},[A,P,N]),xe=g.useCallback(T=>{A(zn({handler:v,reactEvent:T}))},[A,v]),Ne=gY(S);return g.createElement(U4.Provider,{value:O},g.createElement(JS.Provider,{value:M},g.createElement(Ne,{width:W??b?.width,height:re??b?.height,className:ft("recharts-wrapper",a),style:oY({position:"relative",cursor:"default",width:W,height:re},b),onClick:R,onContextMenu:B,onDoubleClick:$,onFocus:ee,onKeyDown:ce,onMouseDown:G,onMouseEnter:Q,onMouseLeave:le,onMouseMove:H,onMouseUp:ge,onTouchEnd:xe,onTouchMove:se,onTouchStart:ue,ref:U},g.createElement(uY,null),n)))}),yY=["width","height","responsive","children","className","style","compact","title","desc"];function vY(e,t){if(e==null)return{};var n,a,s=bY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function bY(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var eO=g.forwardRef((e,t)=>{var{width:n,height:a,responsive:s,children:o,className:c,style:d,compact:u,title:p,desc:f}=e,h=vY(e,yY),y=rn(h);return u?g.createElement(g.Fragment,null,g.createElement(Df,{width:n,height:a}),g.createElement(nS,{otherAttributes:y,title:p,desc:f},o)):g.createElement(xY,{className:c,style:d,width:n,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(nS,{otherAttributes:y,title:p,desc:f,ref:t},g.createElement(yW,null,o)))});function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},t0.apply(null,arguments)}var jY={top:5,right:5,bottom:5,left:5},wY={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:jY,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},yb=g.forwardRef(function(t,n){var a,s=Xt(t.categoricalChartProps,wY),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,categoricalChartProps:p}=t,f={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(JE,{preloadedState:{options:f},reduxStoreName:(a=p.id)!==null&&a!==void 0?a:o},g.createElement(pE,{chartData:p.data}),g.createElement(ZE,{layout:s.layout,margin:s.margin}),g.createElement(QE,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),g.createElement(eO,t0({},s,{ref:n})))}),NY=["axis"],_Y=g.forwardRef((e,t)=>g.createElement(yb,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:NY,tooltipPayloadSearcher:ap,categoricalChartProps:e,ref:t})),kY=["axis","item"],Vc=g.forwardRef((e,t)=>g.createElement(yb,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kY,tooltipPayloadSearcher:ap,categoricalChartProps:e,ref:t}));function SY(e){var t=Ot();return g.useEffect(()=>{t(VG(e))},[t,e]),null}var PY=["layout"];function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r0.apply(null,arguments)}function CY(e,t){if(e==null)return{};var n,a,s=AY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function AY(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;n[a]=e[a]}return n}var EY={top:5,right:5,bottom:5,left:5},tO={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:EY,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},OY=g.forwardRef(function(t,n){var a,s=Xt(t.categoricalChartProps,tO),{layout:o}=s,c=CY(s,PY),{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:p,tooltipPayloadSearcher:f}=t,h={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:p,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(JE,{preloadedState:{options:h},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:d},g.createElement(pE,{chartData:s.data}),g.createElement(ZE,{layout:o,margin:s.margin}),g.createElement(QE,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),g.createElement(SY,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),g.createElement(eO,r0({},c,{ref:n})))});function sS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,a)}return n}function iS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(n),!0).forEach(function(a){TY(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sS(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function TY(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DY=["item"],LY=iS(iS({},tO),{},{layout:"centric",startAngle:0,endAngle:360}),$Y=g.forwardRef((e,t)=>{var n=Xt(e,LY);return g.createElement(OY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:DY,tooltipPayloadSearcher:ap,categoricalChartProps:n,ref:t})}),zY=["axis"],rO=g.forwardRef((e,t)=>g.createElement(yb,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zY,tooltipPayloadSearcher:ap,categoricalChartProps:e,ref:t}));const RY=({dateFrom:e,dateTo:t})=>{const{data:n,loading:a,error:s}=VS(e,t);if(a)return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((d,u)=>r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),r.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"})]},u))})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),r.jsx("div",{className:"space-y-4",children:[...Array(4)].map((d,u)=>r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-100",children:[r.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded"}),r.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},u))})]})]});if(s||!n)return r.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load growth activity"});const o=[{name:"Revenue Growth",value:`${n.growth_rates.revenue_growth>0?"+":""}${n.growth_rates.revenue_growth.toFixed(1)}%`,icon:Sc,color:"emerald",gradient:"from-emerald-400 to-teal-500"},{name:"Booking Growth",value:`${n.growth_rates.booking_growth>0?"+":""}${n.growth_rates.booking_growth.toFixed(1)}%`,icon:kr,color:"blue",gradient:"from-blue-400 to-cyan-500"},{name:"User Growth",value:`${n.growth_rates.user_growth>0?"+":""}${n.growth_rates.user_growth.toFixed(1)}%`,icon:Sc,color:"purple",gradient:"from-purple-400 to-indigo-500"}],c=[{type:"New Bookings",count:n.recent_activity.new_bookings,color:"blue",icon:kr,gradient:"from-blue-400 to-cyan-500"},{type:"Completed Bookings",count:n.recent_activity.completed_bookings,color:"emerald",icon:kr,gradient:"from-emerald-400 to-teal-500"},{type:"New Disputes",count:n.recent_activity.new_disputes,color:"red",icon:Xc,gradient:"from-red-400 to-rose-500"},{type:"Payments Received",count:n.recent_activity.payments_received,color:"green",icon:us,gradient:"from-green-400 to-emerald-500"}];return r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full mr-3"}),"Growth Overview"]}),r.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.map(d=>{const u=d.icon;return r.jsxs("div",{className:"text-center group",children:[r.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${d.gradient} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:r.jsx(u,{className:"w-8 h-8 text-white"})}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:d.value}),r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:d.name})]},d.name)})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-600 rounded-full mr-3"}),"Recent Activity"]}),r.jsx("div",{className:"space-y-4",children:c.map(d=>{const u=d.icon;return r.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/60 backdrop-blur-sm hover:bg-white/80 transition-all duration-200 border border-white/30 hover:shadow-md",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${d.gradient} shadow-md`,children:r.jsx(u,{className:"w-6 h-6 text-white"})}),r.jsx("span",{className:"font-semibold text-gray-900",children:d.type})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:d.count}),r.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Today"})]})]},d.type)})})]}),r.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30 col-span-1 lg:col-span-2",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(Sc,{className:"w-5 h-5 mr-2 text-blue-600"}),"Growth Rates Comparison"]}),r.jsx(ns,{width:"100%",height:300,children:r.jsxs(Vc,{data:[{name:"Revenue Growth",value:n.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:n.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:n.growth_rates.user_growth,color:"#8b5cf6"}],children:[r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"Growth %",angle:-90,position:"insideLeft"},tickFormatter:d=>`${d>0?"+":""}${d}%`}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:d=>[`${d>0?"+":""}${d.toFixed(1)}%`,"Growth"]}),r.jsx(al,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Revenue Growth",value:n.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:n.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:n.growth_rates.user_growth,color:"#8b5cf6"}].map((d,u)=>r.jsx(_l,{fill:d.color},`cell-${u}`))})]})})]})]})},FY=({dateFrom:e,dateTo:t})=>{const{data:n,loading:a,error:s}=FI(e,t);if(a)return r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:r.jsx("div",{className:"space-y-4",children:[...Array(6)].map((p,f)=>r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"w-8 h-6 bg-gray-200 rounded"}),r.jsx("div",{className:"flex-1 h-6 bg-gray-200 rounded-full"}),r.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},f))})})]});if(s||!n)return r.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load revenue insights"});const o=n.trend||[],c=n.payment_methods||[],d=n.category_revenue||[],u=n.top_providers||[];return o.length>0&&Math.max(...o.map(p=>p.total_revenue||0)),o.reduce((p,f)=>p+(f.total_revenue||0),0),c.length>0&&Math.max(...c.map(p=>p.total_amount||0)),d.length>0&&Math.max(...d.map(p=>p.total_revenue||0)),r.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[r.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[r.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-600 rounded-full mr-3"}),"Revenue Insights"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(Sc,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Revenue Over Time"]}),r.jsx(ns,{width:"100%",height:300,children:r.jsxs(_Y,{data:o,children:[r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"period",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:p=>`${(p/1e3).toFixed(0)}k`}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:p=>[`${p.toLocaleString("en-IN")}`,"Revenue"]}),r.jsx(Rf,{}),r.jsx(CE,{type:"monotone",dataKey:"total_revenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6},name:"Revenue"})]})})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(us,{className:"w-5 h-5 mr-2 text-primary"}),"Payment Methods Distribution"]}),r.jsx(ns,{width:"100%",height:250,children:r.jsxs($Y,{children:[r.jsx(dE,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({method:p,percent:f})=>`${p}: ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:c.map((p,f)=>{const h=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return r.jsx(_l,{fill:h[f%h.length]},`cell-${f}`)})}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:p=>[`${p.toLocaleString("en-IN")}`,"Amount"]})]})})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[r.jsx(jI,{className:"w-5 h-5 mr-2 text-purple-600"}),"Revenue by Category"]}),r.jsx(ns,{width:"100%",height:250,children:r.jsxs(Vc,{data:d,children:[r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"category",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:80}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"11px"},tickFormatter:p=>`${(p/1e3).toFixed(0)}k`}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:p=>[`${p.toLocaleString("en-IN")}`,"Revenue"]}),r.jsx(al,{dataKey:"total_revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})]}),r.jsxs("div",{className:"mt-8",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(fs,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Top Earning Providers"]}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((p,f)=>r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm p-6 rounded-xl border border-white/30 hover:bg-white/80 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:p.name.split(" ").map(h=>h[0]).join("")}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-gray-900 truncate",children:p.name}),r.jsx("p",{className:"text-sm text-gray-600 truncate",children:p.business_name})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["",p.total_earnings.toLocaleString("en-IN")]}),r.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[r.jsx(fs,{className:"w-4 h-4 text-yellow-500 fill-current"}),r.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:[p.booking_count," bookings"]})]})]})]},p.name))})]})]})},BY=({dateFrom:e,dateTo:t})=>{const{data:n,loading:a,error:s}=UI(e,t);if(a)return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((h,y)=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),r.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},y))})]});if(s||!n)return r.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load user analytics"});const o=n.activity_metrics||{};n.engagement_metrics;const c=o.total_users||0,d=o.active_users_30d||0,u=o.verified_users||0,p=o.users_with_bookings||0,f=[{name:"Total Users",value:c.toLocaleString(),change:`${u} verified`,changeType:"positive",icon:Sa,gradient:"from-blue-400 to-cyan-500"},{name:"Active Users (30d)",value:d.toLocaleString(),change:"Last 30 days",changeType:"positive",icon:fm,gradient:"from-green-400 to-emerald-500"},{name:"Users with Bookings",value:p.toLocaleString(),change:`${c>0?Math.round(p/c*100):0}% of total`,changeType:"positive",icon:HS,gradient:"from-purple-400 to-indigo-500"},{name:"Verified Users",value:u.toLocaleString(),change:`${c>0?Math.round(u/c*100):0}% verified`,changeType:"positive",icon:EI,gradient:"from-red-400 to-rose-500"}];return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Analytics"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(h=>{const y=h.icon;return r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:r.jsx(y,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),r.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),r.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:h.change})]},h.name)})}),n.registration_trend&&n.registration_trend.length>0&&r.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(fm,{className:"w-5 h-5 mr-2 text-blue-600"}),"User Registration Trends"]}),r.jsx(ns,{width:"100%",height:300,children:r.jsxs(rO,{data:n.registration_trend,children:[r.jsx("defs",{children:r.jsxs("linearGradient",{id:"colorRegistrations",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),r.jsx(Rf,{}),r.jsx(Cc,{type:"monotone",dataKey:"new_users",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRegistrations)",name:"New Users"})]})})]}),n.geographic_distribution&&n.geographic_distribution.length>0&&r.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(Sa,{className:"w-5 h-5 mr-2 text-purple-600"}),"User Geographic Distribution"]}),r.jsx(ns,{width:"100%",height:300,children:r.jsxs(Vc,{data:n.geographic_distribution,children:[r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"city",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:100}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"11px"}}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),r.jsx(al,{dataKey:"user_count",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})},UY=({dateFrom:e,dateTo:t})=>{const{data:n,loading:a,error:s}=KI(e,t);if(a)return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,y)=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),r.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},y))})]});if(s||!n)return r.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load booking analytics"});const o=n.booking_trend&&n.booking_trend.length>0?n.booking_trend[n.booking_trend.length-1]:null,c=n.booking_trend?n.booking_trend.reduce((h,y)=>h+y.total_bookings,0):0,d=n.booking_trend?n.booking_trend.reduce((h,y)=>h+y.completed_bookings,0):0,u=n.booking_trend?n.booking_trend.reduce((h,y)=>h+y.cancelled_bookings,0):0,p=n.booking_trend&&n.booking_trend.length>0?n.booking_trend.reduce((h,y)=>h+y.completion_rate,0)/n.booking_trend.length:0,f=[{name:"Total Bookings",value:c.toLocaleString(),change:`${o?.total_bookings||0} today`,changeType:"positive",icon:kr,gradient:"from-blue-400 to-cyan-500"},{name:"Completed Bookings",value:d.toLocaleString(),change:`${p.toFixed(1)}% avg completion`,changeType:"positive",icon:Wr,gradient:"from-green-400 to-emerald-500"},{name:"Cancelled Bookings",value:u.toLocaleString(),change:`${(u/c*100).toFixed(1)}% cancellation rate`,changeType:"negative",icon:rs,gradient:"from-red-400 to-rose-500"},{name:"Peak Hour",value:`${n.peak_booking_times&&n.peak_booking_times.length>0?n.peak_booking_times.reduce((h,y)=>h.booking_count>y.booking_count?h:y).hour:0}:00`,change:"Most Active",changeType:"positive",icon:Sr,gradient:"from-yellow-400 to-orange-500"},{name:"Search to Booking",value:`${n.conversion_funnel.search_to_booking_rate.toFixed(1)}%`,change:`${n.conversion_funnel.searches.toLocaleString()} searches`,changeType:"positive",icon:Na,gradient:"from-purple-400 to-indigo-500"},{name:"Profile Views",value:n.conversion_funnel.profile_views.toLocaleString(),change:`${(n.conversion_funnel.profile_views/n.conversion_funnel.searches*100).toFixed(1)}% view rate`,changeType:"positive",icon:ca,gradient:"from-orange-400 to-red-500"}];return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Analytics"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:f.map(h=>{const y=h.icon;return r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:r.jsx(y,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),r.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),r.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":h.changeType==="negative"?"text-red-700 bg-red-100 border border-red-200":"text-yellow-700 bg-yellow-100 border border-yellow-200"}`,children:h.change})]},h.name)})}),r.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(kr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Booking Trends Over Time"]}),r.jsx(ns,{width:"100%",height:350,children:r.jsxs(rO,{data:n.booking_trend||[],children:[r.jsxs("defs",{children:[r.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),r.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),r.jsxs("linearGradient",{id:"colorCancelled",x1:"0",y1:"0",x2:"0",y2:"1",children:[r.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),r.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"12px"}}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),r.jsx(Rf,{}),r.jsx(Cc,{type:"monotone",dataKey:"total_bookings",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorTotal)",name:"Total Bookings"}),r.jsx(Cc,{type:"monotone",dataKey:"completed_bookings",stroke:"#10b981",fillOpacity:1,fill:"url(#colorCompleted)",name:"Completed"}),r.jsx(Cc,{type:"monotone",dataKey:"cancelled_bookings",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorCancelled)",name:"Cancelled"})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(Wr,{className:"w-5 h-5 mr-2 text-green-600"}),"Booking Status Distribution"]}),r.jsx(ns,{width:"100%",height:250,children:r.jsxs(Vc,{data:n.status_distribution||[],children:[r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"status",stroke:"#6b7280",style:{fontSize:"11px"}}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"11px"}}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),r.jsx(al,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]}),r.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[r.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[r.jsx(Sr,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Peak Booking Times"]}),r.jsx(ns,{width:"100%",height:250,children:r.jsxs(Vc,{data:n.peak_booking_times||[],children:[r.jsx(os,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),r.jsx(ls,{dataKey:"hour",stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Hour",position:"insideBottom",offset:-5}}),r.jsx(cs,{stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Bookings",angle:-90,position:"insideLeft"}}),r.jsx(ss,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),r.jsx(al,{dataKey:"booking_count",fill:"#f59e0b",radius:[8,8,0,0]})]})})]})]})]})},qY=({dateFrom:e,dateTo:t})=>{const{data:n,loading:a,error:s}=HI(e,t);if(a)return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,f)=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),r.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},f))})]});if(s||!n)return r.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load provider analytics"});const o=n.registration_trend&&n.registration_trend.length>0?n.registration_trend[n.registration_trend.length-1]:null,c=n.status_distribution?n.status_distribution.reduce((p,f)=>p+f.count,0):0,d=n.status_distribution?n.status_distribution.filter(p=>p.verification_status==="verified").reduce((p,f)=>p+f.count,0):0,u=[{name:"Total Providers",value:c.toLocaleString(),change:`${o?.new_providers||0} new today`,changeType:"positive",icon:mm,gradient:"from-blue-400 to-cyan-500"},{name:"Verified Providers",value:d.toLocaleString(),change:`${(d/c*100).toFixed(1)}% verified`,changeType:"positive",icon:fm,gradient:"from-green-400 to-emerald-500"},{name:"Average Rating",value:n.performance_metrics.avg_platform_rating.toFixed(1),change:`${n.performance_metrics.avg_completion_rate.toFixed(1)}% completion`,changeType:"positive",icon:fs,gradient:"from-yellow-400 to-orange-500"},{name:"Active Providers",value:n.performance_metrics.active_providers.toLocaleString(),change:`${(n.performance_metrics.active_providers/c*100).toFixed(1)}% active`,changeType:"positive",icon:Na,gradient:"from-purple-400 to-indigo-500"},{name:"Top Performer",value:n.top_performers[0]?.name||"N/A",change:`${n.top_performers[0]?.rating.toFixed(1)||"0"} rating`,changeType:"positive",icon:Sr,gradient:"from-pink-400 to-rose-500"},{name:"Category Leaders",value:n.category_distribution.length.toString(),change:`${n.category_distribution[0]?.category||"N/A"} leading`,changeType:"positive",icon:ca,gradient:"from-orange-400 to-red-500"}];return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Provider Analytics"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>{const f=p.icon;return r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${p.gradient} rounded-xl shadow-md`,children:r.jsx(f,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.value}),r.jsx("p",{className:"text-sm text-gray-600",children:p.name})]}),r.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${p.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:p.change})]},p.name)})})]})},KY=()=>{const{data:e,loading:t,error:n}=GI();if(t)return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,o)=>r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),r.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),r.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},o))})]});if(n||!e)return r.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:n||"Failed to load system performance data"});const a=[{name:"Response Time",value:`${e.current_metrics.avg_response_time_ms}ms`,change:`${e.current_metrics.avg_response_time_ms<200?"Good":"Slow"}`,changeType:e.current_metrics.avg_response_time_ms<200?"positive":"negative",icon:Sr,gradient:"from-blue-400 to-cyan-500"},{name:"DB Query Time",value:`${e.current_metrics.avg_db_query_time_ms}ms`,change:`${e.current_metrics.avg_db_query_time_ms<100?"Fast":"Slow"}`,changeType:e.current_metrics.avg_db_query_time_ms<100?"positive":"negative",icon:cI,gradient:"from-purple-400 to-indigo-500"},{name:"Server Load",value:`${e.current_metrics.avg_server_load}%`,change:`${e.current_metrics.avg_server_load<80?"Normal":"High"}`,changeType:e.current_metrics.avg_server_load<80?"positive":"negative",icon:kI,gradient:"from-emerald-400 to-teal-500"},{name:"Memory Usage",value:`${e.current_metrics.avg_memory_usage}%`,change:`${e.current_metrics.avg_memory_usage<80?"Good":"High"}`,changeType:e.current_metrics.avg_memory_usage<80?"positive":"negative",icon:mI,gradient:"from-orange-400 to-red-500"},{name:"Error Rate",value:`${e.current_metrics.avg_error_rate}%`,change:`${e.current_metrics.avg_error_rate<1?"Low":"High"}`,changeType:e.current_metrics.avg_error_rate<1?"positive":"negative",icon:ca,gradient:"from-pink-400 to-rose-500"},{name:"Uptime",value:`${e.current_metrics.avg_uptime}%`,change:`${e.current_metrics.avg_uptime>99.9?"Excellent":"Good"}`,changeType:"positive",icon:tI,gradient:"from-yellow-400 to-orange-500"}];return r.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"System Performance"}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>{const o=s.icon;return r.jsxs("div",{className:"space-y-3",children:[r.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${s.gradient} rounded-xl shadow-md`,children:r.jsx(o,{className:"w-8 h-8 text-white"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value}),r.jsx("p",{className:"text-sm text-gray-600",children:s.name})]}),r.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${s.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:s.change})]},s.name)})})]})},oS=({isMobile:e,toggleSidebar:t})=>{const{user:n,logout:a}=Pr(),s=an(),o=Cn(),c=s.pathname==="/admin/finance-panel",u=new URLSearchParams(s.search).get("tab")||"overview",[p,f]=g.useState({});g.useEffect(()=>{const C=s.pathname,A={};C.startsWith("/admin/categories")&&(A.categories=!0),C.startsWith("/admin/helping-staff-panel")&&(A["helping-staff-panel"]=!0),C.startsWith("/admin/lab-tests")&&(A["lab-tests"]=!0),C.startsWith("/admin/site-management")&&(A["site-management"]=!0),C.startsWith("/admin/coupons")&&(A.coupons=!0),f(A)},[s.pathname]);const h=C=>{f(A=>({...A,[C]:!A[C]}))},y=[{id:"overview",label:"Overview",icon:Sc},{id:"bookings",label:"Bookings",icon:kr},{id:"vendors",label:"Vendors",icon:SI},{id:"settlements",label:"Settlements",icon:qr},{id:"payouts",label:"Payouts",icon:us},{id:"gst",label:"GST Reports",icon:ia},{id:"transactions",label:"Transactions",icon:Na},...n?.role==="admin"?[{id:"staff",label:"Financial Staff",icon:Dt}]:[]],v=[{name:"Categories",icon:r.jsx(kc,{size:20}),basePath:"/admin/categories",subItems:[{name:"Categories",to:"/admin/categories",icon:r.jsx(kc,{size:18})},{name:"Inventory",to:"/admin/categories/inventory",icon:r.jsx(dI,{size:18})},{name:"Generic",to:"/admin/categories/generic",icon:r.jsx(ra,{size:18})},{name:"Branded",to:"/admin/categories/branded",icon:r.jsx(Hr,{size:18})}]},{name:"Helping Staff Panel",icon:r.jsx(ag,{size:20}),basePath:"/admin/helping-staff-panel",subItems:[{name:"Prescriptions",to:"/admin/helping-staff-panel/prescriptions",icon:r.jsx(ia,{size:18})},{name:"Orders Pending Approval",to:"/admin/helping-staff-panel/orders",icon:r.jsx(Hr,{size:18})}]},{name:"Lab Tests",icon:r.jsx(ey,{size:20}),basePath:"/admin/lab-tests",subItems:[{name:"Bookings",to:"/admin/lab-tests/bookings",icon:r.jsx(kr,{size:18})},{name:"Categories",to:"/admin/lab-tests/categories",icon:r.jsx(kc,{size:18})},{name:"Packages",to:"/admin/lab-tests/packages",icon:r.jsx(Hr,{size:18})}]},{name:"Site Management",icon:r.jsx(uI,{size:20}),basePath:"/admin/site-management",subItems:[{name:"Blog",to:"/admin/site-management/blog",icon:r.jsx(c1,{size:18})},{name:"Banners",to:"/admin/site-management/banners",icon:r.jsx(qo,{size:18})}]},{name:"Coupons",icon:r.jsx(CI,{size:20}),basePath:"/admin/coupons",subItems:[{name:"Medicine Booking",to:"/admin/coupons/medicine",icon:r.jsx(Xo,{size:18})},{name:"Lab Test",to:"/admin/coupons/lab-test",icon:r.jsx(ey,{size:18})}]}],N=[{type:"link",link:{name:"Dashboard",to:"/admin/dashboard",icon:r.jsx(d1,{size:20})},position:1},{type:"link",link:{name:"Vendors",to:"/admin/providers",icon:r.jsx(Xo,{size:20})},position:2},{type:"link",link:{name:"Users",to:"/admin/users",icon:r.jsx(Dt,{size:20})},position:3},{type:"expandable",section:v[0],position:4},{type:"link",link:{name:"Prescriptions",to:"/admin/prescriptions",icon:r.jsx(ag,{size:20})},position:5},{type:"link",link:{name:"Orders",to:"/admin/orders",icon:r.jsx(Hr,{size:20})},position:6},{type:"link",link:{name:"Leads",to:"/admin/leads",icon:r.jsx(lI,{size:20}),badge:"New"},position:7},{type:"expandable",section:v[1],position:8},{type:"link",link:{name:"Finance",to:"/admin/finance",icon:r.jsx(m1,{size:20})},position:9},{type:"link",link:{name:"Transactions",to:"/admin/transactions",icon:r.jsx(m1,{size:20})},position:10},{type:"expandable",section:v[4],position:11},{type:"link",link:{name:"Helpdesk",to:"/admin/helpdesk",icon:r.jsx(Ja,{size:20})},position:12},{type:"expandable",section:v[2],position:13},{type:"expandable",section:v[3],position:14}],j=[{name:"Dashboard",to:"/provider",icon:r.jsx(d1,{size:20})},{name:"Opportunities",to:"/provider/opportunities",icon:r.jsx(Ec,{size:20}),badge:"New"},{name:"My Tasks",to:"/provider/tasks",icon:r.jsx(h0,{size:20})},{name:"Raise Request",to:"/provider/request",icon:r.jsx(ag,{size:20})},{name:"Previous Work",to:"/provider/history",icon:r.jsx(gI,{size:20})},{name:"Profile",to:"/provider/profile",icon:r.jsx(Dt,{size:20})}],b=[{name:"My Services",to:"/user",icon:r.jsx(c1,{size:20})},{name:"Book Service",to:"/user/new-service",icon:r.jsx(hn,{size:20})},{name:"Payment History",to:"/user/payments",icon:r.jsx(us,{size:20})},{name:"Report Issue",to:"/user/report",icon:r.jsx(ca,{size:20})}],_=[{name:"Home",to:"/",icon:r.jsx(pI,{size:20})},{name:"Login",to:"/login",icon:r.jsx(Dt,{size:20})}],P=(()=>{if(!n)return _;switch(n.role){case"admin":return[];case"provider":return j;case"user":return b;default:return _}})();return r.jsxs("div",{className:`h-screen bg-gradient-to-b from-primary via-primary/95 to-primary text-white flex flex-col transition-all duration-300 ${e?"fixed top-0 left-0 z-40 w-64 shadow-2xl transform":"w-64"}`,children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-primary/30",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-10 w-10 rounded-xl bg-secondary flex items-center justify-center shadow-lg ring-2 ring-primary/40 overflow-hidden",children:r.jsx("img",{src:"/KwikMedi-logo.png",alt:"KwikMedi Logo",className:"h-full w-full object-contain p-1"})}),r.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary rounded-full border-2 border-primary"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-secondary to-secondary/80 bg-clip-text text-transparent",children:"KwikMedi"}),r.jsx("div",{className:"text-xs text-secondary/80 mt-0.5",children:n?.role==="admin"?"Admin Portal":n?.role==="provider"?"Vendor Hub":n?.role==="user"?"Customer Portal":"Welcome"})]})]}),e&&r.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-primary/40 transition-colors",children:r.jsx(gt,{size:20})})]}),n&&r.jsx("div",{className:"p-6 border-b border-primary/30",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center shadow-lg",children:r.jsx(Dt,{size:20,className:"text-primary"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-secondary rounded-full border-2 border-primary flex items-center justify-center",children:r.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-white truncate",children:n.name||"User"}),r.jsx("p",{className:"text-sm text-secondary/80 truncate",children:n.email})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto py-6 px-4",children:[r.jsx("nav",{className:"space-y-2",children:c?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"mb-4 pb-4 border-b border-primary/30",children:r.jsx("h3",{className:"text-sm font-semibold text-secondary/80 mb-2 px-3",children:"Finance Panel"})}),y.map(C=>{const A=C.icon,O=u===C.id;return r.jsx("div",{className:"relative",children:r.jsxs("button",{onClick:()=>{o(`/admin/finance-panel?tab=${C.id}`),e&&t()},className:`w-full group flex items-center space-x-3 p-3 rounded-xl transition-all duration-200 ${O?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,children:[r.jsx("div",{className:"relative",children:r.jsx(A,{size:20})}),r.jsx("span",{className:"font-medium",children:C.label})]})},C.id)})]}):r.jsx(r.Fragment,{children:n?.role==="admin"?N.map(C=>{if(C.type==="expandable"&&C.section){const A=C.section,O=A.basePath.replace("/admin/","").replace(/-/g,"-"),I=p[O]||!1,M=s.pathname.startsWith(A.basePath);return r.jsxs("div",{className:"mb-1",children:[r.jsxs("button",{onClick:()=>h(O),className:`w-full group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${M?"bg-secondary/20 text-white":"text-secondary/80 hover:bg-primary/40 hover:text-white"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"relative",children:A.icon}),r.jsx("span",{className:"font-medium",children:A.name})]}),r.jsx("div",{className:"transition-transform duration-200",style:{transform:I?"rotate(0deg)":"rotate(-90deg)"},children:r.jsx(ws,{size:16})})]}),r.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${I?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:r.jsx("div",{className:"pl-4 pt-1 space-y-1",children:A.subItems.map(D=>{const z=s.pathname===D.to;return r.jsxs(Ro,{to:D.to,className:({isActive:Y})=>`group flex items-center space-x-3 p-2.5 rounded-lg transition-all duration-200 ${Y||z?"bg-secondary text-primary shadow-md":"text-secondary/70 hover:bg-primary/30 hover:text-white"}`,onClick:e?t:void 0,children:[r.jsx("div",{className:"relative",children:D.icon}),r.jsx("span",{className:"text-sm font-medium",children:D.name})]},D.to)})})})]},A.name)}else if(C.type==="link"&&C.link){const A=C.link;return r.jsxs("div",{className:"relative",children:[r.jsxs(Ro,{to:A.to,className:({isActive:O})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${O?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[A.icon,A.badge&&r.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),r.jsx("span",{className:"font-medium",children:A.name})]}),A.badge&&r.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:A.badge})]}),r.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===A.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},A.name)}return null}):P.map(C=>r.jsxs("div",{className:"relative",children:[r.jsxs(Ro,{to:C.to,className:({isActive:A})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${A?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[C.icon,C.badge&&r.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),r.jsx("span",{className:"font-medium",children:C.name})]}),C.badge&&r.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:C.badge})]}),r.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===C.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},C.name))})}),n?.role==="user"&&r.jsxs("div",{className:"mt-8 p-4 bg-secondary/20 rounded-xl border border-primary/30",children:[r.jsx("h3",{className:"text-sm font-semibold text-secondary mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs(Ro,{to:"/user/orders",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[r.jsx(TI,{size:16}),r.jsx("span",{className:"text-sm",children:"Place Order"})]}),r.jsxs(Ro,{to:"/user/prescriptions",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[r.jsx(fs,{size:16}),r.jsx("span",{className:"text-sm",children:"Upload Prescription"})]})]})]})]}),n&&r.jsx("div",{className:"p-4 border-t border-primary/30",children:r.jsxs("button",{onClick:a,className:"flex items-center justify-center w-full p-3 rounded-xl text-secondary/80 hover:bg-primary/40 hover:text-secondary transition-all duration-200 group",children:[r.jsx(g0,{size:20,className:"mr-3 group-hover:transform group-hover:scale-110 transition-transform"}),r.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})},WY=({toggleSidebar:e})=>{const t=Cn(),{user:n,logout:a,refreshUserData:s}=Pr(),[o,c]=g.useState(!1),[d,u]=g.useState(!1),[p,f]=g.useState(0),[h,y]=g.useState(!1),v=g.useRef(null),N=g.useRef(null),j=g.useRef(),b=g.useRef(),_=()=>{a(),t("/login")},S=async()=>{y(!0);try{await s(),await new Promise(I=>setTimeout(I,100)),console.log("Header refresh completed")}catch(I){console.error("Error refreshing user data:",I)}finally{setTimeout(()=>y(!1),1e3)}},P=()=>{f(I=>I+1),b.current&&clearTimeout(b.current),p>=2?(S(),f(0)):b.current=setTimeout(()=>{f(0)},2e3)},C=[{id:1,type:"service",title:"Service Completed",message:"Your AC repair service has been completed successfully.",time:"2 hours ago",read:!1},{id:2,type:"promotion",title:"Special Offer",message:"Get 20% off on your next home cleaning service.",time:"1 day ago",read:!1},{id:3,type:"reminder",title:"Upcoming Service",message:"Your plumbing service is scheduled for tomorrow at 10:00 AM.",time:"2 days ago",read:!0}],A=C.filter(I=>!I.read).length;g.useEffect(()=>{const I=D=>{v.current&&!v.current.contains(D.target)&&c(!1),N.current&&!N.current.contains(D.target)&&u(!1)},M=D=>{D.ctrlKey&&D.shiftKey&&D.key==="R"&&(D.preventDefault(),S())};return document.addEventListener("mousedown",I),document.addEventListener("keydown",M),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("keydown",M),j.current&&clearTimeout(j.current),b.current&&clearTimeout(b.current)}},[]),g.useEffect(()=>{n&&n.id&&s()},[n?.id]);const O=I=>{switch(I){case"service":return r.jsx(fs,{size:16,className:"text-orange-500"});case"promotion":return r.jsx(u1,{size:16,className:"text-amber-500"});case"reminder":return r.jsx(Sr,{size:16,className:"text-rose-400"});default:return r.jsx(Ec,{size:16,className:"text-orange-300"})}};return r.jsxs("header",{className:"bg-gradient-to-r from-orange-50/95 via-white/95 to-orange-50/95 backdrop-blur-sm shadow-sm border-b border-orange-100/70 h-16 flex items-center justify-between px-4 lg:px-6 relative z-30 text-orange-950",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx("button",{onClick:e,className:"p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 lg:hidden transition-all duration-200",children:r.jsx(yI,{size:24})})}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>u(!d),className:"relative p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 transition-all duration-200 group",children:[r.jsx(Ec,{size:20}),A>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-orange-500 to-amber-400 text-white text-xs rounded-full flex items-center justify-center font-semibold animate-pulse",children:A})]}),d&&r.jsxs("div",{ref:N,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-2 z-50 transform transition-all duration-200 ease-in-out",children:[r.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"font-semibold text-orange-900",children:"Notifications"}),r.jsxs("span",{className:"text-xs text-orange-500",children:[A," new"]})]})}),r.jsx("div",{className:"max-h-80 overflow-y-auto",children:C.map(I=>r.jsx("div",{className:`px-4 py-3 hover:bg-orange-50/60 cursor-pointer transition-colors duration-200 ${I.read?"":"bg-orange-50/70"}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"mt-1",children:O(I.type)}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"font-medium text-orange-900 text-sm",children:I.title}),!I.read&&r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full ml-2"})]}),r.jsx("p",{className:"text-orange-700/80 text-sm mt-1",children:I.message}),r.jsx("p",{className:"text-orange-400 text-xs mt-1",children:I.time})]})]})},I.id))}),r.jsx("div",{className:"px-4 py-3 border-t border-orange-100 bg-orange-50/60",children:r.jsx("button",{className:"w-full text-center text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all notifications"})})]})]}),n?r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer p-2 rounded-xl hover:bg-orange-100/60 transition-all duration-200",onClick:()=>c(!o),onDoubleClick:P,children:[r.jsxs("div",{className:"hidden sm:block text-right",children:[r.jsx("p",{className:"text-sm font-medium text-orange-900",children:n.name||"User"}),r.jsx("p",{className:"text-xs text-orange-500 capitalize",children:n.role})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:h?r.jsx(qr,{size:20,className:"text-orange-50 animate-spin"}):r.jsx(Dt,{size:20,className:"text-white"})}),r.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white"}),h&&r.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full border-2 border-white animate-pulse"})]}),r.jsx(ws,{size:16,className:"text-orange-400 hidden sm:block"})]}),o&&r.jsxs("div",{ref:v,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-3 z-50 transform transition-all duration-200 ease-in-out",children:[r.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:r.jsx(Dt,{size:24,className:"text-white"})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-semibold text-orange-900 truncate",children:n.name||"User"}),r.jsx("p",{className:"text-sm text-orange-600 truncate",children:n.email}),r.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 capitalize",children:n.role}),r.jsxs("span",{className:"flex items-center text-xs text-emerald-600",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Online"]})]})]})]})}),r.jsx("div",{className:"px-4 py-3",children:r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kr,{size:16,className:"text-orange-400"}),r.jsx("span",{className:"text-orange-600",children:"Member since"})]}),r.jsx("span",{className:"text-orange-900",children:"Jan 2024"})]}),n.role==="user"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(fs,{size:16,className:"text-orange-400"}),r.jsx("span",{className:"text-orange-600",children:"Services booked"})]}),r.jsx("span",{className:"text-orange-900",children:"12"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(u1,{size:16,className:"text-orange-400"}),r.jsx("span",{className:"text-orange-600",children:"Loyalty points"})]}),r.jsx("span",{className:"text-amber-600 font-semibold",children:"850"})]})]})]})}),r.jsx("div",{className:"px-4 py-2 border-t border-orange-100 bg-orange-50/60",children:r.jsx("div",{className:"space-y-1",children:r.jsxs("button",{onClick:_,className:"w-full flex items-center space-x-3 text-sm text-red-600 hover:bg-red-50 py-2 px-3 rounded-lg transition-colors duration-200",children:[r.jsx(g0,{size:16}),r.jsx("span",{children:"Sign Out"})]})})})]})]}):r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>t("/login"),className:"px-4 py-2 text-sm font-medium text-orange-700 hover:text-orange-900 transition-colors duration-200",children:"Sign In"}),r.jsx("button",{onClick:()=>t("/register"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-amber-400 hover:from-orange-600 hover:to-amber-500 rounded-lg transition-all duration-200",children:"Get Started"})]})]})]})},or=({children:e})=>{const{user:t}=Pr(),[n,a]=g.useState(!1),s=()=>{a(!n)};return r.jsxs("div",{className:"flex h-screen bg-secondary",children:[r.jsx("div",{className:"hidden lg:block",children:r.jsx(oS,{isMobile:!1,toggleSidebar:s})}),n&&r.jsxs("div",{className:"lg:hidden",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:s}),r.jsx(oS,{isMobile:!0,toggleSidebar:s})]}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(WY,{toggleSidebar:s}),r.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e})]})]})},HY=()=>{const[e,t]=g.useState("30d"),[n,a]=g.useState(""),[s,o]=g.useState("");g.useEffect(()=>{const d=new Date,u=d.toISOString().split("T")[0];let p;switch(e){case"7d":p=new Date(d.setDate(d.getDate()-7)).toISOString().split("T")[0];break;case"30d":p=new Date(d.setDate(d.getDate()-30)).toISOString().split("T")[0];break;case"90d":p=new Date(d.setDate(d.getDate()-90)).toISOString().split("T")[0];break;case"1y":p=new Date(d.setFullYear(d.getFullYear()-1)).toISOString().split("T")[0];break;default:p=new Date(d.setDate(d.getDate()-7)).toISOString().split("T")[0]}a(p),o(u)},[e]);const c=(d,u)=>{a(d),o(u)};return r.jsx(or,{children:r.jsxs("div",{className:"min-h-screen bg-secondary",children:[r.jsx(DI,{dateFrom:n,dateTo:s,onDateRangeChange:c}),r.jsx("div",{className:"pt-20 pb-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[r.jsx(YI,{dateFrom:n,dateTo:s}),r.jsx(RY,{dateFrom:n,dateTo:s}),r.jsx(FY,{dateFrom:n,dateTo:s}),r.jsx(BY,{dateFrom:n,dateTo:s}),r.jsx(UY,{dateFrom:n,dateTo:s}),r.jsx(qY,{dateFrom:n,dateTo:s}),r.jsx(KY,{})]})})]})})},He=({children:e,className:t=""})=>r.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${t}`,children:e}),ct=({children:e,className:t=""})=>r.jsx("div",{className:`p-6 border-b border-gray-200 ${t}`,children:e}),dt=({children:e,className:t=""})=>r.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),Ve=({children:e,className:t=""})=>r.jsx("div",{className:`p-6 ${t}`,children:e}),je=({variant:e="primary",size:t="md",children:n,fullWidth:a=!1,isLoading:s=!1,className:o="",disabled:c,...d})=>{const u="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",p={primary:"bg-primary hover:bg-primary-dark text-secondary-dark",secondary:"bg-secondary text-white hover:bg-secondary-light",outline:"border border-primary bg-transparent text-black hover:bg-primary/10 hover:text-black",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",link:"bg-transparent underline-offset-4 hover:underline text-primary p-0 h-auto"},f={sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"},h=a?"w-full":"";return r.jsxs("button",{className:`${u} ${p[e]} ${f[t]} ${h} ${o}`,disabled:c||s,...d,children:[s?r.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,n]})},VY=(e,t)=>{const n=new Array(e.length+t.length);for(let a=0;a<e.length;a++)n[a]=e[a];for(let a=0;a<t.length;a++)n[e.length+a]=t[a];return n},GY=(e,t)=>({classGroupId:e,validator:t}),nO=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),mf="-",lS=[],YY="arbitrary..",XY=e=>{const t=ZY(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return JY(c);const d=c.split(mf),u=d[0]===""&&d.length>1?1:0;return aO(d,u,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const u=a[c],p=n[c];return u?p?VY(p,u):u:p||lS}return n[c]||lS}}},aO=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],o=n.nextPart.get(s);if(o){const p=aO(e,t+1,o);if(p)return p}const c=n.validators;if(c===null)return;const d=t===0?e.join(mf):e.slice(t).join(mf),u=c.length;for(let p=0;p<u;p++){const f=c[p];if(f.validator(d))return f.classGroupId}},JY=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),a=t.slice(0,n);return a?YY+a:void 0})(),ZY=e=>{const{theme:t,classGroups:n}=e;return QY(n,t)},QY=(e,t)=>{const n=nO();for(const a in e){const s=e[a];vb(s,n,a,t)}return n},vb=(e,t,n,a)=>{const s=e.length;for(let o=0;o<s;o++){const c=e[o];eX(c,t,n,a)}},eX=(e,t,n,a)=>{if(typeof e=="string"){tX(e,t,n);return}if(typeof e=="function"){rX(e,t,n,a);return}nX(e,t,n,a)},tX=(e,t,n)=>{const a=e===""?t:sO(t,e);a.classGroupId=n},rX=(e,t,n,a)=>{if(aX(e)){vb(e(a),t,n,a);return}t.validators===null&&(t.validators=[]),t.validators.push(GY(n,e))},nX=(e,t,n,a)=>{const s=Object.entries(e),o=s.length;for(let c=0;c<o;c++){const[d,u]=s[c];vb(u,sO(t,d),n,a)}},sO=(e,t)=>{let n=e;const a=t.split(mf),s=a.length;for(let o=0;o<s;o++){const c=a[o];let d=n.nextPart.get(c);d||(d=nO(),n.nextPart.set(c,d)),n=d}return n},aX=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,sX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),a=Object.create(null);const s=(o,c)=>{n[o]=c,t++,t>e&&(t=0,a=n,n=Object.create(null))};return{get(o){let c=n[o];if(c!==void 0)return c;if((c=a[o])!==void 0)return s(o,c),c},set(o,c){o in n?n[o]=c:s(o,c)}}},n0="!",cS=":",iX=[],dS=(e,t,n,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:a,isExternal:s}),oX=e=>{const{prefix:t,experimentalParseClassName:n}=e;let a=s=>{const o=[];let c=0,d=0,u=0,p;const f=s.length;for(let j=0;j<f;j++){const b=s[j];if(c===0&&d===0){if(b===cS){o.push(s.slice(u,j)),u=j+1;continue}if(b==="/"){p=j;continue}}b==="["?c++:b==="]"?c--:b==="("?d++:b===")"&&d--}const h=o.length===0?s:s.slice(u);let y=h,v=!1;h.endsWith(n0)?(y=h.slice(0,-1),v=!0):h.startsWith(n0)&&(y=h.slice(1),v=!0);const N=p&&p>u?p-u:void 0;return dS(o,v,y,N)};if(t){const s=t+cS,o=a;a=c=>c.startsWith(s)?o(c.slice(s.length)):dS(iX,!1,c,void 0,!0)}if(n){const s=a;a=o=>n({className:o,parseClassName:s})}return a},lX=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,a)=>{t.set(n,1e6+a)}),n=>{const a=[];let s=[];for(let o=0;o<n.length;o++){const c=n[o],d=c[0]==="[",u=t.has(c);d||u?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(c)):s.push(c)}return s.length>0&&(s.sort(),a.push(...s)),a}},cX=e=>({cache:sX(e.cacheSize),parseClassName:oX(e),sortModifiers:lX(e),...XY(e)}),dX=/\s+/,uX=(e,t)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:o}=t,c=[],d=e.trim().split(dX);let u="";for(let p=d.length-1;p>=0;p-=1){const f=d[p],{isExternal:h,modifiers:y,hasImportantModifier:v,baseClassName:N,maybePostfixModifierPosition:j}=n(f);if(h){u=f+(u.length>0?" "+u:u);continue}let b=!!j,_=a(b?N.substring(0,j):N);if(!_){if(!b){u=f+(u.length>0?" "+u:u);continue}if(_=a(N),!_){u=f+(u.length>0?" "+u:u);continue}b=!1}const S=y.length===0?"":y.length===1?y[0]:o(y).join(":"),P=v?S+n0:S,C=P+_;if(c.indexOf(C)>-1)continue;c.push(C);const A=s(_,b);for(let O=0;O<A.length;++O){const I=A[O];c.push(P+I)}u=f+(u.length>0?" "+u:u)}return u},mX=(...e)=>{let t=0,n,a,s="";for(;t<e.length;)(n=e[t++])&&(a=iO(n))&&(s&&(s+=" "),s+=a);return s},iO=e=>{if(typeof e=="string")return e;let t,n="";for(let a=0;a<e.length;a++)e[a]&&(t=iO(e[a]))&&(n&&(n+=" "),n+=t);return n},fX=(e,...t)=>{let n,a,s,o;const c=u=>{const p=t.reduce((f,h)=>h(f),e());return n=cX(p),a=n.cache.get,s=n.cache.set,o=d,d(u)},d=u=>{const p=a(u);if(p)return p;const f=uX(u,n);return s(u,f),f};return o=c,(...u)=>o(mX(...u))},pX=[],ur=e=>{const t=n=>n[e]||pX;return t.isThemeGetter=!0,t},oO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,hX=/^\d+\/\d+$/,gX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Do=e=>hX.test(e),ot=e=>!!e&&!Number.isNaN(Number(e)),Qs=e=>!!e&&Number.isInteger(Number(e)),Bx=e=>e.endsWith("%")&&ot(e.slice(0,-1)),Va=e=>gX.test(e),jX=()=>!0,wX=e=>xX.test(e)&&!yX.test(e),cO=()=>!1,NX=e=>vX.test(e),_X=e=>bX.test(e),kX=e=>!qe(e)&&!Ke(e),SX=e=>kl(e,mO,cO),qe=e=>oO.test(e),Ei=e=>kl(e,fO,wX),Ux=e=>kl(e,OX,ot),uS=e=>kl(e,dO,cO),PX=e=>kl(e,uO,_X),Vu=e=>kl(e,pO,NX),Ke=e=>lO.test(e),bc=e=>Sl(e,fO),CX=e=>Sl(e,TX),mS=e=>Sl(e,dO),AX=e=>Sl(e,mO),EX=e=>Sl(e,uO),Gu=e=>Sl(e,pO,!0),kl=(e,t,n)=>{const a=oO.exec(e);return a?a[1]?t(a[1]):n(a[2]):!1},Sl=(e,t,n=!1)=>{const a=lO.exec(e);return a?a[1]?t(a[1]):n:!1},dO=e=>e==="position"||e==="percentage",uO=e=>e==="image"||e==="url",mO=e=>e==="length"||e==="size"||e==="bg-size",fO=e=>e==="length",OX=e=>e==="number",TX=e=>e==="family-name",pO=e=>e==="shadow",IX=()=>{const e=ur("color"),t=ur("font"),n=ur("text"),a=ur("font-weight"),s=ur("tracking"),o=ur("leading"),c=ur("breakpoint"),d=ur("container"),u=ur("spacing"),p=ur("radius"),f=ur("shadow"),h=ur("inset-shadow"),y=ur("text-shadow"),v=ur("drop-shadow"),N=ur("blur"),j=ur("perspective"),b=ur("aspect"),_=ur("ease"),S=ur("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...C(),Ke,qe],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],M=()=>[Ke,qe,u],D=()=>[Do,"full","auto",...M()],z=()=>[Qs,"none","subgrid",Ke,qe],Y=()=>["auto",{span:["full",Qs,Ke,qe]},Qs,Ke,qe],W=()=>[Qs,"auto",Ke,qe],re=()=>["auto","min","max","fr",Ke,qe],U=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],R=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...M()],le=()=>[Do,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],H=()=>[e,Ke,qe],ee=()=>[...C(),mS,uS,{position:[Ke,qe]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",AX,SX,{size:[Ke,qe]}],$=()=>[Bx,bc,Ei],G=()=>["","none","full",p,Ke,qe],ge=()=>["",ot,bc,Ei],ue=()=>["solid","dashed","dotted","double"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],xe=()=>[ot,Bx,mS,uS],Ne=()=>["","none",N,Ke,qe],T=()=>["none",ot,Ke,qe],K=()=>["none",ot,Ke,qe],oe=()=>[ot,Ke,qe],te=()=>[Do,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Va],breakpoint:[Va],color:[jX],container:[Va],"drop-shadow":[Va],ease:["in","out","in-out"],font:[kX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Va],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Va],shadow:[Va],spacing:["px",ot],text:[Va],"text-shadow":[Va],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Do,qe,Ke,b]}],container:["container"],columns:[{columns:[ot,qe,Ke,d]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Qs,"auto",Ke,qe]}],basis:[{basis:[Do,"full","auto",d,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ot,Do,"auto","initial","none",qe]}],grow:[{grow:["",ot,Ke,qe]}],shrink:[{shrink:["",ot,Ke,qe]}],order:[{order:[Qs,"first","last","none",Ke,qe]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:Y()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:Y()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":re()}],"auto-rows":[{"auto-rows":re()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...R(),"normal"]}],"justify-self":[{"justify-self":["auto",...R()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...R(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...R(),{baseline:["","last"]}]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...R(),"baseline"]}],"place-self":[{"place-self":["auto",...R()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[d,"screen",...le()]}],"min-w":[{"min-w":[d,"screen","none",...le()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,bc,Ei]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Ke,Ux]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Bx,qe]}],"font-family":[{font:[CX,qe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ke,qe]}],"line-clamp":[{"line-clamp":[ot,"none",Ke,Ux]}],leading:[{leading:[o,...M()]}],"list-image":[{"list-image":["none",Ke,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[ot,"from-font","auto",Ke,Ei]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[ot,"auto",Ke,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ee()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Qs,Ke,qe],radial:["",Ke,qe],conic:[Qs,Ke,qe]},EX,PX]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ot,Ke,qe]}],"outline-w":[{outline:["",ot,bc,Ei]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",f,Gu,Vu]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",h,Gu,Vu]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[ot,Ei]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",y,Gu,Vu]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[ot,Ke,qe]}],"mix-blend":[{"mix-blend":[...se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ot]}],"mask-image-linear-from-pos":[{"mask-linear-from":xe()}],"mask-image-linear-to-pos":[{"mask-linear-to":xe()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":xe()}],"mask-image-t-to-pos":[{"mask-t-to":xe()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":xe()}],"mask-image-r-to-pos":[{"mask-r-to":xe()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":xe()}],"mask-image-b-to-pos":[{"mask-b-to":xe()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":xe()}],"mask-image-l-to-pos":[{"mask-l-to":xe()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":xe()}],"mask-image-x-to-pos":[{"mask-x-to":xe()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":xe()}],"mask-image-y-to-pos":[{"mask-y-to":xe()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[Ke,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":xe()}],"mask-image-radial-to-pos":[{"mask-radial-to":xe()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[ot]}],"mask-image-conic-from-pos":[{"mask-conic-from":xe()}],"mask-image-conic-to-pos":[{"mask-conic-to":xe()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ee()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,qe]}],filter:[{filter:["","none",Ke,qe]}],blur:[{blur:Ne()}],brightness:[{brightness:[ot,Ke,qe]}],contrast:[{contrast:[ot,Ke,qe]}],"drop-shadow":[{"drop-shadow":["","none",v,Gu,Vu]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",ot,Ke,qe]}],"hue-rotate":[{"hue-rotate":[ot,Ke,qe]}],invert:[{invert:["",ot,Ke,qe]}],saturate:[{saturate:[ot,Ke,qe]}],sepia:[{sepia:["",ot,Ke,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,qe]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[ot,Ke,qe]}],"backdrop-contrast":[{"backdrop-contrast":[ot,Ke,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ot,Ke,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ot,Ke,qe]}],"backdrop-invert":[{"backdrop-invert":["",ot,Ke,qe]}],"backdrop-opacity":[{"backdrop-opacity":[ot,Ke,qe]}],"backdrop-saturate":[{"backdrop-saturate":[ot,Ke,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",ot,Ke,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ot,"initial",Ke,qe]}],ease:[{ease:["linear","initial",_,Ke,qe]}],delay:[{delay:[ot,Ke,qe]}],animate:[{animate:["none",S,Ke,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Ke,qe]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:T()}],"rotate-x":[{"rotate-x":T()}],"rotate-y":[{"rotate-y":T()}],"rotate-z":[{"rotate-z":T()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:oe()}],"skew-x":[{"skew-x":oe()}],"skew-y":[{"skew-y":oe()}],transform:[{transform:[Ke,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:te()}],"translate-x":[{"translate-x":te()}],"translate-y":[{"translate-y":te()}],"translate-z":[{"translate-z":te()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,qe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[ot,bc,Ei,Ux]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},MX=fX(IX);function ff(...e){return MX(ft(e))}const DX=({value:e,onValueChange:t,children:n,className:a})=>r.jsx("div",{className:ff("w-full",a),children:fn.Children.map(n,s=>fn.isValidElement(s)?fn.cloneElement(s,{children:fn.Children.map(s.props.children,o=>{if(fn.isValidElement(o)){const c=o.props.value===e;return fn.cloneElement(o,{onValueChange:t,className:ff(o.props.className,c?"bg-secondary text-primary":"text-gray-500 hover:text-primary")})}return o})}):s)}),LX=({children:e,className:t})=>r.jsx("div",{className:ff("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),children:e}),fS=({value:e,children:t,className:n,onValueChange:a})=>r.jsx("button",{className:ff("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",n),onClick:()=>a?.(e),children:t}),$X=({fieldVisibility:e})=>r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[e.name&&r.jsx("th",{className:"text-left pb-4",children:"Provider"}),e.contact&&r.jsx("th",{className:"text-left pb-4",children:"Contact"}),e.location&&r.jsx("th",{className:"text-left pb-4",children:"Location"}),e.status&&r.jsx("th",{className:"text-left pb-4",children:"Status"}),e.verification&&r.jsx("th",{className:"text-left pb-4",children:"Verification"}),e.earnings&&r.jsx("th",{className:"text-left pb-4",children:"Earnings"}),e.experience&&r.jsx("th",{className:"text-left pb-4",children:"Experience"}),e.featured&&r.jsx("th",{className:"text-left pb-4",children:"Featured"}),e.action&&r.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),zX=({provider:e,onStatusAction:t})=>r.jsxs("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(je,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1",children:[r.jsx(Wr,{size:12}),r.jsx("span",{children:"Approve"})]}),r.jsxs(je,{onClick:()=>t(e.id,"reject"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1",children:[r.jsx(rs,{size:12}),r.jsx("span",{children:"Reject"})]})]}),e.status==="approved"&&r.jsxs(je,{onClick:()=>t(e.id,"suspend"),className:"flex items-center space-x-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs px-2 py-1",children:[r.jsx(_a,{size:12}),r.jsx("span",{children:"Suspend"})]}),e.status==="suspended"&&r.jsxs(je,{onClick:()=>t(e.id,"reinstate"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[r.jsx(Wr,{size:12}),r.jsx("span",{children:"Reinstate"})]}),e.status==="blocked"&&r.jsxs(je,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[r.jsx(Wr,{size:12}),r.jsx("span",{children:"Approve"})]})]}),RX=({provider:e,formatDate:t})=>{const n=s=>{switch(s){case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"blocked":return"bg-red-100 text-red-700";case"suspended":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},a=s=>{switch(s){case"approved":return r.jsx(Wr,{size:14,className:"text-green-600"});case"pending":return r.jsx(Sr,{size:14,className:"text-yellow-600"});case"blocked":return r.jsx(rs,{size:14,className:"text-red-600"});case"suspended":return r.jsx(_a,{size:14,className:"text-orange-600"});default:return null}};return r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[a(e.status),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",t(e.created_at)]})]})},FX=({provider:e,fieldVisibility:t,expandingUsers:n,onStatusAction:a,onToggleDropdown:s,formatDate:o,formatCurrency:c,isExpanded:d=!1,isLoading:u=!1})=>{const p=u&&n.has(e.id),f=d||n.has(e.id);return r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"py-4",children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx(je,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-white hover:border-primary hover:shadow-md group",disabled:p,children:p?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):r.jsxs(r.Fragment,{children:[r.jsx(to,{size:14,className:"mr-1 text-black group-hover:text-white transition-colors duration-200"}),r.jsx("span",{children:f?"Hide":"Details"}),f?r.jsx(ul,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"}):r.jsx(ws,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"})]})})})}),t.name&&r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-primary",children:e.name.charAt(0)})}),r.jsx("div",{children:r.jsx("p",{className:"font-medium text-gray-900",children:e.name})})]})}),t.contact&&r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ms,{size:14,className:"text-gray-400"}),r.jsx("span",{className:"text-sm",children:e.email})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ui,{size:14,className:"text-gray-400"}),r.jsx("span",{className:"text-sm",children:e.phone})]})]})}),t.location&&r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"text-sm",children:[e.city,", ",e.state]}),r.jsx("div",{className:"text-sm text-gray-500",children:e.pincode})]})}),t.status&&r.jsx("td",{className:"py-4",children:r.jsx(RX,{provider:e,formatDate:o})}),t.verification&&r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[e.verification_status==="verified"?r.jsx(_a,{size:16,className:"text-green-500"}):r.jsx(_a,{size:16,className:"text-gray-400"}),r.jsx("span",{className:"text-sm",children:e.verification_status})]})}),t.earnings&&r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"text-sm font-medium",children:c(e.total_earnings)}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Commission: ",e.commission_rate,"%"]})]})}),t.experience&&r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Sr,{size:14,className:"text-gray-400"}),r.jsxs("span",{className:"text-sm",children:[e.experience_years," years"]})]})}),t.featured&&r.jsx("td",{className:"py-4",children:e.is_featured?r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"Featured"}):r.jsx("span",{className:"text-gray-400 text-xs",children:"Not Featured"})}),t.action&&r.jsx("td",{className:"py-4",children:r.jsx(zX,{provider:e,onStatusAction:a})})]})},BX=({provider:e,formatDate:t,serviceCatalog:n})=>{const a=!!(e.bank_details&&(e.bank_details.account_holder_name||e.bank_details.bank_name||e.bank_details.account_number||e.bank_details.ifsc_code)),s=g.useMemo(()=>{const f=new Map;return Object.entries(n.categories).forEach(([h,y])=>{f.set(Number(h),y.name)}),e.subcategory_links?.forEach(h=>{h.category_name&&h.category_id&&f.set(h.category_id,h.category_name)}),f},[e.subcategory_links,n]),o=g.useMemo(()=>{const f=new Map,h=(y,v)=>{const N=y!==null?`cat-${y}`:`misc-${v}`;return f.has(N)||f.set(N,{key:N,category_id:y,category_name:v,subcategories:[],services:[]}),f.get(N)};return(e.category_ids??[]).forEach(y=>{const v=s.get(y)||`Category ${y}`;h(y,v)}),(e.subcategory_links??[]).forEach(y=>{const v=y.category_id||null,N=v&&y.subcategory_id?n.categories[v]?.services?.[y.subcategory_id]??null:null,j=y.category_name||(v?s.get(v)||`Category ${v}`:"Other");h(v,j).subcategories.push({id:y.subcategory_id||null,rawName:y.subcategory_name,catalogName:N})}),(e.services??[]).forEach(y=>{const v=y.category_name||"General",j=(e.category_ids??[]).find(_=>s.get(_)===y.category_name)??null;h(j,v).services.push(y)}),f.size===0&&(e.services?.length??0)>0&&f.set("general",{key:"general",category_id:null,category_name:"Services",subcategories:[],services:e.services??[]}),Array.from(f.values())},[e.category_ids,e.subcategory_links,e.services,s,n]),c=o.length>0,[d,u]=g.useState(new Set),p=f=>{u(h=>{const y=new Set(h);return y.has(f)?y.delete(f):y.add(f),y})};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:r.jsx(Sa,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Provider Overview"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-purple-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider ID"})]}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-green-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ms,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Contact Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ms,{size:16,className:"text-primary"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ui,{size:16,className:"text-green-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-4 border border-amber-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ts,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Location Information"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ts,{size:16,className:"text-amber-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.address}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]}),e.services&&e.services.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-rose-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(p0,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-rose-900",children:"Services"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.services.map(f=>r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-rose-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:f.service_name}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500",children:[f.duration_minutes," mins"]}),r.jsxs("span",{className:"font-medium text-primary",children:["",f.price_min," - ",f.price_max]})]}),r.jsx("div",{className:"mt-2",children:r.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:f.category_name})})]},f.id))})]}),e.service_areas&&e.service_areas.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ts,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-teal-900",children:"Service Areas"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.service_areas.map((f,h)=>r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-teal-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h5",{className:"font-medium text-gray-900",children:f.area_name}),f.is_primary&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Primary"})]}),r.jsxs("p",{className:"text-sm text-gray-600",children:[f.city,", ",f.state]}),r.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pincode: ",f.pincode]})]},h))})]}),e.documents&&e.documents.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ia,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Documents"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.documents.map(f=>r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-orange-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:f.document_type}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status})]}),r.jsx("p",{className:"text-sm text-gray-600",children:f.document_name}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Uploaded: ",t(f.uploaded_at)]}),f.verified_at&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Verified: ",t(f.verified_at)]}),f.rejection_reason&&r.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded-md",children:[r.jsx("p",{className:"text-sm font-medium text-red-700",children:"Rejection Reason"}),r.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.rejection_reason})]}),f.document_url&&r.jsx(je,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.open(f.document_url,"_blank","noopener,noreferrer"),children:"View Document"})]},f.id))})]}),c&&r.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:r.jsx(hI,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Service Coverage"})]}),r.jsx("div",{className:"space-y-3",children:o.map(f=>{const h=d.has(f.key)||f.services.length===0;return r.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 shadow-sm",children:[r.jsxs("button",{type:"button",onClick:()=>p(f.key),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.category_name}),f.category_id!==null&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Category ID: ",f.category_id]}),f.services.length>0&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.services.length," service",f.services.length>1?"s":""]})]}),f.services.length>0&&r.jsx(ws,{size:16,className:`text-blue-500 transition-transform ${h?"rotate-180":""}`})]}),f.subcategories.length>0&&r.jsxs("div",{className:"px-4 pb-3",children:[r.jsx("span",{className:"text-xs font-medium text-gray-500 block mb-2",children:"Services"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:f.subcategories.map((y,v)=>{const N=y.catalogName||(y.id?n.servicesById[y.id]:null)||y.rawName||(f.services.find(j=>j.id===y.id)?.service_name??null)||`Service ${y.id||v+1}`;return r.jsxs("div",{className:"px-3 py-2 rounded-lg bg-blue-50 border border-primary/20 text-sm text-blue-700 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ra,{size:14,className:"text-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:N}),y.id&&r.jsxs("p",{className:"text-xs text-blue-400",children:["Service ID: ",y.id]})]})]}),f.services.length>0&&r.jsx("button",{type:"button",onClick:()=>p(f.key),className:"text-xs text-blue-500 hover:underline",children:"View details"})]},`${f.key}-${y.id??v}`)})})]}),f.services.length>0&&h&&r.jsx("div",{className:"border-t border-blue-50 bg-blue-50/50 px-4 py-3 space-y-2",children:f.services.map(y=>r.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 p-3 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("p",{className:"font-medium text-sm text-gray-900",children:y.service_name}),(y.price_min||y.price_max)&&r.jsxs("span",{className:"text-xs font-semibold text-primary",children:["",y.price_min," - ",y.price_max]})]}),y.description&&r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:y.description}),r.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[y.duration_minutes>0&&r.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full",children:["Duration: ",y.duration_minutes," mins"]}),y.status&&r.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full capitalize",children:["Status: ",y.status]})]})]},`${f.key}-service-${y.id}`))})]},f.key)})})]}),a&&e.bank_details&&r.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-cyan-50 rounded-lg p-4 border border-slate-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(us,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Account Verification"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Holder Name"}),r.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_holder_name||"N/A"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Bank Name"}),r.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.bank_name||"N/A"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Number"}),r.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_number||"N/A"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[r.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"IFSC Code"}),r.jsx("p",{className:"text-sm text-gray-800 uppercase",children:e.bank_details.ifsc_code||"N/A"})]})]})]}),e.portfolio&&e.portfolio.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:r.jsx(qo,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Portfolio"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.portfolio.map(f=>r.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-primary/20",children:[r.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:f.title}),r.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.description}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[r.jsx("img",{src:f.before_image,alt:"Before",className:"object-cover w-full h-full"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"Before"})]}),r.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[r.jsx("img",{src:f.after_image,alt:"After",className:"object-cover w-full h-full"}),r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"After"})]})]}),r.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-500",children:["Created: ",t(f.created_at)]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]})]},f.id))})]})]})},UX=({searchTerm:e,onSearchChange:t})=>r.jsxs("div",{className:"relative w-64",children:[r.jsx(Yr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search providers...",className:"pl-8 pr-4 py-2 w-full rounded-lg border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary",value:e,onChange:n=>t(n.target.value)})]}),qX=({showFieldManagement:e,onToggleSettings:t,fieldVisibility:n,onToggleField:a,onResetFields:s})=>r.jsxs("div",{className:"relative",children:[r.jsxs(je,{variant:"outline",size:"sm",onClick:t,className:"border-2 border-primary text-black font-semibold hover:bg-primary hover:text-white hover:border-primary group",children:[r.jsx(um,{size:16,className:"mr-2 text-black group-hover:text-white transition-colors duration-200"}),"Fields"]}),e&&r.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[400px] flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b border-gray-100 flex-shrink-0",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Field Visibility"}),r.jsx(je,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:r.jsx(gt,{size:14})})]}),r.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-3 min-h-0",children:r.jsx("div",{className:"space-y-2",children:Object.entries(n).map(([o,c])=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c,onChange:()=>a(o),disabled:["name","status","action"].includes(o),className:`rounded border-gray-300 text-primary focus:ring-primary ${["name","status","action"].includes(o)?"opacity-50":""}`}),r.jsxs("span",{className:`text-sm capitalize ${["name","status","action"].includes(o)?"font-medium":""}`,children:[o.replace(/([A-Z])/g," $1").trim(),["name","status","action"].includes(o)&&" (Required)"]})]},o))})}),r.jsx("div",{className:"p-4 pt-3 border-t border-gray-200 flex-shrink-0",children:r.jsx(je,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Reset to Default"})})]})]}),KX=({currentPage:e,totalPages:t,startIndex:n,itemsPerPage:a,totalItems:s,onPageChange:o})=>r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",n+1," to ",Math.min(n+a,s)," of ",s," providers"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(eo,{size:16})}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),r.jsx(je,{onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Ia,{size:16})})]})]}),WX=({isOpen:e,providerId:t,action:n,reason:a,notes:s,onClose:o,onConfirm:c,onReasonChange:d,onNotesChange:u})=>{if(!e||!t||!n)return null;const p=()=>{switch(n){case"approve":return"Approve Provider";case"reject":return"Reject Provider";case"suspend":return"Suspend Provider";case"reinstate":return"Reinstate Provider";default:return""}},f=()=>{switch(n){case"approve":return"bg-green-600 text-white hover:bg-green-700";case"reject":return"bg-red-600 text-white hover:bg-red-700";case"suspend":return"bg-yellow-600 text-white hover:bg-yellow-700";case"reinstate":return"bg-primary text-white hover:bg-primary-dark";default:return""}},h=()=>{switch(n){case"approve":return"Approve";case"reject":return"Reject";case"suspend":return"Suspend";case"reinstate":return"Reinstate";default:return""}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:p()}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),r.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:a,onChange:y=>d(y.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),r.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter any additional notes...",value:s,onChange:y=>u(y.target.value)})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx(je,{variant:"outline",onClick:o,children:"Cancel"}),r.jsx(je,{variant:"outline",onClick:()=>c(t,n,a,s),className:f(),children:h()})]})]})})},HX=({isOpen:e,providerId:t,documentId:n,action:a,reason:s,onClose:o,onConfirm:c,onReasonChange:d})=>!e||!t||!n||!a?null:r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:a==="approve"?"Approve Document":"Reject Document"}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),r.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:s,onChange:u=>d(u.target.value)})]})}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx(je,{variant:"outline",onClick:o,children:"Cancel"}),r.jsx(je,{variant:"outline",onClick:()=>c(t,n,a,s),className:`${a==="approve"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:a==="approve"?"Approve":"Reject"})]})]})}),pS=[{code:"+91",country:"India",flag:""},{code:"+1",country:"USA/Canada",flag:""},{code:"+44",country:"UK",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+27",country:"South Africa",flag:""}],hS={store_name:"",owner_name:"",owner_number:"",owner_country_code:"+91",store_contact_number:"",store_country_code:"+91",email:"",store_address:"",pincode:"",latitude:"",longitude:"",store_opening_time:"",store_closing_time:"",pos_billing_software_name:"",real_time_stock_capability:"",bank_account_name:"",bank_account_number:"",bank_name:"",ifsc_code:"",drug_license:null,gst_certificate:null,pan_card:null,aadhar_card:null,store_front_view:null,medicine_racks_view:null,owner_photo_with_store:null,medicine_inventory_file:null,cancel_cheque_passbook:null,shop_license:null},VX=({isOpen:e,onClose:t,onSubmit:n,isSubmitting:a})=>{const[s,o]=g.useState(hS),[c,d]=g.useState({});g.useEffect(()=>{e||(o(hS),d({}))},[e]);const u=v=>{const{name:N,value:j}=v.target;o(b=>({...b,[N]:j}))},p=(v,N)=>{const j=v.target.files?.[0]||null;if(j)if(o(b=>({...b,[N]:j})),j.type.startsWith("image/")){const b=new FileReader;b.onloadend=()=>{d(_=>({..._,[N]:b.result}))},b.readAsDataURL(j)}else d(b=>({...b,[N]:null}))},f=v=>{o(N=>({...N,[v]:null})),d(N=>{const j={...N};return delete j[v],j})},h=async v=>{if(v.preventDefault(),!s.store_name||!s.owner_name||!s.owner_number||!s.store_contact_number||!s.email||!s.store_address||!s.pincode||!s.latitude||!s.longitude||!s.store_opening_time||!s.store_closing_time||!s.pos_billing_software_name||!s.bank_account_name||!s.bank_account_number||!s.bank_name||!s.ifsc_code||!s.drug_license||!s.gst_certificate||!s.pan_card||!s.store_front_view||!s.owner_photo_with_store||!s.cancel_cheque_passbook){alert("Please fill all mandatory fields");return}const N=new FormData;N.append("store_name",s.store_name),N.append("owner_name",s.owner_name),N.append("owner_number",`${s.owner_country_code}${s.owner_number}`),N.append("store_contact_number",`${s.store_country_code}${s.store_contact_number}`),N.append("email",s.email),N.append("store_address",s.store_address),N.append("pincode",s.pincode),N.append("latitude",s.latitude),N.append("longitude",s.longitude),N.append("store_opening_time",s.store_opening_time),N.append("store_closing_time",s.store_closing_time),N.append("pos_billing_software_name",s.pos_billing_software_name),s.real_time_stock_capability&&N.append("real_time_stock_capability",s.real_time_stock_capability),N.append("bank_account_name",s.bank_account_name),N.append("bank_account_number",s.bank_account_number),N.append("bank_name",s.bank_name),N.append("ifsc_code",s.ifsc_code),s.drug_license&&N.append("drug_license",s.drug_license),s.gst_certificate&&N.append("gst_certificate",s.gst_certificate),s.pan_card&&N.append("pan_card",s.pan_card),s.aadhar_card&&N.append("aadhar_card",s.aadhar_card),s.store_front_view&&N.append("store_front_view",s.store_front_view),s.medicine_racks_view&&N.append("medicine_racks_view",s.medicine_racks_view),s.owner_photo_with_store&&N.append("owner_photo_with_store",s.owner_photo_with_store),s.medicine_inventory_file&&N.append("medicine_inventory_file",s.medicine_inventory_file),s.cancel_cheque_passbook&&N.append("cancel_cheque_passbook",s.cancel_cheque_passbook),s.shop_license&&N.append("shop_license",s.shop_license),await n(N)};if(!e)return null;const y=(v,N,j=!1,b=".pdf,.jpg,.jpeg,.png",_=!0)=>{const S=s[v],P=c[v];return r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[N," ",j&&r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("label",{className:"flex-1 cursor-pointer",children:[r.jsx("input",{type:"file",accept:b,onChange:C=>p(C,v),className:"hidden",required:j}),r.jsxs("div",{className:"flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-md hover:border-primary transition-colors",children:[r.jsx(Jo,{size:20,className:"mr-2 text-gray-400"}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Upload ",_?"Image":"File"]})]})]}),S&&r.jsxs("div",{className:"flex items-center space-x-2",children:[_&&P&&r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:P,alt:"Preview",className:"w-16 h-16 object-cover rounded"}),r.jsx("button",{type:"button",onClick:()=>f(v),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:r.jsx(gt,{size:12})})]}),!_&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-600",children:S.name}),r.jsx("button",{type:"button",onClick:()=>f(v),className:"text-red-500 hover:text-red-700",children:r.jsx(gt,{size:16})})]})]})]})]})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-10",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Register New Provider"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:a,children:r.jsx(gt,{size:24})})]}),r.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"store_name",required:!0,value:s.store_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("select",{name:"owner_country_code",value:s.owner_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:pS.map(v=>r.jsxs("option",{value:v.code,children:[v.flag," ",v.code]},v.code))}),r.jsx("input",{type:"tel",name:"owner_number",required:!0,value:s.owner_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Contact Number (for login in app) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("select",{name:"store_country_code",value:s.store_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:pS.map(v=>r.jsxs("option",{value:v.code,children:[v.flag," ",v.code]},v.code))}),r.jsx("input",{type:"tel",name:"store_contact_number",required:!0,value:s.store_contact_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email-ID ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"email",name:"email",required:!0,value:s.email,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Address With Pincode ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{name:"store_address",required:!0,value:s.store_address,onChange:u,rows:2,placeholder:"Enter full address with pincode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"pincode",required:!0,value:s.pincode,onChange:u,placeholder:"XXXXXX",maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Latitude ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"latitude",required:!0,value:s.latitude,onChange:u,step:"any",placeholder:"e.g., 28.6139",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Longitude ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",name:"longitude",required:!0,value:s.longitude,onChange:u,step:"any",placeholder:"e.g., 77.2090",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Timings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Opening Time ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"time",name:"store_opening_time",required:!0,value:s.store_opening_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Closing Time ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"time",name:"store_closing_time",required:!0,value:s.store_closing_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Business Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["POS/Billing Software Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"pos_billing_software_name",required:!0,value:s.pos_billing_software_name,onChange:u,placeholder:"e.g., Tally, QuickBooks, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Do you have real-time stock update capability?"}),r.jsxs("select",{name:"real_time_stock_capability",value:s.real_time_stock_capability,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[r.jsx("option",{value:"",children:"Select"}),r.jsx("option",{value:"yes",children:"Yes"}),r.jsx("option",{value:"no",children:"No"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Bank Account Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Holder Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"bank_account_name",required:!0,value:s.bank_account_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"bank_account_number",required:!0,value:s.bank_account_number,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"bank_name",required:!0,value:s.bank_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["IFSC Code ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"ifsc_code",required:!0,value:s.ifsc_code,onChange:u,placeholder:"ABCD0123456",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Documents"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y("drug_license","Drug license (Form 20/21)",!0),y("gst_certificate","GST Certificate",!0),y("pan_card","Pan Card (OWNER/BUSINESS)",!0),y("aadhar_card","Aadhar Card (OWNER)",!1),y("store_front_view","Front view of store (WITH SIGNBOARD)",!0),y("medicine_racks_view","Inside view of medicine racks",!1),y("owner_photo_with_store","Owner photo with store",!0),y("medicine_inventory_file","Upload Medicine Inventory File (Excel/CSV)",!1,".xlsx,.xls,.csv",!1),y("cancel_cheque_passbook","Cancel Cheque/Passbook Photo",!0),y("shop_license","Shop License (If Available)",!1)]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[r.jsx(je,{type:"button",variant:"outline",onClick:t,disabled:a,className:"border-2 border-primary !text-black font-semibold hover:bg-gray-100 hover:border-gray-500 hover:!text-black",children:"Cancel"}),r.jsx(je,{type:"submit",variant:"primary",disabled:a,className:"font-semibold shadow-md hover:shadow-lg",children:a?r.jsxs(r.Fragment,{children:[r.jsx(oa,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register Provider"})]})]})]})})},GX={},qx={pending:{status:"pending",verification_status:"pending"},verification_in_progress:{status:"pending",verification_status:"pending"},in_progress:{status:"pending",verification_status:"pending"},approved:{status:"approved",verification_status:"verified"},verified:{status:"approved",verification_status:"verified"},active:{status:"approved",verification_status:"verified"},rejected:{status:"blocked",verification_status:"rejected"},blocked:{status:"blocked",verification_status:"rejected"},suspend:{status:"suspended",verification_status:"verified"},suspended:{status:"suspended",verification_status:"verified"}},YX=e=>{if(!e)return qx.pending;const t=e.toLowerCase();return qx[t]||qx.pending},Nr=(e,t=0)=>{if(e==null||e==="")return t;const n=Number(e);return Number.isFinite(n)?n:t},Bo=(e,t=!1)=>{if(e==null)return t;if(typeof e=="string"){const n=e.trim().toLowerCase();if(["true","1","yes","verified","approved"].includes(n))return!0;if(["false","0","no","pending","rejected"].includes(n))return!1}return!!e},vt=(e,t="")=>{if(e==null)return t;const n=String(e).trim();return n.length>0?n:t},sl=(e,t=null)=>{if(e==null)return t;const n=String(e).trim();return n.length>0?n:t},XX=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>vt(t)).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(n=>vt(n)).filter(Boolean)}catch{return e.split(",").map(t=>t.trim()).filter(Boolean)}return e?[e]:[]}return[]},JX=e=>Array.isArray(e)?e.map((t,n)=>({id:Nr(t?.id,n+1),service_name:vt(t?.service_name??t?.title,`Service ${n+1}`),description:vt(t?.description,""),price_min:Nr(t?.price_min??t?.price??t?.price_original,0),price_max:Nr(t?.price_max??t?.price??t?.price_original,0),duration_minutes:Nr(t?.duration_minutes??t?.duration,0),status:vt(t?.status,"active"),category_name:vt(t?.category_name??t?.category,"General")})):[],ZX=(e,t,n)=>Array.isArray(e)?e.map((a,s)=>({pincode:vt(a?.pincode,""),area_name:vt(a?.area_name??a?.name,`Area ${s+1}`),city:vt(a?.city,t),state:vt(a?.state,n),is_primary:Bo(a?.is_primary??a?.primary,s===0)})):[],QX=(e,t)=>{if(Array.isArray(e?.documents)&&e.documents.length>0)return e.documents.map((c,d)=>({id:Nr(c?.id,d+1),document_type:vt(c?.document_type??c?.type,`document_${d+1}`),document_name:vt(c?.document_name??c?.document_type??c?.type,`Document ${d+1}`),status:vt(c?.status,c?.verified_at?"approved":c?.rejection_reason?"rejected":"submitted"),uploaded_at:vt(c?.uploaded_at,e?.created_at||t?.created_at||new Date().toISOString()),verified_at:c?.verified_at??null,rejection_reason:c?.rejection_reason??null,document_url:sl(c?.document_url??c?.url??c?.file_url??c?.path??c?.link??null,null)}));const n=[],a=new Set,s=(c,d)=>{const u=c.trim();if(!u)return;const p=u.toLowerCase();a.has(p)||(a.add(p),n.push({id:n.length+1,document_type:u,document_name:u,status:"submitted",uploaded_at:e?.created_at||t?.created_at||new Date().toISOString(),verified_at:null,rejection_reason:null,document_url:sl(d??null,null)}))};return e?.documents&&typeof e.documents=="object"&&Object.entries(e.documents).forEach(([c,d])=>{if(!d)return;const u=c.replace(/_url|_doc_url/g,"").replace(/_/g," ").trim();if(u){if(Array.isArray(d))d.forEach((p,f)=>{if(!p)return;const h=d.length>1?`${u} ${f+1}`:u;if(typeof p=="string")s(h,p);else if(typeof p=="object"){const y=p.url??p?.document_url??p?.path??p?.file_url;y&&s(h,String(y))}});else if(typeof d=="string")s(u,d);else if(typeof d=="object"){const p=d.url??d?.document_url??d?.path??d?.file_url;p&&s(u,String(p))}}}),[{key:"profile_photo_url",label:"Profile Photo"},{key:"aadhaar_doc_url",label:"Aadhaar Document"},{key:"pan_doc_url",label:"PAN Document"},{key:"degree_doc_url",label:"Degree Document"}].forEach(({key:c,label:d})=>{e?.[c]&&s(d,e[c])}),n.length===0&&t?.documents?t.documents:n},eJ=(e,t)=>{if(Array.isArray(e?.portfolio)&&e.portfolio.length>0)return e.portfolio;const n=XX(e?.previous_work_images);return n.length===0?t?.portfolio??[]:n.map((a,s)=>({id:s+1,title:`Work ${s+1}`,description:"",image_path:a,before_image:a,after_image:a,display_order:s+1,status:"active",created_at:e?.created_at||t?.created_at||new Date().toISOString()}))},tJ=(e,t)=>{if(!e&&!t)return null;const n=e||t;return n?{account_holder_name:vt(n.account_holder_name,t?.account_holder_name??""),bank_name:vt(n.bank_name,t?.bank_name??""),account_number:vt(n.account_number,t?.account_number??""),ifsc_code:vt(n.ifsc_code,t?.ifsc_code??"")}:null},rJ=(e,t)=>Array.isArray(e)?e.map(n=>Nr(n)).filter(n=>Number.isFinite(n)&&n>0):t||[],nJ=(e,t)=>{if(Array.isArray(e)){const n=[];return e.forEach((a,s)=>{const o=Nr(a?.category_id,a?.category?Number(a?.category):0),c=Nr(a?.subcategory_id,s+1);!o&&!c||n.push({category_id:o,subcategory_id:c,category_name:sl(a?.category_name??a?.category??null,null),subcategory_name:sl(a?.subcategory_name??a?.subcategory??null,null)})}),n}return t||[]},Lo=(e,t)=>{if(!e&&t)return t;if(!e)return{id:0,name:"",email:"",phone:"",business_name:"",address:"",pincode:"",city:"",state:"",profile_image:null,business_logo:null,experience_years:0,description:null,status:"pending",verification_status:"pending",email_verified:!1,phone_verified:!1,identity_verified:!1,documents_verified:!1,average_rating:0,total_reviews:0,total_bookings:0,total_earnings:0,commission_rate:0,is_featured:!1,created_at:new Date().toISOString(),services:[],service_areas:[],documents:[],portfolio:[]};const n=e?.details?{...e.details,...e}:e,{status:a,verification_status:s}=YX(n?.status),o=vt(n?.city,t?.city??""),c=vt(n?.state,t?.state??""),d=JX(n?.services),u=ZX(n?.service_areas,o,c),p=QX(n,t),f=eJ(n,t),h=tJ(n?.bank_details,t?.bank_details),y=rJ(n?.categories,t?.category_ids),v=nJ(n?.subcategories,t?.subcategory_links),N=vt(n?.created_at,t?.created_at??new Date().toISOString()),j=n?.average_rating??n?.rating,b=n?.total_reviews??(Array.isArray(n?.reviews)?n.reviews.length:void 0),_=n?.total_bookings??n?.completed_appointments;return{id:Nr(n?.id??n?.provider_id,t?.id??0),name:vt(n?.full_name??n?.name,t?.name??""),email:vt(n?.email,t?.email??""),phone:vt(n?.phone_number??n?.phone,t?.phone??""),business_name:vt(n?.business_name,t?.business_name??""),address:vt(n?.address,t?.address??""),pincode:vt(n?.pincode,t?.pincode??""),city:o,state:c,profile_image:sl(n?.profile_photo_url??n?.profile_image??n?.documents?.profile_photo_url,t?.profile_image??null),business_logo:sl(n?.business_logo,t?.business_logo??null),experience_years:Nr(n?.experience_years,t?.experience_years??0),description:n?.description??t?.description??null,status:a,verification_status:s,email_verified:Bo(n?.email_verified,t?.email_verified??!1),phone_verified:Bo(n?.phone_verified,t?.phone_verified??!1),identity_verified:Bo(n?.identity_verified,t?.identity_verified??!1),documents_verified:Bo(n?.documents_verified,t?.documents_verified??a==="approved"),average_rating:Nr(j,t?.average_rating??0),total_reviews:Nr(b,t?.total_reviews??0),total_bookings:Nr(_,t?.total_bookings??0),total_earnings:Nr(n?.total_earnings,t?.total_earnings??0),commission_rate:Nr(n?.commission_rate,t?.commission_rate??0),is_featured:Bo(n?.is_featured,t?.is_featured??!1),created_at:N,services:d.length>0?d:t?.services??[],service_areas:u.length>0?u:t?.service_areas??[],documents:p.length>0?p:t?.documents??[],portfolio:f.length>0?f:t?.portfolio??[],bank_details:h,category_ids:y,subcategory_links:v}},Yu=(e,t)=>{if(!t)return e;const n=e.findIndex(s=>s.id===t.id);if(n===-1)return e;const a=[...e];return a[n]=t,a},aJ={approve:{apiAction:"approve",nextStatus:"approved",verification:"verified"},reject:{apiAction:"reject",nextStatus:"blocked",verification:"rejected"},suspend:{apiAction:"suspend",nextStatus:"suspended",verification:"verified"},reinstate:{apiAction:"reinstate",nextStatus:"approved",verification:"verified"}},sJ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(""),[d,u]=g.useState(1),[p,f]=g.useState(new Set),[h,y]=g.useState(!1),[v,N]=g.useState({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1}),j=5,b=GX?.VITE_API_BASE_URL||"/api",[_,S]=g.useState("all"),[P,C]=g.useState([]),[A,O]=g.useState(!1),[I,M]=g.useState({isOpen:!1,providerId:null,action:null,reason:"",notes:""}),[D,z]=g.useState({isOpen:!1,providerId:null,documentId:null,action:null}),[Y,W]=g.useState(!1),[re,U]=g.useState(!1),[R,Q]=g.useState({categories:{},servicesById:{}}),le=g.useCallback(async()=>{const he=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{const[pe,Je]=await Promise.all([fetch(`${b}/admin/categories`,{headers:{"Content-Type":"application/json",...he?{Authorization:`Bearer ${he}`}:{}}}),fetch(`${b}/admin/services`,{headers:{"Content-Type":"application/json",...he?{Authorization:`Bearer ${he}`}:{}}})]),Oe=await pe.json(),me=await Je.json();if(pe.ok&&Array.isArray(Oe.categories)){const Ae={};Oe.categories.forEach(De=>{const $e=Nr(De?.id,0);if(!$e)return;const at={},yt=Array.isArray(De?.subcategories)?De.subcategories:De?.services;Array.isArray(yt)&&yt.forEach((F,L)=>{const fe=Nr(F?.id,L+1);fe&&(at[fe]=vt(F?.name??F?.title??F?.service_name,`Service ${fe}`))}),Ae[$e]={name:vt(De?.name,`Category ${$e}`),services:at}});const Te={};Je.ok&&Array.isArray(me.services)&&me.services.forEach((De,$e)=>{const at=Nr(De?.id,$e+1);at&&(Te[at]=vt(De?.title??De?.name??De?.service_name,`Service ${at}`))}),Q({categories:Ae,servicesById:Te})}else throw new Error(Oe.message||"Failed to fetch categories")}catch(pe){console.error("Error fetching categories catalog:",pe);const Je=pe instanceof Error?pe.message:"Failed to fetch categories";e(Je,"error")}},[b,e]),H=g.useCallback(async(he=!1)=>{const pe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!pe){e("Please login to view providers","error"),he&&s(!1);return}he&&s(!0);try{const Je=await fetch(`${b}/admin/providers`,{headers:{Authorization:`Bearer ${pe}`,"Content-Type":"application/json"}});if(!Je.ok)throw new Error(`HTTP error! status: ${Je.status}`);const Oe=Je.headers.get("content-type");if(!Oe||!Oe.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),n([]);return}const me=await Je.text();if(!me||me.trim()===""){console.warn("Empty response body, treating as empty list"),n([]);return}let Ae;try{Ae=JSON.parse(me)}catch(Te){throw console.error("JSON parse error:",Te,"Response text:",me),new Error("Invalid JSON response from server")}if(Array.isArray(Ae.data)){const Te=Ae.data.map(De=>Lo(De));n(Te)}else if(Ae.success===!1)console.warn("API returned error:",Ae.message),n([]);else throw new Error(Ae.message||"Failed to fetch providers")}catch(Je){console.error("Error fetching providers:",Je);const Oe=Je instanceof Error?Je.message:"Failed to fetch providers";e(Oe,"error"),n([])}finally{he&&s(!1)}},[b,e]),ee=g.useCallback(async()=>{O(!0);const he=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!he){e("Please login to view pending providers","error"),O(!1);return}try{const pe=await fetch(`${b}/admin/providers?list=pending`,{headers:{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}});if(!pe.ok)throw new Error(`HTTP error! status: ${pe.status}`);const Je=pe.headers.get("content-type");if(!Je||!Je.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),C([]);return}const Oe=await pe.text();if(!Oe||Oe.trim()===""){console.warn("Empty response body, treating as empty list"),C([]);return}let me;try{me=JSON.parse(Oe)}catch(Ae){throw console.error("JSON parse error:",Ae,"Response text:",Oe),new Error("Invalid JSON response from server")}if(Array.isArray(me.data)){const Ae=me.data.map(Te=>Lo(Te));C(Ae)}else if(me.success===!1)console.warn("API returned error:",me.message),C([]);else throw new Error(me.message||"Failed to fetch pending providers")}catch(pe){console.error("Error fetching pending providers:",pe);const Je=pe instanceof Error?pe.message:"Failed to fetch pending providers";e(Je,"error"),C([])}finally{O(!1)}},[b,e]);g.useEffect(()=>{H(!0),ee(),le()},[H,ee,le]),g.useEffect(()=>{_==="pending"||H(),ee()},[_,ee,H]),g.useEffect(()=>{const he=setInterval(()=>{H(),ee()},3e4);return()=>clearInterval(he)},[ee,H]);const ce=async he=>{const pe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!pe){e("Please login to view provider details","error");return}try{const Je=await fetch(`${b}/admin/providers?provider_id=${he}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${pe}`}}),Oe=await Je.json(),me=Array.isArray(Oe?.data)?Oe.data[0]:Oe?.data;if(Je.ok&&me){const Ae=me;let Te=null;n(De=>{const $e=De.find(at=>at.id===he);return Te=Lo(Ae,$e),Yu(De,Te)}),C(De=>{if(!Te){const $e=De.find(at=>at.id===he);Te=Lo(Ae,$e)}return Yu(De,Te)})}else throw new Error(Oe.message||"Failed to fetch provider details")}catch(Je){console.error("Error fetching provider details:",Je),e(Je instanceof Error?Je.message:"Failed to fetch provider details","error")}},B=he=>{const pe=new Set(p);p.has(he)?pe.delete(he):(pe.add(he),ce(he)),f(pe)},$=he=>{he==="name"||he==="status"||he==="action"||N(pe=>({...pe,[he]:!pe[he]}))},G=()=>{N({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1})},ge=()=>{M({isOpen:!1,providerId:null,action:null,reason:"",notes:""})},ue=(he,pe)=>{if(pe==="reject"||pe==="suspend"){M({isOpen:!0,providerId:he,action:pe,reason:"",notes:""});return}K(he,pe)},se=t.filter(he=>he.name.toLowerCase().includes(o.toLowerCase())||he.email.toLowerCase().includes(o.toLowerCase())||he.phone.includes(o)||he.city.toLowerCase().includes(o.toLowerCase())),xe=Math.ceil(se.length/j),Ne=(d-1)*j,T=se.slice(Ne,Ne+j),K=async(he,pe,Je,Oe)=>{const me=aJ[pe];if(!me)return;const Ae=(Oe||Je||"").trim();if((pe==="reject"||pe==="suspend")&&!Ae){e("Please provide a reason for this action","error");return}try{const Te=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Te){e("Please login to verify provider","error");return}const De={action:me.apiAction};Ae&&(De.notes=Ae);const $e=await fetch(`${b}/admin/provider/verify/${he}`,{method:"PUT",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify(De)});if(!$e.ok){let F="Failed to update provider status";try{const L=await $e.json();F=L.message||L.error?.message||F}catch{F=`Failed to update provider status: ${$e.status} ${$e.statusText}`}throw new Error(F)}let at={};if($e.status!==204)try{const F=$e.headers.get("content-type");if(F&&F.includes("application/json")){const L=await $e.text();L&&L.trim()&&(at=JSON.parse(L))}}catch(F){console.warn("Failed to parse response JSON, but response was successful. Provider status was updated:",F),at={}}const yt=me.nextStatus!=="pending";if(at.provider){const F=at.provider;let L=null;n(fe=>{const ye=fe.find(nt=>nt.id===he);return L=Lo(F,ye),Yu(fe,L)}),C(fe=>{if(!L){const tt=fe.find(nt=>nt.id===he);L=Lo(F,tt)}const ye=Yu(fe,L);return yt?ye.filter(tt=>tt.id!==he):ye})}else n(F=>F.map(L=>L.id===he?{...L,status:me.nextStatus,verification_status:me.verification}:L)),C(F=>{const L=F.map(fe=>fe.id===he?{...fe,status:me.nextStatus,verification_status:me.verification}:fe);return yt?L.filter(fe=>fe.id!==he):L});ge(),e(at.message||`Provider ${pe}d successfully`,"success");try{await H()}catch(F){console.error("Error refreshing providers list:",F)}try{await ee()}catch(F){console.error("Error refreshing pending providers list:",F)}}catch(Te){console.error("Error updating provider status:",Te),e(Te instanceof Error?Te.message:"Failed to update provider status","error")}},oe=async he=>{U(!0);try{const pe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!pe){e("Please login to register a provider","error"),U(!1);return}const Je=await fetch(`${b}/provider/register`,{method:"POST",headers:{Authorization:`Bearer ${pe}`},body:he}),Oe=await Je.json();if(Je.ok&&Oe.provider_id){e(Oe.message||"Provider registered successfully","success"),W(!1);try{await H(),await ee()}catch(me){console.error("Error refreshing providers list:",me)}}else{const me=Oe?.error?.message||Oe?.message||"Failed to register provider";e(me,"error")}}catch(pe){console.error("Error registering provider:",pe),e(pe instanceof Error?pe.message:"Failed to register provider","error")}finally{U(!1)}},te=async(he,pe,Je,Oe)=>{try{const me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!me){e("Please login to update document","error");return}const Te=await(await fetch(`${b}/admin/providers/${he}/documents/${pe}`,{method:"POST",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json"},body:JSON.stringify({action:Je,reason:Oe})})).json();Te.success&&(n(De=>De.map($e=>$e.id===he?{...$e,documents:$e.documents?.map(at=>at.id===pe?{...at,status:Je==="approve"?"approved":"rejected",rejection_reason:Oe||null}:at)}:$e)),e(Te.message,"success"))}catch(me){console.error("Error updating document status:",me),e("Failed to update document status","error")}},ve=he=>he?new Date(he).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Pe=he=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(he),Ze=()=>{const he=_==="pending"?P:T;return _==="pending"&&!A&&P.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:Object.values(v).filter(Boolean).length+1,className:"py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:r.jsx(Sa,{size:24,className:"text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Providers"}),r.jsx("p",{className:"text-gray-500 max-w-sm",children:"There are currently no vendors waiting for approval."})]})})}):A&&_==="pending"?r.jsx("tr",{children:r.jsx("td",{colSpan:Object.values(v).filter(Boolean).length+1,className:"py-12",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading pending providers..."})]})})}):he.map(pe=>r.jsxs(fn.Fragment,{children:[r.jsx(FX,{provider:pe,fieldVisibility:v,expandingUsers:p,onStatusAction:ue,onToggleDropdown:B,formatDate:ve,formatCurrency:Pe,isExpanded:p.has(pe.id)}),p.has(pe.id)&&r.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-primary/5 border-l-4 border-primary/20",children:r.jsx("td",{colSpan:Object.values(v).filter(Boolean).length+1,className:"p-6",children:r.jsx(BX,{provider:pe,formatDate:ve,serviceCatalog:R})})})]},pe.id))};return r.jsxs(or,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Vendors"}),r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:r.jsx(Sa,{className:"h-5 w-5 text-white"})}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"About"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-primary text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:"Manage and approve pharmacy vendor profiles, monitor their performance, and handle verification requests."})]})]})]}),a&&_==="all"?r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading vendors..."})]}):r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(dt,{children:"Vendors"}),r.jsx(DX,{value:_,onValueChange:he=>S(he),children:r.jsxs(LX,{children:[r.jsxs(fS,{value:"all",className:"relative",children:["Partnered Stores",r.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:t.length})]}),r.jsxs(fS,{value:"pending",className:"relative",children:["Pending Approval",r.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full",children:P.length})]})]})})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(je,{onClick:()=>W(!0),variant:"primary",className:"flex items-center space-x-2",children:[r.jsx(hn,{size:18}),r.jsx("span",{children:"Add Provider"})]}),r.jsx(qX,{showFieldManagement:h,onToggleSettings:()=>y(!h),fieldVisibility:v,onToggleField:$,onResetFields:G}),r.jsx(UX,{searchTerm:o,onSearchChange:c})]})]}),r.jsxs(Ve,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx($X,{fieldVisibility:v}),r.jsx("tbody",{children:Ze()})]})}),_==="all"&&xe>1&&r.jsx(KX,{currentPage:d,totalPages:xe,startIndex:Ne,itemsPerPage:j,totalItems:se.length,onPageChange:u})]})]}),r.jsx(WX,{isOpen:I.isOpen,providerId:I.providerId,action:I.action,reason:I.reason,notes:I.notes,onClose:ge,onConfirm:K,onReasonChange:he=>M(pe=>({...pe,reason:he})),onNotesChange:he=>M(pe=>({...pe,notes:he}))}),r.jsx(HX,{isOpen:D.isOpen,providerId:D.providerId,documentId:D.documentId,action:D.action,reason:D.reason,onClose:()=>z({isOpen:!1,providerId:null,documentId:null,action:null}),onConfirm:te,onReasonChange:he=>z(pe=>({...pe,reason:he}))}),r.jsx(VX,{isOpen:Y,onClose:()=>W(!1),onSubmit:oe,isSubmitting:re})]})},iJ=({isOpen:e,onClose:t,onConfirm:n,userName:a})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:r.jsx(ca,{className:"h-6 w-6 text-red-600"})})}),r.jsx("h3",{className:"text-lg font-semibold text-center mb-2",children:"Delete User"}),r.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Are you sure you want to delete ",a,"? This action cannot be undone."]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(je,{variant:"outline",onClick:t,className:"hover:bg-gray-100",children:"Cancel"}),r.jsx(je,{onClick:n,className:"bg-red-600 text-white hover:bg-red-700 border-red-600 hover:border-red-700",children:"Delete"})]})]})}):null,il=()=>r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}),oJ=({currentPage:e,totalPages:t,startIndex:n,itemsPerPage:a,totalItems:s,onPageChange:o})=>t<=1?null:r.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",n+1," to ",Math.min(n+a,s)," of ",s," users"]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(je,{variant:"outline",size:"sm",onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:`border-2 font-semibold transition-all duration-200 group ${e===1?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[r.jsx(eo,{size:16,className:e===1?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"}),r.jsx("span",{className:"ml-1",children:"Previous"})]}),r.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:[e," of ",t]}),r.jsxs(je,{variant:"outline",size:"sm",onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:`border-2 font-semibold transition-all duration-200 group ${e===t?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[r.jsx("span",{className:"mr-1",children:"Next"}),r.jsx(Ia,{size:16,className:e===t?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"})]})]})]}),hO=({searchTerm:e,onSearchChange:t})=>r.jsxs("div",{className:"relative w-64",children:[r.jsx(Yr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:n=>t(n.target.value)})]}),lJ=({user:e,formatDate:t,getActivityIcon:n})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:r.jsx(Dt,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"User Overview"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-purple-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User ID"})]}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-green-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-orange-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Login"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:t(e.last_login)})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ms,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Contact Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ms,{size:16,className:"text-primary"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ui,{size:16,className:"text-green-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ts,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Location Information"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ts,{size:16,className:"text-purple-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.address}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]})]}),cJ=({columnVisibility:e})=>r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50/50",children:[e.name&&r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Name"}),e.contact&&r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Contact"}),e.location&&r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Location"}),e.status&&r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Status"}),e.activity&&r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Activity"}),e.actions&&r.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Actions"})]})}),dJ=({user:e,columnVisibility:t,expandingUsers:n,onStatusChange:a,onToggleDropdown:s,onDelete:o,formatDate:c})=>r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[t.name&&r.jsx("td",{className:"py-4 px-4 align-middle",children:r.jsxs("div",{className:"flex items-center space-x-3 min-w-[180px]",children:[r.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center ring-2 ring-primary/10 flex-shrink-0",children:r.jsx("span",{className:"text-sm font-semibold text-primary",children:e.name.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.name}),r.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),t.contact&&r.jsx("td",{className:"py-4 px-4 align-middle",children:r.jsxs("div",{className:"space-y-2 min-w-[220px]",children:[r.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[r.jsx(ms,{size:14,className:"text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-900 break-words",children:e.email}),e.email_verified&&r.jsxs("div",{className:"flex items-center flex-shrink-0",children:[r.jsx(_a,{size:12,className:"text-green-500"}),r.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[r.jsx(ui,{size:14,className:"text-gray-400 flex-shrink-0"}),r.jsx("span",{className:"text-sm text-gray-900",children:e.phone}),e.phone_verified&&r.jsxs("div",{className:"flex items-center flex-shrink-0",children:[r.jsx(_a,{size:12,className:"text-green-500"}),r.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]})]})}),t.location&&r.jsx("td",{className:"py-4 px-4 align-middle",children:r.jsxs("div",{className:"text-sm min-w-[180px]",children:[r.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[e.city,", ",e.state]}),r.jsxs("p",{className:"text-gray-500 flex items-center",children:[r.jsx(ts,{size:12,className:"mr-1.5 flex-shrink-0"}),r.jsx("span",{children:e.pincode})]})]})}),t.status&&r.jsx("td",{className:"py-4 px-4 align-middle",children:r.jsx("div",{className:"min-w-[120px]",children:r.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700 border border-green-200":e.status==="suspended"?"bg-red-100 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:[r.jsx("div",{className:`w-2 h-2 rounded-full mr-2 flex-shrink-0 ${e.status==="active"?"bg-green-500":e.status==="suspended"?"bg-red-500":"bg-gray-500"}`}),e.status==="inactive"?"Active":e.status.charAt(0).toUpperCase()+e.status.slice(1)]})})}),t.activity&&r.jsx("td",{className:"py-4 px-4 align-middle",children:r.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kr,{size:14,className:"text-gray-400 flex-shrink-0"}),r.jsxs("span",{className:"text-sm text-gray-900",children:["Last: ",c(e.last_login)]})]}),r.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-4",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(kr,{size:12,className:"mr-1.5 flex-shrink-0"}),r.jsxs("span",{children:[e.total_bookings," bookings"]})]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(us,{size:12,className:"mr-1.5 flex-shrink-0"}),r.jsxs("span",{children:["",e.total_spent.toLocaleString()]})]})]})]})}),t.actions&&r.jsx("td",{className:"py-4 px-4 align-middle",children:r.jsxs("div",{className:"flex items-center space-x-2 min-w-[280px]",children:[r.jsxs("select",{value:e.status,onChange:d=>a(e.id,d.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white text-gray-900",children:[r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"suspended",children:"Suspended"})]}),r.jsx(je,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-white hover:border-primary hover:shadow-md group",disabled:n.has(e.id),children:n.has(e.id)?r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):r.jsxs(r.Fragment,{children:[r.jsx(to,{size:14,className:"mr-1 text-black group-hover:text-white transition-colors duration-200"}),r.jsx("span",{children:"Details"}),e.expanded?r.jsx(ul,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"}):r.jsx(ws,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"})]})}),r.jsxs(je,{variant:"outline",size:"sm",onClick:()=>o(e.id,e.name),className:"border-2 border-red-200 text-black font-semibold transition-all duration-200 hover:bg-red-600 hover:text-white hover:border-red-600 hover:shadow-lg group",children:[r.jsx(gt,{size:14,className:"mr-1 text-black group-hover:text-white transition-colors duration-200"}),"Delete"]})]})})]}),uJ={},Kx=uJ?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",mJ=e=>({id:e.id||0,name:e.full_name||e.name||"Unknown",email:e.email||"",phone:e.phone_number||e.phone||"",address:e.address||"",pincode:e.pincode||"",city:e.city||"",state:e.state||"",profile_image:e.profile_photo_url||e.profile_image||"",status:e.status==="active"||e.status==="inactive"||e.status==="suspended"?e.status:"active",email_verified:e.email_verified!==void 0?e.email_verified:!0,phone_verified:e.phone_verified!==void 0?e.phone_verified:!0,created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||e.created_at||new Date().toISOString(),last_login:e.last_login||e.updated_at||e.created_at||new Date().toISOString(),total_bookings:e.total_bookings||e.completed_appointments||0,total_spent:e.total_spent||0,recent_activities:(e.recent_activities||e.activities||[]).map(t=>({activity_type:t.activity_type||t.type||"unknown",description:t.description||"",ip_address:t.ip_address||"",created_at:t.created_at||new Date().toISOString()})),expanded:!1}),fJ=()=>{const[e,t]=g.useState([]),[n,a]=g.useState(!0),[s,o]=g.useState(""),[c,d]=g.useState(1),[u,p]=g.useState(new Set),f={name:!0,contact:!0,location:!0,status:!0,activity:!0,actions:!0},h=5,{addToast:y}=Yt(),{user:v}=Pr(),[N,j]=g.useState({isOpen:!1,userId:null,userName:""}),b=g.useCallback(async()=>{const z=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!z){y("Please login to view users","error"),a(!1);return}try{a(!0);const Y=await fetch(`${Kx}/admin/users`,{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}});if(!Y.ok){if(Y.status===401){y("Authentication failed. Please log in again.","error"),a(!1);return}throw new Error(`HTTP error! status: ${Y.status}`)}const W=Y.headers.get("content-type");if(!W||!W.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),t([]),a(!1);return}const re=await Y.text();if(!re||re.trim()===""){console.warn("Empty response body, treating as empty list"),t([]),a(!1);return}let U;try{U=JSON.parse(re)}catch(le){throw console.error("JSON parse error:",le,"Response text:",re),new Error("Invalid JSON response from server")}let R=[];if(Array.isArray(U.data))R=U.data;else if(Array.isArray(U.users))R=U.users;else if(Array.isArray(U))R=U;else if(U.success===!1){console.warn("API returned error:",U.message),t([]),a(!1);return}else throw new Error(U.message||"Invalid response format from server");const Q=R.map(le=>mJ(le));t(Q)}catch(Y){console.error("Error fetching users:",Y);const W=Y instanceof Error?Y.message:"Failed to fetch users";y(W,"error"),t([])}finally{a(!1)}},[y]);g.useEffect(()=>{b()},[b]);const _=e.filter(z=>z.name.toLowerCase().includes(s.toLowerCase())||z.email.toLowerCase().includes(s.toLowerCase())||z.phone.includes(s)||z.city.toLowerCase().includes(s.toLowerCase())),S=Math.ceil(_.length/h),P=(c-1)*h,C=_.slice(P,P+h),A=async(z,Y)=>{const W=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!W){y("Please login to update user status","error");return}let re={};const U=v?.name||v?.full_name||"Admin User";Y==="suspended"?re={action:"suspend",notes:"User suspended by admin",admin_name:U}:re={action:"activate"};try{t(e.map(ee=>ee.id===z?{...ee,status:Y,updated_at:new Date().toISOString()}:ee));const R=await fetch(`${Kx}/admin/users/${z}/status`,{method:"PUT",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify(re)});let Q=null;const le=R.headers.get("content-type");if(le&&le.includes("application/json")&&R.status!==204)try{const ee=await R.text();ee&&ee.trim()&&(Q=JSON.parse(ee))}catch(ee){console.warn("Could not parse response:",ee)}if(!R.ok){b();let ee="Failed to update user status";throw Q?ee=Q.message||Q.error?.message||ee:R.status===404?ee="User status update endpoint not found. The API endpoint may not be implemented yet.":R.status===401?ee="Authentication failed. Please log in again.":R.status===403?ee="You do not have permission to update user status.":ee=`Server error: ${R.status} ${R.statusText}`,new Error(ee)}y(Q?.message||`User status updated to ${Y}`,"success"),b()}catch(R){console.error("Error updating user status:",R);const Q=R instanceof Error?R.message:"Failed to update user status";y(Q,"error"),b()}},O=async z=>{const Y=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Y){y("Please login to delete user","error");return}try{if(!(await fetch(`${Kx}/admin/users/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete user");t(e.filter(re=>re.id!==z)),y("User deleted successfully","success"),j({isOpen:!1,userId:null,userName:""})}catch(W){console.error("Error deleting user:",W),y("Failed to delete user","error"),j({isOpen:!1,userId:null,userName:""})}},I=z=>{e.find(W=>W.id===z)?.expanded||(p(W=>new Set(W).add(z)),setTimeout(()=>{p(W=>{const re=new Set(W);return re.delete(z),re})},300)),t(W=>W.map(re=>re.id===z?{...re,expanded:!re.expanded}:re))},M=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=(z,Y)=>{j({isOpen:!0,userId:z,userName:Y})};return r.jsxs(or,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Users"}),r.jsx("p",{className:"text-gray-600",children:"Manage user accounts, orders, and engagement activity."})]}),n?r.jsx(il,{}):r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsx(dt,{children:"All Users"}),r.jsx("div",{className:"flex items-center space-x-3",children:r.jsx(hO,{searchTerm:s,onSearchChange:o})})]}),r.jsxs(Ve,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full border-collapse",children:[r.jsx(cJ,{columnVisibility:f}),r.jsx("tbody",{children:C.map(z=>r.jsxs(fn.Fragment,{children:[r.jsx(dJ,{user:z,columnVisibility:f,expandingUsers:u,onStatusChange:A,onToggleDropdown:I,onDelete:D,formatDate:M}),z.expanded&&r.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:r.jsx("td",{colSpan:Object.values(f).filter(Boolean).length,className:"py-6 px-6",children:r.jsx(lJ,{user:z,formatDate:M})})})]},z.id))})]})}),S>1&&r.jsx(oJ,{currentPage:c,totalPages:S,startIndex:P,itemsPerPage:h,totalItems:_.length,onPageChange:d})]})]}),r.jsx(iJ,{isOpen:N.isOpen,onClose:()=>j({isOpen:!1,userId:null,userName:""}),onConfirm:()=>N.userId&&O(N.userId),userName:N.userName})]})},pJ=({searchTerm:e,onSearchChange:t})=>r.jsxs("div",{className:"relative w-64",children:[r.jsx(Yr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search categories...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:n=>t(n.target.value)})]}),hJ=({currentPage:e,totalPages:t,startIndex:n,itemsPerPage:a,totalItems:s,onPageChange:o})=>r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",n+1," to ",Math.min(n+a,s)," of ",s," categories"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(eo,{size:16})}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),r.jsx(je,{onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Ia,{size:16})})]})]}),gJ=({isOpen:e,onClose:t,onSave:n,category:a,isSubmitting:s=!1,initialImageUrl:o})=>{const[c,d]=g.useState({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),[u,p]=g.useState(null);g.useEffect(()=>{if(a){const h=a;d({name:a.name,description:"",icon:"",image:typeof o=="string"?o:"",status:"active",sort_order:0,show_on_homepage:h.show_on_homepage||!1}),p(typeof o=="string"&&o?o:null)}else d({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),p(null)},[a,e,o]);const f=h=>{h.preventDefault(),n(c)};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:a?"Edit Category":"Add New Category"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),r.jsxs("form",{onSubmit:f,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),r.jsx("input",{type:"text",required:!0,value:c.name,onChange:h=>d({...c,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image (upload a file or paste a URL)"}),r.jsxs("div",{className:"grid gap-3",children:[r.jsx("div",{children:r.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md cursor-pointer bg-gray-50 hover:bg-gray-100",children:[r.jsx(Jo,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Choose file"}),r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h=>{const y=h.target.files&&h.target.files[0];if(y){const v=URL.createObjectURL(y);p(v),d({...c,image:y})}}})]})}),r.jsx("div",{children:r.jsx("input",{type:"url",value:typeof c.image=="string"?c.image:"",onChange:h=>{d({...c,image:h.target.value}),p(h.target.value||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"/public/images/cat.jpg or https://..."})})]}),u&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:u,alt:"Preview",className:"max-h-24 max-w-full rounded border"})})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c.show_on_homepage||!1,onChange:h=>d({...c,show_on_homepage:h.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show on Homepage (Max 6 categories)"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Only 6 categories with this checkbox checked will be displayed on the homepage"})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(je,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),r.jsx(je,{type:"submit",disabled:s,className:"bg-primary hover:bg-primary/90 text-white",children:s?"Saving...":a?"Update":"Create"})]})]})]})}):null},gS=({isOpen:e,onClose:t,onConfirm:n,category:a,isSubmitting:s=!1})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Delete Category"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',a?.name,'"? This action cannot be undone.']}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx(je,{onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),r.jsx(je,{onClick:n,disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Deleting...":"Delete"})]})]})]})}):null,gO={},Br=gO?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in",xJ=gO?.VITE_BACKEND_BASE_URL||"https://kwikmedi.mycartly.in",yJ=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let n=t.replace(/\\/g,"/");return n.startsWith("public/")?n=n.slice(7):n.startsWith("/public/")&&(n=n.slice(8)),n=n.startsWith("/")?n:`/${n}`,`${xJ}${n}`},Xu=()=>{const{addToast:e}=Yt(),{user:t}=Pr(),n=an();Cn();const a=t?.role==="admin",o=(()=>{const V=n.pathname;return V.includes("/inventory")?"inventory":V.includes("/generic")?"generic":V.includes("/branded")?"branded":"categories"})(),[c,d]=g.useState(0),[u,p]=g.useState(0),[f,h]=g.useState(!1),[y,v]=g.useState([]),[N,j]=g.useState([]),[b,_]=g.useState(!1),[S,P]=g.useState(!1),[C,A]=g.useState(""),[O,I]=g.useState(""),[M,D]=g.useState(1),[z,Y]=g.useState(1),[W,re]=g.useState(!1),[U,R]=g.useState("add"),[Q,le]=g.useState(null),[H,ee]=g.useState(!1),[ce,B]=g.useState(!1),[$,G]=g.useState([]),[ge,ue]=g.useState(!1),[se,xe]=g.useState([]),[Ne,T]=g.useState(!1),[K,oe]=g.useState(!1),[te,ve]=g.useState(null),[Pe,Ze]=g.useState("add"),[he,pe]=g.useState(!1),[Je,Oe]=g.useState(null),[me,Ae]=g.useState([]),[Te,De]=g.useState(!1),[$e,at]=g.useState(null),[yt,F]=g.useState("all"),[L,fe]=g.useState("all"),[ye,tt]=g.useState(!1),nt=10,Ie=async()=>{_(!0);try{const V=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Se=await fetch(`${Br}/api/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json",...V?{Authorization:`Bearer ${V}`}:{}}}),Me=await Se.json();if(Se.ok&&Me.categories&&Array.isArray(Me.categories)){const it=Me.categories.map(mt=>({id:mt.id,name:mt.name,image_url:typeof mt.image_url=="string"?mt.image_url:"",show_on_homepage:mt.show_on_homepage||!1,created_at:mt.created_at||new Date().toISOString(),updated_at:mt.updated_at||new Date().toISOString()}));v(it)}else throw new Error(Me.message||"Failed to fetch categories")}catch(V){console.error("Error fetching categories:",V);const Se=V instanceof Error?V.message:"Failed to fetch categories";e(Se,"error")}finally{_(!1)}};g.useEffect(()=>{Ie()},[]),g.useEffect(()=>{(o==="inventory"||o==="generic"||o==="branded")&&Dr(),(o==="generic"||o==="branded")&&Er()},[o]);const Er=async()=>{h(!0);try{const V=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Se=await fetch(`${Br}/api/admin/commissions`,{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(Se.ok){const Me=await Se.json();d(Me.generic_commission||0),p(Me.branded_commission||0)}}catch(V){console.error("Error fetching commissions:",V)}finally{h(!1)}},Wn=async(V,Se)=>{if(!a){e("Only super admin can update commission rates","error");return}h(!0);try{const Me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Xe=await fetch(`${Br}/api/admin/commissions`,{method:"PUT",headers:{Authorization:`Bearer ${Me}`,"Content-Type":"application/json"},body:JSON.stringify({[V==="generic"?"generic_commission":"branded_commission"]:Se})}),it=await Xe.json();if(Xe.ok&&it.success)d(it.generic_commission||0),p(it.branded_commission||0),e("Commission updated successfully","success");else{const mt=it?.error?.message||it?.message||"Failed to update commission";console.error("Error updating commission:",it),e(mt,"error")}}catch(Me){console.error("Error updating commission:",Me);const Xe=Me?.message||"Failed to update commission. Please try again.";e(Xe,"error")}finally{h(!1)}},Dr=async()=>{P(!0);try{const V=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Se=new URLSearchParams;O&&Se.append("search",O);const Me=await fetch(`${Br}/api/admin/inventory?${Se.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",...V?{Authorization:`Bearer ${V}`}:{}}});if(!Me.ok){const it=await Me.json().catch(()=>({}));throw console.error("Inventory fetch error:",Me.status,it),new Error(it.error?.message||it.message||`Failed to fetch inventory: ${Me.statusText}`)}const Xe=await Me.json();if(Xe.inventory&&Array.isArray(Xe.inventory)){const it=Xe.inventory.map(mt=>({...mt,price:Number(mt.price||0),discounted_price:mt.discounted_price?Number(mt.discounted_price):null,stock_quantity:Number(mt.stock_quantity||0),low_stock_threshold:Number(mt.low_stock_threshold||0)}));j(it)}else console.warn("Unexpected inventory response format:",Xe),j([])}catch(V){console.error("Error fetching inventory:",V);const Se=V instanceof Error?V.message:"Failed to fetch inventory";e(Se,"error"),j([])}finally{P(!1)}},ma=async V=>{const Se=V.target.files?.[0];if(Se){if(!Se.name.toLowerCase().endsWith(".xlsx")&&!Se.name.toLowerCase().endsWith(".xls")){e("Please upload an Excel file (.xlsx or .xls)","error");return}B(!0);try{const Me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Xe=new FormData;Xe.append("inventory_file",Se);const it=await fetch(`${Br}/api/admin/inventory/upload`,{method:"POST",headers:{...Me?{Authorization:`Bearer ${Me}`}:{}},body:Xe}),mt=await it.json();if(it.ok)e(`Inventory uploaded: ${mt.inserted} new, ${mt.updated} updated`,"success"),Dr();else throw new Error(mt.error?.message||mt.message||"Failed to upload inventory")}catch(Me){console.error("Error uploading inventory:",Me);const Xe=Me instanceof Error?Me.message:"Failed to upload inventory";e(Xe,"error")}finally{B(!1),V.target.value=""}}},Hn=V=>{ve(V),Ze("edit"),T(!0)},J=async V=>{if(confirm(`Are you sure you want to delete "${V.medicine_name}"?`))try{const Se=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Se){e("Please login to delete inventory","error");return}const Me=await fetch(`${Br}/api/admin/inventory/${V.id}`,{method:"DELETE",headers:{...Se?{Authorization:`Bearer ${Se}`}:{}}}),Xe=await Me.json();if(Me.ok)e("Inventory item deleted successfully","success"),Dr();else throw new Error(Xe.error?.message||Xe.message||"Failed to delete inventory item")}catch(Se){console.error("Error deleting inventory:",Se);const Me=Se instanceof Error?Se.message:"Failed to delete inventory item";e(Me,"error")}},Ee=async V=>{oe(!0);try{const Se=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Se){e("Please login to add inventory","error");return}const Me=Pe==="edit"&&te?"PUT":"POST",Xe=Pe==="edit"&&te?`${Br}/api/admin/inventory/${te.id}`:`${Br}/api/admin/inventory`,it=await fetch(Xe,{method:Me,headers:{...Se?{Authorization:`Bearer ${Se}`}:{}},body:V}),mt=await it.json();if(it.ok)e(`Inventory item ${Pe==="edit"?"updated":"added"} successfully`,"success"),T(!1),ve(null),Ze("add"),Dr();else throw new Error(mt.error?.message||mt.message||`Failed to ${Pe==="edit"?"update":"add"} inventory item`)}catch(Se){console.error(`Error ${Pe==="edit"?"updating":"adding"} inventory:`,Se);const Me=Se instanceof Error?Se.message:`Failed to ${Pe==="edit"?"update":"add"} inventory item`;e(Me,"error")}finally{oe(!1)}},Ge=async(V,Se)=>{try{const Me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Xe=await fetch(`${Br}/api/admin/inventory/${V}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",...Me?{Authorization:`Bearer ${Me}`}:{}},body:JSON.stringify({category_ids:Se})}),it=await Xe.json();if(Xe.ok)e("Categories assigned successfully","success"),Dr();else throw new Error(it.error?.message||it.message||"Failed to assign categories")}catch(Me){console.error("Error assigning categories:",Me);const Xe=Me instanceof Error?Me.message:"Failed to assign categories";e(Xe,"error")}},_t=async()=>{if($.length===0||se.length===0){e("Please select inventory items and categories","error");return}try{const V=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Se=await fetch(`${Br}/api/admin/inventory/bulk-assign-categories`,{method:"POST",headers:{"Content-Type":"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify({inventory_ids:$,category_ids:se})}),Me=await Se.json();if(Se.ok)e(`Categories assigned to ${Me.items_updated} items`,"success"),G([]),xe([]),ue(!1),Dr();else throw new Error(Me.error?.message||Me.message||"Failed to assign categories")}catch(V){console.error("Error bulk assigning categories:",V);const Se=V instanceof Error?V.message:"Failed to assign categories";e(Se,"error")}},St=V=>{G(Se=>Se.includes(V)?Se.filter(Me=>Me!==V):[...Se,V])},lr=()=>{$.length===Gn.length?G([]):G(Gn.map(V=>V.id))},Lr=async()=>{if($.length===0){e("Please select inventory items to delete","error");return}if(confirm(`Are you sure you want to delete ${$.length} inventory item(s)?`))try{const V=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!V){e("Please login to delete inventory","error");return}const Se=await fetch(`${Br}/api/admin/inventory/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify({inventory_ids:$})}),Me=await Se.json();if(Se.ok)e(`Successfully deleted ${Me.deleted_count} inventory item(s)`,"success"),G([]),Dr();else throw new Error(Me.error?.message||Me.message||"Failed to delete inventory items")}catch(V){console.error("Error bulk deleting inventory:",V);const Se=V instanceof Error?V.message:"Failed to delete inventory items";e(Se,"error")}},Vn=()=>{at(null),F("all"),fe("all"),tt(!1)},Xr=$e!==null||yt!=="all"||L!=="all"||ye,An=()=>{R("add"),le(null),re(!0)},Es=V=>{R("edit"),le(V),re(!0)},$a=V=>{R("delete"),le(V),re(!0)},Pl=async V=>{ee(!0);try{const Se=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Se){e("Please login to save category","error"),ee(!1);return}const Me=Xe=>{if(!Xe)return"Request failed";if(typeof Xe=="string")return Xe;if(Xe.message&&typeof Xe.message=="string")return Xe.message;if(Xe.error&&typeof Xe.error=="string")return Xe.error;if(Xe.errors&&typeof Xe.errors=="object"){const it=Object.keys(Xe.errors)[0],mt=Array.isArray(Xe.errors[it])?Xe.errors[it][0]:Xe.errors[it];return typeof mt=="string"?mt:"Validation failed"}try{return JSON.stringify(Xe)}catch{return"Unknown error"}};if(U==="add"){let Xe;if(V.image instanceof File){const rr=new FormData;rr.append("name",V.name),rr.append("image",V.image),rr.append("show_on_homepage",V.show_on_homepage?"1":"0"),Xe=await fetch(`${Br}/api/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${Se}`},body:rr})}else{const rr={name:V.name};typeof V.image=="string"&&V.image.trim()!==""&&(rr.image=V.image),rr.show_on_homepage=V.show_on_homepage?1:0,Xe=await fetch(`${Br}/api/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"},body:JSON.stringify(rr)})}const it=await Xe.text(),mt=(()=>{try{return it?JSON.parse(it):{}}catch{return{raw:it}}})();if(Xe.ok&&mt.category)await Ie(),e("Category created successfully","success"),re(!1);else throw new Error(Me(mt)||"Failed to create category")}else if(U==="edit"&&Q){let Xe;if(V.image instanceof File){const rr=new FormData;rr.append("name",V.name),rr.append("image",V.image),rr.append("show_on_homepage",V.show_on_homepage?"1":"0"),Xe=await fetch(`${Br}/api/admin/categories/${Q.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Se}`},body:rr})}else{const rr={name:V.name};typeof V.image=="string"&&V.image.trim()!==""&&(rr.image=V.image),rr.show_on_homepage=V.show_on_homepage?1:0,Xe=await fetch(`${Br}/api/admin/categories/${Q.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Se}`,"Content-Type":"application/json"},body:JSON.stringify(rr)})}const it=await Xe.text(),mt=(()=>{try{return it?JSON.parse(it):{}}catch{return{raw:it}}})();if(Xe.ok&&mt.category)await Ie(),e("Category updated successfully","success"),re(!1);else throw new Error(Me(mt)||"Failed to update category")}}catch(Se){console.error("Error saving category:",Se);const Me=Se instanceof Error?Se.message:typeof Se=="string"?Se:"Failed to save category";e(Me,"error")}finally{ee(!1)}},Os=async()=>{if(Q){ee(!0);try{const V=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!V){e("Please login to delete category","error"),ee(!1);return}const Se=await fetch(`${Br}/api/admin/categories/${Q.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}}),Me=await Se.json();if(Se.ok)v(Xe=>Xe.filter(it=>it.id!==Q.id)),e("Category deleted successfully","success"),re(!1),Ie();else throw new Error(Me.message||Me.error||"Failed to delete category")}catch(V){console.error("Error deleting category:",V);const Se=V instanceof Error?V.message:"Failed to delete category";e(Se,"error")}finally{ee(!1)}}},Cl=y.filter(V=>V.name.toLowerCase().includes(C.toLowerCase())),Ts=Math.ceil(Cl.length/nt),Is=(M-1)*nt,ao=Cl.slice(Is,Is+nt),Al=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Gn=N.filter(V=>!(!(V.medicine_name.toLowerCase().includes(O.toLowerCase())||V.manufacturer_name?.toLowerCase().includes(O.toLowerCase()))||$e!==null&&!V.category_ids.includes($e)||yt==="yes"&&!V.is_discontinued||yt==="no"&&V.is_discontinued||L==="required"&&!V.prescription_required||L==="not_required"&&V.prescription_required||ye&&V.stock_quantity>(V.low_stock_threshold||0))),El=Math.ceil(Gn.length/nt),so=(z-1)*nt,za=Gn.slice(so,so+nt);return r.jsxs(or,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Medicine Categories"}),r.jsx("p",{className:"text-gray-600",children:"Manage categories and platform inventory with category assignment."})]}),o==="categories"&&r.jsxs(r.Fragment,{children:[b?r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading categories..."})]}):r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsx(dt,{children:"All Categories"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(pJ,{searchTerm:C,onSearchChange:A}),r.jsxs(je,{onClick:An,className:"flex items-center space-x-2",children:[r.jsx(hn,{size:16}),r.jsx("span",{children:"Add Category"})]})]})]}),r.jsxs(Ve,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left pb-4",children:"Image"}),r.jsx("th",{className:"text-left pb-4",children:"Name"}),r.jsx("th",{className:"text-left pb-4",children:"Published"}),r.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),r.jsx("tbody",{children:ao.map(V=>r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"py-4",children:V.image_url?r.jsx("img",{src:yJ(V.image_url),alt:V.name,className:"h-10 w-10 rounded object-cover border",onError:Se=>{const Me=Se.currentTarget;Me.src!==V.image_url&&(Me.src=V.image_url)}}):r.jsx("div",{className:"h-10 w-10 rounded bg-gray-100 border"})}),r.jsxs("td",{className:"py-4",children:[r.jsx("div",{className:"text-gray-900 font-medium",children:V.name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",V.id]})]}),r.jsx("td",{className:"py-4",children:r.jsx("div",{className:"text-sm text-gray-600",children:Al(V.created_at)})}),r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:()=>Es(V),children:"Edit"}),r.jsx(je,{onClick:()=>$a(V),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})})]},V.id))})]})}),Ts>1&&r.jsx(hJ,{currentPage:M,totalPages:Ts,startIndex:Is,itemsPerPage:nt,totalItems:Cl.length,onPageChange:D})]})]}),(U==="add"||U==="edit")&&r.jsx(gJ,{isOpen:W,onClose:()=>re(!1),onSave:Pl,category:Q?{id:Q.id,name:Q.name,description:"",icon:"",status:"active",total_services:0,created_at:Q.created_at,updated_at:Q.updated_at,show_on_homepage:Q.show_on_homepage||!1}:void 0,initialImageUrl:Q?.image_url,isSubmitting:H}),U==="delete"&&r.jsx(gS,{isOpen:W,onClose:()=>re(!1),onConfirm:Os,category:Q,isSubmitting:H}),U==="delete"&&r.jsx(gS,{isOpen:W,onClose:()=>re(!1),onConfirm:Os,category:Q,isSubmitting:H})]}),o==="inventory"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx("div",{className:"relative flex-1 max-w-md",children:r.jsx("input",{type:"text",placeholder:"Search inventory by name or manufacturer...",value:O,onChange:V=>I(V.target.value),className:"w-full px-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),$.length>0&&r.jsxs(r.Fragment,{children:[r.jsxs(je,{onClick:()=>ue(!0),className:"flex items-center gap-2",children:[r.jsx(oI,{size:16}),"Assign Categories (",$.length,")"]}),r.jsxs(je,{onClick:Lr,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(ka,{size:16}),"Delete (",$.length,")"]})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs(je,{onClick:()=>De(!Te),className:`flex items-center gap-2 ${Xr?"bg-primary text-white":""}`,children:[r.jsx(gf,{size:16}),"Filters",Xr&&r.jsx("span",{className:"ml-1 bg-white text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs",children:[$e!==null,yt!=="all",L!=="all",ye].filter(Boolean).length})]}),r.jsxs(je,{onClick:()=>T(!0),className:"flex items-center gap-2",children:[r.jsx(hn,{size:16}),"Add Inventory"]}),r.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors cursor-pointer flex items-center gap-2",children:[r.jsx(Jo,{size:16}),ce?"Uploading...":"Upload Excel",r.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:ma,className:"hidden",disabled:ce})]})]})]}),Te&&r.jsxs(He,{className:"mb-6",children:[r.jsxs(ct,{className:"flex items-center justify-between pb-3",children:[r.jsx(dt,{className:"text-lg",children:"Filters"}),r.jsxs("div",{className:"flex items-center gap-2",children:[Xr&&r.jsxs(je,{onClick:Vn,className:"text-xs flex items-center gap-1",size:"sm",children:[r.jsx(rs,{size:14}),"Clear All"]}),r.jsx("button",{onClick:()=>De(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]})]}),r.jsx(Ve,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),r.jsxs("select",{value:$e||"",onChange:V=>at(V.target.value?parseInt(V.target.value):null),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"",children:"All Categories"}),y.map(V=>r.jsx("option",{value:V.id,children:V.name},V.id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discontinued"}),r.jsxs("select",{value:yt,onChange:V=>F(V.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"yes",children:"Discontinued"}),r.jsx("option",{value:"no",children:"Active"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prescription"}),r.jsxs("select",{value:L,onChange:V=>fe(V.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All"}),r.jsx("option",{value:"required",children:"Required"}),r.jsx("option",{value:"not_required",children:"Not Required"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stock Status"}),r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:ye,onChange:V=>tt(V.target.checked),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm",children:"Low Stock Only"})]})]})]})})]}),S?r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]}):r.jsxs(He,{children:[r.jsx(ct,{children:r.jsx(dt,{children:"Platform Inventory"})}),r.jsxs(Ve,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50",children:[r.jsx("th",{className:"text-left pb-4 px-2",children:r.jsx("input",{type:"checkbox",checked:$.length===Gn.length&&Gn.length>0,onChange:lr,className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Name"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Price"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Discounted Price"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Prescription Required or Not"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Marketed By"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Type"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Item Group"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Pack Size Label"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Stock Quantity"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Low Stock Threshold"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Justification (Active Ingredient & Class)"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Description"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Picture"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Categories"}),r.jsx("th",{className:"text-left pb-4 px-2",children:"Actions"})]})}),r.jsx("tbody",{children:za.map(V=>r.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[r.jsx("td",{className:"py-3 px-2",children:r.jsx("input",{type:"checkbox",checked:$.includes(V.id),onChange:()=>St(V.id),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),r.jsx("td",{className:"py-3 px-2",children:r.jsx("div",{className:"font-medium max-w-[150px] truncate",title:V.medicine_name,children:V.medicine_name})}),r.jsx("td",{className:"py-3 px-2",children:r.jsxs("span",{className:"font-medium",children:["",Number(V.price||0).toFixed(2)]})}),r.jsx("td",{className:"py-3 px-2",children:V.discounted_price&&V.discounted_price>0?r.jsxs("span",{className:"font-medium text-green-600",children:["",Number(V.discounted_price).toFixed(2)]}):"-"}),r.jsx("td",{className:"py-3 px-2",children:V.prescription_required?r.jsx("span",{className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded",children:"Required"}):r.jsx("span",{className:"text-xs text-gray-400",children:"Not Required"})}),r.jsx("td",{className:"py-3 px-2 text-sm text-gray-600 max-w-[120px]",children:V.manufacturer_name?r.jsx("div",{className:"truncate",title:V.manufacturer_name,children:V.manufacturer_name}):"-"}),r.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:V.medicine_type?r.jsx("div",{className:"truncate",title:V.medicine_type,children:V.medicine_type}):"-"}),r.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:V.category?r.jsx("div",{className:"truncate",title:V.category,children:V.category}):"-"}),r.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:V.pack_size_label?r.jsx("div",{className:"truncate",title:V.pack_size_label,children:V.pack_size_label}):"-"}),r.jsx("td",{className:"py-3 px-2",children:r.jsx("span",{className:V.stock_quantity<=(V.low_stock_threshold||0)?"text-red-600 font-medium":"",children:V.stock_quantity})}),r.jsx("td",{className:"py-3 px-2 text-sm",children:V.low_stock_threshold||0}),r.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:V.justification?r.jsx("div",{className:"truncate",title:V.justification,children:V.justification}):"-"}),r.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:V.description?r.jsx("div",{className:"truncate",title:V.description,children:V.description}):"-"}),r.jsx("td",{className:"py-3 px-2",children:V.images?r.jsxs("div",{className:"flex gap-1",children:[(Array.isArray(V.images)?V.images:V.images.split(",")).slice(0,2).map((Se,Me)=>r.jsx("img",{src:Se.trim(),alt:`${V.medicine_name} ${Me+1}`,className:"w-10 h-10 object-cover rounded border",onError:Xe=>{Xe.target.style.display="none"}},Me)),(Array.isArray(V.images)?V.images:V.images.split(",")).length>2&&r.jsxs("span",{className:"text-xs text-gray-500",children:["+",(Array.isArray(V.images)?V.images:V.images.split(",")).length-2]})]}):"-"}),r.jsx("td",{className:"py-3 px-2",children:r.jsx("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:V.category_names.length>0?V.category_names.map((Se,Me)=>r.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary rounded-full",children:Se},Me)):r.jsx("span",{className:"text-xs text-gray-400",children:"No categories"})})}),r.jsx("td",{className:"py-3 px-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(je,{onClick:()=>{Oe(V),Ae(V.category_ids),pe(!0)},className:"px-2 py-1 text-xs flex items-center gap-1 bg-primary hover:bg-primary-dark text-white",size:"sm",title:"Assign Categories",children:[r.jsx(Hr,{size:14}),"Categories"]}),r.jsxs(je,{onClick:()=>Hn(V),className:"px-2 py-1 text-xs flex items-center gap-1",size:"sm",children:[r.jsx(y0,{size:14}),"Edit"]}),r.jsxs(je,{onClick:()=>J(V),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white flex items-center gap-1",size:"sm",children:[r.jsx(ka,{size:14}),"Delete"]})]})})]},V.id))})]})}),El>1&&r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",so+1," to ",Math.min(so+nt,Gn.length)," of ",Gn.length," items"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{onClick:()=>Y(V=>Math.max(1,V-1)),disabled:z===1,children:"Previous"}),r.jsx(je,{onClick:()=>Y(V=>Math.min(El,V+1)),disabled:z===El,children:"Next"})]})]}),Gn.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Hr,{className:"mx-auto text-primary mb-4",size:48}),r.jsx("p",{className:"text-gray-600",children:"No inventory items found"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload an Excel file to get started"})]})]})]}),ge&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs(He,{className:"w-full max-w-md mx-4",children:[r.jsxs(ct,{className:"flex items-center justify-between",children:[r.jsx(dt,{children:"Bulk Assign Categories"}),r.jsx("button",{onClick:()=>{ue(!1),xe([])},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Categories (",$.length," items selected)"]}),r.jsx("select",{multiple:!0,value:se.map(String),onChange:V=>{const Se=Array.from(V.target.selectedOptions,Me=>Number(Me.value));xe(Se)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(y.length,8),children:y.map(V=>r.jsx("option",{value:V.id,children:V.name},V.id))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{onClick:()=>{ue(!1),xe([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),r.jsx(je,{onClick:_t,className:"flex-1",disabled:se.length===0,children:"Assign"})]})]})]})}),he&&Je&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs(He,{className:"w-full max-w-md mx-4",children:[r.jsxs(ct,{className:"flex items-center justify-between",children:[r.jsxs(dt,{children:["Assign Categories to ",Je.medicine_name]}),r.jsx("button",{onClick:()=>{pe(!1),Oe(null),Ae([])},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Categories"}),r.jsx("select",{multiple:!0,value:me.map(String),onChange:V=>{const Se=Array.from(V.target.selectedOptions,Me=>Number(Me.value));Ae(Se)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(y.length,8),children:y.map(V=>r.jsx("option",{value:V.id,children:V.name},V.id))}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(je,{onClick:()=>{pe(!1),Oe(null),Ae([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),r.jsx(je,{onClick:async()=>{Je&&(await Ge(Je.id,me),pe(!1),Oe(null),Ae([]))},className:"flex-1",disabled:me.length===0,children:"Assign"})]})]})]})}),Ne&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:r.jsxs(He,{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto",children:[r.jsx(ct,{children:r.jsx(dt,{children:Pe==="edit"?"Edit Inventory Item":"Add New Inventory Item"})}),r.jsx(Ve,{children:r.jsx(vJ,{categories:y,onSubmit:Ee,onCancel:()=>{T(!1),ve(null),Ze("add")},isSubmitting:K,initialData:te,mode:Pe})})]})})]}),o==="generic"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4 flex-1",children:r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx("input",{type:"text",placeholder:"Search generic medicines...",value:O,onChange:V=>I(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),a&&r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Generic Commission %:"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:c,onChange:V=>{const Se=parseFloat(V.target.value)||0;d(Se)},onBlur:()=>Wn("generic",c),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:f}),r.jsx(je,{onClick:()=>Wn("generic",c),size:"sm",disabled:f,children:r.jsx(um,{size:16})})]})})]}),S?r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading generic medicines..."})]}):r.jsx(He,{children:r.jsx(Ve,{className:"p-0",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50/50",children:[r.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),r.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),r.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),r.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),r.jsx("tbody",{children:N.filter(V=>V.medicine_type==="Generic").filter(V=>O===""||V.medicine_name.toLowerCase().includes(O.toLowerCase())).map(V=>{const Se=V.price*c/100,Me=V.price-Se;return r.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("div",{className:"font-medium",children:V.medicine_name})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"font-medium",children:["",Number(V.price||0).toFixed(2)]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"font-medium",children:[c.toFixed(2),"%"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"font-medium text-green-600",children:["",Me.toFixed(2)]})})]},V.id)})})]}),N.filter(V=>V.medicine_type==="Generic").length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No generic medicines found"})]})})})]}),o==="branded"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center gap-4 flex-1",children:r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx("input",{type:"text",placeholder:"Search branded medicines...",value:O,onChange:V=>I(V.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),r.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),a&&r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Branded Commission %:"}),r.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:u,onChange:V=>{const Se=parseFloat(V.target.value)||0;p(Se)},onBlur:()=>Wn("branded",u),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:f}),r.jsx(je,{onClick:()=>Wn("branded",u),size:"sm",disabled:f,children:r.jsx(um,{size:16})})]})})]}),S?r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading branded medicines..."})]}):r.jsx(He,{children:r.jsx(Ve,{className:"p-0",children:r.jsxs("div",{className:"overflow-x-auto",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50/50",children:[r.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),r.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),r.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),r.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),r.jsx("tbody",{children:N.filter(V=>V.medicine_type==="Branded").filter(V=>O===""||V.medicine_name.toLowerCase().includes(O.toLowerCase())).map(V=>{const Se=V.price*u/100,Me=V.price-Se;return r.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("div",{className:"font-medium",children:V.medicine_name})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"font-medium",children:["",Number(V.price||0).toFixed(2)]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"font-medium",children:[u.toFixed(2),"%"]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"font-medium text-green-600",children:["",Me.toFixed(2)]})})]},V.id)})})]}),N.filter(V=>V.medicine_type==="Branded").length===0&&r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No branded medicines found"})]})})})]})]})},vJ=({categories:e,onSubmit:t,onCancel:n,isSubmitting:a,initialData:s,mode:o="add"})=>{const[c,d]=g.useState({medicine_name:s?.medicine_name||"",price:s?.price?.toString()||"",discounted_price:s?.discounted_price?s.discounted_price.toString():"",prescription_required:s?.prescription_required||!1,manufacturer_name:s?.manufacturer_name||"",medicine_type:s?.medicine_type||"",category:s?.category||"",pack_size_label:s?.pack_size_label||"",stock_quantity:s?.stock_quantity?.toString()||"",low_stock_threshold:s?.low_stock_threshold?.toString()||"",justification:s?.justification||"",description:s?.description||"",category_ids:s?.category_ids||[]}),[u,p]=g.useState([]),[f,h]=g.useState(s?.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(b=>b.trim()):[]);g.useEffect(()=>{s&&o==="edit"?(d({medicine_name:s.medicine_name||"",price:s.price?.toString()||"",discounted_price:s.discounted_price?s.discounted_price.toString():"",prescription_required:s.prescription_required||!1,manufacturer_name:s.manufacturer_name||"",medicine_type:s.medicine_type||"",category:s.category||"",pack_size_label:s.pack_size_label||"",stock_quantity:s.stock_quantity?.toString()||"",low_stock_threshold:s.low_stock_threshold?.toString()||"",justification:s.justification||"",description:s.description||"",category_ids:s.category_ids||[]}),h(s.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(b=>b.trim()):[])):o==="add"&&(d({medicine_name:"",price:"",discounted_price:"",prescription_required:!1,manufacturer_name:"",medicine_type:"",category:"",pack_size_label:"",stock_quantity:"",low_stock_threshold:"",justification:"",description:"",category_ids:[]}),h([]),p([]))},[s,o]);const y=b=>{b.preventDefault();const _=new FormData;Object.entries(c).forEach(([S,P])=>{S==="category_ids"?c.category_ids.forEach(C=>{_.append("category_ids",C.toString())}):S==="prescription_required"?_.append(S,P?"true":"false"):P!==""&&P!==null&&P!==void 0&&_.append(S,P.toString())}),u.forEach(S=>{_.append("images",S)}),o==="edit"&&f.length>0&&f.forEach(S=>{_.append("existing_images",S)}),t(_)},v=b=>{h(_=>_.filter((S,P)=>P!==b))},N=b=>{if(b.target.files){const _=Array.from(b.target.files);p(S=>[...S,..._])}},j=b=>{p(_=>_.filter((S,P)=>P!==b))};return r.jsxs("form",{onSubmit:y,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Name *"}),r.jsx("input",{type:"text",required:!0,value:c.medicine_name,onChange:b=>d({...c,medicine_name:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),r.jsx("input",{type:"number",step:"0.01",required:!0,value:c.price,onChange:b=>d({...c,price:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discounted Price (Optional)"}),r.jsx("input",{type:"number",step:"0.01",value:c.discounted_price,onChange:b=>d({...c,discounted_price:b.target.value}),placeholder:"Leave empty if no discount",className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marketed By"}),r.jsx("input",{type:"text",value:c.manufacturer_name,onChange:b=>d({...c,manufacturer_name:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Type *"}),r.jsxs("select",{value:c.medicine_type,onChange:b=>d({...c,medicine_type:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"Generic",children:"Generic"}),r.jsx("option",{value:"Branded",children:"Branded"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select whether this is a Generic or Branded medicine"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item Group"}),r.jsx("input",{type:"text",value:c.category,onChange:b=>d({...c,category:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pack Size Label"}),r.jsx("input",{type:"text",value:c.pack_size_label,onChange:b=>d({...c,pack_size_label:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock Quantity"}),r.jsx("input",{type:"number",value:c.stock_quantity,onChange:b=>d({...c,stock_quantity:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Low Stock Threshold"}),r.jsx("input",{type:"number",value:c.low_stock_threshold,onChange:b=>d({...c,low_stock_threshold:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Justification (Active Ingredient & Class)"}),r.jsx("textarea",{value:c.justification,onChange:b=>d({...c,justification:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),r.jsx("textarea",{value:c.description,onChange:b=>d({...c,description:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Picture"}),r.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),f.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Existing Images:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((b,_)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:b.trim(),alt:`Existing ${_+1}`,className:"w-20 h-20 object-cover rounded border",onError:S=>{S.target.style.display="none"}}),r.jsx("button",{type:"button",onClick:()=>v(_),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`existing-${_}`))})]}),u.length>0&&r.jsxs("div",{className:"mt-2",children:[r.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"New Images:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((b,_)=>r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:URL.createObjectURL(b),alt:`Preview ${_+1}`,className:"w-20 h-20 object-cover rounded border"}),r.jsx("button",{type:"button",onClick:()=>j(_),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`new-${_}`))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categories"}),r.jsx("select",{multiple:!0,value:c.category_ids.map(String),onChange:b=>{const _=Array.from(b.target.selectedOptions,S=>Number(S.value));d({...c,category_ids:_})},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(e.length,5),children:e.map(b=>r.jsx("option",{value:b.id,children:b.name},b.id))})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:c.prescription_required,onChange:b=>d({...c,prescription_required:b.target.checked}),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm",children:"Prescription Required or Not"})]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(je,{type:"button",onClick:n,className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",disabled:a,children:"Cancel"}),r.jsx(je,{type:"submit",className:"flex-1",disabled:a,children:a?o==="edit"?"Updating...":"Adding...":o==="edit"?"Update Inventory":"Add Inventory"})]})]})},bJ=({showColumnSettings:e,onToggleSettings:t,columnVisibility:n,onToggleColumn:a,onResetColumns:s})=>r.jsxs("div",{className:"relative",children:[r.jsxs(je,{variant:"outline",size:"sm",onClick:t,className:"hover:bg-gray-100",children:[r.jsx(um,{size:16,className:"mr-2"}),"Columns"]}),e&&r.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-gray-800",children:"Column Visibility"}),r.jsx(je,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:r.jsx(gt,{size:14})})]}),r.jsx("div",{className:"space-y-2",children:Object.entries(n).map(([o,c])=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:c,onChange:()=>a(o),disabled:["id","subject","status","actions"].includes(o),className:`rounded border-gray-300 text-primary focus:ring-primary ${["id","subject","status","actions"].includes(o)?"opacity-50":""}`}),r.jsxs("span",{className:`text-sm capitalize ${["id","subject","status","actions"].includes(o)?"font-medium":""}`,children:[o,["id","subject","status","actions"].includes(o)&&" (Required)"]})]},o))}),r.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:r.jsx(je,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Reset to Default"})})]})})]}),jJ=({dispute:e,formatDate:t,getStatusColor:n,getPriorityColor:a})=>r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-blue-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ca,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Dispute Overview"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-purple-600 text-xs",children:"#"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Dispute ID"})]}),r.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(kr,{size:16,className:"text-green-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Created Date"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(Sr,{size:16,className:"text-orange-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Updated"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:t(e.updated_at)})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:r.jsx(ia,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Subject & Description"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center mr-2",children:r.jsx(ra,{size:16,className:"text-primary"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Subject"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.subject})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(Ja,{size:16,className:"text-green-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),r.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.description})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Dt,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Parties Information"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(Dt,{size:16,className:"text-purple-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.user_name})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(US,{size:16,className:"text-purple-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.provider_name})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ra,{size:16,className:"text-purple-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Booking ID"})]}),r.jsxs("p",{className:"text-sm text-gray-800",children:["#",e.booking_id]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(_a,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Status & Priority"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(_a,{size:16,className:"text-emerald-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n(e.status)}`,children:e.status.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ca,{size:16,className:"text-emerald-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Priority"})]}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a(e.priority)}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ra,{size:16,className:"text-emerald-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Type"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.dispute_type})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(Dt,{size:16,className:"text-emerald-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Assigned To"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.assigned_admin||"Unassigned"})]})]})]}),e.resolution_type&&r.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-4 border border-amber-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx(Na,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Resolution Details"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(ra,{size:16,className:"text-amber-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Type"})]}),r.jsx("p",{className:"text-sm text-gray-800 capitalize",children:e.resolution_type.replace("_"," ")})]}),e.resolution_amount&&r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(Na,{size:16,className:"text-amber-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Amount"})]}),r.jsxs("p",{className:"text-sm text-gray-800",children:["$",e.resolution_amount.toFixed(2)]})]}),e.resolution_notes&&r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100 md:col-span-2",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:r.jsx(Ja,{size:16,className:"text-amber-600"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Notes"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.resolution_notes})]})]})]})]}),wJ={},Oi=wJ?.VITE_API_BASE_URL||"/api",NJ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(""),[d,u]=g.useState(1),[p,f]=g.useState(null),[h,y]=g.useState(!1),[v,N]=g.useState(null),[j,b]=g.useState({status:"",notes:"",resolution_type:"",resolution_amount:0,resolution_notes:""}),[_,S]=g.useState(!1),[P,C]=g.useState(1),[A,O]=g.useState(!1),[I,M]=g.useState({id:!0,subject:!0,parties:!0,type:!0,priority:!0,status:!0,assigned:!0,created:!0,actions:!0}),[D,z]=g.useState([]),[Y,W]=g.useState(""),[re,U]=g.useState(!1),[R,Q]=g.useState(""),[le,H]=g.useState(!1),[ee,ce]=g.useState(!1),B=g.useRef(null),[$,G]=g.useState({status:"",priority:"",dispute_type:"",assigned_admin:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),ge=10,ue=g.useCallback((me=!1)=>{const Ae=localStorage.getItem("KwikMedi_token"),Te={};return Ae&&(Te.Authorization=`Bearer ${Ae}`),me&&(Te["Content-Type"]="application/json"),Te},[]),se=g.useCallback(async(me,Ae=!1)=>{if(me){Ae||U(!0),Q("");try{const Te=await fetch(`${Oi}/api/api/admin/disputes/${me}/messages`,{headers:ue()}),De=await Te.json();if(!Te.ok||!De.success){Q(De.message||"Unable to load this conversation.");return}z(De.messages||[]),H(!!De.ticket?.is_blocked),De.ticket&&N($e=>$e&&$e.id===me?{...$e,...De.ticket}:$e)}catch{Q("Unable to load this conversation. Please retry.")}finally{Ae||U(!1)}}},[ue]),xe=()=>[{id:1,subject:"Service quality not as described",description:"The pet trainer arrived late and did not provide the full service as promised. The training session was cut short and the dog did not learn the basic commands as expected.",status:"open",priority:"high",dispute_type:"service_quality",created_at:"2024-01-15T10:30:00Z",updated_at:"2024-01-15T10:30:00Z",assigned_admin:null,user_name:"Sarah Johnson",provider_name:"John Smith",booking_id:"101",is_overdue:!1,amount_disputed:2e3,booking:{total_amount:2e3}},{id:2,subject:"Provider did not show up",description:"The service provider did not arrive at the scheduled time. Multiple attempts to contact them were unsuccessful. The booking was for puppy training session.",status:"in_progress",priority:"urgent",dispute_type:"no_show",created_at:"2024-01-16T14:20:00Z",updated_at:"2024-01-16T15:00:00Z",assigned_admin:"Admin User",user_name:"Emily Rodriguez",provider_name:"Sarah Johnson",booking_id:"102",is_overdue:!0,amount_disputed:2500,booking:{total_amount:2500}},{id:3,subject:"Incorrect service provided",description:"Booked for agility training but received basic obedience training instead. The provider did not inform about the change and charged the full amount.",status:"open",priority:"medium",dispute_type:"service_mismatch",created_at:"2024-01-17T09:15:00Z",updated_at:"2024-01-17T09:15:00Z",assigned_admin:null,user_name:"Michael Chen",provider_name:"Mike Williams",booking_id:"103",is_overdue:!1,amount_disputed:3500,booking:{total_amount:3500}},{id:4,subject:"Payment charged twice",description:"The payment for the booking was charged twice. I have receipts for both transactions. Need refund for the duplicate charge.",status:"resolved",priority:"high",dispute_type:"payment_issue",created_at:"2024-01-10T11:00:00Z",updated_at:"2024-01-18T12:00:00Z",assigned_admin:"Admin User",user_name:"David Wilson",provider_name:"Lisa Anderson",booking_id:"104",is_overdue:!1,amount_disputed:1800,resolution_type:"refund",resolution_amount:1800,resolution_notes:"Duplicate payment confirmed. Full refund processed.",booking:{total_amount:1800}},{id:5,subject:"Provider behavior concerns",description:"The provider was unprofessional during the service. Used inappropriate language and was rough with my pet. I want to cancel future bookings and get a refund.",status:"escalated",priority:"urgent",dispute_type:"provider_conduct",created_at:"2024-01-12T16:00:00Z",updated_at:"2024-01-19T10:00:00Z",assigned_admin:"Senior Admin",user_name:"Jennifer Martinez",provider_name:"John Smith",booking_id:"105",is_overdue:!1,amount_disputed:3e3,booking:{total_amount:3e3}},{id:6,subject:"Service cancelled but no refund",description:"The provider cancelled the service at the last minute due to personal reasons. I was promised a refund but it has not been processed yet.",status:"in_progress",priority:"medium",dispute_type:"cancellation_refund",created_at:"2024-01-13T13:00:00Z",updated_at:"2024-01-20T13:30:00Z",assigned_admin:"Admin User",user_name:"Robert Taylor",provider_name:"Sarah Johnson",booking_id:"106",is_overdue:!1,amount_disputed:2200,booking:{total_amount:2200}},{id:7,subject:"Equipment damage claim",description:"The provider claims that my pet damaged their training equipment during the session. However, the equipment was already damaged when they arrived. I have photos as evidence.",status:"open",priority:"low",dispute_type:"damage_claim",created_at:"2024-01-14T10:00:00Z",updated_at:"2024-01-14T10:00:00Z",assigned_admin:null,user_name:"Amanda White",provider_name:"Mike Williams",booking_id:"107",is_overdue:!1,amount_disputed:4e3,booking:{total_amount:4e3}},{id:8,subject:"Incomplete service delivery",description:"The training session was supposed to be 2 hours but only lasted 1 hour. The provider left early without completing all the planned activities.",status:"resolved",priority:"medium",dispute_type:"incomplete_service",created_at:"2024-01-11T14:00:00Z",updated_at:"2024-01-19T15:00:00Z",assigned_admin:"Admin User",user_name:"Christopher Lee",provider_name:"Mike Williams",booking_id:"108",is_overdue:!1,amount_disputed:3200,resolution_type:"partial_refund",resolution_amount:1600,resolution_notes:"Service was incomplete. Partial refund of 50% processed as compensation.",booking:{total_amount:3200}},{id:9,subject:"Booking time mismatch",description:"I booked for morning 9 AM slot but the provider came at 11 AM. This caused inconvenience as I had to reschedule my other appointments.",status:"open",priority:"low",dispute_type:"scheduling_issue",created_at:"2024-01-15T15:30:00Z",updated_at:"2024-01-15T15:30:00Z",assigned_admin:null,user_name:"James Brown",provider_name:"Lisa Anderson",booking_id:"108",is_overdue:!1,amount_disputed:1500,booking:{total_amount:1500}},{id:10,subject:"Refund processing delay",description:"I cancelled my booking 5 days ago and was told I would receive a refund within 3 business days. The refund has not been processed yet.",status:"in_progress",priority:"high",dispute_type:"refund_delay",created_at:"2024-01-16T09:00:00Z",updated_at:"2024-01-20T09:15:00Z",assigned_admin:"Admin User",user_name:"Patricia Davis",provider_name:"John Smith",booking_id:"109",is_overdue:!0,amount_disputed:2800,booking:{total_amount:2800}}];g.useEffect(()=>{Ne()},[d,$,o]),g.useEffect(()=>{console.log("Selected dispute changed:",v)},[v]),g.useEffect(()=>{if(!h||j.status!=="view"||!v)return;se(v.id,!1);const me=setInterval(()=>{se(v.id,!0)},8e3);return()=>clearInterval(me)},[h,j.status,v?.id,se]),g.useEffect(()=>{B.current&&B.current.scrollIntoView({behavior:"smooth"})},[D.length,h]),g.useEffect(()=>{h||(z([]),W(""),Q(""),H(!1),U(!1))},[h]);const Ne=async()=>{const me=localStorage.getItem("KwikMedi_token"),Ae=me&&me.startsWith("mock_token_");if(!me||Ae){s(!0),setTimeout(()=>{const Te=xe();let De=Te;o&&(De=Te.filter(F=>F.id.toString().includes(o)||F.subject.toLowerCase().includes(o.toLowerCase())||F.user_name.toLowerCase().includes(o.toLowerCase())||F.provider_name.toLowerCase().includes(o.toLowerCase())||F.booking_id.includes(o)||F.dispute_type.toLowerCase().includes(o.toLowerCase()))),$.status&&(De=De.filter(F=>F.status===$.status)),$.priority&&(De=De.filter(F=>F.priority===$.priority)),$.dispute_type&&(De=De.filter(F=>F.dispute_type===$.dispute_type)),$.assigned_admin&&(De=De.filter(F=>F.assigned_admin?.toLowerCase().includes($.assigned_admin.toLowerCase()))),$.overdue&&(De=De.filter(F=>F.is_overdue===!0));const $e=(d-1)*ge,at=De.slice($e,$e+ge),yt=Math.ceil(De.length/ge);n(at),C(yt),s(!1)},500);return}try{s(!0);const Te=new URLSearchParams;Te.append("page",d.toString()),Te.append("limit",ge.toString()),Te.append("search",o),Object.entries($).forEach(([at,yt])=>{yt&&Te.append(at,yt.toString())});const $e=await(await fetch(`${Oi}/api/admin/disputes?${Te.toString()}`,{headers:ue()})).json();$e.success&&Array.isArray($e.disputes)?(n($e.disputes),C($e.pagination?.total_pages||1)):(console.error("Failed to fetch tickets:",$e.message||"Unknown error"),e($e.message||"Failed to load support tickets","error"),n([]),C(1))}catch(Te){console.error("Error fetching tickets:",Te),e("Unable to connect to server. Please check your connection.","error"),n([]),C(1)}finally{s(!1)}},T=async()=>{if(!v||!Y.trim()||ee)return;ce(!0),Q("");const me=localStorage.getItem("KwikMedi_user");let Ae;if(me)try{Ae=JSON.parse(me)?.id}catch{Ae=void 0}try{const Te=await fetch(`${Oi}/api/api/admin/disputes/${v.id}/messages`,{method:"POST",headers:ue(!0),body:JSON.stringify({message:Y.trim(),admin_id:Ae})}),De=await Te.json();if(!Te.ok||!De.success){Q(De.message||"Unable to send message.");return}W(""),De.message?z($e=>[...$e,De.message]):se(v.id,!0),De.ticket&&(N($e=>$e&&$e.id===De.ticket.id?{...$e,...De.ticket}:$e),H(!!De.ticket.is_blocked))}catch{Q("Unable to send message. Please retry.")}finally{ce(!1)}},K=async()=>{if(!v)return;const me=!le;let Ae=v.blocked_reason||"Blocked by admin";if(me){const $e=window.prompt("Why are you blocking this user?",Ae);$e!==null&&(Ae=$e||Ae)}else Ae=void 0;U(!0),Q("");const Te=localStorage.getItem("KwikMedi_user");let De;if(Te)try{De=JSON.parse(Te)?.id}catch{De=void 0}try{const $e=await fetch(`${Oi}/api/api/admin/disputes/${v.id}/block`,{method:"POST",headers:ue(!0),body:JSON.stringify({is_blocked:me,reason:Ae,admin_id:De})}),at=await $e.json();if(!$e.ok||!at.success){Q(at.message||"Unable to update block status.");return}H(me),at.ticket&&N(yt=>yt&&yt.id===at.ticket.id?{...yt,...at.ticket}:yt)}catch{Q("Unable to update block status. Please retry.")}finally{U(!1)}},oe=(me,Ae)=>{console.log("Opening modal for dispute:",me),N(me),b({status:Ae,notes:"",resolution_type:"",resolution_amount:0,resolution_notes:""}),z([]),W(""),Q(""),H(!!me.is_blocked),y(!0),se(me.id)},te=async me=>{if(me.preventDefault(),!!v){S(!0);try{let Ae;j.status==="resolve"?Ae=`${Oi}/api/admin/disputes/${v.id}/resolve`:j.status==="escalate"?Ae=`${Oi}/api/admin/disputes/${v.id}/escalate`:Ae=`${Oi}/api/admin/disputes/${v.id}/status`;let Te;j.status==="escalate"?Te={reason:j.notes,escalate_to_admin:1}:Te=j;const $e=await(await fetch(Ae,{method:"POST",headers:ue(!0),body:JSON.stringify(Te)})).json();$e.success?(e(`Dispute ${j.status}ed successfully`,"success"),y(!1),Ne()):e($e.message||`Failed to ${j.status} dispute`,"error")}catch(Ae){console.error("Error processing dispute:",Ae),e("Error processing dispute","error")}finally{S(!1)}}},ve=me=>new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Pe=me=>{try{return new Date(me).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return""}},Ze=me=>{switch(me){case"resolved":return"bg-green-100 text-green-700";case"closed":return"bg-gray-100 text-gray-700";case"pending":return"bg-yellow-100 text-yellow-700";case"in_progress":return"bg-primary/10 text-primary-dark";case"escalated":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},he=me=>{switch(me){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},pe=me=>{["id","subject","status","actions"].includes(me)||M(Ae=>({...Ae,[me]:!Ae[me]}))},Je=()=>{M({id:!0,subject:!0,parties:!0,type:!0,priority:!0,status:!0,assigned:!0,created:!0,actions:!0})},Oe=me=>{f(p===me?null:me)};return r.jsxs("div",{children:[a?r.jsx(il,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-end space-x-3 mb-4",children:[r.jsx(bJ,{showColumnSettings:A,onToggleSettings:()=>O(!A),columnVisibility:I,onToggleColumn:pe,onResetColumns:Je}),r.jsx(hO,{searchTerm:o,onSearchChange:c}),r.jsxs(je,{onClick:Ne,className:"flex items-center space-x-1",children:[r.jsx(qr,{size:14}),r.jsx("span",{children:"Refresh"})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full table-auto",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50",children:[r.jsx("th",{className:"w-12 px-4 py-3"}),I.id&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-32",children:"ID"}),I.subject&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 min-w-[250px]",children:"Subject"}),I.parties&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 min-w-[180px]",children:"Parties"}),I.type&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-36",children:"Type"}),I.priority&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-28",children:"Priority"}),I.status&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-32",children:"Status"}),I.assigned&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-36",children:"Assigned To"}),I.created&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-44",children:"Created"}),I.actions&&r.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 min-w-[280px]",children:"Actions"})]})}),r.jsx("tbody",{children:a?r.jsx("tr",{children:r.jsx("td",{colSpan:Object.values(I).filter(Boolean).length+1,className:"py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(oa,{className:"w-8 h-8 animate-spin text-gray-400 mb-2"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Loading support tickets..."})]})})}):t.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:Object.values(I).filter(Boolean).length+1,className:"py-12 text-center",children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx(Ja,{className:"w-12 h-12 text-gray-300 mb-3"}),r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No support tickets found"}),r.jsx("p",{className:"text-xs text-gray-500",children:"When users contact support, their tickets will appear here."})]})})}):t.map(me=>r.jsxs(fn.Fragment,{children:[r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-4 py-4",children:r.jsx(je,{variant:"ghost",size:"sm",onClick:()=>Oe(me.id),className:"p-1 hover:bg-gray-200",children:p===me.id?r.jsx(ul,{size:16,className:"text-gray-600"}):r.jsx(ws,{size:16,className:"text-gray-600"})})}),I.id&&r.jsxs("td",{className:"px-4 py-4",children:[r.jsxs("div",{className:"font-semibold text-gray-900 text-sm",children:["Ticket #",me.id]}),me.is_overdue&&r.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1.5 font-medium",children:[r.jsx(Sr,{size:12,className:"mr-1"}),"Overdue"]}),me.last_message_at&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last: ",ve(me.last_message_at)]})]}),I.subject&&r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900 mb-1",children:me.subject}),me.last_message_preview&&r.jsx("div",{className:"text-xs text-gray-600 line-clamp-1 max-w-sm",children:me.last_message_preview}),me.is_blocked&&r.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1.5 flex items-center",children:" User blocked"}),me.booking_id&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Booking: #",me.booking_id]})]}),I.parties&&r.jsxs("td",{className:"px-4 py-4",children:[r.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[r.jsx("span",{className:"font-medium",children:"User:"})," ",me.user_name]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx("span",{className:"font-medium",children:"Provider:"})," ",me.provider_name]})]}),I.type&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 whitespace-nowrap",children:me.dispute_type})}),I.priority&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${he(me.priority)}`,children:me.priority.charAt(0).toUpperCase()+me.priority.slice(1)})}),I.status&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${Ze(me.status)}`,children:me.status.split("_").map(Ae=>Ae.charAt(0).toUpperCase()+Ae.slice(1)).join(" ")})}),I.assigned&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:"text-sm text-gray-700",children:me.assigned_admin||r.jsx("span",{className:"text-gray-400 italic",children:"Unassigned"})})}),I.created&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:"text-sm text-gray-700 whitespace-nowrap",children:ve(me.created_at)})}),I.actions&&r.jsx("td",{className:"px-4 py-4",children:r.jsxs(je,{onClick:()=>oe(me,"view"),size:"sm",className:"flex items-center gap-2 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg shadow-sm",children:[r.jsx(Ja,{size:16}),r.jsx("span",{children:"Chat"})]})})]}),p===me.id&&r.jsx("tr",{children:r.jsx("td",{colSpan:Object.values(I).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:r.jsx("div",{className:"p-6",children:r.jsx(jJ,{dispute:me,formatDate:ve,getStatusColor:Ze,getPriorityColor:he})})})})]},me.id))})]})}),P>1&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",d," of ",P]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:()=>u(me=>Math.max(me-1,1)),disabled:d===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(eo,{size:16})}),r.jsx(je,{onClick:()=>u(me=>Math.min(me+1,P)),disabled:d===P,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Ia,{size:16})})]})]})]}),h&&v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:[j.status==="resolve"?"Resolve":j.status==="escalate"?"Escalate":j.status==="in_progress"?"Start Processing":"View"," Dispute"]}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),j.status==="view"&&v?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Ticket ID"}),r.jsxs("p",{className:"text-sm text-gray-900",children:["#",v.id]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Subject"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.subject})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Booking / Order"}),r.jsxs("p",{className:"text-sm text-gray-900",children:["#",v.booking_id||v.order_id||""]})]}),v.last_message_preview&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Last Message Preview"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.last_message_preview})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"User"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.user_name})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Provider"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.provider_name})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Type"}),r.jsx("p",{className:"text-sm text-gray-900",children:v.dispute_type})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Priority"}),r.jsx("p",{className:"text-sm text-gray-900 capitalize",children:v.priority})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),r.jsx("p",{className:"text-sm text-gray-900 capitalize",children:v.status?v.status.replace("_"," "):""})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Description"}),r.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:v.description})]})]}),r.jsxs("div",{className:"flex flex-col bg-gray-50 rounded-xl p-4 h-[600px]",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[r.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[r.jsx(Ja,{size:18}),r.jsxs("div",{children:[r.jsxs("span",{className:"font-semibold text-sm",children:["Support Thread with ",v.user_name]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Ticket #",v.id]})]})]}),v.last_message_at&&r.jsxs("span",{className:"text-xs text-gray-500",children:["Last: ",ve(v.last_message_at)]})]}),r.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 mb-3 min-h-0",children:[re?r.jsxs("div",{className:"flex items-center justify-center h-full text-sm text-gray-500",children:[r.jsx(oa,{className:"w-4 h-4 animate-spin mr-2"}),"Loading conversation"]}):D.length?r.jsx("div",{className:"space-y-3",children:D.map(me=>{const Ae=me.sender_role==="admin";return r.jsx("div",{className:`flex ${Ae?"justify-start":"justify-end"}`,children:r.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm shadow-sm ${Ae?"bg-white text-gray-800 border border-gray-200 rounded-tl-sm":"bg-orange-500 text-white rounded-tr-sm"}`,children:[r.jsx("p",{className:"whitespace-pre-wrap break-words",children:me.message}),r.jsxs("span",{className:`text-[11px] block mt-1.5 ${Ae?"text-gray-500":"text-orange-100"}`,children:[Ae?"You":v.user_name,"  ",Pe(me.created_at)]})]})},me.id)})}):r.jsxs("div",{className:"text-sm text-gray-500 text-center py-10",children:[r.jsx(Ja,{size:24,className:"mx-auto mb-2 opacity-50"}),r.jsx("p",{children:"No messages in this thread yet."}),r.jsx("p",{className:"text-xs mt-1",children:"Start the conversation below."})]}),r.jsx("div",{ref:B})]}),R&&r.jsx("p",{className:"text-sm text-red-600 mb-2 flex-shrink-0",children:R}),r.jsxs("div",{className:"flex-shrink-0 space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:le?"User is blocked from replying":"Type a reply",value:Y,onChange:me=>W(me.target.value),onKeyDown:me=>{me.key==="Enter"&&!me.shiftKey&&(me.preventDefault(),T())},disabled:ee||le}),r.jsxs(je,{type:"button",onClick:T,disabled:!Y.trim()||ee||le,className:"bg-cyan-500 hover:bg-cyan-600 text-white flex items-center space-x-1 px-4",children:[ee?r.jsx(oa,{className:"w-4 h-4 animate-spin"}):r.jsx(_I,{size:14}),r.jsx("span",{children:"Send"})]})]}),r.jsxs("div",{className:"flex items-center justify-between gap-3",children:[r.jsxs(je,{type:"button",onClick:K,className:`flex items-center space-x-2 ${le?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white`,children:[r.jsx(rI,{size:14}),r.jsx("span",{children:le?"Unblock user":"Block user"})]}),le&&v.blocked_reason&&r.jsx("p",{className:"text-xs text-gray-500 max-w-md truncate",children:v.blocked_reason})]})]})]})]}),r.jsx("div",{className:"flex justify-end pt-4 border-t mt-4",children:r.jsx(je,{type:"button",onClick:()=>y(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300 px-6",children:"Close"})})]}):r.jsxs("form",{onSubmit:te,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),r.jsx("div",{className:"text-sm text-gray-900",children:v?.subject})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking ID"}),r.jsxs("div",{className:"text-sm text-gray-900",children:["#",v?.booking_id]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),r.jsx("div",{className:"text-sm text-gray-900",children:v?.user_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider"}),r.jsx("div",{className:"text-sm text-gray-900",children:v?.provider_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),r.jsx("div",{className:"text-sm text-gray-900",children:v?.dispute_type})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),r.jsx("div",{className:"text-sm text-gray-900 capitalize",children:v?.priority})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsx("div",{className:"text-sm text-gray-900 capitalize",children:v?.status?v.status.replace("_"," "):""})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),r.jsx("div",{className:"text-sm text-gray-900",children:v?.assigned_admin||"Unassigned"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:v?.description})]}),j.status==="resolve"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Type *"}),r.jsxs("select",{required:!0,value:j.resolution_type,onChange:me=>{const Ae=me.target.value,Te={...j,resolution_type:Ae},De=v?.booking?.total_amount||v?.amount_disputed;Ae==="refund"&&De?Te.resolution_amount=De:Ae==="partial_refund"&&De?Te.resolution_amount=De/2:Ae?.includes("refund")||(Te.resolution_amount=0),b(Te)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[r.jsx("option",{value:"",children:"Select resolution type"}),r.jsx("option",{value:"refund",children:"Refund"}),r.jsx("option",{value:"partial_refund",children:"Partial Refund"}),r.jsx("option",{value:"reschedule",children:"Reschedule"}),r.jsx("option",{value:"warning",children:"Warning"}),r.jsx("option",{value:"account_action",children:"Account Action"}),r.jsx("option",{value:"no_action",children:"No Action"}),r.jsx("option",{value:"compensation",children:"Compensation"}),r.jsx("option",{value:"apology",children:"Apology"})]})]}),j.resolution_type?.includes("refund")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Amount *"}),(v?.booking?.total_amount||v?.amount_disputed)&&r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Total booking amount: ",(v?.booking?.total_amount||v?.amount_disputed)?.toFixed(2)]}),r.jsx("input",{type:"number",required:!0,value:j.resolution_amount,onChange:me=>b({...j,resolution_amount:parseFloat(me.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter amount",max:v?.booking?.total_amount||v?.amount_disputed||void 0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),r.jsx("textarea",{required:!0,value:j.notes,onChange:me=>b({...j,notes:me.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${j.status}...`})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(je,{type:"button",onClick:()=>y(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),r.jsx(je,{type:"submit",disabled:_,className:`${j.status==="resolve"?"bg-green-600 hover:bg-green-700":j.status==="escalate"?"bg-red-600 hover:bg-red-700":"bg-primary hover:bg-primary-dark"} text-white`,children:_?"Processing...":j.status==="resolve"?"Resolve":j.status==="escalate"?"Escalate":j.status==="in_progress"?"Start Processing":"Submit"})]})]})]})})]})},_J=()=>r.jsxs(or,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Support Tickets & Threads"}),r.jsx("p",{className:"text-gray-600",children:"Manage support conversations and resolve user issues through ticket threads."})]}),r.jsxs(He,{children:[r.jsx(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:r.jsx(dt,{children:"All Support Tickets"})}),r.jsx(Ve,{children:r.jsx(NJ,{})})]})]}),kJ={},SJ=kJ?.VITE_API_BASE_URL||"/api",Ju=e=>{if(!e)return"N/A";try{const[t,n]=e.split(":"),a=parseInt(t,10),s=parseInt(n,10),o=a===0?12:a>12?a-12:a,c=a>=12?"PM":"AM",d=s.toString().padStart(2,"0");return`${o}:${d} ${c}`}catch{return e}},PJ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(1),[d,u]=g.useState(null),[p,f]=g.useState(!1),[h,y]=g.useState(null),[v,N]=g.useState({status:"",notes:""}),[j,b]=g.useState(!1),[_,S]=g.useState(1),[P,C]=g.useState({}),[A,O]=g.useState({}),[I,M]=g.useState(!1),[D,z]=g.useState(null),[Y,W]=g.useState({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0}),[re,U]=g.useState({status:"",payment_status:"",priority:"",date_from:"",date_to:"",city:"",assigned_provider:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),[R,Q]=g.useState(!1),[le,H]=g.useState(!1),[ee,ce]=g.useState(null),[B,$]=g.useState([]),[G,ge]=g.useState(!1),[ue,se]=g.useState(null),[xe,Ne]=g.useState(!1),T=10,K=SJ;g.useEffect(()=>{pe()},[o,re]);const oe=F=>{const L=[F.total_amount,F.payment_amount,F.service_price_discounted,F.service_price_original,F.amount,F.price,F.subcategory?.price,F.subcategory?.amount,F.service?.price_discounted,F.service?.price_original,F.service?.price];for(const fe of L)if(!(fe==null||fe===""||fe==="0"||fe===0)){if(typeof fe=="number"){if(Number.isFinite(fe))return fe}else if(typeof fe=="string"){const ye=parseFloat(fe.replace(/[,\s]/g,""));if(!isNaN(ye))return ye}}return 0},te=F=>F.assigned_provider_name||F.assigned_provider||F.provider?.full_name||F.provider?.name||(F.provider_id?`Provider #${F.provider_id}`:null),ve=F=>F.service_title||F.service?.service_name||F.service?.title||F.service_name||F.subcategory?.service_name||F.subcategory?.name||F.category?.name||"Unknown Service",Pe=async F=>{const L=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(L){O(fe=>({...fe,[F]:!0}));try{const fe=await fetch(`${K}/admin/booking/session-history/${F}`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(fe.ok){const ye=await fe.json();C(tt=>({...tt,[F]:ye.sessions||[]}))}}catch(fe){console.error("Failed to load session history:",fe),e("Failed to load session history","error")}finally{O(fe=>({...fe,[F]:!1}))}}},Ze=async F=>{const L=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(L)try{if((await fetch(`${K}/admin/booking/approve-completion/${F}`,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify({admin_username:"Admin"})})).ok)e("Booking completion approved","success"),await pe();else throw new Error("Failed to approve")}catch{e("Failed to approve completion","error")}},he=async(F,L)=>{const fe=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(fe)try{if((await fetch(`${K}/admin/booking/reject-completion/${F}`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"},body:JSON.stringify({rejection_reason:L,admin_username:"Admin"})})).ok)e("Booking completion rejected","success"),await pe();else throw new Error("Failed to reject")}catch{e("Failed to reject completion","error")}},pe=async()=>{const F=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!F){e("Please login to view bookings","error"),s(!1);return}try{s(!0);const L=new URLSearchParams;L.append("page",o.toString()),L.append("limit",T.toString()),Object.entries(re).forEach(([nt,Ie])=>{Ie&&L.append(nt,Ie.toString())});const fe=await fetch(`${K}/admin/appointments?${L.toString()}`,{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(!fe.ok){if(fe.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${fe.status}`)}const ye=await fe.json(),tt=ye.data||ye.bookings||[];if(Array.isArray(tt)){const nt=tt.map(Ie=>({id:Ie.id,booking_date:Ie.preferred_date||Ie.booking_date,booking_time:Ie.preferred_time||Ie.booking_time,status:Ie.status,payment_status:Ie.payment_status||"pending",priority:Ie.priority||"normal",total_amount:oe(Ie),service_address:Ie.service_address||Ie.address||"N/A",pincode:Ie.pincode||"N/A",city:Ie.city||"N/A",contact_person:Ie.contact_person||Ie.user?.name||"N/A",contact_phone:Ie.contact_phone||Ie.user?.phone||"N/A",created_at:Ie.created_at||"",updated_at:Ie.updated_at||"",assigned_provider:te(Ie),user_name:Ie.user?.name||`User #${Ie.user_id||"N/A"}`,provider_name:Ie.provider?.name||`Provider #${Ie.provider_id||"N/A"}`,service_name:ve(Ie),service_description:Ie.service?.description||Ie.subcategory?.description||Ie.description||"",category_id:Ie.category_id||Ie.service?.category_id||Ie.subcategory?.category_id,subcategory_id:Ie.subcategory_id||Ie.service?.subcategory_id,is_overdue:Ie.is_overdue||!1,admin_notes:Ie.admin_notes,cancellation_reason:Ie.cancellation_reason,refund_amount:Ie.refund_amount,user_id:Ie.user_id,provider_id:Ie.provider_id,slot_type:Ie.slot_type,total_sessions:Ie.total_sessions,completed_sessions:Ie.completed_sessions,admin_approval_status:Ie.admin_approval_status,admin_rejection_reason:Ie.admin_rejection_reason}));if(n(nt),ye.pagination){const Ie=ye.pagination.total||nt.length,Er=ye.pagination.page_size||T;S(Math.ceil(Ie/Er))}else S(1)}else console.error("Failed to fetch bookings: Invalid response format"),e("Failed to fetch bookings: Invalid response format","error"),n([]),S(1)}catch(L){console.error("Error fetching bookings:",L);const fe=L instanceof Error?L.message:"Failed to fetch bookings";e(fe,"error"),n([]),S(1)}finally{s(!1)}},Je=(F,L)=>{u(d===F.id?null:F.id)},Oe=async F=>{if(F.preventDefault(),!!h){b(!0);try{let L="",fe={};switch(v.status){case"confirm":L=`${K}/admin/bookings/${h.id}/status`,fe={status:"confirmed",notes:v.notes,reason:"Admin confirmed booking"};break;case"cancel":L=`${K}/admin/bookings/${h.id}/cancel`,fe={reason:v.reason||"Cancelled by admin",refund_amount:v.refund_amount||0,notes:v.notes};break;case"assign":L=`${K}/admin/bookings/${h.id}/assign`,fe={provider_id:v.provider_id,notes:v.notes};break;case"start":L=`${K}/admin/bookings/${h.id}/status`,fe={status:"in_progress",notes:v.notes,reason:"Admin started the service"};break;case"complete":L=`${K}/admin/bookings/${h.id}/status`,fe={status:"completed",notes:v.notes,reason:"Admin marked as completed"};break;default:throw new Error(`Unknown action: ${v.status}`)}const tt=await(await fetch(L,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")}`,"Content-Type":"application/json"},body:JSON.stringify(fe)})).json();if(tt.success){const nt=tt.message||`Booking ${v.status}ed successfully`;e(nt,"success"),f(!1),pe()}else e(tt.message||`Failed to ${v.status} booking`,"error")}catch(L){console.error("Error processing booking:",L),e("Error processing booking","error")}finally{b(!1)}}},me=F=>{switch(F){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"confirmed":case"accepted":return"bg-primary/10 text-primary-dark";case"in_progress":return"bg-purple-100 text-purple-700";case"cancelled":return"bg-red-100 text-red-700";case"awaiting_payment":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},Ae=F=>{switch(F){case"paid":return"bg-green-100 text-green-700";case"refunded":return"bg-primary/10 text-primary-dark";case"pending":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},Te=F=>{switch(F){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"normal":return"bg-primary/10 text-primary-dark";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},De=F=>{["id","date","status","actions"].includes(F)||W(L=>({...L,[F]:!L[F]}))},$e=()=>{W({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0})},at=async F=>{ce(F),H(!0),ge(!0),$([]),se(null);try{const L=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!L){e("Please login to assign provider","error");return}const fe=await fetch(`${K}/admin/bookings/${F.id}/available-providers`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(!fe.ok)throw new Error(`Failed to fetch providers: ${fe.status}`);const ye=await fe.json();$(ye.providers||[])}catch(L){console.error("Error fetching available providers:",L),e("Failed to fetch available providers","error")}finally{ge(!1)}},yt=async()=>{if(!ee||!ue){e("Please select a provider","error");return}Ne(!0);try{const F=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!F){e("Please login to assign provider","error");return}const L=await fetch(`${K}/admin/bookings/${ee.id}/assign-provider`,{method:"PUT",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:ue,admin_name:"Admin"})}),fe=await L.json();if(L.ok)e("Provider assigned successfully","success"),H(!1),ce(null),se(null),pe();else throw new Error(fe.message||fe.error?.message||"Failed to assign provider")}catch(F){console.error("Error assigning provider:",F);const L=F instanceof Error?F.message:"Failed to assign provider";e(L,"error")}finally{Ne(!1)}};return r.jsxs("div",{children:[a?r.jsx(il,{}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"flex items-center justify-end mb-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs(je,{onClick:()=>Q(!R),variant:"outline",className:"flex items-center space-x-1",children:[r.jsx(Qx,{size:14}),r.jsx("span",{children:"Columns"})]}),r.jsxs(je,{onClick:pe,className:"flex items-center space-x-1",children:[r.jsx(qr,{size:14}),r.jsx("span",{children:"Refresh"})]})]})}),R&&r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Column Visibility"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:$e,variant:"outline",size:"sm",className:"text-xs",children:"Reset All"}),r.jsx(je,{onClick:()=>Q(!1),variant:"ghost",size:"sm",className:"text-xs",children:r.jsx(gt,{size:14})})]})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(Y).map(([F,L])=>r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:L,onChange:()=>De(F),disabled:["id","date","status","actions"].includes(F),className:"rounded border-gray-300 text-primary focus:ring-primary disabled:opacity-50"}),r.jsx("span",{className:`text-sm ${["id","date","status","actions"].includes(F)?"text-gray-500":"text-gray-700"}`,children:F.charAt(0).toUpperCase()+F.slice(1).replace("_"," ")})]},F))})]}),r.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"w-10 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),Y.id&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),Y.date&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),Y.service&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),Y.parties&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parties"}),Y.location&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),Y.amount&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),Y.status&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),Y.payment&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),Y.priority&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),Y.assigned&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),Y.actions&&r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{children:t.map(F=>r.jsxs(fn.Fragment,{children:[r.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"px-4 py-4",children:r.jsx(je,{variant:"ghost",size:"sm",onClick:()=>Je(F),className:"p-1 hover:bg-gray-100 rounded",children:d===F.id?r.jsx(ul,{size:16,className:"text-gray-500"}):r.jsx(ws,{size:16,className:"text-gray-500"})})}),Y.id&&r.jsxs("td",{className:"px-4 py-4",children:[r.jsxs("div",{className:"font-medium text-gray-900",children:["#",F.id]}),F.is_overdue&&r.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[r.jsx(Sr,{size:12,className:"mr-1"}),"Overdue"]})]}),Y.date&&r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:F.booking_date?new Date(F.booking_date).toLocaleDateString():"N/A"}),r.jsx("div",{className:"text-sm text-gray-500",children:F.booking_time?Ju(F.booking_time):"N/A"})]}),Y.service&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:"font-medium text-gray-900",children:F.service_name})}),Y.parties&&r.jsxs("td",{className:"px-4 py-4",children:[r.jsxs("div",{className:"text-sm text-gray-900",children:["User: ",F.user_name]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",F.provider_name]})]}),Y.location&&r.jsxs("td",{className:"px-4 py-4",children:[r.jsx("div",{className:"text-sm text-gray-900",children:F.service_address}),r.jsxs("div",{className:"text-sm text-gray-500",children:[F.city," - ",F.pincode]})]}),Y.amount&&r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"font-medium text-gray-900",children:["",F.total_amount.toFixed(2)]})}),Y.status&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me(F.status)}`,children:F.status.split("_").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ")})}),Y.payment&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ae(F.payment_status)}`,children:F.payment_status.charAt(0).toUpperCase()+F.payment_status.slice(1)})}),Y.priority&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te(F.priority)}`,children:F.priority.charAt(0).toUpperCase()+F.priority.slice(1)})}),Y.assigned&&r.jsx("td",{className:"px-4 py-4",children:r.jsx("div",{className:"text-sm text-gray-600",children:F.assigned_provider||"Unassigned"})}),Y.actions&&r.jsx("td",{className:"px-4 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:()=>Je(F),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:r.jsx(to,{size:16})}),F.slot_type&&F.total_sessions&&r.jsx(je,{onClick:()=>{z(F),M(!0)},variant:"ghost",size:"sm",className:"text-primary hover:text-blue-900",title:"View Report",children:r.jsx(Qx,{size:16})})]})})]}),d===F.id&&r.jsx("tr",{children:r.jsx("td",{colSpan:Object.values(Y).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary",children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Booking ID:"}),r.jsxs("span",{className:"font-medium",children:["#",F.id]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${me(F.status)}`,children:F.status.split("_").map(L=>L.charAt(0).toUpperCase()+L.slice(1)).join(" ")})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ae(F.payment_status)}`,children:F.payment_status.charAt(0).toUpperCase()+F.payment_status.slice(1)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Priority:"}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te(F.priority)}`,children:F.priority.charAt(0).toUpperCase()+F.priority.slice(1)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsxs("span",{className:"font-medium text-green-600",children:["",F.total_amount.toFixed(2)]})]}),F.slot_type&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Shift Pattern:"}),r.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-medium",children:[F.slot_type,F.slot_type==="MWF"&&" (Mon, Wed, Fri)",F.slot_type==="TTS"&&" (Tue, Thu, Sat)"]})]}),F.total_sessions&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Sessions:"}),r.jsxs("span",{className:"font-medium",children:[F.completed_sessions||0," / ",F.total_sessions]})]})]})]}),r.jsxs("div",{className:"space-y-4 md:col-span-2",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Service Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Service:"}),r.jsx("span",{className:"font-medium",children:F.service_name})]}),F.service_description&&r.jsxs("div",{className:"col-span-full",children:[r.jsx("span",{className:"text-gray-600 block mb-2",children:"Description:"}),r.jsx("div",{className:"text-sm text-gray-700 border border-gray-200 rounded p-3 bg-gray-50 service-description-html",style:{lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:F.service_description}})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"User:"}),r.jsx("span",{className:"font-medium",children:F.user_name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Provider:"}),r.jsx("span",{className:"font-medium",children:F.provider_name})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Assigned To:"}),r.jsx("span",{className:"font-medium",children:F.assigned_provider||"Unassigned"})]}),(!F.provider_id||F.status==="awaiting_assignment")&&r.jsx("div",{className:"mt-4",children:r.jsx(je,{onClick:()=>at(F),className:"bg-primary hover:bg-primary-dark text-white",size:"sm",children:"Assign Provider"})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Location & Contact"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 block",children:"Address:"}),r.jsx("span",{className:"font-medium",children:F.service_address})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"City:"}),r.jsx("span",{className:"font-medium",children:F.city})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Pincode:"}),r.jsx("span",{className:"font-medium",children:F.pincode})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Contact Person:"}),r.jsx("span",{className:"font-medium",children:F.contact_person})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Contact Phone:"}),r.jsx("span",{className:"font-medium",children:F.contact_phone})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Date & Time"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Booking Date:"}),r.jsx("span",{className:"font-medium",children:F.booking_date?new Date(F.booking_date).toLocaleDateString():"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Booking Time:"}),r.jsx("span",{className:"font-medium",children:F.booking_time?Ju(F.booking_time):"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Created:"}),r.jsx("span",{className:"font-medium",children:F.created_at?new Date(F.created_at).toLocaleString():"N/A"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),r.jsx("span",{className:"font-medium",children:F.updated_at?new Date(F.updated_at).toLocaleString():"N/A"})]})]})]}),(F.slot_type||F.total_sessions)&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Session Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[F.slot_type&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Slot Type:"}),r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:F.slot_type})]}),F.total_sessions&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Sessions:"}),r.jsxs("span",{className:"font-medium",children:[F.completed_sessions||0," / ",F.total_sessions," completed"]})]}),r.jsx("div",{className:"mt-3",children:r.jsx(je,{onClick:()=>{z(F),M(!0),P[F.id]||Pe(F.id)},variant:"outline",size:"sm",className:"w-full",children:A[F.id]?"Loading...":"View Session History"})})]})]}),F.status==="pending_admin_approval"&&r.jsxs("div",{className:"space-y-4 col-span-full",children:[r.jsx("h4",{className:"text-sm font-semibold text-yellow-900 border-b border-yellow-300 pb-2 bg-yellow-50 p-2 rounded",children:" Pending Admin Approval"}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(je,{onClick:()=>Ze(F.id),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:"Approve Completion"}),r.jsx(je,{onClick:()=>{const L=prompt("Please provide rejection reason:");L&&L.trim()&&he(F.id,L.trim())},variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",size:"sm",children:"Reject Completion"})]}),F.admin_rejection_reason&&r.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[r.jsx("strong",{children:"Previous Rejection:"})," ",F.admin_rejection_reason]})]}),(F.admin_notes||F.cancellation_reason||F.refund_amount)&&r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Additional Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[F.admin_notes&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 block",children:"Admin Notes:"}),r.jsx("span",{className:"font-medium",children:F.admin_notes})]}),F.cancellation_reason&&r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 block",children:"Cancellation Reason:"}),r.jsx("span",{className:"font-medium text-red-600",children:F.cancellation_reason})]}),F.refund_amount&&r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Refund Amount:"}),r.jsxs("span",{className:"font-medium text-primary",children:["",F.refund_amount.toFixed(2)]})]})]})]})]})})})})]},F.id))})]})}),_>1&&r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",o," of ",_]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:()=>c(F=>Math.max(F-1,1)),disabled:o===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(eo,{size:16})}),r.jsx(je,{onClick:()=>c(F=>Math.min(F+1,_)),disabled:o===_,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Ia,{size:16})})]})]})]}),p&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:[v.status==="confirm"?"Confirm":v.status==="cancel"?"Cancel":v.status==="assign"?"Assign Provider":v.status==="start"?"Start Service":v.status==="complete"?"Complete":"View"," Booking"]}),r.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),r.jsxs("form",{onSubmit:Oe,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Details"}),r.jsxs("div",{className:"text-sm text-gray-900",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Service:"})," ",h.service_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",new Date(h.booking_date).toLocaleDateString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Time:"})," ",Ju(h.booking_time)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Amount:"})," ",h.total_amount.toFixed(2)]})]})]}),v.status==="confirm"&&r.jsx("div",{className:"bg-blue-50 border border-primary/20 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(Ki,{className:"h-5 w-5 text-blue-400"})}),r.jsx("div",{className:"ml-3",children:r.jsxs("p",{className:"text-sm text-primary-dark",children:[r.jsx("strong",{children:"Provider Assignment:"})," This booking already has a provider assigned. Confirmation will approve the booking for service."]})})]})}),v.status==="assign"&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider ID *"}),r.jsx("input",{type:"number",required:!0,value:v.provider_id,onChange:F=>N({...v,provider_id:parseInt(F.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter provider ID"})]}),v.status==="cancel"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),r.jsx("input",{type:"text",required:!0,value:v.reason,onChange:F=>N({...v,reason:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter cancellation reason"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount"}),r.jsx("input",{type:"number",value:v.refund_amount,onChange:F=>N({...v,refund_amount:parseFloat(F.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter refund amount"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),r.jsx("textarea",{required:!0,value:v.notes,onChange:F=>N({...v,notes:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${v.status}...`})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(je,{type:"button",onClick:()=>f(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),r.jsx(je,{type:"submit",disabled:j,className:`${v.status==="confirm"?"bg-primary hover:bg-primary-dark":v.status==="cancel"?"bg-red-600 hover:bg-red-700":v.status==="assign"?"bg-green-600 hover:bg-green-700":(v.status==="start","bg-primary hover:bg-primary-dark")} text-white`,children:j?"Processing...":v.status==="confirm"?"Confirm":v.status==="cancel"?"Cancel":v.status==="assign"?"Assign":v.status==="start"?"Start":v.status==="complete"?"Complete":"Submit"})]})]})]})}),I&&D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Session History - Booking #",D.id]}),r.jsx("button",{onClick:()=>{M(!1),z(null)},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),A[D.id]?r.jsx("div",{className:"text-center py-8",children:"Loading sessions..."}):P[D.id]?.length>0?r.jsx("div",{className:"space-y-4",children:P[D.id].map(F=>r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium",children:["Session ",F.session_number]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(F.session_date).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${F.status==="session_completed"?"bg-green-100 text-green-800":F.status==="session_started"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:F.status.replace("_"," ").replace(/\b\w/g,L=>L.toUpperCase())})]}),F.reached_at&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Reached: ",new Date(F.reached_at).toLocaleString()]}),F.started_at&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",new Date(F.started_at).toLocaleTimeString()]}),F.ended_at&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Ended: ",new Date(F.ended_at).toLocaleTimeString()]}),F.picture_proof_url&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Proof:"}),r.jsx("img",{src:F.picture_proof_url,alt:`Session ${F.session_number} proof`,className:"max-w-xs rounded border border-gray-200 cursor-pointer hover:opacity-80",onClick:()=>window.open(F.picture_proof_url,"_blank")})]})]},F.id))}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sessions found"})]})}),le&&ee&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Assign Provider to Booking #",ee.id]}),r.jsx("button",{onClick:()=>{H(!1),ce(null),$([]),se(null)},className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),r.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Service:"}),r.jsx("span",{className:"font-medium ml-2",children:ee.service_name})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Customer:"}),r.jsx("span",{className:"font-medium ml-2",children:ee.user_name})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Location:"}),r.jsxs("span",{className:"font-medium ml-2",children:[ee.city,", ",ee.pincode]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Date:"}),r.jsxs("span",{className:"font-medium ml-2",children:[ee.booking_date?new Date(ee.booking_date).toLocaleDateString():"N/A"," ",ee.booking_time?Ju(ee.booking_time):""]})]})]})}),r.jsxs("div",{className:"mb-4",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Available Providers (Filtered by Service & Location)"}),G?r.jsx("div",{className:"flex items-center justify-center py-8",children:r.jsx(il,{})}):B.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("p",{children:"No available providers found for this service."}),r.jsx("p",{className:"text-sm mt-2",children:"Please check if there are approved providers who offer this service."})]}):r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:B.map(F=>r.jsx("div",{onClick:()=>se(F.id),className:`p-4 border rounded-lg cursor-pointer transition-colors ${ue===F.id?"border-primary bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("h5",{className:"font-semibold text-gray-900",children:F.full_name}),ue===F.id&&r.jsx(Ki,{size:16,className:"text-primary"})]}),r.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm text-gray-600",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",F.phone_number]}),F.email&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",F.email]}),F.city&&F.state&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Location:"})," ",F.city,", ",F.state]}),F.average_rating&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Rating:"}),"  ",F.average_rating.toFixed(1)]}),F.completed_bookings!==void 0&&r.jsxs("div",{children:[r.jsx("span",{className:"font-medium",children:"Completed:"})," ",F.completed_bookings," bookings"]})]})]})})},F.id))})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[r.jsx(je,{type:"button",onClick:()=>{H(!1),ce(null),$([]),se(null)},className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),r.jsx(je,{type:"button",onClick:yt,disabled:!ue||xe||G,className:"bg-primary hover:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed",children:xe?"Assigning...":"Assign Provider"})]})]})})]})},CJ=()=>r.jsx(or,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings"}),r.jsx("p",{className:"text-gray-600",children:"Manage and monitor all bookings in the system"})]}),r.jsxs(He,{children:[r.jsx(ct,{children:r.jsx(dt,{children:"All Bookings"})}),r.jsx(Ve,{children:r.jsx(PJ,{})})]})]})}),AJ=({invoice:e,onClose:t})=>{if(!e)return null;const n=e.order||{},a=e.items||[],s=e.invoice_number||`INV-${n.id||"0000"}-${new Date().toISOString().split("T")[0].replace(/-/g,"")}`,o=parseFloat(n.subtotal||0),c=parseFloat(n.discount||0),d=parseFloat(n.delivery_charges||0),u=parseFloat(n.total_amount||0),p=.18,f=o-c,h=(f*(p/2)).toFixed(2),y=(f*(p/2)).toFixed(2),v=b=>b?new Date(b).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",N=b=>b?new Date(b).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",j=()=>{window.print()};return r.jsx("div",{className:"invoice-overlay",onClick:t,children:r.jsx("div",{className:"invoice-modal",onClick:b=>b.stopPropagation(),children:r.jsxs("div",{className:"invoice-container",children:[r.jsxs("div",{className:"invoice-header",children:[r.jsxs("div",{className:"invoice-company-info",children:[r.jsx("div",{className:"invoice-logo",children:r.jsx("img",{src:"/KwikMedi-logo.png",alt:"KwikMedi Logo",onError:b=>{b.target.style.display="none"}})}),r.jsxs("div",{className:"invoice-company-details",children:[r.jsx("h1",{className:"invoice-company-name",children:"KwikMedi"}),r.jsxs("p",{className:"invoice-company-address",children:["Your Health Partner",r.jsx("br",{}),"India"]}),r.jsxs("p",{className:"invoice-company-contact",children:["Email: support@kwikmedi.com",r.jsx("br",{}),"Phone: +91-XXXXXXXXXX"]})]})]}),r.jsxs("div",{className:"invoice-title-section",children:[r.jsx("h2",{className:"invoice-title",children:"TAX INVOICE"}),r.jsxs("div",{className:"invoice-meta",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Invoice No:"})," ",s]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Date:"})," ",v(n.created_at)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Order ID:"})," #",n.id]})]})]})]}),r.jsxs("div",{className:"invoice-address-section",children:[r.jsxs("div",{className:"invoice-address-box",children:[r.jsx("h3",{className:"invoice-address-title",children:"Bill To:"}),r.jsx("p",{className:"invoice-address-name",children:n.user_name||n.full_name||"N/A"}),r.jsxs("p",{className:"invoice-address-text",children:[n.user_phone||n.phone||"",r.jsx("br",{}),n.user_email||n.email||""]})]}),r.jsxs("div",{className:"invoice-address-box",children:[r.jsx("h3",{className:"invoice-address-title",children:"Ship To:"}),r.jsx("p",{className:"invoice-address-name",children:n.user_name||n.full_name||"N/A"}),r.jsxs("p",{className:"invoice-address-text",children:[n.delivery_address||"N/A",r.jsx("br",{}),[n.delivery_city,n.delivery_state,n.delivery_pincode].filter(Boolean).join(", ")]})]})]}),r.jsx("div",{className:"invoice-items-section",children:r.jsxs("table",{className:"invoice-table",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"invoice-table-sno",children:"S.No"}),r.jsx("th",{className:"invoice-table-item",children:"Item Description"}),r.jsx("th",{className:"invoice-table-qty",children:"Qty"}),r.jsx("th",{className:"invoice-table-price",children:"Unit Price"}),r.jsx("th",{className:"invoice-table-amount",children:"Amount ()"})]})}),r.jsxs("tbody",{children:[a.map((b,_)=>r.jsxs("tr",{children:[r.jsx("td",{children:_+1}),r.jsxs("td",{className:"invoice-table-item-cell",children:[r.jsx("strong",{children:b.medicine_name||"Medicine"}),b.dosage&&r.jsxs("div",{className:"invoice-item-details",children:["Dosage: ",b.dosage]}),b.days&&r.jsxs("div",{className:"invoice-item-details",children:["Days: ",b.days]})]}),r.jsx("td",{children:b.quantity||0}),r.jsxs("td",{children:["",parseFloat(b.price||0).toFixed(2)]}),r.jsxs("td",{children:["",((b.price||0)*(b.quantity||0)).toFixed(2)]})]},b.id||_)),a.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:"No items found"})})]})]})}),r.jsx("div",{className:"invoice-totals-section",children:r.jsxs("div",{className:"invoice-totals-box",children:[r.jsxs("div",{className:"invoice-total-row",children:[r.jsx("span",{children:"Subtotal:"}),r.jsxs("span",{children:["",o.toFixed(2)]})]}),c>0&&r.jsxs("div",{className:"invoice-total-row",children:[r.jsx("span",{children:"Discount:"}),r.jsxs("span",{children:["-",c.toFixed(2)]})]}),r.jsxs("div",{className:"invoice-total-row",children:[r.jsx("span",{children:"Taxable Amount:"}),r.jsxs("span",{children:["",f.toFixed(2)]})]}),parseFloat(h)>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"invoice-total-row",children:[r.jsx("span",{children:"CGST (9%):"}),r.jsxs("span",{children:["",h]})]}),r.jsxs("div",{className:"invoice-total-row",children:[r.jsx("span",{children:"SGST (9%):"}),r.jsxs("span",{children:["",y]})]})]}),d>0&&r.jsxs("div",{className:"invoice-total-row",children:[r.jsx("span",{children:"Delivery Charges:"}),r.jsxs("span",{children:["",d.toFixed(2)]})]}),r.jsxs("div",{className:"invoice-total-row invoice-total-final",children:[r.jsx("span",{children:r.jsx("strong",{children:"Total Amount:"})}),r.jsx("span",{children:r.jsxs("strong",{children:["",u.toFixed(2)]})})]})]})}),r.jsx("div",{className:"invoice-payment-section",children:r.jsxs("div",{className:"invoice-payment-info",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Payment Method:"})," ",n.payment_method==="cod"?"Cash on Delivery":"Online Payment"]}),n.payment_method==="online"&&n.payment_status&&r.jsxs("p",{children:[r.jsx("strong",{children:"Payment Status:"})," ",n.payment_status]}),n.created_at&&r.jsxs("p",{children:[r.jsx("strong",{children:"Order Date:"})," ",N(n.created_at)]})]})}),r.jsxs("div",{className:"invoice-footer",children:[r.jsx("p",{className:"invoice-footer-note",children:"This is a computer-generated invoice and does not require a signature."}),r.jsx("p",{className:"invoice-footer-thanks",children:"Thank you for your business!"}),r.jsx("p",{className:"invoice-footer-support",children:"For any queries, please contact us at support@kwikmedi.com"})]}),r.jsxs("div",{className:"invoice-actions",children:[r.jsx("button",{onClick:j,className:"invoice-btn-print",children:"Print Invoice"}),r.jsx("button",{onClick:t,className:"invoice-btn-close",children:"Close"})]})]})})})},EJ={},OJ=EJ?.VITE_API_BASE_URL||"/api",TJ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(1),[d,u]=g.useState(null),[p,f]=g.useState(1),[h,y]=g.useState(0),[v,N]=g.useState({id:!0,date:!0,user:!0,vendor:!0,medicines:!0,amount:!0,status:!0,payment:!0,actions:!0}),[j,b]=g.useState({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),[_,S]=g.useState(!1),[P,C]=g.useState(!1),[A,O]=g.useState(null),[I,M]=g.useState(!1),[D,z]=g.useState({}),[Y,W]=g.useState({}),re=20,U=OJ;g.useEffect(()=>{R()},[o,j]);const R=async()=>{const $=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!$){e("Please login to view orders","error"),s(!1);return}try{s(!0);const G=new URLSearchParams;G.append("page",o.toString()),G.append("limit",re.toString()),Object.entries(j).forEach(([se,xe])=>{xe&&G.append(se,xe.toString())});const ge=await fetch(`${U}/admin/orders?${G.toString()}`,{headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(!ge.ok){if(ge.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${ge.status}`)}const ue=await ge.json();n(ue.orders||[]),f(ue.pagination?.total_pages||1),y(ue.pagination?.total||0)}catch(G){console.error("Failed to fetch orders:",G),e(G.message||"Failed to fetch orders","error"),n([])}finally{s(!1)}},Q=$=>{const ge={placed:{label:"Placed",color:"text-primary-dark",bgColor:"bg-primary/10"},pending_vendor_response:{label:"Awaiting Vendor",color:"text-yellow-700",bgColor:"bg-yellow-100"},confirmed:{label:"Confirmed",color:"text-green-700",bgColor:"bg-green-100"},packed:{label:"Packed",color:"text-purple-700",bgColor:"bg-purple-100"},out_for_delivery:{label:"Out for Delivery",color:"text-indigo-700",bgColor:"bg-indigo-100"},delivered:{label:"Delivered",color:"text-green-700",bgColor:"bg-green-100"},rejected:{label:"Rejected",color:"text-red-700",bgColor:"bg-red-100"},cancelled:{label:"Cancelled",color:"text-gray-700",bgColor:"bg-gray-100"},no_vendor_available:{label:"No Vendor",color:"text-orange-700",bgColor:"bg-orange-100"}}[$]||{label:$,color:"text-gray-700",bgColor:"bg-gray-100"};return r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge.color} ${ge.bgColor}`,children:ge.label})},le=$=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${$==="online"?"text-green-700 bg-green-100":"text-primary-dark bg-primary/10"}`,children:$==="online"?"Online":"COD"}),H=$=>$?new Date($).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ee=$=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format($),ce=$=>{u(d===$?null:$)},B=async $=>{M(!0),C(!1),O(null);try{const G=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!G){e("Please login to view invoice","error");return}const ge=await fetch(`${U}/admin/orders/${$}/invoice`,{method:"GET",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}}),ue=await ge.json();ge.ok&&ue.invoice?(O(ue.invoice),C(!0)):e(ue.error?.message||"Failed to load invoice","error")}catch(G){console.error("Error fetching invoice:",G),e("Failed to load invoice","error")}finally{M(!1)}};return r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor all medicine orders and vendor assignments"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>S(!_),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[r.jsx(Qx,{size:16}),"Columns"]}),r.jsxs("button",{onClick:R,disabled:a,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",children:[r.jsx(qr,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),r.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:j.status,onChange:$=>b({...j,status:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"placed",children:"Placed"}),r.jsx("option",{value:"pending_vendor_response",children:"Awaiting Vendor"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"packed",children:"Packed"}),r.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),r.jsx("option",{value:"delivered",children:"Delivered"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),r.jsx("input",{type:"date",value:j.date_from,onChange:$=>b({...j,date_from:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),r.jsx("input",{type:"date",value:j.date_to,onChange:$=>b({...j,date_to:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:()=>b({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200",children:"Clear Filters"})})]})}),a?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx(il,{})}):t.length===0?r.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[r.jsx(Hr,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No orders found"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:Object.values(j).some($=>$)?"Try adjusting your filters":"Orders will appear here once users place them"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[v.id&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),v.date&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),v.user&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),v.vendor&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),v.medicines&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicines"}),v.amount&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),v.status&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),v.payment&&r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),v.actions&&r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map($=>r.jsxs(fn.Fragment,{children:[r.jsxs("tr",{className:"hover:bg-gray-50",children:[v.id&&r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",$.id]}),v.date&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:H($.created_at)}),v.user&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:$.user_name||`User #${$.user_id}`}),r.jsx("div",{className:"text-gray-500",children:$.user_phone})]})}),v.vendor&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$.provider_name?r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:$.provider_name}),r.jsx("div",{className:"text-gray-500",children:$.provider_phone})]}):r.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})}),v.medicines&&r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:r.jsxs("div",{className:"max-w-xs",children:[$.items.length," item",$.items.length!==1?"s":"",$.items.length>0&&r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[$.items[0].medicine_name,$.items.length>1&&` +${$.items.length-1} more`]})]})}),v.amount&&r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[r.jsx("div",{className:"font-medium",children:ee($.total_amount)}),$.discount>0&&r.jsxs("div",{className:"text-xs text-green-600",children:["-",ee($.discount)]})]}),v.status&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Q($.status)}),v.payment&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:le($.payment_method)}),v.actions&&r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:r.jsxs("button",{onClick:()=>ce($.id),className:"text-primary hover:text-primary-dark flex items-center gap-1 ml-auto",children:[r.jsx(to,{size:16}),d===$.id?"Hide":"View",d===$.id?r.jsx(ul,{size:16}):r.jsx(ws,{size:16})]})})]}),d===$.id&&r.jsx("tr",{children:r.jsx("td",{colSpan:Object.values(v).filter(G=>G).length,className:"px-6 py-4 bg-gray-50",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Order ID"}),r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",$.id]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Status"}),r.jsx("div",{children:Q($.status)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Payment"}),r.jsx("div",{children:le($.payment_method)})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Total Amount"}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee($.total_amount)})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Delivery Address"}),r.jsxs("div",{className:"text-sm text-gray-900",children:[$.full_name&&r.jsx("div",{className:"font-medium",children:$.full_name}),r.jsx("div",{children:$.delivery_address}),r.jsxs("div",{children:[$.delivery_city,", ",$.delivery_state||""," - ",$.delivery_pincode]}),$.phone&&r.jsxs("div",{className:"text-gray-500 mt-1",children:["Phone: ",$.phone]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2",children:["Medicines (",$.items.length,")"]}),r.jsx("div",{className:"space-y-2",children:$.items.map(G=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.medicine_name}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",G.quantity,"  ",ee(G.price)]})]}),r.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee(G.price*G.quantity)}),r.jsx("div",{className:"ml-4",children:Q(G.status)})]},G.id))})]}),$.provider_name&&r.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:[r.jsx("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Assigned Vendor"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("div",{className:"font-medium",children:$.provider_name}),r.jsx("div",{children:$.provider_phone}),$.pass_on_info&&r.jsxs("div",{className:"mt-2 text-xs text-primary",children:[$.pass_on_info.pass_on_type==="partial"?"Partially":"Fully"," passed on from another vendor"]})]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),Y[$.id]?r.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):D[$.id]&&D[$.id].length>0?r.jsxs("div",{className:"space-y-2",children:[D[$.id].map(G=>r.jsxs("div",{className:`p-3 rounded-lg border ${G.response_status==="accepted"?"bg-green-50 border-green-200":G.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.provider_name||G.provider_business_name||`Provider #${G.provider_id}`}),G.provider_phone&&r.jsx("div",{className:"text-xs text-gray-600",children:G.provider_phone})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G.response_status==="accepted"?"bg-green-100 text-green-700":G.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:G.response_status==="accepted"?" Accepted":G.response_status==="rejected"?" Rejected":" Aborted"})})]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[G.response_status==="accepted"&&G.response_at&&r.jsxs("div",{children:["Accepted at: ",H(G.response_at)]}),G.response_status==="rejected"&&G.response_at&&r.jsxs("div",{children:["Rejected at: ",H(G.response_at)]}),G.response_status==="aborted"&&r.jsx("div",{children:G.aborted_at?`Aborted at: ${H(G.aborted_at)}`:"No response - deadline passed"}),r.jsxs("div",{className:"mt-1",children:["Notified: ",H(G.notification_sent_at)]}),G.deadline_at&&r.jsxs("div",{children:["Deadline: ",H(G.deadline_at)]})]})]},G.id)),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",D[$.id].length," | Accepted: ",D[$.id].filter(G=>G.response_status==="accepted").length," | Rejected: ",D[$.id].filter(G=>G.response_status==="rejected").length," | Aborted: ",D[$.id].filter(G=>G.response_status==="aborted").length]})]}):r.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),r.jsx("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:r.jsxs("button",{onClick:()=>B($.id),disabled:I,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(ia,{size:16}),I?"Loading...":"View Invoice"]})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),Y[$.id]?r.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):D[$.id]&&D[$.id].length>0?r.jsxs("div",{className:"space-y-2",children:[D[$.id].map(G=>r.jsxs("div",{className:`p-3 rounded-lg border ${G.response_status==="accepted"?"bg-green-50 border-green-200":G.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.provider_name||G.provider_business_name||`Provider #${G.provider_id}`}),G.provider_phone&&r.jsx("div",{className:"text-xs text-gray-600",children:G.provider_phone})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G.response_status==="accepted"?"bg-green-100 text-green-700":G.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:G.response_status==="accepted"?" Accepted":G.response_status==="rejected"?" Rejected":" Aborted"})})]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[G.response_status==="accepted"&&G.response_at&&r.jsxs("div",{children:["Accepted at: ",H(G.response_at)]}),G.response_status==="rejected"&&G.response_at&&r.jsxs("div",{children:["Rejected at: ",H(G.response_at)]}),G.response_status==="aborted"&&r.jsx("div",{children:G.aborted_at?`Aborted at: ${H(G.aborted_at)}`:"No response - deadline passed"}),r.jsxs("div",{className:"mt-1",children:["Notified: ",H(G.notification_sent_at)]}),G.deadline_at&&r.jsxs("div",{children:["Deadline: ",H(G.deadline_at)]})]})]},G.id)),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",D[$.id].length," | Accepted: ",D[$.id].filter(G=>G.response_status==="accepted").length," | Rejected: ",D[$.id].filter(G=>G.response_status==="rejected").length," | Aborted: ",D[$.id].filter(G=>G.response_status==="aborted").length]})]}):r.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Timeline"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[r.jsxs("div",{children:["Placed: ",H($.created_at)]}),$.confirmed_at&&r.jsxs("div",{children:["Confirmed: ",H($.confirmed_at)]}),$.packed_at&&r.jsxs("div",{children:["Packed: ",H($.packed_at)]}),$.out_for_delivery_at&&r.jsxs("div",{children:["Out for Delivery: ",H($.out_for_delivery_at)]}),$.delivered_at&&r.jsxs("div",{className:"text-green-600 font-medium",children:["Delivered: ",H($.delivered_at)]})]})]})]})})})]},$.id))})]})})}),p>1&&r.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",o," of ",p," (",h," total orders)"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("button",{onClick:()=>c($=>Math.max(1,$-1)),disabled:o===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[r.jsx(eo,{size:16}),"Previous"]}),r.jsxs("button",{onClick:()=>c($=>Math.min(p,$+1)),disabled:o===p,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next",r.jsx(Ia,{size:16})]})]})]})]}),P&&A&&r.jsx(AJ,{invoice:A,onClose:()=>{C(!1),O(null)}})]})},IJ=()=>r.jsx(or,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),r.jsx("p",{className:"text-gray-600",children:"Monitor and track all medicine orders from users"})]}),r.jsxs(He,{children:[r.jsx(ct,{children:r.jsx(dt,{children:"All Orders"})}),r.jsx(Ve,{children:r.jsx(TJ,{})})]})]})}),MJ=[{id:1,booking_id:101,complaint_type:"service_quality",description:"The groomer was late and didn't follow the instructions I provided for my dog's haircut.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-15T10:00:00Z",resolved_at:null,user_name:"Sarah Johnson",user_email:"sarah.johnson@example.com",user_phone:"+91 98765 43210",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Grooming",booking_date:"2025-01-14",booking_time:"14:00"},{id:2,booking_id:102,complaint_type:"provider_behavior",description:"The trainer was rude and unprofessional during the training session.",priority:"medium",status:"in_progress",admin_notes:"Contacted provider for their side of the story",created_at:"2025-01-14T15:30:00Z",resolved_at:null,user_name:"Michael Chen",user_email:"michael.chen@example.com",user_phone:"+91 98765 43211",provider_name:"Sarah Trainer",provider_email:"sarah.trainer@example.com",service_name:"Dog Training",booking_date:"2025-01-13",booking_time:"10:00"},{id:3,booking_id:103,complaint_type:"billing_dispute",description:"I was charged extra for services that were not provided.",priority:"high",status:"resolved",admin_notes:"Refund processed. Amount credited to user account.",created_at:"2025-01-12T09:20:00Z",resolved_at:"2025-01-13T11:00:00Z",user_name:"Emily Rodriguez",user_email:"emily.rodriguez@example.com",user_phone:"+91 98765 43212",provider_name:"Mike Handler",provider_email:"mike.handler@example.com",service_name:"Veterinary Care",booking_date:"2025-01-11",booking_time:"16:00"},{id:4,booking_id:104,complaint_type:"safety_concern",description:"The boarding facility didn't have proper safety measures for my pet.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-11T14:15:00Z",resolved_at:null,user_name:"David Wilson",user_email:"david.wilson@example.com",user_phone:"+91 98765 43213",provider_name:"Lisa Coach",provider_email:"lisa.coach@example.com",service_name:"Pet Boarding",booking_date:"2025-01-10",booking_time:"09:00"},{id:5,booking_id:105,complaint_type:"other",description:"General dissatisfaction with the service quality.",priority:"low",status:"closed",admin_notes:"Issue resolved after discussion with provider.",created_at:"2025-01-08T11:00:00Z",resolved_at:"2025-01-09T15:30:00Z",user_name:"Priya Sharma",user_email:"priya.sharma@example.com",user_phone:"+91 98765 43214",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Walking",booking_date:"2025-01-07",booking_time:"18:00"}],DJ={total_complaints:5,pending_complaints:2,in_progress_complaints:1,resolved_complaints:1,closed_complaints:1,high_priority_complaints:3,medium_priority_complaints:1,low_priority_complaints:1},LJ=()=>{const[e,t]=g.useState(MJ),[n,a]=g.useState(DJ),[s,o]=g.useState(!1),[c,d]=g.useState(null),[u,p]=g.useState("all"),[f,h]=g.useState("all"),[y,v]=g.useState(""),[N,j]=g.useState(!1),[b,_]=g.useState(""),[S,P]=g.useState(""),C=(D,z,Y)=>{j(!0),setTimeout(()=>{t(e.map(re=>re.id===D?{...re,status:z,admin_notes:Y,resolved_at:z==="resolved"||z==="closed"?new Date().toISOString():re.resolved_at}:re));const W=e.map(re=>re.id===D?{...re,status:z}:re);a({total_complaints:W.length,pending_complaints:W.filter(re=>re.status==="pending").length,in_progress_complaints:W.filter(re=>re.status==="in_progress").length,resolved_complaints:W.filter(re=>re.status==="resolved").length,closed_complaints:W.filter(re=>re.status==="closed").length,high_priority_complaints:W.filter(re=>re.priority==="high").length,medium_priority_complaints:W.filter(re=>re.priority==="medium").length,low_priority_complaints:W.filter(re=>re.priority==="low").length}),d(null),_(""),P(""),j(!1)},500)},A=D=>{switch(D){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},O=D=>{switch(D){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"in_progress":return"bg-primary/10 text-primary-dark border-primary/20";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},I=D=>({service_quality:"Service Quality Issue",provider_behavior:"Provider Behavior",billing_dispute:"Billing Dispute",safety_concern:"Safety Concern",equipment_damage:"Equipment Damage",other:"Other"})[D]||D,M=e.filter(D=>{const z=u==="all"||D.status===u,Y=f==="all"||D.priority===f,W=y===""||D.user_name.toLowerCase().includes(y.toLowerCase())||D.provider_name.toLowerCase().includes(y.toLowerCase())||D.service_name.toLowerCase().includes(y.toLowerCase())||D.description.toLowerCase().includes(y.toLowerCase());return z&&Y&&W});return s?r.jsx(or,{children:r.jsxs("div",{className:"flex items-center justify-center h-64",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),r.jsx("span",{className:"ml-3 text-gray-600",children:"Loading complaints..."})]})}):r.jsx(or,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complaint Management"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and resolve customer complaints"})]})}),n&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(He,{className:"border-0 shadow-lg",children:r.jsx(Ve,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Complaints"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.total_complaints})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(ca,{size:24,className:"text-primary"})})]})})}),r.jsx(He,{className:"border-0 shadow-lg",children:r.jsx(Ve,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),r.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:n.pending_complaints})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:r.jsx(Sr,{size:24,className:"text-yellow-600"})})]})})}),r.jsx(He,{className:"border-0 shadow-lg",children:r.jsx(Ve,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),r.jsx("p",{className:"text-3xl font-bold text-primary",children:n.in_progress_complaints})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Ja,{size:24,className:"text-primary"})})]})})}),r.jsx(He,{className:"border-0 shadow-lg",children:r.jsx(Ve,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.resolved_complaints})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Wr,{size:24,className:"text-green-600"})})]})})})]}),r.jsx(He,{className:"border-0 shadow-lg",children:r.jsx(Ve,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Yr,{size:20,className:"absolute left-3 top-3 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search complaints...",value:y,onChange:D=>v(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("select",{value:u,onChange:D=>p(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"resolved",children:"Resolved"}),r.jsx("option",{value:"closed",children:"Closed"})]}),r.jsxs("select",{value:f,onChange:D=>h(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[r.jsx("option",{value:"all",children:"All Priority"}),r.jsx("option",{value:"high",children:"High"}),r.jsx("option",{value:"medium",children:"Medium"}),r.jsx("option",{value:"low",children:"Low"})]})]})]})})}),r.jsx("div",{className:"space-y-4",children:M.length===0?r.jsx(He,{className:"border-0 shadow-lg",children:r.jsxs(Ve,{className:"p-12 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ca,{size:48,className:"text-gray-400"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Complaints Found"}),r.jsx("p",{className:"text-gray-600",children:y||u!=="all"||f!=="all"?"No complaints match your filter criteria.":"No complaints have been submitted yet."})]})}):M.map(D=>r.jsx(He,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:r.jsx(Ve,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4",children:[r.jsxs("div",{className:"mb-4 lg:mb-0",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I(D.complaint_type)}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${A(D.priority)}`,children:D.priority.toUpperCase()}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${O(D.status)}`,children:D.status.replace("_"," ").toUpperCase()})]}),r.jsx("p",{className:"text-gray-600 mb-3",children:D.description}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(Dt,{size:16,className:"mr-2 text-primary"}),r.jsx("span",{children:D.user_name})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ui,{size:16,className:"mr-2 text-primary"}),r.jsx("span",{children:D.user_phone})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(kr,{size:16,className:"mr-2 text-primary"}),r.jsx("span",{children:new Date(D.booking_date).toLocaleDateString()})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ts,{size:16,className:"mr-2 text-primary"}),r.jsx("span",{children:D.service_name})]})]})]}),r.jsx("div",{className:"flex space-x-2",children:r.jsxs(je,{size:"sm",variant:"outline",onClick:()=>d(D),className:"border-primary/20 text-primary hover:bg-primary/5",children:[r.jsx(to,{size:16,className:"mr-2"}),"View Details"]})})]})})},D.id))}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complaint Details"}),r.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:r.jsx(rs,{size:20,className:"text-gray-500"})})]})}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complaint Type"}),r.jsx("p",{className:"text-gray-900",children:I(c.complaint_type)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Priority"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${A(c.priority)}`,children:c.priority.toUpperCase()})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),r.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${O(c.status)}`,children:c.status.replace("_"," ").toUpperCase()})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created At"}),r.jsx("p",{className:"text-gray-900",children:new Date(c.created_at).toLocaleString()})]}),c.resolved_at&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Resolved At"}),r.jsx("p",{className:"text-gray-900",children:new Date(c.resolved_at).toLocaleString()})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),r.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-gray-50 rounded-lg",children:c.description})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Customer Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Name:"})," ",c.user_name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",c.user_email]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Phone:"})," ",c.user_phone]})]})]}),r.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Provider Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Name:"})," ",c.provider_name]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Email:"})," ",c.provider_email]}),r.jsxs("p",{children:[r.jsx("span",{className:"font-medium",children:"Service:"})," ",c.service_name]})]})]})]}),c.admin_notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),r.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-yellow-50 rounded-lg",children:c.admin_notes})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Update Status"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Status"}),r.jsxs("select",{value:b,onChange:D=>_(D.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[r.jsx("option",{value:"",children:"Select Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"in_progress",children:"In Progress"}),r.jsx("option",{value:"resolved",children:"Resolved"}),r.jsx("option",{value:"closed",children:"Closed"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),r.jsx("textarea",{value:S,onChange:D=>P(D.target.value),placeholder:"Add notes about the resolution...",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:3})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx(je,{onClick:()=>d(null),variant:"outline",className:"flex-1",children:"Cancel"}),r.jsx(je,{onClick:()=>C(c.id,b,S),disabled:!b||N,className:"flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary",children:N?"Updating...":"Update Status"})]})]})]})]})]})})]})})},$J={},$o=$J?.VITE_API_BASE_URL||"/api",si={New:{badge:"bg-primary/10 text-primary-dark border border-primary/20",dot:"bg-primary"},Contacted:{badge:"bg-yellow-100 text-yellow-700 border border-yellow-200",dot:"bg-yellow-500"},Converted:{badge:"bg-green-100 text-green-700 border border-green-200",dot:"bg-green-500"},Lost:{badge:"bg-red-100 text-red-700 border border-red-200",dot:"bg-red-500"}},zJ=e=>{let t=[];if(e.cart_items)try{typeof e.cart_items=="string"?t=JSON.parse(e.cart_items):Array.isArray(e.cart_items)&&(t=e.cart_items)}catch(n){console.error("Error parsing cart_items:",n),t=[]}return{id:e.id,userId:e.user_id||null,ownerName:e.owner_name||e.user_full_name||"",email:e.email||e.user_email||"",phone:e.phone||e.user_phone||"",petType:e.pet_type,serviceInterest:e.service_interest,location:e.location||e.user_city||"",createdAt:e.created_at,status:e.status,notes:e.notes||"",assignedTrainer:e.assigned_trainer,assigned_admin_id:e.assigned_admin_id||null,assigned_admin_name:e.assigned_admin_name||null,assigned_admin_username:e.assigned_admin_username||null,scheduled_date:e.scheduled_date||null,scheduled_time:e.scheduled_time||null,cartItems:t,cartTotal:e.cart_total?parseFloat(String(e.cart_total)):null,cartSubtotal:e.cart_subtotal?parseFloat(String(e.cart_subtotal)):null,cartDiscount:e.cart_discount?parseFloat(String(e.cart_discount)):null,cartCreatedAt:e.cart_created_at||null,cartUpdatedAt:e.cart_updated_at||null,leadSource:e.lead_source||"manual",userFullName:e.user_full_name||null,userPhone:e.user_phone||null,userEmail:e.user_email||null,userCity:e.user_city||null,userState:e.user_state||null,status_history:e.status_history||[]}},RJ=({lead:e,onClose:t,onUpdate:n,showHistory:a=!1})=>{const[s,o]=g.useState(e?.status??"New"),[c,d]=g.useState(e?.scheduled_date||""),[u,p]=g.useState(e?.scheduled_time||""),[f,h]=g.useState(!1),[y,v]=g.useState("details");if(g.useEffect(()=>{e&&(o(e.status),d(e.scheduled_date||""),p(e.scheduled_time||""))},[e]),!e)return null;const N=async()=>{h(!0);try{await n(e.id,{status:s,scheduledDate:c||null,scheduledTime:u||null}),t()}catch(b){console.error("Error updating lead:",b)}finally{h(!1)}},j=e;return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:r.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] rounded-3xl bg-white shadow-2xl flex flex-col",children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 z-10 rounded-full bg-secondary p-2 text-primary hover:bg-secondary/80 transition-colors",children:r.jsx(gt,{size:18})}),r.jsx("div",{className:"rounded-t-3xl bg-primary px-8 py-6 text-white flex-shrink-0",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Xo,{size:28}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),r.jsx("p",{className:"text-sm text-secondary/90",children:"Manage status, assignment, and notes"})]})]})}),a&&r.jsx("div",{className:"px-8 pt-6 pb-4 border-b border-primary/20 flex-shrink-0",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsx("button",{onClick:()=>v("details"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${y==="details"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:"Details"}),r.jsx("button",{onClick:()=>v("history"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${y==="history"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fI,{size:16}),"Status History"]})})]})}),r.jsx("div",{className:"overflow-y-auto flex-1",children:y==="details"?r.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:r.jsx(Dt,{className:"text-primary-500",size:22})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),r.jsx("p",{className:"text-lg font-semibold text-primary-900",children:e.ownerName})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[r.jsx(ms,{size:16}),r.jsx("span",{children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[r.jsx(ui,{size:16}),r.jsx("span",{children:e.phone})]}),e.userCity&&r.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[r.jsx(ts,{size:16}),r.jsxs("span",{children:[e.userCity,e.userState?`, ${e.userState}`:""]})]}),e.assigned_admin_name&&r.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[r.jsx(Sa,{size:16}),r.jsxs("span",{children:["Assigned to: ",e.assigned_admin_name]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[r.jsx(h0,{size:16}),r.jsxs("span",{children:["Cart added ",e.cartCreatedAt?new Date(e.cartCreatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),e.cartItems&&e.cartItems.length>0&&r.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[r.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Cart Items"}),r.jsx("div",{className:"space-y-2",children:e.cartItems.map((b,_)=>r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-primary-900",children:b.medicine_name||b.medicineName||"Item"}),r.jsxs("p",{className:"text-xs text-primary-400",children:["Quantity: ",b.quantity||1]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",((b.price||0)*(b.quantity||1)).toFixed(2)]}),r.jsxs("p",{className:"text-xs text-primary-400",children:["",(b.price||0).toFixed(2)," each"]})]})]},_))}),r.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-white/90 p-3 border-t border-primary-100",children:[r.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Subtotal:"}),r.jsxs("span",{className:"text-sm font-semibold text-primary-900",children:["",e.cartSubtotal?.toFixed(2)||"0.00"]})]}),e.cartDiscount&&e.cartDiscount>0&&r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[r.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Discount:"}),r.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["-",e.cartDiscount.toFixed(2)]})]}),r.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-primary-100 p-3",children:[r.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"Total:"}),r.jsxs("span",{className:"text-lg font-bold text-primary-900",children:["",e.cartTotal?.toFixed(2)||"0.00"]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[r.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500",children:"Lead Status"}),r.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost"].map(b=>r.jsxs("button",{onClick:()=>o(b),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${s===b?"border-primary-500 bg-primary-50 text-primary-700 shadow-sm":"border-primary-100 bg-white text-primary-500 hover:border-primary-200"}`,children:[r.jsx("span",{children:b}),b==="Converted"?r.jsx(Ki,{size:18}):b==="Lost"?r.jsx(ca,{size:18}):r.jsx(qS,{size:18})]},b))})]}),r.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[r.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Schedule"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Date"}),r.jsx("input",{type:"date",value:c,onChange:b=>d(b.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Time"}),r.jsx("input",{type:"time",value:u,onChange:b=>p(b.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]})]})]})]}):r.jsxs("div",{className:"px-8 py-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Status History"}),j.status_history&&j.status_history.length>0?r.jsx("div",{className:"space-y-3",children:j.status_history.map((b,_)=>r.jsx("div",{className:"rounded-xl border border-primary-100 bg-primary-50/40 p-4",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${si[b.status]?.badge||si.New.badge}`,children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${si[b.status]?.dot||si.New.dot}`}),b.status]}),r.jsx("span",{className:"text-xs text-primary-600",children:new Date(b.created_at).toLocaleString()})]}),b.notes&&r.jsx("p",{className:"text-sm text-primary-700 mt-2",children:b.notes}),b.updated_by_name&&r.jsxs("p",{className:"text-xs text-primary-500 mt-1",children:["Updated by: ",b.updated_by_name]})]})})},b.id))}):r.jsx("p",{className:"text-sm text-primary-400 text-center py-8",children:"No status history available"})]})}),r.jsxs("div",{className:"px-8 pt-6 pb-8 border-t border-primary-100 bg-white flex-shrink-0",children:[r.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5 mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Lead Notes"}),r.jsx("p",{className:"text-sm text-primary-900 leading-relaxed",children:e.notes||"No notes available"})]}),r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[r.jsx("button",{onClick:t,disabled:f,className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:N,disabled:f,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:f?r.jsxs(r.Fragment,{children:[r.jsx(oa,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},FJ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(null),[o,c]=g.useState(""),[d,u]=g.useState("All"),[p,f]=g.useState(!1),[h,y]=g.useState(!1),[v,N]=g.useState(!1),[j,b]=g.useState([]),[_,S]=g.useState({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""}),[P,C]=g.useState({username:"",password:"",full_name:"",email:"",phone:""}),A=(U=!1)=>{const R=localStorage.getItem("KwikMedi_token"),Q={};return R&&(Q.Authorization=`Bearer ${R}`),U&&(Q["Content-Type"]="application/json"),Q},O=async()=>{f(!0);try{const U=d!=="All"?`?status=${d}`:"",Q=await(await fetch(`${$o}/admin/leads${U}`,{headers:A()})).json();if(Q.success&&Array.isArray(Q.leads)){const le=Q.leads.map(zJ);n(le)}else e("Failed to load leads","error")}catch(U){console.error("Error fetching leads:",U),e("Error loading leads","error")}finally{f(!1)}};g.useEffect(()=>{O()},[d]),g.useEffect(()=>{I()},[]);const I=async()=>{try{const R=await(await fetch(`${$o}/admin/lead-admins`,{headers:A()})).json();R.success&&Array.isArray(R.admins)&&b(R.admins)}catch(U){console.error("Error fetching lead admins:",U)}},M=async()=>{if(!P.username||!P.password){e("Username and password are required","error");return}try{const U=await fetch(`${$o}/admin/lead-admins`,{method:"POST",headers:A(!0),body:JSON.stringify(P)}),R=await U.json();U.ok&&R.success?(await I(),e("Lead admin created successfully","success"),C({username:"",password:"",full_name:"",email:"",phone:""})):e(R.error?.message||"Failed to create admin","error")}catch(U){console.error("Error creating admin:",U),e("Error creating admin","error")}},D=g.useMemo(()=>{const U=t.length,R=t.filter(ce=>ce.status==="New").length,Q=t.filter(ce=>ce.status==="Contacted").length,le=t.filter(ce=>ce.status==="Converted").length;t.filter(ce=>ce.status==="Lost").length;const H=U===0?0:Math.round(le/U*100),ee=t.filter(ce=>ce.leadSource==="cart").length;return[{label:"New Leads",value:R,icon:r.jsx(x0,{className:"text-white",size:22}),gradient:"bg-primary",subtitle:"From cart"},{label:"Contacted",value:Q,icon:r.jsx(WS,{className:"text-primary-500",size:22}),gradient:"bg-yellow-500",subtitle:"In follow-up"},{label:"Converted",value:le,icon:r.jsx(Ki,{className:"text-emerald-600",size:22}),gradient:"bg-green-500",subtitle:`${H}% conversion`},{label:"Total Leads",value:U,icon:r.jsx(p0,{className:"text-primary-500",size:22}),gradient:"bg-primary",subtitle:`${ee} from cart`}]},[t]),z=t.filter(U=>{const R=U.ownerName.toLowerCase().includes(o.toLowerCase())||U.email.toLowerCase().includes(o.toLowerCase())||U.phone.toLowerCase().includes(o.toLowerCase()),Q=d==="All"||U.status===d;return R&&Q}),Y=async(U,R)=>{try{const Q={};R.status&&(Q.status=R.status),R.assignedTrainer!==void 0&&(Q.assigned_trainer=R.assignedTrainer),R.scheduledDate!==void 0&&(Q.scheduled_date=R.scheduledDate),R.scheduledTime!==void 0&&(Q.scheduled_time=R.scheduledTime);const le=await fetch(`${$o}/admin/leads/${U}`,{method:"PUT",headers:A(!0),body:JSON.stringify(Q)}),H=await le.json();if(le.ok&&H.success)await O(),e("Lead updated successfully","success");else throw e(H.error?.message||"Failed to update lead","error"),new Error(H.error?.message||"Failed to update lead")}catch(Q){throw console.error("Error updating lead:",Q),e("Error updating lead","error"),Q}},W=async()=>{try{const U=await fetch(`${$o}/admin/leads`,{method:"POST",headers:A(!0),body:JSON.stringify({owner_name:_.ownerName,email:_.email,phone:_.phone,pet_type:_.petType,service_interest:_.serviceInterest,location:_.location||null,notes:_.notes||null,status:_.status,assigned_trainer:_.assignedTrainer,scheduled_date:_.scheduledDate||null,scheduled_time:_.scheduledTime||null})}),R=await U.json();U.ok&&R.success?(await O(),e("Lead created successfully","success"),y(!1),S({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""})):e(R.error?.message||"Failed to create lead","error")}catch(U){console.error("Error creating lead:",U),e("Error creating lead","error")}},re=async U=>{if(confirm("Are you sure you want to delete this lead?"))try{const R=await fetch(`${$o}/admin/leads/${U}`,{method:"DELETE",headers:A()}),Q=await R.json();R.ok&&Q.success?(await O(),e("Lead deleted successfully","success")):e(Q.error?.message||"Failed to delete lead","error")}catch(R){console.error("Error deleting lead:",R),e("Error deleting lead","error")}};return r.jsxs(or,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"rounded-3xl bg-primary px-6 py-8 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-wider text-secondary/80",children:"Lead Management"}),r.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"User Leads Dashboard"}),r.jsx("p",{className:"mt-3 max-w-2xl text-sm text-secondary/80",children:"Track inquiries from users, manage leads, and follow progress across the sales pipeline."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{type:"button",className:"rounded-xl bg-secondary px-5 py-2 text-sm font-semibold text-primary shadow-sm hover:bg-secondary/80 transition-colors flex items-center gap-2",onClick:()=>N(!0),children:[r.jsx(Sa,{size:16}),"Manage Admins"]}),r.jsx("button",{type:"button",className:"rounded-xl bg-white px-5 py-2 text-sm font-semibold text-primary-600 shadow-sm hover:bg-primary-50 transition-colors",onClick:()=>console.log("Export leads"),children:"Export Leads"}),r.jsxs("button",{type:"button",className:"rounded-xl bg-primary-600 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 transition-colors flex items-center gap-2",onClick:()=>{},style:{display:"none"},children:[r.jsx(hn,{size:16}),"New Lead"]})]})]})}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:D.map(U=>r.jsx(He,{className:"overflow-hidden rounded-3xl border border-primary-100/60 bg-white/95 shadow-md",children:r.jsxs(Ve,{className:"relative flex items-center gap-4 p-6",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${U.gradient} shadow-sm`,children:U.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-primary-500",children:U.label}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-primary-900",children:U.value}),r.jsx("p",{className:"text-xs text-primary-400",children:U.subtitle})]})]})},U.label))}),r.jsx(He,{className:"rounded-3xl border border-primary-100/60 bg-white/95 shadow-lg",children:r.jsxs(Ve,{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-primary-100 bg-primary-50/60 px-4 py-2",children:[r.jsx(Yr,{size:18,className:"text-primary-400"}),r.jsx("input",{value:o,onChange:U=>c(U.target.value),placeholder:"Search users, email, or phone...",className:"flex-1 border-none bg-transparent text-sm text-primary-900 placeholder-orange-300 outline-none"})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["All","New","Contacted","Converted","Lost"].map(U=>r.jsxs("button",{onClick:()=>u(U),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${d===U?"border-primary-500 bg-primary-50 text-primary-600 shadow-sm":"border-primary-100 bg-white text-primary-400 hover:border-primary-200"}`,children:[r.jsx(gf,{size:14}),U==="All"?"All Leads":`${U} Leads`]},U))})]}),r.jsx("div",{className:"overflow-hidden rounded-2xl border border-primary-100",children:r.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[r.jsx("thead",{className:"bg-primary-50/70",children:r.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-primary-500",children:[r.jsx("th",{className:"px-6 py-4",children:"User"}),r.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),r.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),r.jsx("th",{className:"px-6 py-4",children:"Added Date"}),r.jsx("th",{className:"px-6 py-4",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:p?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(oa,{className:"w-8 h-8 animate-spin text-primary-400"})})})}):z.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-primary-400",children:"No leads found for the current filters."})}):z.map(U=>r.jsxs("tr",{className:"transition-colors hover:bg-primary-50/50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:r.jsx(Dt,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-primary-900",children:U.ownerName}),r.jsx("p",{className:"text-xs text-primary-400",children:U.email}),r.jsx("p",{className:"text-xs text-primary-400",children:U.phone})]})]})}),r.jsx("td",{className:"px-6 py-4",children:U.cartItems&&U.cartItems.length>0?r.jsxs("div",{className:"space-y-1",children:[U.cartItems.slice(0,3).map((R,Q)=>r.jsxs("div",{className:"text-xs text-primary-700",children:[R.medicine_name||R.medicineName||"Item",R.quantity&&` x${R.quantity}`]},Q)),U.cartItems.length>3&&r.jsxs("div",{className:"text-xs text-primary-400",children:["+",U.cartItems.length-3," more"]})]}):r.jsx("span",{className:"text-sm text-primary-400",children:"No items"})}),r.jsx("td",{className:"px-6 py-4",children:U.cartTotal!==null&&U.cartTotal!==void 0?r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",U.cartTotal.toFixed(2)]}),U.cartDiscount&&U.cartDiscount>0&&r.jsxs("p",{className:"text-xs text-primary-400",children:["Discount: ",U.cartDiscount.toFixed(2)]})]}):r.jsx("span",{className:"text-sm text-primary-400",children:"N/A"})}),r.jsx("td",{className:"px-6 py-4 text-sm text-primary-600",children:U.cartCreatedAt?r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kr,{size:14}),r.jsx("span",{children:new Date(U.cartCreatedAt).toLocaleDateString()})]}),U.cartUpdatedAt&&r.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-400",children:[r.jsx(Sr,{size:12}),r.jsxs("span",{children:["Updated: ",new Date(U.cartUpdatedAt).toLocaleDateString()]})]})]}):r.jsx("span",{className:"text-primary-300",children:new Date(U.createdAt).toLocaleDateString()})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${si[U.status]?.badge||si.New.badge}`,children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${si[U.status]?.dot||si.New.dot}`}),U.status]}),U.assigned_admin_name&&r.jsxs("div",{className:"text-xs text-primary-500",children:["Assigned to: ",U.assigned_admin_name]})]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[r.jsxs("button",{onClick:()=>s(U),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",r.jsx(Ia,{size:14})]}),r.jsx("button",{onClick:()=>re(U.id),className:"inline-flex items-center gap-2 rounded-full border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-500 shadow-sm transition-all hover:bg-red-50",children:r.jsx(ka,{size:14})})]})})]},U.id))})]})})]})})]}),r.jsx(RJ,{lead:a,onClose:()=>s(null),onUpdate:Y,showHistory:!0}),v&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:r.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("button",{onClick:()=>N(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:r.jsx(gt,{size:18})}),r.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Sa,{size:28}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Admin Management"}),r.jsx("p",{className:"text-sm text-primary-100/90",children:"Create and manage lead admin users"})]})]})}),r.jsxs("div",{className:"px-8 py-6 space-y-6",children:[r.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[r.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Create New Lead Admin"}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Username *"}),r.jsx("input",{type:"text",value:P.username,onChange:U=>C({...P,username:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Password *"}),r.jsx("input",{type:"password",value:P.password,onChange:U=>C({...P,password:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Full Name"}),r.jsx("input",{type:"text",value:P.full_name,onChange:U=>C({...P,full_name:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email"}),r.jsx("input",{type:"email",value:P.email,onChange:U=>C({...P,email:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone"}),r.jsx("input",{type:"tel",value:P.phone,onChange:U=>C({...P,phone:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),r.jsx("button",{onClick:M,disabled:!P.username||!P.password,className:"mt-4 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Admin"})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Existing Lead Admins"}),r.jsx("div",{className:"space-y-2",children:j.map(U=>r.jsxs("div",{className:"rounded-xl border border-primary-100 bg-white p-4 flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-semibold text-primary-900",children:U.username}),U.full_name&&r.jsx("p",{className:"text-sm text-primary-600",children:U.full_name}),U.email&&r.jsx("p",{className:"text-xs text-primary-500",children:U.email})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${U.is_active?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:U.is_active?"Active":"Inactive"})})]},U.id))})]})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:r.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[r.jsx("button",{onClick:()=>y(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:r.jsx(gt,{size:18})}),r.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hn,{size:28}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Create New Lead"}),r.jsx("p",{className:"text-sm text-secondary/90",children:"Add a new user lead"})]})]})}),r.jsxs("div",{className:"px-8 py-6 space-y-4",children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Owner Name *"}),r.jsx("input",{type:"text",value:_.ownerName,onChange:U=>S({..._,ownerName:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email *"}),r.jsx("input",{type:"email",value:_.email,onChange:U=>S({..._,email:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone *"}),r.jsx("input",{type:"tel",value:_.phone,onChange:U=>S({..._,phone:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Pet Type"}),r.jsxs("select",{value:_.petType,onChange:U=>S({..._,petType:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[r.jsx("option",{children:"Dog"}),r.jsx("option",{children:"Cat"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Service Interest"}),r.jsxs("select",{value:_.serviceInterest,onChange:U=>S({..._,serviceInterest:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[r.jsx("option",{children:"Training"}),r.jsx("option",{children:"Grooming"}),r.jsx("option",{children:"Vaccination"}),r.jsx("option",{children:"Healthcare"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Location"}),r.jsx("input",{type:"text",value:_.location,onChange:U=>S({..._,location:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Date"}),r.jsx("input",{type:"date",value:_.scheduledDate,onChange:U=>S({..._,scheduledDate:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Time"}),r.jsx("input",{type:"time",value:_.scheduledTime,onChange:U=>S({..._,scheduledTime:U.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Notes"}),r.jsx("textarea",{value:_.notes,onChange:U=>S({..._,notes:U.target.value}),rows:3,className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),r.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[r.jsx("button",{onClick:()=>y(!1),className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:W,disabled:!_.ownerName||!_.email||!_.phone,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Lead"})]})]})]})})]})},Qr="https://kwikmedi.mycartly.in",BJ=()=>{const{addToast:e}=Yt(),{user:t}=Pr(),[n]=BT(),a=n.get("tab")||"overview",[s,o]=g.useState(null),[c,d]=g.useState([]),[u,p]=g.useState([]),[f,h]=g.useState([]),[y,v]=g.useState([]),[N,j]=g.useState([]),[b,_]=g.useState([]),[S,P]=g.useState(!1),[C,A]=g.useState("30d"),[O,I]=g.useState(!1),[M,D]=g.useState({full_name:"",email:"",phone_number:"",password:""}),[z,Y]=g.useState(null),[W,re]=g.useState(!1),[U,R]=g.useState(!1),[Q,le]=g.useState(null),[H,ee]=g.useState(null),[ce,B]=g.useState({reference_number:"",notes:""}),[$,G]=g.useState(!1),[ge,ue]=g.useState(!1),[se,xe]=g.useState(null),Ne=t?.role==="admin",T=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});g.useEffect(()=>{a==="overview"?K():a==="settlements"?(oe(),Ne&&Te()):a==="payouts"?pe():a==="transactions"?Oe():a==="bookings"?yt():a==="vendors"?F():a==="staff"&&Ne&&Te()},[a,C,Ne]);const K=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const fe=new Date;let ye,tt=fe.toISOString().split("T")[0];switch(C){case"7d":ye=new Date(fe.setDate(fe.getDate()-7)).toISOString().split("T")[0];break;case"30d":ye=new Date(fe.setDate(fe.getDate()-30)).toISOString().split("T")[0];break;case"90d":ye=new Date(fe.setDate(fe.getDate()-90)).toISOString().split("T")[0];break;case"1y":ye=new Date(fe.setFullYear(fe.getFullYear()-1)).toISOString().split("T")[0];break;default:ye=new Date(fe.setDate(fe.getDate()-30)).toISOString().split("T")[0]}const nt=await fetch(`${Qr}/api/admin/finance/gmv?date_from=${ye}&date_to=${tt}`,{headers:T()});if(nt.ok){const Ie=await nt.json();o({total_gmv:Ie.total_gmv||0,period:`${ye} to ${tt}`})}else{const Ie=await nt.json().catch(()=>({}));console.error("GMV fetch error:",nt.status,Ie),e(`Failed to fetch GMV data: ${Ie.error?.message||nt.statusText}`,"error")}}catch(L){console.error("GMV fetch exception:",L),e(`Failed to fetch GMV data: ${L instanceof Error?L.message:"Network error"}`,"error")}finally{P(!1)}},oe=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const fe=await fetch(`${Qr}/api/admin/finance/settlements/pending`,{headers:T()});if(fe.ok){const ye=await fe.json();console.log("Settlements data received:",ye),console.log("Settlements array:",ye.settlements),ye.settlements&&ye.settlements.length>0&&(console.log("First settlement:",ye.settlements[0]),console.log("Allocation data:",{allocated_to_staff_id:ye.settlements[0].allocated_to_staff_id,allocated_staff_name:ye.settlements[0].allocated_staff_name,allocated_staff_email:ye.settlements[0].allocated_staff_email})),d(ye.settlements||[])}else{const ye=await fe.json().catch(()=>({}));console.error("Settlements fetch error:",fe.status,ye),e(`Failed to fetch settlements: ${ye.error?.message||fe.statusText}`,"error")}}catch(L){console.error("Settlements fetch exception:",L),e(`Failed to fetch settlements: ${L instanceof Error?L.message:"Network error"}`,"error")}finally{P(!1)}},te=async L=>{try{const fe=await fetch(`${Qr}/api/admin/finance/settlements/vendor/${L}/bank-details`,{headers:T()});if(fe.ok){const ye=await fe.json();return ee(ye),ye}else{const ye=await fe.json().catch(()=>({}));return e(`Failed to fetch bank details: ${ye.error?.message||fe.statusText}`,"error"),null}}catch(fe){return console.error("Bank details fetch exception:",fe),e(`Failed to fetch bank details: ${fe instanceof Error?fe.message:"Network error"}`,"error"),null}},ve=async L=>{le(L),await te(L.provider_id)&&re(!0)},Pe=()=>{re(!1),R(!0)},Ze=async()=>{if(Q){if(!ce.reference_number.trim()){e("Please enter a reference number","error");return}G(!0);try{const L=await fetch(`${Qr}/api/admin/finance/settlements/process`,{method:"POST",headers:T(),body:JSON.stringify({provider_id:Q.provider_id,reference_number:ce.reference_number.trim(),notes:ce.notes.trim()||null})});if(L.ok){const fe=await L.json();e("Settlement processed successfully","success"),R(!1),le(null),B({reference_number:"",notes:""}),oe()}else{const fe=await L.json().catch(()=>({}));e(`Failed to process payment: ${fe.error?.message||L.statusText}`,"error")}}catch(L){console.error("Payment processing exception:",L),e(`Failed to process payment: ${L instanceof Error?L.message:"Network error"}`,"error")}finally{G(!1)}}},he=async(L,fe)=>{if(!L.id){e("Cannot allocate: Settlement ID missing","error");return}try{const ye=await fetch(`${Qr}/api/admin/finance/settlements/allocate`,{method:"POST",headers:T(),body:JSON.stringify({settlement_id:L.id,staff_id:fe})});if(ye.ok){const tt=await ye.json();e(fe?"Settlement allocated successfully":"Settlement unallocated successfully","success"),oe()}else{const tt=await ye.json().catch(()=>({}));e(`Failed to allocate settlement: ${tt.error?.message||ye.statusText}`,"error")}}catch(ye){console.error("Allocation exception:",ye),e(`Failed to allocate settlement: ${ye instanceof Error?ye.message:"Network error"}`,"error")}},pe=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const fe=await fetch(`${Qr}/api/admin/finance/payouts`,{headers:T()});if(fe.ok){const ye=await fe.json();p(ye.payouts||[])}else{const ye=await fe.json().catch(()=>({}));console.error("Payouts fetch error:",fe.status,ye),e(`Failed to fetch payouts: ${ye.error?.message||fe.statusText}`,"error")}}catch(L){console.error("Payouts fetch exception:",L),e(`Failed to fetch payouts: ${L instanceof Error?L.message:"Network error"}`,"error")}finally{P(!1)}},Je=L=>{xe(L),ue(!0)},Oe=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const fe=await fetch(`${Qr}/api/admin/finance/transactions`,{headers:T()});if(fe.ok){const ye=await fe.json();h(ye.transactions||[])}else{const ye=await fe.json().catch(()=>({}));console.error("Transactions fetch error:",fe.status,ye),e(`Failed to fetch transactions: ${ye.error?.message||fe.statusText}`,"error")}}catch(L){console.error("Transactions fetch exception:",L),e(`Failed to fetch transactions: ${L instanceof Error?L.message:"Network error"}`,"error")}finally{P(!1)}},me=async()=>{oe()},Ae=async()=>{try{const L=await fetch(`${Qr}/api/admin/finance/gst-reports?period=${C}`,{headers:T()});if(L.ok){const fe=await L.blob(),ye=window.URL.createObjectURL(fe),tt=document.createElement("a");tt.href=ye,tt.download=`gst-report-${C}.pdf`,document.body.appendChild(tt),tt.click(),window.URL.revokeObjectURL(ye),document.body.removeChild(tt),e("GST report downloaded","success")}}catch{e("Failed to download GST report","error")}},Te=async()=>{try{const L=await fetch(`${Qr}/api/admin/finance-staff`,{headers:T()});if(L.ok){const fe=await L.json();v(fe.staff||[])}}catch{e("Failed to fetch financial staff","error")}},De=async()=>{if(!M.full_name||!M.email||!M.phone_number){e("Please fill all required fields","error");return}P(!0);try{const L=await fetch(`${Qr}/api/admin/finance-staff`,{method:"POST",headers:T(),body:JSON.stringify(M)});if(L.ok)e("Financial staff created successfully","success"),Te(),I(!1),D({full_name:"",email:"",phone_number:"",password:""}),Y(null);else{const fe=await L.json().catch(()=>({}));e(fe.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{P(!1)}},$e=async()=>{if(!z||!M.email){e("Please fill all fields","error");return}P(!0);try{const L=await fetch(`${Qr}/api/admin/finance-staff/${z.id}`,{method:"PUT",headers:T(),body:JSON.stringify({email:M.email,username:M.full_name})});if(L.ok)e("Staff member updated successfully","success"),Te(),I(!1),D({full_name:"",email:"",phone_number:"",password:""}),Y(null);else{const fe=await L.json().catch(()=>({}));e(fe.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{P(!1)}},at=async L=>{if(confirm("Are you sure you want to deactivate this staff member?")){P(!0);try{const fe=await fetch(`${Qr}/api/admin/finance-staff/${L}`,{method:"DELETE",headers:T()});if(fe.ok)e("Staff member deactivated successfully","success"),Te();else{const ye=await fe.json().catch(()=>({}));e(ye.error?.message||"Failed to deactivate staff member","error")}}catch{e("Failed to deactivate staff member","error")}finally{P(!1)}}},yt=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const fe=await fetch(`${Qr}/api/admin/finance/bookings?date_range=${C}`,{headers:T()});if(fe.ok){const tt=(await fe.json()).bookings||[];j(tt),tt.length===0&&e("No bookings found","info")}else{const ye=await fe.json().catch(()=>({}));console.error("Bookings fetch error:",fe.status,ye),e(`Failed to fetch bookings: ${ye.error?.message||fe.statusText}`,"error")}}catch(L){console.error("Bookings fetch exception:",L),e(`Failed to fetch bookings: ${L instanceof Error?L.message:"Network error"}`,"error")}finally{P(!1)}},F=async()=>{P(!0);try{const L=await fetch(`${Qr}/api/admin/providers`,{headers:T()});if(L.ok){const fe=await L.json(),ye=fe.data||fe.providers||(Array.isArray(fe)?fe:[]);console.log("Vendors fetched:",ye.length);const tt=await Promise.all(ye.map(async nt=>{try{const Ie=await fetch(`${Qr}/api/admin/orders?provider_id=${nt.id}&limit=1000`,{headers:T()});let Er=0,Wn=0,Dr=0;if(Ie.ok){const ma=await Ie.json(),Hn=ma.orders||ma.data||[];console.log(`Provider ${nt.id}: Fetched ${Hn.length} total orders`);const J=["confirmed","packed","out_for_delivery","delivered","shipment"],Ee=Hn.filter(Ge=>J.includes(Ge.status));console.log(`Provider ${nt.id}: Found ${Ee.length} completed orders (statuses: ${J.join(", ")})`),Wn=Ee.length,Ee.forEach(Ge=>{const _t=parseFloat(Ge.total_amount||0);!isNaN(_t)&&_t>0&&(Er+=_t),(Ge.items||[]).forEach(lr=>{const Lr=parseInt(lr.quantity||0);!isNaN(Lr)&&Lr>0&&(Dr+=Lr)})})}return{...nt,total_revenue:Er,total_orders:Wn,total_products_sold:Dr}}catch(Ie){return console.error(`Error fetching sales for provider ${nt.id}:`,Ie),{...nt,total_revenue:0,total_orders:0,total_products_sold:0}}}));_(tt)}else{const fe=await L.json().catch(()=>({}));console.error("Vendors fetch error:",L.status,fe),e(`Failed to fetch vendors: ${fe.error?.message||L.statusText}`,"error")}}catch(L){console.error("Vendors fetch exception:",L),e(`Failed to fetch vendors: ${L instanceof Error?L.message:"Network error"}`,"error")}finally{P(!1)}};return r.jsxs(or,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Panel"}),r.jsx("p",{className:"text-gray-600",children:"Manage GMV, settlements, payouts, GST reports, and financial transactions."})]}),r.jsx("div",{className:"flex items-center gap-3",children:r.jsxs("select",{value:C,onChange:L=>A(L.target.value),className:"px-3 py-2 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"7d",children:"Last 7 days"}),r.jsx("option",{value:"30d",children:"Last 30 days"}),r.jsx("option",{value:"90d",children:"Last 90 days"}),r.jsx("option",{value:"1y",children:"Last year"})]})})]}),S?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsxs("div",{className:"space-y-6",children:[a==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsxs(He,{children:[r.jsx(ct,{children:r.jsxs(dt,{className:"flex items-center gap-2",children:[r.jsx(Na,{className:"text-primary",size:20}),"Total GMV"]})}),r.jsxs(Ve,{children:[r.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",s?.total_gmv?.toLocaleString()||"0"]}),r.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Period: ",C]})]})]}),r.jsxs(He,{children:[r.jsx(ct,{children:r.jsxs(dt,{className:"flex items-center gap-2",children:[r.jsx(qr,{className:"text-primary",size:20}),"Pending Settlements"]})}),r.jsxs(Ve,{children:[r.jsx("p",{className:"text-3xl font-bold text-primary",children:c.filter(L=>L.status==="pending").length}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Awaiting processing"})]})]}),r.jsxs(He,{children:[r.jsx(ct,{children:r.jsxs(dt,{className:"flex items-center gap-2",children:[r.jsx(us,{className:"text-primary",size:20}),"Pending Payouts"]})}),r.jsxs(Ve,{children:[r.jsx("p",{className:"text-3xl font-bold text-primary",children:u.filter(L=>L.status==="pending").length}),r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Ready for execution"})]})]})]}),a==="settlements"&&r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[r.jsx(dt,{children:"Settlements"}),r.jsxs("button",{onClick:me,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),r.jsx(Ve,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-primary/20",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),Ne&&r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Allocated To"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),r.jsx("tbody",{children:c.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:Ne?6:5,className:"px-4 py-8 text-center text-gray-500",children:"No pending settlements found"})}):c.map((L,fe)=>r.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:L.provider_name}),L.orders&&L.orders.length>0&&r.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[r.jsxs("span",{className:"text-xs text-gray-500",children:[L.orders.length," order(s)"]}),L.orders.some(ye=>ye.order_status==="shipment")&&r.jsxs("span",{className:"text-xs text-primary font-medium",children:[L.orders.filter(ye=>ye.order_status==="shipment").length," shipped"]}),L.orders.some(ye=>ye.order_status==="delivered")&&r.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[L.orders.filter(ye=>ye.order_status==="delivered").length," delivered"]})]})]})}),r.jsxs("td",{className:"px-4 py-3 font-medium",children:["",L.settlement_amount.toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="paid"?"bg-green-100 text-green-800":L.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:L.status})}),Ne&&r.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[r.jsxs("select",{value:L.allocated_to_staff_id||"",onChange:ye=>{const tt=ye.target.value?parseInt(ye.target.value):null;he(L,tt)},className:"px-2 py-1 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary min-w-[150px]",children:[r.jsx("option",{value:"",children:"Not allocated"}),y.map(ye=>r.jsx("option",{value:ye.id,children:ye.username||ye.email},ye.id))]}),L.allocated_staff_email&&r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:L.allocated_staff_email})]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:L.period_from?`${new Date(L.period_from).toLocaleDateString()} - ${new Date(L.period_to||L.period_from).toLocaleDateString()}`:new Date(L.created_at).toLocaleDateString()}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex gap-2",children:[L.status==="pending"&&r.jsx("button",{onClick:()=>ve(L),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"Process Payment"}),L.orders&&L.orders.length>0&&r.jsxs("button",{onClick:()=>{const ye=L.orders?.map(tt=>{const nt=tt.order_status||"unknown",Ie=nt==="shipment"?tt.shipped_at:tt.delivered_at,Er=nt==="shipment"?"Shipped":"Delivered";return`Order #${tt.order_id}: ${tt.order_amount.toLocaleString()}
  Status: ${nt}
  ${Er} At: ${Ie||"N/A"}
  Shipped by: ${tt.shipping_provider_name||"N/A"}
  Settlement: ${tt.settlement_amount.toLocaleString()}`}).join(`

`);alert(`Order Details:

${ye}`)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",title:"View order details",children:["View Orders (",L.orders.length,")"]})]})})]},L.id||`settlement-${fe}`))})]})})})]}),a==="payouts"&&r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[r.jsx(dt,{children:"Payouts"}),r.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),r.jsx(Ve,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-primary/20",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Processed At"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),r.jsx("tbody",{children:u.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No payouts found"})}):u.map(L=>r.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[r.jsx("td",{className:"px-4 py-3",children:L.vendor_name}),r.jsxs("td",{className:"px-4 py-3 font-medium",children:["",L.amount.toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="completed"?"bg-green-100 text-green-800":L.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:L.status})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:L.processed_at?new Date(L.processed_at).toLocaleDateString():L.executed_at?new Date(L.executed_at).toLocaleDateString():"-"}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("button",{onClick:()=>Je(L),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"View Details"})})]},L.id))})]})})})]}),a==="gst"&&r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[r.jsx(dt,{children:"GST Reports"}),r.jsxs("button",{onClick:Ae,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(KS,{size:18}),"Download Report"]})]}),r.jsx(Ve,{children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ia,{className:"mx-auto text-primary mb-4",size:48}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Generate and download GST compliance reports"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Select date range and click Download Report"})]})})]}),a==="transactions"&&r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[r.jsx(dt,{children:"All Transactions"}),r.jsxs("button",{onClick:Oe,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),r.jsx(Ve,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-primary/20",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Type"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Method"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Razorpay Payment ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),r.jsx("tbody",{children:f.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No transactions found"})}):f.map(L=>r.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:"text-sm font-medium capitalize",children:L.transaction_type?.replace("_"," ")||"N/A"})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:L.user_name||"N/A"}),r.jsxs("td",{className:"px-4 py-3 font-medium",children:["",L.final_amount?.toLocaleString()||L.amount.toLocaleString(),L.discount_amount&&L.discount_amount>0&&r.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(Discount: ",L.discount_amount.toLocaleString(),")"]})]}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 capitalize",children:L.payment_method||"N/A"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 font-mono",children:L.razorpay_payment_id?r.jsx("span",{className:"text-xs",children:L.razorpay_payment_id}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="paid"?"bg-green-100 text-green-800":L.status==="failed"?"bg-red-100 text-red-800":L.status==="requested"?"bg-yellow-100 text-yellow-800":L.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:L.status})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(L.created_at).toLocaleString()})]},L.id))})]})})})]}),a==="bookings"&&r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[r.jsx(dt,{children:"All Bookings"}),r.jsxs("button",{onClick:yt,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),r.jsx(Ve,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-primary/20",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Provider"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Shipping Provider"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Settlement"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),r.jsx("tbody",{children:N.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No bookings found"})}):N.map(L=>r.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[r.jsxs("td",{className:"px-4 py-3",children:["#",L.id]}),r.jsx("td",{className:"px-4 py-3",children:L.user_name||L.full_name||"N/A"}),r.jsx("td",{className:"px-4 py-3",children:L.provider_name||"Unassigned"}),r.jsx("td",{className:"px-4 py-3",children:L.shipping_provider_name?r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"text-sm font-medium",children:L.shipping_provider_name}),L.shipment_status&&r.jsx("span",{className:"text-xs text-gray-500 capitalize",children:L.shipment_status})]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsxs("td",{className:"px-4 py-3 font-medium",children:["",(L.payment_amount||L.total_amount||0).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:L.settlement_amount>0?r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("span",{className:"font-medium text-green-600",children:["",L.settlement_amount.toLocaleString()]}),L.commission>0&&r.jsxs("span",{className:"text-xs text-gray-500",children:["Commission: ",L.commission.toLocaleString()]})]}):r.jsx("span",{className:"text-gray-400",children:"-"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.payment_status==="paid"?"bg-green-100 text-green-800":L.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:L.payment_status||"pending"})}),r.jsx("td",{className:"px-4 py-3",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="completed"||L.status==="delivered"?"bg-green-100 text-green-800":L.status==="shipment"?"bg-blue-100 text-blue-800":L.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:L.status||"pending"}),L.status==="shipment"&&L.shipped_at&&r.jsxs("span",{className:"text-xs text-gray-500",children:["Shipped: ",new Date(L.shipped_at).toLocaleDateString()]}),L.status==="delivered"&&L.delivered_at&&r.jsxs("span",{className:"text-xs text-gray-500",children:["Delivered: ",new Date(L.delivered_at).toLocaleDateString()]})]})}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(L.created_at||L.booking_date).toLocaleDateString()})]},L.id))})]})})})]}),a==="vendors"&&r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[r.jsx(dt,{children:"Vendors & Sales Data"}),r.jsxs("button",{onClick:F,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),r.jsx(Ve,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-primary/20",children:[r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor Name"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Email"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Phone"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Orders"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Products Sold"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Revenue"}),r.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"})]})}),r.jsx("tbody",{children:b.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No vendors found"})}):b.map(L=>r.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[r.jsx("td",{className:"px-4 py-3 font-medium",children:L.full_name||"N/A"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:L.email||"N/A"}),r.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:L.phone_number||"N/A"}),r.jsx("td",{className:"px-4 py-3 font-medium",children:L.total_orders||0}),r.jsx("td",{className:"px-4 py-3 font-medium",children:L.total_products_sold||0}),r.jsxs("td",{className:"px-4 py-3 font-medium text-primary",children:["",(L.total_revenue||0).toLocaleString()]}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.status==="approved"?"bg-green-100 text-green-800":L.status==="suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:L.status||"pending"})})]},L.id))})]})})})]}),a==="staff"&&Ne&&r.jsxs(He,{children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(dt,{children:"Financial Staff Management"}),r.jsxs("button",{onClick:()=>{Y(null),D({full_name:"",email:"",phone_number:"",password:""}),I(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[r.jsx(hn,{size:18}),"Add Staff"]})]})}),r.jsx(Ve,{children:y.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No financial staff members found"}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(L=>r.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-medium",children:L.username||L.email}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${L.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:L.status||"active"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:L.email}),r.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Created: ",new Date(L.created_at).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("button",{onClick:()=>{Y(L),D({full_name:L.username||"",email:L.email,phone_number:"",password:""}),I(!0)},className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),r.jsx("button",{onClick:()=>at(L.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:r.jsx(ka,{size:14})})]})]},L.id))})})]})]})]}),O&&Ne&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs(He,{className:"w-full max-w-md mx-4",children:[r.jsx(ct,{children:r.jsx(dt,{children:z?"Edit Financial Staff":"Add Financial Staff"})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),r.jsx("input",{type:"text",value:M.full_name,onChange:L=>D({...M,full_name:L.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),r.jsx("input",{type:"email",value:M.email,onChange:L=>D({...M,email:L.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:M.phone_number,onChange:L=>D({...M,phone_number:L.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!z&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),r.jsx("input",{type:"password",value:M.password||"",onChange:L=>D({...M,password:L.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx("button",{onClick:()=>{I(!1),D({full_name:"",email:"",phone_number:"",password:""}),Y(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),r.jsx("button",{onClick:z?$e:De,disabled:S||!M.full_name||!M.email||!M.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:S?"Saving...":z?"Update":"Create"})]})]})]})}),W&&H&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Bank Details"}),r.jsx("button",{onClick:()=>{re(!1),ee(null)},className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),r.jsx("p",{className:"text-gray-900",children:H.vendor_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Holder Name"}),r.jsx("p",{className:"text-gray-900",children:H.account_holder_name||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank Name"}),r.jsx("p",{className:"text-gray-900",children:H.bank_name||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Number"}),r.jsx("p",{className:"text-gray-900",children:H.account_number||"N/A"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IFSC Code"}),r.jsx("p",{className:"text-gray-900",children:H.ifsc_code||"N/A"})]}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx("button",{onClick:()=>{re(!1),ee(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),r.jsx("button",{onClick:Pe,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Payment Complete"})]})]})]})}),U&&Q&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Payment Complete"}),r.jsx("button",{onClick:()=>{R(!1),le(null),B({reference_number:"",notes:""})},className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reference Number ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:ce.reference_number,onChange:L=>B({...ce,reference_number:L.target.value}),placeholder:"Enter payment reference number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{value:ce.notes,onChange:L=>B({...ce,notes:L.target.value}),placeholder:"Add any additional notes (optional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx("button",{onClick:()=>{R(!1),le(null),B({reference_number:"",notes:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:$,children:"Cancel"}),r.jsx("button",{onClick:Ze,disabled:$||!ce.reference_number.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:$?"Processing...":"Done"})]})]})]})}),ge&&se&&r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:"Payout Details"}),r.jsx("button",{onClick:()=>{ue(!1),xe(null)},className:"text-gray-500 hover:text-gray-700",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),r.jsx("p",{className:"text-gray-900 font-semibold",children:se.vendor_name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payout Amount"}),r.jsxs("p",{className:"text-gray-900 font-semibold text-lg",children:["",se.amount.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),r.jsx("p",{children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${se.status==="completed"?"bg-green-100 text-green-800":se.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:se.status})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Processed At"}),r.jsx("p",{className:"text-gray-900",children:se.processed_at?new Date(se.processed_at).toLocaleString():se.executed_at?new Date(se.executed_at).toLocaleString():"-"})]})]}),se.settlement_amount!==void 0&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Settlement Information"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Settlement Amount"}),r.jsxs("p",{className:"text-gray-900",children:["",se.settlement_amount.toLocaleString()]})]}),se.commission_amount!==void 0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Commission Amount"}),r.jsxs("p",{className:"text-gray-900",children:["",se.commission_amount.toLocaleString()]})]}),se.period_from&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period"}),r.jsxs("p",{className:"text-gray-900",children:[new Date(se.period_from).toLocaleDateString()," - ",new Date(se.period_to||se.period_from).toLocaleDateString()]})]})]})]}),(se.reference_number||se.notes)&&r.jsxs("div",{className:"border-t pt-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Details"}),r.jsxs("div",{className:"space-y-3",children:[se.reference_number&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reference Number"}),r.jsx("p",{className:"text-gray-900",children:se.reference_number})]}),se.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),r.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:se.notes})]}),se.transaction_id&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transaction ID"}),r.jsx("p",{className:"text-gray-900",children:se.transaction_id})]})]})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Created At"}),r.jsx("p",{className:"text-gray-900",children:new Date(se.created_at).toLocaleString()})]})}),r.jsx("div",{className:"mt-6",children:r.jsx("button",{onClick:()=>{ue(!1),xe(null)},className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Close"})})]})]})})]})},Zu="https://kwikmedi.mycartly.in",UJ=()=>{const{addToast:e}=Yt(),{user:t}=Pr(),[n,a]=g.useState([]),[s,o]=g.useState(!1),[c,d]=g.useState(""),[u,p]=g.useState(!1),[f,h]=g.useState({full_name:"",email:"",phone_number:"",password:""}),[y,v]=g.useState(null),N=t?.role==="admin",j=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});g.useEffect(()=>{b()},[]);const b=async()=>{o(!0);try{const A=await fetch(`${Zu}/api/admin/finance-staff`,{headers:j()});if(A.ok){const O=await A.json();a(O.staff||[])}else e("Failed to fetch financial staff","error")}catch{e("Failed to fetch financial staff","error")}finally{o(!1)}},_=async()=>{if(!f.full_name||!f.email||!f.phone_number){e("Please fill all required fields","error");return}o(!0);try{const A=await fetch(`${Zu}/api/admin/finance-staff`,{method:"POST",headers:j(),body:JSON.stringify(f)});if(A.ok)e("Financial staff created successfully","success"),b(),p(!1),h({full_name:"",email:"",phone_number:"",password:""}),v(null);else{const O=await A.json().catch(()=>({}));e(O.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{o(!1)}},S=async()=>{if(!y||!f.email){e("Please fill all fields","error");return}o(!0);try{const A=await fetch(`${Zu}/api/admin/finance-staff/${y.id}`,{method:"PUT",headers:j(),body:JSON.stringify({email:f.email,username:f.full_name,phone_number:f.phone_number})});if(A.ok)e("Staff member updated successfully","success"),b(),p(!1),h({full_name:"",email:"",phone_number:"",password:""}),v(null);else{const O=await A.json().catch(()=>({}));e(O.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{o(!1)}},P=async A=>{if(confirm("Are you sure you want to deactivate this staff member?")){o(!0);try{const O=await fetch(`${Zu}/api/admin/finance-staff/${A}`,{method:"DELETE",headers:j()});if(O.ok)e("Staff member deactivated successfully","success"),b();else{const I=await O.json().catch(()=>({}));e(I.error?.message||"Failed to deactivate staff member","error")}}catch{e("Failed to deactivate staff member","error")}finally{o(!1)}}},C=n.filter(A=>A.username?.toLowerCase().includes(c.toLowerCase())||A.email?.toLowerCase().includes(c.toLowerCase()));return r.jsx(or,{children:r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Staff Management"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage finance staff who will handle your finance panel"})]}),N&&r.jsxs("button",{onClick:()=>{v(null),h({full_name:"",email:"",phone_number:"",password:""}),p(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(hn,{size:18}),"Add Finance Staff"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search by name or email...",value:c,onChange:A=>d(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),r.jsxs("button",{onClick:b,className:"px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Total Staff: ",r.jsx("span",{className:"font-semibold text-primary",children:C.length})]})]}),s&&n.length===0?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):C.length===0?r.jsx(He,{children:r.jsxs(Ve,{className:"py-12 text-center",children:[r.jsx(Dt,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("p",{className:"text-gray-500 text-lg mb-2",children:c?"No staff members found matching your search":"No financial staff members yet"}),N&&!c&&r.jsxs("button",{onClick:()=>{v(null),h({full_name:"",email:"",phone_number:"",password:""}),p(!0)},className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors inline-flex items-center gap-2",children:[r.jsx(hn,{size:18}),"Add Your First Finance Staff"]})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(A=>r.jsx(He,{className:"hover:shadow-lg transition-shadow",children:r.jsxs(Ve,{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(Dt,{className:"text-primary",size:24})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:A.username||A.email}),r.jsx("p",{className:"text-sm text-gray-600",children:A.email})]})]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.status||"active"})]}),r.jsxs("div",{className:"space-y-2 mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Role:"}),r.jsx("span",{className:"font-medium",children:A.role_type||"Finance Admin"})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Created:"}),r.jsx("span",{className:"font-medium",children:new Date(A.created_at).toLocaleDateString()})]})]}),N&&r.jsxs("div",{className:"flex gap-2 pt-4 border-t border-primary/10",children:[r.jsxs("button",{onClick:()=>{v(A),h({full_name:A.username||"",email:A.email,phone_number:"",password:""}),p(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark transition-colors flex items-center justify-center gap-2",children:[r.jsx(y0,{size:14}),"Edit"]}),r.jsx("button",{onClick:()=>P(A.id),className:"px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 transition-colors flex items-center justify-center",children:r.jsx(ka,{size:14})})]})]})},A.id))}),u&&N&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs(He,{className:"w-full max-w-md mx-4",children:[r.jsx(ct,{children:r.jsx(dt,{children:y?"Edit Financial Staff":"Add Financial Staff"})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),r.jsx("input",{type:"text",value:f.full_name,onChange:A=>h({...f,full_name:A.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),r.jsx("input",{type:"email",value:f.email,onChange:A=>h({...f,email:A.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),r.jsx("input",{type:"tel",value:f.phone_number,onChange:A=>h({...f,phone_number:A.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!y&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),r.jsx("input",{type:"password",value:f.password||"",onChange:A=>h({...f,password:A.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[r.jsx("button",{onClick:()=>{p(!1),h({full_name:"",email:"",phone_number:"",password:""}),v(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),r.jsx("button",{onClick:y?S:_,disabled:s||!f.full_name||!f.email||!f.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:s?"Saving...":y?"Update":"Create"})]})]})]})})]})})},qJ={},Qt="https://kwikmedi.mycartly.in",KJ=qJ?.VITE_BACKEND_BASE_URL||"https://kwikmedi.mycartly.in",jc=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let n=t.replace(/\\/g,"/");return n.startsWith("public/")?n=n.slice(7):n.startsWith("/public/")&&(n=n.slice(8)),n=n.startsWith("/")?n:`/${n}`,`${KJ}${n}`},Wx=e=>{if(!e)return null;try{if(Array.isArray(e))return e.length>0?jc(e[0]):null;if(typeof e=="string"&&e.startsWith("[")&&e.endsWith("]")){const t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return jc(t[0])}if(typeof e=="string"&&e.includes(",")){const t=e.split(",").map(n=>n.trim());if(t.length>0)return jc(t[0])}return jc(e)}catch{return jc(e)}},Hx=()=>{const{addToast:e}=Yt(),{user:t}=Pr(),n=an(),a=Cn(),[s,o]=g.useState([]),[c,d]=g.useState([]),[u,p]=g.useState([]),[f,h]=g.useState(!1),[y,v]=g.useState(!1),j=n.pathname.includes("/orders")?"orders":"prescriptions",b=t?.role==="admin",[_,S]=g.useState(""),[P,C]=g.useState("all"),[A,O]=g.useState(null),[I,M]=g.useState(null),[D,z]=g.useState(!1),[Y,W]=g.useState(""),[re,U]=g.useState(!1),[R,Q]=g.useState(!1),[le,H]=g.useState(!1),[ee,ce]=g.useState(!1),[B,$]=g.useState(!1),[G,ge]=g.useState([]),[ue,se]=g.useState([]),[xe,Ne]=g.useState(!1),[T,K]=g.useState({}),[oe,te]=g.useState(null),[ve,Pe]=g.useState({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),[Ze,he]=g.useState(null),pe=g.useRef(null),Je=g.useRef(null),Oe=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});g.useEffect(()=>(j==="prescriptions"?me():j==="orders"&&nt(),b&&Ae(),Te(),Je.current=window.setInterval(()=>{Te(!0)},5e3),()=>{Je.current&&window.clearInterval(Je.current)}),[P,b,j,n.pathname]);const me=async()=>{h(!0);try{const J=t?.role||"",Ee=J==="helping_staff"||J==="helping_staff_admin";let Ge;Ee?Ge=P==="all"?`${Qt}/api/admin/helping-staff/prescriptions`:`${Qt}/api/admin/helping-staff/prescriptions?status=${P}`:Ge=P==="all"?`${Qt}/api/admin/prescriptions`:`${Qt}/api/admin/prescriptions?status=${P}`;const _t=Oe();console.log("Fetching prescriptions from:",Ge),console.log("User role:",t?.role,"isHelpingStaff:",Ee);const St=await fetch(Ge,{headers:_t});if(console.log("Response status:",St.status),St.ok){const lr=await St.json();console.log("Fetched prescriptions:",lr),o(lr.prescriptions||[])}else if(St.status===404)if(Ee){console.log("Helping staff endpoint not found, trying admin endpoint");const lr=P==="all"?`${Qt}/api/admin/prescriptions`:`${Qt}/api/admin/prescriptions?status=${P}`,Lr=await fetch(lr,{headers:_t});if(Lr.ok){const Vn=await Lr.json();o(Vn.prescriptions||[])}else o([])}else o([]);else if(St.status===401){const lr=await St.json().catch(()=>({}));console.error("Authentication failed:",lr),e("Authentication failed. Please log in again.","error"),o([])}else{const lr=await St.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",St.status,lr),e(lr.error?.message||`Failed to fetch prescriptions (${St.status})`,"error"),o([])}}catch(J){console.error("Error fetching prescriptions:",J),e(J?.message||"Failed to fetch prescriptions. Please check your connection.","error"),o([])}finally{h(!1)}},Ae=async()=>{try{const J=await fetch(`${Qt}/api/admin/helping-staff`,{headers:Oe()});if(J.ok){const Ee=await J.json();console.log("Fetched staff members:",Ee),d(Ee.staff||[])}else{const Ee=await J.json().catch(()=>({}));console.error("Failed to fetch staff members:",Ee),d([])}}catch(J){console.error("Error fetching staff members:",J),d([])}},Te=async(J=!1,Ee=!1)=>{try{const Ge=Ee||B?`${Qt}/api/admin/helping-staff/notifications`:`${Qt}/api/admin/helping-staff/notifications?unread_only=true`,_t=await fetch(Ge,{headers:Oe()});if(_t.ok){const Lr=((await _t.json()).notifications||[]).filter((Xr,An,Es)=>An===Es.findIndex($a=>$a.id===Xr.id)),Vn=G.filter(Xr=>Xr.status==="sent").length;if(!J){const Xr=Lr.filter(An=>An.status==="sent").length;if(Xr>Vn){if(pe.current)try{pe.current.currentTime=0,await pe.current.play()}catch(Es){console.log("Audio play failed:",Es)}const An=Xr-Vn;e(`${An} new notification${An>1?"s":""}!`,"success")}}ge(Lr)}}catch(Ge){console.error("Failed to fetch notifications",Ge)}},De=async(J,Ee)=>{try{(await fetch(`${Qt}/api/admin/helping-staff/notifications/${J}/read`,{method:"PUT",headers:Oe()})).ok&&(ge(_t=>_t.map(St=>St.id===J?{...St,status:"read",read_at:new Date().toISOString()}:St)),Ee&&(j!=="orders"?(a("/admin/helping-staff-panel/orders"),await nt()):u.length===0&&await nt(),setTimeout(()=>{const _t=document.getElementById(`order-${Ee}`);_t?(_t.scrollIntoView({behavior:"smooth",block:"center"}),_t.classList.add("ring-4","ring-primary"),setTimeout(()=>{_t.classList.remove("ring-4","ring-primary")},2e3)):setTimeout(()=>{const St=document.getElementById(`order-${Ee}`);St&&(St.scrollIntoView({behavior:"smooth",block:"center"}),St.classList.add("ring-4","ring-primary"),setTimeout(()=>{St.classList.remove("ring-4","ring-primary")},2e3))},1e3)},500)))}catch(Ge){console.error("Failed to mark notification as read",Ge),e("Failed to mark notification as read","error")}},$e=async()=>{try{(await fetch(`${Qt}/api/admin/helping-staff/notifications/read-all`,{method:"PUT",headers:Oe()})).ok&&(ge(Ee=>Ee.map(Ge=>({...Ge,status:"read",read_at:Ge.read_at||new Date().toISOString()}))),e("All notifications marked as read","success"))}catch(J){console.error("Failed to mark all notifications as read",J),e("Failed to mark all notifications as read","error")}};g.useEffect(()=>{B&&(async()=>{try{const Ee=await fetch(`${Qt}/api/admin/helping-staff/notifications`,{headers:Oe()});if(Ee.ok){const St=((await Ee.json()).notifications||[]).filter((lr,Lr,Vn)=>Lr===Vn.findIndex(Xr=>Xr.id===lr.id));ge(St)}}catch(Ee){console.error("Failed to fetch all notifications",Ee)}})()},[B]);const at=async()=>{if(!ve.full_name||!ve.email||!ve.phone_number){e("Please fill all required fields","error");return}h(!0);try{const J=await fetch(`${Qt}/api/admin/helping-staff`,{method:"POST",headers:Oe(),body:JSON.stringify(ve)});if(J.ok)e("Staff member created successfully","success"),Ae(),ce(!1),Pe({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),he(null);else{const Ee=await J.json().catch(()=>({}));e(Ee.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{h(!1)}},yt=async()=>{if(!Ze||!ve.full_name||!ve.email||!ve.phone_number){e("Please fill all fields","error");return}h(!0);try{const J=await fetch(`${Qt}/api/admin/helping-staff/${Ze.id}`,{method:"PUT",headers:Oe(),body:JSON.stringify(ve)});if(J.ok)e("Staff member updated successfully","success"),Ae(),ce(!1),Pe({full_name:"",email:"",phone_number:"",drug_license:""}),he(null);else{const Ee=await J.json().catch(()=>({}));e(Ee.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{h(!1)}},F=async J=>{if(confirm("Are you sure you want to delete this staff member?")){h(!0);try{const Ee=await fetch(`${Qt}/api/admin/helping-staff/${J}`,{method:"DELETE",headers:Oe()});if(Ee.ok)e("Staff member deleted successfully","success"),Ae();else{const Ge=await Ee.json().catch(()=>({}));e(Ge.error?.message||"Failed to delete staff member","error")}}catch{e("Failed to delete staff member","error")}finally{h(!1)}}},L=J=>{J?(he(J),Pe({full_name:J.full_name,email:J.email,phone_number:J.phone_number||"",drug_license:J.drug_license||"",password:""})):(he(null),Pe({full_name:"",email:"",phone_number:"",drug_license:"",password:""})),ce(!0)},fe=async(J,Ee)=>{h(!0);try{(await fetch(`${Qt}/api/admin/prescription/assign`,{method:"PUT",headers:Oe(),body:JSON.stringify({prescription_id:J,staff_id:Ee})})).ok?(e("Prescription assigned successfully","success"),me(),H(!1),O(null)):e("Failed to assign prescription","error")}catch{e("Failed to assign prescription","error")}finally{h(!1)}},ye=async J=>{Ne(!0);try{const Ee=await fetch(`${Qt}/api/admin/prescription/${J}/medicine-list`,{headers:Oe()});if(Ee.ok){const Ge=await Ee.json();se(Ge.medicines||[]),K({})}else{const Ge=await Ee.json().catch(()=>({}));e(Ge.error?.message||"Failed to fetch medicine list","error")}}catch{e("Failed to fetch medicine list","error")}finally{Ne(!1)}},tt=async J=>{h(!0);try{if(Object.keys(T).length!==ue.length){e(`Please approve or reject all ${ue.length} medicines`,"error"),h(!1);return}const Ee=await fetch(`${Qt}/api/admin/prescription/${J}/approve-medicines`,{method:"POST",headers:Oe(),body:JSON.stringify({medicine_approvals:T})});if(Ee.ok)e("Prescription medicines approved and released to vendors","success"),me(),Q(!1),O(null),se([]),K({});else{const Ge=await Ee.json().catch(()=>({}));e(Ge.error?.message||"Failed to approve medicines","error")}}catch{e("Failed to approve medicines","error")}finally{h(!1)}},nt=async()=>{v(!0);try{const J=await fetch(`${Qt}/api/admin/helping-staff/orders/pending-approval`,{headers:Oe()});if(J.ok){const Ee=await J.json();p(Ee.orders||[])}else{const Ee=await J.json().catch(()=>({}));console.error("Failed to fetch pending orders:",Ee),e(Ee.error?.message||"Failed to fetch pending orders","error"),p([])}}catch(J){console.error("Error fetching pending orders:",J),e(J?.message||"Failed to fetch pending orders","error"),p([])}finally{v(!1)}},[Ie,Er]=g.useState({}),Wn=async J=>{v(!0);try{const Ee=await fetch(`${Qt}/api/admin/helping-staff/orders/${J}/approve`,{method:"POST",headers:Oe(),body:JSON.stringify({medicine_approvals:Ie})});if(Ee.ok)e("Order approved successfully","success"),nt(),z(!1),M(null),Er({});else{const Ge=await Ee.json().catch(()=>({}));e(Ge.error?.message||"Failed to approve order","error")}}catch(Ee){console.error("Error approving order:",Ee),e("Failed to approve order","error")}finally{v(!1)}},Dr=async(J,Ee)=>{v(!0);try{const Ge=await fetch(`${Qt}/api/admin/helping-staff/orders/${J}/reject`,{method:"POST",headers:Oe(),body:JSON.stringify({reason:Ee})});if(Ge.ok)e("Order rejected successfully","success"),nt(),z(!1),U(!1),M(null),W("");else{const _t=await Ge.json().catch(()=>({}));e(_t.error?.message||"Failed to reject order","error")}}catch(Ge){console.error("Error rejecting order:",Ge),e("Failed to reject order","error")}finally{v(!1)}},ma=J=>({uploaded:"bg-secondary text-primary border border-primary/20",assigned:"bg-primary/20 text-primary",digitized:"bg-secondary text-primary border border-primary/20",released_to_vendor:"bg-primary/20 text-primary",fulfilled:"bg-secondary text-primary border border-primary/20",rejected:"bg-primary/20 text-primary"})[J]||"bg-primary/20 text-primary",Hn=s.filter(J=>J.user_name?.toLowerCase().includes(_.toLowerCase())||J.id.toString().includes(_));return r.jsx(or,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helping Staff Panel"}),r.jsx("p",{className:"text-gray-600",children:"Manage prescription processing, assignment, and digitization."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>$(!B),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2 relative",children:[r.jsx(Ec,{size:18}),"Notifications",G.filter(J=>J.status==="sent").length>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:G.filter(J=>J.status==="sent").length})]}),b&&r.jsxs("button",{onClick:()=>L(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[r.jsx(hn,{size:18}),"Add Staff"]}),r.jsxs("button",{onClick:()=>{j==="prescriptions"?me():nt()},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]})]}),B&&r.jsxs(He,{className:"mb-6",children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(dt,{children:"Notifications"}),G.filter(J=>J.status==="sent").length>0&&r.jsxs("span",{className:"text-sm text-gray-500",children:[G.filter(J=>J.status==="sent").length," unread"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[G.filter(J=>J.status==="sent").length>0&&r.jsx("button",{onClick:$e,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all as read"}),r.jsx("button",{onClick:()=>$(!1),className:"text-gray-500 hover:text-gray-700",children:r.jsx(gt,{size:20})})]})]})}),r.jsx(Ve,{children:G.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notifications"}):r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:G.map((J,Ee)=>{const Ge=J.status==="sent";return r.jsx("div",{onClick:()=>De(J.id,J.order_id),className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ge?"bg-primary/5 border-primary/20 hover:bg-primary/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"font-medium text-sm",children:J.title}),Ge&&r.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:J.message}),r.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(J.created_at).toLocaleString()})]})})},`notification-${J.id}-${J.created_at||Ee}`)})})})]}),b&&r.jsxs(He,{className:"mb-6",children:[r.jsx(ct,{children:r.jsx(dt,{children:"Staff Members"})}),r.jsx(Ve,{children:c.length===0?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff members found"}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(J=>r.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-medium",children:J.full_name}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${J.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:J.status||"active"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:J.email}),J.phone_number&&r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:J.phone_number}),J.pending_prescriptions_count!==void 0&&r.jsxs("p",{className:"text-xs text-primary mb-2",children:["Pending: ",J.pending_prescriptions_count]}),r.jsxs("div",{className:"flex gap-2 mt-3",children:[r.jsx("button",{onClick:()=>L(J),className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),r.jsx("button",{onClick:()=>F(J.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:r.jsx(ka,{size:14})})]})]},J.id))})})]}),j==="prescriptions"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search by user name or prescription ID...",value:_,onChange:J=>S(J.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),r.jsxs("select",{value:P,onChange:J=>C(J.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"uploaded",children:"Uploaded"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"digitized",children:"Approved"}),r.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),r.jsx("option",{value:"fulfilled",children:"Fulfilled"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),f?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Hn.map(J=>r.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(dt,{className:"text-lg",children:["Prescription #",J.id]}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ma(J.status)}`,children:J.status==="digitized"?"Approved":J.status.replace("_"," ")})]})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Dt,{size:16,className:"text-primary"}),r.jsx("span",{children:J.user_name||`User #${J.user_id}`})]}),J.assigned_staff_name&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Assigned to: ",J.assigned_staff_name]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(Sr,{size:14}),new Date(J.created_at).toLocaleDateString()]}),r.jsxs("div",{className:"flex gap-2 pt-2",children:[J.status==="uploaded"&&r.jsxs("button",{onClick:()=>{O(J),H(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[r.jsx(Dt,{size:14}),"Assign"]}),J.status==="assigned"&&r.jsxs("button",{onClick:()=>{O(J),ye(J.id),Q(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[r.jsx(Hr,{size:14}),"Medicine List"]}),r.jsxs("button",{onClick:()=>{O(J),window.open(J.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[r.jsx(ia,{size:14}),"View"]})]})]})]},J.id))}),Hn.length===0&&!f&&r.jsx(He,{children:r.jsxs(Ve,{className:"text-center py-12",children:[r.jsx(ia,{className:"mx-auto text-primary mb-4",size:48}),r.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]}),j==="orders"&&r.jsxs(r.Fragment,{children:[y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(J=>r.jsxs(He,{id:`order-${J.id}`,className:"hover:shadow-lg transition-shadow",children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(dt,{className:"text-lg",children:["Order #",J.id]}),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Pending Approval"})]})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Dt,{size:16,className:"text-primary"}),r.jsx("span",{children:J.user_name||`User #${J.user_id}`})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Items:"})," ",J.items_count]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Total:"})," ",typeof J.total_amount=="number"?J.total_amount.toFixed(2):parseFloat(J.total_amount||0).toFixed(2)]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Address:"})," ",J.delivery_address,", ",J.delivery_city," - ",J.delivery_pincode]})]}),r.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[r.jsx(Sr,{size:14}),new Date(J.created_at).toLocaleDateString()]}),r.jsx("div",{className:"flex gap-2 pt-2",children:r.jsxs("button",{onClick:()=>{M(J),Er({}),z(!0)},className:"flex-1 px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[r.jsx(ia,{size:14}),"View Details"]})})]})]},J.id))}),u.length===0&&!y&&r.jsx(He,{children:r.jsxs(Ve,{className:"text-center py-12",children:[r.jsx(Hr,{className:"mx-auto text-primary mb-4",size:48}),r.jsx("p",{className:"text-gray-600",children:"No orders pending approval"})]})})]}),le&&A&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs(He,{className:"w-full max-w-md mx-4",children:[r.jsx(ct,{children:r.jsx(dt,{children:"Assign Prescription"})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Staff Member"}),r.jsxs("select",{value:oe||"",onChange:J=>te(Number(J.target.value)),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"",children:"Select staff member..."}),c.map(J=>r.jsxs("option",{value:J.id,children:[J.full_name," (",J.email,")"]},J.id))]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{H(!1),O(null),te(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{oe&&fe(A.id,oe)},disabled:!oe||f,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:"Assign"})]})]})]})}),R&&A&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:r.jsxs(He,{className:"w-full max-w-4xl",children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(dt,{children:["Medicine List - Prescription #",A.id]}),r.jsx("button",{onClick:()=>{Q(!1),O(null),se([]),K({})},className:"text-gray-500 hover:text-gray-700",children:r.jsx(gt,{size:24})})]})}),r.jsxs(Ve,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Image"}),r.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:A.prescription_url?r.jsx("img",{src:A.prescription_url,alt:"Prescription",className:"max-w-full max-h-80 h-auto rounded-lg border border-gray-200 object-contain",onError:J=>{const Ee=J.target;Ee.style.display="none";const Ge=Ee.parentElement;Ge&&(Ge.innerHTML='<p class="text-gray-500">Failed to load prescription image</p>')}}):r.jsx("p",{className:"text-gray-500",children:"Prescription image not available"})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Approve or Reject"}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:r.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription image and approve or reject each medicine. Approved medicines will be sent to vendors."})}),xe?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-primary/10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),r.jsx("th",{className:"px-4 py-2 text-left",children:"Manufacturer"}),r.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),r.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),r.jsx("tbody",{children:ue.map(J=>{const Ee=Wx(J.images);return r.jsxs("tr",{className:"border-t border-primary/20",children:[r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex items-start gap-3",children:[Ee&&r.jsxs("div",{className:"flex-shrink-0",children:[r.jsx("img",{src:Ee,alt:J.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ge=>{Ge.target.style.display="none"}}),r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium",children:J.medicine_name}),J.medicine_type&&r.jsx("div",{className:"text-xs text-gray-500",children:J.medicine_type}),!Ee&&r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),r.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:J.manufacturer_name||"-"}),r.jsxs("td",{className:"px-4 py-2 text-right",children:["",parseFloat(J.price||0).toFixed(2)]}),r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsxs("button",{onClick:()=>{K({...T,[J.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${T[J.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[r.jsx(Wr,{size:14,className:"inline mr-1"}),"Approve"]}),r.jsxs("button",{onClick:()=>{K({...T,[J.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${T[J.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[r.jsx(rs,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},J.id)})})]})})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[r.jsx("button",{onClick:()=>{Q(!1),O(null),se([]),K({})},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:()=>{A&&tt(A.id)},disabled:f||Object.keys(T).length!==ue.length,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[r.jsx(Wr,{size:18}),Object.keys(T).length>0?`Approve & Send to Vendors (${Object.keys(T).length}/${ue.length})`:"Approve & Send to Vendors"]})]})]})]})}),ee&&b&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs(He,{className:"w-full max-w-md mx-4",children:[r.jsx(ct,{children:r.jsx(dt,{children:Ze?"Edit Staff Member":"Add Staff Member"})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),r.jsx("input",{type:"text",value:ve.full_name,onChange:J=>Pe({...ve,full_name:J.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),r.jsx("input",{type:"email",value:ve.email,onChange:J=>Pe({...ve,email:J.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",value:ve.phone_number,onChange:J=>Pe({...ve,phone_number:J.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Drug License"}),r.jsx("input",{type:"text",value:ve.drug_license,onChange:J=>Pe({...ve,drug_license:J.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter drug license number"})]}),!Ze&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",r.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: HelpingStaff@123)"})]}),r.jsx("input",{type:"password",value:ve.password||"",onChange:J=>Pe({...ve,password:J.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (leave empty for default)"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'If left empty, default password "HelpingStaff@123" will be set'})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{ce(!1),Pe({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),he(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),r.jsx("button",{onClick:Ze?yt:at,disabled:f,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:Ze?"Update":"Create"})]})]})]})}),D&&I&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:r.jsxs(He,{className:"w-full max-w-4xl",children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(dt,{children:["Order #",I.id," - Prescription Verification"]}),r.jsx("button",{onClick:()=>{z(!1),M(null),Er({})},className:"text-gray-500 hover:text-gray-700",children:r.jsx(gt,{size:24})})]})}),r.jsxs(Ve,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Name:"})," ",I.full_name]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",I.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",I.phone]}),r.jsxs("p",{children:[r.jsx("strong",{children:"User ID:"})," ",I.user_id]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsx("p",{children:I.delivery_address}),r.jsxs("p",{children:[I.delivery_city," - ",I.delivery_pincode]})]})]})]}),I.prescription_required_items&&I.prescription_required_items.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Verify & Approve"}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:r.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription and approve or reject each medicine. All medicines must be verified before the order can be released to vendors."})}),r.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-primary/10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),r.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),r.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),r.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),r.jsx("tbody",{children:I.prescription_required_items.map(J=>{const Ee=Wx(J.medicine_images);return r.jsxs("tr",{className:"border-t border-primary/20",children:[r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex items-start gap-3",children:[Ee&&r.jsxs("div",{className:"flex-shrink-0",children:[r.jsx("img",{src:Ee,alt:J.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ge=>{Ge.target.style.display="none"}}),r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium",children:J.medicine_name}),!Ee&&r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),r.jsx("td",{className:"px-4 py-2 text-right",children:J.quantity}),r.jsxs("td",{className:"px-4 py-2 text-right",children:["",J.price.toFixed(2)]}),r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex gap-2 justify-center",children:[r.jsxs("button",{onClick:()=>{Er({...Ie,[J.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Ie[J.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[r.jsx(Wr,{size:14,className:"inline mr-1"}),"Approve"]}),r.jsxs("button",{onClick:()=>{Er({...Ie,[J.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Ie[J.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[r.jsx(rs,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},J.id)})})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"All Order Items"}),r.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{className:"bg-primary/10",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),r.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),r.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),r.jsx("th",{className:"px-4 py-2 text-right",children:"Total"})]})}),r.jsxs("tbody",{children:[I.items?.map(J=>{const Ee=Wx(J.medicine_images);return r.jsxs("tr",{className:"border-t border-primary/20",children:[r.jsx("td",{className:"px-4 py-2",children:r.jsxs("div",{className:"flex items-start gap-3",children:[Ee&&r.jsxs("div",{className:"flex-shrink-0",children:[r.jsx("img",{src:Ee,alt:J.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ge=>{Ge.target.style.display="none"}}),J.prescription_required&&r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"font-medium",children:J.medicine_name}),!Ee&&J.prescription_required&&r.jsx("div",{className:"mt-1",children:r.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),r.jsx("td",{className:"px-4 py-2 text-right",children:J.quantity}),r.jsxs("td",{className:"px-4 py-2 text-right",children:["",J.price.toFixed(2)]}),r.jsxs("td",{className:"px-4 py-2 text-right",children:["",(J.price*J.quantity).toFixed(2)]})]},J.id)}),r.jsxs("tr",{className:"border-t-2 border-primary/20 font-semibold",children:[r.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Total Amount:"}),r.jsxs("td",{className:"px-4 py-2 text-right",children:["",typeof I.total_amount=="number"?I.total_amount.toFixed(2):parseFloat(I.total_amount||0).toFixed(2)]})]})]})]})})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Prescription"}),r.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50",children:I.prescription_url?r.jsx("img",{src:I.prescription_url,alt:"Prescription",className:"max-w-full h-auto rounded-lg border border-gray-200",onError:J=>{const Ee=J.target;Ee.style.display="none";const Ge=Ee.parentElement;Ge&&(Ge.innerHTML='<p class="text-gray-500">Failed to load prescription image</p>')}}):r.jsx("p",{className:"text-gray-500",children:"Prescription image not available"})})]}),r.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[r.jsxs("button",{onClick:()=>{U(!0)},className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",disabled:y,children:[r.jsx(rs,{size:18}),"Reject Order"]}),r.jsxs("button",{onClick:()=>{const J=I.prescription_required_items?.length||0,Ee=Object.keys(Ie).length;if(J>0&&Ee!==J){e(`Please approve or reject all ${J} prescription-required medicines`,"error");return}Wn(I.id)},className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",disabled:y,children:[r.jsx(Wr,{size:18}),I.prescription_required_items&&I.prescription_required_items.length>0?`Approve Order (${Object.keys(Ie).length}/${I.prescription_required_items.length})`:"Approve Order"]})]})]})]})}),re&&I&&r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:r.jsxs(He,{className:"w-full max-w-md mx-4",children:[r.jsx(ct,{children:r.jsxs(dt,{children:["Reject Order #",I.id]})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rejection Reason"}),r.jsx("textarea",{value:Y,onChange:J=>W(J.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",rows:4,placeholder:"Enter reason for rejection..."})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>{U(!1),W("")},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>{I&&Dr(I.id,Y||"Prescription verification failed")},disabled:y,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:"Reject Order"})]})]})]})}),r.jsx("audio",{ref:pe,preload:"auto",children:r.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OSfTQ8MUKfj8LZjHAY4kdfyzHksBSR3x/DdkEAKFF606euoVRQKRp/g8r5sIQUrgc7y2Yk2CBtpvfDkn00PDFCn4/C2YxwGOJHX8sx5LAUkd8fw3ZBAC",type:"audio/wav"})})]})})},xS="https://kwikmedi.mycartly.in",WJ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(!1),[o,c]=g.useState(""),[d,u]=g.useState("all"),p=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});g.useEffect(()=>{f()},[d]);const f=async()=>{s(!0);try{const v=d==="all"?`${xS}/api/admin/prescriptions`:`${xS}/api/admin/prescriptions?status=${d}`,N=await fetch(v,{headers:p()});if(N.ok){const j=await N.json();console.log("Fetched prescriptions:",j),n(j.prescriptions||[])}else{const j=await N.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",j),e(j.error?.message||"Failed to fetch prescriptions","error"),n([])}}catch(v){console.error("Error fetching prescriptions:",v),e("Failed to fetch prescriptions","error"),n([])}finally{s(!1)}},h=v=>({uploaded:"bg-yellow-100 text-yellow-800 border border-yellow-300",assigned:"bg-primary/10 text-primary-dark border border-primary/20",digitized:"bg-green-100 text-green-800 border border-green-300",released_to_vendor:"bg-purple-100 text-purple-800 border border-purple-300",fulfilled:"bg-gray-100 text-gray-800 border border-gray-300",rejected:"bg-red-100 text-red-800 border border-red-300"})[v]||"bg-gray-100 text-gray-800 border border-gray-300",y=t.filter(v=>v.user_name?.toLowerCase().includes(o.toLowerCase())||v.id.toString().includes(o)||v.assigned_staff_name?.toLowerCase().includes(o.toLowerCase())||v.assigned_staff_drug_license?.toLowerCase().includes(o.toLowerCase())||v.digitized_by_staff_name?.toLowerCase().includes(o.toLowerCase())||v.digitized_by_staff_drug_license?.toLowerCase().includes(o.toLowerCase())||v.assigned_vendor_name?.toLowerCase().includes(o.toLowerCase()));return r.jsx(or,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"All Prescriptions"}),r.jsx("p",{className:"text-gray-600",children:"View all prescriptions with staff and vendor assignments"})]}),r.jsxs("button",{onClick:f,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search by user, staff, vendor, or prescription ID...",value:o,onChange:v=>c(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),r.jsxs("select",{value:d,onChange:v=>u(v.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"uploaded",children:"Uploaded"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"digitized",children:"Approved"}),r.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),r.jsx("option",{value:"fulfilled",children:"Fulfilled"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsx("div",{className:"grid grid-cols-1 gap-6",children:y.map(v=>r.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(dt,{className:"text-lg",children:["Prescription #",v.id]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(v.status)}`,children:v.status==="digitized"?"APPROVED":v.status.replace(/_/g," ").toUpperCase()})]})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Dt,{size:16,className:"text-primary"}),r.jsx("span",{className:"font-medium",children:"User:"}),r.jsx("span",{children:v.user_name||`User #${v.user_id}`})]}),v.assigned_staff_name&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(HS,{size:16,className:"text-blue-500"}),r.jsx("span",{className:"font-medium",children:"Assigned Staff:"}),r.jsx("span",{children:v.assigned_staff_name}),v.assigned_staff_drug_license&&r.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",v.assigned_staff_drug_license,")"]}),v.assigned_at&&r.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(v.assigned_at).toLocaleString(),")"]})]}),v.digitized_by_staff_name&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(Wr,{size:16,className:"text-green-500"}),r.jsx("span",{className:"font-medium",children:"Approved By:"}),r.jsx("span",{children:v.digitized_by_staff_name}),v.digitized_by_staff_drug_license&&r.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",v.digitized_by_staff_drug_license,")"]}),v.digitized_at&&r.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(v.digitized_at).toLocaleString(),")"]})]}),v.assigned_vendor_name&&r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(US,{size:16,className:"text-purple-500"}),r.jsx("span",{className:"font-medium",children:"Assigned Vendor:"}),r.jsx("span",{children:v.assigned_vendor_name}),v.assigned_vendor_email&&r.jsxs("span",{className:"text-gray-500 text-xs",children:["(",v.assigned_vendor_email,")"]})]}),v.items&&v.items.length>0&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Medicine Items:"}),r.jsx("div",{className:"space-y-1",children:v.items.map((N,j)=>r.jsxs("div",{className:"text-xs text-gray-600",children:[" ",N.medicine_name," - Qty: ",N.quantity,", Days: ",N.days,N.dosage&&`, Dosage: ${N.dosage}`]},j))})]}),r.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Sr,{size:12}),r.jsxs("span",{children:["Created: ",new Date(v.created_at).toLocaleString()]})]})}),r.jsx("div",{className:"flex gap-2 pt-2",children:r.jsxs("button",{onClick:()=>{window.open(v.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[r.jsx(ia,{size:14}),"View Image"]})})]})]},v.id))}),y.length===0&&!a&&r.jsx(He,{children:r.jsxs(Ve,{className:"text-center py-12",children:[r.jsx(ia,{className:"mx-auto text-primary mb-4",size:48}),r.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]})})},HJ=({transaction:e,expandedTransaction:t,onToggleDetails:n,formatDate:a,formatCurrency:s})=>{const o=d=>{switch(d){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},c=d=>{switch(d){case"card":return r.jsx(us,{size:16,className:"text-gray-500"});case"upi":return r.jsx(OI,{size:16,className:"text-gray-500"});case"net_banking":return r.jsx(nI,{size:16,className:"text-gray-500"});default:return null}};return r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[r.jsxs("td",{className:"py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.transaction_id}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: ",e.booking_id]})]}),r.jsxs("td",{className:"py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.provider_business_name}),r.jsxs("div",{className:"text-sm text-gray-500",children:[e.user_name,"  ",e.provider_name]})]}),r.jsxs("td",{className:"py-4",children:[r.jsx("div",{className:"font-medium text-gray-900",children:s(e.amount)}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Platform: ",s(e.platform_fee)]})]}),r.jsxs("td",{className:"py-4",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.failure_reason&&r.jsx("div",{className:"text-xs text-red-500 mt-1",children:e.failure_reason})]}),r.jsxs("td",{className:"py-4",children:[r.jsx("div",{className:"text-sm text-gray-600",children:a(e.created_at)}),e.completed_at&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",a(e.completed_at)]})]}),r.jsxs("td",{className:"py-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[c(e.payment_method),r.jsx("span",{className:"text-sm text-gray-600",children:e.payment_method.split("_").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" ")})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),r.jsx("td",{className:"py-4",children:r.jsxs(je,{onClick:()=>n(e.id),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white",children:[r.jsx(to,{size:14}),r.jsx("span",{children:"Details"}),t===e.id?r.jsx(ul,{size:14}):r.jsx(ws,{size:14})]})})]})},VJ=({transaction:e,formatDate:t,formatCurrency:n,onRefundClick:a})=>r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-4 bg-gray-50",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:r.jsx(us,{size:18,className:"text-white"})}),r.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Transaction Overview"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"#"})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transaction ID"})]}),r.jsx("p",{className:"text-sm font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded",children:e.transaction_id})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-green-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amount"})]}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:n(e.amount)})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-orange-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),r.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.status})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Payment Details"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-primary text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),r.jsx("p",{className:"text-sm text-gray-800",children:e.payment_method}),r.jsxs("p",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-green-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fees"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"text-sm text-gray-800",children:["Platform: ",n(e.platform_fee)]}),r.jsxs("p",{className:"text-sm text-gray-800",children:["Gateway: ",n(e.gateway_fee)]}),r.jsxs("p",{className:"text-sm text-gray-800",children:["Provider: ",n(e.provider_amount)]})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"User & Provider"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-purple-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.user.name}),r.jsx("p",{className:"text-sm text-gray-600",children:e.user.email}),r.jsx("p",{className:"text-sm text-gray-600",children:e.user.phone})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[r.jsxs("div",{className:"flex items-center mb-2",children:[r.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center mr-2",children:r.jsx("span",{className:"text-pink-600 text-xs",children:""})}),r.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.provider.name}),r.jsx("p",{className:"text-sm text-gray-600",children:e.provider.business_name}),r.jsx("p",{className:"text-sm text-gray-600",children:e.provider.email})]})]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[r.jsxs("div",{className:"flex items-center mb-3",children:[r.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Booking Details"})]}),r.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-orange-100",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Date"}),r.jsx("p",{className:"text-sm text-gray-900",children:t(e.booking.date)})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time"}),r.jsx("p",{className:"text-sm text-gray-900",children:e.booking.time})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Amount"}),r.jsx("p",{className:"text-sm text-gray-900",children:n(e.booking.amount)})]})]})})]}),e.refunds&&e.refunds.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 rounded-lg p-4 border border-red-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Refunds"})]}),r.jsxs("div",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.refunds.length," Refund",e.refunds.length!==1?"s":""]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-red-100 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-red-50 border-b border-red-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Refund ID"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Amount"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Reason"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Status"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Processed At"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:e.refunds.map(s=>r.jsxs("tr",{className:"hover:bg-red-50 transition-colors",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.refund_id})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:n(s.amount)})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:s.reason})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:t(s.processed_at)})})]},s.id))})]})})})]}),e.wallet_transactions&&e.wallet_transactions.length>0&&r.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg p-4 border border-cyan-100",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:r.jsx("span",{className:"text-white text-sm",children:""})}),r.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Wallet Transactions"})]}),r.jsxs("div",{className:"bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.wallet_transactions.length," Transaction",e.wallet_transactions.length!==1?"s":""]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-cyan-100 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-cyan-50 border-b border-cyan-100",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Amount"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Type"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Category"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Description"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Balance After"}),r.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Date"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:e.wallet_transactions.map(s=>r.jsxs("tr",{className:"hover:bg-cyan-50 transition-colors",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:`text-sm font-medium ${s.type==="credit"?"text-green-600":"text-red-600"}`,children:n(s.amount)})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.type})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:s.category})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:s.description})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:n(s.balance_after)})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:t(s.created_at)})})]},s.id))})]})})})]}),e.refunds.length===0&&r.jsx("div",{className:"flex justify-end",children:r.jsxs(je,{onClick:()=>a(e),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white",children:[r.jsx(wI,{size:14}),r.jsx("span",{children:"Process Refund"})]})})]})})}),GJ=({searchTerm:e,onSearchChange:t})=>r.jsxs("div",{className:"relative w-64",children:[r.jsx(Yr,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),r.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:n=>t(n.target.value)})]}),YJ=({currentPage:e,totalPages:t,startIndex:n,itemsPerPage:a,totalItems:s,onPageChange:o})=>r.jsxs("div",{className:"flex items-center justify-between mt-4",children:[r.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",n+1," to ",Math.min(n+a,s)," of ",s," transactions"]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(je,{onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(eo,{size:16})}),r.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),r.jsx(je,{onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsx(Ia,{size:16})})]})]}),XJ=({isOpen:e,onClose:t,onSubmit:n,transaction:a,isSubmitting:s,formatCurrency:o})=>{const[c,d]=fn.useState({amount:a.amount,reason:"",reason_description:""}),u=p=>{p.preventDefault(),n(c)};return e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Process Refund"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:20})})]}),r.jsxs("form",{onSubmit:u,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Amount"}),r.jsx("div",{className:"text-lg font-semibold text-gray-900",children:o(a.amount)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount *"}),r.jsx("input",{type:"number",required:!0,min:"0",max:a.amount,step:"0.01",value:c.amount,onChange:p=>d({...c,amount:parseFloat(p.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),r.jsxs("select",{required:!0,value:c.reason,onChange:p=>d({...c,reason:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[r.jsx("option",{value:"",children:"Select a reason"}),r.jsx("option",{value:"customer_request",children:"Customer Request"}),r.jsx("option",{value:"service_not_provided",children:"Service Not Provided"}),r.jsx("option",{value:"quality_issues",children:"Quality Issues"}),r.jsx("option",{value:"duplicate_payment",children:"Duplicate Payment"}),r.jsx("option",{value:"other",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason Description *"}),r.jsx("textarea",{required:!0,value:c.reason_description,onChange:p=>d({...c,reason_description:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Provide additional details about the refund reason..."})]}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(je,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),r.jsx(je,{type:"submit",disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Processing...":"Process Refund"})]})]})]})}):null},JJ={},Vx=JJ?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",ZJ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(""),[d,u]=g.useState(1),[p,f]=g.useState(null),[h,y]=g.useState(null),[v,N]=g.useState(!1),[j,b]=g.useState(!1),[_,S]=g.useState(null),[P,C]=g.useState(null),[A,O]=g.useState(1),[I,M]=g.useState(0),[D,z]=g.useState({status:"",payment_status:"",user_id:"",provider_id:"",booking_id:""}),Y=10;g.useEffect(()=>{W()},[d,D]);const W=async()=>{const B=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!B){e("Please login to view transactions","error"),s(!1);return}try{s(!0);const $=new URLSearchParams;$.append("page",d.toString()),$.append("limit",Y.toString()),o&&$.append("search",o),Object.entries(D).forEach(([se,xe])=>{xe&&$.append(se,xe.toString())});const G=await fetch(`${Vx}/admin/transactions?${$.toString()}`,{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(!G.ok){if(G.status===401){e("Authentication failed. Please log in again.","error");return}if(G.status===404){console.warn("Transactions endpoint not found. Backend may not be implemented yet."),n([]),O(1),M(0),s(!1);return}throw new Error(`HTTP error! status: ${G.status}`)}const ge=await G.json(),ue=ge.data||ge.transactions||[];Array.isArray(ue)?(n(ue),O(ge.pagination?.total_pages||Math.ceil(ue.length/Y)||1),M(ge.pagination?.total||ue.length||0)):(n([]),O(1),M(0))}catch($){console.error("Error fetching transactions:",$),e("Failed to fetch transactions. The backend endpoint may not be implemented yet.","error"),n([]),O(1),M(0)}finally{s(!1)}},re=async B=>{const $=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!$)return e("Please login to view transaction details","error"),null;try{const G=await fetch(`${Vx}/admin/transactions/${B}`,{headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(!G.ok){if(G.status===404)return e("Transaction details not found","error"),null;throw new Error(`HTTP error! status: ${G.status}`)}const ge=await G.json();return ge.transaction||ge.data||null}catch(G){return console.error("Error fetching transaction details:",G),e("Failed to fetch transaction details","error"),null}},U=async B=>{if(p===B)f(null),y(null),C(null);else{f(B),S(B),C(null),y(null);const $=await re(B);if($)y($),C(null);else{C(B);const G=t.find(ge=>ge.id===B);if(G){const ge={id:G.id,transaction_id:G.transaction_id,user_id:0,provider_id:0,booking_id:G.booking_id,amount:G.amount,platform_fee:G.platform_fee,gateway_fee:G.gateway_fee,provider_amount:G.provider_amount,currency:"INR",payment_method:G.payment_method,payment_gateway:G.payment_gateway,gateway_transaction_id:"",status:G.status,payment_status:G.payment_status,description:"",metadata:{},created_at:G.created_at,completed_at:G.completed_at||"",user:{name:G.user_name,email:G.user_email||"",phone:""},provider:{name:G.provider_name,business_name:G.provider_business_name,email:""},booking:{date:G.created_at,time:"",amount:G.amount},refunds:[],wallet_transactions:[]};y(ge)}}S(null)}},R=async B=>{y(B),N(!0)},Q=async B=>{if(!h)return;b(!0);const $=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");try{const G=await fetch(`${Vx}/admin/transactions/${h.id}/refund`,{method:"POST",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify(B)});if(!G.ok)throw new Error(`HTTP error! status: ${G.status}`);const ge=await G.json();e(ge.message||"Refund processed successfully","success"),N(!1),y(null),W()}catch(G){console.error("Error processing refund:",G),e("Failed to process refund","error")}finally{b(!1)}},le=B=>{if(!B)return"N/A";try{return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return B}},H=B=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(B),ee=(B,$)=>{z(G=>({...G,[B]:$})),u(1)},ce=t.filter(B=>{if(!o)return!0;const $=o.toLowerCase();return B.transaction_id.toLowerCase().includes($)||B.user_name.toLowerCase().includes($)||B.provider_name.toLowerCase().includes($)||B.booking_id.toString().includes($)});return r.jsx(or,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),r.jsx("p",{className:"text-gray-600",children:"Track and manage all payment transactions"})]}),r.jsxs(He,{children:[r.jsxs(ct,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(dt,{children:"All Transactions"}),r.jsx("div",{className:"flex items-center space-x-4",children:r.jsx(GJ,{searchTerm:o,onSearchChange:c})})]}),r.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[r.jsxs("select",{value:D.status,onChange:B=>ee("status",B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"})]}),r.jsxs("select",{value:D.payment_status,onChange:B=>ee("payment_status",B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"All Payment Status"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"failed",children:"Failed"})]})]})]}),r.jsx(Ve,{children:a?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):ce.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("p",{className:"text-gray-500 text-lg",children:t.length===0?"No transactions found.":"No transactions match your search criteria."}),t.length===0&&r.jsx("p",{className:"text-gray-400 text-sm mt-2"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b bg-gray-50",children:[r.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Transaction ID"}),r.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"User / Provider"}),r.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Amount"}),r.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),r.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Date"}),r.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Payment Method"}),r.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),r.jsx("tbody",{children:ce.map(B=>r.jsxs(fn.Fragment,{children:[r.jsx(HJ,{transaction:B,expandedTransaction:p,onToggleDetails:U,formatDate:le,formatCurrency:H}),p===B.id&&r.jsx(r.Fragment,{children:_===B.id?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),r.jsx("span",{className:"text-gray-600",children:"Loading transaction details..."})]})})}):h?r.jsxs(r.Fragment,{children:[P===B.id&&r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-2 bg-yellow-50 border-b",children:r.jsxs("div",{className:"flex items-center justify-center text-yellow-700 text-sm",children:[r.jsx("span",{className:"mr-2",children:""}),r.jsx("span",{children:"Could not fetch full details from API. Showing basic transaction information."})]})})}),r.jsx(VJ,{transaction:h,formatDate:le,formatCurrency:H,onRefundClick:R})]}):r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:r.jsxs("div",{className:"flex items-center justify-center text-red-600",children:[r.jsx("span",{className:"mr-2",children:""}),r.jsx("span",{children:"Failed to load transaction details. Please try again."})]})})})})]},B.id))})]})}),r.jsx(YJ,{currentPage:d,totalPages:A,startIndex:(d-1)*Y,itemsPerPage:Y,totalItems:I,onPageChange:u})]})})]}),v&&h&&r.jsx(XJ,{isOpen:v,transaction:h,onClose:()=>N(!1),onSubmit:Q,isSubmitting:j,formatCurrency:H})]})})},ei=({label:e,error:t,fullWidth:n=!1,className:a="",id:s,...o})=>{const c=s||`input-${Math.random().toString(36).substring(2,9)}`;return r.jsxs("div",{className:`${n?"w-full":""} mb-4`,children:[e&&r.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),r.jsx("input",{id:c,className:`px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary ${t?"border-error":""} ${n?"w-full":""} ${a}`,...o}),t&&r.jsx("p",{className:"mt-1 text-sm text-error",children:t})]})},QJ=({open:e,onClose:t,children:n})=>e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity",onClick:t}),r.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:n})]})}):null,eZ=({children:e})=>r.jsx("div",{className:"mt-3 text-center sm:mt-5",children:e}),tZ=({children:e})=>r.jsx("div",{className:"mb-4",children:e}),rZ=({children:e})=>r.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:e}),nZ={},zo=nZ?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",Gx=()=>{const{addToast:e}=Yt(),t=an(),[n,a]=g.useState([]),[s,o]=g.useState(!1),[c,d]=g.useState(""),[u,p]=g.useState(!1),[f,h]=g.useState("add"),[y,v]=g.useState(null),[N,j]=g.useState(!1);(()=>{const R=t.pathname;return R.includes("/medicine")?"medicine":R.includes("/lab-test")?"lab-test":"all"})();const[_,S]=g.useState({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:""}),[P,C]=g.useState({}),A=async()=>{o(!0);try{const R=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Q=await fetch(`${zo}/admin/coupons`,{method:"GET",headers:{"Content-Type":"application/json",...R?{Authorization:`Bearer ${R}`}:{}}}),le=await Q.json();if(Q.ok&&le.coupons&&Array.isArray(le.coupons))a(le.coupons);else throw new Error(le.message||le.error?.message||"Failed to fetch coupons")}catch(R){console.error("Error fetching coupons:",R);const Q=R instanceof Error?R.message:"Failed to fetch coupons";e(Q,"error")}finally{o(!1)}};g.useEffect(()=>{A()},[]);const O=()=>{h("add"),v(null),S({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:""}),C({}),p(!0)},I=R=>{h("edit"),v(R),S({coupon_name:R.coupon_name,coupon_title:R.coupon_title,discount_type:"percentage",discount_percentage:R.discount_percentage||0,total_coupons:R.total_coupons,is_active:R.is_active,is_featured:R.is_featured,is_one_time:R.is_one_time||!1,valid_from:R.valid_from?R.valid_from.split("T")[0]:"",valid_until:R.valid_until?R.valid_until.split("T")[0]:"",min_order_amount:R.min_order_amount||"",max_order_amount:R.max_order_amount||""}),C({}),p(!0)},M=()=>{const R={};return _.coupon_name.trim()?_.coupon_name.trim().length<3&&(R.coupon_name="Coupon code must be at least 3 characters"):R.coupon_name="Coupon code is required",_.coupon_title.trim()||(R.coupon_title="Coupon title is required"),(_.discount_percentage<=0||_.discount_percentage>100)&&(R.discount_percentage="Discount percentage must be between 1 and 100"),(!_.min_order_amount||Number(_.min_order_amount)<=0)&&(R.min_order_amount="Minimum order amount is required and must be greater than 0"),(!_.max_order_amount||Number(_.max_order_amount)<=0)&&(R.max_order_amount="Maximum order amount is required and must be greater than 0"),_.min_order_amount&&_.max_order_amount&&Number(_.min_order_amount)>=Number(_.max_order_amount)&&(R.max_order_amount="Max order amount must be greater than min order amount"),_.total_coupons<=0&&(R.total_coupons="Total coupons must be greater than 0"),_.valid_from&&_.valid_until&&new Date(_.valid_from)>new Date(_.valid_until)&&(R.valid_until="Valid until date must be after valid from date"),C(R),Object.keys(R).length===0},D=async R=>{if(R.preventDefault(),!!M()){j(!0);try{const Q=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Q){e("Please login to save coupon","error"),j(!1);return}const le={coupon_name:_.coupon_name.trim().toUpperCase(),coupon_title:_.coupon_title.trim(),discount_type:"percentage",discount_percentage:_.discount_percentage,total_coupons:_.total_coupons,is_active:_.is_active,is_featured:_.is_featured,is_one_time:_.is_one_time,min_order_amount:Number(_.min_order_amount),max_order_amount:Number(_.max_order_amount)};_.valid_from&&(le.valid_from=`${_.valid_from}T00:00:00Z`),_.valid_until&&(le.valid_until=`${_.valid_until}T23:59:59Z`);const H=f==="add"?`${zo}/admin/coupons`:`${zo}/admin/coupons/${y?.id}`,ee=await fetch(H,{method:f==="add"?"POST":"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify(le)}),ce=await ee.json();if(ee.ok)await A(),e(`Coupon ${f==="add"?"created":"updated"} successfully`,"success"),p(!1);else{const B=ce.error?.message||ce.message||`Failed to ${f==="add"?"create":"update"} coupon`;throw new Error(B)}}catch(Q){console.error(`Error ${f==="add"?"creating":"updating"} coupon:`,Q);const le=Q instanceof Error?Q.message:`Failed to ${f==="add"?"create":"update"} coupon`;e(le,"error")}finally{j(!1)}}},z=async R=>{if(confirm(`Are you sure you want to delete coupon "${R.coupon_name}"?`)){j(!0);try{const Q=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Q){e("Please login to delete coupon","error"),j(!1);return}const le=await fetch(`${zo}/admin/coupons/${R.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"}}),H=await le.json();if(le.ok)a(ee=>ee.filter(ce=>ce.id!==R.id)),e("Coupon deleted successfully","success");else throw new Error(H.error?.message||H.message||"Failed to delete coupon")}catch(Q){console.error("Error deleting coupon:",Q);const le=Q instanceof Error?Q.message:"Failed to delete coupon";e(le,"error")}finally{j(!1)}}},Y=async R=>{try{const Q=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Q){e("Please login to update coupon","error");return}const le=await fetch(`${zo}/admin/coupons/${R.id}/toggle-active`,{method:"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"}}),H=await le.json();if(le.ok)await A(),e(`Coupon ${R.is_active?"deactivated":"activated"} successfully`,"success");else throw new Error(H.error?.message||H.message||"Failed to update coupon")}catch(Q){console.error("Error toggling coupon active status:",Q);const le=Q instanceof Error?Q.message:"Failed to update coupon";e(le,"error")}},W=async R=>{try{const Q=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Q){e("Please login to update coupon","error");return}const le=await fetch(`${zo}/admin/coupons/${R.id}/toggle-featured`,{method:"PUT",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"}}),H=await le.json();if(le.ok)await A(),e(`Coupon ${R.is_featured?"unfeatured":"featured"} successfully`,"success");else throw new Error(H.error?.message||H.message||"Failed to update coupon")}catch(Q){console.error("Error toggling coupon featured status:",Q);const le=Q instanceof Error?Q.message:"Failed to update coupon";e(le,"error")}},re=n.filter(R=>R.coupon_name.toLowerCase().includes(c.toLowerCase())||R.coupon_title.toLowerCase().includes(c.toLowerCase())),U=R=>R?new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return r.jsxs(or,{children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coupon Management"}),r.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons for users"})]}),s?r.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading coupons..."})]}):r.jsxs(He,{children:[r.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[r.jsx(dt,{children:"All Coupons"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search coupons...",value:c,onChange:R=>d(R.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),r.jsxs(je,{onClick:O,className:"flex items-center space-x-2",children:[r.jsx(hn,{size:16}),r.jsx("span",{children:"Add Coupon"})]})]})]}),r.jsx(Ve,{children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left pb-4",children:"Code"}),r.jsx("th",{className:"text-left pb-4",children:"Title"}),r.jsx("th",{className:"text-left pb-4",children:"Discount"}),r.jsx("th",{className:"text-left pb-4",children:"Usage"}),r.jsx("th",{className:"text-left pb-4",children:"Status"}),r.jsx("th",{className:"text-left pb-4",children:"Valid Dates"}),r.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),r.jsx("tbody",{children:re.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-500",children:c?"No coupons found matching your search":"No coupons found. Create your first coupon!"})}):re.map(R=>r.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-bold text-primary text-lg",children:R.coupon_name}),R.is_featured&&r.jsx(fs,{className:"text-yellow-500 fill-yellow-500",size:16}),R.is_one_time&&r.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 rounded-full",children:"One Time"})]})}),r.jsx("td",{className:"py-4",children:r.jsx("div",{className:"text-gray-900 font-medium",children:R.coupon_title})}),r.jsx("td",{className:"py-4",children:r.jsxs("div",{children:[r.jsxs("span",{className:"text-lg font-bold text-green-600",children:[R.discount_percentage||0,"%"]}),(R.min_order_amount||R.max_order_amount)&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Order Range: ",R.min_order_amount||0," - ",R.max_order_amount||""]})]})}),r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"text-gray-900 font-medium",children:[R.used_count," / ",R.total_coupons]}),r.jsxs("div",{className:"text-gray-500 text-xs",children:[R.remaining_count||R.total_coupons-R.used_count," remaining"]})]})}),r.jsx("td",{className:"py-4",children:r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("button",{onClick:()=>Y(R),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors ${R.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[R.is_active?r.jsx(AI,{size:14}):r.jsx(ty,{size:14}),R.is_active?"Active":"Inactive"]})})}),r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("div",{children:["From: ",U(R.valid_from)]}),r.jsxs("div",{children:["Until: ",U(R.valid_until)]})]})}),r.jsx("td",{className:"py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>W(R),className:`p-2 rounded transition-colors ${R.is_featured?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:R.is_featured?"Unfeature":"Feature",children:R.is_featured?r.jsx(fs,{className:"fill-current",size:16}):r.jsx(PI,{size:16})}),r.jsx(je,{onClick:()=>I(R),variant:"outline",size:"sm",children:r.jsx(bI,{size:14})}),r.jsx(je,{onClick:()=>z(R),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:R.used_count>0,title:R.used_count>0?"Cannot delete used coupon":"Delete coupon",children:r.jsx(ka,{size:14})})]})})]},R.id))})]})})})]}),r.jsx(QJ,{open:u,onClose:()=>p(!1),children:r.jsxs(eZ,{children:[r.jsx(tZ,{children:r.jsx(rZ,{children:f==="add"?"Add New Coupon":"Edit Coupon"})}),r.jsxs("form",{onSubmit:D,className:"space-y-4",children:[r.jsx(ei,{label:"Coupon Code *",type:"text",value:_.coupon_name,onChange:R=>{S({..._,coupon_name:R.target.value.toUpperCase()}),P.coupon_name&&C({...P,coupon_name:""})},error:P.coupon_name,placeholder:"SAVE10",disabled:f==="edit",fullWidth:!0}),r.jsx(ei,{label:"Coupon Title *",type:"text",value:_.coupon_title,onChange:R=>{S({..._,coupon_title:R.target.value}),P.coupon_title&&C({...P,coupon_title:""})},error:P.coupon_title,placeholder:"Save 10 on booking",fullWidth:!0}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ei,{label:"Discount Percentage (%) *",type:"number",step:"0.01",min:"0",max:"100",value:_.discount_percentage,onChange:R=>{S({..._,discount_percentage:parseFloat(R.target.value)||0}),P.discount_percentage&&C({...P,discount_percentage:""})},error:P.discount_percentage,placeholder:"e.g., 10",fullWidth:!0}),r.jsx(ei,{label:"Total Coupons *",type:"number",min:"1",value:_.total_coupons,onChange:R=>{S({..._,total_coupons:parseInt(R.target.value)||1}),P.total_coupons&&C({...P,total_coupons:""})},error:P.total_coupons,fullWidth:!0})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ei,{label:"Min Order Amount () *",type:"number",step:"0.01",min:"0",value:_.min_order_amount,onChange:R=>{S({..._,min_order_amount:R.target.value?parseFloat(R.target.value):""}),P.min_order_amount&&C({...P,min_order_amount:""})},error:P.min_order_amount,placeholder:"e.g., 200",fullWidth:!0}),r.jsx(ei,{label:"Max Order Amount () *",type:"number",step:"0.01",min:"0",value:_.max_order_amount,onChange:R=>{S({..._,max_order_amount:R.target.value?parseFloat(R.target.value):""}),P.max_order_amount&&C({...P,max_order_amount:""})},error:P.max_order_amount,placeholder:"e.g., 1000",fullWidth:!0})]}),_.min_order_amount&&_.max_order_amount&&_.discount_percentage>0&&r.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-md",children:r.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["This coupon will apply ",r.jsxs("strong",{children:[_.discount_percentage,"%"]})," discount on all medicines for orders between ",r.jsxs("strong",{children:["",_.min_order_amount]})," - ",r.jsxs("strong",{children:["",_.max_order_amount]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ei,{label:"Valid From (Optional)",type:"date",value:_.valid_from,onChange:R=>{S({..._,valid_from:R.target.value}),P.valid_from&&C({...P,valid_from:""})},error:P.valid_from,fullWidth:!0}),r.jsx(ei,{label:"Valid Until (Optional)",type:"date",value:_.valid_until,onChange:R=>{S({..._,valid_until:R.target.value}),P.valid_until&&C({...P,valid_until:""})},error:P.valid_until,fullWidth:!0})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.is_active,onChange:R=>S({..._,is_active:R.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.is_featured,onChange:R=>S({..._,is_featured:R.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]}),r.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:_.is_one_time,onChange:R=>S({..._,is_one_time:R.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"One Time Use"})]})]}),_.is_one_time&&r.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:r.jsxs("p",{className:"text-sm text-amber-800",children:[r.jsx("strong",{children:"One Time Use:"})," This coupon can only be used once per user. Once a user uses this coupon, they cannot use it again."]})}),r.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[r.jsx(je,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:N,children:"Cancel"}),r.jsx(je,{type:"submit",disabled:N,isLoading:N,children:f==="add"?"Create Coupon":"Update Coupon"})]})]})]})})]})},yS="https://kwikmedi.mycartly.in",aZ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState(!1),[o,c]=g.useState(""),[d,u]=g.useState("all"),[p,f]=g.useState("all"),h=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"});g.useEffect(()=>{y()},[d,p]);const y=async()=>{s(!0);try{const b=new URLSearchParams;d!=="all"&&b.append("status",d),p!=="all"&&b.append("type",p);const _=await fetch(`${yS}/api/admin/helpdesk/tickets?${b.toString()}`,{headers:h()});if(_.ok){const S=await _.json();n(S.tickets||[])}else e("Failed to fetch tickets","error"),n([])}catch{e("Failed to fetch tickets","error"),n([])}finally{s(!1)}},v=async(b,_)=>{s(!0);try{(await fetch(`${yS}/api/admin/helpdesk/tickets/${b}/solve?type=${_}`,{method:"PUT",headers:h()})).ok?(e("Ticket marked as solved","success"),y()):e("Failed to mark ticket as solved","error")}catch{e("Failed to mark ticket as solved","error")}finally{s(!1)}},N=b=>({open:"bg-primary/20 text-primary",solved:"bg-secondary text-primary border border-primary/20",closed:"bg-primary/20 text-primary"})[b]||"bg-primary/20 text-primary",j=t.filter(b=>b.subject.toLowerCase().includes(o.toLowerCase())||b.message.toLowerCase().includes(o.toLowerCase())||b.user_name?.toLowerCase().includes(o.toLowerCase())||b.provider_name?.toLowerCase().includes(o.toLowerCase()));return r.jsx(or,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helpdesk Management"}),r.jsx("p",{className:"text-gray-600",children:"View and manage support tickets from users and vendors."})]})}),r.jsxs("div",{className:"flex gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),r.jsx("input",{type:"text",placeholder:"Search by subject, message, or user/vendor name...",value:o,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),r.jsxs("select",{value:d,onChange:b=>u(b.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"open",children:"Open"}),r.jsx("option",{value:"solved",children:"Solved"}),r.jsx("option",{value:"closed",children:"Closed"})]}),r.jsxs("select",{value:p,onChange:b=>f(b.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"user",children:"User Tickets"}),r.jsx("option",{value:"vendor",children:"Vendor Tickets"})]})]}),a?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.jsx("div",{className:"space-y-4",children:j.map(b=>r.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[r.jsx(ct,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[b.type==="user"?r.jsx(Dt,{className:"text-primary",size:20}):r.jsx(mm,{className:"text-primary",size:20}),r.jsx(dt,{className:"text-lg",children:b.subject})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(b.status)}`,children:b.status}),r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-secondary text-primary border border-primary/20",children:b.type==="user"?"User":"Vendor"})]})]})}),r.jsxs(Ve,{className:"space-y-4",children:[r.jsx("div",{className:"text-sm text-gray-700",children:r.jsx("p",{className:"mb-2",children:b.message})}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[b.type==="user"?r.jsx(r.Fragment,{children:b.user_name&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Dt,{size:14}),r.jsx("span",{children:b.user_name}),b.user_email&&r.jsxs("span",{className:"text-gray-400",children:["(",b.user_email,")"]})]})}):r.jsx(r.Fragment,{children:b.provider_name&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(mm,{size:14}),r.jsx("span",{children:b.provider_name}),b.provider_email&&r.jsxs("span",{className:"text-gray-400",children:["(",b.provider_email,")"]})]})}),b.order_id&&r.jsxs("div",{className:"text-gray-500",children:["Order ID: #",b.order_id]}),r.jsx("div",{className:"text-gray-500",children:new Date(b.created_at).toLocaleDateString()})]}),b.status==="open"&&r.jsx("div",{className:"flex gap-2 pt-2",children:r.jsxs("button",{onClick:()=>v(b.id,b.type),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[r.jsx(Wr,{size:16}),"Mark as Solved"]})})]})]},`${b.type}-${b.id}`))}),j.length===0&&!a&&r.jsx(He,{children:r.jsxs(Ve,{className:"text-center py-12",children:[r.jsx(Ja,{className:"mx-auto text-primary mb-4",size:48}),r.jsx("p",{className:"text-gray-600",children:"No tickets found"})]})})]})})},sZ={},Ti=sZ?.VITE_API_BASE_URL||"/api",iZ=()=>{const{addToast:e}=Yt(),[t,n]=g.useState([]),[a,s]=g.useState([]),[o,c]=g.useState(!0),[d,u]=g.useState(!1),[p,f]=g.useState(!1),[h,y]=g.useState(null),[v,N]=g.useState(!1),[j,b]=g.useState(""),[_,S]=g.useState(null),[P,C]=g.useState({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),[A,O]=g.useState({user_id:"",provider_id:"",booking_id:"",payment_status:""}),[I,M]=g.useState(!1),[D,z]=g.useState(null),[Y,W]=g.useState(!1),[re,U]=g.useState(""),[R,Q]=g.useState(!1),le=g.useRef(null),H=g.useRef(null);g.useEffect(()=>{const K=oe=>{H.current&&!H.current.contains(oe.target)&&le.current&&!le.current.contains(oe.target)&&Q(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),g.useEffect(()=>{ee(),ce()},[A]);const ee=async()=>{const K=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(K){c(!0);try{const oe=new URLSearchParams;Object.entries(A).forEach(([ve,Pe])=>{Pe&&oe.append(ve,Pe)});const te=await fetch(`${Ti}/admin/bills?${oe.toString()}`,{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(te.ok){const ve=await te.json();n(ve.bills||[])}}catch{e("Failed to load bills","error")}finally{c(!1)}}},ce=async()=>{const K=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(K)try{const oe=await fetch(`${Ti}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(oe.ok){const te=await oe.json(),ve=te.data||te.bookings||[];s(ve.map(Pe=>({id:Pe.id,user_id:Pe.user_id,provider_id:Pe.provider_id,service_name:Pe.service_name||Pe.service_title||"Service",user_name:Pe.user_name||Pe.user?.full_name||Pe.user?.name||`User #${Pe.user_id}`,provider_name:Pe.provider_name||Pe.provider?.full_name||Pe.provider?.name||(Pe.provider_id?`Provider #${Pe.provider_id}`:"Unassigned"),payment_amount:Pe.payment_amount||Pe.total_amount||0})))}}catch(oe){console.error("Failed to load bookings:",oe)}},B=async K=>{const oe=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(oe){W(!0),z(null);try{let te=null,ve=[],Pe={total_amount:0,paid_amount:0,outstanding_amount:0};const Ze=a.find(he=>he.id===K);Ze&&(te={id:Ze.id,user_id:Ze.user_id,provider_id:Ze.provider_id,service_name:Ze.service_name,service_title:Ze.service_name,user_name:Ze.user_name,provider_name:Ze.provider_name,payment_amount:Ze.payment_amount||0,user_full_name:Ze.user_name,provider_full_name:Ze.provider_name});try{const he=await fetch(`${Ti}/admin/bills/booking/${K}`,{headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}});if(he.ok){const pe=await he.json();pe.booking&&(te={id:pe.booking.id,user_id:pe.booking.user_id,provider_id:pe.booking.provider_id,service_name:pe.booking.service_title||pe.booking.service_name||"Service",service_title:pe.booking.service_title,user_name:pe.booking.user_full_name||pe.booking.user_name||`User #${pe.booking.user_id}`,provider_name:pe.booking.provider_full_name||pe.booking.provider_name||(pe.booking.provider_id?`Provider #${pe.booking.provider_id}`:"Unassigned"),payment_amount:pe.booking.payment_amount||pe.booking.service_price_discounted||pe.booking.service_price_original||0,user_full_name:pe.booking.user_full_name,provider_full_name:pe.booking.provider_full_name}),Pe=pe.outstanding_info||{total_amount:te?.payment_amount||0,paid_amount:0,outstanding_amount:te?.payment_amount||0},ve=pe.bills||[]}else if(he.status===404)console.log("Booking not found in bills endpoint, using data from bookings list");else{const pe=await he.json().catch(()=>({}));console.error("Bills endpoint error:",pe)}}catch(he){console.error("Error fetching from bills endpoint:",he)}if(!te)try{const he=await fetch(`${Ti}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}});if(he.ok){const pe=await he.json(),Oe=(pe.data||pe.bookings||[]).find(me=>me.id===K);Oe&&(te={id:Oe.id,user_id:Oe.user_id,provider_id:Oe.provider_id,service_name:Oe.service_title||Oe.service_name||"Service",service_title:Oe.service_title,user_name:Oe.user_full_name||Oe.user_name||`User #${Oe.user_id}`,provider_name:Oe.provider_full_name||Oe.provider_name||(Oe.provider_id?`Provider #${Oe.provider_id}`:"Unassigned"),payment_amount:Oe.payment_amount||Oe.service_price_discounted||Oe.service_price_original||0,user_full_name:Oe.user_full_name,provider_full_name:Oe.provider_full_name})}}catch(he){console.error("Error fetching from appointments endpoint:",he)}te?(Pe.total_amount===0&&te.payment_amount&&(Pe={total_amount:te.payment_amount,paid_amount:ve.reduce((he,pe)=>he+pe.bill_amount,0),outstanding_amount:te.payment_amount-ve.reduce((he,pe)=>he+pe.bill_amount,0)}),z({booking:te,outstanding_info:Pe,bills:ve}),Pe.outstanding_amount>0&&C(he=>({...he,bill_amount:Pe.outstanding_amount.toString()}))):(e(`Booking #${K} not found. Please check the booking ID.`,"error"),z(null))}catch(te){console.error("Failed to load booking details:",te),e("Failed to load booking details. Please try again.","error"),z(null)}finally{W(!1)}}},$=K=>{const oe=parseInt(K);if(isNaN(oe)){e("Please enter a valid booking ID","error");return}C({...P,booking_id:K});const te=a.find(ve=>ve.id===oe);U(te?`#${te.id} - ${te.service_name} - ${te.user_name}`:`#${oe}`),Q(!1),B(oe)},G=a.filter(K=>{if(!re)return!1;const oe=re.toLowerCase();return K.id.toString().includes(oe)||K.service_name.toLowerCase().includes(oe)||K.user_name.toLowerCase().includes(oe)||K.provider_name.toLowerCase().includes(oe)}),ge=async K=>{K.preventDefault();const oe=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(oe){if(!D){e("Please select a booking first","error");return}M(!0);try{const te=await fetch(`${Ti}/admin/bills/generate`,{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"},body:JSON.stringify({booking_id:parseInt(P.booking_id),user_id:D.booking.user_id,provider_id:D.booking.provider_id||null,bill_amount:parseFloat(P.bill_amount),generated_by:"Admin",notes:P.notes})});if(te.ok)e("Bill generated successfully","success"),u(!1),C({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),U(""),z(null),ee(),D&&D.booking.id&&B(D.booking.id);else{const ve=await te.json();throw new Error(ve.error?.message||"Failed to generate bill")}}catch(te){e(te.message||"Failed to generate bill","error")}finally{M(!1)}}},ue=async K=>{const oe=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(oe)try{const te=await fetch(`${Ti}/admin/bills/${K}`,{headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}});if(te.ok){const ve=await te.json();y(ve.bill),f(!0)}}catch{e("Failed to load bill details","error")}},se=async(K,oe,te)=>{const ve=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ve)try{const Pe={payment_status:oe};oe==="partial"&&te!==void 0&&(Pe.paid_amount=te);const Ze=await fetch(`${Ti}/admin/bills/${K}/update-payment-status`,{method:"POST",headers:{Authorization:`Bearer ${ve}`,"Content-Type":"application/json"},body:JSON.stringify(Pe)});if(Ze.ok){if(e("Payment status updated","success"),ee(),h?.id===K){const he=await Ze.json();y(he.bill)}D&&D.booking.id&&B(D.booking.id)}else{const he=await Ze.json();e(he.error?.message||"Failed to update payment status","error")}}catch{e("Failed to update payment status","error")}},xe=()=>{if(!_)return;const K=parseFloat(j);if(isNaN(K)||K<=0){e("Please enter a valid payment amount","error");return}se(_,"partial",K),N(!1),b(""),S(null)},Ne=K=>`${K.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,T=K=>new Date(K).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return r.jsx(or,{children:r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bill Management"}),r.jsx("p",{className:"text-gray-600",children:"Generate and manage bills for bookings"})]}),r.jsxs(je,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[r.jsx(hn,{size:16}),"Generate Bill"]})]}),r.jsx(He,{className:"mb-6",children:r.jsx(Ve,{className:"pt-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"User ID"}),r.jsx("input",{type:"number",value:A.user_id,onChange:K=>O({...A,user_id:K.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by user"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider ID"}),r.jsx("input",{type:"number",value:A.provider_id,onChange:K=>O({...A,provider_id:K.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by provider"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID"}),r.jsx("input",{type:"number",value:A.booking_id,onChange:K=>O({...A,booking_id:K.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by booking"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),r.jsxs("select",{value:A.payment_status,onChange:K=>O({...A,payment_status:K.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"All"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"paid",children:"Paid"}),r.jsx("option",{value:"partial",children:"Partial"})]})]})]})})}),r.jsxs(He,{children:[r.jsx(ct,{children:r.jsx(dt,{children:"All Bills"})}),r.jsx(Ve,{children:o?r.jsx(il,{}):t.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bills found"}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Bill Number"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Outstanding"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Generated"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(K=>{const oe=a.find(te=>te.id===K.booking_id);return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:K.bill_number}),r.jsxs("td",{className:"px-4 py-3 text-sm",children:["#",K.booking_id]}),r.jsx("td",{className:"px-4 py-3 text-sm",children:oe?.user_name||`User #${K.user_id}`}),r.jsx("td",{className:"px-4 py-3 text-sm",children:Ne(K.bill_amount)}),r.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:K.current_outstanding_amount!==void 0?Ne(K.current_outstanding_amount):Ne(K.outstanding_amount)}),r.jsx("td",{className:"px-4 py-3",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${K.payment_status==="paid"?"bg-green-100 text-green-800":K.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:K.payment_status})}),r.jsx("td",{className:"px-4 py-3 text-sm",children:T(K.generated_at)}),r.jsx("td",{className:"px-4 py-3",children:r.jsx(je,{onClick:()=>ue(K.id),variant:"ghost",size:"sm",children:r.jsx(to,{size:16})})})]},K.id)})})]})})})]}),d&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Generate Bill"}),r.jsx("button",{onClick:()=>u(!1),children:r.jsx(gt,{size:20})})]}),r.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID / Select Booking"}),r.jsxs("div",{className:"relative",ref:H,children:[r.jsx("input",{ref:le,type:"text",value:re,onChange:K=>{const oe=K.target.value;U(oe),Q(oe.length>0);const te=oe.match(/^#?(\d+)$/);if(te){const ve=parseInt(te[1]);C({...P,booking_id:ve.toString()})}else oe.length===0&&(C({...P,booking_id:""}),z(null))},onKeyDown:K=>{if(K.key==="Enter"){K.preventDefault();const oe=re.match(/^#?(\d+)$/);if(oe){const te=parseInt(oe[1]);$(te.toString())}else P.booking_id&&$(P.booking_id)}K.key==="Escape"&&Q(!1)},onFocus:()=>{re&&Q(!0)},placeholder:"Enter booking ID (e.g., 65) or search by service/user name...",className:"w-full px-3 py-2 border rounded-md",required:!0}),R&&re&&r.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:G.length>0?G.slice(0,10).map(K=>r.jsxs("div",{onClick:()=>$(K.id.toString()),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100",children:[r.jsxs("div",{className:"font-medium",children:["#",K.id," - ",K.service_name]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[K.user_name,"  ",K.provider_name]})]},K.id)):r.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No bookings found. You can enter booking ID directly (e.g., 65) and press Enter."})})]}),P.booking_id&&r.jsx("input",{type:"hidden",name:"booking_id",value:P.booking_id})]}),D&&r.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-lg p-5 space-y-4 shadow-sm",children:[r.jsxs("div",{className:"flex items-center justify-between border-b-2 border-blue-200 pb-3",children:[r.jsx("h4",{className:"font-bold text-lg text-gray-900",children:" Booking Details"}),r.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:["ID: #",D.booking.id||P.booking_id]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[r.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Service"}),r.jsx("span",{className:"font-semibold text-gray-900 text-base",children:D.booking.service_name||D.booking.service_title||"N/A"})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[r.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Booking ID"}),r.jsxs("span",{className:"font-semibold text-gray-900 text-base",children:["#",D.booking.id||P.booking_id]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[r.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"User"}),r.jsx("span",{className:"font-semibold text-gray-900 text-base",children:D.booking.user_full_name||D.booking.user_name||`User #${D.booking.user_id}`})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[r.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Provider"}),r.jsx("span",{className:"font-semibold text-gray-900 text-base",children:D.booking.provider_full_name||D.booking.provider_name||(D.booking.provider_id?`Provider #${D.booking.provider_id}`:"Unassigned")})]})]}),r.jsxs("div",{className:"bg-white rounded p-3 border border-primary/20",children:[r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Booking Amount:"}),r.jsx("span",{className:"font-semibold text-lg text-gray-900",children:Ne(D.outstanding_info.total_amount)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Billed Amount:"}),r.jsx("span",{className:"font-semibold text-lg text-green-600",children:Ne(D.bills.reduce((K,oe)=>K+oe.bill_amount,0))}),D.bills.length>0&&r.jsxs("span",{className:"text-xs text-gray-500 block mt-1",children:["(",D.bills.length," ",D.bills.length===1?"bill":"bills",")"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600 block text-xs",children:"Outstanding Amount:"}),r.jsx("span",{className:"font-semibold text-lg text-red-600",children:Ne(D.outstanding_info.outstanding_amount)}),r.jsx("span",{className:"text-xs text-gray-500 block mt-1",children:"(Remaining to bill)"})]})]}),r.jsx("div",{className:"border-t pt-2 mt-2 text-xs text-gray-600",children:r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Calculation:"}),r.jsxs("span",{className:"font-medium",children:["Total (",Ne(D.outstanding_info.total_amount),") - Billed (",Ne(D.bills.reduce((K,oe)=>K+oe.bill_amount,0)),") = Outstanding (",Ne(D.outstanding_info.outstanding_amount),")"]})]})})]}),r.jsxs("div",{children:[r.jsxs("h5",{className:"font-medium text-gray-900 mb-2",children:["Bill History",D.bills.length>0&&r.jsxs("span",{className:"text-gray-500 font-normal",children:["(",D.bills.length," ",D.bills.length===1?"bill":"bills",")"]})]}),D.bills.length>0?r.jsx("div",{className:"bg-white rounded border border-gray-200 max-h-48 overflow-y-auto",children:r.jsxs("table",{className:"w-full text-xs",children:[r.jsx("thead",{className:"bg-gray-50 sticky top-0",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Bill #"}),r.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Amount"}),r.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Status"}),r.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Generated Date"}),r.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Paid Date"})]})}),r.jsx("tbody",{children:D.bills.map((K,oe)=>r.jsxs("tr",{className:`border-b hover:bg-gray-50 ${oe===D.bills.length-1?"border-b-2 border-primary/20":""}`,children:[r.jsx("td",{className:"px-3 py-2 font-medium",children:K.bill_number}),r.jsx("td",{className:"px-3 py-2 font-semibold",children:Ne(K.bill_amount)}),r.jsx("td",{className:"px-3 py-2",children:r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${K.payment_status==="paid"?"bg-green-100 text-green-800":K.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:K.payment_status.charAt(0).toUpperCase()+K.payment_status.slice(1)})}),r.jsx("td",{className:"px-3 py-2",children:T(K.generated_at)}),r.jsx("td",{className:"px-3 py-2",children:K.paid_at?r.jsx("span",{className:"text-green-600",children:T(K.paid_at)}):r.jsx("span",{className:"text-gray-400",children:"-"})})]},K.id))}),r.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-primary/20",children:r.jsxs("tr",{children:[r.jsx("td",{colSpan:2,className:"px-3 py-2 font-semibold text-right",children:"Total Billed:"}),r.jsx("td",{colSpan:3,className:"px-3 py-2 font-bold text-lg",children:Ne(D.bills.reduce((K,oe)=>K+oe.bill_amount,0))})]})})]})}):r.jsx("div",{className:"bg-white rounded border border-gray-200 p-4 text-center text-gray-500 text-sm",children:"No bills generated yet for this booking. The outstanding amount shown above is the total booking amount."})]})]}),Y&&r.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading booking details..."}),D&&r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"User"}),r.jsx("input",{type:"text",value:D.booking.user_full_name||D.booking.user_name||`User #${D.booking.user_id}`,readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),r.jsx("input",{type:"hidden",name:"user_id",value:D.booking.user_id})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider"}),r.jsx("input",{type:"text",value:D.booking.provider_full_name||D.booking.provider_name||(D.booking.provider_id?`Provider #${D.booking.provider_id}`:"Unassigned"),readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),D.booking.provider_id&&r.jsx("input",{type:"hidden",name:"provider_id",value:D.booking.provider_id})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bill Amount ()"}),r.jsx("input",{type:"number",step:"0.01",value:P.bill_amount,onChange:K=>C({...P,bill_amount:K.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes (Optional)"}),r.jsx("textarea",{value:P.notes,onChange:K=>C({...P,notes:K.target.value}),className:"w-full px-3 py-2 border rounded-md",rows:3})]}),r.jsxs("div",{className:"flex justify-end gap-3",children:[r.jsx(je,{type:"button",variant:"outline",onClick:()=>{u(!1),C({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),U(""),z(null),Q(!1)},onBlur:()=>setTimeout(()=>Q(!1),200),children:"Cancel"}),r.jsx(je,{type:"submit",disabled:I,children:I?"Generating...":"Generate Bill"})]})]})]})}),v&&_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Enter Partial Payment Amount"}),r.jsx("button",{onClick:()=>{N(!1),b(""),S(null)},children:r.jsx(gt,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[h&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[r.jsx("div",{className:"text-sm text-gray-600",children:"Bill Amount:"}),r.jsx("div",{className:"text-lg font-semibold",children:Ne(h.bill_amount)}),h.outstanding_amount>0&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Outstanding:"}),r.jsx("div",{className:"text-base font-medium text-red-600",children:Ne(h.outstanding_amount)})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Paid ()"}),r.jsx("input",{type:"number",step:"0.01",min:"0.01",max:h?.outstanding_amount||h?.bill_amount||0,value:j,onChange:K=>b(K.target.value),placeholder:"Enter amount being paid",className:"w-full px-3 py-2 border rounded-md",autoFocus:!0,onKeyDown:K=>{K.key==="Enter"&&(K.preventDefault(),xe())}}),h&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",Ne(h.outstanding_amount||h.bill_amount)]})]}),r.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[r.jsx(je,{type:"button",variant:"outline",onClick:()=>{N(!1),b(""),S(null)},children:"Cancel"}),r.jsx(je,{onClick:xe,disabled:!j||parseFloat(j)<=0,children:"Confirm Partial Payment"})]})]})]})}),p&&h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Bill Details - ",h.bill_number]}),r.jsx("button",{onClick:()=>f(!1),children:r.jsx(gt,{size:20})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bill Number"}),r.jsx("p",{className:"text-lg font-semibold",children:h.bill_number})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Amount"}),r.jsx("p",{className:"text-lg font-semibold text-green-600",children:Ne(h.bill_amount)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),r.jsx("p",{className:"text-lg font-semibold",children:Ne(h.outstanding_amount)})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),r.jsx("p",{className:"text-lg",children:r.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${h.payment_status==="paid"?"bg-green-100 text-green-800":h.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.payment_status})})]})]}),h.notes&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Notes"}),r.jsx("p",{className:"text-sm",children:h.notes})]}),r.jsx("div",{className:"flex gap-3 pt-4 border-t",children:r.jsx(je,{onClick:()=>se(h.id,"paid"),className:"bg-green-600 hover:bg-green-700",disabled:h.payment_status==="paid",children:"Mark as Paid"})})]})]})})]})})},xO={},va=xO?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",oZ=xO?.VITE_BACKEND_BASE_URL||"https://kwikmedi.mycartly.in",Qu=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let n=t.replace(/\\/g,"/");return n.startsWith("public/")?n=n.slice(7):n.startsWith("/public/")&&(n=n.slice(8)),n=n.startsWith("/")?n:`/${n}`,`${oZ}${n}`},lZ={Draft:"bg-amber-100 text-amber-700 border border-amber-200",Published:"bg-emerald-100 text-emerald-700 border border-emerald-200",Active:"bg-orange-100 text-orange-700 border border-orange-200",Inactive:"bg-rose-100 text-rose-500 border border-rose-200"},Yx=()=>{const{addToast:e}=Yt(),a=an().pathname.includes("/banners")?"banners":"blogs",[s,o]=g.useState([]),[c,d]=g.useState([]),[u,p]=g.useState([]),[f,h]=g.useState([]),[y,v]=g.useState(!1),[N,j]=g.useState(!1),[b,_]=g.useState(!1),[S,P]=g.useState(!1),[C,A]=g.useState(null),[O,I]=g.useState(null),[M,D]=g.useState({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),[z,Y]=g.useState({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),[W,re]=g.useState(null),U=(T=!1)=>{const K=localStorage.getItem("KwikMedi_token"),oe={};return K&&(oe.Authorization=`Bearer ${K}`),T&&(oe["Content-Type"]="application/json"),oe},R=async()=>{v(!0);try{const T=await fetch(`${va}/admin/blogs`,{headers:U()});if(!T.ok)throw new Error(`HTTP error! status: ${T.status}`);const K=await T.json();K.success&&Array.isArray(K.blogs)?o(K.blogs):e("Failed to load blogs","error")}catch(T){console.error("Error fetching blogs:",T),e(`Error loading blogs: ${T instanceof Error?T.message:"Unknown error"}`,"error")}finally{v(!1)}},Q=async()=>{v(!0);try{const T=await fetch(`${va}/admin/banners`,{headers:U()});if(!T.ok)throw new Error(`HTTP error! status: ${T.status}`);const K=await T.json();K.success&&Array.isArray(K.banners)?d(K.banners):e("Failed to load banners","error")}catch(T){console.error("Error fetching banners:",T),e(`Error loading banners: ${T instanceof Error?T.message:"Unknown error"}`,"error")}finally{v(!1)}},le=async()=>{try{const T=await fetch(`${va}/admin/categories`,{headers:U()});if(!T.ok)throw new Error(`HTTP error! status: ${T.status}`);const K=await T.json();Array.isArray(K.categories)&&p(K.categories)}catch(T){console.error("Error fetching categories:",T)}},H=async()=>{try{const T=await fetch(`${va}/admin/inventory?is_discontinued=0`,{headers:U()});if(!T.ok)throw new Error(`HTTP error! status: ${T.status}`);const K=await T.json();if(Array.isArray(K.inventory)){const oe=K.inventory.filter(te=>!te.is_discontinued&&te.stock_quantity>0);h(oe)}}catch(T){console.error("Error fetching products:",T)}};g.useEffect(()=>{R(),Q(),le(),H()},[]);const ee=g.useMemo(()=>{const T=s.length,K=s.filter(te=>te.status==="Published").length,oe=s.filter(te=>te.status==="Draft").length;return[{label:"Total Posts",value:T,subtitle:"Across pet care categories",icon:r.jsx(ng,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Published",value:K,subtitle:"Live on the site",icon:r.jsx(Ki,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Drafts",value:oe,subtitle:"Ready for review",icon:r.jsx(Sr,{className:"text-amber-500",size:22}),gradient:"from-amber-100 to-orange-50"}]},[]),ce=g.useMemo(()=>{const T=c.length,K=c.filter(te=>te.status==="Active").length,oe=c.filter(te=>te.status==="Inactive").length;return[{label:"Total Banners",value:T,subtitle:"Displayed across pages",icon:r.jsx(vI,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Active",value:K,subtitle:"Currently visible",icon:r.jsx(sg,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Inactive",value:oe,subtitle:"Hidden banners",icon:r.jsx(ty,{className:"text-rose-500",size:22}),gradient:"from-rose-100 to-rose-50"}]},[]),B=async T=>{T.preventDefault(),j(!0);try{const K=localStorage.getItem("KwikMedi_token");let oe;if(M.image instanceof File){const ve=new FormData;ve.append("title",M.title),ve.append("category",M.category),ve.append("status",M.status),M.author&&ve.append("author",M.author),M.excerpt&&ve.append("excerpt",M.excerpt),M.content&&ve.append("content",M.content),ve.append("image",M.image),oe=await fetch(`${va}/admin/blogs${C?`/${C.id}`:""}`,{method:C?"PUT":"POST",headers:{Authorization:`Bearer ${K}`},body:ve})}else{const ve={title:M.title,category:M.category,status:M.status};M.author&&(ve.author=M.author),M.excerpt&&(ve.excerpt=M.excerpt),M.content&&(ve.content=M.content),typeof M.image=="string"&&M.image&&(ve.image=M.image),oe=await fetch(`${va}/admin/blogs${C?`/${C.id}`:""}`,{method:C?"PUT":"POST",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"},body:JSON.stringify(ve)})}const te=await oe.json();oe.ok&&te.success?(await R(),e(C?"Blog updated successfully":"Blog created successfully","success"),_(!1),ue()):e(te.error?.message||"Failed to save blog","error")}catch(K){console.error("Error saving blog:",K),e("Error saving blog","error")}finally{j(!1)}},$=async T=>{if(T.preventDefault(),z.link_type==="category"){if(!z.category_id||z.category_id===0){e("Please select a category","error");return}}else if(z.link_type==="product"&&(!z.product_id||z.product_id===0)){e("Please select a product","error");return}j(!0);try{const K=localStorage.getItem("KwikMedi_token");let oe;if(z.image instanceof File){const ve=new FormData;ve.append("link_type",z.link_type),z.link_type==="category"?ve.append("category_id",z.category_id.toString()):z.link_type==="product"&&ve.append("product_id",z.product_id.toString()),ve.append("sequence",z.sequence.toString()),ve.append("image",z.image),oe=await fetch(`${va}/admin/banners${O?`/${O.id}`:""}`,{method:O?"PUT":"POST",headers:{Authorization:`Bearer ${K}`},body:ve})}else{const ve={link_type:z.link_type,sequence:z.sequence};z.link_type==="category"?ve.category_id=z.category_id:z.link_type==="product"&&(ve.product_id=z.product_id),typeof z.image=="string"&&z.image&&(ve.image=z.image),oe=await fetch(`${va}/admin/banners${O?`/${O.id}`:""}`,{method:O?"PUT":"POST",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"},body:JSON.stringify(ve)})}const te=await oe.json();oe.ok&&te.success?(await Q(),e(O?"Banner updated successfully":"Banner created successfully","success"),P(!1),se()):e(te.error?.message||"Failed to save banner","error")}catch(K){console.error("Error saving banner:",K),e("Error saving banner","error")}finally{j(!1)}},G=async T=>{if(confirm("Are you sure you want to delete this blog post?"))try{const K=localStorage.getItem("KwikMedi_token"),oe=await fetch(`${va}/admin/blogs/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}}),te=await oe.json();oe.ok&&te.success?(await R(),e("Blog deleted successfully","success")):e(te.error?.message||"Failed to delete blog","error")}catch(K){console.error("Error deleting blog:",K),e("Error deleting blog","error")}},ge=async T=>{if(confirm("Are you sure you want to delete this banner?"))try{const K=localStorage.getItem("KwikMedi_token"),oe=await fetch(`${va}/admin/banners/${T}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`}}),te=await oe.json();oe.ok&&te.success?(await Q(),e("Banner deleted successfully","success")):e(te.error?.message||"Failed to delete banner","error")}catch(K){console.error("Error deleting banner:",K),e("Error deleting banner","error")}},ue=()=>{D({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),A(null),re(null)},se=()=>{Y({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),I(null),re(null)},xe=T=>{A(T),D({title:T.title,category:T.category,status:T.status,author:T.author||"",excerpt:T.excerpt||"",content:T.content||"",image:T.image_url}),re(T.image_url?Qu(T.image_url):null),_(!0)},Ne=T=>{I(T);const K=T.link_type||(T.category_id?"category":T.product_id?"product":"category");Y({link_type:K,category_id:T.category_id||0,product_id:T.product_id||0,sequence:T.sequence||0,image:T.image_url}),re(T.image_url?Qu(T.image_url):null),P(!0)};return r.jsx(or,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Site Experience"}),r.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"Site Management Studio"}),r.jsx("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:"Manage the KwikMedi story with fresh blog posts, vibrant banners, and curated experiences for pet parents exploring training, grooming, healthcare, and nutrition."})]}),r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{type:"button",className:"rounded-xl bg-white px-5 py-2 text-sm font-semibold text-orange-600 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>console.log("Preview site"),children:"Preview Site"}),r.jsx("button",{type:"button",className:"rounded-xl bg-orange-600 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-orange-700",onClick:()=>console.log("Create content"),children:"Create Content"})]})]})}),r.jsx(He,{className:"rounded-3xl border border-orange-100/70 bg-white/95 shadow-lg",children:r.jsxs(Ve,{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Manage"}),r.jsx("h2",{className:"mt-1 text-2xl font-semibold text-orange-900",children:"Content Hubs"})]})}),a==="blogs"?r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:ee.map(T=>r.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:r.jsxs(Ve,{className:"flex items-center gap-4 p-5",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${T.gradient}`,children:T.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:T.label}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:T.value}),r.jsx("p",{className:"text-xs text-orange-400",children:T.subtitle})]})]})},T.label))}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[r.jsx(He,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:r.jsxs(Ve,{className:"space-y-5 p-6",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:r.jsx(ng,{size:22})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Create New Blog Post"}),r.jsx("p",{className:"text-sm text-orange-500",children:"Draft insights, publish stories, and keep pet parents inspired."})]})]}),r.jsxs("form",{className:"space-y-4",onSubmit:B,children:[r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Title"}),r.jsx("input",{type:"text",placeholder:"Enter engaging headline",value:M.title,onChange:T=>D({...M,title:T.target.value}),required:!0,className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[r.jsx(ra,{size:16,className:"text-orange-400"}),r.jsxs("select",{value:M.category,onChange:T=>D({...M,category:T.target.value}),className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[r.jsx("option",{children:"Training"}),r.jsx("option",{children:"Grooming"}),r.jsx("option",{children:"Healthcare"}),r.jsx("option",{children:"Nutrition"})]})]})]})]}),r.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Featured Image"}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(qo,{size:18}),r.jsx("span",{children:"Upload high-quality hero image"})]}),r.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[r.jsx(Jo,{size:14,className:"inline mr-1"}),"Choose File",r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:T=>{const K=T.target.files?.[0];if(K){const oe=URL.createObjectURL(K);re(oe),D({...M,image:K})}}})]})]}),r.jsx("input",{type:"url",value:typeof M.image=="string"?M.image:"",onChange:T=>{D({...M,image:T.target.value}),re(T.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),W&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:W,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Status"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900",children:[r.jsx(ty,{size:18,className:"text-orange-400"}),r.jsxs("select",{value:M.status,onChange:T=>D({...M,status:T.target.value}),className:"flex-1 bg-transparent outline-none",children:[r.jsx("option",{children:"Draft"}),r.jsx("option",{children:"Published"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Excerpt"}),r.jsx("textarea",{rows:3,placeholder:"Short summary for preview cards...",value:M.excerpt,onChange:T=>D({...M,excerpt:T.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),r.jsxs("div",{className:"mt-2",children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Content (optional)"}),r.jsx("textarea",{rows:5,placeholder:"Full blog content...",value:M.content,onChange:T=>D({...M,content:T.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Author (optional)"}),r.jsx("input",{type:"text",placeholder:"Author name",value:M.author,onChange:T=>D({...M,author:T.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[r.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>_(!1),children:"Cancel"}),r.jsx("button",{type:"submit",disabled:N,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:N?"Saving...":C?"Update Post":"Publish Post"})]})]})]})}),r.jsx("div",{className:"space-y-4",children:y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(oa,{className:"w-8 h-8 animate-spin text-orange-400"})}):s.length===0?r.jsxs("div",{className:"text-center py-12 text-orange-400",children:[r.jsx(ng,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"No blog posts yet. Create your first post!"})]}):s.map(T=>r.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:r.jsxs(Ve,{className:"flex flex-col gap-4 p-5 sm:flex-row sm:gap-5",children:[r.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 sm:w-44",children:T.image_url?r.jsx("img",{src:Qu(T.image_url),alt:T.title,className:"h-full w-full object-cover"}):r.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:r.jsx(qo,{className:"text-orange-300",size:32})})}),r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[r.jsx(sI,{size:14}),T.category]}),r.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${lZ[T.status]}`,children:T.status})]}),r.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:T.title}),r.jsx("p",{className:"text-sm text-orange-500",children:T.excerpt||"No excerpt"}),r.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-orange-400",children:[T.author&&r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(Dt,{size:14}),T.author]}),r.jsxs("span",{className:"inline-flex items-center gap-2",children:[r.jsx(kr,{size:14}),T.published_at?new Date(T.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not published"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2 self-end sm:flex-col sm:items-end",children:[r.jsxs("button",{type:"button",onClick:()=>xe(T),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[r.jsx(ig,{size:14,className:"inline mr-1"}),"Edit"]}),r.jsxs("button",{type:"button",onClick:()=>G(T.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[r.jsx(ka,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},T.id))})]})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold text-orange-900",children:"Banner Management"}),r.jsx("p",{className:"mt-1 text-sm text-orange-500",children:"Create and manage site banners"})]}),r.jsxs("button",{type:"button",onClick:()=>{se()},className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500",children:[r.jsx(hn,{size:18}),"Add New Banner"]})]}),r.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:ce.map(T=>r.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:r.jsxs(Ve,{className:"flex items-center gap-4 p-5",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${T.gradient}`,children:T.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:T.label}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:T.value}),r.jsx("p",{className:"text-xs text-orange-400",children:T.subtitle})]})]})},T.label))}),r.jsxs("div",{className:"grid gap-6 lg:grid-cols-[0.9fr,1.1fr]",children:[r.jsx(He,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:r.jsxs(Ve,{className:"space-y-5 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:r.jsx(sg,{size:22})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:O?"Edit Banner":"Create New Banner"}),r.jsx("p",{className:"text-sm text-orange-500",children:O?"Update banner details and settings":"Craft hero banners with tailored CTAs for each section."})]})]}),O&&r.jsxs("button",{type:"button",onClick:()=>se(),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[r.jsx(gt,{size:14,className:"inline mr-1"}),"Cancel Edit"]})]}),r.jsxs("form",{className:"space-y-4",onSubmit:$,children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Link Type"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[r.jsx(xI,{size:16,className:"text-orange-400"}),r.jsxs("select",{value:z.link_type,onChange:T=>{const K=T.target.value;Y({...z,link_type:K,category_id:K==="category"?z.category_id:0,product_id:K==="product"?z.product_id:0})},className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[r.jsx("option",{value:"category",children:"Category"}),r.jsx("option",{value:"product",children:"Product"})]})]}),r.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Choose what the banner should link to"})]}),z.link_type==="category"?r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[r.jsx(ra,{size:16,className:"text-orange-400"}),r.jsxs("select",{value:z.category_id,onChange:T=>Y({...z,category_id:parseInt(T.target.value)||0}),required:z.link_type==="category",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[r.jsx("option",{value:"0",children:"Select a category"}),u.map(T=>r.jsx("option",{value:T.id,children:T.name},T.id))]})]}),r.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link to services in this category"})]}):r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Product"}),r.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[r.jsx(ra,{size:16,className:"text-orange-400"}),r.jsxs("select",{value:z.product_id,onChange:T=>Y({...z,product_id:parseInt(T.target.value)||0}),required:z.link_type==="product",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[r.jsx("option",{value:"0",children:"Select a product"}),f.map(T=>r.jsxs("option",{value:T.id,children:[T.medicine_name," (",T.price,")"]},T.id))]})]}),r.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link directly to this product"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Sequence"}),r.jsx("input",{type:"number",min:"0",placeholder:"0",value:z.sequence,onChange:T=>Y({...z,sequence:parseInt(T.target.value)||0}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),r.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Lower numbers appear first"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Banner Image"}),r.jsxs("div",{className:"mt-2 space-y-2",children:[r.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(qo,{size:18}),r.jsx("span",{children:"Upload high-quality hero image"})]}),r.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[r.jsx(Jo,{size:14,className:"inline mr-1"}),"Choose File",r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:T=>{const K=T.target.files?.[0];if(K){const oe=URL.createObjectURL(K);re(oe),Y({...z,image:K})}}})]})]}),r.jsx("input",{type:"url",value:typeof z.image=="string"?z.image:"",onChange:T=>{Y({...z,image:T.target.value}),re(T.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),W&&r.jsx("div",{className:"mt-2",children:r.jsx("img",{src:W,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),r.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[O&&r.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>se(),children:"Cancel"}),r.jsx("button",{type:"submit",disabled:N,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:N?"Saving...":O?"Update Banner":"Create Banner"})]})]})]})}),r.jsx("div",{className:"space-y-4",children:y?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx(oa,{className:"w-8 h-8 animate-spin text-orange-400"})}):c.length===0?r.jsxs("div",{className:"text-center py-12 text-orange-400",children:[r.jsx(sg,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"No banners yet. Create your first banner!"})]}):c.map(T=>r.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:r.jsxs(Ve,{className:"flex flex-col gap-4 p-5 md:flex-row md:items-center md:gap-6",children:[r.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 md:w-48",children:T.image_url?r.jsx("img",{src:Qu(T.image_url),alt:T.category_name||`Banner ${T.id}`,className:"h-full w-full object-cover"}):r.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:r.jsx(qo,{className:"text-orange-300",size:32})})}),r.jsx("div",{className:"flex-1 space-y-3",children:r.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[T.link_type==="product"&&T.product_id?r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-purple-50 px-3 py-1 text-xs font-semibold text-purple-600",children:[r.jsx(ra,{size:14}),"Product: ",T.product_name||`ID: ${T.product_id}`]}):r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold text-orange-600",children:[r.jsx(ra,{size:14}),"Category: ",T.category_name||`ID: ${T.category_id}`]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/5 px-3 py-1 text-xs font-semibold text-primary",children:["Sequence: ",T.sequence||0]})]})}),r.jsxs("div",{className:"flex items-center gap-2 self-end md:flex-col md:items-end",children:[r.jsxs("button",{type:"button",onClick:()=>Ne(T),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[r.jsx(ig,{size:14,className:"inline mr-1"}),"Edit"]}),r.jsxs("button",{type:"button",onClick:()=>ge(T.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[r.jsx(ka,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},T.id))})]})]})]})}),r.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 p-6 shadow-sm",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Style Guides"}),r.jsx("h3",{className:"text-xl font-semibold text-orange-900",children:"KwikMedi Content Principles"}),r.jsx("p",{className:"mt-2 max-w-2xl text-sm text-orange-500",children:"Gilroy for headings, Inter for supporting text, and a warm orange-to-amber palette create a playful yet professional brand for pet parents and trainers."})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 text-sm font-semibold text-orange-500",children:[r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[r.jsx(x0,{size:16}),"Brand Ready"]}),r.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[r.jsx(ig,{size:16}),"Copywriting Polished"]})]})]})})]})})},cZ=()=>{const[e,t]=g.useState([]),[n,a]=g.useState(!0),[s,o]=g.useState(""),[c,d]=g.useState(""),[u,p]=g.useState(""),[f,h]=g.useState(1),[y,v]=g.useState(1),[N,j]=g.useState(0),b=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),_=async()=>{a(!0),o("");try{const C=new URLSearchParams({page:f.toString(),page_size:"50"});c&&C.append("search",c),u&&C.append("status",u);const A=await fetch(`https://kwikmedi.mycartly.in/api/admin/lab-tests/bookings?${C}`,{headers:b()}),O=await A.json();A.ok?(t(O.bookings||[]),j(O.total||0),v(O.total_pages||1)):o(O.error?.message||"Failed to fetch bookings")}catch(C){o(C.message||"Failed to fetch bookings")}finally{a(!1)}};g.useEffect(()=>{_()},[f,u]),g.useEffect(()=>{const C=setTimeout(()=>{f===1?_():h(1)},500);return()=>clearTimeout(C)},[c]);const S=C=>{const A={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",failed:"bg-gray-100 text-gray-800"};return A[C]||A.pending},P=C=>{switch(C){case"confirmed":return r.jsx(Wr,{size:16});case"cancelled":case"failed":return r.jsx(rs,{size:16});case"completed":return r.jsx(Wr,{size:16});default:return r.jsx(Sr,{size:16})}};return r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search by name, phone, or booking ID...",value:c,onChange:C=>d(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("select",{value:u,onChange:C=>p(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"confirmed",children:"Confirmed"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"}),r.jsx("option",{value:"failed",children:"Failed"})]}),r.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(gf,{size:18}),"Refresh"]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Bookings"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Pending"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(C=>C.status==="pending").length})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Confirmed"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(C=>C.status==="confirmed").length})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Completed"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(C=>C.status==="completed").length})]}),r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Failed"}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(C=>C.status==="failed").length})]})]}),n?r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-500",children:"Loading bookings..."})]}):s?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[r.jsx(Xc,{className:"text-red-600",size:20}),r.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[r.jsx(kr,{className:"mx-auto text-gray-400",size:48}),r.jsx("p",{className:"mt-4 text-gray-500",children:"No bookings found"})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Packages"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(C=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",C.id]}),C.redcliffe_booking_id&&r.jsxs("div",{className:"text-xs text-gray-500",children:["Redcliffe: ",C.redcliffe_booking_id]})]}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.customer_name}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(ui,{size:12}),C.customer_phonenumber]}),r.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(ms,{size:12}),C.email]})]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:new Date(C.collection_date).toLocaleDateString()}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Slot: ",C.collection_slot]})]}),r.jsxs("td",{className:"px-6 py-4",children:[r.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.package_codes?.slice(0,3).map((A,O)=>r.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:[r.jsx(Hr,{size:12,className:"mr-1"}),A]},O)),C.package_codes?.length>3&&r.jsxs("span",{className:"text-xs text-gray-500",children:["+",C.package_codes.length-3," more"]})]}),C.additional_members?.length>0&&r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",C.additional_members.length," additional member(s)"]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${S(C.status)}`,children:[P(C.status),C.status]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.created_at).toLocaleString()})]},C.id))})]})}),y>1&&r.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",f," of ",y]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>h(C=>Math.max(1,C-1)),disabled:f===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsx("button",{onClick:()=>h(C=>Math.min(y,C+1)),disabled:f===y,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},dZ=()=>{const[e,t]=g.useState([]),[n,a]=g.useState(!0),[s,o]=g.useState(""),[c,d]=g.useState(null),[u,p]=g.useState(!1),[f,h]=g.useState({name:"",image_url:"",show_on_homepage:!1,display_order:0}),[y,v]=g.useState(null),[N,j]=g.useState([]),[b,_]=g.useState(!1),[S,P]=g.useState([]),[C,A]=g.useState(""),[O,I]=g.useState(!1),[M,D]=g.useState(""),[z,Y]=g.useState(""),W=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),re=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`}),U=async()=>{a(!0),o("");try{const ue=await fetch("https://kwikmedi.mycartly.in/api/admin/lab-tests/categories",{headers:W()}),se=await ue.json();ue.ok?t(se.categories||[]):o(se.error?.message||"Failed to fetch categories")}catch(ue){o(ue.message||"Failed to fetch categories")}finally{a(!1)}},R=async(ue,se)=>{p(!0);try{const xe=new FormData;xe.append("image",ue);const Ne=await fetch("https://kwikmedi.mycartly.in/api/admin/lab-tests/categories/upload-image",{method:"POST",headers:re(),body:xe}),T=await Ne.json();Ne.ok?await Q(se,{image_url:T.image_url}):o(T.error?.message||"Failed to upload image")}catch(xe){o(xe.message||"Failed to upload image")}finally{p(!1)}},Q=async(ue,se)=>{try{const xe={...f,...se,show_on_homepage:f.show_on_homepage?1:0},Ne=await fetch(`https://kwikmedi.mycartly.in/api/admin/lab-tests/categories/${ue}`,{method:"PUT",headers:W(),body:JSON.stringify(xe)}),T=await Ne.json();Ne.ok?(await U(),d(null),o("")):o(T.error?.message||"Failed to update category")}catch(xe){o(xe.message||"Failed to update category")}},le=ue=>{d(ue.id),h({name:ue.name,image_url:ue.image_url||"",show_on_homepage:ue.show_on_homepage||!1,display_order:ue.display_order||0})},H=()=>{c&&Q(c,{})},ee=()=>{d(null),h({name:"",image_url:"",show_on_homepage:!1,display_order:0})},ce=async ue=>{_(!0);try{const se=await fetch(`https://kwikmedi.mycartly.in/api/admin/lab-tests/categories/${ue}/packages`,{headers:W()}),xe=await se.json();se.ok?j(xe.packages||[]):o(xe.error?.message||"Failed to fetch packages")}catch(se){o(se.message||"Failed to fetch packages")}finally{_(!1)}},B=async(ue="")=>{try{const se=new URLSearchParams({page:"1",page_size:"100"});ue&&se.append("search",ue);const xe=await fetch(`https://kwikmedi.mycartly.in/api/admin/lab-tests/packages?${se}`,{headers:W()}),Ne=await xe.json();if(xe.ok){let T=[];Ne.data&&Array.isArray(Ne.data)?T=Ne.data:Ne.results&&Array.isArray(Ne.results)?T=Ne.results:Array.isArray(Ne)&&(T=Ne);const K=T.map(oe=>({code:oe.code||oe.package_code||"",name:oe.name||oe.package_name||oe.title||""})).filter(oe=>oe.code&&oe.code.trim()!=="");P(K),console.log(`Loaded ${K.length} available packages`)}else console.error("Failed to fetch packages:",Ne),o(Ne.error?.message||"Failed to fetch available packages")}catch(se){console.error("Failed to fetch available packages:",se),o(se.message||"Failed to fetch available packages")}},$=async ue=>{v(ue),await ce(ue),await B()},G=async()=>{if(!(!M||!y)){I(!0),o("");try{const ue=await fetch(`https://kwikmedi.mycartly.in/api/admin/lab-tests/categories/${y}/packages`,{method:"POST",headers:W(),body:JSON.stringify({package_code:M,package_name:z||M,display_order:N.length})}),se=await ue.json();ue.ok?(await ce(y),await U(),D(""),Y(""),A(""),o("")):o(se.error?.message||"Failed to add package")}catch(ue){o(ue.message||"Failed to add package")}finally{I(!1)}}},ge=async ue=>{if(y&&window.confirm("Are you sure you want to remove this package from the category?")){o("");try{const se=await fetch(`https://kwikmedi.mycartly.in/api/admin/lab-tests/categories/${y}/packages/${ue}`,{method:"DELETE",headers:W()}),xe=await se.json();se.ok?(await ce(y),await U(),o("")):o(xe.error?.message||"Failed to remove package")}catch(se){o(se.message||"Failed to remove package")}}};return g.useEffect(()=>{U()},[]),g.useEffect(()=>{if(y){const ue=setTimeout(()=>{B(C)},500);return()=>clearTimeout(ue)}},[C,y]),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lab Test Categories"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage static lab test categories and assign packages to them"})]}),r.jsxs("button",{onClick:U,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]}),n?r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-500",children:"Loading categories..."})]}):s?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[r.jsx(Xc,{className:"text-red-600",size:20}),r.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[r.jsx(kc,{className:"mx-auto text-gray-400",size:48}),r.jsx("p",{className:"mt-4 text-gray-500",children:"No categories found"})]}):r.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"text-sm text-gray-500",children:["Total Categories: ",r.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(ue=>r.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${ue.show_on_homepage?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(kc,{className:"text-blue-600",size:20}),r.jsx("h3",{className:"font-semibold text-gray-900",children:ue.name}),ue.show_on_homepage&&r.jsx(fs,{className:"text-yellow-500",size:16,fill:"currentColor"})]}),ue.package_count!==void 0&&r.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[r.jsx(Hr,{size:14}),r.jsxs("span",{children:[ue.package_count," package(s)"]})]}),ue.display_order!==void 0&&r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Order: ",ue.display_order]})]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>$(ue.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Manage packages",children:r.jsx(Hr,{size:18})}),r.jsx("button",{onClick:()=>le(ue),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit category",children:r.jsx(y0,{size:18})})]})]}),ue.image_url&&r.jsx("div",{className:"mb-3",children:r.jsx("img",{src:ue.image_url,alt:ue.name,className:"w-full h-32 object-cover rounded border border-gray-200",onError:se=>{se.target.style.display="none"}})}),c===ue.id&&r.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded border border-gray-200 space-y-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Image"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`image-upload-${ue.id}`,onChange:se=>{const xe=se.target.files?.[0];xe&&R(xe,ue.id)}}),r.jsxs("label",{htmlFor:`image-upload-${ue.id}`,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-300 rounded text-xs cursor-pointer hover:bg-gray-50",children:[r.jsx(Jo,{size:14}),u?"Uploading...":"Upload Image"]}),r.jsx("input",{type:"url",value:f.image_url,onChange:se=>h({...f,image_url:se.target.value}),placeholder:"Or paste image URL",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),f.image_url&&r.jsx("img",{src:f.image_url,alt:"Preview",className:"mt-2 w-full h-20 object-cover rounded border border-gray-200",onError:se=>{se.target.style.display="none"}})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:f.show_on_homepage,onChange:se=>h({...f,show_on_homepage:se.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Show on Homepage (Max 6)"})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Display Order"}),r.jsx("input",{type:"number",value:f.display_order,onChange:se=>h({...f,display_order:parseInt(se.target.value)||0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:H,className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:[r.jsx(NI,{size:14}),"Save"]}),r.jsx("button",{onClick:ee,className:"px-3 py-1.5 border border-gray-300 text-xs rounded hover:bg-gray-50",children:"Cancel"})]})]}),y===ue.id&&r.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded border border-gray-200 space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Manage Packages"}),r.jsx("button",{onClick:()=>{v(null),j([])},className:"p-1 text-gray-400 hover:text-gray-600",children:r.jsx(gt,{size:18})})]}),r.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 space-y-2",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Yr,{size:16,className:"text-gray-400"}),r.jsx("input",{type:"text",value:C,onChange:se=>A(se.target.value),placeholder:"Search packages...",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),S.length>0&&r.jsxs("select",{value:M,onChange:se=>{const xe=S.find(Ne=>Ne.code===se.target.value);D(se.target.value),Y(xe?.name||"")},className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select a package..."}),S.slice(0,50).map(se=>r.jsx("option",{value:se.code,children:se.name||se.code},se.code))]}),r.jsxs("button",{onClick:G,disabled:!M||O,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[r.jsx(hn,{size:14}),O?"Adding...":"Add Package"]})]}),b?r.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Loading packages..."}):N.length===0?r.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"No packages in this category"}):r.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:N.map(se=>r.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-xs font-medium text-gray-900",children:se.package_name||se.package_code}),r.jsx("div",{className:"text-xs text-gray-500",children:se.package_code})]}),r.jsx("button",{onClick:()=>ge(se.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Remove package",children:r.jsx(ka,{size:14})})]},se.id))})]})]},ue.id))})]})]})},uZ=()=>{const[e,t]=g.useState([]),[n,a]=g.useState(!0),[s,o]=g.useState(""),[c,d]=g.useState(""),[u,p]=g.useState(1),[f,h]=g.useState(1),[y,v]=g.useState(0),N=async()=>{a(!0),o("");try{const j=new URLSearchParams({page:u.toString(),page_size:"50"});c&&j.append("search",c);const b=await fetch(`https://kwikmedi.mycartly.in/api/admin/lab-tests/packages?${j}`),_=await b.json();if(b.ok){const S=_.data||_.results||[];t(S),v(_.count||S.length),h(Math.ceil((_.count||S.length)/50))}else o(_.error?.message||"Failed to fetch packages")}catch(j){o(j.message||"Failed to fetch packages")}finally{a(!1)}};return g.useEffect(()=>{N()},[u]),g.useEffect(()=>{const j=setTimeout(()=>{u===1?N():p(1)},500);return()=>clearTimeout(j)},[c]),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),r.jsx("input",{type:"text",placeholder:"Search packages by name or code...",value:c,onChange:j=>d(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("button",{onClick:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[r.jsx(qr,{size:18}),"Refresh"]})]})}),r.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:r.jsxs("div",{className:"text-sm text-gray-500",children:["Total Packages: ",r.jsx("span",{className:"font-semibold text-gray-900",children:y})]})}),n?r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-500",children:"Loading packages..."})]}):s?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[r.jsx(Xc,{className:"text-red-600",size:20}),r.jsx("p",{className:"text-red-600",children:s})]}):e.length===0?r.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[r.jsx(Hr,{className:"mx-auto text-gray-400",size:48}),r.jsx("p",{className:"mt-4 text-gray-500",children:"No packages found"})]}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(j=>{const b=j.package_center_prices?.offer_price||j.package_center_prices?.package_price||0;return r.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(Hr,{className:"text-blue-600",size:18}),r.jsx("h3",{className:"font-semibold text-gray-900",children:j.name})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Code: ",j.code]})]})}),j.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:j.description}),r.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-1 text-sm font-semibold text-green-600",children:[r.jsx(Na,{size:16}),r.jsxs("span",{children:["",b]})]}),j.parameter&&r.jsxs("div",{className:"text-xs text-gray-500",children:[j.parameter," test",j.parameter>1?"s":""]})]}),j.category_for_web&&j.category_for_web.length>0&&r.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[j.category_for_web.slice(0,2).map((_,S)=>r.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:_.name},S)),j.category_for_web.length>2&&r.jsxs("span",{className:"text-xs text-gray-500",children:["+",j.category_for_web.length-2," more"]})]})]},j.id)})}),f>1&&r.jsxs("div",{className:"bg-white px-6 py-3 rounded-lg shadow-sm flex items-center justify-between border border-gray-200",children:[r.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",u," of ",f]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>p(j=>Math.max(1,j-1)),disabled:u===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),r.jsx("button",{onClick:()=>p(j=>Math.min(f,j+1)),disabled:u===f,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},em=()=>{const e=an(),n=(()=>{const a=e.pathname;return a.includes("/bookings")?"bookings":a.includes("/categories")?"categories":a.includes("/packages")?"packages":"bookings"})();return r.jsx(or,{children:r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ey,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Tests"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage lab test bookings, categories, and packages"})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n==="bookings"&&r.jsx(cZ,{}),n==="categories"&&r.jsx(dZ,{}),n==="packages"&&r.jsx(uZ,{})]})]})})},mZ={},fZ=mZ?.VITE_API_BASE_URL||"/api",pZ=()=>{const[e,t]=g.useState(""),[n,a]=g.useState(""),[s,o]=g.useState(!1),c=Cn(),{addToast:d}=Yt(),u=async p=>{p.preventDefault(),o(!0);try{const f=await fetch(`${fZ}/lead-admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})}),h=await f.json();f.ok&&h.success?(localStorage.setItem("lead_admin_token",h.token),localStorage.setItem("lead_admin_user",JSON.stringify(h.admin)),d("Login successful!","success"),c("/lead-admin/dashboard",{replace:!0})):d(h.error?.message||"Invalid username or password","error")}catch(f){console.error("Login error:",f),d("Login failed. Please try again.","error")}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 px-4",children:r.jsx("div",{className:"w-full max-w-md",children:r.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-orange-500 to-amber-400 mb-4",children:r.jsx(Xo,{className:"text-white",size:32})}),r.jsx("h1",{className:"text-3xl font-bold text-orange-900 mb-2",children:"Lead Admin Login"}),r.jsx("p",{className:"text-sm text-orange-600",children:"Access your lead management dashboard"})]}),r.jsxs("form",{onSubmit:u,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Username"}),r.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your username",required:!0,disabled:s})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Password"}),r.jsx("input",{type:"password",value:n,onChange:p=>a(p.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your password",required:!0,disabled:s})]}),r.jsx("button",{type:"submit",disabled:s||!e||!n,className:"w-full rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-3 text-white font-semibold shadow-lg hover:from-orange-600 hover:to-amber-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?r.jsxs(r.Fragment,{children:[r.jsx(oa,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Login"})]})]})})})},hZ={},wc=hZ?.VITE_API_BASE_URL||"/api",tm={New:{badge:"bg-orange-100 text-orange-700 border border-orange-200",dot:"bg-orange-500"},Contacted:{badge:"bg-amber-100 text-amber-700 border border-amber-200",dot:"bg-amber-500"},Converted:{badge:"bg-emerald-100 text-emerald-700 border border-emerald-200",dot:"bg-emerald-500"},Lost:{badge:"bg-rose-100 text-rose-600 border border-rose-200",dot:"bg-rose-500"},Available:{badge:"bg-secondary text-primary border border-primary/20",dot:"bg-primary"},"Not connected":{badge:"bg-gray-100 text-gray-700 border border-gray-200",dot:"bg-gray-500"}},rm=(e=!1)=>{const t=localStorage.getItem("lead_admin_token"),n={};return t&&(n.Authorization=`Bearer ${t}`),e&&(n["Content-Type"]="application/json"),n},gZ=({lead:e,onClose:t,onUpdate:n})=>{const[a,s]=g.useState(e?.status??"New"),[o,c]=g.useState(e?.notes||""),[d,u]=g.useState(!1);if(g.useEffect(()=>{e&&(s(e.status),c(e.notes||""))},[e]),!e)return null;const p=async()=>{u(!0);try{await n(e.id,{status:a,notes:o}),t()}catch(f){console.error("Error updating lead:",f)}finally{u(!1)}};return r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:r.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-orange-100 p-2 text-orange-600 hover:bg-orange-200 transition-colors z-10",children:r.jsx(gt,{size:18})}),r.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white sticky top-0",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Xo,{size:28}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),r.jsx("p",{className:"text-sm text-orange-100/90",children:"Update status and add notes"})]})]})}),r.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[r.jsxs("div",{className:"space-y-3 rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:r.jsx(Dt,{className:"text-orange-500",size:22})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),r.jsx("p",{className:"text-lg font-semibold text-orange-900",children:e.owner_name})]})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[r.jsx(ms,{size:16}),r.jsx("span",{children:e.email})]}),r.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[r.jsx(ui,{size:16}),r.jsx("span",{children:e.phone})]}),e.location&&r.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[r.jsx(ts,{size:16}),r.jsx("span",{children:e.location})]}),e.scheduled_date&&r.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[r.jsx(h0,{size:16}),r.jsxs("span",{children:["Scheduled: ",new Date(e.scheduled_date).toLocaleDateString(),e.scheduled_time&&` at ${e.scheduled_time}`]})]})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{className:"rounded-2xl border border-orange-100 p-5",children:[r.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Lead Status"}),r.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost","Available","Not connected"].map(f=>r.jsxs("button",{onClick:()=>s(f),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${a===f?"border-orange-500 bg-orange-50 text-orange-700 shadow-sm":"border-orange-100 bg-white text-orange-500 hover:border-orange-200"}`,children:[r.jsx("span",{children:f}),f==="Converted"?r.jsx(Ki,{size:18}):f==="Lost"?r.jsx(ca,{size:18}):r.jsx(qS,{size:18})]},f))})]})})]}),r.jsxs("div",{className:"px-8 pb-8",children:[r.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[r.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Notes"}),r.jsx("textarea",{value:o,onChange:f=>c(f.target.value),rows:4,className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-2 text-sm text-orange-900 outline-none focus:border-orange-400",placeholder:"Add notes about this lead..."})]}),r.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[r.jsx("button",{onClick:t,disabled:d,className:"rounded-xl border border-orange-200 px-5 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50 transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:p,disabled:d,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx(oa,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},xZ=({leads:e,onClose:t,onViewLead:n})=>r.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:r.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[r.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-red-100 p-2 text-red-600 hover:bg-red-200 transition-colors",children:r.jsx(gt,{size:18})}),r.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6 text-white",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Ec,{size:28,className:"animate-pulse"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-semibold",children:"Alarm: Upcoming Calls"}),r.jsxs("p",{className:"text-sm text-red-100/90",children:["You have ",e.length," lead(s) scheduled within 10 minutes"]})]})]})}),r.jsx("div",{className:"px-8 py-6 max-h-96 overflow-y-auto",children:e.length===0?r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No upcoming calls"}):r.jsx("div",{className:"space-y-3",children:e.map(a=>r.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50/50 p-4 hover:bg-red-50 transition-colors cursor-pointer",onClick:()=>{n(a),t()},children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-semibold text-red-900",children:a.owner_name}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.phone}),a.scheduled_date&&a.scheduled_time&&r.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[r.jsx(Sr,{size:12}),new Date(a.scheduled_date).toLocaleDateString()," at ",a.scheduled_time]})]}),r.jsx(Ia,{className:"text-red-500",size:20})]})},a.id))})})]})}),yZ=()=>{const e=Cn(),{addToast:t}=Yt(),[n,a]=g.useState([]),[s,o]=g.useState(null),[c,d]=g.useState(""),[u,p]=g.useState("All"),[f,h]=g.useState(!1),[y,v]=g.useState(""),[N,j]=g.useState([]),[b,_]=g.useState(!1);g.useEffect(()=>{if(!localStorage.getItem("lead_admin_token")){e("/lead-admin/login",{replace:!0});return}S(),P();const Y=setInterval(P,6e4);return()=>clearInterval(Y)},[e]);const S=async()=>{h(!0);try{const z=y?`${wc}/lead-admin/leads/by-date?date=${y}`:`${wc}/lead-admin/leads${u!=="All"?`?status=${u}`:""}`,W=await(await fetch(z,{headers:rm()})).json();W.success&&Array.isArray(W.leads)?a(W.leads):t("Failed to load leads","error")}catch(z){console.error("Error fetching leads:",z),t("Error loading leads","error")}finally{h(!1)}},P=async()=>{try{const Y=await(await fetch(`${wc}/lead-admin/alarms`,{headers:rm()})).json();Y.success&&Array.isArray(Y.leads)&&Y.leads.length>0&&(j(Y.leads),_(!0))}catch(z){console.error("Error checking alarms:",z)}};g.useEffect(()=>{S()},[u,y]);const C=()=>{localStorage.removeItem("lead_admin_token"),localStorage.removeItem("lead_admin_user"),e("/lead-admin/login",{replace:!0})},A=async(z,Y)=>{try{const W=await fetch(`${wc}/lead-admin/leads/${z}/update-status`,{method:"PUT",headers:rm(!0),body:JSON.stringify(Y)}),re=await W.json();if(W.ok&&re.success)await S(),t("Lead updated successfully","success");else throw t(re.error?.message||"Failed to update lead","error"),new Error(re.error?.message||"Failed to update lead")}catch(W){throw console.error("Error updating lead:",W),t("Error updating lead","error"),W}},O=async z=>{try{const Y=await fetch(`${wc}/lead-admin/leads/${z}/set-available`,{method:"PUT",headers:rm()}),W=await Y.json();Y.ok&&W.success?(await S(),t("Lead marked as available","success")):t(W.error?.message||"Failed to update lead","error")}catch(Y){console.error("Error updating lead:",Y),t("Error updating lead","error")}},I=g.useMemo(()=>{n.length;const z=n.filter(U=>U.status==="New").length,Y=n.filter(U=>U.status==="Contacted").length,W=n.filter(U=>U.status==="Converted").length,re=n.filter(U=>U.status==="Available").length;return[{label:"New Leads",value:z,icon:r.jsx(x0,{className:"text-white",size:22}),gradient:"from-orange-500 to-amber-400"},{label:"Contacted",value:Y,icon:r.jsx(WS,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Converted",value:W,icon:r.jsx(Ki,{className:"text-emerald-600",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Available",value:re,icon:r.jsx(p0,{className:"text-primary",size:22}),gradient:"bg-secondary"}]},[n]),M=n.filter(z=>z.owner_name.toLowerCase().includes(c.toLowerCase())||z.email.toLowerCase().includes(c.toLowerCase())||z.phone.toLowerCase().includes(c.toLowerCase())),D=JSON.parse(localStorage.getItem("lead_admin_user")||"{}");return r.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100",children:[r.jsxs("div",{className:"space-y-6 p-6",children:[r.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:r.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Lead Management"}),r.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"My Leads Dashboard"}),r.jsxs("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:["Welcome, ",D.full_name||D.username]})]}),r.jsxs("button",{onClick:C,className:"flex items-center gap-2 rounded-xl bg-white px-5 py-2 text-sm font-semibold text-orange-600 shadow-sm hover:bg-orange-50 transition-colors",children:[r.jsx(g0,{size:16}),"Logout"]})]})}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:I.map(z=>r.jsx("div",{className:"overflow-hidden rounded-3xl border border-orange-100/60 bg-white/95 shadow-md",children:r.jsxs("div",{className:"relative flex items-center gap-4 p-6",children:[r.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${z.gradient} shadow-sm`,children:z.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-orange-500",children:z.label}),r.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:z.value})]})]})},z.label))}),r.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg p-6",children:r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[r.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-orange-100 bg-orange-50/60 px-4 py-2",children:[r.jsx(Yr,{size:18,className:"text-orange-400"}),r.jsx("input",{value:c,onChange:z=>d(z.target.value),placeholder:"Search leads...",className:"flex-1 border-none bg-transparent text-sm text-orange-900 placeholder-orange-300 outline-none"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-orange-100 bg-white px-4 py-2",children:[r.jsx(kr,{size:16,className:"text-orange-500"}),r.jsx("input",{type:"date",value:y,onChange:z=>v(z.target.value),className:"text-sm text-orange-900 outline-none"}),y&&r.jsx("button",{onClick:()=>v(""),className:"text-orange-400 hover:text-orange-600",children:r.jsx(gt,{size:14})})]}),["All","New","Contacted","Converted","Lost","Available","Not connected"].map(z=>r.jsxs("button",{onClick:()=>p(z),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${u===z?"border-orange-500 bg-orange-50 text-orange-600 shadow-sm":"border-orange-100 bg-white text-orange-400 hover:border-orange-200"}`,children:[r.jsx(gf,{size:14}),z]},z))]})]})}),r.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg",children:r.jsx("div",{className:"overflow-hidden rounded-2xl border border-orange-100",children:r.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[r.jsx("thead",{className:"bg-orange-50/70",children:r.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-orange-500",children:[r.jsx("th",{className:"px-6 py-4",children:"User"}),r.jsx("th",{className:"px-6 py-4",children:"Pet Type"}),r.jsx("th",{className:"px-6 py-4",children:"Service Interest"}),r.jsx("th",{className:"px-6 py-4",children:"Scheduled"}),r.jsx("th",{className:"px-6 py-4",children:"Status"}),r.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:f?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx(oa,{className:"w-8 h-8 animate-spin text-orange-400"})})})}):M.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-orange-400",children:"No leads found for the current filters."})}):M.map(z=>r.jsxs("tr",{className:"transition-colors hover:bg-orange-50/50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:r.jsx(Xo,{size:18})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-orange-900",children:z.owner_name}),r.jsx("p",{className:"text-xs text-orange-400",children:z.email})]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:z.pet_type})}),r.jsx("td",{className:"px-6 py-4 text-sm font-medium text-orange-700",children:z.service_interest}),r.jsx("td",{className:"px-6 py-4 text-sm text-orange-600",children:z.scheduled_date?r.jsxs("div",{children:[r.jsx("div",{children:new Date(z.scheduled_date).toLocaleDateString()}),z.scheduled_time&&r.jsx("div",{className:"text-xs",children:z.scheduled_time})]}):r.jsx("span",{className:"text-orange-300",children:"Not scheduled"})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${tm[z.status]?.badge||tm.New.badge}`,children:[r.jsx("span",{className:`h-2 w-2 rounded-full ${tm[z.status]?.dot||tm.New.dot}`}),z.status]})}),r.jsx("td",{className:"px-6 py-4 text-right",children:r.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[z.scheduled_date&&r.jsx("button",{onClick:()=>O(z.id),className:"inline-flex items-center gap-2 rounded-full bg-primary px-3 py-1 text-xs font-semibold text-white shadow-sm hover:bg-primary-dark transition-colors",children:"Mark Available"}),r.jsxs("button",{onClick:()=>o(z),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",r.jsx(Ia,{size:14})]})]})})]},z.id))})]})})})]}),r.jsx(gZ,{lead:s,onClose:()=>o(null),onUpdate:A}),b&&r.jsx(xZ,{leads:N,onClose:()=>_(!1),onViewLead:z=>o(z)})]})},vZ="https://kwikmedi.mycartly.in",bZ=()=>{const[e,t]=g.useState(""),[n,a]=g.useState(""),[s,o]=g.useState(!1),c=Cn(),{addToast:d}=Yt(),{isAuthenticated:u,user:p}=Pr();g.useEffect(()=>{console.log("HelpingStaffLogin component mounted"),console.log("Current path:",window.location.pathname),console.log("isAuthenticated:",u),console.log("user:",p)},[u,p]),g.useEffect(()=>{u&&(p?.role==="helping_staff"||p?.role==="helping_staff_admin")&&c("/admin/helping-staff-panel",{replace:!0})},[u,p,c]);const f=async h=>{h.preventDefault(),o(!0);try{const y=await fetch(`${vZ}/api/helping-staff/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})}),v=await y.json();if(y.ok&&v.success){const N=v.staff||v.admin;if(N)N.role="helping_staff";else{const j=v.admin||{};j.role="helping_staff",localStorage.setItem("KwikMedi_user",JSON.stringify(j))}localStorage.setItem("KwikMedi_token",v.token),N&&localStorage.setItem("KwikMedi_user",JSON.stringify(N)),localStorage.setItem("KwikMedi_role","helping_staff"),d("Login successful!","success"),setTimeout(()=>{window.location.href="/admin/helping-staff-panel"},500)}else{const N=v.error?.message||"Login failed. Please check your credentials.";d(N,"error")}}catch(y){console.error("Helping staff login error:",y),d("Login failed. Please try again.","error")}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("button",{onClick:()=>c("/"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[r.jsx(f0,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:r.jsx(Dt,{className:"h-8 w-8 text-primary"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Helping Staff Login"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the prescription processing panel"})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[r.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"sr-only",children:"Email or Phone"}),r.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Email or Phone Number",value:e,onChange:h=>t(h.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:h=>a(h.target.value)})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},jZ="https://kwikmedi.mycartly.in",wZ=()=>{const[e,t]=g.useState(""),[n,a]=g.useState(""),[s,o]=g.useState(!1),c=Cn(),{addToast:d}=Yt(),{isAuthenticated:u,user:p}=Pr();g.useEffect(()=>{u&&(p?.role==="finance_admin"||p?.role==="admin")&&c("/admin/finance-panel",{replace:!0})},[u,p,c]);const f=async h=>{h.preventDefault(),o(!0);try{const y=await fetch(`${jZ}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})}),v=await y.json();if(y.ok&&v.token){const N=v.admin?.role||"";if(N!=="finance_admin"&&N!=="super_admin"){d("Access denied. This login is for financial staff only.","error"),o(!1);return}const j=v.admin;j&&(j.role=N==="super_admin"?"admin":N),localStorage.setItem("KwikMedi_token",v.token),localStorage.setItem("KwikMedi_user",JSON.stringify(j)),localStorage.setItem("KwikMedi_role",j.role),d("Login successful!","success"),window.location.href="/admin/finance-panel"}else{const N=v.error?.message||"Login failed. Please check your credentials.";d(N,"error")}}catch(y){console.error("Financial staff login error:",y),d("Login failed. Please try again.","error")}finally{o(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("button",{onClick:()=>c("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[r.jsx(f0,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:r.jsx(Na,{className:"h-8 w-8 text-green-600"})})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Financial Staff Login"}),r.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the finance panel and payment management"})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[r.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username or Email"}),r.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Username or Email",value:e,onChange:h=>t(h.target.value)})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:h=>a(h.target.value)})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},vS=()=>{Cn();const e=[{id:"super_admin",title:"Super Admin",description:"Full system access and management",icon:_a,route:"/admin/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"},{id:"helping_staff",title:"Helping Staff",description:"Prescription processing and digitization",icon:Sa,route:"/helping-staff/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"},{id:"financial_staff",title:"Financial Staff",description:"Finance panel and payment management",icon:Na,route:"/financial-staff/login",color:"bg-green-600 hover:bg-green-700",iconColor:"text-green-600"}];return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-4xl w-full",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"KwikMedi Admin Portal"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Select your role to continue"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(t=>{const n=t.icon;return r.jsxs(u0,{to:t.route,onClick:()=>{console.log("Navigating to:",t.route,"from LoginSelection")},className:`${t.color} text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 p-8 flex flex-col items-center space-y-4 no-underline`,children:[r.jsx("div",{className:"bg-white/20 rounded-full p-4",children:r.jsx(n,{className:"h-10 w-10"})}),r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),r.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]},t.id)})}),r.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:r.jsx("p",{children:"Choose the appropriate login option based on your role"})})]})})},NZ=({children:e,allowedRoles:t=[]})=>{const{user:n,isAuthenticated:a,isLoading:s}=Pr();if(s)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const o=localStorage.getItem("KwikMedi_token"),c=localStorage.getItem("KwikMedi_role"),d=o&&!o.startsWith("mock_token_"),u=n?.role||c||"",p=t.length===0||t.includes(u)||c&&t.includes(c);return!a&&!d?r.jsx(Uo,{to:"/",replace:!0}):d&&p&&!a&&s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!a&&d&&s?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length>0&&!p?(console.log("ProtectedRoute: Role mismatch",{user:n,allowedRole:n?.role,allowedRoles:t,storedRole:c,currentPath:window.location.pathname}),u==="helping_staff"||u==="helping_staff_admin"||c==="helping_staff"?r.jsx(Uo,{to:"/admin/helping-staff-panel",replace:!0}):u==="finance_admin"||c==="finance_admin"?r.jsx(Uo,{to:"/admin/finance-panel",replace:!0}):r.jsx(Uo,{to:"/admin/dashboard",replace:!0})):r.jsx(r.Fragment,{children:e})},_Z=()=>r.jsxs(s1,{children:[r.jsx(st,{path:"/",element:r.jsx(vS,{})}),r.jsx(st,{path:"/login",element:r.jsx(vS,{})}),r.jsx(st,{path:"/admin/login",element:r.jsx(II,{})}),r.jsx(st,{path:"/lead-admin/login",element:r.jsx(pZ,{})}),r.jsx(st,{path:"/lead-admin/dashboard",element:r.jsx(yZ,{})}),r.jsx(st,{path:"/helping-staff/login",element:r.jsx(bZ,{})}),r.jsx(st,{path:"/financial-staff/login",element:r.jsx(wZ,{})}),r.jsx(st,{path:"/admin/*",element:r.jsx(NZ,{allowedRoles:["admin","helping_staff","helping_staff_admin","finance_admin"],children:r.jsxs(s1,{children:[r.jsx(st,{path:"/dashboard",element:r.jsx(HY,{})}),r.jsx(st,{path:"/providers",element:r.jsx(sJ,{})}),r.jsx(st,{path:"/users",element:r.jsx(fJ,{})}),r.jsx(st,{path:"/categories/inventory",element:r.jsx(Xu,{})}),r.jsx(st,{path:"/categories/generic",element:r.jsx(Xu,{})}),r.jsx(st,{path:"/categories/branded",element:r.jsx(Xu,{})}),r.jsx(st,{path:"/categories",element:r.jsx(Xu,{})}),r.jsx(st,{path:"/prescriptions",element:r.jsx(WJ,{})}),r.jsx(st,{path:"/leads",element:r.jsx(FJ,{})}),r.jsx(st,{path:"/finance-panel",element:r.jsx(BJ,{})}),r.jsx(st,{path:"/finance",element:r.jsx(UJ,{})}),r.jsx(st,{path:"/helping-staff-panel/prescriptions",element:r.jsx(Hx,{})}),r.jsx(st,{path:"/helping-staff-panel/orders",element:r.jsx(Hx,{})}),r.jsx(st,{path:"/helping-staff-panel",element:r.jsx(Hx,{})}),r.jsx(st,{path:"/disputes",element:r.jsx(_J,{})}),r.jsx(st,{path:"/bookings",element:r.jsx(CJ,{})}),r.jsx(st,{path:"/orders",element:r.jsx(IJ,{})}),r.jsx(st,{path:"/transactions",element:r.jsx(ZJ,{})}),r.jsx(st,{path:"/coupons/medicine",element:r.jsx(Gx,{})}),r.jsx(st,{path:"/coupons/lab-test",element:r.jsx(Gx,{})}),r.jsx(st,{path:"/coupons",element:r.jsx(Gx,{})}),r.jsx(st,{path:"/helpdesk",element:r.jsx(aZ,{})}),r.jsx(st,{path:"/lab-tests/bookings",element:r.jsx(em,{})}),r.jsx(st,{path:"/lab-tests/categories",element:r.jsx(em,{})}),r.jsx(st,{path:"/lab-tests/packages",element:r.jsx(em,{})}),r.jsx(st,{path:"/lab-tests",element:r.jsx(em,{})}),r.jsx(st,{path:"/site-management/blog",element:r.jsx(Yx,{})}),r.jsx(st,{path:"/site-management/banners",element:r.jsx(Yx,{})}),r.jsx(st,{path:"/site-management",element:r.jsx(Yx,{})}),r.jsx(st,{path:"/complaints",element:r.jsx(LJ,{})}),r.jsx(st,{path:"/bills",element:r.jsx(iZ,{})}),r.jsx(st,{path:"*",element:r.jsx(Uo,{to:"/admin/dashboard",replace:!0})})]})})}),r.jsx(st,{path:"*",element:r.jsx(Uo,{to:"/",replace:!0})})]});function kZ(){return r.jsx($T,{children:r.jsx(XT,{children:r.jsxs(JT,{children:[" ",r.jsx(_Z,{}),r.jsx(ZT,{})]})})})}g5.createRoot(document.getElementById("root")).render(r.jsx(g.StrictMode,{children:r.jsx(kZ,{})}));
