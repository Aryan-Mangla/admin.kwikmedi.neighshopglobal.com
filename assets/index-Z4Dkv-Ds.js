function eT(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(a,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function ys(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Uh={exports:{}},ac={},qh={exports:{}},lt={};var Rw;function tT(){if(Rw)return lt;Rw=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function v(K){return K===null||typeof K!="object"?null:(K=h&&K[h]||K["@@iterator"],typeof K=="function"?K:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function b(K,te,ve){this.props=K,this.context=te,this.refs=j,this.updater=ve||y}b.prototype.isReactComponent={},b.prototype.setState=function(K,te){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,te,"setState")},b.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function _(){}_.prototype=b.prototype;function S(K,te,ve){this.props=K,this.context=te,this.refs=j,this.updater=ve||y}var C=S.prototype=new _;C.constructor=S,N(C,b.prototype),C.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,O={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function U(K,te,ve){var be,Oe={},Me=null,Ne=null;if(te!=null)for(be in te.ref!==void 0&&(Ne=te.ref),te.key!==void 0&&(Me=""+te.key),te)P.call(te,be)&&!T.hasOwnProperty(be)&&(Oe[be]=te[be]);var F=arguments.length-2;if(F===1)Oe.children=ve;else if(1<F){for(var Y=Array(F),V=0;V<F;V++)Y[V]=arguments[V+2];Oe.children=Y}if(K&&K.defaultProps)for(be in F=K.defaultProps,F)Oe[be]===void 0&&(Oe[be]=F[be]);return{$$typeof:e,type:K,key:Me,ref:Ne,props:Oe,_owner:O.current}}function M(K,te){return{$$typeof:e,type:K.type,key:te,ref:K.ref,props:K.props,_owner:K._owner}}function z(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function I(K){var te={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ve){return te[ve]})}var q=/\/+/g;function L(K,te){return typeof K=="object"&&K!==null&&K.key!=null?I(""+K.key):te.toString(36)}function D(K,te,ve,be,Oe){var Me=typeof K;(Me==="undefined"||Me==="boolean")&&(K=null);var Ne=!1;if(K===null)Ne=!0;else switch(Me){case"string":case"number":Ne=!0;break;case"object":switch(K.$$typeof){case e:case t:Ne=!0}}if(Ne)return Ne=K,Oe=Oe(Ne),K=be===""?"."+L(Ne,0):be,E(Oe)?(ve="",K!=null&&(ve=K.replace(q,"$&/")+"/"),D(Oe,te,ve,"",function(V){return V})):Oe!=null&&(z(Oe)&&(Oe=M(Oe,ve+(!Oe.key||Ne&&Ne.key===Oe.key?"":(""+Oe.key).replace(q,"$&/")+"/")+K)),te.push(Oe)),1;if(Ne=0,be=be===""?".":be+":",E(K))for(var F=0;F<K.length;F++){Me=K[F];var Y=be+L(Me,F);Ne+=D(Me,te,ve,Y,Oe)}else if(Y=v(K),typeof Y=="function")for(K=Y.call(K),F=0;!(Me=K.next()).done;)Me=Me.value,Y=be+L(Me,F++),Ne+=D(Me,te,ve,Y,Oe);else if(Me==="object")throw te=String(K),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ne}function ee(K,te,ve){if(K==null)return K;var be=[],Oe=0;return D(K,be,"","",function(Me){return te.call(ve,Me,Oe++)}),be}function oe(K){if(K._status===-1){var te=K._result;te=te(),te.then(function(ve){(K._status===0||K._status===-1)&&(K._status=1,K._result=ve)},function(ve){(K._status===0||K._status===-1)&&(K._status=2,K._result=ve)}),K._status===-1&&(K._status=0,K._result=te)}if(K._status===1)return K._result.default;throw K._result}var ie={current:null},W={transition:null},J={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:W,ReactCurrentOwner:O};function ue(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:ee,forEach:function(K,te,ve){ee(K,function(){te.apply(this,arguments)},ve)},count:function(K){var te=0;return ee(K,function(){te++}),te},toArray:function(K){return ee(K,function(te){return te})||[]},only:function(K){if(!z(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},lt.Component=b,lt.Fragment=r,lt.Profiler=s,lt.PureComponent=S,lt.StrictMode=a,lt.Suspense=u,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,lt.act=ue,lt.cloneElement=function(K,te,ve){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var be=N({},K.props),Oe=K.key,Me=K.ref,Ne=K._owner;if(te!=null){if(te.ref!==void 0&&(Me=te.ref,Ne=O.current),te.key!==void 0&&(Oe=""+te.key),K.type&&K.type.defaultProps)var F=K.type.defaultProps;for(Y in te)P.call(te,Y)&&!T.hasOwnProperty(Y)&&(be[Y]=te[Y]===void 0&&F!==void 0?F[Y]:te[Y])}var Y=arguments.length-2;if(Y===1)be.children=ve;else if(1<Y){F=Array(Y);for(var V=0;V<Y;V++)F[V]=arguments[V+2];be.children=F}return{$$typeof:e,type:K.type,key:Oe,ref:Me,props:be,_owner:Ne}},lt.createContext=function(K){return K={$$typeof:c,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:o,_context:K},K.Consumer=K},lt.createElement=U,lt.createFactory=function(K){var te=U.bind(null,K);return te.type=K,te},lt.createRef=function(){return{current:null}},lt.forwardRef=function(K){return{$$typeof:d,render:K}},lt.isValidElement=z,lt.lazy=function(K){return{$$typeof:f,_payload:{_status:-1,_result:K},_init:oe}},lt.memo=function(K,te){return{$$typeof:p,type:K,compare:te===void 0?null:te}},lt.startTransition=function(K){var te=W.transition;W.transition={};try{K()}finally{W.transition=te}},lt.unstable_act=ue,lt.useCallback=function(K,te){return ie.current.useCallback(K,te)},lt.useContext=function(K){return ie.current.useContext(K)},lt.useDebugValue=function(){},lt.useDeferredValue=function(K){return ie.current.useDeferredValue(K)},lt.useEffect=function(K,te){return ie.current.useEffect(K,te)},lt.useId=function(){return ie.current.useId()},lt.useImperativeHandle=function(K,te,ve){return ie.current.useImperativeHandle(K,te,ve)},lt.useInsertionEffect=function(K,te){return ie.current.useInsertionEffect(K,te)},lt.useLayoutEffect=function(K,te){return ie.current.useLayoutEffect(K,te)},lt.useMemo=function(K,te){return ie.current.useMemo(K,te)},lt.useReducer=function(K,te,ve){return ie.current.useReducer(K,te,ve)},lt.useRef=function(K){return ie.current.useRef(K)},lt.useState=function(K){return ie.current.useState(K)},lt.useSyncExternalStore=function(K,te,ve){return ie.current.useSyncExternalStore(K,te,ve)},lt.useTransition=function(){return ie.current.useTransition()},lt.version="18.3.1",lt}var Fw;function nl(){return Fw||(Fw=1,qh.exports=tT()),qh.exports}var Bw;function rT(){if(Bw)return ac;Bw=1;var e=nl(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(d,u,p){var f,h={},v=null,y=null;p!==void 0&&(v=""+p),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(y=u.ref);for(f in u)a.call(u,f)&&!o.hasOwnProperty(f)&&(h[f]=u[f]);if(d&&d.defaultProps)for(f in u=d.defaultProps,u)h[f]===void 0&&(h[f]=u[f]);return{$$typeof:t,type:d,key:v,ref:y,props:h,_owner:s.current}}return ac.Fragment=r,ac.jsx=c,ac.jsxs=c,ac}var Uw;function nT(){return Uw||(Uw=1,Uh.exports=rT()),Uh.exports}var n=nT(),g=nl();const un=ys(g),aT=eT({__proto__:null,default:un},[g]);var wu={},Kh={exports:{}},dn={},Wh={exports:{}},Hh={};var qw;function sT(){return qw||(qw=1,(function(e){function t(W,J){var ue=W.length;W.push(J);e:for(;0<ue;){var K=ue-1>>>1,te=W[K];if(0<s(te,J))W[K]=J,W[ue]=te,ue=K;else break e}}function r(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var J=W[0],ue=W.pop();if(ue!==J){W[0]=ue;e:for(var K=0,te=W.length,ve=te>>>1;K<ve;){var be=2*(K+1)-1,Oe=W[be],Me=be+1,Ne=W[Me];if(0>s(Oe,ue))Me<te&&0>s(Ne,Oe)?(W[K]=Ne,W[Me]=ue,K=Me):(W[K]=Oe,W[be]=ue,K=be);else if(Me<te&&0>s(Ne,ue))W[K]=Ne,W[Me]=ue,K=Me;else break e}}return J}function s(W,J){var ue=W.sortIndex-J.sortIndex;return ue!==0?ue:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var u=[],p=[],f=1,h=null,v=3,y=!1,N=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(W){for(var J=r(p);J!==null;){if(J.callback===null)a(p);else if(J.startTime<=W)a(p),J.sortIndex=J.expirationTime,t(u,J);else break;J=r(p)}}function E(W){if(j=!1,C(W),!N)if(r(u)!==null)N=!0,oe(P);else{var J=r(p);J!==null&&ie(E,J.startTime-W)}}function P(W,J){N=!1,j&&(j=!1,_(U),U=-1),y=!0;var ue=v;try{for(C(J),h=r(u);h!==null&&(!(h.expirationTime>J)||W&&!I());){var K=h.callback;if(typeof K=="function"){h.callback=null,v=h.priorityLevel;var te=K(h.expirationTime<=J);J=e.unstable_now(),typeof te=="function"?h.callback=te:h===r(u)&&a(u),C(J)}else a(u);h=r(u)}if(h!==null)var ve=!0;else{var be=r(p);be!==null&&ie(E,be.startTime-J),ve=!1}return ve}finally{h=null,v=ue,y=!1}}var O=!1,T=null,U=-1,M=5,z=-1;function I(){return!(e.unstable_now()-z<M)}function q(){if(T!==null){var W=e.unstable_now();z=W;var J=!0;try{J=T(!0,W)}finally{J?L():(O=!1,T=null)}}else O=!1}var L;if(typeof S=="function")L=function(){S(q)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ee=D.port2;D.port1.onmessage=q,L=function(){ee.postMessage(null)}}else L=function(){b(q,0)};function oe(W){T=W,O||(O=!0,L())}function ie(W,J){U=b(function(){W(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){N||y||(N=!0,oe(P))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(W){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var ue=v;v=J;try{return W()}finally{v=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=v;v=W;try{return J()}finally{v=ue}},e.unstable_scheduleCallback=function(W,J,ue){var K=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?K+ue:K):ue=K,W){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ue+te,W={id:f++,callback:J,priorityLevel:W,startTime:ue,expirationTime:te,sortIndex:-1},ue>K?(W.sortIndex=ue,t(p,W),r(u)===null&&W===r(p)&&(j?(_(U),U=-1):j=!0,ie(E,ue-K))):(W.sortIndex=te,t(u,W),N||y||(N=!0,oe(P))),W},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(W){var J=v;return function(){var ue=v;v=J;try{return W.apply(this,arguments)}finally{v=ue}}}})(Hh)),Hh}var Kw;function iT(){return Kw||(Kw=1,Wh.exports=sT()),Wh.exports}var Ww;function oT(){if(Ww)return dn;Ww=1;var e=nl(),t=iT();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,m=1;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(s[i]=l,i=0;i<l.length;i++)a.add(l[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function v(i){return u.call(h,i)?!0:u.call(f,i)?!1:p.test(i)?h[i]=!0:(f[i]=!0,!1)}function y(i,l,m,x){if(m!==null&&m.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return x?!1:m!==null?!m.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function N(i,l,m,x){if(l===null||typeof l>"u"||y(i,l,m,x))return!0;if(x)return!1;if(m!==null)switch(m.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function j(i,l,m,x,w,k,A){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=x,this.attributeNamespace=w,this.mustUseProperty=m,this.propertyName=i,this.type=l,this.sanitizeURL=k,this.removeEmptyString=A}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new j(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];b[l]=new j(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new j(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new j(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new j(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new j(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new j(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new j(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new j(i,5,!1,i.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function S(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(_,S);b[l]=new j(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(_,S);b[l]=new j(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(_,S);b[l]=new j(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new j(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new j(i,1,!1,i.toLowerCase(),null,!0,!0)});function C(i,l,m,x){var w=b.hasOwnProperty(l)?b[l]:null;(w!==null?w.type!==0:x||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(N(l,m,w,x)&&(m=null),x||w===null?v(l)&&(m===null?i.removeAttribute(l):i.setAttribute(l,""+m)):w.mustUseProperty?i[w.propertyName]=m===null?w.type===3?!1:"":m:(l=w.attributeName,x=w.attributeNamespace,m===null?i.removeAttribute(l):(w=w.type,m=w===3||w===4&&m===!0?"":""+m,x?i.setAttributeNS(x,l,m):i.setAttribute(l,m))))}var E=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),O=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),I=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),W=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var ue=Object.assign,K;function te(i){if(K===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);K=l&&l[1]||""}return`
`+K+i}var ve=!1;function be(i,l){if(!i||ve)return"";ve=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(le){var x=le}Reflect.construct(i,[],l)}else{try{l.call()}catch(le){x=le}i.call(l.prototype)}else{try{throw Error()}catch(le){x=le}i()}}catch(le){if(le&&x&&typeof le.stack=="string"){for(var w=le.stack.split(`
`),k=x.stack.split(`
`),A=w.length-1,B=k.length-1;1<=A&&0<=B&&w[A]!==k[B];)B--;for(;1<=A&&0<=B;A--,B--)if(w[A]!==k[B]){if(A!==1||B!==1)do if(A--,B--,0>B||w[A]!==k[B]){var G=`
`+w[A].replace(" at new "," at ");return i.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",i.displayName)),G}while(1<=A&&0<=B);break}}}finally{ve=!1,Error.prepareStackTrace=m}return(i=i?i.displayName||i.name:"")?te(i):""}function Oe(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=be(i.type,!1),i;case 11:return i=be(i.type.render,!1),i;case 1:return i=be(i.type,!0),i;default:return""}}function Me(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case T:return"Fragment";case O:return"Portal";case M:return"Profiler";case U:return"StrictMode";case L:return"Suspense";case D:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case z:return(i._context.displayName||"Context")+".Provider";case q:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ee:return l=i.displayName||null,l!==null?l:Me(i.type)||"Memo";case oe:l=i._payload,i=i._init;try{return Me(i(l))}catch{}}return null}function Ne(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Me(l);case 8:return l===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function F(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Y(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function V(i){var l=Y(i)?"checked":"value",m=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),x=""+i[l];if(!i.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,k=m.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return w.call(this)},set:function(A){x=""+A,k.call(this,A)}}),Object.defineProperty(i,l,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(A){x=""+A},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function re(i){i._valueTracker||(i._valueTracker=V(i))}function Q(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var m=l.getValue(),x="";return i&&(x=Y(i)?i.checked?"true":"false":i.value),i=x,i!==m?(l.setValue(i),!0):!1}function De(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ce(i,l){var m=l.checked;return ue({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??i._wrapperState.initialChecked})}function rt(i,l){var m=l.defaultValue==null?"":l.defaultValue,x=l.checked!=null?l.checked:l.defaultChecked;m=F(l.value!=null?l.value:m),i._wrapperState={initialChecked:x,initialValue:m,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function fe(i,l){l=l.checked,l!=null&&C(i,"checked",l,!1)}function de(i,l){fe(i,l);var m=F(l.value),x=l.type;if(m!=null)x==="number"?(m===0&&i.value===""||i.value!=m)&&(i.value=""+m):i.value!==""+m&&(i.value=""+m);else if(x==="submit"||x==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?ze(i,l.type,m):l.hasOwnProperty("defaultValue")&&ze(i,l.type,F(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function Je(i,l,m){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var x=l.type;if(!(x!=="submit"&&x!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,m||l===i.value||(i.value=l),i.defaultValue=l}m=i.name,m!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,m!==""&&(i.name=m)}function ze(i,l,m){(l!=="number"||De(i.ownerDocument)!==i)&&(m==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+m&&(i.defaultValue=""+m))}var ce=Array.isArray;function Pe(i,l,m,x){if(i=i.options,l){l={};for(var w=0;w<m.length;w++)l["$"+m[w]]=!0;for(m=0;m<i.length;m++)w=l.hasOwnProperty("$"+i[m].value),i[m].selected!==w&&(i[m].selected=w),w&&x&&(i[m].defaultSelected=!0)}else{for(m=""+F(m),l=null,w=0;w<i.length;w++){if(i[w].value===m){i[w].selected=!0,x&&(i[w].defaultSelected=!0);return}l!==null||i[w].disabled||(l=i[w])}l!==null&&(l.selected=!0)}}function Te(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ae(i,l){var m=l.value;if(m==null){if(m=l.children,l=l.defaultValue,m!=null){if(l!=null)throw Error(r(92));if(ce(m)){if(1<m.length)throw Error(r(93));m=m[0]}l=m}l==null&&(l=""),m=l}i._wrapperState={initialValue:F(m)}}function Re(i,l){var m=F(l.value),x=F(l.defaultValue);m!=null&&(m=""+m,m!==i.value&&(i.value=m),l.defaultValue==null&&i.defaultValue!==m&&(i.defaultValue=m)),x!=null&&(i.defaultValue=""+x)}function tt(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function kt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?kt(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var _e,Ie=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,m,x,w){MSApp.execUnsafeLocalFunction(function(){return i(l,m,x,w)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(_e=_e||document.createElement("div"),_e.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=_e.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function st(i,l){if(l){var m=i.firstChild;if(m&&m===i.lastChild&&m.nodeType===3){m.nodeValue=l;return}}i.textContent=l}var R={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe=["Webkit","ms","Moz","O"];Object.keys(R).forEach(function(i){xe.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),R[l]=R[i]})});function me(i,l,m){return l==null||typeof l=="boolean"||l===""?"":m||typeof l!="number"||l===0||R.hasOwnProperty(i)&&R[i]?(""+l).trim():l+"px"}function ot(i,l){i=i.style;for(var m in l)if(l.hasOwnProperty(m)){var x=m.indexOf("--")===0,w=me(m,l[m],x);m==="float"&&(m="cssFloat"),x?i.setProperty(m,w):i[m]=w}}var St=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sr(i,l){if(l){if(St[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function X(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function Ze(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zt=null,pt=null,Rt=null;function $r(i){if(i=ql(i)){if(typeof zt!="function")throw Error(r(280));var l=i.stateNode;l&&(l=$d(l),zt(i.stateNode,i.type,l))}}function zr(i){pt?Rt?Rt.push(i):Rt=[i]:pt=i}function Or(){if(pt){var i=pt,l=Rt;if(Rt=pt=null,$r(i),l)for(i=0;i<l.length;i++)$r(l[i])}}function nn(i,l){return i(l)}function la(){}var Wn=!1;function hd(i,l,m){if(Wn)return i(l,m);Wn=!0;try{return nn(i,l,m)}finally{Wn=!1,(pt!==null||Rt!==null)&&(la(),Or())}}function mi(i,l){var m=i.stateNode;if(m===null)return null;var x=$d(m);if(x===null)return null;m=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(i=i.type,x=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!x;break e;default:i=!1}if(i)return null;if(m&&typeof m!="function")throw Error(r(231,l,typeof m));return m}var Nl=!1;if(d)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){Nl=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{Nl=!1}function gd(i,l,m,x,w,k,A,B,G){var le=Array.prototype.slice.call(arguments,3);try{l.apply(m,le)}catch(ge){this.onError(ge)}}var Da=!1,ro=null,no=!1,gn=null,_l={onError:function(i){Da=!0,ro=i}};function ao(i,l,m,x,w,k,A,B,G){Da=!1,ro=null,gd.apply(_l,arguments)}function op(i,l,m,x,w,k,A,B,G){if(ao.apply(this,arguments),Da){if(Da){var le=ro;Da=!1,ro=null}else throw Error(r(198));no||(no=!0,gn=le)}}function H(i){var l=i,m=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(m=l.return),i=l.return;while(i)}return l.tag===3?m:null}function we(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Ee(i){if(H(i)!==i)throw Error(r(188))}function Xe(i){var l=i.alternate;if(!l){if(l=H(i),l===null)throw Error(r(188));return l!==i?null:i}for(var m=i,x=l;;){var w=m.return;if(w===null)break;var k=w.alternate;if(k===null){if(x=w.return,x!==null){m=x;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===m)return Ee(w),i;if(k===x)return Ee(w),l;k=k.sibling}throw Error(r(188))}if(m.return!==x.return)m=w,x=k;else{for(var A=!1,B=w.child;B;){if(B===m){A=!0,m=w,x=k;break}if(B===x){A=!0,x=w,m=k;break}B=B.sibling}if(!A){for(B=k.child;B;){if(B===m){A=!0,m=k,x=w;break}if(B===x){A=!0,x=k,m=w;break}B=B.sibling}if(!A)throw Error(r(189))}}if(m.alternate!==x)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?i:l}function at(i){return i=Xe(i),i!==null?mt(i):null}function mt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=mt(i);if(l!==null)return l;i=i.sibling}return null}var ir=t.unstable_scheduleCallback,fb=t.unstable_cancelCallback,uO=t.unstable_shouldYield,mO=t.unstable_requestPaint,er=t.unstable_now,fO=t.unstable_getCurrentPriorityLevel,lp=t.unstable_ImmediatePriority,pb=t.unstable_UserBlockingPriority,xd=t.unstable_NormalPriority,pO=t.unstable_LowPriority,hb=t.unstable_IdlePriority,yd=null,ca=null;function hO(i){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(yd,i,void 0,(i.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:yO,gO=Math.log,xO=Math.LN2;function yO(i){return i>>>=0,i===0?32:31-(gO(i)/xO|0)|0}var vd=64,bd=4194304;function kl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function jd(i,l){var m=i.pendingLanes;if(m===0)return 0;var x=0,w=i.suspendedLanes,k=i.pingedLanes,A=m&268435455;if(A!==0){var B=A&~w;B!==0?x=kl(B):(k&=A,k!==0&&(x=kl(k)))}else A=m&~w,A!==0?x=kl(A):k!==0&&(x=kl(k));if(x===0)return 0;if(l!==0&&l!==x&&(l&w)===0&&(w=x&-x,k=l&-l,w>=k||w===16&&(k&4194240)!==0))return l;if((x&4)!==0&&(x|=m&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=x;0<l;)m=31-Hn(l),w=1<<m,x|=i[m],l&=~w;return x}function vO(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bO(i,l){for(var m=i.suspendedLanes,x=i.pingedLanes,w=i.expirationTimes,k=i.pendingLanes;0<k;){var A=31-Hn(k),B=1<<A,G=w[A];G===-1?((B&m)===0||(B&x)!==0)&&(w[A]=vO(B,l)):G<=l&&(i.expiredLanes|=B),k&=~B}}function cp(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gb(){var i=vd;return vd<<=1,(vd&4194240)===0&&(vd=64),i}function dp(i){for(var l=[],m=0;31>m;m++)l.push(i);return l}function Sl(i,l,m){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Hn(l),i[l]=m}function jO(i,l){var m=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var x=i.eventTimes;for(i=i.expirationTimes;0<m;){var w=31-Hn(m),k=1<<w;l[w]=0,x[w]=-1,i[w]=-1,m&=~k}}function up(i,l){var m=i.entangledLanes|=l;for(i=i.entanglements;m;){var x=31-Hn(m),w=1<<x;w&l|i[x]&l&&(i[x]|=l),m&=~w}}var wt=0;function xb(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var yb,mp,vb,bb,jb,fp=!1,wd=[],Ss=null,Ps=null,Cs=null,Pl=new Map,Cl=new Map,As=[],wO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wb(i,l){switch(i){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":Pl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(l.pointerId)}}function Al(i,l,m,x,w,k){return i===null||i.nativeEvent!==k?(i={blockedOn:l,domEventName:m,eventSystemFlags:x,nativeEvent:k,targetContainers:[w]},l!==null&&(l=ql(l),l!==null&&mp(l)),i):(i.eventSystemFlags|=x,l=i.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),i)}function NO(i,l,m,x,w){switch(l){case"focusin":return Ss=Al(Ss,i,l,m,x,w),!0;case"dragenter":return Ps=Al(Ps,i,l,m,x,w),!0;case"mouseover":return Cs=Al(Cs,i,l,m,x,w),!0;case"pointerover":var k=w.pointerId;return Pl.set(k,Al(Pl.get(k)||null,i,l,m,x,w)),!0;case"gotpointercapture":return k=w.pointerId,Cl.set(k,Al(Cl.get(k)||null,i,l,m,x,w)),!0}return!1}function Nb(i){var l=fi(i.target);if(l!==null){var m=H(l);if(m!==null){if(l=m.tag,l===13){if(l=we(m),l!==null){i.blockedOn=l,jb(i.priority,function(){vb(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){i.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nd(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var m=hp(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(m===null){m=i.nativeEvent;var x=new m.constructor(m.type,m);Se=x,m.target.dispatchEvent(x),Se=null}else return l=ql(m),l!==null&&mp(l),i.blockedOn=m,!1;l.shift()}return!0}function _b(i,l,m){Nd(i)&&m.delete(l)}function _O(){fp=!1,Ss!==null&&Nd(Ss)&&(Ss=null),Ps!==null&&Nd(Ps)&&(Ps=null),Cs!==null&&Nd(Cs)&&(Cs=null),Pl.forEach(_b),Cl.forEach(_b)}function El(i,l){i.blockedOn===l&&(i.blockedOn=null,fp||(fp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_O)))}function Ol(i){function l(w){return El(w,i)}if(0<wd.length){El(wd[0],i);for(var m=1;m<wd.length;m++){var x=wd[m];x.blockedOn===i&&(x.blockedOn=null)}}for(Ss!==null&&El(Ss,i),Ps!==null&&El(Ps,i),Cs!==null&&El(Cs,i),Pl.forEach(l),Cl.forEach(l),m=0;m<As.length;m++)x=As[m],x.blockedOn===i&&(x.blockedOn=null);for(;0<As.length&&(m=As[0],m.blockedOn===null);)Nb(m),m.blockedOn===null&&As.shift()}var so=E.ReactCurrentBatchConfig,_d=!0;function kO(i,l,m,x){var w=wt,k=so.transition;so.transition=null;try{wt=1,pp(i,l,m,x)}finally{wt=w,so.transition=k}}function SO(i,l,m,x){var w=wt,k=so.transition;so.transition=null;try{wt=4,pp(i,l,m,x)}finally{wt=w,so.transition=k}}function pp(i,l,m,x){if(_d){var w=hp(i,l,m,x);if(w===null)Tp(i,l,x,kd,m),wb(i,x);else if(NO(w,i,l,m,x))x.stopPropagation();else if(wb(i,x),l&4&&-1<wO.indexOf(i)){for(;w!==null;){var k=ql(w);if(k!==null&&yb(k),k=hp(i,l,m,x),k===null&&Tp(i,l,x,kd,m),k===w)break;w=k}w!==null&&x.stopPropagation()}else Tp(i,l,x,null,m)}}var kd=null;function hp(i,l,m,x){if(kd=null,i=Ze(x),i=fi(i),i!==null)if(l=H(i),l===null)i=null;else if(m=l.tag,m===13){if(i=we(l),i!==null)return i;i=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return kd=i,null}function kb(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fO()){case lp:return 1;case pb:return 4;case xd:case pO:return 16;case hb:return 536870912;default:return 16}default:return 16}}var Es=null,gp=null,Sd=null;function Sb(){if(Sd)return Sd;var i,l=gp,m=l.length,x,w="value"in Es?Es.value:Es.textContent,k=w.length;for(i=0;i<m&&l[i]===w[i];i++);var A=m-i;for(x=1;x<=A&&l[m-x]===w[k-x];x++);return Sd=w.slice(i,1<x?1-x:void 0)}function Pd(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function Cd(){return!0}function Pb(){return!1}function xn(i){function l(m,x,w,k,A){this._reactName=m,this._targetInst=w,this.type=x,this.nativeEvent=k,this.target=A,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(m=i[B],this[B]=m?m(k):k[B]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Cd:Pb,this.isPropagationStopped=Pb,this}return ue(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Cd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Cd)},persist:function(){},isPersistent:Cd}),l}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=xn(io),Tl=ue({},io,{view:0,detail:0}),PO=xn(Tl),yp,vp,Il,Ad=ue({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Il&&(Il&&i.type==="mousemove"?(yp=i.screenX-Il.screenX,vp=i.screenY-Il.screenY):vp=yp=0,Il=i),yp)},movementY:function(i){return"movementY"in i?i.movementY:vp}}),Cb=xn(Ad),CO=ue({},Ad,{dataTransfer:0}),AO=xn(CO),EO=ue({},Tl,{relatedTarget:0}),bp=xn(EO),OO=ue({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),TO=xn(OO),IO=ue({},io,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),MO=xn(IO),DO=ue({},io,{data:0}),Ab=xn(DO),LO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RO(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=zO[i])?!!l[i]:!1}function jp(){return RO}var FO=ue({},Tl,{key:function(i){if(i.key){var l=LO[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Pd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$O[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(i){return i.type==="keypress"?Pd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Pd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),BO=xn(FO),UO=ue({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eb=xn(UO),qO=ue({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),KO=xn(qO),WO=ue({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),HO=xn(WO),VO=ue({},Ad,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),GO=xn(VO),YO=[9,13,27,32],wp=d&&"CompositionEvent"in window,Ml=null;d&&"documentMode"in document&&(Ml=document.documentMode);var XO=d&&"TextEvent"in window&&!Ml,Ob=d&&(!wp||Ml&&8<Ml&&11>=Ml),Tb=" ",Ib=!1;function Mb(i,l){switch(i){case"keyup":return YO.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Db(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var oo=!1;function JO(i,l){switch(i){case"compositionend":return Db(l);case"keypress":return l.which!==32?null:(Ib=!0,Tb);case"textInput":return i=l.data,i===Tb&&Ib?null:i;default:return null}}function ZO(i,l){if(oo)return i==="compositionend"||!wp&&Mb(i,l)?(i=Sb(),Sd=gp=Es=null,oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ob&&l.locale!=="ko"?null:l.data;default:return null}}var QO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lb(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!QO[i.type]:l==="textarea"}function $b(i,l,m,x){zr(x),l=Md(l,"onChange"),0<l.length&&(m=new xp("onChange","change",null,m,x),i.push({event:m,listeners:l}))}var Dl=null,Ll=null;function e3(i){tj(i,0)}function Ed(i){var l=fo(i);if(Q(l))return i}function t3(i,l){if(i==="change")return l}var zb=!1;if(d){var Np;if(d){var _p="oninput"in document;if(!_p){var Rb=document.createElement("div");Rb.setAttribute("oninput","return;"),_p=typeof Rb.oninput=="function"}Np=_p}else Np=!1;zb=Np&&(!document.documentMode||9<document.documentMode)}function Fb(){Dl&&(Dl.detachEvent("onpropertychange",Bb),Ll=Dl=null)}function Bb(i){if(i.propertyName==="value"&&Ed(Ll)){var l=[];$b(l,Ll,i,Ze(i)),hd(e3,l)}}function r3(i,l,m){i==="focusin"?(Fb(),Dl=l,Ll=m,Dl.attachEvent("onpropertychange",Bb)):i==="focusout"&&Fb()}function n3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ed(Ll)}function a3(i,l){if(i==="click")return Ed(l)}function s3(i,l){if(i==="input"||i==="change")return Ed(l)}function i3(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Vn=typeof Object.is=="function"?Object.is:i3;function $l(i,l){if(Vn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var m=Object.keys(i),x=Object.keys(l);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var w=m[x];if(!u.call(l,w)||!Vn(i[w],l[w]))return!1}return!0}function Ub(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qb(i,l){var m=Ub(i);i=0;for(var x;m;){if(m.nodeType===3){if(x=i+m.textContent.length,i<=l&&x>=l)return{node:m,offset:l-i};i=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ub(m)}}function Kb(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Kb(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Wb(){for(var i=window,l=De();l instanceof i.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)i=l.contentWindow;else break;l=De(i.document)}return l}function kp(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function o3(i){var l=Wb(),m=i.focusedElem,x=i.selectionRange;if(l!==m&&m&&m.ownerDocument&&Kb(m.ownerDocument.documentElement,m)){if(x!==null&&kp(m)){if(l=x.start,i=x.end,i===void 0&&(i=l),"selectionStart"in m)m.selectionStart=l,m.selectionEnd=Math.min(i,m.value.length);else if(i=(l=m.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var w=m.textContent.length,k=Math.min(x.start,w);x=x.end===void 0?k:Math.min(x.end,w),!i.extend&&k>x&&(w=x,x=k,k=w),w=qb(m,k);var A=qb(m,x);w&&A&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),i.removeAllRanges(),k>x?(i.addRange(l),i.extend(A.node,A.offset)):(l.setEnd(A.node,A.offset),i.addRange(l)))}}for(l=[],i=m;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<l.length;m++)i=l[m],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var l3=d&&"documentMode"in document&&11>=document.documentMode,lo=null,Sp=null,zl=null,Pp=!1;function Hb(i,l,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Pp||lo==null||lo!==De(x)||(x=lo,"selectionStart"in x&&kp(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),zl&&$l(zl,x)||(zl=x,x=Md(Sp,"onSelect"),0<x.length&&(l=new xp("onSelect","select",null,l,m),i.push({event:l,listeners:x}),l.target=lo)))}function Od(i,l){var m={};return m[i.toLowerCase()]=l.toLowerCase(),m["Webkit"+i]="webkit"+l,m["Moz"+i]="moz"+l,m}var co={animationend:Od("Animation","AnimationEnd"),animationiteration:Od("Animation","AnimationIteration"),animationstart:Od("Animation","AnimationStart"),transitionend:Od("Transition","TransitionEnd")},Cp={},Vb={};d&&(Vb=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function Td(i){if(Cp[i])return Cp[i];if(!co[i])return i;var l=co[i],m;for(m in l)if(l.hasOwnProperty(m)&&m in Vb)return Cp[i]=l[m];return i}var Gb=Td("animationend"),Yb=Td("animationiteration"),Xb=Td("animationstart"),Jb=Td("transitionend"),Zb=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(i,l){Zb.set(i,l),o(l,[i])}for(var Ap=0;Ap<Qb.length;Ap++){var Ep=Qb[Ap],c3=Ep.toLowerCase(),d3=Ep[0].toUpperCase()+Ep.slice(1);Os(c3,"on"+d3)}Os(Gb,"onAnimationEnd"),Os(Yb,"onAnimationIteration"),Os(Xb,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(Jb,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function ej(i,l,m){var x=i.type||"unknown-event";i.currentTarget=m,op(x,l,void 0,i),i.currentTarget=null}function tj(i,l){l=(l&4)!==0;for(var m=0;m<i.length;m++){var x=i[m],w=x.event;x=x.listeners;e:{var k=void 0;if(l)for(var A=x.length-1;0<=A;A--){var B=x[A],G=B.instance,le=B.currentTarget;if(B=B.listener,G!==k&&w.isPropagationStopped())break e;ej(w,B,le),k=G}else for(A=0;A<x.length;A++){if(B=x[A],G=B.instance,le=B.currentTarget,B=B.listener,G!==k&&w.isPropagationStopped())break e;ej(w,B,le),k=G}}}if(no)throw i=gn,no=!1,gn=null,i}function It(i,l){var m=l[zp];m===void 0&&(m=l[zp]=new Set);var x=i+"__bubble";m.has(x)||(rj(l,i,2,!1),m.add(x))}function Op(i,l,m){var x=0;l&&(x|=4),rj(m,i,x,l)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Fl(i){if(!i[Id]){i[Id]=!0,a.forEach(function(m){m!=="selectionchange"&&(u3.has(m)||Op(m,!1,i),Op(m,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Id]||(l[Id]=!0,Op("selectionchange",!1,l))}}function rj(i,l,m,x){switch(kb(l)){case 1:var w=kO;break;case 4:w=SO;break;default:w=pp}m=w.bind(null,l,m,i),w=void 0,!Nl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),x?w!==void 0?i.addEventListener(l,m,{capture:!0,passive:w}):i.addEventListener(l,m,!0):w!==void 0?i.addEventListener(l,m,{passive:w}):i.addEventListener(l,m,!1)}function Tp(i,l,m,x,w){var k=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var A=x.tag;if(A===3||A===4){var B=x.stateNode.containerInfo;if(B===w||B.nodeType===8&&B.parentNode===w)break;if(A===4)for(A=x.return;A!==null;){var G=A.tag;if((G===3||G===4)&&(G=A.stateNode.containerInfo,G===w||G.nodeType===8&&G.parentNode===w))return;A=A.return}for(;B!==null;){if(A=fi(B),A===null)return;if(G=A.tag,G===5||G===6){x=k=A;continue e}B=B.parentNode}}x=x.return}hd(function(){var le=k,ge=Ze(m),ye=[];e:{var pe=Zb.get(i);if(pe!==void 0){var $e=xp,qe=i;switch(i){case"keypress":if(Pd(m)===0)break e;case"keydown":case"keyup":$e=BO;break;case"focusin":qe="focus",$e=bp;break;case"focusout":qe="blur",$e=bp;break;case"beforeblur":case"afterblur":$e=bp;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$e=Cb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$e=AO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$e=KO;break;case Gb:case Yb:case Xb:$e=TO;break;case Jb:$e=HO;break;case"scroll":$e=PO;break;case"wheel":$e=GO;break;case"copy":case"cut":case"paste":$e=MO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$e=Eb}var Ge=(l&4)!==0,tr=!Ge&&i==="scroll",ne=Ge?pe!==null?pe+"Capture":null:pe;Ge=[];for(var Z=le,se;Z!==null;){se=Z;var ke=se.stateNode;if(se.tag===5&&ke!==null&&(se=ke,ne!==null&&(ke=mi(Z,ne),ke!=null&&Ge.push(Bl(Z,ke,se)))),tr)break;Z=Z.return}0<Ge.length&&(pe=new $e(pe,qe,null,m,ge),ye.push({event:pe,listeners:Ge}))}}if((l&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",$e=i==="mouseout"||i==="pointerout",pe&&m!==Se&&(qe=m.relatedTarget||m.fromElement)&&(fi(qe)||qe[La]))break e;if(($e||pe)&&(pe=ge.window===ge?ge:(pe=ge.ownerDocument)?pe.defaultView||pe.parentWindow:window,$e?(qe=m.relatedTarget||m.toElement,$e=le,qe=qe?fi(qe):null,qe!==null&&(tr=H(qe),qe!==tr||qe.tag!==5&&qe.tag!==6)&&(qe=null)):($e=null,qe=le),$e!==qe)){if(Ge=Cb,ke="onMouseLeave",ne="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Ge=Eb,ke="onPointerLeave",ne="onPointerEnter",Z="pointer"),tr=$e==null?pe:fo($e),se=qe==null?pe:fo(qe),pe=new Ge(ke,Z+"leave",$e,m,ge),pe.target=tr,pe.relatedTarget=se,ke=null,fi(ge)===le&&(Ge=new Ge(ne,Z+"enter",qe,m,ge),Ge.target=se,Ge.relatedTarget=tr,ke=Ge),tr=ke,$e&&qe)t:{for(Ge=$e,ne=qe,Z=0,se=Ge;se;se=uo(se))Z++;for(se=0,ke=ne;ke;ke=uo(ke))se++;for(;0<Z-se;)Ge=uo(Ge),Z--;for(;0<se-Z;)ne=uo(ne),se--;for(;Z--;){if(Ge===ne||ne!==null&&Ge===ne.alternate)break t;Ge=uo(Ge),ne=uo(ne)}Ge=null}else Ge=null;$e!==null&&nj(ye,pe,$e,Ge,!1),qe!==null&&tr!==null&&nj(ye,tr,qe,Ge,!0)}}e:{if(pe=le?fo(le):window,$e=pe.nodeName&&pe.nodeName.toLowerCase(),$e==="select"||$e==="input"&&pe.type==="file")var Ye=t3;else if(Lb(pe))if(zb)Ye=s3;else{Ye=n3;var Qe=r3}else($e=pe.nodeName)&&$e.toLowerCase()==="input"&&(pe.type==="checkbox"||pe.type==="radio")&&(Ye=a3);if(Ye&&(Ye=Ye(i,le))){$b(ye,Ye,m,ge);break e}Qe&&Qe(i,pe,le),i==="focusout"&&(Qe=pe._wrapperState)&&Qe.controlled&&pe.type==="number"&&ze(pe,"number",pe.value)}switch(Qe=le?fo(le):window,i){case"focusin":(Lb(Qe)||Qe.contentEditable==="true")&&(lo=Qe,Sp=le,zl=null);break;case"focusout":zl=Sp=lo=null;break;case"mousedown":Pp=!0;break;case"contextmenu":case"mouseup":case"dragend":Pp=!1,Hb(ye,m,ge);break;case"selectionchange":if(l3)break;case"keydown":case"keyup":Hb(ye,m,ge)}var et;if(wp)e:{switch(i){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else oo?Mb(i,m)&&(nt="onCompositionEnd"):i==="keydown"&&m.keyCode===229&&(nt="onCompositionStart");nt&&(Ob&&m.locale!=="ko"&&(oo||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&oo&&(et=Sb()):(Es=ge,gp="value"in Es?Es.value:Es.textContent,oo=!0)),Qe=Md(le,nt),0<Qe.length&&(nt=new Ab(nt,i,null,m,ge),ye.push({event:nt,listeners:Qe}),et?nt.data=et:(et=Db(m),et!==null&&(nt.data=et)))),(et=XO?JO(i,m):ZO(i,m))&&(le=Md(le,"onBeforeInput"),0<le.length&&(ge=new Ab("onBeforeInput","beforeinput",null,m,ge),ye.push({event:ge,listeners:le}),ge.data=et))}tj(ye,l)})}function Bl(i,l,m){return{instance:i,listener:l,currentTarget:m}}function Md(i,l){for(var m=l+"Capture",x=[];i!==null;){var w=i,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=mi(i,m),k!=null&&x.unshift(Bl(i,k,w)),k=mi(i,l),k!=null&&x.push(Bl(i,k,w))),i=i.return}return x}function uo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function nj(i,l,m,x,w){for(var k=l._reactName,A=[];m!==null&&m!==x;){var B=m,G=B.alternate,le=B.stateNode;if(G!==null&&G===x)break;B.tag===5&&le!==null&&(B=le,w?(G=mi(m,k),G!=null&&A.unshift(Bl(m,G,B))):w||(G=mi(m,k),G!=null&&A.push(Bl(m,G,B)))),m=m.return}A.length!==0&&i.push({event:l,listeners:A})}var m3=/\r\n?/g,f3=/\u0000|\uFFFD/g;function aj(i){return(typeof i=="string"?i:""+i).replace(m3,`
`).replace(f3,"")}function Dd(i,l,m){if(l=aj(l),aj(i)!==l&&m)throw Error(r(425))}function Ld(){}var Ip=null,Mp=null;function Dp(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Lp=typeof setTimeout=="function"?setTimeout:void 0,p3=typeof clearTimeout=="function"?clearTimeout:void 0,sj=typeof Promise=="function"?Promise:void 0,h3=typeof queueMicrotask=="function"?queueMicrotask:typeof sj<"u"?function(i){return sj.resolve(null).then(i).catch(g3)}:Lp;function g3(i){setTimeout(function(){throw i})}function $p(i,l){var m=l,x=0;do{var w=m.nextSibling;if(i.removeChild(m),w&&w.nodeType===8)if(m=w.data,m==="/$"){if(x===0){i.removeChild(w),Ol(l);return}x--}else m!=="$"&&m!=="$?"&&m!=="$!"||x++;m=w}while(m);Ol(l)}function Ts(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function ij(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var m=i.data;if(m==="$"||m==="$!"||m==="$?"){if(l===0)return i;l--}else m==="/$"&&l++}i=i.previousSibling}return null}var mo=Math.random().toString(36).slice(2),da="__reactFiber$"+mo,Ul="__reactProps$"+mo,La="__reactContainer$"+mo,zp="__reactEvents$"+mo,x3="__reactListeners$"+mo,y3="__reactHandles$"+mo;function fi(i){var l=i[da];if(l)return l;for(var m=i.parentNode;m;){if(l=m[La]||m[da]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(i=ij(i);i!==null;){if(m=i[da])return m;i=ij(i)}return l}i=m,m=i.parentNode}return null}function ql(i){return i=i[da]||i[La],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function fo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function $d(i){return i[Ul]||null}var Rp=[],po=-1;function Is(i){return{current:i}}function Mt(i){0>po||(i.current=Rp[po],Rp[po]=null,po--)}function Et(i,l){po++,Rp[po]=i.current,i.current=l}var Ms={},Rr=Is(Ms),an=Is(!1),pi=Ms;function ho(i,l){var m=i.type.contextTypes;if(!m)return Ms;var x=i.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===l)return x.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in m)w[k]=l[k];return x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=w),w}function sn(i){return i=i.childContextTypes,i!=null}function zd(){Mt(an),Mt(Rr)}function oj(i,l,m){if(Rr.current!==Ms)throw Error(r(168));Et(Rr,l),Et(an,m)}function lj(i,l,m){var x=i.stateNode;if(l=l.childContextTypes,typeof x.getChildContext!="function")return m;x=x.getChildContext();for(var w in x)if(!(w in l))throw Error(r(108,Ne(i)||"Unknown",w));return ue({},m,x)}function Rd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ms,pi=Rr.current,Et(Rr,i),Et(an,an.current),!0}function cj(i,l,m){var x=i.stateNode;if(!x)throw Error(r(169));m?(i=lj(i,l,pi),x.__reactInternalMemoizedMergedChildContext=i,Mt(an),Mt(Rr),Et(Rr,i)):Mt(an),Et(an,m)}var $a=null,Fd=!1,Fp=!1;function dj(i){$a===null?$a=[i]:$a.push(i)}function v3(i){Fd=!0,dj(i)}function Ds(){if(!Fp&&$a!==null){Fp=!0;var i=0,l=wt;try{var m=$a;for(wt=1;i<m.length;i++){var x=m[i];do x=x(!0);while(x!==null)}$a=null,Fd=!1}catch(w){throw $a!==null&&($a=$a.slice(i+1)),ir(lp,Ds),w}finally{wt=l,Fp=!1}}return null}var go=[],xo=0,Bd=null,Ud=0,En=[],On=0,hi=null,za=1,Ra="";function gi(i,l){go[xo++]=Ud,go[xo++]=Bd,Bd=i,Ud=l}function uj(i,l,m){En[On++]=za,En[On++]=Ra,En[On++]=hi,hi=i;var x=za;i=Ra;var w=32-Hn(x)-1;x&=~(1<<w),m+=1;var k=32-Hn(l)+w;if(30<k){var A=w-w%5;k=(x&(1<<A)-1).toString(32),x>>=A,w-=A,za=1<<32-Hn(l)+w|m<<w|x,Ra=k+i}else za=1<<k|m<<w|x,Ra=i}function Bp(i){i.return!==null&&(gi(i,1),uj(i,1,0))}function Up(i){for(;i===Bd;)Bd=go[--xo],go[xo]=null,Ud=go[--xo],go[xo]=null;for(;i===hi;)hi=En[--On],En[On]=null,Ra=En[--On],En[On]=null,za=En[--On],En[On]=null}var yn=null,vn=null,Ft=!1,Gn=null;function mj(i,l){var m=Dn(5,null,null,0);m.elementType="DELETED",m.stateNode=l,m.return=i,l=i.deletions,l===null?(i.deletions=[m],i.flags|=16):l.push(m)}function fj(i,l){switch(i.tag){case 5:var m=i.type;return l=l.nodeType!==1||m.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,yn=i,vn=Ts(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,yn=i,vn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(m=hi!==null?{id:za,overflow:Ra}:null,i.memoizedState={dehydrated:l,treeContext:m,retryLane:1073741824},m=Dn(18,null,null,0),m.stateNode=l,m.return=i,i.child=m,yn=i,vn=null,!0):!1;default:return!1}}function qp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kp(i){if(Ft){var l=vn;if(l){var m=l;if(!fj(i,l)){if(qp(i))throw Error(r(418));l=Ts(m.nextSibling);var x=yn;l&&fj(i,l)?mj(x,m):(i.flags=i.flags&-4097|2,Ft=!1,yn=i)}}else{if(qp(i))throw Error(r(418));i.flags=i.flags&-4097|2,Ft=!1,yn=i}}}function pj(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function qd(i){if(i!==yn)return!1;if(!Ft)return pj(i),Ft=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Dp(i.type,i.memoizedProps)),l&&(l=vn)){if(qp(i))throw hj(),Error(r(418));for(;l;)mj(i,l),l=Ts(l.nextSibling)}if(pj(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var m=i.data;if(m==="/$"){if(l===0){vn=Ts(i.nextSibling);break e}l--}else m!=="$"&&m!=="$!"&&m!=="$?"||l++}i=i.nextSibling}vn=null}}else vn=yn?Ts(i.stateNode.nextSibling):null;return!0}function hj(){for(var i=vn;i;)i=Ts(i.nextSibling)}function yo(){vn=yn=null,Ft=!1}function Wp(i){Gn===null?Gn=[i]:Gn.push(i)}var b3=E.ReactCurrentBatchConfig;function Kl(i,l,m){if(i=m.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var x=m.stateNode}if(!x)throw Error(r(147,i));var w=x,k=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===k?l.ref:(l=function(A){var B=w.refs;A===null?delete B[k]:B[k]=A},l._stringRef=k,l)}if(typeof i!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,i))}return i}function Kd(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function gj(i){var l=i._init;return l(i._payload)}function xj(i){function l(ne,Z){if(i){var se=ne.deletions;se===null?(ne.deletions=[Z],ne.flags|=16):se.push(Z)}}function m(ne,Z){if(!i)return null;for(;Z!==null;)l(ne,Z),Z=Z.sibling;return null}function x(ne,Z){for(ne=new Map;Z!==null;)Z.key!==null?ne.set(Z.key,Z):ne.set(Z.index,Z),Z=Z.sibling;return ne}function w(ne,Z){return ne=qs(ne,Z),ne.index=0,ne.sibling=null,ne}function k(ne,Z,se){return ne.index=se,i?(se=ne.alternate,se!==null?(se=se.index,se<Z?(ne.flags|=2,Z):se):(ne.flags|=2,Z)):(ne.flags|=1048576,Z)}function A(ne){return i&&ne.alternate===null&&(ne.flags|=2),ne}function B(ne,Z,se,ke){return Z===null||Z.tag!==6?(Z=Lh(se,ne.mode,ke),Z.return=ne,Z):(Z=w(Z,se),Z.return=ne,Z)}function G(ne,Z,se,ke){var Ye=se.type;return Ye===T?ge(ne,Z,se.props.children,ke,se.key):Z!==null&&(Z.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===oe&&gj(Ye)===Z.type)?(ke=w(Z,se.props),ke.ref=Kl(ne,Z,se),ke.return=ne,ke):(ke=pu(se.type,se.key,se.props,null,ne.mode,ke),ke.ref=Kl(ne,Z,se),ke.return=ne,ke)}function le(ne,Z,se,ke){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==se.containerInfo||Z.stateNode.implementation!==se.implementation?(Z=$h(se,ne.mode,ke),Z.return=ne,Z):(Z=w(Z,se.children||[]),Z.return=ne,Z)}function ge(ne,Z,se,ke,Ye){return Z===null||Z.tag!==7?(Z=_i(se,ne.mode,ke,Ye),Z.return=ne,Z):(Z=w(Z,se),Z.return=ne,Z)}function ye(ne,Z,se){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=Lh(""+Z,ne.mode,se),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return se=pu(Z.type,Z.key,Z.props,null,ne.mode,se),se.ref=Kl(ne,null,Z),se.return=ne,se;case O:return Z=$h(Z,ne.mode,se),Z.return=ne,Z;case oe:var ke=Z._init;return ye(ne,ke(Z._payload),se)}if(ce(Z)||J(Z))return Z=_i(Z,ne.mode,se,null),Z.return=ne,Z;Kd(ne,Z)}return null}function pe(ne,Z,se,ke){var Ye=Z!==null?Z.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Ye!==null?null:B(ne,Z,""+se,ke);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case P:return se.key===Ye?G(ne,Z,se,ke):null;case O:return se.key===Ye?le(ne,Z,se,ke):null;case oe:return Ye=se._init,pe(ne,Z,Ye(se._payload),ke)}if(ce(se)||J(se))return Ye!==null?null:ge(ne,Z,se,ke,null);Kd(ne,se)}return null}function $e(ne,Z,se,ke,Ye){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ne=ne.get(se)||null,B(Z,ne,""+ke,Ye);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case P:return ne=ne.get(ke.key===null?se:ke.key)||null,G(Z,ne,ke,Ye);case O:return ne=ne.get(ke.key===null?se:ke.key)||null,le(Z,ne,ke,Ye);case oe:var Qe=ke._init;return $e(ne,Z,se,Qe(ke._payload),Ye)}if(ce(ke)||J(ke))return ne=ne.get(se)||null,ge(Z,ne,ke,Ye,null);Kd(Z,ke)}return null}function qe(ne,Z,se,ke){for(var Ye=null,Qe=null,et=Z,nt=Z=0,wr=null;et!==null&&nt<se.length;nt++){et.index>nt?(wr=et,et=null):wr=et.sibling;var gt=pe(ne,et,se[nt],ke);if(gt===null){et===null&&(et=wr);break}i&&et&&gt.alternate===null&&l(ne,et),Z=k(gt,Z,nt),Qe===null?Ye=gt:Qe.sibling=gt,Qe=gt,et=wr}if(nt===se.length)return m(ne,et),Ft&&gi(ne,nt),Ye;if(et===null){for(;nt<se.length;nt++)et=ye(ne,se[nt],ke),et!==null&&(Z=k(et,Z,nt),Qe===null?Ye=et:Qe.sibling=et,Qe=et);return Ft&&gi(ne,nt),Ye}for(et=x(ne,et);nt<se.length;nt++)wr=$e(et,ne,nt,se[nt],ke),wr!==null&&(i&&wr.alternate!==null&&et.delete(wr.key===null?nt:wr.key),Z=k(wr,Z,nt),Qe===null?Ye=wr:Qe.sibling=wr,Qe=wr);return i&&et.forEach(function(Ks){return l(ne,Ks)}),Ft&&gi(ne,nt),Ye}function Ge(ne,Z,se,ke){var Ye=J(se);if(typeof Ye!="function")throw Error(r(150));if(se=Ye.call(se),se==null)throw Error(r(151));for(var Qe=Ye=null,et=Z,nt=Z=0,wr=null,gt=se.next();et!==null&&!gt.done;nt++,gt=se.next()){et.index>nt?(wr=et,et=null):wr=et.sibling;var Ks=pe(ne,et,gt.value,ke);if(Ks===null){et===null&&(et=wr);break}i&&et&&Ks.alternate===null&&l(ne,et),Z=k(Ks,Z,nt),Qe===null?Ye=Ks:Qe.sibling=Ks,Qe=Ks,et=wr}if(gt.done)return m(ne,et),Ft&&gi(ne,nt),Ye;if(et===null){for(;!gt.done;nt++,gt=se.next())gt=ye(ne,gt.value,ke),gt!==null&&(Z=k(gt,Z,nt),Qe===null?Ye=gt:Qe.sibling=gt,Qe=gt);return Ft&&gi(ne,nt),Ye}for(et=x(ne,et);!gt.done;nt++,gt=se.next())gt=$e(et,ne,nt,gt.value,ke),gt!==null&&(i&&gt.alternate!==null&&et.delete(gt.key===null?nt:gt.key),Z=k(gt,Z,nt),Qe===null?Ye=gt:Qe.sibling=gt,Qe=gt);return i&&et.forEach(function(Q3){return l(ne,Q3)}),Ft&&gi(ne,nt),Ye}function tr(ne,Z,se,ke){if(typeof se=="object"&&se!==null&&se.type===T&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case P:e:{for(var Ye=se.key,Qe=Z;Qe!==null;){if(Qe.key===Ye){if(Ye=se.type,Ye===T){if(Qe.tag===7){m(ne,Qe.sibling),Z=w(Qe,se.props.children),Z.return=ne,ne=Z;break e}}else if(Qe.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===oe&&gj(Ye)===Qe.type){m(ne,Qe.sibling),Z=w(Qe,se.props),Z.ref=Kl(ne,Qe,se),Z.return=ne,ne=Z;break e}m(ne,Qe);break}else l(ne,Qe);Qe=Qe.sibling}se.type===T?(Z=_i(se.props.children,ne.mode,ke,se.key),Z.return=ne,ne=Z):(ke=pu(se.type,se.key,se.props,null,ne.mode,ke),ke.ref=Kl(ne,Z,se),ke.return=ne,ne=ke)}return A(ne);case O:e:{for(Qe=se.key;Z!==null;){if(Z.key===Qe)if(Z.tag===4&&Z.stateNode.containerInfo===se.containerInfo&&Z.stateNode.implementation===se.implementation){m(ne,Z.sibling),Z=w(Z,se.children||[]),Z.return=ne,ne=Z;break e}else{m(ne,Z);break}else l(ne,Z);Z=Z.sibling}Z=$h(se,ne.mode,ke),Z.return=ne,ne=Z}return A(ne);case oe:return Qe=se._init,tr(ne,Z,Qe(se._payload),ke)}if(ce(se))return qe(ne,Z,se,ke);if(J(se))return Ge(ne,Z,se,ke);Kd(ne,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,Z!==null&&Z.tag===6?(m(ne,Z.sibling),Z=w(Z,se),Z.return=ne,ne=Z):(m(ne,Z),Z=Lh(se,ne.mode,ke),Z.return=ne,ne=Z),A(ne)):m(ne,Z)}return tr}var vo=xj(!0),yj=xj(!1),Wd=Is(null),Hd=null,bo=null,Hp=null;function Vp(){Hp=bo=Hd=null}function Gp(i){var l=Wd.current;Mt(Wd),i._currentValue=l}function Yp(i,l,m){for(;i!==null;){var x=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),i===m)break;i=i.return}}function jo(i,l){Hd=i,Hp=bo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(on=!0),i.firstContext=null)}function Tn(i){var l=i._currentValue;if(Hp!==i)if(i={context:i,memoizedValue:l,next:null},bo===null){if(Hd===null)throw Error(r(308));bo=i,Hd.dependencies={lanes:0,firstContext:i}}else bo=bo.next=i;return l}var xi=null;function Xp(i){xi===null?xi=[i]:xi.push(i)}function vj(i,l,m,x){var w=l.interleaved;return w===null?(m.next=m,Xp(l)):(m.next=w.next,w.next=m),l.interleaved=m,Fa(i,x)}function Fa(i,l){i.lanes|=l;var m=i.alternate;for(m!==null&&(m.lanes|=l),m=i,i=i.return;i!==null;)i.childLanes|=l,m=i.alternate,m!==null&&(m.childLanes|=l),m=i,i=i.return;return m.tag===3?m.stateNode:null}var Ls=!1;function Jp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bj(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ba(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function $s(i,l,m){var x=i.updateQueue;if(x===null)return null;if(x=x.shared,(ht&2)!==0){var w=x.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),x.pending=l,Fa(i,m)}return w=x.interleaved,w===null?(l.next=l,Xp(x)):(l.next=w.next,w.next=l),x.interleaved=l,Fa(i,m)}function Vd(i,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194240)!==0)){var x=l.lanes;x&=i.pendingLanes,m|=x,l.lanes=m,up(i,m)}}function jj(i,l){var m=i.updateQueue,x=i.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var w=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var A={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};k===null?w=k=A:k=k.next=A,m=m.next}while(m!==null);k===null?w=k=l:k=k.next=l}else w=k=l;m={baseState:x.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:x.shared,effects:x.effects},i.updateQueue=m;return}i=m.lastBaseUpdate,i===null?m.firstBaseUpdate=l:i.next=l,m.lastBaseUpdate=l}function Gd(i,l,m,x){var w=i.updateQueue;Ls=!1;var k=w.firstBaseUpdate,A=w.lastBaseUpdate,B=w.shared.pending;if(B!==null){w.shared.pending=null;var G=B,le=G.next;G.next=null,A===null?k=le:A.next=le,A=G;var ge=i.alternate;ge!==null&&(ge=ge.updateQueue,B=ge.lastBaseUpdate,B!==A&&(B===null?ge.firstBaseUpdate=le:B.next=le,ge.lastBaseUpdate=G))}if(k!==null){var ye=w.baseState;A=0,ge=le=G=null,B=k;do{var pe=B.lane,$e=B.eventTime;if((x&pe)===pe){ge!==null&&(ge=ge.next={eventTime:$e,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var qe=i,Ge=B;switch(pe=l,$e=m,Ge.tag){case 1:if(qe=Ge.payload,typeof qe=="function"){ye=qe.call($e,ye,pe);break e}ye=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Ge.payload,pe=typeof qe=="function"?qe.call($e,ye,pe):qe,pe==null)break e;ye=ue({},ye,pe);break e;case 2:Ls=!0}}B.callback!==null&&B.lane!==0&&(i.flags|=64,pe=w.effects,pe===null?w.effects=[B]:pe.push(B))}else $e={eventTime:$e,lane:pe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ge===null?(le=ge=$e,G=ye):ge=ge.next=$e,A|=pe;if(B=B.next,B===null){if(B=w.shared.pending,B===null)break;pe=B,B=pe.next,pe.next=null,w.lastBaseUpdate=pe,w.shared.pending=null}}while(!0);if(ge===null&&(G=ye),w.baseState=G,w.firstBaseUpdate=le,w.lastBaseUpdate=ge,l=w.shared.interleaved,l!==null){w=l;do A|=w.lane,w=w.next;while(w!==l)}else k===null&&(w.shared.lanes=0);bi|=A,i.lanes=A,i.memoizedState=ye}}function wj(i,l,m){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var x=i[l],w=x.callback;if(w!==null){if(x.callback=null,x=m,typeof w!="function")throw Error(r(191,w));w.call(x)}}}var Wl={},ua=Is(Wl),Hl=Is(Wl),Vl=Is(Wl);function yi(i){if(i===Wl)throw Error(r(174));return i}function Zp(i,l){switch(Et(Vl,l),Et(Hl,i),Et(ua,Wl),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:$(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=$(l,i)}Mt(ua),Et(ua,l)}function wo(){Mt(ua),Mt(Hl),Mt(Vl)}function Nj(i){yi(Vl.current);var l=yi(ua.current),m=$(l,i.type);l!==m&&(Et(Hl,i),Et(ua,m))}function Qp(i){Hl.current===i&&(Mt(ua),Mt(Hl))}var Wt=Is(0);function Yd(i){for(var l=i;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var eh=[];function th(){for(var i=0;i<eh.length;i++)eh[i]._workInProgressVersionPrimary=null;eh.length=0}var Xd=E.ReactCurrentDispatcher,rh=E.ReactCurrentBatchConfig,vi=0,Ht=null,ur=null,br=null,Jd=!1,Gl=!1,Yl=0,j3=0;function Fr(){throw Error(r(321))}function nh(i,l){if(l===null)return!1;for(var m=0;m<l.length&&m<i.length;m++)if(!Vn(i[m],l[m]))return!1;return!0}function ah(i,l,m,x,w,k){if(vi=k,Ht=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Xd.current=i===null||i.memoizedState===null?k3:S3,i=m(x,w),Gl){k=0;do{if(Gl=!1,Yl=0,25<=k)throw Error(r(301));k+=1,br=ur=null,l.updateQueue=null,Xd.current=P3,i=m(x,w)}while(Gl)}if(Xd.current=eu,l=ur!==null&&ur.next!==null,vi=0,br=ur=Ht=null,Jd=!1,l)throw Error(r(300));return i}function sh(){var i=Yl!==0;return Yl=0,i}function ma(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?Ht.memoizedState=br=i:br=br.next=i,br}function In(){if(ur===null){var i=Ht.alternate;i=i!==null?i.memoizedState:null}else i=ur.next;var l=br===null?Ht.memoizedState:br.next;if(l!==null)br=l,ur=i;else{if(i===null)throw Error(r(310));ur=i,i={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},br===null?Ht.memoizedState=br=i:br=br.next=i}return br}function Xl(i,l){return typeof l=="function"?l(i):l}function ih(i){var l=In(),m=l.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=i;var x=ur,w=x.baseQueue,k=m.pending;if(k!==null){if(w!==null){var A=w.next;w.next=k.next,k.next=A}x.baseQueue=w=k,m.pending=null}if(w!==null){k=w.next,x=x.baseState;var B=A=null,G=null,le=k;do{var ge=le.lane;if((vi&ge)===ge)G!==null&&(G=G.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),x=le.hasEagerState?le.eagerState:i(x,le.action);else{var ye={lane:ge,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};G===null?(B=G=ye,A=x):G=G.next=ye,Ht.lanes|=ge,bi|=ge}le=le.next}while(le!==null&&le!==k);G===null?A=x:G.next=B,Vn(x,l.memoizedState)||(on=!0),l.memoizedState=x,l.baseState=A,l.baseQueue=G,m.lastRenderedState=x}if(i=m.interleaved,i!==null){w=i;do k=w.lane,Ht.lanes|=k,bi|=k,w=w.next;while(w!==i)}else w===null&&(m.lanes=0);return[l.memoizedState,m.dispatch]}function oh(i){var l=In(),m=l.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=i;var x=m.dispatch,w=m.pending,k=l.memoizedState;if(w!==null){m.pending=null;var A=w=w.next;do k=i(k,A.action),A=A.next;while(A!==w);Vn(k,l.memoizedState)||(on=!0),l.memoizedState=k,l.baseQueue===null&&(l.baseState=k),m.lastRenderedState=k}return[k,x]}function _j(){}function kj(i,l){var m=Ht,x=In(),w=l(),k=!Vn(x.memoizedState,w);if(k&&(x.memoizedState=w,on=!0),x=x.queue,lh(Cj.bind(null,m,x,i),[i]),x.getSnapshot!==l||k||br!==null&&br.memoizedState.tag&1){if(m.flags|=2048,Jl(9,Pj.bind(null,m,x,w,l),void 0,null),jr===null)throw Error(r(349));(vi&30)!==0||Sj(m,l,w)}return w}function Sj(i,l,m){i.flags|=16384,i={getSnapshot:l,value:m},l=Ht.updateQueue,l===null?(l={lastEffect:null,stores:null},Ht.updateQueue=l,l.stores=[i]):(m=l.stores,m===null?l.stores=[i]:m.push(i))}function Pj(i,l,m,x){l.value=m,l.getSnapshot=x,Aj(l)&&Ej(i)}function Cj(i,l,m){return m(function(){Aj(l)&&Ej(i)})}function Aj(i){var l=i.getSnapshot;i=i.value;try{var m=l();return!Vn(i,m)}catch{return!0}}function Ej(i){var l=Fa(i,1);l!==null&&Zn(l,i,1,-1)}function Oj(i){var l=ma();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:i},l.queue=i,i=i.dispatch=_3.bind(null,Ht,i),[l.memoizedState,i]}function Jl(i,l,m,x){return i={tag:i,create:l,destroy:m,deps:x,next:null},l=Ht.updateQueue,l===null?(l={lastEffect:null,stores:null},Ht.updateQueue=l,l.lastEffect=i.next=i):(m=l.lastEffect,m===null?l.lastEffect=i.next=i:(x=m.next,m.next=i,i.next=x,l.lastEffect=i)),i}function Tj(){return In().memoizedState}function Zd(i,l,m,x){var w=ma();Ht.flags|=i,w.memoizedState=Jl(1|l,m,void 0,x===void 0?null:x)}function Qd(i,l,m,x){var w=In();x=x===void 0?null:x;var k=void 0;if(ur!==null){var A=ur.memoizedState;if(k=A.destroy,x!==null&&nh(x,A.deps)){w.memoizedState=Jl(l,m,k,x);return}}Ht.flags|=i,w.memoizedState=Jl(1|l,m,k,x)}function Ij(i,l){return Zd(8390656,8,i,l)}function lh(i,l){return Qd(2048,8,i,l)}function Mj(i,l){return Qd(4,2,i,l)}function Dj(i,l){return Qd(4,4,i,l)}function Lj(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function $j(i,l,m){return m=m!=null?m.concat([i]):null,Qd(4,4,Lj.bind(null,l,i),m)}function ch(){}function zj(i,l){var m=In();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&nh(l,x[1])?x[0]:(m.memoizedState=[i,l],i)}function Rj(i,l){var m=In();l=l===void 0?null:l;var x=m.memoizedState;return x!==null&&l!==null&&nh(l,x[1])?x[0]:(i=i(),m.memoizedState=[i,l],i)}function Fj(i,l,m){return(vi&21)===0?(i.baseState&&(i.baseState=!1,on=!0),i.memoizedState=m):(Vn(m,l)||(m=gb(),Ht.lanes|=m,bi|=m,i.baseState=!0),l)}function w3(i,l){var m=wt;wt=m!==0&&4>m?m:4,i(!0);var x=rh.transition;rh.transition={};try{i(!1),l()}finally{wt=m,rh.transition=x}}function Bj(){return In().memoizedState}function N3(i,l,m){var x=Bs(i);if(m={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null},Uj(i))qj(l,m);else if(m=vj(i,l,m,x),m!==null){var w=Jr();Zn(m,i,x,w),Kj(m,l,x)}}function _3(i,l,m){var x=Bs(i),w={lane:x,action:m,hasEagerState:!1,eagerState:null,next:null};if(Uj(i))qj(l,w);else{var k=i.alternate;if(i.lanes===0&&(k===null||k.lanes===0)&&(k=l.lastRenderedReducer,k!==null))try{var A=l.lastRenderedState,B=k(A,m);if(w.hasEagerState=!0,w.eagerState=B,Vn(B,A)){var G=l.interleaved;G===null?(w.next=w,Xp(l)):(w.next=G.next,G.next=w),l.interleaved=w;return}}catch{}m=vj(i,l,w,x),m!==null&&(w=Jr(),Zn(m,i,x,w),Kj(m,l,x))}}function Uj(i){var l=i.alternate;return i===Ht||l!==null&&l===Ht}function qj(i,l){Gl=Jd=!0;var m=i.pending;m===null?l.next=l:(l.next=m.next,m.next=l),i.pending=l}function Kj(i,l,m){if((m&4194240)!==0){var x=l.lanes;x&=i.pendingLanes,m|=x,l.lanes=m,up(i,m)}}var eu={readContext:Tn,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},k3={readContext:Tn,useCallback:function(i,l){return ma().memoizedState=[i,l===void 0?null:l],i},useContext:Tn,useEffect:Ij,useImperativeHandle:function(i,l,m){return m=m!=null?m.concat([i]):null,Zd(4194308,4,Lj.bind(null,l,i),m)},useLayoutEffect:function(i,l){return Zd(4194308,4,i,l)},useInsertionEffect:function(i,l){return Zd(4,2,i,l)},useMemo:function(i,l){var m=ma();return l=l===void 0?null:l,i=i(),m.memoizedState=[i,l],i},useReducer:function(i,l,m){var x=ma();return l=m!==void 0?m(l):l,x.memoizedState=x.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},x.queue=i,i=i.dispatch=N3.bind(null,Ht,i),[x.memoizedState,i]},useRef:function(i){var l=ma();return i={current:i},l.memoizedState=i},useState:Oj,useDebugValue:ch,useDeferredValue:function(i){return ma().memoizedState=i},useTransition:function(){var i=Oj(!1),l=i[0];return i=w3.bind(null,i[1]),ma().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,m){var x=Ht,w=ma();if(Ft){if(m===void 0)throw Error(r(407));m=m()}else{if(m=l(),jr===null)throw Error(r(349));(vi&30)!==0||Sj(x,l,m)}w.memoizedState=m;var k={value:m,getSnapshot:l};return w.queue=k,Ij(Cj.bind(null,x,k,i),[i]),x.flags|=2048,Jl(9,Pj.bind(null,x,k,m,l),void 0,null),m},useId:function(){var i=ma(),l=jr.identifierPrefix;if(Ft){var m=Ra,x=za;m=(x&~(1<<32-Hn(x)-1)).toString(32)+m,l=":"+l+"R"+m,m=Yl++,0<m&&(l+="H"+m.toString(32)),l+=":"}else m=j3++,l=":"+l+"r"+m.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},S3={readContext:Tn,useCallback:zj,useContext:Tn,useEffect:lh,useImperativeHandle:$j,useInsertionEffect:Mj,useLayoutEffect:Dj,useMemo:Rj,useReducer:ih,useRef:Tj,useState:function(){return ih(Xl)},useDebugValue:ch,useDeferredValue:function(i){var l=In();return Fj(l,ur.memoizedState,i)},useTransition:function(){var i=ih(Xl)[0],l=In().memoizedState;return[i,l]},useMutableSource:_j,useSyncExternalStore:kj,useId:Bj,unstable_isNewReconciler:!1},P3={readContext:Tn,useCallback:zj,useContext:Tn,useEffect:lh,useImperativeHandle:$j,useInsertionEffect:Mj,useLayoutEffect:Dj,useMemo:Rj,useReducer:oh,useRef:Tj,useState:function(){return oh(Xl)},useDebugValue:ch,useDeferredValue:function(i){var l=In();return ur===null?l.memoizedState=i:Fj(l,ur.memoizedState,i)},useTransition:function(){var i=oh(Xl)[0],l=In().memoizedState;return[i,l]},useMutableSource:_j,useSyncExternalStore:kj,useId:Bj,unstable_isNewReconciler:!1};function Yn(i,l){if(i&&i.defaultProps){l=ue({},l),i=i.defaultProps;for(var m in i)l[m]===void 0&&(l[m]=i[m]);return l}return l}function dh(i,l,m,x){l=i.memoizedState,m=m(x,l),m=m==null?l:ue({},l,m),i.memoizedState=m,i.lanes===0&&(i.updateQueue.baseState=m)}var tu={isMounted:function(i){return(i=i._reactInternals)?H(i)===i:!1},enqueueSetState:function(i,l,m){i=i._reactInternals;var x=Jr(),w=Bs(i),k=Ba(x,w);k.payload=l,m!=null&&(k.callback=m),l=$s(i,k,w),l!==null&&(Zn(l,i,w,x),Vd(l,i,w))},enqueueReplaceState:function(i,l,m){i=i._reactInternals;var x=Jr(),w=Bs(i),k=Ba(x,w);k.tag=1,k.payload=l,m!=null&&(k.callback=m),l=$s(i,k,w),l!==null&&(Zn(l,i,w,x),Vd(l,i,w))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var m=Jr(),x=Bs(i),w=Ba(m,x);w.tag=2,l!=null&&(w.callback=l),l=$s(i,w,x),l!==null&&(Zn(l,i,x,m),Vd(l,i,x))}};function Wj(i,l,m,x,w,k,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(x,k,A):l.prototype&&l.prototype.isPureReactComponent?!$l(m,x)||!$l(w,k):!0}function Hj(i,l,m){var x=!1,w=Ms,k=l.contextType;return typeof k=="object"&&k!==null?k=Tn(k):(w=sn(l)?pi:Rr.current,x=l.contextTypes,k=(x=x!=null)?ho(i,w):Ms),l=new l(m,k),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=tu,i.stateNode=l,l._reactInternals=i,x&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=k),l}function Vj(i,l,m,x){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,x),l.state!==i&&tu.enqueueReplaceState(l,l.state,null)}function uh(i,l,m,x){var w=i.stateNode;w.props=m,w.state=i.memoizedState,w.refs={},Jp(i);var k=l.contextType;typeof k=="object"&&k!==null?w.context=Tn(k):(k=sn(l)?pi:Rr.current,w.context=ho(i,k)),w.state=i.memoizedState,k=l.getDerivedStateFromProps,typeof k=="function"&&(dh(i,l,k,m),w.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&tu.enqueueReplaceState(w,w.state,null),Gd(i,m,w,x),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function No(i,l){try{var m="",x=l;do m+=Oe(x),x=x.return;while(x);var w=m}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:i,source:l,stack:w,digest:null}}function mh(i,l,m){return{value:i,source:null,stack:m??null,digest:l??null}}function fh(i,l){try{console.error(l.value)}catch(m){setTimeout(function(){throw m})}}var C3=typeof WeakMap=="function"?WeakMap:Map;function Gj(i,l,m){m=Ba(-1,m),m.tag=3,m.payload={element:null};var x=l.value;return m.callback=function(){lu||(lu=!0,Ch=x),fh(i,l)},m}function Yj(i,l,m){m=Ba(-1,m),m.tag=3;var x=i.type.getDerivedStateFromError;if(typeof x=="function"){var w=l.value;m.payload=function(){return x(w)},m.callback=function(){fh(i,l)}}var k=i.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(m.callback=function(){fh(i,l),typeof x!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),m}function Xj(i,l,m){var x=i.pingCache;if(x===null){x=i.pingCache=new C3;var w=new Set;x.set(l,w)}else w=x.get(l),w===void 0&&(w=new Set,x.set(l,w));w.has(m)||(w.add(m),i=U3.bind(null,i,l,m),l.then(i,i))}function Jj(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Zj(i,l,m,x,w){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(l=Ba(-1,1),l.tag=2,$s(m,l,1))),m.lanes|=1),i):(i.flags|=65536,i.lanes=w,i)}var A3=E.ReactCurrentOwner,on=!1;function Xr(i,l,m,x){l.child=i===null?yj(l,null,m,x):vo(l,i.child,m,x)}function Qj(i,l,m,x,w){m=m.render;var k=l.ref;return jo(l,w),x=ah(i,l,m,x,k,w),m=sh(),i!==null&&!on?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~w,Ua(i,l,w)):(Ft&&m&&Bp(l),l.flags|=1,Xr(i,l,x,w),l.child)}function ew(i,l,m,x,w){if(i===null){var k=m.type;return typeof k=="function"&&!Dh(k)&&k.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(l.tag=15,l.type=k,tw(i,l,k,x,w)):(i=pu(m.type,null,x,l,l.mode,w),i.ref=l.ref,i.return=l,l.child=i)}if(k=i.child,(i.lanes&w)===0){var A=k.memoizedProps;if(m=m.compare,m=m!==null?m:$l,m(A,x)&&i.ref===l.ref)return Ua(i,l,w)}return l.flags|=1,i=qs(k,x),i.ref=l.ref,i.return=l,l.child=i}function tw(i,l,m,x,w){if(i!==null){var k=i.memoizedProps;if($l(k,x)&&i.ref===l.ref)if(on=!1,l.pendingProps=x=k,(i.lanes&w)!==0)(i.flags&131072)!==0&&(on=!0);else return l.lanes=i.lanes,Ua(i,l,w)}return ph(i,l,m,x,w)}function rw(i,l,m){var x=l.pendingProps,w=x.children,k=i!==null?i.memoizedState:null;if(x.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(ko,bn),bn|=m;else{if((m&1073741824)===0)return i=k!==null?k.baseLanes|m:m,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,Et(ko,bn),bn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=k!==null?k.baseLanes:m,Et(ko,bn),bn|=x}else k!==null?(x=k.baseLanes|m,l.memoizedState=null):x=m,Et(ko,bn),bn|=x;return Xr(i,l,w,m),l.child}function nw(i,l){var m=l.ref;(i===null&&m!==null||i!==null&&i.ref!==m)&&(l.flags|=512,l.flags|=2097152)}function ph(i,l,m,x,w){var k=sn(m)?pi:Rr.current;return k=ho(l,k),jo(l,w),m=ah(i,l,m,x,k,w),x=sh(),i!==null&&!on?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~w,Ua(i,l,w)):(Ft&&x&&Bp(l),l.flags|=1,Xr(i,l,m,w),l.child)}function aw(i,l,m,x,w){if(sn(m)){var k=!0;Rd(l)}else k=!1;if(jo(l,w),l.stateNode===null)nu(i,l),Hj(l,m,x),uh(l,m,x,w),x=!0;else if(i===null){var A=l.stateNode,B=l.memoizedProps;A.props=B;var G=A.context,le=m.contextType;typeof le=="object"&&le!==null?le=Tn(le):(le=sn(m)?pi:Rr.current,le=ho(l,le));var ge=m.getDerivedStateFromProps,ye=typeof ge=="function"||typeof A.getSnapshotBeforeUpdate=="function";ye||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==x||G!==le)&&Vj(l,A,x,le),Ls=!1;var pe=l.memoizedState;A.state=pe,Gd(l,x,A,w),G=l.memoizedState,B!==x||pe!==G||an.current||Ls?(typeof ge=="function"&&(dh(l,m,ge,x),G=l.memoizedState),(B=Ls||Wj(l,m,B,x,pe,G,le))?(ye||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=G),A.props=x,A.state=G,A.context=le,x=B):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{A=l.stateNode,bj(i,l),B=l.memoizedProps,le=l.type===l.elementType?B:Yn(l.type,B),A.props=le,ye=l.pendingProps,pe=A.context,G=m.contextType,typeof G=="object"&&G!==null?G=Tn(G):(G=sn(m)?pi:Rr.current,G=ho(l,G));var $e=m.getDerivedStateFromProps;(ge=typeof $e=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(B!==ye||pe!==G)&&Vj(l,A,x,G),Ls=!1,pe=l.memoizedState,A.state=pe,Gd(l,x,A,w);var qe=l.memoizedState;B!==ye||pe!==qe||an.current||Ls?(typeof $e=="function"&&(dh(l,m,$e,x),qe=l.memoizedState),(le=Ls||Wj(l,m,le,x,pe,qe,G)||!1)?(ge||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(x,qe,G),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(x,qe,G)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||B===i.memoizedProps&&pe===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&pe===i.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=qe),A.props=x,A.state=qe,A.context=G,x=le):(typeof A.componentDidUpdate!="function"||B===i.memoizedProps&&pe===i.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||B===i.memoizedProps&&pe===i.memoizedState||(l.flags|=1024),x=!1)}return hh(i,l,m,x,k,w)}function hh(i,l,m,x,w,k){nw(i,l);var A=(l.flags&128)!==0;if(!x&&!A)return w&&cj(l,m,!1),Ua(i,l,k);x=l.stateNode,A3.current=l;var B=A&&typeof m.getDerivedStateFromError!="function"?null:x.render();return l.flags|=1,i!==null&&A?(l.child=vo(l,i.child,null,k),l.child=vo(l,null,B,k)):Xr(i,l,B,k),l.memoizedState=x.state,w&&cj(l,m,!0),l.child}function sw(i){var l=i.stateNode;l.pendingContext?oj(i,l.pendingContext,l.pendingContext!==l.context):l.context&&oj(i,l.context,!1),Zp(i,l.containerInfo)}function iw(i,l,m,x,w){return yo(),Wp(w),l.flags|=256,Xr(i,l,m,x),l.child}var gh={dehydrated:null,treeContext:null,retryLane:0};function xh(i){return{baseLanes:i,cachePool:null,transitions:null}}function ow(i,l,m){var x=l.pendingProps,w=Wt.current,k=!1,A=(l.flags&128)!==0,B;if((B=A)||(B=i!==null&&i.memoizedState===null?!1:(w&2)!==0),B?(k=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Et(Wt,w&1),i===null)return Kp(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(A=x.children,i=x.fallback,k?(x=l.mode,k=l.child,A={mode:"hidden",children:A},(x&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=A):k=hu(A,x,0,null),i=_i(i,x,m,null),k.return=l,i.return=l,k.sibling=i,l.child=k,l.child.memoizedState=xh(m),l.memoizedState=gh,i):yh(l,A));if(w=i.memoizedState,w!==null&&(B=w.dehydrated,B!==null))return E3(i,l,A,x,B,w,m);if(k){k=x.fallback,A=l.mode,w=i.child,B=w.sibling;var G={mode:"hidden",children:x.children};return(A&1)===0&&l.child!==w?(x=l.child,x.childLanes=0,x.pendingProps=G,l.deletions=null):(x=qs(w,G),x.subtreeFlags=w.subtreeFlags&14680064),B!==null?k=qs(B,k):(k=_i(k,A,m,null),k.flags|=2),k.return=l,x.return=l,x.sibling=k,l.child=x,x=k,k=l.child,A=i.child.memoizedState,A=A===null?xh(m):{baseLanes:A.baseLanes|m,cachePool:null,transitions:A.transitions},k.memoizedState=A,k.childLanes=i.childLanes&~m,l.memoizedState=gh,x}return k=i.child,i=k.sibling,x=qs(k,{mode:"visible",children:x.children}),(l.mode&1)===0&&(x.lanes=m),x.return=l,x.sibling=null,i!==null&&(m=l.deletions,m===null?(l.deletions=[i],l.flags|=16):m.push(i)),l.child=x,l.memoizedState=null,x}function yh(i,l){return l=hu({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function ru(i,l,m,x){return x!==null&&Wp(x),vo(l,i.child,null,m),i=yh(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function E3(i,l,m,x,w,k,A){if(m)return l.flags&256?(l.flags&=-257,x=mh(Error(r(422))),ru(i,l,A,x)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(k=x.fallback,w=l.mode,x=hu({mode:"visible",children:x.children},w,0,null),k=_i(k,w,A,null),k.flags|=2,x.return=l,k.return=l,x.sibling=k,l.child=x,(l.mode&1)!==0&&vo(l,i.child,null,A),l.child.memoizedState=xh(A),l.memoizedState=gh,k);if((l.mode&1)===0)return ru(i,l,A,null);if(w.data==="$!"){if(x=w.nextSibling&&w.nextSibling.dataset,x)var B=x.dgst;return x=B,k=Error(r(419)),x=mh(k,x,void 0),ru(i,l,A,x)}if(B=(A&i.childLanes)!==0,on||B){if(x=jr,x!==null){switch(A&-A){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(x.suspendedLanes|A))!==0?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,Fa(i,w),Zn(x,i,w,-1))}return Mh(),x=mh(Error(r(421))),ru(i,l,A,x)}return w.data==="$?"?(l.flags|=128,l.child=i.child,l=q3.bind(null,i),w._reactRetry=l,null):(i=k.treeContext,vn=Ts(w.nextSibling),yn=l,Ft=!0,Gn=null,i!==null&&(En[On++]=za,En[On++]=Ra,En[On++]=hi,za=i.id,Ra=i.overflow,hi=l),l=yh(l,x.children),l.flags|=4096,l)}function lw(i,l,m){i.lanes|=l;var x=i.alternate;x!==null&&(x.lanes|=l),Yp(i.return,l,m)}function vh(i,l,m,x,w){var k=i.memoizedState;k===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:w}:(k.isBackwards=l,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=m,k.tailMode=w)}function cw(i,l,m){var x=l.pendingProps,w=x.revealOrder,k=x.tail;if(Xr(i,l,x.children,m),x=Wt.current,(x&2)!==0)x=x&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lw(i,m,l);else if(i.tag===19)lw(i,m,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}x&=1}if(Et(Wt,x),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(m=l.child,w=null;m!==null;)i=m.alternate,i!==null&&Yd(i)===null&&(w=m),m=m.sibling;m=w,m===null?(w=l.child,l.child=null):(w=m.sibling,m.sibling=null),vh(l,!1,w,m,k);break;case"backwards":for(m=null,w=l.child,l.child=null;w!==null;){if(i=w.alternate,i!==null&&Yd(i)===null){l.child=w;break}i=w.sibling,w.sibling=m,m=w,w=i}vh(l,!0,m,null,k);break;case"together":vh(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function nu(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Ua(i,l,m){if(i!==null&&(l.dependencies=i.dependencies),bi|=l.lanes,(m&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,m=qs(i,i.pendingProps),l.child=m,m.return=l;i.sibling!==null;)i=i.sibling,m=m.sibling=qs(i,i.pendingProps),m.return=l;m.sibling=null}return l.child}function O3(i,l,m){switch(l.tag){case 3:sw(l),yo();break;case 5:Nj(l);break;case 1:sn(l.type)&&Rd(l);break;case 4:Zp(l,l.stateNode.containerInfo);break;case 10:var x=l.type._context,w=l.memoizedProps.value;Et(Wd,x._currentValue),x._currentValue=w;break;case 13:if(x=l.memoizedState,x!==null)return x.dehydrated!==null?(Et(Wt,Wt.current&1),l.flags|=128,null):(m&l.child.childLanes)!==0?ow(i,l,m):(Et(Wt,Wt.current&1),i=Ua(i,l,m),i!==null?i.sibling:null);Et(Wt,Wt.current&1);break;case 19:if(x=(m&l.childLanes)!==0,(i.flags&128)!==0){if(x)return cw(i,l,m);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Et(Wt,Wt.current),x)break;return null;case 22:case 23:return l.lanes=0,rw(i,l,m)}return Ua(i,l,m)}var dw,bh,uw,mw;dw=function(i,l){for(var m=l.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===l)break;for(;m.sibling===null;){if(m.return===null||m.return===l)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},bh=function(){},uw=function(i,l,m,x){var w=i.memoizedProps;if(w!==x){i=l.stateNode,yi(ua.current);var k=null;switch(m){case"input":w=Ce(i,w),x=Ce(i,x),k=[];break;case"select":w=ue({},w,{value:void 0}),x=ue({},x,{value:void 0}),k=[];break;case"textarea":w=Te(i,w),x=Te(i,x),k=[];break;default:typeof w.onClick!="function"&&typeof x.onClick=="function"&&(i.onclick=Ld)}sr(m,x);var A;m=null;for(le in w)if(!x.hasOwnProperty(le)&&w.hasOwnProperty(le)&&w[le]!=null)if(le==="style"){var B=w[le];for(A in B)B.hasOwnProperty(A)&&(m||(m={}),m[A]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(s.hasOwnProperty(le)?k||(k=[]):(k=k||[]).push(le,null));for(le in x){var G=x[le];if(B=w?.[le],x.hasOwnProperty(le)&&G!==B&&(G!=null||B!=null))if(le==="style")if(B){for(A in B)!B.hasOwnProperty(A)||G&&G.hasOwnProperty(A)||(m||(m={}),m[A]="");for(A in G)G.hasOwnProperty(A)&&B[A]!==G[A]&&(m||(m={}),m[A]=G[A])}else m||(k||(k=[]),k.push(le,m)),m=G;else le==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,B=B?B.__html:void 0,G!=null&&B!==G&&(k=k||[]).push(le,G)):le==="children"?typeof G!="string"&&typeof G!="number"||(k=k||[]).push(le,""+G):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(s.hasOwnProperty(le)?(G!=null&&le==="onScroll"&&It("scroll",i),k||B===G||(k=[])):(k=k||[]).push(le,G))}m&&(k=k||[]).push("style",m);var le=k;(l.updateQueue=le)&&(l.flags|=4)}},mw=function(i,l,m,x){m!==x&&(l.flags|=4)};function Zl(i,l){if(!Ft)switch(i.tailMode){case"hidden":l=i.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?i.tail=null:m.sibling=null;break;case"collapsed":m=i.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:x.sibling=null}}function Br(i){var l=i.alternate!==null&&i.alternate.child===i.child,m=0,x=0;if(l)for(var w=i.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags&14680064,x|=w.flags&14680064,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)m|=w.lanes|w.childLanes,x|=w.subtreeFlags,x|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=x,i.childLanes=m,l}function T3(i,l,m){var x=l.pendingProps;switch(Up(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(l),null;case 1:return sn(l.type)&&zd(),Br(l),null;case 3:return x=l.stateNode,wo(),Mt(an),Mt(Rr),th(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(i===null||i.child===null)&&(qd(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Gn!==null&&(Oh(Gn),Gn=null))),bh(i,l),Br(l),null;case 5:Qp(l);var w=yi(Vl.current);if(m=l.type,i!==null&&l.stateNode!=null)uw(i,l,m,x,w),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!x){if(l.stateNode===null)throw Error(r(166));return Br(l),null}if(i=yi(ua.current),qd(l)){x=l.stateNode,m=l.type;var k=l.memoizedProps;switch(x[da]=l,x[Ul]=k,i=(l.mode&1)!==0,m){case"dialog":It("cancel",x),It("close",x);break;case"iframe":case"object":case"embed":It("load",x);break;case"video":case"audio":for(w=0;w<Rl.length;w++)It(Rl[w],x);break;case"source":It("error",x);break;case"img":case"image":case"link":It("error",x),It("load",x);break;case"details":It("toggle",x);break;case"input":rt(x,k),It("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!k.multiple},It("invalid",x);break;case"textarea":Ae(x,k),It("invalid",x)}sr(m,k),w=null;for(var A in k)if(k.hasOwnProperty(A)){var B=k[A];A==="children"?typeof B=="string"?x.textContent!==B&&(k.suppressHydrationWarning!==!0&&Dd(x.textContent,B,i),w=["children",B]):typeof B=="number"&&x.textContent!==""+B&&(k.suppressHydrationWarning!==!0&&Dd(x.textContent,B,i),w=["children",""+B]):s.hasOwnProperty(A)&&B!=null&&A==="onScroll"&&It("scroll",x)}switch(m){case"input":re(x),Je(x,k,!0);break;case"textarea":re(x),tt(x);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(x.onclick=Ld)}x=w,l.updateQueue=x,x!==null&&(l.flags|=4)}else{A=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=kt(m)),i==="http://www.w3.org/1999/xhtml"?m==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof x.is=="string"?i=A.createElement(m,{is:x.is}):(i=A.createElement(m),m==="select"&&(A=i,x.multiple?A.multiple=!0:x.size&&(A.size=x.size))):i=A.createElementNS(i,m),i[da]=l,i[Ul]=x,dw(i,l,!1,!1),l.stateNode=i;e:{switch(A=X(m,x),m){case"dialog":It("cancel",i),It("close",i),w=x;break;case"iframe":case"object":case"embed":It("load",i),w=x;break;case"video":case"audio":for(w=0;w<Rl.length;w++)It(Rl[w],i);w=x;break;case"source":It("error",i),w=x;break;case"img":case"image":case"link":It("error",i),It("load",i),w=x;break;case"details":It("toggle",i),w=x;break;case"input":rt(i,x),w=Ce(i,x),It("invalid",i);break;case"option":w=x;break;case"select":i._wrapperState={wasMultiple:!!x.multiple},w=ue({},x,{value:void 0}),It("invalid",i);break;case"textarea":Ae(i,x),w=Te(i,x),It("invalid",i);break;default:w=x}sr(m,w),B=w;for(k in B)if(B.hasOwnProperty(k)){var G=B[k];k==="style"?ot(i,G):k==="dangerouslySetInnerHTML"?(G=G?G.__html:void 0,G!=null&&Ie(i,G)):k==="children"?typeof G=="string"?(m!=="textarea"||G!=="")&&st(i,G):typeof G=="number"&&st(i,""+G):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(s.hasOwnProperty(k)?G!=null&&k==="onScroll"&&It("scroll",i):G!=null&&C(i,k,G,A))}switch(m){case"input":re(i),Je(i,x,!1);break;case"textarea":re(i),tt(i);break;case"option":x.value!=null&&i.setAttribute("value",""+F(x.value));break;case"select":i.multiple=!!x.multiple,k=x.value,k!=null?Pe(i,!!x.multiple,k,!1):x.defaultValue!=null&&Pe(i,!!x.multiple,x.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Ld)}switch(m){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Br(l),null;case 6:if(i&&l.stateNode!=null)mw(i,l,i.memoizedProps,x);else{if(typeof x!="string"&&l.stateNode===null)throw Error(r(166));if(m=yi(Vl.current),yi(ua.current),qd(l)){if(x=l.stateNode,m=l.memoizedProps,x[da]=l,(k=x.nodeValue!==m)&&(i=yn,i!==null))switch(i.tag){case 3:Dd(x.nodeValue,m,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Dd(x.nodeValue,m,(i.mode&1)!==0)}k&&(l.flags|=4)}else x=(m.nodeType===9?m:m.ownerDocument).createTextNode(x),x[da]=l,l.stateNode=x}return Br(l),null;case 13:if(Mt(Wt),x=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ft&&vn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)hj(),yo(),l.flags|=98560,k=!1;else if(k=qd(l),x!==null&&x.dehydrated!==null){if(i===null){if(!k)throw Error(r(318));if(k=l.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(r(317));k[da]=l}else yo(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Br(l),k=!1}else Gn!==null&&(Oh(Gn),Gn=null),k=!0;if(!k)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=m,l):(x=x!==null,x!==(i!==null&&i.memoizedState!==null)&&x&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(Wt.current&1)!==0?mr===0&&(mr=3):Mh())),l.updateQueue!==null&&(l.flags|=4),Br(l),null);case 4:return wo(),bh(i,l),i===null&&Fl(l.stateNode.containerInfo),Br(l),null;case 10:return Gp(l.type._context),Br(l),null;case 17:return sn(l.type)&&zd(),Br(l),null;case 19:if(Mt(Wt),k=l.memoizedState,k===null)return Br(l),null;if(x=(l.flags&128)!==0,A=k.rendering,A===null)if(x)Zl(k,!1);else{if(mr!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(A=Yd(i),A!==null){for(l.flags|=128,Zl(k,!1),x=A.updateQueue,x!==null&&(l.updateQueue=x,l.flags|=4),l.subtreeFlags=0,x=m,m=l.child;m!==null;)k=m,i=x,k.flags&=14680066,A=k.alternate,A===null?(k.childLanes=0,k.lanes=i,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=A.childLanes,k.lanes=A.lanes,k.child=A.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=A.memoizedProps,k.memoizedState=A.memoizedState,k.updateQueue=A.updateQueue,k.type=A.type,i=A.dependencies,k.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),m=m.sibling;return Et(Wt,Wt.current&1|2),l.child}i=i.sibling}k.tail!==null&&er()>So&&(l.flags|=128,x=!0,Zl(k,!1),l.lanes=4194304)}else{if(!x)if(i=Yd(A),i!==null){if(l.flags|=128,x=!0,m=i.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),Zl(k,!0),k.tail===null&&k.tailMode==="hidden"&&!A.alternate&&!Ft)return Br(l),null}else 2*er()-k.renderingStartTime>So&&m!==1073741824&&(l.flags|=128,x=!0,Zl(k,!1),l.lanes=4194304);k.isBackwards?(A.sibling=l.child,l.child=A):(m=k.last,m!==null?m.sibling=A:l.child=A,k.last=A)}return k.tail!==null?(l=k.tail,k.rendering=l,k.tail=l.sibling,k.renderingStartTime=er(),l.sibling=null,m=Wt.current,Et(Wt,x?m&1|2:m&1),l):(Br(l),null);case 22:case 23:return Ih(),x=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==x&&(l.flags|=8192),x&&(l.mode&1)!==0?(bn&1073741824)!==0&&(Br(l),l.subtreeFlags&6&&(l.flags|=8192)):Br(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function I3(i,l){switch(Up(l),l.tag){case 1:return sn(l.type)&&zd(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return wo(),Mt(an),Mt(Rr),th(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return Qp(l),null;case 13:if(Mt(Wt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));yo()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Mt(Wt),null;case 4:return wo(),null;case 10:return Gp(l.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var au=!1,Ur=!1,M3=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function _o(i,l){var m=i.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(x){Gt(i,l,x)}else m.current=null}function jh(i,l,m){try{m()}catch(x){Gt(i,l,x)}}var fw=!1;function D3(i,l){if(Ip=_d,i=Wb(),kp(i)){if("selectionStart"in i)var m={start:i.selectionStart,end:i.selectionEnd};else e:{m=(m=i.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var w=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var A=0,B=-1,G=-1,le=0,ge=0,ye=i,pe=null;t:for(;;){for(var $e;ye!==m||w!==0&&ye.nodeType!==3||(B=A+w),ye!==k||x!==0&&ye.nodeType!==3||(G=A+x),ye.nodeType===3&&(A+=ye.nodeValue.length),($e=ye.firstChild)!==null;)pe=ye,ye=$e;for(;;){if(ye===i)break t;if(pe===m&&++le===w&&(B=A),pe===k&&++ge===x&&(G=A),($e=ye.nextSibling)!==null)break;ye=pe,pe=ye.parentNode}ye=$e}m=B===-1||G===-1?null:{start:B,end:G}}else m=null}m=m||{start:0,end:0}}else m=null;for(Mp={focusedElem:i,selectionRange:m},_d=!1,Fe=l;Fe!==null;)if(l=Fe,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Fe=i;else for(;Fe!==null;){l=Fe;try{var qe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var Ge=qe.memoizedProps,tr=qe.memoizedState,ne=l.stateNode,Z=ne.getSnapshotBeforeUpdate(l.elementType===l.type?Ge:Yn(l.type,Ge),tr);ne.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var se=l.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ke){Gt(l,l.return,ke)}if(i=l.sibling,i!==null){i.return=l.return,Fe=i;break}Fe=l.return}return qe=fw,fw=!1,qe}function Ql(i,l,m){var x=l.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var w=x=x.next;do{if((w.tag&i)===i){var k=w.destroy;w.destroy=void 0,k!==void 0&&jh(l,m,k)}w=w.next}while(w!==x)}}function su(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var m=l=l.next;do{if((m.tag&i)===i){var x=m.create;m.destroy=x()}m=m.next}while(m!==l)}}function wh(i){var l=i.ref;if(l!==null){var m=i.stateNode;i.tag,i=m,typeof l=="function"?l(i):l.current=i}}function pw(i){var l=i.alternate;l!==null&&(i.alternate=null,pw(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[da],delete l[Ul],delete l[zp],delete l[x3],delete l[y3])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function hw(i){return i.tag===5||i.tag===3||i.tag===4}function gw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||hw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Nh(i,l,m){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?m.nodeType===8?m.parentNode.insertBefore(i,l):m.insertBefore(i,l):(m.nodeType===8?(l=m.parentNode,l.insertBefore(i,m)):(l=m,l.appendChild(i)),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Ld));else if(x!==4&&(i=i.child,i!==null))for(Nh(i,l,m),i=i.sibling;i!==null;)Nh(i,l,m),i=i.sibling}function _h(i,l,m){var x=i.tag;if(x===5||x===6)i=i.stateNode,l?m.insertBefore(i,l):m.appendChild(i);else if(x!==4&&(i=i.child,i!==null))for(_h(i,l,m),i=i.sibling;i!==null;)_h(i,l,m),i=i.sibling}var Tr=null,Xn=!1;function zs(i,l,m){for(m=m.child;m!==null;)xw(i,l,m),m=m.sibling}function xw(i,l,m){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(yd,m)}catch{}switch(m.tag){case 5:Ur||_o(m,l);case 6:var x=Tr,w=Xn;Tr=null,zs(i,l,m),Tr=x,Xn=w,Tr!==null&&(Xn?(i=Tr,m=m.stateNode,i.nodeType===8?i.parentNode.removeChild(m):i.removeChild(m)):Tr.removeChild(m.stateNode));break;case 18:Tr!==null&&(Xn?(i=Tr,m=m.stateNode,i.nodeType===8?$p(i.parentNode,m):i.nodeType===1&&$p(i,m),Ol(i)):$p(Tr,m.stateNode));break;case 4:x=Tr,w=Xn,Tr=m.stateNode.containerInfo,Xn=!0,zs(i,l,m),Tr=x,Xn=w;break;case 0:case 11:case 14:case 15:if(!Ur&&(x=m.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){w=x=x.next;do{var k=w,A=k.destroy;k=k.tag,A!==void 0&&((k&2)!==0||(k&4)!==0)&&jh(m,l,A),w=w.next}while(w!==x)}zs(i,l,m);break;case 1:if(!Ur&&(_o(m,l),x=m.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=m.memoizedProps,x.state=m.memoizedState,x.componentWillUnmount()}catch(B){Gt(m,l,B)}zs(i,l,m);break;case 21:zs(i,l,m);break;case 22:m.mode&1?(Ur=(x=Ur)||m.memoizedState!==null,zs(i,l,m),Ur=x):zs(i,l,m);break;default:zs(i,l,m)}}function yw(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var m=i.stateNode;m===null&&(m=i.stateNode=new M3),l.forEach(function(x){var w=K3.bind(null,i,x);m.has(x)||(m.add(x),x.then(w,w))})}}function Jn(i,l){var m=l.deletions;if(m!==null)for(var x=0;x<m.length;x++){var w=m[x];try{var k=i,A=l,B=A;e:for(;B!==null;){switch(B.tag){case 5:Tr=B.stateNode,Xn=!1;break e;case 3:Tr=B.stateNode.containerInfo,Xn=!0;break e;case 4:Tr=B.stateNode.containerInfo,Xn=!0;break e}B=B.return}if(Tr===null)throw Error(r(160));xw(k,A,w),Tr=null,Xn=!1;var G=w.alternate;G!==null&&(G.return=null),w.return=null}catch(le){Gt(w,l,le)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)vw(l,i),l=l.sibling}function vw(i,l){var m=i.alternate,x=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Jn(l,i),fa(i),x&4){try{Ql(3,i,i.return),su(3,i)}catch(Ge){Gt(i,i.return,Ge)}try{Ql(5,i,i.return)}catch(Ge){Gt(i,i.return,Ge)}}break;case 1:Jn(l,i),fa(i),x&512&&m!==null&&_o(m,m.return);break;case 5:if(Jn(l,i),fa(i),x&512&&m!==null&&_o(m,m.return),i.flags&32){var w=i.stateNode;try{st(w,"")}catch(Ge){Gt(i,i.return,Ge)}}if(x&4&&(w=i.stateNode,w!=null)){var k=i.memoizedProps,A=m!==null?m.memoizedProps:k,B=i.type,G=i.updateQueue;if(i.updateQueue=null,G!==null)try{B==="input"&&k.type==="radio"&&k.name!=null&&fe(w,k),X(B,A);var le=X(B,k);for(A=0;A<G.length;A+=2){var ge=G[A],ye=G[A+1];ge==="style"?ot(w,ye):ge==="dangerouslySetInnerHTML"?Ie(w,ye):ge==="children"?st(w,ye):C(w,ge,ye,le)}switch(B){case"input":de(w,k);break;case"textarea":Re(w,k);break;case"select":var pe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var $e=k.value;$e!=null?Pe(w,!!k.multiple,$e,!1):pe!==!!k.multiple&&(k.defaultValue!=null?Pe(w,!!k.multiple,k.defaultValue,!0):Pe(w,!!k.multiple,k.multiple?[]:"",!1))}w[Ul]=k}catch(Ge){Gt(i,i.return,Ge)}}break;case 6:if(Jn(l,i),fa(i),x&4){if(i.stateNode===null)throw Error(r(162));w=i.stateNode,k=i.memoizedProps;try{w.nodeValue=k}catch(Ge){Gt(i,i.return,Ge)}}break;case 3:if(Jn(l,i),fa(i),x&4&&m!==null&&m.memoizedState.isDehydrated)try{Ol(l.containerInfo)}catch(Ge){Gt(i,i.return,Ge)}break;case 4:Jn(l,i),fa(i);break;case 13:Jn(l,i),fa(i),w=i.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(Ph=er())),x&4&&yw(i);break;case 22:if(ge=m!==null&&m.memoizedState!==null,i.mode&1?(Ur=(le=Ur)||ge,Jn(l,i),Ur=le):Jn(l,i),fa(i),x&8192){if(le=i.memoizedState!==null,(i.stateNode.isHidden=le)&&!ge&&(i.mode&1)!==0)for(Fe=i,ge=i.child;ge!==null;){for(ye=Fe=ge;Fe!==null;){switch(pe=Fe,$e=pe.child,pe.tag){case 0:case 11:case 14:case 15:Ql(4,pe,pe.return);break;case 1:_o(pe,pe.return);var qe=pe.stateNode;if(typeof qe.componentWillUnmount=="function"){x=pe,m=pe.return;try{l=x,qe.props=l.memoizedProps,qe.state=l.memoizedState,qe.componentWillUnmount()}catch(Ge){Gt(x,m,Ge)}}break;case 5:_o(pe,pe.return);break;case 22:if(pe.memoizedState!==null){ww(ye);continue}}$e!==null?($e.return=pe,Fe=$e):ww(ye)}ge=ge.sibling}e:for(ge=null,ye=i;;){if(ye.tag===5){if(ge===null){ge=ye;try{w=ye.stateNode,le?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(B=ye.stateNode,G=ye.memoizedProps.style,A=G!=null&&G.hasOwnProperty("display")?G.display:null,B.style.display=me("display",A))}catch(Ge){Gt(i,i.return,Ge)}}}else if(ye.tag===6){if(ge===null)try{ye.stateNode.nodeValue=le?"":ye.memoizedProps}catch(Ge){Gt(i,i.return,Ge)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===i)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===i)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===i)break e;ge===ye&&(ge=null),ye=ye.return}ge===ye&&(ge=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Jn(l,i),fa(i),x&4&&yw(i);break;case 21:break;default:Jn(l,i),fa(i)}}function fa(i){var l=i.flags;if(l&2){try{e:{for(var m=i.return;m!==null;){if(hw(m)){var x=m;break e}m=m.return}throw Error(r(160))}switch(x.tag){case 5:var w=x.stateNode;x.flags&32&&(st(w,""),x.flags&=-33);var k=gw(i);_h(i,k,w);break;case 3:case 4:var A=x.stateNode.containerInfo,B=gw(i);Nh(i,B,A);break;default:throw Error(r(161))}}catch(G){Gt(i,i.return,G)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function L3(i,l,m){Fe=i,bw(i)}function bw(i,l,m){for(var x=(i.mode&1)!==0;Fe!==null;){var w=Fe,k=w.child;if(w.tag===22&&x){var A=w.memoizedState!==null||au;if(!A){var B=w.alternate,G=B!==null&&B.memoizedState!==null||Ur;B=au;var le=Ur;if(au=A,(Ur=G)&&!le)for(Fe=w;Fe!==null;)A=Fe,G=A.child,A.tag===22&&A.memoizedState!==null?Nw(w):G!==null?(G.return=A,Fe=G):Nw(w);for(;k!==null;)Fe=k,bw(k),k=k.sibling;Fe=w,au=B,Ur=le}jw(i)}else(w.subtreeFlags&8772)!==0&&k!==null?(k.return=w,Fe=k):jw(i)}}function jw(i){for(;Fe!==null;){var l=Fe;if((l.flags&8772)!==0){var m=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Ur||su(5,l);break;case 1:var x=l.stateNode;if(l.flags&4&&!Ur)if(m===null)x.componentDidMount();else{var w=l.elementType===l.type?m.memoizedProps:Yn(l.type,m.memoizedProps);x.componentDidUpdate(w,m.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var k=l.updateQueue;k!==null&&wj(l,k,x);break;case 3:var A=l.updateQueue;if(A!==null){if(m=null,l.child!==null)switch(l.child.tag){case 5:m=l.child.stateNode;break;case 1:m=l.child.stateNode}wj(l,A,m)}break;case 5:var B=l.stateNode;if(m===null&&l.flags&4){m=B;var G=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":G.autoFocus&&m.focus();break;case"img":G.src&&(m.src=G.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var le=l.alternate;if(le!==null){var ge=le.memoizedState;if(ge!==null){var ye=ge.dehydrated;ye!==null&&Ol(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Ur||l.flags&512&&wh(l)}catch(pe){Gt(l,l.return,pe)}}if(l===i){Fe=null;break}if(m=l.sibling,m!==null){m.return=l.return,Fe=m;break}Fe=l.return}}function ww(i){for(;Fe!==null;){var l=Fe;if(l===i){Fe=null;break}var m=l.sibling;if(m!==null){m.return=l.return,Fe=m;break}Fe=l.return}}function Nw(i){for(;Fe!==null;){var l=Fe;try{switch(l.tag){case 0:case 11:case 15:var m=l.return;try{su(4,l)}catch(G){Gt(l,m,G)}break;case 1:var x=l.stateNode;if(typeof x.componentDidMount=="function"){var w=l.return;try{x.componentDidMount()}catch(G){Gt(l,w,G)}}var k=l.return;try{wh(l)}catch(G){Gt(l,k,G)}break;case 5:var A=l.return;try{wh(l)}catch(G){Gt(l,A,G)}}}catch(G){Gt(l,l.return,G)}if(l===i){Fe=null;break}var B=l.sibling;if(B!==null){B.return=l.return,Fe=B;break}Fe=l.return}}var $3=Math.ceil,iu=E.ReactCurrentDispatcher,kh=E.ReactCurrentOwner,Mn=E.ReactCurrentBatchConfig,ht=0,jr=null,or=null,Ir=0,bn=0,ko=Is(0),mr=0,ec=null,bi=0,ou=0,Sh=0,tc=null,ln=null,Ph=0,So=1/0,qa=null,lu=!1,Ch=null,Rs=null,cu=!1,Fs=null,du=0,rc=0,Ah=null,uu=-1,mu=0;function Jr(){return(ht&6)!==0?er():uu!==-1?uu:uu=er()}function Bs(i){return(i.mode&1)===0?1:(ht&2)!==0&&Ir!==0?Ir&-Ir:b3.transition!==null?(mu===0&&(mu=gb()),mu):(i=wt,i!==0||(i=window.event,i=i===void 0?16:kb(i.type)),i)}function Zn(i,l,m,x){if(50<rc)throw rc=0,Ah=null,Error(r(185));Sl(i,m,x),((ht&2)===0||i!==jr)&&(i===jr&&((ht&2)===0&&(ou|=m),mr===4&&Us(i,Ir)),cn(i,x),m===1&&ht===0&&(l.mode&1)===0&&(So=er()+500,Fd&&Ds()))}function cn(i,l){var m=i.callbackNode;bO(i,l);var x=jd(i,i===jr?Ir:0);if(x===0)m!==null&&fb(m),i.callbackNode=null,i.callbackPriority=0;else if(l=x&-x,i.callbackPriority!==l){if(m!=null&&fb(m),l===1)i.tag===0?v3(kw.bind(null,i)):dj(kw.bind(null,i)),h3(function(){(ht&6)===0&&Ds()}),m=null;else{switch(xb(x)){case 1:m=lp;break;case 4:m=pb;break;case 16:m=xd;break;case 536870912:m=hb;break;default:m=xd}m=Iw(m,_w.bind(null,i))}i.callbackPriority=l,i.callbackNode=m}}function _w(i,l){if(uu=-1,mu=0,(ht&6)!==0)throw Error(r(327));var m=i.callbackNode;if(Po()&&i.callbackNode!==m)return null;var x=jd(i,i===jr?Ir:0);if(x===0)return null;if((x&30)!==0||(x&i.expiredLanes)!==0||l)l=fu(i,x);else{l=x;var w=ht;ht|=2;var k=Pw();(jr!==i||Ir!==l)&&(qa=null,So=er()+500,wi(i,l));do try{F3();break}catch(B){Sw(i,B)}while(!0);Vp(),iu.current=k,ht=w,or!==null?l=0:(jr=null,Ir=0,l=mr)}if(l!==0){if(l===2&&(w=cp(i),w!==0&&(x=w,l=Eh(i,w))),l===1)throw m=ec,wi(i,0),Us(i,x),cn(i,er()),m;if(l===6)Us(i,x);else{if(w=i.current.alternate,(x&30)===0&&!z3(w)&&(l=fu(i,x),l===2&&(k=cp(i),k!==0&&(x=k,l=Eh(i,k))),l===1))throw m=ec,wi(i,0),Us(i,x),cn(i,er()),m;switch(i.finishedWork=w,i.finishedLanes=x,l){case 0:case 1:throw Error(r(345));case 2:Ni(i,ln,qa);break;case 3:if(Us(i,x),(x&130023424)===x&&(l=Ph+500-er(),10<l)){if(jd(i,0)!==0)break;if(w=i.suspendedLanes,(w&x)!==x){Jr(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Lp(Ni.bind(null,i,ln,qa),l);break}Ni(i,ln,qa);break;case 4:if(Us(i,x),(x&4194240)===x)break;for(l=i.eventTimes,w=-1;0<x;){var A=31-Hn(x);k=1<<A,A=l[A],A>w&&(w=A),x&=~k}if(x=w,x=er()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*$3(x/1960))-x,10<x){i.timeoutHandle=Lp(Ni.bind(null,i,ln,qa),x);break}Ni(i,ln,qa);break;case 5:Ni(i,ln,qa);break;default:throw Error(r(329))}}}return cn(i,er()),i.callbackNode===m?_w.bind(null,i):null}function Eh(i,l){var m=tc;return i.current.memoizedState.isDehydrated&&(wi(i,l).flags|=256),i=fu(i,l),i!==2&&(l=ln,ln=m,l!==null&&Oh(l)),i}function Oh(i){ln===null?ln=i:ln.push.apply(ln,i)}function z3(i){for(var l=i;;){if(l.flags&16384){var m=l.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var x=0;x<m.length;x++){var w=m[x],k=w.getSnapshot;w=w.value;try{if(!Vn(k(),w))return!1}catch{return!1}}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Us(i,l){for(l&=~Sh,l&=~ou,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var m=31-Hn(l),x=1<<m;i[m]=-1,l&=~x}}function kw(i){if((ht&6)!==0)throw Error(r(327));Po();var l=jd(i,0);if((l&1)===0)return cn(i,er()),null;var m=fu(i,l);if(i.tag!==0&&m===2){var x=cp(i);x!==0&&(l=x,m=Eh(i,x))}if(m===1)throw m=ec,wi(i,0),Us(i,l),cn(i,er()),m;if(m===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Ni(i,ln,qa),cn(i,er()),null}function Th(i,l){var m=ht;ht|=1;try{return i(l)}finally{ht=m,ht===0&&(So=er()+500,Fd&&Ds())}}function ji(i){Fs!==null&&Fs.tag===0&&(ht&6)===0&&Po();var l=ht;ht|=1;var m=Mn.transition,x=wt;try{if(Mn.transition=null,wt=1,i)return i()}finally{wt=x,Mn.transition=m,ht=l,(ht&6)===0&&Ds()}}function Ih(){bn=ko.current,Mt(ko)}function wi(i,l){i.finishedWork=null,i.finishedLanes=0;var m=i.timeoutHandle;if(m!==-1&&(i.timeoutHandle=-1,p3(m)),or!==null)for(m=or.return;m!==null;){var x=m;switch(Up(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&zd();break;case 3:wo(),Mt(an),Mt(Rr),th();break;case 5:Qp(x);break;case 4:wo();break;case 13:Mt(Wt);break;case 19:Mt(Wt);break;case 10:Gp(x.type._context);break;case 22:case 23:Ih()}m=m.return}if(jr=i,or=i=qs(i.current,null),Ir=bn=l,mr=0,ec=null,Sh=ou=bi=0,ln=tc=null,xi!==null){for(l=0;l<xi.length;l++)if(m=xi[l],x=m.interleaved,x!==null){m.interleaved=null;var w=x.next,k=m.pending;if(k!==null){var A=k.next;k.next=w,x.next=A}m.pending=x}xi=null}return i}function Sw(i,l){do{var m=or;try{if(Vp(),Xd.current=eu,Jd){for(var x=Ht.memoizedState;x!==null;){var w=x.queue;w!==null&&(w.pending=null),x=x.next}Jd=!1}if(vi=0,br=ur=Ht=null,Gl=!1,Yl=0,kh.current=null,m===null||m.return===null){mr=1,ec=l,or=null;break}e:{var k=i,A=m.return,B=m,G=l;if(l=Ir,B.flags|=32768,G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=G,ge=B,ye=ge.tag;if((ge.mode&1)===0&&(ye===0||ye===11||ye===15)){var pe=ge.alternate;pe?(ge.updateQueue=pe.updateQueue,ge.memoizedState=pe.memoizedState,ge.lanes=pe.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var $e=Jj(A);if($e!==null){$e.flags&=-257,Zj($e,A,B,k,l),$e.mode&1&&Xj(k,le,l),l=$e,G=le;var qe=l.updateQueue;if(qe===null){var Ge=new Set;Ge.add(G),l.updateQueue=Ge}else qe.add(G);break e}else{if((l&1)===0){Xj(k,le,l),Mh();break e}G=Error(r(426))}}else if(Ft&&B.mode&1){var tr=Jj(A);if(tr!==null){(tr.flags&65536)===0&&(tr.flags|=256),Zj(tr,A,B,k,l),Wp(No(G,B));break e}}k=G=No(G,B),mr!==4&&(mr=2),tc===null?tc=[k]:tc.push(k),k=A;do{switch(k.tag){case 3:k.flags|=65536,l&=-l,k.lanes|=l;var ne=Gj(k,G,l);jj(k,ne);break e;case 1:B=G;var Z=k.type,se=k.stateNode;if((k.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Rs===null||!Rs.has(se)))){k.flags|=65536,l&=-l,k.lanes|=l;var ke=Yj(k,B,l);jj(k,ke);break e}}k=k.return}while(k!==null)}Aw(m)}catch(Ye){l=Ye,or===m&&m!==null&&(or=m=m.return);continue}break}while(!0)}function Pw(){var i=iu.current;return iu.current=eu,i===null?eu:i}function Mh(){(mr===0||mr===3||mr===2)&&(mr=4),jr===null||(bi&268435455)===0&&(ou&268435455)===0||Us(jr,Ir)}function fu(i,l){var m=ht;ht|=2;var x=Pw();(jr!==i||Ir!==l)&&(qa=null,wi(i,l));do try{R3();break}catch(w){Sw(i,w)}while(!0);if(Vp(),ht=m,iu.current=x,or!==null)throw Error(r(261));return jr=null,Ir=0,mr}function R3(){for(;or!==null;)Cw(or)}function F3(){for(;or!==null&&!uO();)Cw(or)}function Cw(i){var l=Tw(i.alternate,i,bn);i.memoizedProps=i.pendingProps,l===null?Aw(i):or=l,kh.current=null}function Aw(i){var l=i;do{var m=l.alternate;if(i=l.return,(l.flags&32768)===0){if(m=T3(m,l,bn),m!==null){or=m;return}}else{if(m=I3(m,l),m!==null){m.flags&=32767,or=m;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{mr=6,or=null;return}}if(l=l.sibling,l!==null){or=l;return}or=l=i}while(l!==null);mr===0&&(mr=5)}function Ni(i,l,m){var x=wt,w=Mn.transition;try{Mn.transition=null,wt=1,B3(i,l,m,x)}finally{Mn.transition=w,wt=x}return null}function B3(i,l,m,x){do Po();while(Fs!==null);if((ht&6)!==0)throw Error(r(327));m=i.finishedWork;var w=i.finishedLanes;if(m===null)return null;if(i.finishedWork=null,i.finishedLanes=0,m===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var k=m.lanes|m.childLanes;if(jO(i,k),i===jr&&(or=jr=null,Ir=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||cu||(cu=!0,Iw(xd,function(){return Po(),null})),k=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||k){k=Mn.transition,Mn.transition=null;var A=wt;wt=1;var B=ht;ht|=4,kh.current=null,D3(i,m),vw(m,i),o3(Mp),_d=!!Ip,Mp=Ip=null,i.current=m,L3(m),mO(),ht=B,wt=A,Mn.transition=k}else i.current=m;if(cu&&(cu=!1,Fs=i,du=w),k=i.pendingLanes,k===0&&(Rs=null),hO(m.stateNode),cn(i,er()),l!==null)for(x=i.onRecoverableError,m=0;m<l.length;m++)w=l[m],x(w.value,{componentStack:w.stack,digest:w.digest});if(lu)throw lu=!1,i=Ch,Ch=null,i;return(du&1)!==0&&i.tag!==0&&Po(),k=i.pendingLanes,(k&1)!==0?i===Ah?rc++:(rc=0,Ah=i):rc=0,Ds(),null}function Po(){if(Fs!==null){var i=xb(du),l=Mn.transition,m=wt;try{if(Mn.transition=null,wt=16>i?16:i,Fs===null)var x=!1;else{if(i=Fs,Fs=null,du=0,(ht&6)!==0)throw Error(r(331));var w=ht;for(ht|=4,Fe=i.current;Fe!==null;){var k=Fe,A=k.child;if((Fe.flags&16)!==0){var B=k.deletions;if(B!==null){for(var G=0;G<B.length;G++){var le=B[G];for(Fe=le;Fe!==null;){var ge=Fe;switch(ge.tag){case 0:case 11:case 15:Ql(8,ge,k)}var ye=ge.child;if(ye!==null)ye.return=ge,Fe=ye;else for(;Fe!==null;){ge=Fe;var pe=ge.sibling,$e=ge.return;if(pw(ge),ge===le){Fe=null;break}if(pe!==null){pe.return=$e,Fe=pe;break}Fe=$e}}}var qe=k.alternate;if(qe!==null){var Ge=qe.child;if(Ge!==null){qe.child=null;do{var tr=Ge.sibling;Ge.sibling=null,Ge=tr}while(Ge!==null)}}Fe=k}}if((k.subtreeFlags&2064)!==0&&A!==null)A.return=k,Fe=A;else e:for(;Fe!==null;){if(k=Fe,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Ql(9,k,k.return)}var ne=k.sibling;if(ne!==null){ne.return=k.return,Fe=ne;break e}Fe=k.return}}var Z=i.current;for(Fe=Z;Fe!==null;){A=Fe;var se=A.child;if((A.subtreeFlags&2064)!==0&&se!==null)se.return=A,Fe=se;else e:for(A=Z;Fe!==null;){if(B=Fe,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:su(9,B)}}catch(Ye){Gt(B,B.return,Ye)}if(B===A){Fe=null;break e}var ke=B.sibling;if(ke!==null){ke.return=B.return,Fe=ke;break e}Fe=B.return}}if(ht=w,Ds(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(yd,i)}catch{}x=!0}return x}finally{wt=m,Mn.transition=l}}return!1}function Ew(i,l,m){l=No(m,l),l=Gj(i,l,1),i=$s(i,l,1),l=Jr(),i!==null&&(Sl(i,1,l),cn(i,l))}function Gt(i,l,m){if(i.tag===3)Ew(i,i,m);else for(;l!==null;){if(l.tag===3){Ew(l,i,m);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Rs===null||!Rs.has(x))){i=No(m,i),i=Yj(l,i,1),l=$s(l,i,1),i=Jr(),l!==null&&(Sl(l,1,i),cn(l,i));break}}l=l.return}}function U3(i,l,m){var x=i.pingCache;x!==null&&x.delete(l),l=Jr(),i.pingedLanes|=i.suspendedLanes&m,jr===i&&(Ir&m)===m&&(mr===4||mr===3&&(Ir&130023424)===Ir&&500>er()-Ph?wi(i,0):Sh|=m),cn(i,l)}function Ow(i,l){l===0&&((i.mode&1)===0?l=1:(l=bd,bd<<=1,(bd&130023424)===0&&(bd=4194304)));var m=Jr();i=Fa(i,l),i!==null&&(Sl(i,l,m),cn(i,m))}function q3(i){var l=i.memoizedState,m=0;l!==null&&(m=l.retryLane),Ow(i,m)}function K3(i,l){var m=0;switch(i.tag){case 13:var x=i.stateNode,w=i.memoizedState;w!==null&&(m=w.retryLane);break;case 19:x=i.stateNode;break;default:throw Error(r(314))}x!==null&&x.delete(l),Ow(i,m)}var Tw;Tw=function(i,l,m){if(i!==null)if(i.memoizedProps!==l.pendingProps||an.current)on=!0;else{if((i.lanes&m)===0&&(l.flags&128)===0)return on=!1,O3(i,l,m);on=(i.flags&131072)!==0}else on=!1,Ft&&(l.flags&1048576)!==0&&uj(l,Ud,l.index);switch(l.lanes=0,l.tag){case 2:var x=l.type;nu(i,l),i=l.pendingProps;var w=ho(l,Rr.current);jo(l,m),w=ah(null,l,x,i,w,m);var k=sh();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,sn(x)?(k=!0,Rd(l)):k=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Jp(l),w.updater=tu,l.stateNode=w,w._reactInternals=l,uh(l,x,i,m),l=hh(null,l,x,!0,k,m)):(l.tag=0,Ft&&k&&Bp(l),Xr(null,l,w,m),l=l.child),l;case 16:x=l.elementType;e:{switch(nu(i,l),i=l.pendingProps,w=x._init,x=w(x._payload),l.type=x,w=l.tag=H3(x),i=Yn(x,i),w){case 0:l=ph(null,l,x,i,m);break e;case 1:l=aw(null,l,x,i,m);break e;case 11:l=Qj(null,l,x,i,m);break e;case 14:l=ew(null,l,x,Yn(x.type,i),m);break e}throw Error(r(306,x,""))}return l;case 0:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Yn(x,w),ph(i,l,x,w,m);case 1:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Yn(x,w),aw(i,l,x,w,m);case 3:e:{if(sw(l),i===null)throw Error(r(387));x=l.pendingProps,k=l.memoizedState,w=k.element,bj(i,l),Gd(l,x,null,m);var A=l.memoizedState;if(x=A.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=k,l.memoizedState=k,l.flags&256){w=No(Error(r(423)),l),l=iw(i,l,x,m,w);break e}else if(x!==w){w=No(Error(r(424)),l),l=iw(i,l,x,m,w);break e}else for(vn=Ts(l.stateNode.containerInfo.firstChild),yn=l,Ft=!0,Gn=null,m=yj(l,null,x,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(yo(),x===w){l=Ua(i,l,m);break e}Xr(i,l,x,m)}l=l.child}return l;case 5:return Nj(l),i===null&&Kp(l),x=l.type,w=l.pendingProps,k=i!==null?i.memoizedProps:null,A=w.children,Dp(x,w)?A=null:k!==null&&Dp(x,k)&&(l.flags|=32),nw(i,l),Xr(i,l,A,m),l.child;case 6:return i===null&&Kp(l),null;case 13:return ow(i,l,m);case 4:return Zp(l,l.stateNode.containerInfo),x=l.pendingProps,i===null?l.child=vo(l,null,x,m):Xr(i,l,x,m),l.child;case 11:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Yn(x,w),Qj(i,l,x,w,m);case 7:return Xr(i,l,l.pendingProps,m),l.child;case 8:return Xr(i,l,l.pendingProps.children,m),l.child;case 12:return Xr(i,l,l.pendingProps.children,m),l.child;case 10:e:{if(x=l.type._context,w=l.pendingProps,k=l.memoizedProps,A=w.value,Et(Wd,x._currentValue),x._currentValue=A,k!==null)if(Vn(k.value,A)){if(k.children===w.children&&!an.current){l=Ua(i,l,m);break e}}else for(k=l.child,k!==null&&(k.return=l);k!==null;){var B=k.dependencies;if(B!==null){A=k.child;for(var G=B.firstContext;G!==null;){if(G.context===x){if(k.tag===1){G=Ba(-1,m&-m),G.tag=2;var le=k.updateQueue;if(le!==null){le=le.shared;var ge=le.pending;ge===null?G.next=G:(G.next=ge.next,ge.next=G),le.pending=G}}k.lanes|=m,G=k.alternate,G!==null&&(G.lanes|=m),Yp(k.return,m,l),B.lanes|=m;break}G=G.next}}else if(k.tag===10)A=k.type===l.type?null:k.child;else if(k.tag===18){if(A=k.return,A===null)throw Error(r(341));A.lanes|=m,B=A.alternate,B!==null&&(B.lanes|=m),Yp(A,m,l),A=k.sibling}else A=k.child;if(A!==null)A.return=k;else for(A=k;A!==null;){if(A===l){A=null;break}if(k=A.sibling,k!==null){k.return=A.return,A=k;break}A=A.return}k=A}Xr(i,l,w.children,m),l=l.child}return l;case 9:return w=l.type,x=l.pendingProps.children,jo(l,m),w=Tn(w),x=x(w),l.flags|=1,Xr(i,l,x,m),l.child;case 14:return x=l.type,w=Yn(x,l.pendingProps),w=Yn(x.type,w),ew(i,l,x,w,m);case 15:return tw(i,l,l.type,l.pendingProps,m);case 17:return x=l.type,w=l.pendingProps,w=l.elementType===x?w:Yn(x,w),nu(i,l),l.tag=1,sn(x)?(i=!0,Rd(l)):i=!1,jo(l,m),Hj(l,x,w),uh(l,x,w,m),hh(null,l,x,!0,i,m);case 19:return cw(i,l,m);case 22:return rw(i,l,m)}throw Error(r(156,l.tag))};function Iw(i,l){return ir(i,l)}function W3(i,l,m,x){this.tag=i,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,l,m,x){return new W3(i,l,m,x)}function Dh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function H3(i){if(typeof i=="function")return Dh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===q)return 11;if(i===ee)return 14}return 2}function qs(i,l){var m=i.alternate;return m===null?(m=Dn(i.tag,l,i.key,i.mode),m.elementType=i.elementType,m.type=i.type,m.stateNode=i.stateNode,m.alternate=i,i.alternate=m):(m.pendingProps=l,m.type=i.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=i.flags&14680064,m.childLanes=i.childLanes,m.lanes=i.lanes,m.child=i.child,m.memoizedProps=i.memoizedProps,m.memoizedState=i.memoizedState,m.updateQueue=i.updateQueue,l=i.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=i.sibling,m.index=i.index,m.ref=i.ref,m}function pu(i,l,m,x,w,k){var A=2;if(x=i,typeof i=="function")Dh(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case T:return _i(m.children,w,k,l);case U:A=8,w|=8;break;case M:return i=Dn(12,m,l,w|2),i.elementType=M,i.lanes=k,i;case L:return i=Dn(13,m,l,w),i.elementType=L,i.lanes=k,i;case D:return i=Dn(19,m,l,w),i.elementType=D,i.lanes=k,i;case ie:return hu(m,w,k,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:A=10;break e;case I:A=9;break e;case q:A=11;break e;case ee:A=14;break e;case oe:A=16,x=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=Dn(A,m,l,w),l.elementType=i,l.type=x,l.lanes=k,l}function _i(i,l,m,x){return i=Dn(7,i,x,l),i.lanes=m,i}function hu(i,l,m,x){return i=Dn(22,i,x,l),i.elementType=ie,i.lanes=m,i.stateNode={isHidden:!1},i}function Lh(i,l,m){return i=Dn(6,i,null,l),i.lanes=m,i}function $h(i,l,m){return l=Dn(4,i.children!==null?i.children:[],i.key,l),l.lanes=m,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function V3(i,l,m,x,w){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dp(0),this.expirationTimes=dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dp(0),this.identifierPrefix=x,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function zh(i,l,m,x,w,k,A,B,G){return i=new V3(i,l,m,B,G),l===1?(l=1,k===!0&&(l|=8)):l=0,k=Dn(3,null,null,l),i.current=k,k.stateNode=i,k.memoizedState={element:x,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jp(k),i}function G3(i,l,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:x==null?null:""+x,children:i,containerInfo:l,implementation:m}}function Mw(i){if(!i)return Ms;i=i._reactInternals;e:{if(H(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(sn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var m=i.type;if(sn(m))return lj(i,m,l)}return l}function Dw(i,l,m,x,w,k,A,B,G){return i=zh(m,x,!0,i,w,k,A,B,G),i.context=Mw(null),m=i.current,x=Jr(),w=Bs(m),k=Ba(x,w),k.callback=l??null,$s(m,k,w),i.current.lanes=w,Sl(i,w,x),cn(i,x),i}function gu(i,l,m,x){var w=l.current,k=Jr(),A=Bs(w);return m=Mw(m),l.context===null?l.context=m:l.pendingContext=m,l=Ba(k,A),l.payload={element:i},x=x===void 0?null:x,x!==null&&(l.callback=x),i=$s(w,l,A),i!==null&&(Zn(i,w,A,k),Vd(i,w,A)),A}function xu(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function Lw(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var m=i.retryLane;i.retryLane=m!==0&&m<l?m:l}}function Rh(i,l){Lw(i,l),(i=i.alternate)&&Lw(i,l)}function Y3(){return null}var $w=typeof reportError=="function"?reportError:function(i){console.error(i)};function Fh(i){this._internalRoot=i}yu.prototype.render=Fh.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));gu(i,l,null,null)},yu.prototype.unmount=Fh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;ji(function(){gu(null,i,null,null)}),l[La]=null}};function yu(i){this._internalRoot=i}yu.prototype.unstable_scheduleHydration=function(i){if(i){var l=bb();i={blockedOn:null,target:i,priority:l};for(var m=0;m<As.length&&l!==0&&l<As[m].priority;m++);As.splice(m,0,i),m===0&&Nb(i)}};function Bh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function vu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function zw(){}function X3(i,l,m,x,w){if(w){if(typeof x=="function"){var k=x;x=function(){var le=xu(A);k.call(le)}}var A=Dw(l,x,i,0,null,!1,!1,"",zw);return i._reactRootContainer=A,i[La]=A.current,Fl(i.nodeType===8?i.parentNode:i),ji(),A}for(;w=i.lastChild;)i.removeChild(w);if(typeof x=="function"){var B=x;x=function(){var le=xu(G);B.call(le)}}var G=zh(i,0,!1,null,null,!1,!1,"",zw);return i._reactRootContainer=G,i[La]=G.current,Fl(i.nodeType===8?i.parentNode:i),ji(function(){gu(l,G,m,x)}),G}function bu(i,l,m,x,w){var k=m._reactRootContainer;if(k){var A=k;if(typeof w=="function"){var B=w;w=function(){var G=xu(A);B.call(G)}}gu(l,A,i,w)}else A=X3(m,l,i,w,x);return xu(A)}yb=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var m=kl(l.pendingLanes);m!==0&&(up(l,m|1),cn(l,er()),(ht&6)===0&&(So=er()+500,Ds()))}break;case 13:ji(function(){var x=Fa(i,1);if(x!==null){var w=Jr();Zn(x,i,1,w)}}),Rh(i,1)}},mp=function(i){if(i.tag===13){var l=Fa(i,134217728);if(l!==null){var m=Jr();Zn(l,i,134217728,m)}Rh(i,134217728)}},vb=function(i){if(i.tag===13){var l=Bs(i),m=Fa(i,l);if(m!==null){var x=Jr();Zn(m,i,l,x)}Rh(i,l)}},bb=function(){return wt},jb=function(i,l){var m=wt;try{return wt=i,l()}finally{wt=m}},zt=function(i,l,m){switch(l){case"input":if(de(i,m),l=m.name,m.type==="radio"&&l!=null){for(m=i;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<m.length;l++){var x=m[l];if(x!==i&&x.form===i.form){var w=$d(x);if(!w)throw Error(r(90));Q(x),de(x,w)}}}break;case"textarea":Re(i,m);break;case"select":l=m.value,l!=null&&Pe(i,!!m.multiple,l,!1)}},nn=Th,la=ji;var J3={usingClientEntryPoint:!1,Events:[ql,fo,$d,zr,Or,Th]},nc={findFiberByHostInstance:fi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Z3={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=at(i),i===null?null:i.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||Y3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{yd=ju.inject(Z3),ca=ju}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J3,dn.createPortal=function(i,l){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bh(l))throw Error(r(200));return G3(i,l,null,m)},dn.createRoot=function(i,l){if(!Bh(i))throw Error(r(299));var m=!1,x="",w=$w;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=zh(i,1,!1,null,null,m,!1,x,w),i[La]=l.current,Fl(i.nodeType===8?i.parentNode:i),new Fh(l)},dn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=at(l),i=i===null?null:i.stateNode,i},dn.flushSync=function(i){return ji(i)},dn.hydrate=function(i,l,m){if(!vu(l))throw Error(r(200));return bu(null,i,l,!0,m)},dn.hydrateRoot=function(i,l,m){if(!Bh(i))throw Error(r(405));var x=m!=null&&m.hydratedSources||null,w=!1,k="",A=$w;if(m!=null&&(m.unstable_strictMode===!0&&(w=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(A=m.onRecoverableError)),l=Dw(l,null,i,1,m??null,w,!1,k,A),i[La]=l.current,Fl(i),x)for(i=0;i<x.length;i++)m=x[i],w=m._getVersion,w=w(m._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[m,w]:l.mutableSourceEagerHydrationData.push(m,w);return new yu(l)},dn.render=function(i,l,m){if(!vu(l))throw Error(r(200));return bu(null,i,l,!1,m)},dn.unmountComponentAtNode=function(i){if(!vu(i))throw Error(r(40));return i._reactRootContainer?(ji(function(){bu(null,null,i,!1,function(){i._reactRootContainer=null,i[La]=null})}),!0):!1},dn.unstable_batchedUpdates=Th,dn.unstable_renderSubtreeIntoContainer=function(i,l,m,x){if(!vu(m))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return bu(i,l,m,!1,x)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var Hw;function uS(){if(Hw)return Kh.exports;Hw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kh.exports=oT(),Kh.exports}var Vw;function lT(){if(Vw)return wu;Vw=1;var e=uS();return wu.createRoot=e.createRoot,wu.hydrateRoot=e.hydrateRoot,wu}var cT=lT();var Gw="popstate";function dT(e={}){function t(a,s){let{pathname:o,search:c,hash:d}=a.location;return Bx("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:Nc(s)}return mT(t,r,null,e)}function qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function kn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uT(){return Math.random().toString(36).substring(2,10)}function Yw(e,t){return{usr:e.state,key:e.key,idx:t}}function Bx(e,t,r=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?al(t):t,state:r,key:t&&t.key||a||uT()}}function Nc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function al(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function mT(e,t,r,a={}){let{window:s=document.defaultView,v5Compat:o=!1}=a,c=s.history,d="POP",u=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function h(){d="POP";let b=f(),_=b==null?null:b-p;p=b,u&&u({action:d,location:j.location,delta:_})}function v(b,_){d="PUSH";let S=Bx(j.location,b,_);p=f()+1;let C=Yw(S,p),E=j.createHref(S);try{c.pushState(C,"",E)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(E)}o&&u&&u({action:d,location:j.location,delta:1})}function y(b,_){d="REPLACE";let S=Bx(j.location,b,_);p=f();let C=Yw(S,p),E=j.createHref(S);c.replaceState(C,"",E),o&&u&&u({action:d,location:j.location,delta:0})}function N(b){return fT(b)}let j={get action(){return d},get location(){return e(s,c)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Gw,h),u=b,()=>{s.removeEventListener(Gw,h),u=null}},createHref(b){return t(s,b)},createURL:N,encodeLocation(b){let _=N(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:y,go(b){return c.go(b)}};return j}function fT(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),qt(r,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Nc(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function mS(e,t,r="/"){return pT(e,t,r,!1)}function pT(e,t,r,a){let s=typeof t=="string"?al(t):t,o=os(s.pathname||"/",r);if(o==null)return null;let c=fS(e);hT(c);let d=null;for(let u=0;d==null&&u<c.length;++u){let p=ST(o);d=_T(c[u],p,a)}return d}function fS(e,t=[],r=[],a="",s=!1){let o=(c,d,u=s,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(a)&&u)return;qt(f.relativePath.startsWith(a),`Absolute route path "${f.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(a.length)}let h=Za([a,f.relativePath]),v=r.concat(f);c.children&&c.children.length>0&&(qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),fS(c.children,t,v,h,u)),!(c.path==null&&!c.index)&&t.push({path:h,score:wT(h,c.index),routesMeta:v})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let u of pS(c.path))o(c,d,!0,u)}),t}function pS(e){let t=e.split("/");if(t.length===0)return[];let[r,...a]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return s?[o,""]:[o];let c=pS(a.join("/")),d=[];return d.push(...c.map(u=>u===""?o:[o,u].join("/"))),s&&d.push(...c),d.map(u=>e.startsWith("/")&&u===""?"/":u)}function hT(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:NT(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var gT=/^:[\w-]+$/,xT=3,yT=2,vT=1,bT=10,jT=-2,Xw=e=>e==="*";function wT(e,t){let r=e.split("/"),a=r.length;return r.some(Xw)&&(a+=jT),t&&(a+=yT),r.filter(s=>!Xw(s)).reduce((s,o)=>s+(gT.test(o)?xT:o===""?vT:bT),a)}function NT(e,t){return e.length===t.length&&e.slice(0,-1).every((a,s)=>a===t[s])?e[e.length-1]-t[t.length-1]:0}function _T(e,t,r=!1){let{routesMeta:a}=e,s={},o="/",c=[];for(let d=0;d<a.length;++d){let u=a[d],p=d===a.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=sm({path:u.relativePath,caseSensitive:u.caseSensitive,end:p},f),v=u.route;if(!h&&p&&r&&!a[a.length-1].route.index&&(h=sm({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),c.push({params:s,pathname:Za([o,h.pathname]),pathnameBase:ET(Za([o,h.pathnameBase])),route:v}),h.pathnameBase!=="/"&&(o=Za([o,h.pathnameBase]))}return c}function sm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=kT(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:a.reduce((p,{paramName:f,isOptional:h},v)=>{if(f==="*"){let N=d[v]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const y=d[v];return h&&!y?p[f]=void 0:p[f]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:e}}function kT(e,t=!1,r=!0){kn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,u)=>(a.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function ST(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function os(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}var hS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PT=e=>hS.test(e);function CT(e,t="/"){let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?al(e):e,o;if(r)if(PT(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),kn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?o=Jw(r.substring(1),"/"):o=Jw(r,t)}else o=t;return{pathname:o,search:OT(a),hash:TT(s)}}function Jw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Vh(e,t,r,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AT(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gy(e){let t=AT(e);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Yy(e,t,r,a=!1){let s;typeof e=="string"?s=al(e):(s={...e},qt(!s.pathname||!s.pathname.includes("?"),Vh("?","pathname","search",s)),qt(!s.pathname||!s.pathname.includes("#"),Vh("#","pathname","hash",s)),qt(!s.search||!s.search.includes("#"),Vh("#","search","hash",s)));let o=e===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=r;else{let h=t.length-1;if(!a&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),h-=1;s.pathname=v.join("/")}d=h>=0?t[h]:"/"}let u=CT(s,d),p=c&&c!=="/"&&c.endsWith("/"),f=(o||c===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(p||f)&&(u.pathname+="/"),u}var Za=e=>e.join("/").replace(/\/\/+/g,"/"),ET=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),OT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,IT=class{constructor(e,t,r,a=!1){this.status=e,this.statusText=t||"",this.internal=a,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function MT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function DT(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xS(e,t){let r=e;if(typeof r!="string"||!hS.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let a=r,s=!1;if(gS)try{let o=new URL(window.location.href),c=r.startsWith("//")?new URL(o.protocol+r):new URL(r),d=os(c.pathname,t);c.origin===o.origin&&d!=null?r=d+c.search+c.hash:s=!0}catch{kn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yS=["POST","PUT","PATCH","DELETE"];new Set(yS);var LT=["GET",...yS];new Set(LT);var sl=g.createContext(null);sl.displayName="DataRouter";var lf=g.createContext(null);lf.displayName="DataRouterState";var $T=g.createContext(!1),vS=g.createContext({isTransitioning:!1});vS.displayName="ViewTransition";var zT=g.createContext(new Map);zT.displayName="Fetchers";var RT=g.createContext(null);RT.displayName="Await";var Cn=g.createContext(null);Cn.displayName="Navigation";var qc=g.createContext(null);qc.displayName="Location";var Ca=g.createContext({outlet:null,matches:[],isDataRoute:!1});Ca.displayName="Route";var Xy=g.createContext(null);Xy.displayName="RouteError";var bS="REACT_ROUTER_ERROR",FT="REDIRECT",BT="ROUTE_ERROR_RESPONSE";function UT(e){if(e.startsWith(`${bS}:${FT}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function qT(e){if(e.startsWith(`${bS}:${BT}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new IT(t.status,t.statusText,t.data)}catch{}}function KT(e,{relative:t}={}){qt(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=g.useContext(Cn),{hash:s,pathname:o,search:c}=Kc(e,{relative:t}),d=o;return r!=="/"&&(d=o==="/"?r:Za([r,o])),a.createHref({pathname:d,search:c,hash:s})}function il(){return g.useContext(qc)!=null}function Aa(){return qt(il(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(qc).location}var jS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function wS(e){g.useContext(Cn).static||g.useLayoutEffect(e)}function ia(){let{isDataRoute:e}=g.useContext(Ca);return e?n5():WT()}function WT(){qt(il(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(sl),{basename:t,navigator:r}=g.useContext(Cn),{matches:a}=g.useContext(Ca),{pathname:s}=Aa(),o=JSON.stringify(Gy(a)),c=g.useRef(!1);return wS(()=>{c.current=!0}),g.useCallback((u,p={})=>{if(kn(c.current,jS),!c.current)return;if(typeof u=="number"){r.go(u);return}let f=Yy(u,JSON.parse(o),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Za([t,f.pathname])),(p.replace?r.replace:r.push)(f,p.state,p)},[t,r,o,s,e])}g.createContext(null);function Kc(e,{relative:t}={}){let{matches:r}=g.useContext(Ca),{pathname:a}=Aa(),s=JSON.stringify(Gy(r));return g.useMemo(()=>Yy(e,JSON.parse(s),a,t==="path"),[e,s,a,t])}function HT(e,t){return NS(e,t)}function NS(e,t,r,a,s){qt(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=g.useContext(Cn),{matches:c}=g.useContext(Ca),d=c[c.length-1],u=d?d.params:{},p=d?d.pathname:"/",f=d?d.pathnameBase:"/",h=d&&d.route;{let S=h&&h.path||"";kS(p,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=Aa(),y;if(t){let S=typeof t=="string"?al(t):t;qt(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=v;let N=y.pathname||"/",j=N;if(f!=="/"){let S=f.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=mS(e,{pathname:j});kn(h||b!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),kn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=JT(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Za([f,o.encodeLocation?o.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Za([f,o.encodeLocation?o.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,r,a,s);return t&&_?g.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function VT(){let e=r5(),t=MT(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:o},"ErrorBoundary")," or"," ",g.createElement("code",{style:o},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:s},r):null,c)}var GT=g.createElement(VT,null),_S=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=qT(e.digest);r&&(e=r)}let t=e!==void 0?g.createElement(Ca.Provider,{value:this.props.routeContext},g.createElement(Xy.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?g.createElement(YT,{error:e},t):t}};_S.contextType=$T;var Gh=new WeakMap;function YT({children:e,error:t}){let{basename:r}=g.useContext(Cn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=UT(t.digest);if(a){let s=Gh.get(t);if(s)throw s;let o=xS(a.location,r);if(gS&&!Gh.get(t))if(o.isExternal||a.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:a.replace}));throw Gh.set(t,c),c}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return e}function XT({routeContext:e,match:t,children:r}){let a=g.useContext(sl);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(Ca.Provider,{value:e},r)}function JT(e,t=[],r=null,a=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,c=r?.errors;if(c!=null){let f=o.findIndex(h=>h.route.id&&c?.[h.route.id]!==void 0);qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,u=-1;if(r)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:v,errors:y}=r,N=h.route.loader&&!v.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||N){d=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}let p=r&&a?(f,h)=>{a(f,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:DT(r.matches),errorInfo:h})}:void 0;return o.reduceRight((f,h,v)=>{let y,N=!1,j=null,b=null;r&&(y=c&&h.route.id?c[h.route.id]:void 0,j=h.route.errorElement||GT,d&&(u<0&&v===0?(kS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,b=null):u===v&&(N=!0,b=h.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,v+1)),S=()=>{let C;return y?C=j:N?C=b:h.route.Component?C=g.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=f,g.createElement(XT,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:r!=null},children:C})};return r&&(h.route.ErrorBoundary||h.route.errorElement||v===0)?g.createElement(_S,{location:r.location,revalidation:r.revalidation,component:j,error:y,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:p}):S()},null)}function Jy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(e){let t=g.useContext(sl);return qt(t,Jy(e)),t}function QT(e){let t=g.useContext(lf);return qt(t,Jy(e)),t}function e5(e){let t=g.useContext(Ca);return qt(t,Jy(e)),t}function Zy(e){let t=e5(e),r=t.matches[t.matches.length-1];return qt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function t5(){return Zy("useRouteId")}function r5(){let e=g.useContext(Xy),t=QT("useRouteError"),r=Zy("useRouteError");return e!==void 0?e:t.errors?.[r]}function n5(){let{router:e}=ZT("useNavigate"),t=Zy("useNavigate"),r=g.useRef(!1);return wS(()=>{r.current=!0}),g.useCallback(async(s,o={})=>{kn(r.current,jS),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var Zw={};function kS(e,t,r){!t&&!Zw[e]&&(Zw[e]=!0,kn(!1,r))}g.memo(a5);function a5({routes:e,future:t,state:r,onError:a}){return NS(e,void 0,r,a,t)}function Fo({to:e,replace:t,state:r,relative:a}){qt(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=g.useContext(Cn);kn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=g.useContext(Ca),{pathname:c}=Aa(),d=ia(),u=Yy(e,Gy(o),c,a==="path"),p=JSON.stringify(u);return g.useEffect(()=>{d(JSON.parse(p),{replace:t,state:r,relative:a})},[d,p,a,t,r]),null}function Nt(e){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function s5({basename:e="/",children:t=null,location:r,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:c}){qt(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:d,navigator:s,static:o,unstable_useTransitions:c,future:{}}),[d,s,o,c]);typeof r=="string"&&(r=al(r));let{pathname:p="/",search:f="",hash:h="",state:v=null,key:y="default"}=r,N=g.useMemo(()=>{let j=os(p,d);return j==null?null:{location:{pathname:j,search:f,hash:h,state:v,key:y},navigationType:a}},[d,p,f,h,v,y,a]);return kn(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:g.createElement(Cn.Provider,{value:u},g.createElement(qc.Provider,{children:t,value:N}))}function Qw({children:e,location:t}){return HT(Ux(e),t)}function Ux(e,t=[]){let r=[];return g.Children.forEach(e,(a,s)=>{if(!g.isValidElement(a))return;let o=[...t,s];if(a.type===g.Fragment){r.push.apply(r,Ux(a.props.children,o));return}qt(a.type===Nt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Ux(a.props.children,o)),r.push(c)}),r}var Ju="get",Zu="application/x-www-form-urlencoded";function cf(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function i5(e){return cf(e)&&e.tagName.toLowerCase()==="button"}function o5(e){return cf(e)&&e.tagName.toLowerCase()==="form"}function l5(e){return cf(e)&&e.tagName.toLowerCase()==="input"}function c5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d5(e,t){return e.button===0&&(!t||t==="_self")&&!c5(e)}function qx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function u5(e,t){let r=qx(e);return t&&t.forEach((a,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}var Nu=null;function m5(){if(Nu===null)try{new FormData(document.createElement("form"),0),Nu=!1}catch{Nu=!0}return Nu}var f5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(e){return e!=null&&!f5.has(e)?(kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):e}function p5(e,t){let r,a,s,o,c;if(o5(e)){let d=e.getAttribute("action");a=d?os(d,t):null,r=e.getAttribute("method")||Ju,s=Yh(e.getAttribute("enctype"))||Zu,o=new FormData(e)}else if(i5(e)||l5(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||d.getAttribute("action");if(a=u?os(u,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Ju,s=Yh(e.getAttribute("formenctype"))||Yh(d.getAttribute("enctype"))||Zu,o=new FormData(d,e),!m5()){let{name:p,type:f,value:h}=e;if(f==="image"){let v=p?`${p}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else p&&o.append(p,h)}}else{if(cf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ju,a=null,s=Zu,c=e}return o&&s==="text/plain"&&(c=o,o=void 0),{action:a,method:r.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function h5(e,t,r,a){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:t&&os(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function g5(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function x5(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function y5(e,t,r){let a=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let c=await g5(o,r);return c.links?c.links():[]}return[]}));return w5(a.flat(1).filter(x5).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function e1(e,t,r,a,s,o){let c=(u,p)=>r[p]?u.route.id!==r[p].route.id:!0,d=(u,p)=>r[p].pathname!==u.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==u.params["*"];return o==="assets"?t.filter((u,p)=>c(u,p)||d(u,p)):o==="data"?t.filter((u,p)=>{let f=a.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(c(u,p)||d(u,p))return!0;if(u.route.shouldRevalidate){let h=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function v5(e,t,{includeHydrateFallback:r}={}){return b5(e.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function b5(e){return[...new Set(e)]}function j5(e){let t={},r=Object.keys(e).sort();for(let a of r)t[a]=e[a];return t}function w5(e,t){let r=new Set;return new Set(t),e.reduce((a,s)=>{let o=JSON.stringify(j5(s));return r.has(o)||(r.add(o),a.push({key:o,link:s})),a},[])}function SS(){let e=g.useContext(sl);return Qy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function N5(){let e=g.useContext(lf);return Qy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var e0=g.createContext(void 0);e0.displayName="FrameworkContext";function PS(){let e=g.useContext(e0);return Qy(e,"You must render this element inside a <HydratedRouter> element"),e}function _5(e,t){let r=g.useContext(e0),[a,s]=g.useState(!1),[o,c]=g.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:p,onMouseLeave:f,onTouchStart:h}=t,v=g.useRef(null);g.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=_=>{_.forEach(S=>{c(S.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return v.current&&b.observe(v.current),()=>{b.disconnect()}}},[e]),g.useEffect(()=>{if(a){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[a]);let y=()=>{s(!0)},N=()=>{s(!1),c(!1)};return r?e!=="intent"?[o,v,{}]:[o,v,{onFocus:sc(d,y),onBlur:sc(u,N),onMouseEnter:sc(p,y),onMouseLeave:sc(f,N),onTouchStart:sc(h,y)}]:[!1,v,{}]}function sc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function k5({page:e,...t}){let{router:r}=SS(),a=g.useMemo(()=>mS(r.routes,e,r.basename),[r.routes,e,r.basename]);return a?g.createElement(P5,{page:e,matches:a,...t}):null}function S5(e){let{manifest:t,routeModules:r}=PS(),[a,s]=g.useState([]);return g.useEffect(()=>{let o=!1;return y5(e,t,r).then(c=>{o||s(c)}),()=>{o=!0}},[e,t,r]),a}function P5({page:e,matches:t,...r}){let a=Aa(),{future:s,manifest:o,routeModules:c}=PS(),{basename:d}=SS(),{loaderData:u,matches:p}=N5(),f=g.useMemo(()=>e1(e,t,p,o,a,"data"),[e,t,p,o,a]),h=g.useMemo(()=>e1(e,t,p,o,a,"assets"),[e,t,p,o,a]),v=g.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let j=new Set,b=!1;if(t.forEach(S=>{let C=o.routes[S.route.id];!C||!C.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in u&&c[S.route.id]?.shouldRevalidate||C.hasClientLoader?b=!0:j.add(S.route.id))}),j.size===0)return[];let _=h5(e,d,s.unstable_trailingSlashAwareDataRequests,"data");return b&&j.size>0&&_.searchParams.set("_routes",t.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[d,s.unstable_trailingSlashAwareDataRequests,u,a,o,f,t,e,c]),y=g.useMemo(()=>v5(h,o),[h,o]),N=S5(h);return g.createElement(g.Fragment,null,v.map(j=>g.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),y.map(j=>g.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),N.map(({key:j,link:b})=>g.createElement("link",{key:j,nonce:r.nonce,...b})))}function C5(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var A5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A5&&(window.__reactRouterVersion="7.12.0")}catch{}function E5({basename:e,children:t,unstable_useTransitions:r,window:a}){let s=g.useRef();s.current==null&&(s.current=dT({window:a,v5Compat:!0}));let o=s.current,[c,d]=g.useState({action:o.action,location:o.location}),u=g.useCallback(p=>{r===!1?d(p):g.startTransition(()=>d(p))},[r]);return g.useLayoutEffect(()=>o.listen(u),[o,u]),g.createElement(s5,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:r})}var CS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t0=g.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:s,reloadDocument:o,replace:c,state:d,target:u,to:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:v,...y},N){let{basename:j,unstable_useTransitions:b}=g.useContext(Cn),_=typeof p=="string"&&CS.test(p),S=xS(p,j);p=S.to;let C=KT(p,{relative:s}),[E,P,O]=_5(a,y),T=I5(p,{replace:c,state:d,target:u,preventScrollReset:f,relative:s,viewTransition:h,unstable_defaultShouldRevalidate:v,unstable_useTransitions:b});function U(z){t&&t(z),z.defaultPrevented||T(z)}let M=g.createElement("a",{...y,...O,href:S.absoluteURL||C,onClick:S.isExternal||o?t:U,ref:C5(N,P),target:u,"data-discover":!_&&r==="render"?"true":void 0});return E&&!_?g.createElement(g.Fragment,null,M,g.createElement(k5,{page:C})):M});t0.displayName="Link";var Qu=g.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:s=!1,style:o,to:c,viewTransition:d,children:u,...p},f){let h=Kc(c,{relative:p.relative}),v=Aa(),y=g.useContext(lf),{navigator:N,basename:j}=g.useContext(Cn),b=y!=null&&R5(h)&&d===!0,_=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,S=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(S=S.toLowerCase(),C=C?C.toLowerCase():null,_=_.toLowerCase()),C&&j&&(C=os(C,j)||C);const E=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let P=S===_||!s&&S.startsWith(_)&&S.charAt(E)==="/",O=C!=null&&(C===_||!s&&C.startsWith(_)&&C.charAt(_.length)==="/"),T={isActive:P,isPending:O,isTransitioning:b},U=P?t:void 0,M;typeof a=="function"?M=a(T):M=[a,P?"active":null,O?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(T):o;return g.createElement(t0,{...p,"aria-current":U,className:M,ref:f,style:z,to:c,viewTransition:d},typeof u=="function"?u(T):u)});Qu.displayName="NavLink";var O5=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:s,state:o,method:c=Ju,action:d,onSubmit:u,relative:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:v,...y},N)=>{let{unstable_useTransitions:j}=g.useContext(Cn),b=$5(),_=z5(d,{relative:p}),S=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&CS.test(d),E=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let O=P.nativeEvent.submitter,T=O?.getAttribute("formmethod")||c,U=()=>b(O||P.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:s,state:o,relative:p,preventScrollReset:f,viewTransition:h,unstable_defaultShouldRevalidate:v});j&&r!==!1?g.startTransition(()=>U()):U()};return g.createElement("form",{ref:N,method:S,action:_,onSubmit:a?u:E,...y,"data-discover":!C&&e==="render"?"true":void 0})});O5.displayName="Form";function T5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AS(e){let t=g.useContext(sl);return qt(t,T5(e)),t}function I5(e,{target:t,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:u}={}){let p=ia(),f=Aa(),h=Kc(e,{relative:o});return g.useCallback(v=>{if(d5(v,t)){v.preventDefault();let y=r!==void 0?r:Nc(f)===Nc(h),N=()=>p(e,{replace:y,state:a,preventScrollReset:s,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:d});u?g.startTransition(()=>N()):N()}},[f,p,h,r,a,t,e,s,o,c,d,u])}function M5(e){kn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=g.useRef(qx(e)),r=g.useRef(!1),a=Aa(),s=g.useMemo(()=>u5(a.search,r.current?null:t.current),[a.search]),o=ia(),c=g.useCallback((d,u)=>{const p=qx(typeof d=="function"?d(new URLSearchParams(s)):d);r.current=!0,o("?"+p,u)},[o,s]);return[s,c]}var D5=0,L5=()=>`__${String(++D5)}__`;function $5(){let{router:e}=AS("useSubmit"),{basename:t}=g.useContext(Cn),r=t5(),a=e.fetch,s=e.navigate;return g.useCallback(async(o,c={})=>{let{action:d,method:u,encType:p,formData:f,body:h}=p5(o,t);if(c.navigate===!1){let v=c.fetcherKey||L5();await a(v,r,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:f,body:h,formMethod:c.method||u,formEncType:c.encType||p,flushSync:c.flushSync})}else await s(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:f,body:h,formMethod:c.method||u,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,s,t,r])}function z5(e,{relative:t}={}){let{basename:r}=g.useContext(Cn),a=g.useContext(Ca);qt(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),o={...Kc(e||".",{relative:t})},c=Aa();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),u=d.getAll("index");if(u.some(f=>f==="")){d.delete("index"),u.filter(h=>h).forEach(h=>d.append("index",h));let f=d.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Za([r,o.pathname])),Nc(o)}function R5(e,{relative:t}={}){let r=g.useContext(vS);qt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=AS("useViewTransitionState"),s=Kc(e,{relative:t});if(!r.isTransitioning)return!1;let o=os(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=os(r.nextLocation.pathname,a)||r.nextLocation.pathname;return sm(s.pathname,c)!=null||sm(s.pathname,o)!=null}var r0=uS();const F5=[{id:"1",name:"Service Provider",email:"manglaaryan05@gmail.com",phone:"9876543210",status:"approved",specialization:["AC Repair","Electrician Services"],rating:4.8,totalJobs:120},{id:"2",name:"Jane Smith",email:"jane@example.com",phone:"8765432109",status:"approved",specialization:["Salon at Home","Massage Therapy"],rating:4.9,totalJobs:85},{id:"3",name:"Bob Johnson",email:"bob@example.com",phone:"7654321098",status:"pending",specialization:["Plumbing Services","Home Cleaning"],rating:0,totalJobs:0}],ES=[{id:"1",name:"Regular User",email:"user@KwikMedi.com",role:"user",status:"active",phone:"9876543210",address:"123 Main St, Apt 4B"},{id:"2",name:"Service Provider",email:"provider@KwikMedi.com",role:"provider",status:"active",phone:"8765432109",address:"456 Park Ave, Suite 10"},{id:"3",name:"Admin User",email:"admin@kwikmedi.com",role:"admin",status:"active",phone:"7654321098"}],B5={};let Co=ES.filter(e=>e.role==="user"&&e.id).map(e=>({id:e.id,name:e.name||"",email:e.email,phone:e.phone||"",password:e.role==="user"?"Neighshop#user":"Neighshop#admin",role:"user",status:e.status,createdAt:new Date().toISOString()})),ki=F5.map(e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,password:"Neighshop#provider",service:e.specialization[0],pincode:"400001",address:"",documentUrl:"/documents/provider.pdf",role:"provider",status:e.status,createdAt:new Date().toISOString()}));const Ao=e=>new Promise(t=>setTimeout(t,e)),Si=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,phone:e.phone}),t1=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e),Xh=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),r1=e=>/^\d{10}$/.test(e),_u=B5?.VITE_API_BASE_URL||"/api",ku={login:async(e,t,r)=>{if(await Ao(1e3),!Xh(e))return{success:!1,message:"Invalid email format"};if(r==="admin"){if(e==="admin@kwikmedi.com"&&t==="Neighshop#admin"){const a=ES.find(s=>s.role==="admin");if(a)return{success:!0,message:"Admin login successful",user:a}}return{success:!1,message:"Invalid admin credentials"}}if(r==="user"){const a=Co.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="active"?{success:!1,message:"Your account is inactive"}:{success:!0,message:"Login successful",user:Si(a)}}if(r==="provider"){const a=ki.find(s=>s.email===e);if(a&&a.password===t)return a.status!=="approved"?{success:!1,message:"Your account is pending approval"}:{success:!0,message:"Login successful",user:Si(a)}}return{success:!1,message:"Invalid credentials"}},registerUser:async e=>{if(await Ao(1e3),!Xh(e.email))return{success:!1,message:"Invalid email format"};if(!r1(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!t1(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(Co.some(r=>r.email===e.email)||ki.some(r=>r.email===e.email))return{success:!1,message:"Email already registered"};const t={...e,id:(Co.length+1).toString(),role:"user",status:"active",createdAt:new Date().toISOString()};return Co.push(t),{success:!0,message:"Registration successful",user:Si(t)}},registerProvider:async(e,t)=>{if(await Ao(1e3),!Xh(e.email))return{success:!1,message:"Invalid email format"};if(!r1(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!t1(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(!e.service)return{success:!1,message:"Service selection is required"};if(!e.pincode||!/^\d{6}$/.test(e.pincode))return{success:!1,message:"Invalid pincode format (6 digits required)"};if(Co.some(o=>o.email===e.email)||ki.some(o=>o.email===e.email))return{success:!1,message:"Email already registered"};if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png"].includes(t.type))return{success:!1,message:"Invalid document format"};if(t.size>5*1024*1024)return{success:!1,message:"Document size should be less than 5MB"};const a=URL.createObjectURL(t),s={...e,id:(ki.length+1).toString(),role:"provider",status:"pending",documentUrl:a,createdAt:new Date().toISOString()};return ki.push(s),{success:!0,message:"Registration submitted for approval. You will be notified once approved.",user:Si(s)}},getRegisteredUsers:async()=>(await Ao(500),Co.map(Si)),getRegisteredProviders:async()=>(await Ao(500),ki.map(Si)),updateProviderStatus:async(e,t)=>{await Ao(500);const r=ki.find(a=>a.id===e);return r?(r.status=t,{success:!0,message:`Provider ${t} successfully`,user:Si(r)}):{success:!1,message:"Provider not found"}},sendOTP:async e=>{const t=await fetch(`${_u}/api/provider/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok)throw new Error("Failed to send OTP");return t.json()},verifyOTP:async(e,t)=>{const r=await fetch(`${_u}/api/provider/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:t})});if(!r.ok)throw new Error("Failed to verify OTP");return r.json()},getServiceProviderInfo:async e=>{const t=await fetch(`${_u}/create_account_service_provider`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to get service provider info");return t.json()},createServiceProviderAccount:async(e,t)=>{const r=new FormData;r.append("name",t.name),r.append("service_type",t.service_type),r.append("phone_number",t.phone_number),r.append("address",t.address),r.append("pincode",t.pincode),r.append("document",t.document),t.referral&&r.append("referral",t.referral);const a=await fetch(`${_u}/create_account_service_provider`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:r});if(!a.ok)throw new Error("Failed to create service provider account");return a.json()}},U5={},Eo=U5?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in",OS=g.createContext(void 0),Cr=()=>{const e=g.useContext(OS);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},q5=({children:e})=>{const[t,r]=g.useState(null),[a,s]=g.useState(null),[o,c]=g.useState(!0),d=()=>{const b=localStorage.getItem("KwikMedi_user"),_=localStorage.getItem("KwikMedi_token"),S=localStorage.getItem("KwikMedi_role");if(_&&b)try{const C=JSON.parse(b);if(console.log("AuthContext: Restoring user data",{storedRole:S,userData:C}),S==="admin"||S==="helping_staff"||S==="finance_admin"||C.role==="admin"||C.role==="super_admin"||C.role==="helping_staff"||C.role==="helping_staff_admin"||C.role==="finance_admin"){if(_.startsWith("mock_token_")){console.log("AuthContext: Rejecting mock token, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null),c(!1);return}fetch(`${Eo}/api/admin/me`,{headers:{Authorization:`Bearer ${_}`}}).then(E=>{if(E.ok)return E.json();throw new Error("Token validation failed")}).then(E=>{if(E.admin){s(_);let P=E.admin.role;P==="super_admin"?P="admin":P==="helping_staff_admin"&&(P="helping_staff");const O={...E.admin,role:P};console.log("AuthContext: Setting user data after validation",O),r(O),localStorage.setItem("KwikMedi_user",JSON.stringify(O)),localStorage.setItem("KwikMedi_role",P)}else{if((S==="helping_staff"||S==="finance_admin")&&C){console.log(`AuthContext: Using stored ${S} data (admin_me returned no admin)`),s(_);const P={...C,role:S};r(P),localStorage.setItem("KwikMedi_user",JSON.stringify(P)),localStorage.setItem("KwikMedi_role",S),c(!1);return}throw new Error("Invalid response")}}).catch(()=>{console.log("AuthContext: Token validation failed, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null)}).finally(()=>{c(!1)})}else S==="provider"||C.role==="provider"?(s(_),r(C),c(!1)):fetch(`${Eo}/api/user/profile`,{headers:{Authorization:`Bearer ${_}`}}).then(E=>{E.ok?(s(_),r(C)):(localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null))}).catch(()=>{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null)}).finally(()=>{c(!1)})}catch{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),s(null),r(null),c(!1)}else c(!1)};g.useEffect(()=>{d();const b=S=>{(S.key==="KwikMedi_token"||S.key==="KwikMedi_user"||S.key==="KwikMedi_role")&&d()},_=()=>{d()};return window.addEventListener("storage",b),window.addEventListener("authUpdate",_),()=>{window.removeEventListener("storage",b),window.removeEventListener("authUpdate",_)}},[]);const j={user:t,isAuthenticated:!!a,isLoading:o,token:a,sendOTP:async b=>{try{await ku.sendOTP(b)}catch(_){throw console.error("Failed to send OTP:",_),_}},verifyOTP:async(b,_)=>{try{const S=await ku.verifyOTP(b,_);if(S.is_existing&&S.token&&S.provider){s(S.token),localStorage.setItem("KwikMedi_token",S.token);const C={id:S.provider.id.toString(),email:S.provider.email,role:"provider",status:S.provider.status||"pending",name:S.provider.name||"",phone:S.provider.phone||""};return r(C),localStorage.setItem("KwikMedi_user",JSON.stringify(C)),localStorage.setItem("KwikMedi_role","provider"),{token:S.token,user:C,isNewUser:!1}}else return{token:null,user:null,isNewUser:!0}}catch(S){throw console.error("OTP verification failed:",S),S}},createServiceProviderAccount:async b=>{if(!a)throw new Error("No authentication token found");try{await ku.createServiceProviderAccount(a,b);const S={email:(await ku.getServiceProviderInfo(a)).email,role:"provider",name:b.name,phone:b.phone_number,status:"pending"};r(S),localStorage.setItem("KwikMedi_user",JSON.stringify(S))}catch(_){throw console.error("Failed to create service provider account:",_),_}},adminLogin:async(b,_)=>{try{const S=await fetch(`${Eo}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,password:_})}),C=await S.json();if(!S.ok)throw new Error(C.message||"Login failed");if(C.token){s(C.token);const E=C.admin.role==="super_admin"?"admin":C.admin.role,P={...C.admin,role:E};r(P),localStorage.setItem("KwikMedi_token",C.token),localStorage.setItem("KwikMedi_user",JSON.stringify(P)),localStorage.setItem("KwikMedi_role","admin")}else throw new Error("No token received")}catch(S){throw console.error("Admin login failed:",S),S}},login:async(b,_,S="user")=>{try{const C=await fetch(`${Eo}/api/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:_})}),E=await C.json();if(!C.ok)throw new Error(E.message||"Login failed");if(E.token&&E.user){s(E.token);const P={id:E.user.id,email:E.user.email,role:S,status:E.user.status||"active",name:E.user.name||"",phone:E.user.phone||""};r(P),localStorage.setItem("KwikMedi_token",E.token),localStorage.setItem("KwikMedi_user",JSON.stringify(P)),localStorage.setItem("KwikMedi_role",S);const O=localStorage.getItem("selectedService"),T=localStorage.getItem("selectedCategory");O?localStorage.removeItem("selectedService"):T&&localStorage.removeItem("selectedCategory")}else throw new Error("No token or user data received")}catch(C){throw console.error("Login failed:",C),C}},logout:()=>{r(null),s(null),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_role")},refreshUserData:async()=>{try{const b=localStorage.getItem("KwikMedi_token"),_=localStorage.getItem("KwikMedi_role");if(b&&_)if(_==="admin"||_==="helping_staff"||_==="finance_admin")try{const S=await fetch(`${Eo}/api/admin/me`,{headers:{Authorization:`Bearer ${b}`}});if(S.ok){const C=await S.json(),E={...C.admin,role:C.admin.role==="super_admin"?"admin":C.admin.role};r(E),localStorage.setItem("KwikMedi_user",JSON.stringify(E)),console.log("Admin data refreshed:",E)}else S.status===404&&console.log("Admin /me endpoint not found, using stored user data")}catch(S){console.log("Admin /me endpoint error, using stored user data:",S)}else if(_==="provider")console.log("Service provider session maintained - no auto-refresh");else{const S=await fetch(`${Eo}/api/user/profile`,{headers:{Authorization:`Bearer ${b}`}});if(S.ok){const E=(await S.json()).profile,P={id:E.id,email:E.email,role:_,status:E.status||"active",name:E.name||"",phone:E.phone||""};console.log("Refreshing user data:",P),r(P),localStorage.setItem("KwikMedi_user",JSON.stringify(P)),console.log("User data updated in context and localStorage")}else console.error("Failed to refresh user data:",S.status)}}catch(b){console.error("Error refreshing user data:",b)}}};return n.jsx(OS.Provider,{value:j,children:e})},TS=g.createContext(void 0),Zt=()=>{const e=g.useContext(TS);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},K5=({children:e})=>{const[t,r]=g.useState([]),a=g.useCallback((o,c)=>{const d=Math.random().toString(36).substring(2,9);r(u=>[...u,{id:d,message:o,type:c}]),setTimeout(()=>{r(u=>u.filter(p=>p.id!==d))},2500)},[]),s=g.useCallback(o=>{r(c=>c.filter(d=>d.id!==o))},[]);return n.jsx(TS.Provider,{value:{toasts:t,addToast:a,removeToast:s},children:e})},W5=()=>{const{toasts:e,removeToast:t}=Zt();return e.length===0?null:n.jsx("div",{className:"fixed bottom-0 right-0 p-4 z-50 max-w-md w-full",children:n.jsx("div",{className:"space-y-2",children:e.map(r=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex items-start justify-between transition-all duration-300 animate-slide-up
              ${r.type==="success"?"bg-success text-white":r.type==="error"?"bg-error text-white":r.type==="warning"?"bg-warning text-white":"bg-primary text-secondary-dark"}
            `,children:[n.jsx("p",{children:r.message}),n.jsx("button",{onClick:()=>t(r.id),className:"ml-4 text-sm hover:opacity-70",children:""})]},r.id))})})};var H5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const V5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),je=(e,t)=>{const r=g.forwardRef(({color:a="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:u,...p},f)=>g.createElement("svg",{ref:f,...H5,width:s,height:s,stroke:a,strokeWidth:c?Number(o)*24/Number(s):o,className:["lucide",`lucide-${V5(e)}`,d].join(" "),...p},[...t.map(([h,v])=>g.createElement(h,v)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};const G5=je("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const n0=je("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const aa=je("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const a0=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const s0=je("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const Y5=je("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const X5=je("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const J5=je("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const _c=je("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const Z5=je("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Q5=je("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const IS=je("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const eI=je("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const i0=je("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const Vr=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Bi=je("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const fn=je("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const tI=je("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const oi=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ji=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Ea=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ol=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const MS=je("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);const rI=je("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Lr=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Kx=je("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const nI=je("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const ls=je("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const cs=je("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const DS=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Zi=je("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Jh=je("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);const Zh=je("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);const ya=je("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const o0=je("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const n1=je("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const a1=je("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const aI=je("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const sI=je("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const iI=je("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const oI=je("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const xc=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const lI=je("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const cI=je("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const dI=je("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const uI=je("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const ra=je("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const l0=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const ti=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Qa=je("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Qh=je("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const mI=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Ga=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const LS=je("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z",key:"1dba1m"}]]);const Ya=je("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const fI=je("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const eg=je("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const pI=je("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Qi=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const hI=je("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const Vo=je("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);const Sn=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const s1=je("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const mn=je("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const gI=je("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const An=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const xI=je("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const yI=je("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const im=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ja=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const vI=je("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const c0=je("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const $S=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const bI=je("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const ri=je("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const om=je("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);const xa=je("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const jI=je("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const Wx=je("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const wI=je("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const ds=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const bc=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const kc=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const zS=je("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const lm=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const NI=je("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const Lt=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const wa=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const _I=je("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const Qs=je("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const yt=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const kI=je("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),SI=()=>{const[e,t]=g.useState(""),[r,a]=g.useState(""),[s,o]=g.useState(!1),c=ia(),{adminLogin:d,isAuthenticated:u,user:p,isLoading:f}=Cr(),{addToast:h}=Zt();if(g.useEffect(()=>{!f&&u&&p?.role==="admin"&&c("/admin/dashboard",{replace:!0})},[u,p,f,c]),f)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const v=async y=>{y.preventDefault(),o(!0);try{await d(e,r);const N=localStorage.getItem("KwikMedi_user");if(N){const _=JSON.parse(N).role||"";if(_==="finance_admin"){h("Please use Financial Staff login","error"),o(!1);return}if(_==="helping_staff"||_==="helping_staff_admin"){h("Please use Helping Staff login","error"),o(!1);return}}h("Login successful!","success");const j=()=>{u&&p?.role==="admin"?c("/admin/dashboard",{replace:!0}):setTimeout(j,50)};setTimeout(j,100)}catch(N){const j=N?.message||"Login failed. Please check your credentials.";h(j,"error")}finally{o(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>c("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(a0,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(ja,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Super Admin Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Full system access and management"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:y=>t(y.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:y=>a(y.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:s?"Logging in...":"Sign in"})})]})]})})},PI=e=>{const t=new Date,r=t.toISOString().split("T")[0];let a;switch(e){case"7d":a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0];break;case"30d":a=new Date(t.setDate(t.getDate()-30)).toISOString().split("T")[0];break;case"90d":a=new Date(t.setDate(t.getDate()-90)).toISOString().split("T")[0];break;case"1y":a=new Date(t.setFullYear(t.getFullYear()-1)).toISOString().split("T")[0];break;default:a=new Date(t.setDate(t.getDate()-7)).toISOString().split("T")[0]}return{from:a,to:r}},CI=({dateFrom:e,dateTo:t,onDateRangeChange:r,onExport:a})=>{const s=d=>{const{from:u,to:p}=PI(d);r(u,p)},o=(d,u)=>{d==="from"?r(u,t):r(e,u)},c=()=>{const u=new Date().toISOString().split("T")[0];if(t===u){const p=Math.ceil((new Date(t).getTime()-new Date(e).getTime())/864e5);if(p<=7)return"7d";if(p<=30)return"30d";if(p<=90)return"90d";if(p<=365)return"1y"}return"custom"};return n.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200/50 z-50 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"h-16 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-xl shadow-lg",children:n.jsx(J5,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Platform Analytics & Management"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx(Vr,{className:"w-4 h-4 text-gray-400"}),n.jsxs("select",{value:c(),onChange:d=>{d.target.value!=="custom"&&s(d.target.value)},className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700 font-medium",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"}),n.jsx("option",{value:"custom",children:"Custom Range"})]})]}),c()==="custom"&&n.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx("input",{type:"date",value:e,onChange:d=>o("from",d.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",max:t}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsx("input",{type:"date",value:t,onChange:d=>o("to",d.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",min:e,max:new Date().toISOString().split("T")[0]})]}),a&&n.jsxs("button",{onClick:a,className:"flex items-center space-x-2 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-all duration-200 shadow-md hover:shadow-lg",children:[n.jsx(DS,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(An,{className:"w-5 h-5"})})]})]})})})},AI={},EI=AI?.VITE_API_BASE_URL||"/api",ll=EI,OI=(e,t)=>({metrics:{total_revenue:245678.5,total_bookings:1234,completed_bookings:1156,active_users:856,active_providers:234,pending_disputes:12,platform_revenue:24567.85,new_users_today:23,new_providers_today:5},growth_rates:{revenue_growth:15.5,booking_growth:22.3,user_growth:18.7},recent_activity:{new_bookings:45,completed_bookings:38,new_disputes:2,payments_received:42},date_range:{from:e,to:t}}),RS=(e,t)=>{const[r,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Cr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(OI(e,t)),o(!1)},500);return}try{const h=await fetch(`${ll}/admin/analytics/dashboard?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const v=await h.json();if(!v.success)throw new Error(v.message||"Failed to fetch dashboard data");a({metrics:v.metrics,growth_rates:v.growth_rates,recent_activity:v.recent_activity,date_range:v.date_range})}catch(h){console.error("Error fetching dashboard data:",h),d(h.message||"Failed to fetch dashboard data"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:r,loading:s,error:c}},TI=()=>({trend:[{period:"2024-01-01",total_revenue:12500,platform_revenue:1250,transaction_count:45,avg_transaction_value:277.78},{period:"2024-01-02",total_revenue:13800,platform_revenue:1380,transaction_count:52,avg_transaction_value:265.38},{period:"2024-01-03",total_revenue:15200,platform_revenue:1520,transaction_count:58,avg_transaction_value:262.07},{period:"2024-01-04",total_revenue:14100,platform_revenue:1410,transaction_count:54,avg_transaction_value:261.11},{period:"2024-01-05",total_revenue:16700,platform_revenue:1670,transaction_count:63,avg_transaction_value:265.08}],payment_methods:[{method:"Credit Card",total_amount:145678,transaction_count:523},{method:"Debit Card",total_amount:67890,transaction_count:312},{method:"UPI",total_amount:32110,transaction_count:399}],category_revenue:[{category:"Plumbing",total_revenue:45678,booking_count:234,avg_booking_value:195.21},{category:"Electrical",total_revenue:38900,booking_count:198,avg_booking_value:196.46},{category:"Cleaning",total_revenue:32100,booking_count:267,avg_booking_value:120.34},{category:"Carpentry",total_revenue:28900,booking_count:145,avg_booking_value:199.31}],top_providers:[{name:"John Smith",business_name:"Smith Services",total_earnings:12345,booking_count:67},{name:"Sarah Johnson",business_name:"Johnson Pro",total_earnings:11234,booking_count:58},{name:"Mike Williams",business_name:"Williams Solutions",total_earnings:9876,booking_count:52}]}),II=(e,t)=>{const[r,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Cr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(TI()),o(!1)},500);return}try{const h=await fetch(`${ll}/admin/analytics/revenue?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const v=await h.json();if(!v.success)throw new Error(v.message||"Failed to fetch revenue data");a(v.revenue_data)}catch(h){console.error("Error fetching revenue data:",h),d(h.message||"Failed to fetch revenue data"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:r,loading:s,error:c}},MI=()=>({registration_trend:[{date:"2024-01-01",new_users:12},{date:"2024-01-02",new_users:18},{date:"2024-01-03",new_users:15},{date:"2024-01-04",new_users:22},{date:"2024-01-05",new_users:19}],activity_metrics:{total_users:856,active_users_30d:623,verified_users:712,users_with_bookings:534},geographic_distribution:[{city:"Mumbai",state:"Maharashtra",user_count:234,active_users:189},{city:"Delhi",state:"Delhi",user_count:198,active_users:156},{city:"Bangalore",state:"Karnataka",user_count:167,active_users:134},{city:"Pune",state:"Maharashtra",user_count:123,active_users:98}],engagement_metrics:{avg_bookings_per_user:2.3,avg_spent_per_user:456.78,repeat_user_rate:68.5},cohort_analysis:[{month:"2024-01",users_count:234,retention_rate:85.2},{month:"2023-12",users_count:198,retention_rate:82.3},{month:"2023-11",users_count:167,retention_rate:79.6}]}),DI=(e,t)=>{const[r,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Cr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(MI()),o(!1)},500);return}try{const h=await fetch(`${ll}/admin/analytics/users?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const v=await h.json();if(!v.success)throw new Error(v.message||"Failed to fetch user analytics");a(v.user_analytics)}catch(h){console.error("Error fetching user analytics:",h),d(h.message||"Failed to fetch user analytics"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:r,loading:s,error:c}},LI=()=>({booking_trend:[{date:"2024-01-01",total_bookings:45,completed_bookings:42,cancelled_bookings:3,completion_rate:93.3},{date:"2024-01-02",total_bookings:52,completed_bookings:48,cancelled_bookings:4,completion_rate:92.3},{date:"2024-01-03",total_bookings:58,completed_bookings:55,cancelled_bookings:3,completion_rate:94.8},{date:"2024-01-04",total_bookings:54,completed_bookings:51,cancelled_bookings:3,completion_rate:94.4},{date:"2024-01-05",total_bookings:63,completed_bookings:60,cancelled_bookings:3,completion_rate:95.2}],status_distribution:[{status:"completed",count:1156},{status:"pending",count:45},{status:"in_progress",count:23},{status:"cancelled",count:10}],peak_booking_times:[{hour:9,booking_count:45},{hour:10,booking_count:67},{hour:11,booking_count:89},{hour:14,booking_count:78},{hour:15,booking_count:92},{hour:16,booking_count:85}],category_performance:[{category:"Plumbing",total_bookings:234,completed_bookings:221,completion_rate:94.4,avg_booking_value:195.21,avg_rating:4.6},{category:"Electrical",total_bookings:198,completed_bookings:187,completion_rate:94.4,avg_booking_value:196.46,avg_rating:4.7},{category:"Cleaning",total_bookings:267,completed_bookings:254,completion_rate:95.1,avg_booking_value:120.34,avg_rating:4.5}],conversion_funnel:{searches:5678,profile_views:3456,bookings:1234,completed_bookings:1156,search_to_booking_rate:21.7,booking_completion_rate:93.7}}),$I=(e,t)=>{const[r,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Cr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(LI()),o(!1)},500);return}try{const h=await fetch(`${ll}/admin/analytics/bookings?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const v=await h.json();if(!v.success)throw new Error(v.message||"Failed to fetch booking analytics");a(v.booking_analytics)}catch(h){console.error("Error fetching booking analytics:",h),d(h.message||"Failed to fetch booking analytics"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:r,loading:s,error:c}},zI=()=>({registration_trend:[{date:"2024-01-01",new_providers:3},{date:"2024-01-02",new_providers:5},{date:"2024-01-03",new_providers:4},{date:"2024-01-04",new_providers:6},{date:"2024-01-05",new_providers:5}],status_distribution:[{status:"approved",verification_status:"verified",count:189},{status:"approved",verification_status:"pending",count:45},{status:"pending",verification_status:"pending",count:23},{status:"rejected",verification_status:"rejected",count:12}],top_performers:[{name:"John Smith",business_name:"Smith Services",rating:4.8,total_bookings:67,completed_bookings:65,completion_rate:97,total_earnings:12345},{name:"Sarah Johnson",business_name:"Johnson Pro",rating:4.7,total_bookings:58,completed_bookings:56,completion_rate:96.6,total_earnings:11234},{name:"Mike Williams",business_name:"Williams Solutions",rating:4.6,total_bookings:52,completed_bookings:50,completion_rate:96.2,total_earnings:9876}],performance_metrics:{avg_platform_rating:4.5,active_providers:234,verified_providers:189,avg_completion_rate:94.2},category_distribution:[{category:"Plumbing",provider_count:67,avg_rating:4.6},{category:"Electrical",provider_count:54,avg_rating:4.7},{category:"Cleaning",provider_count:78,avg_rating:4.5},{category:"Carpentry",provider_count:35,avg_rating:4.6}]}),RI=(e,t)=>{const[r,a]=g.useState(null),[s,o]=g.useState(!0),[c,d]=g.useState(null),{token:u}=Cr();return g.useEffect(()=>{(async()=>{if(!e||!t){o(!1);return}const f=u&&u.startsWith("mock_token_");if(!u||f){setTimeout(()=>{a(zI()),o(!1)},500);return}try{const h=await fetch(`${ll}/admin/analytics/providers?date_from=${e}&date_to=${t}`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(!h.ok)throw h.status===401?new Error("Unauthorized: Please log in again"):h.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${h.status}`);const v=await h.json();if(!v.success)throw new Error(v.message||"Failed to fetch provider analytics");a(v.provider_analytics)}catch(h){console.error("Error fetching provider analytics:",h),d(h.message||"Failed to fetch provider analytics"),a(null)}finally{o(!1)}})()},[e,t,u]),{data:r,loading:s,error:c}},FI=()=>({current_metrics:{avg_response_time_ms:145,avg_db_query_time_ms:23,avg_server_load:45.6,avg_memory_usage:62.3,avg_error_rate:.12,avg_uptime:99.8},time_series:[{timestamp:"2024-01-05T00:00:00Z",response_time:142,db_query_time:21,active_sessions:234,server_load:43.2,memory_usage:60.1,error_rate:.1},{timestamp:"2024-01-05T01:00:00Z",response_time:145,db_query_time:23,active_sessions:256,server_load:45.6,memory_usage:62.3,error_rate:.12},{timestamp:"2024-01-05T02:00:00Z",response_time:148,db_query_time:24,active_sessions:278,server_load:47.8,memory_usage:64.5,error_rate:.14},{timestamp:"2024-01-05T03:00:00Z",response_time:143,db_query_time:22,active_sessions:245,server_load:44.1,memory_usage:61.2,error_rate:.11}]}),BI=()=>{const[e,t]=g.useState(null),[r,a]=g.useState(!0),[s,o]=g.useState(null),{token:c}=Cr();return g.useEffect(()=>{(async()=>{const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{t(FI()),a(!1)},500);return}try{const p=await fetch(`${ll}/admin/analytics/system-performance`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!p.ok)throw p.status===401?new Error("Unauthorized: Please log in again"):p.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${p.status}`);const f=await p.json();if(!f.success)throw new Error(f.message||"Failed to fetch system performance data");t(f.performance_data)}catch(p){console.error("Error fetching system performance data:",p),o(p.message||"Failed to fetch system performance data"),t(null)}finally{a(!1)}})()},[c]),{data:e,loading:r,error:s}},UI=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=RS(e,t);if(a)return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(8)].map((c,d)=>n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},d))});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load metrics"});const o=[{name:"Total Revenue",value:`${r.metrics.total_revenue.toLocaleString("en-IN")}`,change:`${r.growth_rates.revenue_growth>0?"+":""}${r.growth_rates.revenue_growth}%`,changeType:r.growth_rates.revenue_growth>=0?"positive":"negative",icon:cs,gradient:"bg-primary"},{name:"Total Orders",value:r.metrics.total_bookings.toLocaleString("en-IN"),change:`${r.growth_rates.booking_growth>0?"+":""}${r.growth_rates.booking_growth}%`,changeType:r.growth_rates.booking_growth>=0?"positive":"negative",icon:Vr,gradient:"bg-primary"},{name:"Completed Orders",value:r.metrics.completed_bookings.toLocaleString("en-IN"),change:`${(r.metrics.completed_bookings/r.metrics.total_bookings*100).toFixed(1)}%`,changeType:"positive",icon:fn,gradient:"bg-primary"},{name:"Active Users",value:r.metrics.active_users.toLocaleString("en-IN"),change:`${r.growth_rates.user_growth>0?"+":""}${r.growth_rates.user_growth}%`,changeType:r.growth_rates.user_growth>=0?"positive":"negative",icon:wa,gradient:"bg-primary"},{name:"Active Vendors",value:r.metrics.active_providers.toLocaleString("en-IN"),change:`${r.metrics.new_providers_today>0?"+":""}${r.metrics.new_providers_today}`,changeType:"positive",icon:om,gradient:"bg-primary"},{name:"Platform Revenue",value:`${r.metrics.platform_revenue.toLocaleString("en-IN")}`,change:`${(r.metrics.platform_revenue/r.metrics.total_revenue*100).toFixed(1)}% of total`,changeType:"positive",icon:eI,gradient:"bg-primary"},{name:"New Users Today",value:r.metrics.new_users_today.toLocaleString(),change:"Today",changeType:"positive",icon:lm,gradient:"bg-primary"},{name:"Pending Disputes",value:r.metrics.pending_disputes.toLocaleString("en-IN"),change:"Active",changeType:"negative",icon:n0,gradient:"bg-primary"}];return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((c,d)=>{const u=c.icon;return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20 hover:scale-105 hover:bg-white/90",style:{animationDelay:`${d*50}ms`},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 ${c.gradient} rounded-xl shadow-md`,children:n.jsx(u,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:`text-sm font-semibold px-3 py-1 rounded-full ${c.changeType==="positive","text-primary bg-secondary border border-primary/20"}`,children:c.change})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:c.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:c.name})]})]},c.name)})})};function FS(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=FS(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function ft(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=FS(e))&&(a&&(a+=" "),a+=t);return a}var qI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function d0(e){if(typeof e!="string")return!1;var t=qI;return t.includes(e)}var KI=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WI=new Set(KI);function BS(e){return typeof e!="string"?!1:WI.has(e)}function US(e){return typeof e=="string"&&e.startsWith("data-")}function en(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(BS(r)||US(r))&&(t[r]=e[r]);return t}function Ui(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return en(t)}return typeof e=="object"&&!Array.isArray(e)?en(e):null}function Yr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(BS(r)||US(r)||d0(r))&&(t[r]=e[r]);return t}function HI(e){return e==null?null:g.isValidElement(e)?Yr(e.props):typeof e=="object"&&!Array.isArray(e)?Yr(e):null}var VI=["children","width","height","viewBox","className","style","title","desc"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hx.apply(null,arguments)}function GI(e,t){if(e==null)return{};var r,a,s=YI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YI(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var u0=g.forwardRef((e,t)=>{var{children:r,width:a,height:s,viewBox:o,className:c,style:d,title:u,desc:p}=e,f=GI(e,VI),h=o||{width:a,height:s,x:0,y:0},v=ft("recharts-surface",c);return g.createElement("svg",Hx({},Yr(f),{className:v,width:a,height:s,style:d,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),g.createElement("title",null,u),g.createElement("desc",null,p),r)}),XI=["children","className"];function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Vx.apply(null,arguments)}function JI(e,t){if(e==null)return{};var r,a,s=ZI(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZI(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Jt=g.forwardRef((e,t)=>{var{children:r,className:a}=e,s=JI(e,XI),o=ft("recharts-layer",a);return g.createElement("g",Vx({className:o},Yr(s),{ref:t}),r)}),qS=g.createContext(null),QI=()=>g.useContext(qS);function Ot(e){return function(){return e}}const KS=Math.cos,cm=Math.sin,oa=Math.sqrt,dm=Math.PI,df=2*dm,Gx=Math.PI,Yx=2*Gx,Ei=1e-6,e6=Yx-Ei;function WS(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function t6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return WS;const r=10**t;return function(a){this._+=a[0];for(let s=1,o=a.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class r6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?WS:t6(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,o,c){this._append`C${+t},${+r},${+a},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(t,r,a,s,o){if(t=+t,r=+r,a=+a,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,d=this._y1,u=a-t,p=s-r,f=c-t,h=d-r,v=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Ei)if(!(Math.abs(h*u-p*f)>Ei)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let y=a-c,N=s-d,j=u*u+p*p,b=y*y+N*N,_=Math.sqrt(j),S=Math.sqrt(v),C=o*Math.tan((Gx-Math.acos((j+v-b)/(2*_*S)))/2),E=C/S,P=C/_;Math.abs(E-1)>Ei&&this._append`L${t+E*f},${r+E*h}`,this._append`A${o},${o},0,0,${+(h*y>f*N)},${this._x1=t+P*u},${this._y1=r+P*p}`}}arc(t,r,a,s,o,c){if(t=+t,r=+r,a=+a,c=!!c,a<0)throw new Error(`negative radius: ${a}`);let d=a*Math.cos(s),u=a*Math.sin(s),p=t+d,f=r+u,h=1^c,v=c?s-o:o-s;this._x1===null?this._append`M${p},${f}`:(Math.abs(this._x1-p)>Ei||Math.abs(this._y1-f)>Ei)&&this._append`L${p},${f}`,a&&(v<0&&(v=v%Yx+Yx),v>e6?this._append`A${a},${a},0,1,${h},${t-d},${r-u}A${a},${a},0,1,${h},${this._x1=p},${this._y1=f}`:v>Ei&&this._append`A${a},${a},0,${+(v>=Gx)},${h},${this._x1=t+a*Math.cos(o)},${this._y1=r+a*Math.sin(o)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function m0(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new r6(t)}function f0(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function HS(e){this._context=e}HS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uf(e){return new HS(e)}function VS(e){return e[0]}function GS(e){return e[1]}function YS(e,t){var r=Ot(!0),a=null,s=uf,o=null,c=m0(d);e=typeof e=="function"?e:e===void 0?VS:Ot(e),t=typeof t=="function"?t:t===void 0?GS:Ot(t);function d(u){var p,f=(u=f0(u)).length,h,v=!1,y;for(a==null&&(o=s(y=c())),p=0;p<=f;++p)!(p<f&&r(h=u[p],p,u))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(h,p,u),+t(h,p,u));if(y)return o=null,y+""||null}return d.x=function(u){return arguments.length?(e=typeof u=="function"?u:Ot(+u),d):e},d.y=function(u){return arguments.length?(t=typeof u=="function"?u:Ot(+u),d):t},d.defined=function(u){return arguments.length?(r=typeof u=="function"?u:Ot(!!u),d):r},d.curve=function(u){return arguments.length?(s=u,a!=null&&(o=s(a)),d):s},d.context=function(u){return arguments.length?(u==null?a=o=null:o=s(a=u),d):a},d}function Su(e,t,r){var a=null,s=Ot(!0),o=null,c=uf,d=null,u=m0(p);e=typeof e=="function"?e:e===void 0?VS:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?GS:Ot(+r);function p(h){var v,y,N,j=(h=f0(h)).length,b,_=!1,S,C=new Array(j),E=new Array(j);for(o==null&&(d=c(S=u())),v=0;v<=j;++v){if(!(v<j&&s(b=h[v],v,h))===_)if(_=!_)y=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),N=v-1;N>=y;--N)d.point(C[N],E[N]);d.lineEnd(),d.areaEnd()}_&&(C[v]=+e(b,v,h),E[v]=+t(b,v,h),d.point(a?+a(b,v,h):C[v],r?+r(b,v,h):E[v]))}if(S)return d=null,S+""||null}function f(){return YS().defined(s).curve(c).context(o)}return p.x=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),a=null,p):e},p.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),p):e},p.x1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Ot(+h),p):a},p.y=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),r=null,p):t},p.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),p):t},p.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ot(+h),p):r},p.lineX0=p.lineY0=function(){return f().x(e).y(t)},p.lineY1=function(){return f().x(e).y(r)},p.lineX1=function(){return f().x(a).y(t)},p.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Ot(!!h),p):s},p.curve=function(h){return arguments.length?(c=h,o!=null&&(d=c(o)),p):c},p.context=function(h){return arguments.length?(h==null?o=d=null:d=c(o=h),p):o},p}class XS{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function n6(e){return new XS(e,!0)}function a6(e){return new XS(e,!1)}const p0={draw(e,t){const r=oa(t/dm);e.moveTo(r,0),e.arc(0,0,r,0,df)}},s6={draw(e,t){const r=oa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},JS=oa(1/3),i6=JS*2,o6={draw(e,t){const r=oa(t/i6),a=r*JS;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},l6={draw(e,t){const r=oa(t),a=-r/2;e.rect(a,a,r,r)}},c6=.8908130915292852,ZS=cm(dm/10)/cm(7*dm/10),d6=cm(df/10)*ZS,u6=-KS(df/10)*ZS,m6={draw(e,t){const r=oa(t*c6),a=d6*r,s=u6*r;e.moveTo(0,-r),e.lineTo(a,s);for(let o=1;o<5;++o){const c=df*o/5,d=KS(c),u=cm(c);e.lineTo(u*r,-d*r),e.lineTo(d*a-u*s,u*a+d*s)}e.closePath()}},tg=oa(3),f6={draw(e,t){const r=-oa(t/(tg*3));e.moveTo(0,r*2),e.lineTo(-tg*r,-r),e.lineTo(tg*r,-r),e.closePath()}},Ln=-.5,$n=oa(3)/2,Xx=1/oa(12),p6=(Xx/2+1)*3,h6={draw(e,t){const r=oa(t/p6),a=r/2,s=r*Xx,o=a,c=r*Xx+r,d=-o,u=c;e.moveTo(a,s),e.lineTo(o,c),e.lineTo(d,u),e.lineTo(Ln*a-$n*s,$n*a+Ln*s),e.lineTo(Ln*o-$n*c,$n*o+Ln*c),e.lineTo(Ln*d-$n*u,$n*d+Ln*u),e.lineTo(Ln*a+$n*s,Ln*s-$n*a),e.lineTo(Ln*o+$n*c,Ln*c-$n*o),e.lineTo(Ln*d+$n*u,Ln*u-$n*d),e.closePath()}};function g6(e,t){let r=null,a=m0(s);e=typeof e=="function"?e:Ot(e||p0),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function s(){let o;if(r||(r=o=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Ot(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function um(){}function mm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function QS(e){this._context=e}QS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function x6(e){return new QS(e)}function eP(e){this._context=e}eP.prototype={areaStart:um,areaEnd:um,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y6(e){return new eP(e)}function tP(e){this._context=e}tP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:mm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function v6(e){return new tP(e)}function rP(e){this._context=e}rP.prototype={areaStart:um,areaEnd:um,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function b6(e){return new rP(e)}function i1(e){return e<0?-1:1}function o1(e,t,r){var a=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(a||s<0&&-0),c=(r-e._y1)/(s||a<0&&-0),d=(o*s+c*a)/(a+s);return(i1(o)+i1(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(d))||0}function l1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rg(e,t,r){var a=e._x0,s=e._y0,o=e._x1,c=e._y1,d=(o-a)/3;e._context.bezierCurveTo(a+d,s+d*t,o-d,c-d*r,o,c)}function fm(e){this._context=e}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rg(this,this._t0,l1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rg(this,l1(this,r=o1(this,e,t)),r);break;default:rg(this,this._t0,r=o1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function nP(e){this._context=new aP(e)}(nP.prototype=Object.create(fm.prototype)).point=function(e,t){fm.prototype.point.call(this,t,e)};function aP(e){this._context=e}aP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,o){this._context.bezierCurveTo(t,e,a,r,o,s)}};function j6(e){return new fm(e)}function w6(e){return new nP(e)}function sP(e){this._context=e}sP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=c1(e),s=c1(t),o=0,c=1;c<r;++o,++c)this._context.bezierCurveTo(a[0][o],s[0][o],a[1][o],s[1][o],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function c1(e){var t,r=e.length-1,a,s=new Array(r),o=new Array(r),c=new Array(r);for(s[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/o[t-1],o[t]-=a,c[t]-=a*c[t-1];for(s[r-1]=c[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function N6(e){return new sP(e)}function mf(e,t){this._context=e,this._t=t}mf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function _6(e){return new mf(e,.5)}function k6(e){return new mf(e,0)}function S6(e){return new mf(e,1)}function qi(e,t){if((c=e.length)>1)for(var r=1,a,s,o=e[t[0]],c,d=o.length;r<c;++r)for(s=o,o=e[t[r]],a=0;a<d;++a)o[a][1]+=o[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function Jx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function P6(e,t){return e[t]}function C6(e){const t=[];return t.key=e,t}function A6(){var e=Ot([]),t=Jx,r=qi,a=P6;function s(o){var c=Array.from(e.apply(this,arguments),C6),d,u=c.length,p=-1,f;for(const h of o)for(d=0,++p;d<u;++d)(c[d][p]=[0,+a(h,c[d].key,p,o)]).data=h;for(d=0,f=f0(t(c));d<u;++d)c[f[d]].index=d;return r(c,f),c}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Ot(Array.from(o)),s):e},s.value=function(o){return arguments.length?(a=typeof o=="function"?o:Ot(+o),s):a},s.order=function(o){return arguments.length?(t=o==null?Jx:typeof o=="function"?o:Ot(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??qi,s):r},s}function E6(e,t){if((a=e.length)>0){for(var r,a,s=0,o=e[0].length,c;s<o;++s){for(c=r=0;r<a;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<a;++r)e[r][s][1]/=c}qi(e,t)}}function O6(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,o=a.length;r<o;++r){for(var c=0,d=0;c<s;++c)d+=e[c][r][1]||0;a[r][1]+=a[r][0]=-d/2}qi(e,t)}}function T6(e,t){if(!(!((c=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,o,c;a<o;++a){for(var d=0,u=0,p=0;d<c;++d){for(var f=e[t[d]],h=f[a][1]||0,v=f[a-1][1]||0,y=(h-v)/2,N=0;N<d;++N){var j=e[t[N]],b=j[a][1]||0,_=j[a-1][1]||0;y+=b-_}u+=h,p+=y*h}s[a-1][1]+=s[a-1][0]=r,u&&(r-=p/u)}s[a-1][1]+=s[a-1][0]=r,qi(e,t)}}var ng={},ag={},d1;function I6(){return d1||(d1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ag)),ag}var sg={},u1;function iP(){return u1||(u1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(sg)),sg}var ig={},m1;function h0(){return m1||(m1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(ig)),ig}var og={},lg={},f1;function M6(){return f1||(f1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const a=String(r);return a==="0"&&Object.is(Number(r),-0)?"-0":a}e.toString=t})(lg)),lg}var p1;function g0(){return p1||(p1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M6(),r=h0();function a(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],c=s.length;if(c===0)return o;let d=0,u="",p="",f=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<c;){const h=s[d];p?h==="\\"&&d+1<c?(d++,u+=s[d]):h===p?p="":u+=h:f?h==='"'||h==="'"?p=h:h==="]"?(f=!1,o.push(u),u=""):u+=h:h==="["?(f=!0,u&&(o.push(u),u="")):h==="."?u&&(o.push(u),u=""):u+=h,d++}return u&&o.push(u),o}e.toPath=a})(og)),og}var h1;function x0(){return h1||(h1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6(),r=iP(),a=h0(),s=g0();function o(d,u,p){if(d==null)return p;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return p;const f=d[u];return f===void 0?r.isDeepKey(u)?o(d,s.toPath(u),p):p:f}case"number":case"symbol":{typeof u=="number"&&(u=a.toKey(u));const f=d[u];return f===void 0?p:f}default:{if(Array.isArray(u))return c(d,u,p);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return p;const f=d[u];return f===void 0?p:f}}}function c(d,u,p){if(u.length===0)return p;let f=d;for(let h=0;h<u.length;h++){if(f==null||t.isUnsafeProperty(u[h]))return p;f=f[u[h]]}return f===void 0?p:f}e.get=o})(ng)),ng}var cg,g1;function D6(){return g1||(g1=1,cg=x0().get),cg}var L6=D6();const Ki=ys(L6);var $6=4;function Xs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$6,r=10**t,a=Math.round(e*r)/r;return Object.is(a,-0)?0:a}function Yt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return e.reduce((s,o,c)=>{var d=r[c-1];return typeof d=="string"?s+d+o:d!==void 0?s+Xs(d)+o:s+o},"")}var Pr=e=>e===0?0:e>0?1:-1,Bn=e=>typeof e=="number"&&e!=+e,us=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Le=e=>(typeof e=="number"||e instanceof Number)&&!Bn(e),Na=e=>Le(e)||typeof e=="string",z6=0,Sc=e=>{var t=++z6;return"".concat(e||"").concat(t)},Gr=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Le(t)&&typeof t!="string")return a;var o;if(us(t)){if(r==null)return a;var c=t.indexOf("%");o=r*parseFloat(t.slice(0,c))/100}else o=+t;return Bn(o)&&(o=a),s&&r!=null&&o>r&&(o=r),o},oP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},a=0;a<t;a++)if(!r[String(e[a])])r[String(e[a])]=!0;else return!0;return!1};function bt(e,t,r){return Le(e)&&Le(t)?Xs(e+r*(t-e)):t}function lP(e,t,r){if(!(!e||!e.length))return e.find(a=>a&&(typeof t=="function"?t(a):Ki(a,t))===r)}var $t=e=>e===null||typeof e>"u",Wc=e=>$t(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function R6(e){return e!=null}function Hc(){}var F6=["type","size","sizeType"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zx.apply(null,arguments)}function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(a){B6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function B6(e,t,r){return(t=U6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U6(e){var t=q6(e,"string");return typeof t=="symbol"?t:t+""}function q6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K6(e,t){if(e==null)return{};var r,a,s=W6(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function W6(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var cP={symbolCircle:p0,symbolCross:s6,symbolDiamond:o6,symbolSquare:l6,symbolStar:m6,symbolTriangle:f6,symbolWye:h6},H6=Math.PI/180,V6=e=>{var t="symbol".concat(Wc(e));return cP[t]||p0},G6=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*H6;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.tan(a)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Y6=(e,t)=>{cP["symbol".concat(Wc(e))]=t},y0=e=>{var{type:t="circle",size:r=64,sizeType:a="area"}=e,s=K6(e,F6),o=y1(y1({},s),{},{type:t,size:r,sizeType:a}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var v=V6(c),y=g6().type(v).size(G6(r,a,c)),N=y();if(N!==null)return N},{className:u,cx:p,cy:f}=o,h=Yr(o);return Le(p)&&Le(f)&&Le(r)?g.createElement("path",Zx({},h,{className:ft("recharts-symbols",u),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};y0.registerSymbol=Y6;var dP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,v0=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{d0(s)&&(a[s]=(o=>r[s](r,o)))}),a},X6=(e,t,r)=>a=>(e(t,r,a),null),Vc=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var a=null;return Object.keys(e).forEach(s=>{var o=e[s];d0(s)&&typeof o=="function"&&(a||(a={}),a[s]=X6(o,t,r))}),a};function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function J6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(a){Z6(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z6(e,t,r){return(t=Q6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q6(e){var t=eM(e,"string");return typeof t=="symbol"?t:t+""}function eM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qt(e,t){var r=J6({},e),a=t,s=Object.keys(t),o=s.reduce((c,d)=>(c[d]===void 0&&a[d]!==void 0&&(c[d]=a[d]),c),r);return o}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pm.apply(null,arguments)}function b1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function tM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b1(Object(r),!0).forEach(function(a){rM(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b1(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rM(e,t,r){return(t=nM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nM(e){var t=aM(e,"string");return typeof t=="symbol"?t:t+""}function aM(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn=32,sM={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function iM(e){var{data:t,iconType:r,inactiveColor:a}=e,s=Rn/2,o=Rn/6,c=Rn/3,d=t.inactive?a:t.color,u=r??t.type;if(u==="none")return null;if(u==="plainline"){var p;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(p=t.payload)===null||p===void 0?void 0:p.strokeDasharray,x1:0,y1:s,x2:Rn,y2:s,className:"recharts-legend-icon"})}if(u==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Rn,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(u==="rect")return g.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Rn/8,"h").concat(Rn,"v").concat(Rn*3/4,"h").concat(-Rn,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var f=tM({},t);return delete f.legendIcon,g.cloneElement(t.legendIcon,f)}return g.createElement(y0,{fill:d,cx:s,cy:s,size:Rn,sizeType:"diameter",type:u})}function oM(e){var{payload:t,iconSize:r,layout:a,formatter:s,inactiveColor:o,iconType:c}=e,d={x:0,y:0,width:Rn,height:Rn},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,h)=>{var v=f.formatter||s,y=ft({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var N=f.inactive?o:f.color,j=v?v(f.value,f,h):f.value;return g.createElement("li",pm({className:y,style:u,key:"legend-item-".concat(h)},Vc(e,f,h)),g.createElement(u0,{width:r,height:r,viewBox:d,style:p,"aria-label":"".concat(j," legend icon")},g.createElement(iM,{data:f,iconType:c,inactiveColor:o})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},j))})}var lM=e=>{var t=Qt(e,sM),{payload:r,layout:a,align:s}=t;if(!r||!r.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:o},g.createElement(oM,pm({},t,{payload:r})))},dg={},ug={},j1;function cM(){return j1||(j1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){const s=new Map;for(let o=0;o<r.length;o++){const c=r[o],d=a(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(ug)),ug}var mg={},w1;function uP(){return w1||(w1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(mg)),mg}var fg={},pg={},hg={},N1;function dM(){return N1||(N1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(hg)),hg}var _1;function b0(){return _1||(_1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM();function r(a){return a!=null&&typeof a!="function"&&t.isLength(a.length)}e.isArrayLike=r})(pg)),pg}var gg={},k1;function uM(){return k1||(k1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(gg)),gg}var S1;function mM(){return S1||(S1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b0(),r=uM();function a(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=a})(fg)),fg}var xg={},yg={},P1;function fM(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x0();function r(a){return function(s){return t.get(s,a)}}e.property=r})(yg)),yg}var vg={},bg={},jg={},wg={},C1;function mP(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(wg)),wg}var Ng={},A1;function fP(){return A1||(A1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ng)),Ng}var _g={},E1;function pP(){return E1||(E1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a){return r===a||Number.isNaN(r)&&Number.isNaN(a)}e.eq=t})(_g)),_g}var O1;function pM(){return O1||(O1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mP(),r=fP(),a=pP();function s(f,h,v){return typeof v!="function"?s(f,h,()=>{}):o(f,h,function y(N,j,b,_,S,C){const E=v(N,j,b,_,S,C);return E!==void 0?!!E:o(N,j,y,C)},new Map)}function o(f,h,v,y){if(h===f)return!0;switch(typeof h){case"object":return c(f,h,v,y);case"function":return Object.keys(h).length>0?o(f,{...h},v,y):a.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function c(f,h,v,y){if(h==null)return!0;if(Array.isArray(h))return u(f,h,v,y);if(h instanceof Map)return d(f,h,v,y);if(h instanceof Set)return p(f,h,v,y);const N=Object.keys(h);if(f==null||r.isPrimitive(f))return N.length===0;if(N.length===0)return!0;if(y?.has(h))return y.get(h)===f;y?.set(h,f);try{for(let j=0;j<N.length;j++){const b=N[j];if(!r.isPrimitive(f)&&!(b in f)||h[b]===void 0&&f[b]!==void 0||h[b]===null&&f[b]!==null||!v(f[b],h[b],b,f,h,y))return!1}return!0}finally{y?.delete(h)}}function d(f,h,v,y){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[N,j]of h.entries()){const b=f.get(N);if(v(b,j,N,f,h,y)===!1)return!1}return!0}function u(f,h,v,y){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const N=new Set;for(let j=0;j<h.length;j++){const b=h[j];let _=!1;for(let S=0;S<f.length;S++){if(N.has(S))continue;const C=f[S];let E=!1;if(v(C,b,j,f,h,y)&&(E=!0),E){N.add(S),_=!0;break}}if(!_)return!1}return!0}function p(f,h,v,y){return h.size===0?!0:f instanceof Set?u([...f],[...h],v,y):!1}e.isMatchWith=s,e.isSetMatch=p})(jg)),jg}var T1;function hP(){return T1||(T1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pM();function r(a,s){return t.isMatchWith(a,s,()=>{})}e.isMatch=r})(bg)),bg}var kg={},Sg={},Pg={},I1;function hM(){return I1||(I1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(a=>Object.prototype.propertyIsEnumerable.call(r,a))}e.getSymbols=t})(Pg)),Pg}var Cg={},M1;function gP(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Cg)),Cg}var Ag={},D1;function xP(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",a="[object Number]",s="[object Boolean]",o="[object Arguments]",c="[object Symbol]",d="[object Date]",u="[object Map]",p="[object Set]",f="[object Array]",h="[object Function]",v="[object ArrayBuffer]",y="[object Object]",N="[object Error]",j="[object DataView]",b="[object Uint8Array]",_="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]",E="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",T="[object Int32Array]",U="[object BigInt64Array]",M="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=f,e.bigInt64ArrayTag=U,e.bigUint64ArrayTag=E,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=N,e.float32ArrayTag=M,e.float64ArrayTag=z,e.functionTag=h,e.int16ArrayTag=O,e.int32ArrayTag=T,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=a,e.objectTag=y,e.regexpTag=t,e.setTag=p,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=S,e.uint32ArrayTag=C,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=_})(Ag)),Ag}var Eg={},L1;function gM(){return L1||(L1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Eg)),Eg}var $1;function yP(){return $1||($1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM(),r=gP(),a=xP(),s=fP(),o=gM();function c(f,h){return d(f,void 0,f,new Map,h)}function d(f,h,v,y=new Map,N=void 0){const j=N?.(f,h,v,y);if(j!==void 0)return j;if(s.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const b=new Array(f.length);y.set(f,b);for(let _=0;_<f.length;_++)b[_]=d(f[_],_,v,y,N);return Object.hasOwn(f,"index")&&(b.index=f.index),Object.hasOwn(f,"input")&&(b.input=f.input),b}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const b=new RegExp(f.source,f.flags);return b.lastIndex=f.lastIndex,b}if(f instanceof Map){const b=new Map;y.set(f,b);for(const[_,S]of f)b.set(_,d(S,_,v,y,N));return b}if(f instanceof Set){const b=new Set;y.set(f,b);for(const _ of f)b.add(d(_,void 0,v,y,N));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const b=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,b);for(let _=0;_<f.length;_++)b[_]=d(f[_],_,v,y,N);return b}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const b=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,b),u(b,f,v,y,N),b}if(typeof File<"u"&&f instanceof File){const b=new File([f],f.name,{type:f.type});return y.set(f,b),u(b,f,v,y,N),b}if(typeof Blob<"u"&&f instanceof Blob){const b=new Blob([f],{type:f.type});return y.set(f,b),u(b,f,v,y,N),b}if(f instanceof Error){const b=new f.constructor;return y.set(f,b),b.message=f.message,b.name=f.name,b.stack=f.stack,b.cause=f.cause,u(b,f,v,y,N),b}if(f instanceof Boolean){const b=new Boolean(f.valueOf());return y.set(f,b),u(b,f,v,y,N),b}if(f instanceof Number){const b=new Number(f.valueOf());return y.set(f,b),u(b,f,v,y,N),b}if(f instanceof String){const b=new String(f.valueOf());return y.set(f,b),u(b,f,v,y,N),b}if(typeof f=="object"&&p(f)){const b=Object.create(Object.getPrototypeOf(f));return y.set(f,b),u(b,f,v,y,N),b}return f}function u(f,h,v=f,y,N){const j=[...Object.keys(h),...t.getSymbols(h)];for(let b=0;b<j.length;b++){const _=j[b],S=Object.getOwnPropertyDescriptor(f,_);(S==null||S.writable)&&(f[_]=d(h[_],_,v,y,N))}}function p(f){switch(r.getTag(f)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=u})(Sg)),Sg}var z1;function xM(){return z1||(z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP();function r(a){return t.cloneDeepWithImpl(a,void 0,a,new Map,void 0)}e.cloneDeep=r})(kg)),kg}var R1;function yM(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hP(),r=xM();function a(s){return s=r.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=a})(vg)),vg}var Og={},Tg={},Ig={},F1;function vM(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP(),r=xP();function a(s,o){return t.cloneDeepWith(s,(c,d,u,p)=>{const f=o?.(c,d,u,p);if(f!==void 0)return f;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case r.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=a})(Ig)),Ig}var B1;function bM(){return B1||(B1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM();function r(a){return t.cloneDeepWith(a)}e.cloneDeep=r})(Tg)),Tg}var Mg={},Dg={},U1;function vP(){return U1||(U1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(a,s=Number.MAX_SAFE_INTEGER){switch(typeof a){case"number":return Number.isInteger(a)&&a>=0&&a<s;case"symbol":return!1;case"string":return t.test(a)}}e.isIndex=r})(Dg)),Dg}var Lg={},q1;function jM(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gP();function r(a){return a!==null&&typeof a=="object"&&t.getTag(a)==="[object Arguments]"}e.isArguments=r})(Lg)),Lg}var K1;function wM(){return K1||(K1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iP(),r=vP(),a=jM(),s=g0();function o(c,d){let u;if(Array.isArray(d)?u=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?u=s.toPath(d):u=[d],u.length===0)return!1;let p=c;for(let f=0;f<u.length;f++){const h=u[f];if((p==null||!Object.hasOwn(p,h))&&!((Array.isArray(p)||a.isArguments(p))&&r.isIndex(h)&&h<p.length))return!1;p=p[h]}return!0}e.has=o})(Mg)),Mg}var W1;function NM(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hP(),r=h0(),a=bM(),s=x0(),o=wM();function c(d,u){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return u=a.cloneDeep(u),function(p){const f=s.get(p,d);return f===void 0?o.has(p,d):u===void 0?f===void 0:t.isMatch(f,u)}}e.matchesProperty=c})(Og)),Og}var H1;function _M(){return H1||(H1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uP(),r=fM(),a=yM(),s=NM();function o(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):a.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=o})(xg)),xg}var V1;function kM(){return V1||(V1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),r=uP(),a=mM(),s=_M();function o(c,d=r.identity){return a.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=o})(dg)),dg}var $g,G1;function SM(){return G1||(G1=1,$g=kM().uniqBy),$g}var PM=SM();const Y1=ys(PM);function bP(e,t,r){return t===!0?Y1(e,r):typeof t=="function"?Y1(e,t):e}var zg={exports:{}},Rg={},Fg={exports:{}},Bg={};var X1;function CM(){if(X1)return Bg;X1=1;var e=nl();function t(h,v){return h===v&&(h!==0||1/h===1/v)||h!==h&&v!==v}var r=typeof Object.is=="function"?Object.is:t,a=e.useState,s=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(h,v){var y=v(),N=a({inst:{value:y,getSnapshot:v}}),j=N[0].inst,b=N[1];return o(function(){j.value=y,j.getSnapshot=v,u(j)&&b({inst:j})},[h,y,v]),s(function(){return u(j)&&b({inst:j}),h(function(){u(j)&&b({inst:j})})},[h]),c(y),y}function u(h){var v=h.getSnapshot;h=h.value;try{var y=v();return!r(h,y)}catch{return!0}}function p(h,v){return v()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Bg.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Bg}var J1;function AM(){return J1||(J1=1,Fg.exports=CM()),Fg.exports}var Z1;function EM(){if(Z1)return Rg;Z1=1;var e=nl(),t=AM();function r(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var a=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,c=e.useEffect,d=e.useMemo,u=e.useDebugValue;return Rg.useSyncExternalStoreWithSelector=function(p,f,h,v,y){var N=o(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=d(function(){function _(O){if(!S){if(S=!0,C=O,O=v(O),y!==void 0&&j.hasValue){var T=j.value;if(y(T,O))return E=T}return E=O}if(T=E,a(C,O))return T;var U=v(O);return y!==void 0&&y(T,U)?(C=O,T):(C=O,E=U)}var S=!1,C,E,P=h===void 0?null:h;return[function(){return _(f())},P===null?void 0:function(){return _(P())}]},[f,h,v,y]);var b=s(p,N[0],N[1]);return c(function(){j.hasValue=!0,j.value=b},[b]),u(b),b},Rg}var Q1;function OM(){return Q1||(Q1=1,zg.exports=EM()),zg.exports}var TM=OM(),j0=g.createContext(null),IM=e=>e,Tt=()=>{var e=g.useContext(j0);return e?e.store.dispatch:IM},em=()=>{},MM=()=>em,DM=(e,t)=>e===t;function Ue(e){var t=g.useContext(j0);return TM.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:MM,t?t.store.getState:em,t?t.store.getState:em,t?e:em,DM)}function LM(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function $M(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zM(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${r}]`)}}var eN=e=>Array.isArray(e)?e:[e];function RM(e){const t=Array.isArray(e[0])?e[0]:e;return zM(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FM(e,t){const r=[],{length:a}=e;for(let s=0;s<a;s++)r.push(e[s].apply(null,t));return r}var BM=class{constructor(e){this.value=e}deref(){return this.value}},UM=typeof WeakRef<"u"?WeakRef:BM,qM=0,tN=1;function Pu(){return{s:qM,v:void 0,o:null,p:null}}function jP(e,t={}){let r=Pu();const{resultEqualityCheck:a}=t;let s,o=0;function c(){let d=r;const{length:u}=arguments;for(let h=0,v=u;h<v;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const j=N.get(y);j===void 0?(d=Pu(),N.set(y,d)):d=j}else{let N=d.p;N===null&&(d.p=N=new Map);const j=N.get(y);j===void 0?(d=Pu(),N.set(y,d)):d=j}}const p=d;let f;if(d.s===tN)f=d.v;else if(f=e.apply(null,arguments),o++,a){const h=s?.deref?.()??s;h!=null&&a(h,f)&&(f=h,o!==0&&o--),s=typeof f=="object"&&f!==null||typeof f=="function"?new UM(f):f}return p.s=tN,p.v=f,f}return c.clearCache=()=>{r=Pu(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function KM(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...s)=>{let o=0,c=0,d,u={},p=s.pop();typeof p=="object"&&(u=p,p=s.pop()),LM(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const f={...r,...u},{memoize:h,memoizeOptions:v=[],argsMemoize:y=jP,argsMemoizeOptions:N=[]}=f,j=eN(v),b=eN(N),_=RM(s),S=h(function(){return o++,p.apply(null,arguments)},...j),C=y(function(){c++;const P=FM(_,arguments);return d=S.apply(null,P),d},...b);return Object.assign(C,{resultFunc:p,memoizedResultFunc:S,dependencies:_,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:y})};return Object.assign(a,{withTypes:()=>a}),a}var ae=KM(jP),WM=Object.assign((e,t=ae)=>{$M(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),a=r.map(o=>e[o]);return t(a,(...o)=>o.reduce((c,d,u)=>(c[r[u]]=d,c),{}))},{withTypes:()=>WM}),Ug={},qg={},Kg={},rN;function HM(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"?1:a===null?2:a===void 0?3:a!==a?4:0}const r=(a,s,o)=>{if(a!==s){const c=t(a),d=t(s);if(c===d&&c===0){if(a<s)return o==="desc"?1:-1;if(a>s)return o==="desc"?-1:1}return o==="desc"?d-c:c-d}return 0};e.compareValues=r})(Kg)),Kg}var Wg={},Hg={},nN;function wP(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Hg)),Hg}var aN;function VM(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(a.test(o)||!r.test(o))||c!=null&&Object.hasOwn(c,o)}e.isKey=s})(Wg)),Wg}var sN;function GM(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HM(),r=VM(),a=g0();function s(o,c,d,u){if(o==null)return[];d=u?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const p=(y,N)=>{let j=y;for(let b=0;b<N.length&&j!=null;++b)j=j[N[b]];return j},f=(y,N)=>N==null||y==null?N:typeof y=="object"&&"key"in y?Object.hasOwn(N,y.key)?N[y.key]:p(N,y.path):typeof y=="function"?y(N):Array.isArray(y)?p(N,y):typeof N=="object"?N[y]:N,h=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:a.toPath(y)}));return o.map(y=>({original:y,criteria:h.map(N=>f(N,y))})).slice().sort((y,N)=>{for(let j=0;j<h.length;j++){const b=t.compareValues(y.criteria[j],N.criteria[j],d[j]);if(b!==0)return b}return 0}).map(y=>y.original)}e.orderBy=s})(qg)),qg}var Vg={},iN;function YM(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a=1){const s=[],o=Math.floor(a),c=(d,u)=>{for(let p=0;p<d.length;p++){const f=d[p];Array.isArray(f)&&u<o?c(f,u+1):s.push(f)}};return c(r,0),s}e.flatten=t})(Vg)),Vg}var Gg={},oN;function NP(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vP(),r=b0(),a=mP(),s=pP();function o(c,d,u){return a.isObject(u)&&(typeof d=="number"&&r.isArrayLike(u)&&t.isIndex(d)&&d<u.length||typeof d=="string"&&d in u)?s.eq(u[d],c):!1}e.isIterateeCall=o})(Gg)),Gg}var lN;function XM(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GM(),r=YM(),a=NP();function s(o,...c){const d=c.length;return d>1&&a.isIterateeCall(o,c[0],c[1])?c=[]:d>2&&a.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(o,r.flatten(c),["asc"])}e.sortBy=s})(Ug)),Ug}var Yg,cN;function JM(){return cN||(cN=1,Yg=XM().sortBy),Yg}var ZM=JM();const ff=ys(ZM);var _P=e=>e.legend.settings,QM=e=>e.legend.size,eD=e=>e.legend.payload,tD=ae([eD,_P],(e,t)=>{var{itemSorter:r}=t,a=e.flat(1);return r?ff(a,r):a});function rD(){return Ue(tD)}var Cu=1;function kP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),a=g.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-t.height)>Cu||Math.abs(c.left-t.left)>Cu||Math.abs(c.top-t.top)>Cu||Math.abs(c.width-t.width)>Cu)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,a]}function Mr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var nD=typeof Symbol=="function"&&Symbol.observable||"@@observable",dN=nD,Xg=()=>Math.random().toString(36).substring(7).split("").join("."),aD={INIT:`@@redux/INIT${Xg()}`,REPLACE:`@@redux/REPLACE${Xg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xg()}`},hm=aD;function w0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function SP(e,t,r){if(typeof e!="function")throw new Error(Mr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Mr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Mr(1));return r(SP)(e,t)}let a=e,s=t,o=new Map,c=o,d=0,u=!1;function p(){c===o&&(c=new Map,o.forEach((b,_)=>{c.set(_,b)}))}function f(){if(u)throw new Error(Mr(3));return s}function h(b){if(typeof b!="function")throw new Error(Mr(4));if(u)throw new Error(Mr(5));let _=!0;p();const S=d++;return c.set(S,b),function(){if(_){if(u)throw new Error(Mr(6));_=!1,p(),c.delete(S),o=null}}}function v(b){if(!w0(b))throw new Error(Mr(7));if(typeof b.type>"u")throw new Error(Mr(8));if(typeof b.type!="string")throw new Error(Mr(17));if(u)throw new Error(Mr(9));try{u=!0,s=a(s,b)}finally{u=!1}return(o=c).forEach(S=>{S()}),b}function y(b){if(typeof b!="function")throw new Error(Mr(10));a=b,v({type:hm.REPLACE})}function N(){const b=h;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Mr(11));function S(){const E=_;E.next&&E.next(f())}return S(),{unsubscribe:b(S)}},[dN](){return this}}}return v({type:hm.INIT}),{dispatch:v,subscribe:h,getState:f,replaceReducer:y,[dN]:N}}function sD(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hm.INIT})>"u")throw new Error(Mr(12));if(typeof r(void 0,{type:hm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mr(13))})}function PP(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(r[c]=e[c])}const a=Object.keys(r);let s;try{sD(r)}catch(o){s=o}return function(c={},d){if(s)throw s;let u=!1;const p={};for(let f=0;f<a.length;f++){const h=a[f],v=r[h],y=c[h],N=v(y,d);if(typeof N>"u")throw d&&d.type,new Error(Mr(14));p[h]=N,u=u||N!==y}return u=u||a.length!==Object.keys(c).length,u?p:c}}function gm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...a)=>t(r(...a)))}function iD(...e){return t=>(r,a)=>{const s=t(r,a);let o=()=>{throw new Error(Mr(15))};const c={getState:s.getState,dispatch:(u,...p)=>o(u,...p)},d=e.map(u=>u(c));return o=gm(...d)(s.dispatch),{...s,dispatch:o}}}function CP(e){return w0(e)&&"type"in e&&typeof e.type=="string"}var AP=Symbol.for("immer-nothing"),uN=Symbol.for("immer-draftable"),tn=Symbol.for("immer-state");function Qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nn=Object,Go=Nn.getPrototypeOf,xm="constructor",pf="prototype",Qx="configurable",ym="enumerable",tm="writable",Pc="value",ms=e=>!!e&&!!e[tn];function sa(e){return e?EP(e)||gf(e)||!!e[uN]||!!e[xm]?.[uN]||xf(e)||yf(e):!1}var oD=Nn[pf][xm].toString(),mN=new WeakMap;function EP(e){if(!e||!N0(e))return!1;const t=Go(e);if(t===null||t===Nn[pf])return!0;const r=Nn.hasOwnProperty.call(t,xm)&&t[xm];if(r===Object)return!0;if(!zo(r))return!1;let a=mN.get(r);return a===void 0&&(a=Function.toString.call(r),mN.set(r,a)),a===oD}function hf(e,t,r=!0){Gc(e)===0?(r?Reflect.ownKeys(e):Nn.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function Gc(e){const t=e[tn];return t?t.type_:gf(e)?1:xf(e)?2:yf(e)?3:0}var fN=(e,t,r=Gc(e))=>r===2?e.has(t):Nn[pf].hasOwnProperty.call(e,t),ey=(e,t,r=Gc(e))=>r===2?e.get(t):e[t],vm=(e,t,r,a=Gc(e))=>{a===2?e.set(t,r):a===3?e.add(r):e[t]=r};function lD(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gf=Array.isArray,xf=e=>e instanceof Map,yf=e=>e instanceof Set,N0=e=>typeof e=="object",zo=e=>typeof e=="function",Jg=e=>typeof e=="boolean";function cD(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Wa=e=>e.copy_||e.base_,_0=e=>e.modified_?e.copy_:e.base_;function ty(e,t){if(xf(e))return new Map(e);if(yf(e))return new Set(e);if(gf(e))return Array[pf].slice.call(e);const r=EP(e);if(t===!0||t==="class_only"&&!r){const a=Nn.getOwnPropertyDescriptors(e);delete a[tn];let s=Reflect.ownKeys(a);for(let o=0;o<s.length;o++){const c=s[o],d=a[c];d[tm]===!1&&(d[tm]=!0,d[Qx]=!0),(d.get||d.set)&&(a[c]={[Qx]:!0,[tm]:!0,[ym]:d[ym],[Pc]:e[c]})}return Nn.create(Go(e),a)}else{const a=Go(e);if(a!==null&&r)return{...e};const s=Nn.create(a);return Nn.assign(s,e)}}function k0(e,t=!1){return vf(e)||ms(e)||!sa(e)||(Gc(e)>1&&Nn.defineProperties(e,{set:Au,add:Au,clear:Au,delete:Au}),Nn.freeze(e),t&&hf(e,(r,a)=>{k0(a,!0)},!1)),e}function dD(){Qn(2)}var Au={[Pc]:dD};function vf(e){return e===null||!N0(e)?!0:Nn.isFrozen(e)}var bm="MapSet",ry="Patches",pN="ArrayMethods",OP={};function Wi(e){const t=OP[e];return t||Qn(0,e),t}var hN=e=>!!OP[e],Cc,TP=()=>Cc,uD=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:hN(bm)?Wi(bm):void 0,arrayMethodsPlugin_:hN(pN)?Wi(pN):void 0});function gN(e,t){t&&(e.patchPlugin_=Wi(ry),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ny(e){ay(e),e.drafts_.forEach(mD),e.drafts_=null}function ay(e){e===Cc&&(Cc=e.parent_)}var xN=e=>Cc=uD(Cc,e);function mD(e){const t=e[tn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[tn].modified_&&(ny(t),Qn(4)),sa(e)&&(e=vN(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[tn].base_,e,t)}else e=vN(t,r);return fD(t,e,!0),ny(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AP?e:void 0}function vN(e,t){if(vf(t))return t;const r=t[tn];if(!r)return jm(t,e.handledSet_,e);if(!bf(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:a}=r;if(a)for(;a.length>0;)a.pop()(e);DP(r,e)}return r.copy_}function fD(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&k0(t,r)}function IP(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var bf=(e,t)=>e.scope_===t,pD=[];function MP(e,t,r,a){const s=Wa(e),o=e.type_;if(a!==void 0&&ey(s,a,o)===t){vm(s,a,r,o);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;hf(s,(u,p)=>{if(ms(p)){const f=d.get(p)||[];f.push(u),d.set(p,f)}})}const c=e.draftLocations_.get(t)??pD;for(const d of c)vm(s,d,r,o)}function hD(e,t,r){e.callbacks_.push(function(s){const o=t;if(!o||!bf(o,s))return;s.mapSetPlugin_?.fixSetContents(o);const c=_0(o);MP(e,o.draft_??o,c,r),DP(o,s)})}function DP(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}IP(e)}}function gD(e,t,r){const{scope_:a}=e;if(ms(r)){const s=r[tn];bf(s,a)&&s.callbacks_.push(function(){rm(e);const c=_0(s);MP(e,r,c,t)})}else sa(r)&&e.callbacks_.push(function(){const o=Wa(e);e.type_===3?o.has(r)&&jm(r,a.handledSet_,a):ey(o,t,e.type_)===r&&a.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&jm(ey(e.copy_,t,e.type_),a.handledSet_,a)})}function jm(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ms(e)||t.has(e)||!sa(e)||vf(e)||(t.add(e),hf(e,(a,s)=>{if(ms(s)){const o=s[tn];if(bf(o,r)){const c=_0(o);vm(e,a,c,e.type_),IP(o)}}else sa(s)&&jm(s,t,r)})),e}function xD(e,t){const r=gf(e),a={type_:r?1:0,scope_:t?t.scope_:TP(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=a,o=wm;r&&(s=[a],o=Ac);const{revoke:c,proxy:d}=Proxy.revocable(s,o);return a.draft_=d,a.revoke_=c,[d,a]}var wm={get(e,t){if(t===tn)return e;let r=e.scope_.arrayMethodsPlugin_;const a=e.type_===1&&typeof t=="string";if(a&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const s=Wa(e);if(!fN(s,t,e.type_))return yD(e,s,t);const o=s[t];if(e.finalized_||!sa(o)||a&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&cD(t))return o;if(o===Zg(e.base_,t)){rm(e);const c=e.type_===1?+t:t,d=iy(e.scope_,o,e,c);return e.copy_[c]=d}return o},has(e,t){return t in Wa(e)},ownKeys(e){return Reflect.ownKeys(Wa(e))},set(e,t,r){const a=LP(Wa(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=Zg(Wa(e),t),o=s?.[tn];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(lD(r,s)&&(r!==void 0||fN(e.base_,t,e.type_)))return!0;rm(e),sy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),gD(e,t,r)),!0},deleteProperty(e,t){return rm(e),Zg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),sy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Wa(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{[tm]:!0,[Qx]:e.type_!==1||t!=="length",[ym]:a[ym],[Pc]:r[t]}},defineProperty(){Qn(11)},getPrototypeOf(e){return Go(e.base_)},setPrototypeOf(){Qn(12)}},Ac={};for(let e in wm){let t=wm[e];Ac[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ac.deleteProperty=function(e,t){return Ac.set.call(this,e,t,void 0)};Ac.set=function(e,t,r){return wm.set.call(this,e[0],t,r,e[0])};function Zg(e,t){const r=e[tn];return(r?Wa(r):e)[t]}function yD(e,t,r){const a=LP(t,r);return a?Pc in a?a[Pc]:a.get?.call(e.draft_):void 0}function LP(e,t){if(!(t in e))return;let r=Go(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Go(r)}}function sy(e){e.modified_||(e.modified_=!0,e.parent_&&sy(e.parent_))}function rm(e){e.copy_||(e.assigned_=new Map,e.copy_=ty(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vD=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,a,s)=>{if(zo(r)&&!zo(a)){const c=a;a=r;const d=this;return function(p=c,...f){return d.produce(p,h=>a.call(this,h,...f))}}zo(a)||Qn(6),s!==void 0&&!zo(s)&&Qn(7);let o;if(sa(r)){const c=xN(this),d=iy(c,r,void 0);let u=!0;try{o=a(d),u=!1}finally{u?ny(c):ay(c)}return gN(c,s),yN(o,c)}else if(!r||!N0(r)){if(o=a(r),o===void 0&&(o=r),o===AP&&(o=void 0),this.autoFreeze_&&k0(o,!0),s){const c=[],d=[];Wi(ry).generateReplacementPatches_(r,o,{patches_:c,inversePatches_:d}),s(c,d)}return o}else Qn(1,r)},this.produceWithPatches=(r,a)=>{if(zo(r))return(d,...u)=>this.produceWithPatches(d,p=>r(p,...u));let s,o;return[this.produce(r,a,(d,u)=>{s=d,o=u}),s,o]},Jg(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Jg(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Jg(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){sa(t)||Qn(8),ms(t)&&(t=na(t));const r=xN(this),a=iy(r,t,void 0);return a[tn].isManual_=!0,ay(r),a}finishDraft(t,r){const a=t&&t[tn];(!a||!a.isManual_)&&Qn(9);const{scope_:s}=a;return gN(s,r),yN(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let a;for(a=r.length-1;a>=0;a--){const o=r[a];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}a>-1&&(r=r.slice(a+1));const s=Wi(ry).applyPatches_;return ms(t)?s(t,r):this.produce(t,o=>s(o,r))}};function iy(e,t,r,a){const[s,o]=xf(t)?Wi(bm).proxyMap_(t,r):yf(t)?Wi(bm).proxySet_(t,r):xD(t,r);return(r?.scope_??TP()).drafts_.push(s),o.callbacks_=r?.callbacks_??[],o.key_=a,r&&a!==void 0?hD(r,o,a):o.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:p}=u;o.modified_&&p&&p.generatePatches_(o,[],u)}),s}function na(e){return ms(e)||Qn(10,e),$P(e)}function $P(e){if(!sa(e)||vf(e))return e;const t=e[tn];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ty(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=ty(e,!0);return hf(r,(s,o)=>{vm(r,s,$P(o))},a),t&&(t.finalized_=!1),r}var bD=new vD,zP=bD.produce;function RP(e){return({dispatch:r,getState:a})=>s=>o=>typeof o=="function"?o(r,a,e):s(o)}var jD=RP(),wD=RP,ND=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?gm:gm.apply(null,arguments)};function Un(e,t){function r(...a){if(t){let s=t(...a);if(!s)throw new Error(_n(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:a[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=a=>CP(a)&&a.type===e,r}var FP=class yc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,yc.prototype)}static get[Symbol.species](){return yc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new yc(...t[0].concat(this)):new yc(...t.concat(this))}};function bN(e){return sa(e)?zP(e,()=>{}):e}function Eu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function _D(e){return typeof e=="boolean"}var kD=()=>function(t){const{thunk:r=!0,immutableCheck:a=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let c=new FP;return r&&(_D(r)?c.push(jD):c.push(wD(r.extraArgument))),c},BP="RTK_autoBatch",Bt=()=>e=>({payload:e,meta:{[BP]:!0}}),jN=e=>t=>{setTimeout(t,e)},UP=(e={type:"raf"})=>t=>(...r)=>{const a=t(...r);let s=!0,o=!1,c=!1;const d=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jN(10):e.type==="callback"?e.queueNotification:jN(e.timeout),p=()=>{c=!1,o&&(o=!1,d.forEach(f=>f()))};return Object.assign({},a,{subscribe(f){const h=()=>s&&f(),v=a.subscribe(h);return d.add(f),()=>{v(),d.delete(f)}},dispatch(f){try{return s=!f?.meta?.[BP],o=!s,o&&(c||(c=!0,u(p))),a.dispatch(f)}finally{s=!0}}})},SD=e=>function(r){const{autoBatch:a=!0}=r??{};let s=new FP(e);return a&&s.push(UP(typeof a=="object"?a:void 0)),s};function PD(e){const t=kD(),{reducer:r=void 0,middleware:a,devTools:s=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(w0(r))d=PP(r);else throw new Error(_n(1));let u;typeof a=="function"?u=a(t):u=t();let p=gm;s&&(p=ND({trace:!1,...typeof s=="object"&&s}));const f=iD(...u),h=SD(f);let v=typeof c=="function"?c(h):h();const y=p(...v);return SP(d,o,y)}function qP(e){const t={},r=[];let a;const s={addCase(o,c){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(_n(28));if(d in t)throw new Error(_n(29));return t[d]=c,s},addAsyncThunk(o,c){return c.pending&&(t[o.pending.type]=c.pending),c.rejected&&(t[o.rejected.type]=c.rejected),c.fulfilled&&(t[o.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:o.settled,reducer:c.settled}),s},addMatcher(o,c){return r.push({matcher:o,reducer:c}),s},addDefaultCase(o){return a=o,s}};return e(s),[t,r,a]}function CD(e){return typeof e=="function"}function AD(e,t){let[r,a,s]=qP(t),o;if(CD(e))o=()=>bN(e());else{const d=bN(e);o=()=>d}function c(d=o(),u){let p=[r[u.type],...a.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return p.filter(f=>!!f).length===0&&(p=[s]),p.reduce((f,h)=>{if(h)if(ms(f)){const y=h(f,u);return y===void 0?f:y}else{if(sa(f))return zP(f,v=>h(v,u));{const v=h(f,u);if(v===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return f},d)}return c.getInitialState=o,c}var ED="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",OD=(e=21)=>{let t="",r=e;for(;r--;)t+=ED[Math.random()*64|0];return t},TD=Symbol.for("rtk-slice-createasyncthunk");function ID(e,t){return`${e}/${t}`}function MD({creators:e}={}){const t=e?.asyncThunk?.[TD];return function(a){const{name:s,reducerPath:o=s}=a;if(!s)throw new Error(_n(11));const c=(typeof a.reducers=="function"?a.reducers(LD()):a.reducers)||{},d=Object.keys(c),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(C,E){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(_n(12));if(P in u.sliceCaseReducersByType)throw new Error(_n(13));return u.sliceCaseReducersByType[P]=E,p},addMatcher(C,E){return u.sliceMatchers.push({matcher:C,reducer:E}),p},exposeAction(C,E){return u.actionCreators[C]=E,p},exposeCaseReducer(C,E){return u.sliceCaseReducersByName[C]=E,p}};d.forEach(C=>{const E=c[C],P={reducerName:C,type:ID(s,C),createNotation:typeof a.reducers=="function"};zD(E)?FD(P,E,p,t):$D(P,E,p)});function f(){const[C={},E=[],P=void 0]=typeof a.extraReducers=="function"?qP(a.extraReducers):[a.extraReducers],O={...C,...u.sliceCaseReducersByType};return AD(a.initialState,T=>{for(let U in O)T.addCase(U,O[U]);for(let U of u.sliceMatchers)T.addMatcher(U.matcher,U.reducer);for(let U of E)T.addMatcher(U.matcher,U.reducer);P&&T.addDefaultCase(P)})}const h=C=>C,v=new Map,y=new WeakMap;let N;function j(C,E){return N||(N=f()),N(C,E)}function b(){return N||(N=f()),N.getInitialState()}function _(C,E=!1){function P(T){let U=T[C];return typeof U>"u"&&E&&(U=Eu(y,P,b)),U}function O(T=h){const U=Eu(v,E,()=>new WeakMap);return Eu(U,T,()=>{const M={};for(const[z,I]of Object.entries(a.selectors??{}))M[z]=DD(I,T,()=>Eu(y,T,b),E);return M})}return{reducerPath:C,getSelectors:O,get selectors(){return O(P)},selectSlice:P}}const S={name:s,reducer:j,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,..._(o),injectInto(C,{reducerPath:E,...P}={}){const O=E??o;return C.inject({reducerPath:O,reducer:j},P),{...S,..._(O,!0)}}};return S}}function DD(e,t,r,a){function s(o,...c){let d=t(o);return typeof d>"u"&&a&&(d=r()),e(d,...c)}return s.unwrapped=e,s}var hn=MD();function LD(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function $D({type:e,reducerName:t,createNotation:r},a,s){let o,c;if("reducer"in a){if(r&&!RD(a))throw new Error(_n(17));o=a.reducer,c=a.prepare}else o=a;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?Un(e,c):Un(e))}function zD(e){return e._reducerDefinitionType==="asyncThunk"}function RD(e){return e._reducerDefinitionType==="reducerWithPrepare"}function FD({type:e,reducerName:t},r,a,s){if(!s)throw new Error(_n(18));const{payloadCreator:o,fulfilled:c,pending:d,rejected:u,settled:p,options:f}=r,h=s(e,o,f);a.exposeAction(t,h),c&&a.addCase(h.fulfilled,c),d&&a.addCase(h.pending,d),u&&a.addCase(h.rejected,u),p&&a.addMatcher(h.settled,p),a.exposeCaseReducer(t,{fulfilled:c||Ou,pending:d||Ou,rejected:u||Ou,settled:p||Ou})}function Ou(){}var BD="task",KP="listener",WP="completed",S0="cancelled",UD=`task-${S0}`,qD=`task-${WP}`,oy=`${KP}-${S0}`,KD=`${KP}-${WP}`,jf=class{constructor(e){this.code=e,this.message=`${BD} ${S0} (reason: ${e})`}name="TaskAbortError";message},P0=(e,t)=>{if(typeof e!="function")throw new TypeError(_n(32))},Nm=()=>{},HP=(e,t=Nm)=>(e.catch(t),e),VP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),$i=e=>{if(e.aborted)throw new jf(e.reason)};function GP(e,t){let r=Nm;return new Promise((a,s)=>{const o=()=>s(new jf(e.reason));if(e.aborted){o();return}r=VP(e,o),t.finally(()=>r()).then(a,s)}).finally(()=>{r=Nm})}var WD=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof jf?"cancelled":"rejected",error:r}}finally{t?.()}},_m=e=>t=>HP(GP(e,t).then(r=>($i(e),r))),YP=e=>{const t=_m(e);return r=>t(new Promise(a=>setTimeout(a,r)))},{assign:Ko}=Object,wN={},wf="listenerMiddleware",HD=(e,t)=>{const r=a=>VP(e,()=>a.abort(e.reason));return(a,s)=>{P0(a);const o=new AbortController;r(o);const c=WD(async()=>{$i(e),$i(o.signal);const d=await a({pause:_m(o.signal),delay:YP(o.signal),signal:o.signal});return $i(o.signal),d},()=>o.abort(qD));return s?.autoJoin&&t.push(c.catch(Nm)),{result:_m(e)(c),cancel(){o.abort(UD)}}}},VD=(e,t)=>{const r=async(a,s)=>{$i(t);let o=()=>{};const d=[new Promise((u,p)=>{let f=e({predicate:a,effect:(h,v)=>{v.unsubscribe(),u([h,v.getState(),v.getOriginalState()])}});o=()=>{f(),p()}})];s!=null&&d.push(new Promise(u=>setTimeout(u,s,null)));try{const u=await GP(t,Promise.race(d));return $i(t),u}finally{o()}};return(a,s)=>HP(r(a,s))},XP=e=>{let{type:t,actionCreator:r,matcher:a,predicate:s,effect:o}=e;if(t)s=Un(t).match;else if(r)t=r.type,s=r.match;else if(a)s=a;else if(!s)throw new Error(_n(21));return P0(o),{predicate:s,type:t,effect:o}},JP=Ko(e=>{const{type:t,predicate:r,effect:a}=XP(e);return{id:OD(),effect:a,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_n(22))}}},{withTypes:()=>JP}),NN=(e,t)=>{const{type:r,effect:a,predicate:s}=XP(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===s)&&o.effect===a)},ly=e=>{e.pending.forEach(t=>{t.abort(oy)})},GD=(e,t)=>()=>{for(const r of t.keys())ly(r);e.clear()},_N=(e,t,r)=>{try{e(t,r)}catch(a){setTimeout(()=>{throw a},0)}},ZP=Ko(Un(`${wf}/add`),{withTypes:()=>ZP}),YD=Un(`${wf}/removeAll`),QP=Ko(Un(`${wf}/remove`),{withTypes:()=>QP}),XD=(...e)=>{console.error(`${wf}/error`,...e)},Yc=(e={})=>{const t=new Map,r=new Map,a=y=>{const N=r.get(y)??0;r.set(y,N+1)},s=y=>{const N=r.get(y)??1;N===1?r.delete(y):r.set(y,N-1)},{extra:o,onError:c=XD}=e;P0(c);const d=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),N=>{y.unsubscribe(),N?.cancelActive&&ly(y)}),u=y=>{const N=NN(t,y)??JP(y);return d(N)};Ko(u,{withTypes:()=>u});const p=y=>{const N=NN(t,y);return N&&(N.unsubscribe(),y.cancelActive&&ly(N)),!!N};Ko(p,{withTypes:()=>p});const f=async(y,N,j,b)=>{const _=new AbortController,S=VD(u,_.signal),C=[];try{y.pending.add(_),a(y),await Promise.resolve(y.effect(N,Ko({},j,{getOriginalState:b,condition:(E,P)=>S(E,P).then(Boolean),take:S,delay:YP(_.signal),pause:_m(_.signal),extra:o,signal:_.signal,fork:HD(_.signal,C),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((E,P,O)=>{E!==_&&(E.abort(oy),O.delete(E))})},cancel:()=>{_.abort(oy),y.pending.delete(_)},throwIfCancelled:()=>{$i(_.signal)}})))}catch(E){E instanceof jf||_N(c,E,{raisedBy:"effect"})}finally{await Promise.all(C),_.abort(KD),s(y),y.pending.delete(_)}},h=GD(t,r);return{middleware:y=>N=>j=>{if(!CP(j))return N(j);if(ZP.match(j))return u(j.payload);if(YD.match(j)){h();return}if(QP.match(j))return p(j.payload);let b=y.getState();const _=()=>{if(b===wN)throw new Error(_n(23));return b};let S;try{if(S=N(j),t.size>0){const C=y.getState(),E=Array.from(t.values());for(const P of E){let O=!1;try{O=P.predicate(j,C,b)}catch(T){O=!1,_N(c,T,{raisedBy:"predicate"})}O&&f(P,j,y,_)}}}finally{b=wN}return S},startListening:u,stopListening:p,clearListeners:h}};function _n(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JD={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eC=hn({name:"chartLayout",initialState:JD,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,a,s,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(a=t.payload.right)!==null&&a!==void 0?a:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:ZD,setLayout:QD,setChartSize:eL,setScale:tL}=eC.actions,rL=eC.reducer;function tC(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function At(e){return Number.isFinite(e)}function _a(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(a){nL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nL(e,t,r){return(t=aL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aL(e){var t=sL(e,"string");return typeof t=="symbol"?t:t+""}function sL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jt(e,t,r){return $t(e)||$t(t)?r:Na(t)?Ki(e,t,r):typeof t=="function"?t(e):r}var iL=(e,t,r)=>{if(t&&r){var{width:a,height:s}=r,{align:o,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&o!=="center"&&Le(e[o]))return Bo(Bo({},e),{},{[o]:e[o]+(a||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&c!=="middle"&&Le(e[c]))return Bo(Bo({},e),{},{[c]:e[c]+(s||0)})}return e},Oa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rC=(e,t,r,a)=>{if(a)return e.map(d=>d.coordinate);var s,o,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(o=!0),d.coordinate));return s||c.push(t),o||c.push(r),c},nC=(e,t,r)=>{if(!e)return null;var{duplicateDomain:a,type:s,range:o,scale:c,realScaleType:d,isCategorical:u,categoricalDomain:p,tickCount:f,ticks:h,niceTicks:v,axisType:y}=e;if(!c)return null;var N=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/N:0;if(j=y==="angleAxis"&&o&&o.length>=2?Pr(o[0]-o[1])*2*j:j,h||v){var b=(h||v||[]).map((_,S)=>{var C=a?a.indexOf(_):_;return{coordinate:c(C)+j,value:_,offset:j,index:S}});return b.filter(_=>!Bn(_.coordinate))}return u&&p?p.map((_,S)=>({coordinate:c(_)+j,value:_,index:S,offset:j})):c.ticks&&f!=null?c.ticks(f).map((_,S)=>({coordinate:c(_)+j,value:_,offset:j,index:S})):c.domain().map((_,S)=>({coordinate:c(_)+j,value:a?a[_]:_,index:S,offset:j}))},SN=1e-4,oL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,a=e.range(),s=Math.min(a[0],a[1])-SN,o=Math.max(a[0],a[1])+SN,c=e(t[0]),d=e(t[r-1]);(c<s||c>o||d<s||d>o)&&e.domain([t[0],t[r-1]])}},lL=(e,t)=>{if(!t||t.length!==2||!Le(t[0])||!Le(t[1]))return e;var r=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Le(e[0])||e[0]<r)&&(s[0]=r),(!Le(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<r&&(s[1]=r),s},cL=e=>{var t,r=e.length;if(!(r<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var o=0,c=0,d=0;d<r;++d){var u=e[d],p=u?.[s];if(p!=null){var f=p[1],h=p[0],v=Bn(f)?h:f;v>=0?(p[0]=o,p[1]=o+v,o=f):(p[0]=c,p[1]=c+v,c=f)}}}},dL=e=>{var t,r=e.length;if(!(r<=0)){var a=(t=e[0])===null||t===void 0?void 0:t.length;if(!(a==null||a<=0))for(var s=0;s<a;++s)for(var o=0,c=0;c<r;++c){var d=e[c],u=d?.[s];if(u!=null){var p=Bn(u[1])?u[0]:u[1];p>=0?(u[0]=o,u[1]=o+p,o=u[1]):(u[0]=0,u[1]=0)}}}},uL={sign:cL,expand:E6,none:qi,silhouette:O6,wiggle:T6,positive:dL},mL=(e,t,r)=>{var a,s=(a=uL[r])!==null&&a!==void 0?a:qi,o=A6().keys(t).value((d,u)=>Number(jt(d,u,0))).order(Jx).offset(s),c=o(e);return c.forEach((d,u)=>{d.forEach((p,f)=>{var h=jt(e[f],t[u],0);Array.isArray(h)&&h.length===2&&Le(h[0])&&Le(h[1])&&(p[0]=h[0],p[1]=h[1])})}),c};function aC(e){return e==null?void 0:String(e)}function km(e){var{axis:t,ticks:r,bandSize:a,entry:s,index:o,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!$t(s[t.dataKey])){var d=lP(r,"value",s[t.dataKey]);if(d)return d.coordinate+a/2}return r[o]?r[o].coordinate+a/2:null}var u=jt(s,$t(c)?t.dataKey:c);return $t(u)?null:t.scale(u)}var PN=e=>{var{axis:t,ticks:r,offset:a,bandSize:s,entry:o,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+a:null;var d=jt(o,t.dataKey,t.scale.domain()[c]);return $t(d)?null:t.scale(d)-s/2+a},fL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return a<=0&&s>=0?0:s<0?s:a}return r[0]},pL=e=>{var t=e.flat(2).filter(Le);return[Math.min(...t),Math.max(...t)]},hL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],gL=(e,t,r)=>{if(e!=null)return hL(Object.keys(e).reduce((a,s)=>{var o=e[s];if(!o)return a;var{stackedData:c}=o,d=c.reduce((u,p)=>{var f=tC(p,t,r),h=pL(f);return!At(h[0])||!At(h[1])?u:[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]))},CN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,AN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ni=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&t&&t.length>=2){for(var s=ff(t,f=>f.coordinate),o=1/0,c=1,d=s.length;c<d;c++){var u=s[c],p=s[c-1];o=Math.min((u?.coordinate||0)-(p?.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function EN(e){var{tooltipEntrySettings:t,dataKey:r,payload:a,value:s,name:o}=e;return Bo(Bo({},t),{},{dataKey:r,payload:a,value:s,name:o})}function li(e,t){if(e)return String(e);if(typeof t=="string")return t}var xL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},yL=(e,t)=>t==="centric"?e.angle:e.radius,vs=e=>e.layout.width,bs=e=>e.layout.height,vL=e=>e.layout.scale,sC=e=>e.layout.margin,Nf=ae(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_f=ae(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),iC="data-recharts-item-index",oC="data-recharts-item-id",Xc=60;function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(a){bL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function bL(e,t,r){return(t=jL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=wL(e,"string");return typeof t=="symbol"?t:t+""}function wL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NL=e=>e.brush.height;function _L(e){var t=_f(e);return t.reduce((r,a)=>{if(a.orientation==="left"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:Xc;return r+s}return r},0)}function kL(e){var t=_f(e);return t.reduce((r,a)=>{if(a.orientation==="right"&&!a.mirror&&!a.hide){var s=typeof a.width=="number"?a.width:Xc;return r+s}return r},0)}function SL(e){var t=Nf(e);return t.reduce((r,a)=>a.orientation==="top"&&!a.mirror&&!a.hide?r+a.height:r,0)}function PL(e){var t=Nf(e);return t.reduce((r,a)=>a.orientation==="bottom"&&!a.mirror&&!a.hide?r+a.height:r,0)}var gr=ae([vs,bs,sC,NL,_L,kL,SL,PL,_P,QM],(e,t,r,a,s,o,c,d,u,p)=>{var f={left:(r.left||0)+s,right:(r.right||0)+o},h={top:(r.top||0)+c,bottom:(r.bottom||0)+d},v=Tu(Tu({},h),f),y=v.bottom;v.bottom+=a,v=iL(v,u,p);var N=e-v.left-v.right,j=t-v.top-v.bottom;return Tu(Tu({brushBottom:y},v),{},{width:Math.max(N,0),height:Math.max(j,0)})}),CL=ae(gr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),C0=ae(vs,bs,(e,t)=>({x:0,y:0,width:e,height:t})),AL=g.createContext(null),Ar=()=>g.useContext(AL)!=null,kf=e=>e.brush,Sf=ae([kf,gr,sC],(e,t,r)=>({height:e.height,x:Le(e.x)?e.x:t.left,y:Le(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Le(e.width)?e.width:t.width})),Qg={},ex={},tx={},TN;function EL(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,a,{signal:s,edges:o}={}){let c,d=null;const u=o!=null&&o.includes("leading"),p=o==null||o.includes("trailing"),f=()=>{d!==null&&(r.apply(c,d),c=void 0,d=null)},h=()=>{p&&f(),j()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,h()},a)},N=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{N(),c=void 0,d=null},b=()=>{f()},_=function(...S){if(s?.aborted)return;c=this,d=S;const C=v==null;y(),u&&C&&f()};return _.schedule=y,_.cancel=j,_.flush=b,s?.addEventListener("abort",j,{once:!0}),_}e.debounce=t})(tx)),tx}var IN;function OL(){return IN||(IN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EL();function r(a,s=0,o={}){typeof o!="object"&&(o={});const{leading:c=!1,trailing:d=!0,maxWait:u}=o,p=Array(2);c&&(p[0]="leading"),d&&(p[1]="trailing");let f,h=null;const v=t.debounce(function(...j){f=a.apply(this,j),h=null},s,{edges:p}),y=function(...j){return u!=null&&(h===null&&(h=Date.now()),Date.now()-h>=u)?(f=a.apply(this,j),h=Date.now(),v.cancel(),v.schedule(),f):(v.apply(this,j),f)},N=()=>(v.flush(),f);return y.cancel=v.cancel,y.flush=N,y}e.debounce=r})(ex)),ex}var MN;function TL(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OL();function r(a,s=0,o={}){const{leading:c=!0,trailing:d=!0}=o;return t.debounce(a,s,{leading:c,maxWait:s,trailing:d})}e.throttle=r})(Qg)),Qg}var rx,DN;function IL(){return DN||(DN=1,rx=TL().throttle),rx}var ML=IL();const DL=ys(ML);var Sm=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),o=2;o<a;o++)s[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>s[c++]))}},lC=(e,t,r)=>{var{width:a="100%",height:s="100%",aspect:o,maxHeight:c}=r,d=us(a)?e:Number(a),u=us(s)?t:Number(s);return o&&o>0&&(d?u=d/o:u&&(d=u*o),c&&u!=null&&u>c&&(u=c)),{calculatedWidth:d,calculatedHeight:u}},LL={width:0,height:0,overflow:"visible"},$L={width:0,overflowX:"visible"},zL={height:0,overflowY:"visible"},RL={},FL=e=>{var{width:t,height:r}=e,a=us(t),s=us(r);return a&&s?LL:a?$L:s?zL:RL};function BL(e){var{width:t,height:r,aspect:a}=e,s=t,o=r;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=a&&a>0?void 0:"100%":o===void 0&&(o=a&&a>0?void 0:"100%"),{width:s,height:o}}function cy(){return cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},cy.apply(null,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(a){UL(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function UL(e,t,r){return(t=qL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qL(e){var t=KL(e,"string");return typeof t=="symbol"?t:t+""}function KL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cC=g.createContext({width:-1,height:-1});function WL(e){return _a(e.width)&&_a(e.height)}function dC(e){var{children:t,width:r,height:a}=e,s=g.useMemo(()=>({width:r,height:a}),[r,a]);return WL(s)?g.createElement(cC.Provider,{value:s},t):null}var A0=()=>g.useContext(cC),HL=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:a={width:-1,height:-1},width:s,height:o,minWidth:c=0,minHeight:d,maxHeight:u,children:p,debounce:f=0,id:h,className:v,onResize:y,style:N={}}=e,j=g.useRef(null),b=g.useRef();b.current=y,g.useImperativeHandle(t,()=>j.current);var[_,S]=g.useState({containerWidth:a.width,containerHeight:a.height}),C=g.useCallback((U,M)=>{S(z=>{var I=Math.round(U),q=Math.round(M);return z.containerWidth===I&&z.containerHeight===q?z:{containerWidth:I,containerHeight:q}})},[]);g.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return Hc;var U=q=>{var L,{width:D,height:ee}=q[0].contentRect;C(D,ee),(L=b.current)===null||L===void 0||L.call(b,D,ee)};f>0&&(U=DL(U,f,{trailing:!0,leading:!1}));var M=new ResizeObserver(U),{width:z,height:I}=j.current.getBoundingClientRect();return C(z,I),M.observe(j.current),()=>{M.disconnect()}},[C,f]);var{containerWidth:E,containerHeight:P}=_;Sm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:O,calculatedHeight:T}=lC(E,P,{width:s,height:o,aspect:r,maxHeight:u});return Sm(O!=null&&O>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,T,s,o,c,d,r),g.createElement("div",{id:h?"".concat(h):void 0,className:ft("recharts-responsive-container",v),style:$N($N({},N),{},{width:s,height:o,minWidth:c,minHeight:d,maxHeight:u}),ref:j},g.createElement("div",{style:FL({width:s,height:o})},g.createElement(dC,{width:O,height:T},p)))}),es=g.forwardRef((e,t)=>{var r=A0();if(_a(r.width)&&_a(r.height))return e.children;var{width:a,height:s}=BL({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:c}=lC(void 0,void 0,{width:a,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Le(o)&&Le(c)?g.createElement(dC,{width:o,height:c},e.children):g.createElement(HL,cy({},e,{width:a,height:s,ref:t}))});function uC(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Pf=()=>{var e,t=Ar(),r=Ue(CL),a=Ue(Sf),s=(e=Ue(kf))===null||e===void 0?void 0:e.padding;return!t||!a||!s?r:{width:a.width-s.left-s.right,height:a.height-s.top-s.bottom,x:s.left,y:s.top}},VL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mC=()=>{var e;return(e=Ue(gr))!==null&&e!==void 0?e:VL},E0=()=>Ue(vs),O0=()=>Ue(bs),GL=()=>Ue(e=>e.layout.margin),ut=e=>e.layout.layoutType,ci=()=>Ue(ut),YL=()=>{var e=ci();if(e==="horizontal"||e==="vertical")return e},XL=()=>{var e=ci();return e!==void 0},Cf=e=>{var t=Tt(),r=Ar(),{width:a,height:s}=e,o=A0(),c=a,d=s;return o&&(c=o.width>0?o.width:a,d=o.height>0?o.height:s),g.useEffect(()=>{!r&&_a(c)&&_a(d)&&t(eL({width:c,height:d}))},[t,r,c,d]),null},fC=Symbol.for("immer-nothing"),zN=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function ea(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ec=Object.getPrototypeOf;function Yo(e){return!!e&&!!e[Pn]}function Hi(e){return e?pC(e)||Array.isArray(e)||!!e[zN]||!!e.constructor?.[zN]||Jc(e)||Ef(e):!1}var JL=Object.prototype.constructor.toString(),RN=new WeakMap;function pC(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let a=RN.get(r);return a===void 0&&(a=Function.toString.call(r),RN.set(r,a)),a===JL}function Pm(e,t,r=!0){Af(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((a,s)=>t(s,a,e))}function Af(e){const t=e[Pn];return t?t.type_:Array.isArray(e)?1:Jc(e)?2:Ef(e)?3:0}function dy(e,t){return Af(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function hC(e,t,r){const a=Af(e);a===2?e.set(t,r):a===3?e.add(r):e[t]=r}function ZL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Jc(e){return e instanceof Map}function Ef(e){return e instanceof Set}function Oi(e){return e.copy_||e.base_}function uy(e,t){if(Jc(e))return new Map(e);if(Ef(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=pC(e);if(t===!0||t==="class_only"&&!r){const a=Object.getOwnPropertyDescriptors(e);delete a[Pn];let s=Reflect.ownKeys(a);for(let o=0;o<s.length;o++){const c=s[o],d=a[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(a[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Ec(e),a)}else{const a=Ec(e);if(a!==null&&r)return{...e};const s=Object.create(a);return Object.assign(s,e)}}function T0(e,t=!1){return Of(e)||Yo(e)||!Hi(e)||(Af(e)>1&&Object.defineProperties(e,{set:Iu,add:Iu,clear:Iu,delete:Iu}),Object.freeze(e),t&&Object.values(e).forEach(r=>T0(r,!0))),e}function QL(){ea(2)}var Iu={value:QL};function Of(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var e$={};function Vi(e){const t=e$[e];return t||ea(0,e),t}var Oc;function gC(){return Oc}function t$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FN(e,t){t&&(Vi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function my(e){fy(e),e.drafts_.forEach(r$),e.drafts_=null}function fy(e){e===Oc&&(Oc=e.parent_)}function BN(e){return Oc=t$(Oc,e)}function r$(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Pn].modified_&&(my(t),ea(4)),Hi(e)&&(e=Cm(t,e),t.parent_||Am(t,e)),t.patches_&&Vi("Patches").generateReplacementPatches_(r[Pn].base_,e,t.patches_,t.inversePatches_)):e=Cm(t,r,[]),my(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==fC?e:void 0}function Cm(e,t,r){if(Of(t))return t;const a=e.immer_.shouldUseStrictIteration(),s=t[Pn];if(!s)return Pm(t,(o,c)=>qN(e,s,t,o,c,r),a),t;if(s.scope_!==e)return t;if(!s.modified_)return Am(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let c=o,d=!1;s.type_===3&&(c=new Set(o),o.clear(),d=!0),Pm(c,(u,p)=>qN(e,s,o,u,p,r,d),a),Am(e,o,!1),r&&e.patches_&&Vi("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function qN(e,t,r,a,s,o,c){if(s==null||typeof s!="object"&&!c)return;const d=Of(s);if(!(d&&!c)){if(Yo(s)){const u=o&&t&&t.type_!==3&&!dy(t.assigned_,a)?o.concat(a):void 0,p=Cm(e,s,u);if(hC(r,a,p),Yo(p))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(Hi(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[a]===s&&d)return;Cm(e,s),(!t||!t.scope_.parent_)&&typeof a!="symbol"&&(Jc(r)?r.has(a):Object.prototype.propertyIsEnumerable.call(r,a))&&Am(e,s)}}}function Am(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&T0(t,r)}function n$(e,t){const r=Array.isArray(e),a={type_:r?1:0,scope_:t?t.scope_:gC(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=a,o=I0;r&&(s=[a],o=Tc);const{revoke:c,proxy:d}=Proxy.revocable(s,o);return a.draft_=d,a.revoke_=c,d}var I0={get(e,t){if(t===Pn)return e;const r=Oi(e);if(!dy(r,t))return a$(e,r,t);const a=r[t];return e.finalized_||!Hi(a)?a:a===nx(e.base_,t)?(ax(e),e.copy_[t]=hy(a,e)):a},has(e,t){return t in Oi(e)},ownKeys(e){return Reflect.ownKeys(Oi(e))},set(e,t,r){const a=xC(Oi(e),t);if(a?.set)return a.set.call(e.draft_,r),!0;if(!e.modified_){const s=nx(Oi(e),t),o=s?.[Pn];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZL(r,s)&&(r!==void 0||dy(e.base_,t)))return!0;ax(e),py(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return nx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ax(e),py(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Oi(e),a=Reflect.getOwnPropertyDescriptor(r,t);return a&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:a.enumerable,value:r[t]}},defineProperty(){ea(11)},getPrototypeOf(e){return Ec(e.base_)},setPrototypeOf(){ea(12)}},Tc={};Pm(I0,(e,t)=>{Tc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tc.deleteProperty=function(e,t){return Tc.set.call(this,e,t,void 0)};Tc.set=function(e,t,r){return I0.set.call(this,e[0],t,r,e[0])};function nx(e,t){const r=e[Pn];return(r?Oi(r):e)[t]}function a$(e,t,r){const a=xC(t,r);return a?"value"in a?a.value:a.get?.call(e.draft_):void 0}function xC(e,t){if(!(t in e))return;let r=Ec(e);for(;r;){const a=Object.getOwnPropertyDescriptor(r,t);if(a)return a;r=Ec(r)}}function py(e){e.modified_||(e.modified_=!0,e.parent_&&py(e.parent_))}function ax(e){e.copy_||(e.copy_=uy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var s$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,a)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const c=this;return function(u=o,...p){return c.produce(u,f=>r.call(this,f,...p))}}typeof r!="function"&&ea(6),a!==void 0&&typeof a!="function"&&ea(7);let s;if(Hi(t)){const o=BN(this),c=hy(t,void 0);let d=!0;try{s=r(c),d=!1}finally{d?my(o):fy(o)}return FN(o,a),UN(s,o)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===fC&&(s=void 0),this.autoFreeze_&&T0(s,!0),a){const o=[],c=[];Vi("Patches").generateReplacementPatches_(t,s,o,c),a(o,c)}return s}else ea(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,u=>t(u,...d));let a,s;return[this.produce(t,r,(c,d)=>{a=c,s=d}),a,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hi(e)||ea(8),Yo(e)&&(e=i$(e));const t=BN(this),r=hy(e,void 0);return r[Pn].isManual_=!0,fy(t),r}finishDraft(e,t){const r=e&&e[Pn];(!r||!r.isManual_)&&ea(9);const{scope_:a}=r;return FN(a,t),UN(void 0,a)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const a=Vi("Patches").applyPatches_;return Yo(e)?a(e,t):this.produce(e,s=>a(s,t))}};function hy(e,t){const r=Jc(e)?Vi("MapSet").proxyMap_(e,t):Ef(e)?Vi("MapSet").proxySet_(e,t):n$(e,t);return(t?t.scope_:gC()).drafts_.push(r),r}function i$(e){return Yo(e)||ea(10,e),yC(e)}function yC(e){if(!Hi(e)||Of(e))return e;const t=e[Pn];let r,a=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=uy(e,t.scope_.immer_.useStrictShallowCopy_),a=t.scope_.immer_.shouldUseStrictIteration()}else r=uy(e,!0);return Pm(r,(s,o)=>{hC(r,s,yC(o))},a),t&&(t.finalized_=!1),r}var o$=new s$;o$.produce;var l$={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},vC=hn({name:"legend",initialState:l$,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Bt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:a}=t.payload,s=na(e).payload.indexOf(r);s>-1&&(e.payload[s]=a)},prepare:Bt()},removeLegendPayload:{reducer(e,t){var r=na(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Bt()}}}),{setLegendSize:KN,setLegendSettings:c$,addLegendPayload:bC,replaceLegendPayload:jC,removeLegendPayload:wC}=vC.actions,d$=vC.reducer,u$=["contextPayload"];function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gy.apply(null,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(a){m$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function m$(e,t,r){return(t=f$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f$(e){var t=p$(e,"string");return typeof t=="symbol"?t:t+""}function p$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h$(e,t){if(e==null)return{};var r,a,s=g$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function g$(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function x$(e){return e.value}function y$(e){var{contextPayload:t}=e,r=h$(e,u$),a=bP(t,e.payloadUniqBy,x$),s=Xo(Xo({},r),{},{payload:a});return g.isValidElement(e.content)?g.cloneElement(e.content,s):typeof e.content=="function"?g.createElement(e.content,s):g.createElement(lM,s)}function v$(e,t,r,a,s,o){var{layout:c,align:d,verticalAlign:u}=t,p,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?p={left:((a||0)-o.width)/2}:p=d==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(u==="middle"?f={top:((s||0)-o.height)/2}:f=u==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Xo(Xo({},p),f)}function b$(e){var t=Tt();return g.useEffect(()=>{t(c$(e))},[t,e]),null}function j$(e){var t=Tt();return g.useEffect(()=>(t(KN(e)),()=>{t(KN({width:0,height:0}))}),[t,e]),null}function w$(e,t,r,a){return e==="vertical"&&Le(t)?{height:t}:e==="horizontal"?{width:r||a}:null}var N$={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Tf(e){var t=Qt(e,N$),r=rD(),a=QI(),s=GL(),{width:o,height:c,wrapperStyle:d,portal:u}=t,[p,f]=kP([r]),h=E0(),v=O0();if(h==null||v==null)return null;var y=h-(s?.left||0)-(s?.right||0),N=w$(t.layout,c,o,y),j=u?d:Xo(Xo({position:"absolute",width:N?.width||o||"auto",height:N?.height||c||"auto"},v$(d,t,s,h,v,p)),d),b=u??a;if(b==null||r==null)return null;var _=g.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:f},g.createElement(b$,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!u&&g.createElement(j$,{width:p.width,height:p.height}),g.createElement(y$,gy({},t,N,{margin:s,chartWidth:h,chartHeight:v,contextPayload:r})));return r0.createPortal(_,b)}Tf.displayName="Legend";function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xy.apply(null,arguments)}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(a){_$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _$(e,t,r){return(t=k$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k$(e){var t=S$(e,"string");return typeof t=="symbol"?t:t+""}function S$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P$(e){return Array.isArray(e)&&Na(e[0])&&Na(e[1])?e.join(" ~ "):e}var C$=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:a={},labelStyle:s={},payload:o,formatter:c,itemSorter:d,wrapperClassName:u,labelClassName:p,label:f,labelFormatter:h,accessibilityLayer:v=!1}=e,y=()=>{if(o&&o.length){var P={padding:0,margin:0},O=(d?ff(o,d):o).map((T,U)=>{if(T.type==="none")return null;var M=T.formatter||c||P$,{value:z,name:I}=T,q=z,L=I;if(M){var D=M(z,I,T,U,o);if(Array.isArray(D))[q,L]=D;else if(D!=null)q=D;else return null}var ee=sx({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},a);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:ee},Na(L)?g.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Na(L)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},q),g.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},N=sx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),j=sx({margin:0},s),b=!$t(f),_=b?f:"",S=ft("recharts-default-tooltip",u),C=ft("recharts-tooltip-label",p);b&&h&&o!==void 0&&o!==null&&(_=h(f,o));var E=v?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",xy({className:S,style:N},E),g.createElement("p",{className:C,style:j},g.isValidElement(_)?_:"".concat(_)),y())},ic="recharts-tooltip-wrapper",A$={visibility:"hidden"};function E$(e){var{coordinate:t,translateX:r,translateY:a}=e;return ft(ic,{["".concat(ic,"-right")]:Le(r)&&t&&Le(t.x)&&r>=t.x,["".concat(ic,"-left")]:Le(r)&&t&&Le(t.x)&&r<t.x,["".concat(ic,"-bottom")]:Le(a)&&t&&Le(t.y)&&a>=t.y,["".concat(ic,"-top")]:Le(a)&&t&&Le(t.y)&&a<t.y})}function VN(e){var{allowEscapeViewBox:t,coordinate:r,key:a,offsetTopLeft:s,position:o,reverseDirection:c,tooltipDimension:d,viewBox:u,viewBoxDimension:p}=e;if(o&&Le(o[a]))return o[a];var f=r[a]-d-(s>0?s:0),h=r[a]+s;if(t[a])return c[a]?f:h;var v=u[a];if(v==null)return 0;if(c[a]){var y=f,N=v;return y<N?Math.max(h,v):Math.max(f,v)}if(p==null)return 0;var j=h+d,b=v+p;return j>b?Math.max(f,v):Math.max(h,v)}function O$(e){var{translateX:t,translateY:r,useTranslate3d:a}=e;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function T$(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:a,position:s,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:u}=e,p,f,h;return c.height>0&&c.width>0&&r?(f=VN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:u,viewBoxDimension:u.width}),h=VN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:u,viewBoxDimension:u.height}),p=O$({translateX:f,translateY:h,useTranslate3d:d})):p=A$,{cssProperties:p,cssClasses:E$({translateX:f,translateY:h,coordinate:r})}}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(a){yy(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yy(e,t,r){return(t=I$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I$(e){var t=M$(e,"string");return typeof t=="symbol"?t:t+""}function M$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class D$ extends g.PureComponent{constructor(){super(...arguments),yy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,a,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==null&&r!==void 0?r:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,children:o,coordinate:c,hasPayload:d,isAnimationActive:u,offset:p,position:f,reverseDirection:h,useTranslate3d:v,viewBox:y,wrapperStyle:N,lastBoundingBox:j,innerRef:b,hasPortalFromProps:_}=this.props,{cssClasses:S,cssProperties:C}=T$({allowEscapeViewBox:r,coordinate:c,offsetTopLeft:p,position:f,reverseDirection:h,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:y}),E=_?{}:Mu(Mu({transition:u&&t?"transform ".concat(a,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),P=Mu(Mu({},E),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},N);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:P,ref:b},o)}}var NC=()=>{var e;return(e=Ue(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vy.apply(null,arguments)}function YN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YN(Object(r),!0).forEach(function(a){L$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function L$(e,t,r){return(t=$$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $$(e){var t=z$(e,"string");return typeof t=="symbol"?t:t+""}function z$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JN={curveBasisClosed:y6,curveBasisOpen:v6,curveBasis:x6,curveBumpX:n6,curveBumpY:a6,curveLinearClosed:b6,curveLinear:uf,curveMonotoneX:j6,curveMonotoneY:w6,curveNatural:N6,curveStep:_6,curveStepAfter:S6,curveStepBefore:k6},Em=e=>At(e.x)&&At(e.y),ZN=e=>e.base!=null&&Em(e.base)&&Em(e),oc=e=>e.x,lc=e=>e.y,R$=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Wc(e));return(r==="curveMonotone"||r==="curveBump")&&t?JN["".concat(r).concat(t==="vertical"?"Y":"X")]:JN[r]||uf},F$=e=>{var{type:t="linear",points:r=[],baseLine:a,layout:s,connectNulls:o=!1}=e,c=R$(t,s),d=o?r.filter(Em):r,u;if(Array.isArray(a)){var p=r.map((y,N)=>XN(XN({},y),{},{base:a[N]}));s==="vertical"?u=Su().y(lc).x1(oc).x0(y=>y.base.x):u=Su().x(oc).y1(lc).y0(y=>y.base.y);var f=u.defined(ZN).curve(c),h=o?p.filter(ZN):p;return f(h)}s==="vertical"&&Le(a)?u=Su().y(lc).x1(oc).x0(a):Le(a)?u=Su().x(oc).y1(lc).y0(a):u=YS().x(oc).y(lc);var v=u.defined(Em).curve(c);return v(d)},Wo=e=>{var{className:t,points:r,path:a,pathRef:s}=e,o=ci();if((!r||!r.length)&&!a)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},d=r&&r.length?F$(c):a;return g.createElement("path",vy({},en(e),v0(e),{className:ft("recharts-curve",t),d:d===null?void 0:d,ref:s}))},B$=["x","y","top","left","width","height","className"];function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},by.apply(null,arguments)}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function U$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(a){q$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function q$(e,t,r){return(t=K$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$(e){var t=W$(e,"string");return typeof t=="symbol"?t:t+""}function W$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H$(e,t){if(e==null)return{};var r,a,s=V$(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function V$(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var G$=(e,t,r,a,s,o)=>"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(t,"h").concat(r),Y$=e=>{var{x:t=0,y:r=0,top:a=0,left:s=0,width:o=0,height:c=0,className:d}=e,u=H$(e,B$),p=U$({x:t,y:r,top:a,left:s,width:o,height:c},u);return!Le(t)||!Le(r)||!Le(o)||!Le(c)||!Le(a)||!Le(s)?null:g.createElement("path",by({},Yr(p),{className:ft("recharts-cross",d),d:G$(t,r,o,c,a,s)}))};function X$(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function t_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(a){J$(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function J$(e,t,r){return(t=Z$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z$(e){var t=Q$(e,"string");return typeof t=="symbol"?t:t+""}function Q$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ez=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_C=(e,t,r)=>e.map(a=>"".concat(ez(a)," ").concat(t,"ms ").concat(r)).join(","),tz=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,a)=>r.filter(s=>a.includes(s))),Ic=(e,t)=>Object.keys(t).reduce((r,a)=>t_(t_({},r),{},{[a]:e(a,t[a])}),{});function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(a){rz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function rz(e,t,r){return(t=nz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nz(e){var t=az(e,"string");return typeof t=="symbol"?t:t+""}function az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Om=(e,t,r)=>e+(t-e)*r,jy=e=>{var{from:t,to:r}=e;return t!==r},kC=(e,t,r)=>{var a=Ic((s,o)=>{if(jy(o)){var[c,d]=e(o.from,o.to,o.velocity);return pr(pr({},o),{},{from:c,velocity:d})}return o},t);return r<1?Ic((s,o)=>jy(o)&&a[s]!=null?pr(pr({},o),{},{velocity:Om(o.velocity,a[s].velocity,r),from:Om(o.from,a[s].from,r)}):o,t):kC(e,a,r-1)};function sz(e,t,r,a,s,o){var c,d=a.reduce((v,y)=>pr(pr({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>Ic((v,y)=>y.from,d),p=()=>!Object.values(d).filter(jy).length,f=null,h=v=>{c||(c=v);var y=v-c,N=y/r.dt;d=kC(r,d,N),s(pr(pr(pr({},e),t),u())),c=v,p()||(f=o.setTimeout(h))};return()=>(f=o.setTimeout(h),()=>{var v;(v=f)===null||v===void 0||v()})}function iz(e,t,r,a,s,o,c){var d=null,u=s.reduce((h,v)=>{var y=e[v],N=t[v];return y==null||N==null?h:pr(pr({},h),{},{[v]:[y,N]})},{}),p,f=h=>{p||(p=h);var v=(h-p)/a,y=Ic((j,b)=>Om(...b,r(v)),u);if(o(pr(pr(pr({},e),t),y)),v<1)d=c.setTimeout(f);else{var N=Ic((j,b)=>Om(...b,r(1)),u);o(pr(pr(pr({},e),t),N))}};return()=>(d=c.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}const oz=(e,t,r,a,s,o)=>{var c=tz(e,t);return r==null?()=>(s(pr(pr({},e),t)),()=>{}):r.isStepper===!0?sz(e,t,r,c,s,o):iz(e,t,r,a,c,s,o)};var Tm=1e-4,SC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],PC=(e,t)=>e.map((r,a)=>r*t**a).reduce((r,a)=>r+a),n_=(e,t)=>r=>{var a=SC(e,t);return PC(a,r)},lz=(e,t)=>r=>{var a=SC(e,t),s=[...a.map((o,c)=>o*c).slice(1),0];return PC(s,r)},cz=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var a=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(a==null||a.length!==4)return null;var s=a.map(o=>parseFloat(o));return[s[0],s[1],s[2],s[3]]},dz=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=cz(r[0]);if(s)return s}}return r.length===4?r:[0,0,1,1]},uz=(e,t,r,a)=>{var s=n_(e,r),o=n_(t,a),c=lz(e,r),d=p=>p>1?1:p<0?0:p,u=p=>{for(var f=p>1?1:p,h=f,v=0;v<8;++v){var y=s(h)-f,N=c(h);if(Math.abs(y-f)<Tm||N<Tm)return o(h);h=d(h-y/N)}return o(h)};return u.isStepper=!1,u},a_=function(){return uz(...dz(...arguments))},mz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:a=8,dt:s=17}=t,o=(c,d,u)=>{var p=-(c-d)*r,f=u*a,h=u+(p-f)*s/1e3,v=u*s/1e3+c;return Math.abs(v-d)<Tm&&Math.abs(h)<Tm?[d,0]:[v,h]};return o.isStepper=!0,o.dt=s,o},fz=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return a_(e);case"spring":return mz();default:if(e.split("(")[0]==="cubic-bezier")return a_(e)}return typeof e=="function"?e:null};function pz(e){var t,r=()=>null,a=!1,s=null,o=c=>{if(!a){if(Array.isArray(c)){if(!c.length)return;var d=c,[u,...p]=d;if(typeof u=="number"){s=e.setTimeout(o.bind(null,p),u);return}o(u),s=e.setTimeout(o.bind(null,p));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{a=!0},start:c=>{a=!1,s&&(s(),s=null),o(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class hz{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=performance.now(),s=null,o=c=>{c-a>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{s!=null&&cancelAnimationFrame(s)}}}function gz(){return pz(new hz)}var xz=g.createContext(gz);function yz(e,t){var r=g.useContext(xz);return g.useMemo(()=>t??r(e),[e,t,r])}var vz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Zc={isSsr:vz()},bz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},s_={t:0},ix={t:1};function cl(e){var t=Qt(e,bz),{isActive:r,canBegin:a,duration:s,easing:o,begin:c,onAnimationEnd:d,onAnimationStart:u,children:p}=t,f=r==="auto"?!Zc.isSsr:r,h=yz(t.animationId,t.animationManager),[v,y]=g.useState(f?s_:ix),N=g.useRef(null);return g.useEffect(()=>{f||y(ix)},[f]),g.useEffect(()=>{if(!f||!a)return Hc;var j=oz(s_,ix,fz(o),s,y,h.getTimeoutController()),b=()=>{N.current=j()};return h.start([u,c,b,s,d]),()=>{h.stop(),N.current&&N.current(),d()}},[f,a,s,o,c,u,d,h]),p(v.t)}function dl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Sc(t)),a=g.useRef(e);return a.current!==e&&(r.current=Sc(t),a.current=e),r.current}var jz=["radius"],wz=["radius"],i_,o_,l_,c_,d_,u_,m_,f_,p_,h_;function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function x_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(a){Nz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Nz(e,t,r){return(t=_z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _z(e){var t=kz(e,"string");return typeof t=="symbol"?t:t+""}function kz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Im(){return Im=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Im.apply(null,arguments)}function y_(e,t){if(e==null)return{};var r,a,s=Sz(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sz(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function pa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v_=(e,t,r,a,s)=>{var o=Xs(r),c=Xs(a),d=Math.min(Math.abs(o)/2,Math.abs(c)/2),u=c>=0?1:-1,p=o>=0?1:-1,f=c>=0&&o>=0||c<0&&o<0?1:0,h;if(d>0&&s instanceof Array){for(var v=[0,0,0,0],y=0,N=4;y<N;y++)v[y]=s[y]>d?d:s[y];h=Yt(i_||(i_=pa(["M",",",""])),e,t+u*v[0]),v[0]>0&&(h+=Yt(o_||(o_=pa(["A ",",",",0,0,",",",",",""])),v[0],v[0],f,e+p*v[0],t)),h+=Yt(l_||(l_=pa(["L ",",",""])),e+r-p*v[1],t),v[1]>0&&(h+=Yt(c_||(c_=pa(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],f,e+r,t+u*v[1])),h+=Yt(d_||(d_=pa(["L ",",",""])),e+r,t+a-u*v[2]),v[2]>0&&(h+=Yt(u_||(u_=pa(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],f,e+r-p*v[2],t+a)),h+=Yt(m_||(m_=pa(["L ",",",""])),e+p*v[3],t+a),v[3]>0&&(h+=Yt(f_||(f_=pa(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],f,e,t+a-u*v[3])),h+="Z"}else if(d>0&&s===+s&&s>0){var j=Math.min(d,s);h=Yt(p_||(p_=pa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+u*j,j,j,f,e+p*j,t,e+r-p*j,t,j,j,f,e+r,t+u*j,e+r,t+a-u*j,j,j,f,e+r-p*j,t+a,e+p*j,t+a,j,j,f,e,t+a-u*j)}else h=Yt(h_||(h_=pa(["M ",","," h "," v "," h "," Z"])),e,t,r,a,-r);return h},b_={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CC=e=>{var t=Qt(e,b_),r=g.useRef(null),[a,s]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ie=r.current.getTotalLength();ie&&s(ie)}catch{}},[]);var{x:o,y:c,width:d,height:u,radius:p,className:f}=t,{animationEasing:h,animationDuration:v,animationBegin:y,isAnimationActive:N,isUpdateAnimationActive:j}=t,b=g.useRef(d),_=g.useRef(u),S=g.useRef(o),C=g.useRef(c),E=g.useMemo(()=>({x:o,y:c,width:d,height:u,radius:p}),[o,c,d,u,p]),P=dl(E,"rectangle-");if(o!==+o||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var O=ft("recharts-rectangle",f);if(!j){var T=Yr(t),{radius:U}=T,M=y_(T,jz);return g.createElement("path",Im({},M,{x:Xs(o),y:Xs(c),width:Xs(d),height:Xs(u),radius:typeof p=="number"?p:void 0,className:O,d:v_(o,c,d,u,p)}))}var z=b.current,I=_.current,q=S.current,L=C.current,D="0px ".concat(a===-1?1:a,"px"),ee="".concat(a,"px 0px"),oe=_C(["strokeDasharray"],v,typeof h=="string"?h:b_.animationEasing);return g.createElement(cl,{animationId:P,key:P,canBegin:a>0,duration:v,easing:h,isActive:j,begin:y},ie=>{var W=bt(z,d,ie),J=bt(I,u,ie),ue=bt(q,o,ie),K=bt(L,c,ie);r.current&&(b.current=W,_.current=J,S.current=ue,C.current=K);var te;N?ie>0?te={transition:oe,strokeDasharray:ee}:te={strokeDasharray:D}:te={strokeDasharray:ee};var ve=Yr(t),{radius:be}=ve,Oe=y_(ve,wz);return g.createElement("path",Im({},Oe,{radius:typeof p=="number"?p:void 0,className:O,d:v_(ue,K,W,J,p),ref:r,style:x_(x_({},te),t.style)}))})};function j_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function w_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j_(Object(r),!0).forEach(function(a){Pz(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j_(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Pz(e,t,r){return(t=Cz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cz(e){var t=Az(e,"string");return typeof t=="symbol"?t:t+""}function Az(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mm=Math.PI/180,Ez=e=>e*180/Math.PI,cr=(e,t,r,a)=>({x:e+Math.cos(-Mm*a)*r,y:t+Math.sin(-Mm*a)*r}),AC=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},Oz=(e,t)=>{var{x:r,y:a}=e,{x:s,y:o}=t;return Math.sqrt((r-s)**2+(a-o)**2)},Tz=(e,t)=>{var{x:r,y:a}=e,{cx:s,cy:o}=t,c=Oz({x:r,y:a},{x:s,y:o});if(c<=0)return{radius:c,angle:0};var d=(r-s)/c,u=Math.acos(d);return a>o&&(u=2*Math.PI-u),{radius:c,angle:Ez(u),angleInRadian:u}},Iz=e=>{var{startAngle:t,endAngle:r}=e,a=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(a,s);return{startAngle:t-o*360,endAngle:r-o*360}},Mz=(e,t)=>{var{startAngle:r,endAngle:a}=t,s=Math.floor(r/360),o=Math.floor(a/360),c=Math.min(s,o);return e+c*360},Dz=(e,t)=>{var{chartX:r,chartY:a}=e,{radius:s,angle:o}=Tz({x:r,y:a},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:u,endAngle:p}=Iz(t),f=o,h;if(u<=p){for(;f>p;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=p}else{for(;f>u;)f-=360;for(;f<p;)f+=360;h=f>=p&&f<=u}return h?w_(w_({},t),{},{radius:s,angle:Mz(f,t)}):null};function EC(e){var{cx:t,cy:r,radius:a,startAngle:s,endAngle:o}=e,c=cr(t,r,a,s),d=cr(t,r,a,o);return{points:[c,d],cx:t,cy:r,radius:a,startAngle:s,endAngle:o}}var N_,__,k_,S_,P_,C_,A_;function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wy.apply(null,arguments)}function Ii(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Lz=(e,t)=>{var r=Pr(t-e),a=Math.min(Math.abs(t-e),359.999);return r*a},Du=e=>{var{cx:t,cy:r,radius:a,angle:s,sign:o,isExternal:c,cornerRadius:d,cornerIsExternal:u}=e,p=d*(c?1:-1)+a,f=Math.asin(d/p)/Mm,h=u?s:s+o*f,v=cr(t,r,p,h),y=cr(t,r,a,h),N=u?s-o*f:s,j=cr(t,r,p*Math.cos(f*Mm),N);return{center:v,circleTangency:y,lineTangency:j,theta:f}},OC=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,d=Lz(o,c),u=o+d,p=cr(t,r,s,o),f=cr(t,r,s,u),h=Yt(N_||(N_=Ii(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,s,s,+(Math.abs(d)>180),+(o>u),f.x,f.y);if(a>0){var v=cr(t,r,a,o),y=cr(t,r,a,u);h+=Yt(__||(__=Ii(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,a,a,+(Math.abs(d)>180),+(o<=u),v.x,v.y)}else h+=Yt(k_||(k_=Ii(["L ",","," Z"])),t,r);return h},$z=e=>{var{cx:t,cy:r,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:p}=e,f=Pr(p-u),{circleTangency:h,lineTangency:v,theta:y}=Du({cx:t,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:d}),{circleTangency:N,lineTangency:j,theta:b}=Du({cx:t,cy:r,radius:s,angle:p,sign:-f,cornerRadius:o,cornerIsExternal:d}),_=d?Math.abs(u-p):Math.abs(u-p)-y-b;if(_<0)return c?Yt(S_||(S_=Ii(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,o,o,o*2,o,o,-o*2):OC({cx:t,cy:r,innerRadius:a,outerRadius:s,startAngle:u,endAngle:p});var S=Yt(P_||(P_=Ii(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,o,o,+(f<0),h.x,h.y,s,s,+(_>180),+(f<0),N.x,N.y,o,o,+(f<0),j.x,j.y);if(a>0){var{circleTangency:C,lineTangency:E,theta:P}=Du({cx:t,cy:r,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:O,lineTangency:T,theta:U}=Du({cx:t,cy:r,radius:a,angle:p,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),M=d?Math.abs(u-p):Math.abs(u-p)-P-U;if(M<0&&o===0)return"".concat(S,"L").concat(t,",").concat(r,"Z");S+=Yt(C_||(C_=Ii(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,o,o,+(f<0),O.x,O.y,a,a,+(M>180),+(f>0),C.x,C.y,o,o,+(f<0),E.x,E.y)}else S+=Yt(A_||(A_=Ii(["L",",","Z"])),t,r);return S},zz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},TC=e=>{var t=Qt(e,zz),{cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:u,startAngle:p,endAngle:f,className:h}=t;if(o<s||p===f)return null;var v=ft("recharts-sector",h),y=o-s,N=Gr(c,y,0,!0),j;return N>0&&Math.abs(p-f)<360?j=$z({cx:r,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(N,y/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:p,endAngle:f}):j=OC({cx:r,cy:a,innerRadius:s,outerRadius:o,startAngle:p,endAngle:f}),g.createElement("path",wy({},Yr(t),{className:v,d:j}))};function Rz(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(dP(t)){if(e==="centric"){var{cx:a,cy:s,innerRadius:o,outerRadius:c,angle:d}=t,u=cr(a,s,o,d),p=cr(a,s,c,d);return[{x:u.x,y:u.y},{x:p.x,y:p.y}]}return EC(t)}}var ox={},lx={},cx={},E_;function Fz(){return E_||(E_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wP();function r(a){return t.isSymbol(a)?NaN:Number(a)}e.toNumber=r})(cx)),cx}var O_;function Bz(){return O_||(O_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fz();function r(a){return a?(a=t.toNumber(a),a===1/0||a===-1/0?(a<0?-1:1)*Number.MAX_VALUE:a===a?a:0):a===0?a:0}e.toFinite=r})(lx)),lx}var T_;function Uz(){return T_||(T_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NP(),r=Bz();function a(s,o,c){c&&typeof c!="number"&&t.isIterateeCall(s,o,c)&&(o=c=void 0),s=r.toFinite(s),o===void 0?(o=s,s=0):o=r.toFinite(o),c=c===void 0?s<o?1:-1:r.toFinite(c);const d=Math.max(Math.ceil((o-s)/(c||1)),0),u=new Array(d);for(let p=0;p<d;p++)u[p]=s,s+=c;return u}e.range=a})(ox)),ox}var dx,I_;function qz(){return I_||(I_=1,dx=Uz().range),dx}var Kz=qz();const IC=ys(Kz);function ei(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wz(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function M0(e){let t,r,a;e.length!==2?(t=ei,r=(d,u)=>ei(e(d),u),a=(d,u)=>e(d)-u):(t=e===ei||e===Wz?e:Hz,r=e,a=e);function s(d,u,p=0,f=d.length){if(p<f){if(t(u,u)!==0)return f;do{const h=p+f>>>1;r(d[h],u)<0?p=h+1:f=h}while(p<f)}return p}function o(d,u,p=0,f=d.length){if(p<f){if(t(u,u)!==0)return f;do{const h=p+f>>>1;r(d[h],u)<=0?p=h+1:f=h}while(p<f)}return p}function c(d,u,p=0,f=d.length){const h=s(d,u,p,f-1);return h>p&&a(d[h-1],u)>-a(d[h],u)?h-1:h}return{left:s,center:c,right:o}}function Hz(){return 0}function MC(e){return e===null?NaN:+e}function*Vz(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Gz=M0(ei),Qc=Gz.right;M0(MC).center;class M_ extends Map{constructor(t,r=Jz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(D_(this,t))}has(t){return super.has(D_(this,t))}set(t,r){return super.set(Yz(this,t),r)}delete(t){return super.delete(Xz(this,t))}}function D_({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function Yz({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function Xz({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function Jz(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Zz(e=ei){if(e===ei)return DC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function DC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Qz=Math.sqrt(50),eR=Math.sqrt(10),tR=Math.sqrt(2);function Dm(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),o=a/Math.pow(10,s),c=o>=Qz?10:o>=eR?5:o>=tR?2:1;let d,u,p;return s<0?(p=Math.pow(10,-s)/c,d=Math.round(e*p),u=Math.round(t*p),d/p<e&&++d,u/p>t&&--u,p=-p):(p=Math.pow(10,s)*c,d=Math.round(e/p),u=Math.round(t/p),d*p<e&&++d,u*p>t&&--u),u<d&&.5<=r&&r<2?Dm(e,t,r*2):[d,u,p]}function Ny(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,o,c]=a?Dm(t,e,r):Dm(e,t,r);if(!(o>=s))return[];const d=o-s+1,u=new Array(d);if(a)if(c<0)for(let p=0;p<d;++p)u[p]=(o-p)/-c;else for(let p=0;p<d;++p)u[p]=(o-p)*c;else if(c<0)for(let p=0;p<d;++p)u[p]=(s+p)/-c;else for(let p=0;p<d;++p)u[p]=(s+p)*c;return u}function _y(e,t,r){return t=+t,e=+e,r=+r,Dm(e,t,r)[2]}function ky(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?_y(t,e,r):_y(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function L_(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function $_(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function LC(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?DC:Zz(s);a>r;){if(a-r>600){const u=a-r+1,p=t-r+1,f=Math.log(u),h=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*h*(u-h)/u)*(p-u/2<0?-1:1),y=Math.max(r,Math.floor(t-p*h/u+v)),N=Math.min(a,Math.floor(t+(u-p)*h/u+v));LC(e,t,y,N,s)}const o=e[t];let c=r,d=a;for(cc(e,r,t),s(e[a],o)>0&&cc(e,r,a);c<d;){for(cc(e,c,d),++c,--d;s(e[c],o)<0;)++c;for(;s(e[d],o)>0;)--d}s(e[r],o)===0?cc(e,r,d):(++d,cc(e,d,a)),d<=t&&(r=d+1),t<=d&&(a=d-1)}return e}function cc(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function rR(e,t,r){if(e=Float64Array.from(Vz(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return $_(e);if(t>=1)return L_(e);var a,s=(a-1)*t,o=Math.floor(s),c=L_(LC(e,o).subarray(0,o+1)),d=$_(e.subarray(o+1));return c+(d-c)*(s-o)}}function nR(e,t,r=MC){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,o=Math.floor(s),c=+r(e[o],o,e),d=+r(e[o+1],o+1,e);return c+(d-c)*(s-o)}}function aR(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++a<s;)o[a]=e+a*r;return o}function Kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function js(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sy=Symbol("implicit");function D0(){var e=new M_,t=[],r=[],a=Sy;function s(o){let c=e.get(o);if(c===void 0){if(a!==Sy)return a;e.set(o,c=t.push(o)-1)}return r[c%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new M_;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return D0(t,r).unknown(a)},Kn.apply(s,arguments),s}function L0(){var e=D0().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,o,c,d=!1,u=0,p=0,f=.5;delete e.unknown;function h(){var v=t().length,y=s<a,N=y?s:a,j=y?a:s;o=(j-N)/Math.max(1,v-u+p*2),d&&(o=Math.floor(o)),N+=(j-N-o*(v-u))*f,c=o*(1-u),d&&(N=Math.round(N),c=Math.round(c));var b=aR(v).map(function(_){return N+o*_});return r(y?b.reverse():b)}return e.domain=function(v){return arguments.length?(t(v),h()):t()},e.range=function(v){return arguments.length?([a,s]=v,a=+a,s=+s,h()):[a,s]},e.rangeRound=function(v){return[a,s]=v,a=+a,s=+s,d=!0,h()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(v){return arguments.length?(d=!!v,h()):d},e.padding=function(v){return arguments.length?(u=Math.min(1,p=+v),h()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),h()):u},e.paddingOuter=function(v){return arguments.length?(p=+v,h()):p},e.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),h()):f},e.copy=function(){return L0(t(),[a,s]).round(d).paddingInner(u).paddingOuter(p).align(f)},Kn.apply(h(),arguments)}function $C(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $C(t())},e}function sR(){return $C(L0.apply(null,arguments).paddingInner(1))}function $0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zC(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function ed(){}var Mc=.7,Lm=1/Mc,Ho="\\s*([+-]?\\d+)\\s*",Dc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iR=/^#([0-9a-f]{3,8})$/,oR=new RegExp(`^rgb\\(${Ho},${Ho},${Ho}\\)$`),lR=new RegExp(`^rgb\\(${ba},${ba},${ba}\\)$`),cR=new RegExp(`^rgba\\(${Ho},${Ho},${Ho},${Dc}\\)$`),dR=new RegExp(`^rgba\\(${ba},${ba},${ba},${Dc}\\)$`),uR=new RegExp(`^hsl\\(${Dc},${ba},${ba}\\)$`),mR=new RegExp(`^hsla\\(${Dc},${ba},${ba},${Dc}\\)$`),z_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$0(ed,Lc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:R_,formatHex:R_,formatHex8:fR,formatHsl:pR,formatRgb:F_,toString:F_});function R_(){return this.rgb().formatHex()}function fR(){return this.rgb().formatHex8()}function pR(){return RC(this).formatHsl()}function F_(){return this.rgb().formatRgb()}function Lc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iR.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?B_(t):r===3?new pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oR.exec(e))?new pn(t[1],t[2],t[3],1):(t=lR.exec(e))?new pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cR.exec(e))?Lu(t[1],t[2],t[3],t[4]):(t=dR.exec(e))?Lu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=uR.exec(e))?K_(t[1],t[2]/100,t[3]/100,1):(t=mR.exec(e))?K_(t[1],t[2]/100,t[3]/100,t[4]):z_.hasOwnProperty(e)?B_(z_[e]):e==="transparent"?new pn(NaN,NaN,NaN,0):null}function B_(e){return new pn(e>>16&255,e>>8&255,e&255,1)}function Lu(e,t,r,a){return a<=0&&(e=t=r=NaN),new pn(e,t,r,a)}function hR(e){return e instanceof ed||(e=Lc(e)),e?(e=e.rgb(),new pn(e.r,e.g,e.b,e.opacity)):new pn}function Py(e,t,r,a){return arguments.length===1?hR(e):new pn(e,t,r,a??1)}function pn(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}$0(pn,Py,zC(ed,{brighter(e){return e=e==null?Lm:Math.pow(Lm,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pn(zi(this.r),zi(this.g),zi(this.b),$m(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U_,formatHex:U_,formatHex8:gR,formatRgb:q_,toString:q_}));function U_(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}`}function gR(){return`#${Mi(this.r)}${Mi(this.g)}${Mi(this.b)}${Mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function q_(){const e=$m(this.opacity);return`${e===1?"rgb(":"rgba("}${zi(this.r)}, ${zi(this.g)}, ${zi(this.b)}${e===1?")":`, ${e})`}`}function $m(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mi(e){return e=zi(e),(e<16?"0":"")+e.toString(16)}function K_(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ta(e,t,r,a)}function RC(e){if(e instanceof ta)return new ta(e.h,e.s,e.l,e.opacity);if(e instanceof ed||(e=Lc(e)),!e)return new ta;if(e instanceof ta)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),o=Math.max(t,r,a),c=NaN,d=o-s,u=(o+s)/2;return d?(t===o?c=(r-a)/d+(r<a)*6:r===o?c=(a-t)/d+2:c=(t-r)/d+4,d/=u<.5?o+s:2-o-s,c*=60):d=u>0&&u<1?0:c,new ta(c,d,u,e.opacity)}function xR(e,t,r,a){return arguments.length===1?RC(e):new ta(e,t,r,a??1)}function ta(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}$0(ta,xR,zC(ed,{brighter(e){return e=e==null?Lm:Math.pow(Lm,e),new ta(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mc:Math.pow(Mc,e),new ta(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new pn(ux(e>=240?e-240:e+120,s,a),ux(e,s,a),ux(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new ta(W_(this.h),$u(this.s),$u(this.l),$m(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$m(this.opacity);return`${e===1?"hsl(":"hsla("}${W_(this.h)}, ${$u(this.s)*100}%, ${$u(this.l)*100}%${e===1?")":`, ${e})`}`}}));function W_(e){return e=(e||0)%360,e<0?e+360:e}function $u(e){return Math.max(0,Math.min(1,e||0))}function ux(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const z0=e=>()=>e;function yR(e,t){return function(r){return e+r*t}}function vR(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function bR(e){return(e=+e)==1?FC:function(t,r){return r-t?vR(t,r,e):z0(isNaN(t)?r:t)}}function FC(e,t){var r=t-e;return r?yR(e,r):z0(isNaN(e)?t:e)}const H_=(function e(t){var r=bR(t);function a(s,o){var c=r((s=Py(s)).r,(o=Py(o)).r),d=r(s.g,o.g),u=r(s.b,o.b),p=FC(s.opacity,o.opacity);return function(f){return s.r=c(f),s.g=d(f),s.b=u(f),s.opacity=p(f),s+""}}return a.gamma=e,a})(1);function jR(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(o){for(s=0;s<r;++s)a[s]=e[s]*(1-o)+t[s]*o;return a}}function wR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function NR(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),o=new Array(r),c;for(c=0;c<a;++c)s[c]=ul(e[c],t[c]);for(;c<r;++c)o[c]=t[c];return function(d){for(c=0;c<a;++c)o[c]=s[c](d);return o}}function _R(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function zm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kR(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ul(e[s],t[s]):a[s]=t[s];return function(o){for(s in r)a[s]=r[s](o);return a}}var Cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mx=new RegExp(Cy.source,"g");function SR(e){return function(){return e}}function PR(e){return function(t){return e(t)+""}}function CR(e,t){var r=Cy.lastIndex=mx.lastIndex=0,a,s,o,c=-1,d=[],u=[];for(e=e+"",t=t+"";(a=Cy.exec(e))&&(s=mx.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),d[c]?d[c]+=o:d[++c]=o),(a=a[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,u.push({i:c,x:zm(a,s)})),r=mx.lastIndex;return r<t.length&&(o=t.slice(r),d[c]?d[c]+=o:d[++c]=o),d.length<2?u[0]?PR(u[0].x):SR(t):(t=u.length,function(p){for(var f=0,h;f<t;++f)d[(h=u[f]).i]=h.x(p);return d.join("")})}function ul(e,t){var r=typeof t,a;return t==null||r==="boolean"?z0(t):(r==="number"?zm:r==="string"?(a=Lc(t))?(t=a,H_):CR:t instanceof Lc?H_:t instanceof Date?_R:wR(t)?jR:Array.isArray(t)?NR:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kR:zm)(e,t)}function R0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function AR(e,t){t===void 0&&(t=e,e=ul);for(var r=0,a=t.length-1,s=t[0],o=new Array(a<0?0:a);r<a;)o[r]=e(s,s=t[++r]);return function(c){var d=Math.max(0,Math.min(a-1,Math.floor(c*=a)));return o[d](c-d)}}function ER(e){return function(){return e}}function Rm(e){return+e}var V_=[0,1];function Qr(e){return e}function Ay(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ER(isNaN(t)?NaN:.5)}function OR(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function TR(e,t,r){var a=e[0],s=e[1],o=t[0],c=t[1];return s<a?(a=Ay(s,a),o=r(c,o)):(a=Ay(a,s),o=r(o,c)),function(d){return o(a(d))}}function IR(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),o=new Array(a),c=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<a;)s[c]=Ay(e[c],e[c+1]),o[c]=r(t[c],t[c+1]);return function(d){var u=Qc(e,d,1,a)-1;return o[u](s[u](d))}}function td(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function If(){var e=V_,t=V_,r=ul,a,s,o,c=Qr,d,u,p;function f(){var v=Math.min(e.length,t.length);return c!==Qr&&(c=OR(e[0],e[v-1])),d=v>2?IR:TR,u=p=null,h}function h(v){return v==null||isNaN(v=+v)?o:(u||(u=d(e.map(a),t,r)))(a(c(v)))}return h.invert=function(v){return c(s((p||(p=d(t,e.map(a),zm)))(v)))},h.domain=function(v){return arguments.length?(e=Array.from(v,Rm),f()):e.slice()},h.range=function(v){return arguments.length?(t=Array.from(v),f()):t.slice()},h.rangeRound=function(v){return t=Array.from(v),r=R0,f()},h.clamp=function(v){return arguments.length?(c=v?!0:Qr,f()):c!==Qr},h.interpolate=function(v){return arguments.length?(r=v,f()):r},h.unknown=function(v){return arguments.length?(o=v,h):o},function(v,y){return a=v,s=y,f()}}function F0(){return If()(Qr,Qr)}function MR(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Jo(e){return e=Fm(Math.abs(e)),e?e[1]:NaN}function DR(e,t){return function(r,a){for(var s=r.length,o=[],c=0,d=e[0],u=0;s>0&&d>0&&(u+d+1>a&&(d=Math.max(1,a-u)),o.push(r.substring(s-=d,s+d)),!((u+=d+1)>a));)d=e[c=(c+1)%e.length];return o.reverse().join(t)}}function LR(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var $R=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $c(e){if(!(t=$R.exec(e)))throw new Error("invalid format: "+e);var t;return new B0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$c.prototype=B0.prototype;function B0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}B0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zR(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var BC;function RR(e,t){var r=Fm(e,t);if(!r)return e+"";var a=r[0],s=r[1],o=s-(BC=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=a.length;return o===c?a:o>c?a+new Array(o-c+1).join("0"):o>0?a.slice(0,o)+"."+a.slice(o):"0."+new Array(1-o).join("0")+Fm(e,Math.max(0,t+o-1))[0]}function G_(e,t){var r=Fm(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const Y_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MR,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>G_(e*100,t),r:G_,s:RR,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function X_(e){return e}var J_=Array.prototype.map,Z_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FR(e){var t=e.grouping===void 0||e.thousands===void 0?X_:DR(J_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?X_:LR(J_.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function p(h){h=$c(h);var v=h.fill,y=h.align,N=h.sign,j=h.symbol,b=h.zero,_=h.width,S=h.comma,C=h.precision,E=h.trim,P=h.type;P==="n"?(S=!0,P="g"):Y_[P]||(C===void 0&&(C=12),E=!0,P="g"),(b||v==="0"&&y==="=")&&(b=!0,v="0",y="=");var O=j==="$"?r:j==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=j==="$"?a:/[%p]/.test(P)?c:"",U=Y_[P],M=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function z(I){var q=O,L=T,D,ee,oe;if(P==="c")L=U(I)+L,I="";else{I=+I;var ie=I<0||1/I<0;if(I=isNaN(I)?u:U(Math.abs(I),C),E&&(I=zR(I)),ie&&+I==0&&N!=="+"&&(ie=!1),q=(ie?N==="("?N:d:N==="-"||N==="("?"":N)+q,L=(P==="s"?Z_[8+BC/3]:"")+L+(ie&&N==="("?")":""),M){for(D=-1,ee=I.length;++D<ee;)if(oe=I.charCodeAt(D),48>oe||oe>57){L=(oe===46?s+I.slice(D+1):I.slice(D))+L,I=I.slice(0,D);break}}}S&&!b&&(I=t(I,1/0));var W=q.length+I.length+L.length,J=W<_?new Array(_-W+1).join(v):"";switch(S&&b&&(I=t(J+I,J.length?_-L.length:1/0),J=""),y){case"<":I=q+I+L+J;break;case"=":I=q+J+I+L;break;case"^":I=J.slice(0,W=J.length>>1)+q+I+L+J.slice(W);break;default:I=J+q+I+L;break}return o(I)}return z.toString=function(){return h+""},z}function f(h,v){var y=p((h=$c(h),h.type="f",h)),N=Math.max(-8,Math.min(8,Math.floor(Jo(v)/3)))*3,j=Math.pow(10,-N),b=Z_[8+N/3];return function(_){return y(j*_)+b}}return{format:p,formatPrefix:f}}var zu,U0,UC;BR({thousands:",",grouping:[3],currency:["$",""]});function BR(e){return zu=FR(e),U0=zu.format,UC=zu.formatPrefix,zu}function UR(e){return Math.max(0,-Jo(Math.abs(e)))}function qR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jo(t)/3)))*3-Jo(Math.abs(e)))}function KR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Jo(t)-Jo(e))+1}function qC(e,t,r,a){var s=ky(e,t,r),o;switch(a=$c(a??",f"),a.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(o=qR(s,c))&&(a.precision=o),UC(a,c)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(o=KR(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=o-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(o=UR(s))&&(a.precision=o-(a.type==="%")*2);break}}return U0(a)}function di(e){var t=e.domain;return e.ticks=function(r){var a=t();return Ny(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return qC(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,o=a.length-1,c=a[s],d=a[o],u,p,f=10;for(d<c&&(p=c,c=d,d=p,p=s,s=o,o=p);f-- >0;){if(p=_y(c,d,r),p===u)return a[s]=c,a[o]=d,t(a);if(p>0)c=Math.floor(c/p)*p,d=Math.ceil(d/p)*p;else if(p<0)c=Math.ceil(c*p)/p,d=Math.floor(d*p)/p;else break;u=p}return e},e}function KC(){var e=F0();return e.copy=function(){return td(e,KC())},Kn.apply(e,arguments),di(e)}function WC(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,Rm),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return WC(e).unknown(t)},e=arguments.length?Array.from(e,Rm):[0,1],di(r)}function HC(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],o=e[a],c;return o<s&&(c=r,r=a,a=c,c=s,s=o,o=c),e[r]=t.floor(s),e[a]=t.ceil(o),e}function Q_(e){return Math.log(e)}function e2(e){return Math.exp(e)}function WR(e){return-Math.log(-e)}function HR(e){return-Math.exp(-e)}function VR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function GR(e){return e===10?VR:e===Math.E?Math.exp:t=>Math.pow(e,t)}function YR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function t2(e){return(t,r)=>-e(-t,r)}function q0(e){const t=e(Q_,e2),r=t.domain;let a=10,s,o;function c(){return s=YR(a),o=GR(a),r()[0]<0?(s=t2(s),o=t2(o),e(WR,HR)):e(Q_,e2),t}return t.base=function(d){return arguments.length?(a=+d,c()):a},t.domain=function(d){return arguments.length?(r(d),c()):r()},t.ticks=d=>{const u=r();let p=u[0],f=u[u.length-1];const h=f<p;h&&([p,f]=[f,p]);let v=s(p),y=s(f),N,j;const b=d==null?10:+d;let _=[];if(!(a%1)&&y-v<b){if(v=Math.floor(v),y=Math.ceil(y),p>0){for(;v<=y;++v)for(N=1;N<a;++N)if(j=v<0?N/o(-v):N*o(v),!(j<p)){if(j>f)break;_.push(j)}}else for(;v<=y;++v)for(N=a-1;N>=1;--N)if(j=v>0?N/o(-v):N*o(v),!(j<p)){if(j>f)break;_.push(j)}_.length*2<b&&(_=Ny(p,f,b))}else _=Ny(v,y,Math.min(y-v,b)).map(o);return h?_.reverse():_},t.tickFormat=(d,u)=>{if(d==null&&(d=10),u==null&&(u=a===10?"s":","),typeof u!="function"&&(!(a%1)&&(u=$c(u)).precision==null&&(u.trim=!0),u=U0(u)),d===1/0)return u;const p=Math.max(1,a*d/t.ticks().length);return f=>{let h=f/o(Math.round(s(f)));return h*a<a-.5&&(h*=a),h<=p?u(f):""}},t.nice=()=>r(HC(r(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function VC(){const e=q0(If()).domain([1,10]);return e.copy=()=>td(e,VC()).base(e.base()),Kn.apply(e,arguments),e}function r2(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function n2(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function K0(e){var t=1,r=e(r2(t),n2(t));return r.constant=function(a){return arguments.length?e(r2(t=+a),n2(t)):t},di(r)}function GC(){var e=K0(If());return e.copy=function(){return td(e,GC()).constant(e.constant())},Kn.apply(e,arguments)}function a2(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function XR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JR(e){return e<0?-e*e:e*e}function W0(e){var t=e(Qr,Qr),r=1;function a(){return r===1?e(Qr,Qr):r===.5?e(XR,JR):e(a2(r),a2(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},di(t)}function H0(){var e=W0(If());return e.copy=function(){return td(e,H0()).exponent(e.exponent())},Kn.apply(e,arguments),e}function ZR(){return H0.apply(null,arguments).exponent(.5)}function s2(e){return Math.sign(e)*e*e}function QR(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YC(){var e=F0(),t=[0,1],r=!1,a;function s(o){var c=QR(e(o));return isNaN(c)?a:r?Math.round(c):c}return s.invert=function(o){return e.invert(s2(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Rm)).map(s2)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return YC(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Kn.apply(s,arguments),di(s)}function XC(){var e=[],t=[],r=[],a;function s(){var c=0,d=Math.max(1,t.length);for(r=new Array(d-1);++c<d;)r[c-1]=nR(e,c/d);return o}function o(c){return c==null||isNaN(c=+c)?a:t[Qc(r,c)]}return o.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ei),s()},o.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},o.unknown=function(c){return arguments.length?(a=c,o):a},o.quantiles=function(){return r.slice()},o.copy=function(){return XC().domain(e).range(t).unknown(a)},Kn.apply(o,arguments)}function JC(){var e=0,t=1,r=1,a=[.5],s=[0,1],o;function c(u){return u!=null&&u<=u?s[Qc(a,u,0,r)]:o}function d(){var u=-1;for(a=new Array(r);++u<r;)a[u]=((u+1)*t-(u-r)*e)/(r+1);return c}return c.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,d()):[e,t]},c.range=function(u){return arguments.length?(r=(s=Array.from(u)).length-1,d()):s.slice()},c.invertExtent=function(u){var p=s.indexOf(u);return p<0?[NaN,NaN]:p<1?[e,a[0]]:p>=r?[a[r-1],t]:[a[p-1],a[p]]},c.unknown=function(u){return arguments.length&&(o=u),c},c.thresholds=function(){return a.slice()},c.copy=function(){return JC().domain([e,t]).range(s).unknown(o)},Kn.apply(di(c),arguments)}function ZC(){var e=[.5],t=[0,1],r,a=1;function s(o){return o!=null&&o<=o?t[Qc(e,o,0,a)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return ZC().domain(e).range(t).unknown(r)},Kn.apply(s,arguments)}const fx=new Date,px=new Date;function xr(e,t,r,a){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const c=s(o),d=s.ceil(o);return o-c<d-o?c:d},s.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,d)=>{const u=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<c)||!(d>0))return u;let p;do u.push(p=new Date(+o)),t(o,d),e(o);while(p<o&&o<c);return u},s.filter=o=>xr(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!o(c););else for(;--d>=0;)for(;t(c,1),!o(c););}),r&&(s.count=(o,c)=>(fx.setTime(+o),px.setTime(+c),e(fx),e(px),Math.floor(r(fx,px))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(a?c=>a(c)%o===0:c=>s.count(0,c)%o===0):s)),s}const Bm=xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Bm);Bm.range;const Xa=1e3,Fn=Xa*60,Ja=Fn*60,fs=Ja*24,V0=fs*7,i2=fs*30,hx=fs*365,Di=xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xa)},(e,t)=>(t-e)/Xa,e=>e.getUTCSeconds());Di.range;const G0=xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xa)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getMinutes());G0.range;const Y0=xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCMinutes());Y0.range;const X0=xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xa-e.getMinutes()*Fn)},(e,t)=>{e.setTime(+e+t*Ja)},(e,t)=>(t-e)/Ja,e=>e.getHours());X0.range;const J0=xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ja)},(e,t)=>(t-e)/Ja,e=>e.getUTCHours());J0.range;const rd=xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fn)/fs,e=>e.getDate()-1);rd.range;const Mf=xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fs,e=>e.getUTCDate()-1);Mf.range;const QC=xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fs,e=>Math.floor(e/fs));QC.range;function eo(e){return xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fn)/V0)}const Df=eo(0),Um=eo(1),e8=eo(2),t8=eo(3),Zo=eo(4),r8=eo(5),n8=eo(6);Df.range;Um.range;e8.range;t8.range;Zo.range;r8.range;n8.range;function to(e){return xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/V0)}const Lf=to(0),qm=to(1),a8=to(2),s8=to(3),Qo=to(4),i8=to(5),o8=to(6);Lf.range;qm.range;a8.range;s8.range;Qo.range;i8.range;o8.range;const Z0=xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Z0.range;const Q0=xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Q0.range;const ps=xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ps.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ps.range;const hs=xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});hs.range;function eA(e,t,r,a,s,o){const c=[[Di,1,Xa],[Di,5,5*Xa],[Di,15,15*Xa],[Di,30,30*Xa],[o,1,Fn],[o,5,5*Fn],[o,15,15*Fn],[o,30,30*Fn],[s,1,Ja],[s,3,3*Ja],[s,6,6*Ja],[s,12,12*Ja],[a,1,fs],[a,2,2*fs],[r,1,V0],[t,1,i2],[t,3,3*i2],[e,1,hx]];function d(p,f,h){const v=f<p;v&&([p,f]=[f,p]);const y=h&&typeof h.range=="function"?h:u(p,f,h),N=y?y.range(p,+f+1):[];return v?N.reverse():N}function u(p,f,h){const v=Math.abs(f-p)/h,y=M0(([,,b])=>b).right(c,v);if(y===c.length)return e.every(ky(p/hx,f/hx,h));if(y===0)return Bm.every(Math.max(ky(p,f,h),1));const[N,j]=c[v/c[y-1][2]<c[y][2]/v?y-1:y];return N.every(j)}return[d,u]}const[l8,c8]=eA(hs,Q0,Lf,QC,J0,Y0),[d8,u8]=eA(ps,Z0,Df,rd,X0,G0);function gx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function m8(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,o=e.days,c=e.shortDays,d=e.months,u=e.shortMonths,p=uc(s),f=mc(s),h=uc(o),v=mc(o),y=uc(c),N=mc(c),j=uc(d),b=mc(d),_=uc(u),S=mc(u),C={a:ie,A:W,b:J,B:ue,c:null,d:m2,e:m2,f:D8,g:W8,G:V8,H:T8,I:I8,j:M8,L:tA,m:L8,M:$8,p:K,q:te,Q:h2,s:g2,S:z8,u:R8,U:F8,V:B8,w:U8,W:q8,x:null,X:null,y:K8,Y:H8,Z:G8,"%":p2},E={a:ve,A:be,b:Oe,B:Me,c:null,d:f2,e:f2,f:Z8,g:lF,G:dF,H:Y8,I:X8,j:J8,L:nA,m:Q8,M:eF,p:Ne,q:F,Q:h2,s:g2,S:tF,u:rF,U:nF,V:aF,w:sF,W:iF,x:null,X:null,y:oF,Y:cF,Z:uF,"%":p2},P={a:z,A:I,b:q,B:L,c:D,d:d2,e:d2,f:C8,g:c2,G:l2,H:u2,I:u2,j:_8,L:P8,m:N8,M:k8,p:M,q:w8,Q:E8,s:O8,S:S8,u:x8,U:y8,V:v8,w:g8,W:b8,x:ee,X:oe,y:c2,Y:l2,Z:j8,"%":A8};C.x=O(r,C),C.X=O(a,C),C.c=O(t,C),E.x=O(r,E),E.X=O(a,E),E.c=O(t,E);function O(Y,V){return function(re){var Q=[],De=-1,Ce=0,rt=Y.length,fe,de,Je;for(re instanceof Date||(re=new Date(+re));++De<rt;)Y.charCodeAt(De)===37&&(Q.push(Y.slice(Ce,De)),(de=o2[fe=Y.charAt(++De)])!=null?fe=Y.charAt(++De):de=fe==="e"?" ":"0",(Je=V[fe])&&(fe=Je(re,de)),Q.push(fe),Ce=De+1);return Q.push(Y.slice(Ce,De)),Q.join("")}}function T(Y,V){return function(re){var Q=dc(1900,void 0,1),De=U(Q,Y,re+="",0),Ce,rt;if(De!=re.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(V&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ce=xx(dc(Q.y,0,1)),rt=Ce.getUTCDay(),Ce=rt>4||rt===0?qm.ceil(Ce):qm(Ce),Ce=Mf.offset(Ce,(Q.V-1)*7),Q.y=Ce.getUTCFullYear(),Q.m=Ce.getUTCMonth(),Q.d=Ce.getUTCDate()+(Q.w+6)%7):(Ce=gx(dc(Q.y,0,1)),rt=Ce.getDay(),Ce=rt>4||rt===0?Um.ceil(Ce):Um(Ce),Ce=rd.offset(Ce,(Q.V-1)*7),Q.y=Ce.getFullYear(),Q.m=Ce.getMonth(),Q.d=Ce.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),rt="Z"in Q?xx(dc(Q.y,0,1)).getUTCDay():gx(dc(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(rt+5)%7:Q.w+Q.U*7-(rt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,xx(Q)):gx(Q)}}function U(Y,V,re,Q){for(var De=0,Ce=V.length,rt=re.length,fe,de;De<Ce;){if(Q>=rt)return-1;if(fe=V.charCodeAt(De++),fe===37){if(fe=V.charAt(De++),de=P[fe in o2?V.charAt(De++):fe],!de||(Q=de(Y,re,Q))<0)return-1}else if(fe!=re.charCodeAt(Q++))return-1}return Q}function M(Y,V,re){var Q=p.exec(V.slice(re));return Q?(Y.p=f.get(Q[0].toLowerCase()),re+Q[0].length):-1}function z(Y,V,re){var Q=y.exec(V.slice(re));return Q?(Y.w=N.get(Q[0].toLowerCase()),re+Q[0].length):-1}function I(Y,V,re){var Q=h.exec(V.slice(re));return Q?(Y.w=v.get(Q[0].toLowerCase()),re+Q[0].length):-1}function q(Y,V,re){var Q=_.exec(V.slice(re));return Q?(Y.m=S.get(Q[0].toLowerCase()),re+Q[0].length):-1}function L(Y,V,re){var Q=j.exec(V.slice(re));return Q?(Y.m=b.get(Q[0].toLowerCase()),re+Q[0].length):-1}function D(Y,V,re){return U(Y,t,V,re)}function ee(Y,V,re){return U(Y,r,V,re)}function oe(Y,V,re){return U(Y,a,V,re)}function ie(Y){return c[Y.getDay()]}function W(Y){return o[Y.getDay()]}function J(Y){return u[Y.getMonth()]}function ue(Y){return d[Y.getMonth()]}function K(Y){return s[+(Y.getHours()>=12)]}function te(Y){return 1+~~(Y.getMonth()/3)}function ve(Y){return c[Y.getUTCDay()]}function be(Y){return o[Y.getUTCDay()]}function Oe(Y){return u[Y.getUTCMonth()]}function Me(Y){return d[Y.getUTCMonth()]}function Ne(Y){return s[+(Y.getUTCHours()>=12)]}function F(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var V=O(Y+="",C);return V.toString=function(){return Y},V},parse:function(Y){var V=T(Y+="",!1);return V.toString=function(){return Y},V},utcFormat:function(Y){var V=O(Y+="",E);return V.toString=function(){return Y},V},utcParse:function(Y){var V=T(Y+="",!0);return V.toString=function(){return Y},V}}}var o2={"-":"",_:" ",0:"0"},Er=/^\s*\d+/,f8=/^%/,p8=/[\\^$*+?|[\]().{}]/g;function xt(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",o=s.length;return a+(o<r?new Array(r-o+1).join(t)+s:s)}function h8(e){return e.replace(p8,"\\$&")}function uc(e){return new RegExp("^(?:"+e.map(h8).join("|")+")","i")}function mc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function g8(e,t,r){var a=Er.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function x8(e,t,r){var a=Er.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function y8(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function v8(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function b8(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function l2(e,t,r){var a=Er.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function c2(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function j8(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function w8(e,t,r){var a=Er.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function N8(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function d2(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function _8(e,t,r){var a=Er.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function u2(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function k8(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function S8(e,t,r){var a=Er.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function P8(e,t,r){var a=Er.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function C8(e,t,r){var a=Er.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function A8(e,t,r){var a=f8.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function E8(e,t,r){var a=Er.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function O8(e,t,r){var a=Er.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function m2(e,t){return xt(e.getDate(),t,2)}function T8(e,t){return xt(e.getHours(),t,2)}function I8(e,t){return xt(e.getHours()%12||12,t,2)}function M8(e,t){return xt(1+rd.count(ps(e),e),t,3)}function tA(e,t){return xt(e.getMilliseconds(),t,3)}function D8(e,t){return tA(e,t)+"000"}function L8(e,t){return xt(e.getMonth()+1,t,2)}function $8(e,t){return xt(e.getMinutes(),t,2)}function z8(e,t){return xt(e.getSeconds(),t,2)}function R8(e){var t=e.getDay();return t===0?7:t}function F8(e,t){return xt(Df.count(ps(e)-1,e),t,2)}function rA(e){var t=e.getDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function B8(e,t){return e=rA(e),xt(Zo.count(ps(e),e)+(ps(e).getDay()===4),t,2)}function U8(e){return e.getDay()}function q8(e,t){return xt(Um.count(ps(e)-1,e),t,2)}function K8(e,t){return xt(e.getFullYear()%100,t,2)}function W8(e,t){return e=rA(e),xt(e.getFullYear()%100,t,2)}function H8(e,t){return xt(e.getFullYear()%1e4,t,4)}function V8(e,t){var r=e.getDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),xt(e.getFullYear()%1e4,t,4)}function G8(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xt(t/60|0,"0",2)+xt(t%60,"0",2)}function f2(e,t){return xt(e.getUTCDate(),t,2)}function Y8(e,t){return xt(e.getUTCHours(),t,2)}function X8(e,t){return xt(e.getUTCHours()%12||12,t,2)}function J8(e,t){return xt(1+Mf.count(hs(e),e),t,3)}function nA(e,t){return xt(e.getUTCMilliseconds(),t,3)}function Z8(e,t){return nA(e,t)+"000"}function Q8(e,t){return xt(e.getUTCMonth()+1,t,2)}function eF(e,t){return xt(e.getUTCMinutes(),t,2)}function tF(e,t){return xt(e.getUTCSeconds(),t,2)}function rF(e){var t=e.getUTCDay();return t===0?7:t}function nF(e,t){return xt(Lf.count(hs(e)-1,e),t,2)}function aA(e){var t=e.getUTCDay();return t>=4||t===0?Qo(e):Qo.ceil(e)}function aF(e,t){return e=aA(e),xt(Qo.count(hs(e),e)+(hs(e).getUTCDay()===4),t,2)}function sF(e){return e.getUTCDay()}function iF(e,t){return xt(qm.count(hs(e)-1,e),t,2)}function oF(e,t){return xt(e.getUTCFullYear()%100,t,2)}function lF(e,t){return e=aA(e),xt(e.getUTCFullYear()%100,t,2)}function cF(e,t){return xt(e.getUTCFullYear()%1e4,t,4)}function dF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Qo(e):Qo.ceil(e),xt(e.getUTCFullYear()%1e4,t,4)}function uF(){return"+0000"}function p2(){return"%"}function h2(e){return+e}function g2(e){return Math.floor(+e/1e3)}var Oo,sA,iA;mF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mF(e){return Oo=m8(e),sA=Oo.format,Oo.parse,iA=Oo.utcFormat,Oo.utcParse,Oo}function fF(e){return new Date(e)}function pF(e){return e instanceof Date?+e:+new Date(+e)}function ev(e,t,r,a,s,o,c,d,u,p){var f=F0(),h=f.invert,v=f.domain,y=p(".%L"),N=p(":%S"),j=p("%I:%M"),b=p("%I %p"),_=p("%a %d"),S=p("%b %d"),C=p("%B"),E=p("%Y");function P(O){return(u(O)<O?y:d(O)<O?N:c(O)<O?j:o(O)<O?b:a(O)<O?s(O)<O?_:S:r(O)<O?C:E)(O)}return f.invert=function(O){return new Date(h(O))},f.domain=function(O){return arguments.length?v(Array.from(O,pF)):v().map(fF)},f.ticks=function(O){var T=v();return e(T[0],T[T.length-1],O??10)},f.tickFormat=function(O,T){return T==null?P:p(T)},f.nice=function(O){var T=v();return(!O||typeof O.range!="function")&&(O=t(T[0],T[T.length-1],O??10)),O?v(HC(T,O)):f},f.copy=function(){return td(f,ev(e,t,r,a,s,o,c,d,u,p))},f}function hF(){return Kn.apply(ev(d8,u8,ps,Z0,Df,rd,X0,G0,Di,sA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gF(){return Kn.apply(ev(l8,c8,hs,Q0,Lf,Mf,J0,Y0,Di,iA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $f(){var e=0,t=1,r,a,s,o,c=Qr,d=!1,u;function p(h){return h==null||isNaN(h=+h)?u:c(s===0?.5:(h=(o(h)-r)*s,d?Math.max(0,Math.min(1,h)):h))}p.domain=function(h){return arguments.length?([e,t]=h,r=o(e=+e),a=o(t=+t),s=r===a?0:1/(a-r),p):[e,t]},p.clamp=function(h){return arguments.length?(d=!!h,p):d},p.interpolator=function(h){return arguments.length?(c=h,p):c};function f(h){return function(v){var y,N;return arguments.length?([y,N]=v,c=h(y,N),p):[c(0),c(1)]}}return p.range=f(ul),p.rangeRound=f(R0),p.unknown=function(h){return arguments.length?(u=h,p):u},function(h){return o=h,r=h(e),a=h(t),s=r===a?0:1/(a-r),p}}function ui(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oA(){var e=di($f()(Qr));return e.copy=function(){return ui(e,oA())},js.apply(e,arguments)}function lA(){var e=q0($f()).domain([1,10]);return e.copy=function(){return ui(e,lA()).base(e.base())},js.apply(e,arguments)}function cA(){var e=K0($f());return e.copy=function(){return ui(e,cA()).constant(e.constant())},js.apply(e,arguments)}function tv(){var e=W0($f());return e.copy=function(){return ui(e,tv()).exponent(e.exponent())},js.apply(e,arguments)}function xF(){return tv.apply(null,arguments).exponent(.5)}function dA(){var e=[],t=Qr;function r(a){if(a!=null&&!isNaN(a=+a))return t((Qc(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ei),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,o)=>rR(e,o/a))},r.copy=function(){return dA(t).domain(e)},js.apply(r,arguments)}function zf(){var e=0,t=.5,r=1,a=1,s,o,c,d,u,p=Qr,f,h=!1,v;function y(j){return isNaN(j=+j)?v:(j=.5+((j=+f(j))-o)*(a*j<a*o?d:u),p(h?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([e,t,r]=j,s=f(e=+e),o=f(t=+t),c=f(r=+r),d=s===o?0:.5/(o-s),u=o===c?0:.5/(c-o),a=o<s?-1:1,y):[e,t,r]},y.clamp=function(j){return arguments.length?(h=!!j,y):h},y.interpolator=function(j){return arguments.length?(p=j,y):p};function N(j){return function(b){var _,S,C;return arguments.length?([_,S,C]=b,p=AR(j,[_,S,C]),y):[p(0),p(.5),p(1)]}}return y.range=N(ul),y.rangeRound=N(R0),y.unknown=function(j){return arguments.length?(v=j,y):v},function(j){return f=j,s=j(e),o=j(t),c=j(r),d=s===o?0:.5/(o-s),u=o===c?0:.5/(c-o),a=o<s?-1:1,y}}function uA(){var e=di(zf()(Qr));return e.copy=function(){return ui(e,uA())},js.apply(e,arguments)}function mA(){var e=q0(zf()).domain([.1,1,10]);return e.copy=function(){return ui(e,mA()).base(e.base())},js.apply(e,arguments)}function fA(){var e=K0(zf());return e.copy=function(){return ui(e,fA()).constant(e.constant())},js.apply(e,arguments)}function rv(){var e=W0(zf());return e.copy=function(){return ui(e,rv()).exponent(e.exponent())},js.apply(e,arguments)}function yF(){return rv.apply(null,arguments).exponent(.5)}const vc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:L0,scaleDiverging:uA,scaleDivergingLog:mA,scaleDivergingPow:rv,scaleDivergingSqrt:yF,scaleDivergingSymlog:fA,scaleIdentity:WC,scaleImplicit:Sy,scaleLinear:KC,scaleLog:VC,scaleOrdinal:D0,scalePoint:sR,scalePow:H0,scaleQuantile:XC,scaleQuantize:JC,scaleRadial:YC,scaleSequential:oA,scaleSequentialLog:lA,scaleSequentialPow:tv,scaleSequentialQuantile:dA,scaleSequentialSqrt:xF,scaleSequentialSymlog:cA,scaleSqrt:ZR,scaleSymlog:GC,scaleThreshold:ZC,scaleTime:hF,scaleUtc:gF,tickFormat:qC},Symbol.toStringTag,{value:"Module"}));var ws=e=>e.chartData,Rf=ae([ws],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nv=(e,t,r,a)=>a?Rf(e):ws(e),pA=(e,t,r)=>r?Rf(e):ws(e);function ai(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(At(t)&&At(r))return!0}return!1}function x2(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function hA(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,a]=e,s,o;if(At(r))s=r;else if(typeof r=="function")return;if(At(a))o=a;else if(typeof a=="function")return;var c=[s,o];if(ai(c))return c}}function vF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var a=e(t,r);if(ai(a))return x2(a,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Le(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&CN.test(s)){var u=CN.exec(s);if(u==null||u[1]==null||t==null)c=void 0;else{var p=+u[1];c=t[0]-p}}else c=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Le(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&AN.test(o)){var f=AN.exec(o);if(f==null||f[1]==null||t==null)d=void 0;else{var h=+f[1];d=t[1]+h}}else d=t?.[1];var v=[c,d];if(ai(v))return t==null?v:x2(v,t,r)}}}var ml=1e9,bF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sv,Ut=!0,qn="[DecimalError] ",Ri=qn+"Invalid argument: ",av=qn+"Exponent out of range: ",fl=Math.floor,Ti=Math.pow,jF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,kr=1e7,Dt=7,gA=9007199254740991,Km=fl(gA/Dt),Be={};Be.absoluteValue=Be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Be.comparedTo=Be.cmp=function(e){var t,r,a,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(a=o.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return a===s?0:a>s^o.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Dt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Be.dividedBy=Be.div=function(e){return ts(this,new this.constructor(e))};Be.dividedToIntegerBy=Be.idiv=function(e){var t=this,r=t.constructor;return Ct(ts(t,new r(e),0,1),r.precision)};Be.equals=Be.eq=function(e){return!this.cmp(e)};Be.exponent=function(){return dr(this)};Be.greaterThan=Be.gt=function(e){return this.cmp(e)>0};Be.greaterThanOrEqualTo=Be.gte=function(e){return this.cmp(e)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(e){return this.cmp(e)<0};Be.lessThanOrEqualTo=Be.lte=function(e){return this.cmp(e)<1};Be.logarithm=Be.log=function(e){var t,r=this,a=r.constructor,s=a.precision,o=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(wn))throw Error(qn+"NaN");if(r.s<1)throw Error(qn+(r.s?"NaN":"-Infinity"));return r.eq(wn)?new a(0):(Ut=!1,t=ts(zc(r,o),zc(e,o),o),Ut=!0,Ct(t,s))};Be.minus=Be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vA(t,e):xA(t,(e.s=-e.s,e))};Be.modulo=Be.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(qn+"NaN");return r.s?(Ut=!1,t=ts(r,e,0,1).times(e),Ut=!0,r.minus(t)):Ct(new a(r),s)};Be.naturalExponential=Be.exp=function(){return yA(this)};Be.naturalLogarithm=Be.ln=function(){return zc(this)};Be.negated=Be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Be.plus=Be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xA(t,e):vA(t,(e.s=-e.s,e))};Be.precision=Be.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ri+e);if(t=dr(s)+1,a=s.d.length-1,r=a*Dt+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};Be.squareRoot=Be.sqrt=function(){var e,t,r,a,s,o,c,d=this,u=d.constructor;if(d.s<1){if(!d.s)return new u(0);throw Error(qn+"NaN")}for(e=dr(d),Ut=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=va(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=fl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new u(t)):a=new u(s.toString()),r=u.precision,s=c=r+3;;)if(o=a,a=o.plus(ts(d,o,c+2)).times(.5),va(o.d).slice(0,c)===(t=va(a.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Ct(o,r+1,0),o.times(o).eq(d)){a=o;break}}else if(t!="9999")break;c+=4}return Ut=!0,Ct(a,r)};Be.times=Be.mul=function(e){var t,r,a,s,o,c,d,u,p,f=this,h=f.constructor,v=f.d,y=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,r=f.e+e.e,u=v.length,p=y.length,u<p&&(o=v,v=y,y=o,c=u,u=p,p=c),o=[],c=u+p,a=c;a--;)o.push(0);for(a=p;--a>=0;){for(t=0,s=u+a;s>a;)d=o[s]+y[a]*v[s-a-1]+t,o[s--]=d%kr|0,t=d/kr|0;o[s]=(o[s]+t)%kr|0}for(;!o[--c];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Ut?Ct(e,h.precision):e};Be.toDecimalPlaces=Be.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(ka(e,0,ml),t===void 0?t=a.rounding:ka(t,0,8),Ct(r,e+dr(r)+1,t))};Be.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=Gi(a,!0):(ka(e,0,ml),t===void 0?t=s.rounding:ka(t,0,8),a=Ct(new s(a),e+1,t),r=Gi(a,!0,e+1)),r};Be.toFixed=function(e,t){var r,a,s=this,o=s.constructor;return e===void 0?Gi(s):(ka(e,0,ml),t===void 0?t=o.rounding:ka(t,0,8),a=Ct(new o(s),e+dr(s)+1,t),r=Gi(a.abs(),!1,e+dr(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Be.toInteger=Be.toint=function(){var e=this,t=e.constructor;return Ct(new t(e),dr(e)+1,t.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(e){var t,r,a,s,o,c,d=this,u=d.constructor,p=12,f=+(e=new u(e));if(!e.s)return new u(wn);if(d=new u(d),!d.s){if(e.s<1)throw Error(qn+"Infinity");return d}if(d.eq(wn))return d;if(a=u.precision,e.eq(wn))return Ct(d,a);if(t=e.e,r=e.d.length-1,c=t>=r,o=d.s,c){if((r=f<0?-f:f)<=gA){for(s=new u(wn),t=Math.ceil(a/Dt+4),Ut=!1;r%2&&(s=s.times(d),v2(s.d,t)),r=fl(r/2),r!==0;)d=d.times(d),v2(d.d,t);return Ut=!0,e.s<0?new u(wn).div(s):Ct(s,a)}}else if(o<0)throw Error(qn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,Ut=!1,s=e.times(zc(d,a+p)),Ut=!0,s=yA(s),s.s=o,s};Be.toPrecision=function(e,t){var r,a,s=this,o=s.constructor;return e===void 0?(r=dr(s),a=Gi(s,r<=o.toExpNeg||r>=o.toExpPos)):(ka(e,1,ml),t===void 0?t=o.rounding:ka(t,0,8),s=Ct(new o(s),e,t),r=dr(s),a=Gi(s,e<=r||r<=o.toExpNeg,e)),a};Be.toSignificantDigits=Be.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(ka(e,1,ml),t===void 0?t=a.rounding:ka(t,0,8)),Ct(new a(r),e,t)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=dr(e),r=e.constructor;return Gi(e,t<=r.toExpNeg||t>=r.toExpPos)};function xA(e,t){var r,a,s,o,c,d,u,p,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Ut?Ct(t,h):t;if(u=e.d,p=t.d,c=e.e,s=t.e,u=u.slice(),o=c-s,o){for(o<0?(a=u,o=-o,d=p.length):(a=p,s=c,d=u.length),c=Math.ceil(h/Dt),d=c>d?c+1:d+1,o>d&&(o=d,a.length=1),a.reverse();o--;)a.push(0);a.reverse()}for(d=u.length,o=p.length,d-o<0&&(o=d,a=p,p=u,u=a),r=0;o;)r=(u[--o]=u[o]+p[o]+r)/kr|0,u[o]%=kr;for(r&&(u.unshift(r),++s),d=u.length;u[--d]==0;)u.pop();return t.d=u,t.e=s,Ut?Ct(t,h):t}function ka(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ri+e)}function va(e){var t,r,a,s=e.length-1,o="",c=e[0];if(s>0){for(o+=c,t=1;t<s;t++)a=e[t]+"",r=Dt-a.length,r&&(o+=Vs(r)),o+=a;c=e[t],a=c+"",r=Dt-a.length,r&&(o+=Vs(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var ts=(function(){function e(a,s){var o,c=0,d=a.length;for(a=a.slice();d--;)o=a[d]*s+c,a[d]=o%kr|0,c=o/kr|0;return c&&a.unshift(c),a}function t(a,s,o,c){var d,u;if(o!=c)u=o>c?1:-1;else for(d=u=0;d<o;d++)if(a[d]!=s[d]){u=a[d]>s[d]?1:-1;break}return u}function r(a,s,o){for(var c=0;o--;)a[o]-=c,c=a[o]<s[o]?1:0,a[o]=c*kr+a[o]-s[o];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,o,c){var d,u,p,f,h,v,y,N,j,b,_,S,C,E,P,O,T,U,M=a.constructor,z=a.s==s.s?1:-1,I=a.d,q=s.d;if(!a.s)return new M(a);if(!s.s)throw Error(qn+"Division by zero");for(u=a.e-s.e,T=q.length,P=I.length,y=new M(z),N=y.d=[],p=0;q[p]==(I[p]||0);)++p;if(q[p]>(I[p]||0)&&--u,o==null?S=o=M.precision:c?S=o+(dr(a)-dr(s))+1:S=o,S<0)return new M(0);if(S=S/Dt+2|0,p=0,T==1)for(f=0,q=q[0],S++;(p<P||f)&&S--;p++)C=f*kr+(I[p]||0),N[p]=C/q|0,f=C%q|0;else{for(f=kr/(q[0]+1)|0,f>1&&(q=e(q,f),I=e(I,f),T=q.length,P=I.length),E=T,j=I.slice(0,T),b=j.length;b<T;)j[b++]=0;U=q.slice(),U.unshift(0),O=q[0],q[1]>=kr/2&&++O;do f=0,d=t(q,j,T,b),d<0?(_=j[0],T!=b&&(_=_*kr+(j[1]||0)),f=_/O|0,f>1?(f>=kr&&(f=kr-1),h=e(q,f),v=h.length,b=j.length,d=t(h,j,v,b),d==1&&(f--,r(h,T<v?U:q,v))):(f==0&&(d=f=1),h=q.slice()),v=h.length,v<b&&h.unshift(0),r(j,h,b),d==-1&&(b=j.length,d=t(q,j,T,b),d<1&&(f++,r(j,T<b?U:q,b))),b=j.length):d===0&&(f++,j=[0]),N[p++]=f,d&&j[0]?j[b++]=I[E]||0:(j=[I[E]],b=1);while((E++<P||j[0]!==void 0)&&S--)}return N[0]||N.shift(),y.e=u,Ct(y,c?o+dr(y)+1:o)}})();function yA(e,t){var r,a,s,o,c,d,u=0,p=0,f=e.constructor,h=f.precision;if(dr(e)>16)throw Error(av+dr(e));if(!e.s)return new f(wn);for(Ut=!1,d=h,c=new f(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(a=Math.log(Ti(2,p))/Math.LN10*2+5|0,d+=a,r=s=o=new f(wn),f.precision=d;;){if(s=Ct(s.times(e),d),r=r.times(++u),c=o.plus(ts(s,r,d)),va(c.d).slice(0,d)===va(o.d).slice(0,d)){for(;p--;)o=Ct(o.times(o),d);return f.precision=h,t==null?(Ut=!0,Ct(o,h)):o}o=c}}function dr(e){for(var t=e.e*Dt,r=e.d[0];r>=10;r/=10)t++;return t}function yx(e,t,r){if(t>e.LN10.sd())throw Ut=!0,r&&(e.precision=r),Error(qn+"LN10 precision limit exceeded");return Ct(new e(e.LN10),t)}function Vs(e){for(var t="";e--;)t+="0";return t}function zc(e,t){var r,a,s,o,c,d,u,p,f,h=1,v=10,y=e,N=y.d,j=y.constructor,b=j.precision;if(y.s<1)throw Error(qn+(y.s?"NaN":"-Infinity"));if(y.eq(wn))return new j(0);if(t==null?(Ut=!1,p=b):p=t,y.eq(10))return t==null&&(Ut=!0),yx(j,p);if(p+=v,j.precision=p,r=va(N),a=r.charAt(0),o=dr(y),Math.abs(o)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)y=y.times(e),r=va(y.d),a=r.charAt(0),h++;o=dr(y),a>1?(y=new j("0."+r),o++):y=new j(a+"."+r.slice(1))}else return u=yx(j,p+2,b).times(o+""),y=zc(new j(a+"."+r.slice(1)),p-v).plus(u),j.precision=b,t==null?(Ut=!0,Ct(y,b)):y;for(d=c=y=ts(y.minus(wn),y.plus(wn),p),f=Ct(y.times(y),p),s=3;;){if(c=Ct(c.times(f),p),u=d.plus(ts(c,new j(s),p)),va(u.d).slice(0,p)===va(d.d).slice(0,p))return d=d.times(2),o!==0&&(d=d.plus(yx(j,p+2,b).times(o+""))),d=ts(d,new j(h),p),j.precision=b,t==null?(Ut=!0,Ct(d,b)):d;d=u,s+=2}}function y2(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=fl(r/Dt),e.d=[],a=(r+1)%Dt,r<0&&(a+=Dt),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=Dt;a<s;)e.d.push(+t.slice(a,a+=Dt));t=t.slice(a),a=Dt-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Ut&&(e.e>Km||e.e<-Km))throw Error(av+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ct(e,t,r){var a,s,o,c,d,u,p,f,h=e.d;for(c=1,o=h[0];o>=10;o/=10)c++;if(a=t-c,a<0)a+=Dt,s=t,p=h[f=0];else{if(f=Math.ceil((a+1)/Dt),o=h.length,f>=o)return e;for(p=o=h[f],c=1;o>=10;o/=10)c++;a%=Dt,s=a-Dt+c}if(r!==void 0&&(o=Ti(10,c-s-1),d=p/o%10|0,u=t<0||h[f+1]!==void 0||p%o,u=r<4?(d||u)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||u||r==6&&(a>0?s>0?p/Ti(10,c-s):0:h[f-1])%10&1||r==(e.s<0?8:7))),t<1||!h[0])return u?(o=dr(e),h.length=1,t=t-o-1,h[0]=Ti(10,(Dt-t%Dt)%Dt),e.e=fl(-t/Dt)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(a==0?(h.length=f,o=1,f--):(h.length=f+1,o=Ti(10,Dt-a),h[f]=s>0?(p/Ti(10,c-s)%Ti(10,s)|0)*o:0),u)for(;;)if(f==0){(h[0]+=o)==kr&&(h[0]=1,++e.e);break}else{if(h[f]+=o,h[f]!=kr)break;h[f--]=0,o=1}for(a=h.length;h[--a]===0;)h.pop();if(Ut&&(e.e>Km||e.e<-Km))throw Error(av+dr(e));return e}function vA(e,t){var r,a,s,o,c,d,u,p,f,h,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),Ut?Ct(t,y):t;if(u=e.d,h=t.d,a=t.e,p=e.e,u=u.slice(),c=p-a,c){for(f=c<0,f?(r=u,c=-c,d=h.length):(r=h,a=p,d=u.length),s=Math.max(Math.ceil(y/Dt),d)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=u.length,d=h.length,f=s<d,f&&(d=s),s=0;s<d;s++)if(u[s]!=h[s]){f=u[s]<h[s];break}c=0}for(f&&(r=u,u=h,h=r,t.s=-t.s),d=u.length,s=h.length-d;s>0;--s)u[d++]=0;for(s=h.length;s>c;){if(u[--s]<h[s]){for(o=s;o&&u[--o]===0;)u[o]=kr-1;--u[o],u[s]+=kr}u[s]-=h[s]}for(;u[--d]===0;)u.pop();for(;u[0]===0;u.shift())--a;return u[0]?(t.d=u,t.e=a,Ut?Ct(t,y):t):new v(0)}function Gi(e,t,r){var a,s=dr(e),o=va(e.d),c=o.length;return t?(r&&(a=r-c)>0?o=o.charAt(0)+"."+o.slice(1)+Vs(a):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+Vs(-s-1)+o,r&&(a=r-c)>0&&(o+=Vs(a))):s>=c?(o+=Vs(s+1-c),r&&(a=r-s-1)>0&&(o=o+"."+Vs(a))):((a=s+1)<c&&(o=o.slice(0,a)+"."+o.slice(a)),r&&(a=r-c)>0&&(s+1===c&&(o+="."),o+=Vs(a))),e.s<0?"-"+o:o}function v2(e,t){if(e.length>t)return e.length=t,!0}function bA(e){var t,r,a;function s(o){var c=this;if(!(c instanceof s))return new s(o);if(c.constructor=s,o instanceof s){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ri+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return y2(c,o.toString())}else if(typeof o!="string")throw Error(Ri+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,jF.test(o))y2(c,o);else throw Error(Ri+o)}if(s.prototype=Be,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=bA,s.config=s.set=wF,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function wF(e){if(!e||typeof e!="object")throw Error(qn+"Object expected");var t,r,a,s=["precision",1,ml,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(fl(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Ri+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Ri+r+": "+a);return this}var sv=bA(bF);wn=new sv(1);const _t=sv;var NF=e=>e,jA={},wA=e=>e===jA,b2=e=>function t(){return arguments.length===0||arguments.length===1&&wA(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},NA=(e,t)=>e===1?t:b2(function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];var o=a.filter(c=>c!==jA).length;return o>=e?t(...a):NA(e-o,b2(function(){for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];var p=a.map(f=>wA(f)?d.shift():f);return t(...p,...d)}))}),_F=e=>NA(e.length,e),Ey=(e,t)=>{for(var r=[],a=e;a<t;++a)r[a-e]=a;return r},kF=_F((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),SF=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return NF;var s=r.reverse(),o=s[0],c=s.slice(1);return function(){return c.reduce((d,u)=>u(d),o(...arguments))}};function _A(e){var t;return e===0?t=1:t=Math.floor(new _t(e).abs().log(10).toNumber())+1,t}function kA(e,t,r){for(var a=new _t(e),s=0,o=[];a.lt(t)&&s<1e5;)o.push(a.toNumber()),a=a.add(r),s++;return o}var SA=e=>{var[t,r]=e,[a,s]=[t,r];return t>r&&([a,s]=[r,t]),[a,s]},PA=(e,t,r)=>{if(e.lte(0))return new _t(0);var a=_A(e.toNumber()),s=new _t(10).pow(a),o=e.div(s),c=a!==1?.05:.1,d=new _t(Math.ceil(o.div(c).toNumber())).add(r).mul(c),u=d.mul(s);return t?new _t(u.toNumber()):new _t(Math.ceil(u.toNumber()))},PF=(e,t,r)=>{var a=new _t(1),s=new _t(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(a=new _t(10).pow(_A(e)-1),s=new _t(Math.floor(s.div(a).toNumber())).mul(a)):o>1&&(s=new _t(Math.floor(e)))}else e===0?s=new _t(Math.floor((t-1)/2)):r||(s=new _t(Math.floor(e)));var c=Math.floor((t-1)/2),d=SF(kF(u=>s.add(new _t(u-c).mul(a)).toNumber()),Ey);return d(0,t)},CA=function(t,r,a,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(a-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var c=PA(new _t(r).sub(t).div(a-1),s,o),d;t<=0&&r>=0?d=new _t(0):(d=new _t(t).add(r).div(2),d=d.sub(new _t(d).mod(c)));var u=Math.ceil(d.sub(t).div(c).toNumber()),p=Math.ceil(new _t(r).sub(d).div(c).toNumber()),f=u+p+1;return f>a?CA(t,r,a,s,o+1):(f<a&&(p=r>0?p+(a-f):p,u=r>0?u:u+(a-f)),{step:c,tickMin:d.sub(new _t(u).mul(c)),tickMax:d.add(new _t(p).mul(c))})},CF=function(t){var[r,a]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,u]=SA([r,a]);if(d===-1/0||u===1/0){var p=u===1/0?[d,...Ey(0,s-1).map(()=>1/0)]:[...Ey(0,s-1).map(()=>-1/0),u];return r>a?p.reverse():p}if(d===u)return PF(d,s,o);var{step:f,tickMin:h,tickMax:v}=CA(d,u,c,o,0),y=kA(h,v.add(new _t(.1).mul(f)),f);return r>a?y.reverse():y},AF=function(t,r){var[a,s]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=SA([a,s]);if(c===-1/0||d===1/0)return[a,s];if(c===d)return[c];var u=Math.max(r,2),p=PA(new _t(d).sub(c).div(u-1),o,0),f=[...kA(new _t(c),new _t(d),p),d];return o===!1&&(f=f.map(h=>Math.round(h))),a>s?f.reverse():f},AA=e=>e.rootProps.maxBarSize,EF=e=>e.rootProps.barGap,EA=e=>e.rootProps.barCategoryGap,OF=e=>e.rootProps.barSize,nd=e=>e.rootProps.stackOffset,OA=e=>e.rootProps.reverseStackOrder,iv=e=>e.options.chartName,ov=e=>e.rootProps.syncId,TA=e=>e.rootProps.syncMethod,lv=e=>e.options.eventEmitter,TF=e=>e.rootProps.baseValue,ar={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ha={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ff=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},IF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ha.angleAxisId,includeHidden:!1,name:void 0,reversed:Ha.reversed,scale:Ha.scale,tick:Ha.tick,tickCount:void 0,ticks:void 0,type:Ha.type,unit:void 0},MF={allowDataOverflow:jn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,ticks:void 0,type:jn.type,unit:void 0},DF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ha.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ha.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ha.scale,tick:Ha.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},LF={allowDataOverflow:jn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,ticks:void 0,type:"category",unit:void 0},cv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?DF:IF,dv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?LF:MF,Bf=e=>e.polarOptions,uv=ae([vs,bs,gr],AC),IA=ae([Bf,uv],(e,t)=>{if(e!=null)return Gr(e.innerRadius,t,0)}),MA=ae([Bf,uv],(e,t)=>{if(e!=null)return Gr(e.outerRadius,t,t*.8)}),$F=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},DA=ae([Bf],$F);ae([cv,DA],Ff);var LA=ae([uv,IA,MA],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ae([dv,LA],Ff);var $A=ae([ut,Bf,IA,MA,vs,bs],(e,t,r,a,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||a==null)){var{cx:c,cy:d,startAngle:u,endAngle:p}=t;return{cx:Gr(c,s,s/2),cy:Gr(d,o,o/2),innerRadius:r,outerRadius:a,startAngle:u,endAngle:p,clockWise:!1}}}),Kt=(e,t)=>t,ad=(e,t,r)=>r;function Uf(e){return e?.id}function zA(e,t,r){var{chartData:a=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=r,c=new Map;return e.forEach(d=>{var u,p=(u=d.data)!==null&&u!==void 0?u:a;if(!(p==null||p.length===0)){var f=Uf(d);p.forEach((h,v)=>{var y=o==null||s?v:String(jt(h,o,null)),N=jt(h,d.dataKey,0),j;c.has(y)?j=c.get(y):j={},Object.assign(j,{[f]:N}),c.set(y,j)})}}),Array.from(c.values())}function qf(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Kf=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Wf(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function zF(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var yr=e=>{var t=ut(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},pl=e=>e.tooltip.settings.axisId;function j2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j2(Object(r),!0).forEach(function(a){RF(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function RF(e,t,r){return(t=FF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FF(e){var t=BF(e,"string");return typeof t=="symbol"?t:t+""}function BF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oy=[0,"auto"],Nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},RA=(e,t)=>e.cartesianAxis.xAxis[t],Ns=(e,t)=>{var r=RA(e,t);return r??Nr},_r={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Oy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xc},FA=(e,t)=>e.cartesianAxis.yAxis[t],_s=(e,t)=>{var r=FA(e,t);return r??_r},UF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},mv=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??UF},Vt=(e,t,r)=>{switch(t){case"xAxis":return Ns(e,r);case"yAxis":return _s(e,r);case"zAxis":return mv(e,r);case"angleAxis":return cv(e,r);case"radiusAxis":return dv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},qF=(e,t,r)=>{switch(t){case"xAxis":return Ns(e,r);case"yAxis":return _s(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sd=(e,t,r)=>{switch(t){case"xAxis":return Ns(e,r);case"yAxis":return _s(e,r);case"angleAxis":return cv(e,r);case"radiusAxis":return dv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},BA=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fv(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var id=e=>e.graphicalItems.cartesianItems,KF=ae([Kt,ad],fv),pv=(e,t,r)=>e.filter(r).filter(a=>t?.includeHidden===!0?!0:!a.hide),od=ae([id,Vt,KF],pv,{memoizeOptions:{resultEqualityCheck:Wf}}),UA=ae([od],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(qf)),qA=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),WF=ae([od],qA),hv=e=>e.map(t=>t.data).filter(Boolean).flat(1),HF=ae([od],hv,{memoizeOptions:{resultEqualityCheck:Wf}}),gv=(e,t)=>{var{chartData:r=[],dataStartIndex:a,dataEndIndex:s}=t;return e.length>0?e:r.slice(a,s+1)},xv=ae([HF,nv],gv),yv=(e,t,r)=>t?.dataKey!=null?e.map(a=>({value:jt(a,t.dataKey)})):r.length>0?r.map(a=>a.dataKey).flatMap(a=>e.map(s=>({value:jt(s,a)}))):e.map(a=>({value:a})),Hf=ae([xv,Vt,od],yv);function KA(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nm(e){if(Na(e)||e instanceof Date){var t=Number(e);if(At(t))return t}}function w2(e){if(Array.isArray(e)){var t=[nm(e[0]),nm(e[1])];return ai(t)?t:void 0}var r=nm(e);if(r!=null)return[r,r]}function gs(e){return e.map(nm).filter(R6)}function VF(e,t,r){return!r||typeof t!="number"||Bn(t)?[]:r.length?gs(r.flatMap(a=>{var s=jt(e,a.dataKey),o,c;if(Array.isArray(s)?[o,c]=s:o=c=s,!(!At(o)||!At(c)))return[t-o,t+c]})):[]}var vr=e=>{var t=yr(e),r=pl(e);return sd(e,t,r)},ld=ae([vr],e=>e?.dataKey),GF=ae([UA,nv,vr],zA),WA=(e,t,r,a)=>{var s={},o=t.reduce((c,d)=>{if(d.stackId==null)return c;var u=c[d.stackId];return u==null&&(u=[]),u.push(d),c[d.stackId]=u,c},s);return Object.fromEntries(Object.entries(o).map(c=>{var[d,u]=c,p=a?[...u].reverse():u,f=p.map(Uf);return[d,{stackedData:mL(e,f,r),graphicalItems:p}]}))},Hm=ae([GF,UA,nd,OA],WA),HA=(e,t,r,a)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(a==null&&r!=="zAxis"){var c=gL(e,s,o);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},YF=ae([Vt],e=>e.allowDataOverflow),vv=e=>{var t;if(e==null||!("domain"in e))return Oy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=gs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Oy},bv=ae([Vt],vv),jv=ae([bv,YF],hA),XF=ae([Hm,ws,Kt,jv],HA,{memoizeOptions:{resultEqualityCheck:Kf}}),Vf=e=>e.errorBars,JF=(e,t,r)=>e.flatMap(a=>t[a.id]).filter(Boolean).filter(a=>KA(r,a)),Vm=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.filter(Boolean);if(s.length!==0){var o=s.flat(),c=Math.min(...o),d=Math.max(...o);return[c,d]}},wv=(e,t,r,a,s)=>{var o,c;if(r.length>0&&e.forEach(d=>{r.forEach(u=>{var p,f,h=(p=a[u.id])===null||p===void 0?void 0:p.filter(_=>KA(s,_)),v=jt(d,(f=t.dataKey)!==null&&f!==void 0?f:u.dataKey),y=VF(d,v,h);if(y.length>=2){var N=Math.min(...y),j=Math.max(...y);(o==null||N<o)&&(o=N),(c==null||j>c)&&(c=j)}var b=w2(v);b!=null&&(o=o==null?b[0]:Math.min(o,b[0]),c=c==null?b[1]:Math.max(c,b[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var u=w2(jt(d,t.dataKey));u!=null&&(o=o==null?u[0]:Math.min(o,u[0]),c=c==null?u[1]:Math.max(c,u[1]))}),At(o)&&At(c))return[o,c]},ZF=ae([xv,Vt,WF,Vf,Kt],wv,{memoizeOptions:{resultEqualityCheck:Kf}});function QF(e){var{value:t}=e;if(Na(t)||t instanceof Date)return t}var eB=(e,t,r)=>{var a=e.map(QF).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&oP(a))?IC(0,e.length):t.allowDuplicatedCategory?a:Array.from(new Set(a))},VA=e=>e.referenceElements.dots,hl=(e,t,r)=>e.filter(a=>a.ifOverflow==="extendDomain").filter(a=>t==="xAxis"?a.xAxisId===r:a.yAxisId===r),tB=ae([VA,Kt,ad],hl),GA=e=>e.referenceElements.areas,rB=ae([GA,Kt,ad],hl),YA=e=>e.referenceElements.lines,nB=ae([YA,Kt,ad],hl),XA=(e,t)=>{if(e!=null){var r=gs(e.map(a=>t==="xAxis"?a.x:a.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},aB=ae(tB,Kt,XA),JA=(e,t)=>{if(e!=null){var r=gs(e.flatMap(a=>[t==="xAxis"?a.x1:a.y1,t==="xAxis"?a.x2:a.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},sB=ae([rB,Kt],JA);function iB(e){var t;if(e.x!=null)return gs([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.x);return r==null||r.length===0?[]:gs(r)}function oB(e){var t;if(e.y!=null)return gs([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(a=>a.y);return r==null||r.length===0?[]:gs(r)}var ZA=(e,t)=>{if(e!=null){var r=e.flatMap(a=>t==="xAxis"?iB(a):oB(a));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lB=ae([nB,Kt],ZA),cB=ae(aB,lB,sB,(e,t,r)=>Vm(e,r,t)),Nv=(e,t,r,a,s,o,c,d)=>{if(r!=null)return r;var u=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",p=u?Vm(a,o,s):Vm(o,s);return vF(t,p,e.allowDataOverflow)},dB=ae([Vt,bv,jv,XF,ZF,cB,ut,Kt],Nv,{memoizeOptions:{resultEqualityCheck:Kf}}),uB=[0,1],_v=(e,t,r,a,s,o,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:d,type:u}=e,p=Oa(t,o);if(p&&d==null){var f;return IC(0,(f=r?.length)!==null&&f!==void 0?f:0)}return u==="category"?eB(a,e,p):s==="expand"?uB:c}},kv=ae([Vt,ut,xv,Hf,nd,Kt,dB],_v),QA=(e,t,r,a,s)=>{if(e!=null){var{scale:o,type:c}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&a&&(a.indexOf("LineChart")>=0||a.indexOf("AreaChart")>=0||a.indexOf("ComposedChart")>=0&&!r)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(Wc(o));return d in vc?d:"point"}}},gl=ae([Vt,ut,BA,iv,Kt],QA);function mB(e){if(e!=null){if(e in vc)return vc[e]();var t="scale".concat(Wc(e));if(t in vc)return vc[t]()}}function Sv(e,t,r,a){if(!(r==null||a==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(a);var s=mB(t);if(s!=null){var o=s.domain(r).range(a);return oL(o),o}}}var Pv=(e,t,r)=>{var a=vv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(a)&&(a[0]==="auto"||a[1]==="auto")&&ai(e))return CF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ai(e))return AF(e,t.tickCount,t.allowDecimals)}},Cv=ae([kv,sd,gl],Pv),Av=(e,t,r,a)=>{if(a!=="angleAxis"&&e?.type==="number"&&ai(t)&&Array.isArray(r)&&r.length>0){var s=t[0],o=r[0],c=t[1],d=r[r.length-1];return[Math.min(s,o),Math.max(c,d)]}return t},fB=ae([Vt,kv,Cv,Kt],Av),pB=ae(Hf,Vt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,a=Array.from(gs(e.map(h=>h.value))).sort((h,v)=>h-v),s=a[0],o=a[a.length-1];if(s==null||o==null)return 1/0;var c=o-s;if(c===0)return 1/0;for(var d=0;d<a.length-1;d++){var u=a[d],p=a[d+1];if(!(u==null||p==null)){var f=p-u;r=Math.min(r,f)}}return r/c}}),e4=ae(pB,ut,EA,gr,(e,t,r,a,s)=>s,(e,t,r,a,s)=>{if(!At(e))return 0;var o=t==="vertical"?a.height:a.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var c=Gr(r,e*o),d=e*o/2;return d-c-(d-c)/o*c}return 0}),hB=(e,t,r)=>{var a=Ns(e,t);return a==null||typeof a.padding!="string"?0:e4(e,"xAxis",t,r,a.padding)},gB=(e,t,r)=>{var a=_s(e,t);return a==null||typeof a.padding!="string"?0:e4(e,"yAxis",t,r,a.padding)},xB=ae(Ns,hB,(e,t)=>{var r,a;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((a=s.right)!==null&&a!==void 0?a:0)+t}}),yB=ae(_s,gB,(e,t)=>{var r,a;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((a=s.bottom)!==null&&a!==void 0?a:0)+t}}),vB=ae([gr,xB,Sf,kf,(e,t,r)=>r],(e,t,r,a,s)=>{var{padding:o}=a;return s?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),bB=ae([gr,ut,yB,Sf,kf,(e,t,r)=>r],(e,t,r,a,s,o)=>{var{padding:c}=s;return o?[a.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),cd=(e,t,r,a)=>{var s;switch(t){case"xAxis":return vB(e,r,a);case"yAxis":return bB(e,r,a);case"zAxis":return(s=mv(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return DA(e);case"radiusAxis":return LA(e,r);default:return}},t4=ae([Vt,cd],Ff),Gf=ae([Vt,gl,fB,t4],Sv);ae([od,Vf,Kt],JF);function r4(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yf=(e,t)=>t,Xf=(e,t,r)=>r,jB=ae(Nf,Yf,Xf,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(r4)),wB=ae(_f,Yf,Xf,(e,t,r)=>e.filter(a=>a.orientation===t).filter(a=>a.mirror===r).sort(r4)),n4=(e,t)=>({width:e.width,height:t.height}),NB=(e,t)=>{var r=typeof t.width=="number"?t.width:Xc;return{width:r,height:e.height}},a4=ae(gr,Ns,n4),_B=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},kB=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},SB=ae(bs,gr,jB,Yf,Xf,(e,t,r,a,s)=>{var o={},c;return r.forEach(d=>{var u=n4(t,d);c==null&&(c=_B(t,a,e));var p=a==="top"&&!s||a==="bottom"&&s;o[d.id]=c-Number(p)*u.height,c+=(p?-1:1)*u.height}),o}),PB=ae(vs,gr,wB,Yf,Xf,(e,t,r,a,s)=>{var o={},c;return r.forEach(d=>{var u=NB(t,d);c==null&&(c=kB(t,a,e));var p=a==="left"&&!s||a==="right"&&s;o[d.id]=c-Number(p)*u.width,c+=(p?-1:1)*u.width}),o}),CB=(e,t)=>{var r=Ns(e,t);if(r!=null)return SB(e,r.orientation,r.mirror)},AB=ae([gr,Ns,CB,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),EB=(e,t)=>{var r=_s(e,t);if(r!=null)return PB(e,r.orientation,r.mirror)},OB=ae([gr,_s,EB,(e,t)=>t],(e,t,r,a)=>{if(t!=null){var s=r?.[a];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),s4=ae(gr,_s,(e,t)=>{var r=typeof t.width=="number"?t.width:Xc;return{width:r,height:e.height}}),N2=(e,t,r)=>{switch(t){case"xAxis":return a4(e,r).width;case"yAxis":return s4(e,r).height;default:return}},i4=(e,t,r,a)=>{if(r!=null){var{allowDuplicatedCategory:s,type:o,dataKey:c}=r,d=Oa(e,a),u=t.map(p=>p.value);if(c&&d&&o==="category"&&s&&oP(u))return u}},Ev=ae([ut,Hf,Vt,Kt],i4),o4=(e,t,r,a)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:o}=r,c=Oa(e,a);if(c&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Ov=ae([ut,Hf,sd,Kt],o4),_2=ae([ut,qF,gl,Gf,Ev,Ov,cd,Cv,Kt],(e,t,r,a,s,o,c,d,u)=>{if(t!=null){var p=Oa(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:o,duplicateDomain:s,isCategorical:p,niceTicks:d,range:c,realScaleType:r,scale:a}}}),TB=(e,t,r,a,s,o,c,d,u)=>{if(!(t==null||a==null)){var p=Oa(e,u),{type:f,ticks:h,tickCount:v}=t,y=r==="scaleBand"&&typeof a.bandwidth=="function"?a.bandwidth()/2:2,N=f==="category"&&a.bandwidth?a.bandwidth()/y:0;N=u==="angleAxis"&&o!=null&&o.length>=2?Pr(o[0]-o[1])*2*N:N;var j=h||s;if(j){var b=j.map((_,S)=>{var C=c?c.indexOf(_):_;return{index:S,coordinate:a(C)+N,value:_,offset:N}});return b.filter(_=>At(_.coordinate))}return p&&d?d.map((_,S)=>({coordinate:a(_)+N,value:_,index:S,offset:N})).filter(_=>At(_.coordinate)):a.ticks?a.ticks(v).map(_=>({coordinate:a(_)+N,value:_,offset:N})):a.domain().map((_,S)=>({coordinate:a(_)+N,value:c?c[_]:_,index:S,offset:N}))}},l4=ae([ut,sd,gl,Gf,Cv,cd,Ev,Ov,Kt],TB),IB=(e,t,r,a,s,o,c)=>{if(!(t==null||r==null||a==null||a[0]===a[1])){var d=Oa(e,c),{tickCount:u}=t,p=0;return p=c==="angleAxis"&&a?.length>=2?Pr(a[0]-a[1])*2*p:p,d&&o?o.map((f,h)=>({coordinate:r(f)+p,value:f,index:h,offset:p})):r.ticks?r.ticks(u).map(f=>({coordinate:r(f)+p,value:f,offset:p})):r.domain().map((f,h)=>({coordinate:r(f)+p,value:s?s[f]:f,index:h,offset:p}))}},Sa=ae([ut,sd,Gf,cd,Ev,Ov,Kt],IB),Pa=ae(Vt,Gf,(e,t)=>{if(!(e==null||t==null))return Wm(Wm({},e),{},{scale:t})}),MB=ae([Vt,gl,kv,t4],Sv);ae((e,t,r)=>mv(e,r),MB,(e,t)=>{if(!(e==null||t==null))return Wm(Wm({},e),{},{scale:t})});var DB=ae([ut,Nf,_f],(e,t,r)=>{switch(e){case"horizontal":return t.some(a=>a.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(a=>a.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),c4=e=>e.options.defaultTooltipEventType,d4=e=>e.options.validateTooltipEventTypes;function u4(e,t,r){if(e==null)return t;var a=e?"axis":"item";return r==null?t:r.includes(a)?a:t}function Tv(e,t){var r=c4(e),a=d4(e);return u4(t,r,a)}function LB(e){return Ue(t=>Tv(t,e))}var m4=(e,t)=>{var r,a=Number(t);if(!(Bn(a)||t==null))return a>=0?e==null||(r=e[a])===null||r===void 0?void 0:r.value:void 0},$B=e=>e.tooltip.settings,Ys={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},zB={itemInteraction:{click:Ys,hover:Ys},axisInteraction:{click:Ys,hover:Ys},keyboardInteraction:Ys,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},f4=hn({name:"tooltip",initialState:zB,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Bt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:a}=t.payload,s=na(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=a)},prepare:Bt()},removeTooltipEntrySettings:{reducer(e,t){var r=na(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Bt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:RB,replaceTooltipEntrySettings:FB,removeTooltipEntrySettings:BB,setTooltipSettingsState:UB,setActiveMouseOverItemIndex:p4,mouseLeaveItem:qB,mouseLeaveChart:h4,setActiveClickItemIndex:KB,setMouseOverAxisIndex:g4,setMouseClickAxisIndex:WB,setSyncInteraction:Ty,setKeyboardInteraction:Iy}=f4.actions,HB=f4.reducer;function k2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k2(Object(r),!0).forEach(function(a){VB(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function VB(e,t,r){return(t=GB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GB(e){var t=YB(e,"string");return typeof t=="symbol"?t:t+""}function YB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XB(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JB(e){return e.index!=null}var x4=(e,t,r,a)=>{if(t==null)return Ys;var s=XB(e,t,r);if(s==null)return Ys;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(JB(s)){if(o)return Ru(Ru({},s),{},{active:!0})}else if(a!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:a,graphicalItemId:void 0};return Ru(Ru({},Ys),{},{coordinate:s.coordinate})};function ZB(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function QB(e,t){var r=ZB(e),a=t[0],s=t[1];if(r===void 0)return!1;var o=Math.min(a,s),c=Math.max(a,s);return r>=o&&r<=c}function e7(e,t,r){if(r==null||t==null)return!0;var a=jt(e,t);return a==null||!ai(r)?!0:QB(a,r)}var Iv=(e,t,r,a)=>{var s=e?.index;if(s==null)return null;var o=Number(s);if(!At(o))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var u=Math.max(c,Math.min(o,d)),p=t[u];return p==null||e7(p,r,a)?String(u):null},y4=(e,t,r,a,s,o,c,d)=>{if(!(o==null||d==null)){var u=c[0],p=u==null?void 0:d(u.positions,o);if(p!=null)return p;var f=s?.[Number(o)];if(f)return r==="horizontal"?{x:f.coordinate,y:(a.top+t)/2}:{x:(a.left+e)/2,y:f.coordinate}}},v4=(e,t,r,a)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;if(r==="hover"?s=e.itemInteraction.hover.graphicalItemId:s=e.itemInteraction.click.graphicalItemId,s==null&&a!=null){var o=e.tooltipItemPayloads[0];return o!=null?[o]:[]}return e.tooltipItemPayloads.filter(c=>{var d;return((d=c.settings)===null||d===void 0?void 0:d.graphicalItemId)===s})},dd=e=>e.options.tooltipPayloadSearcher,xl=e=>e.tooltip;function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function P2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(a){t7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function t7(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=n7(e,"string");return typeof t=="symbol"?t:t+""}function n7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a7(e,t){return e??t}var b4=(e,t,r,a,s,o,c)=>{if(!(t==null||o==null)){var{chartData:d,computedData:u,dataStartIndex:p,dataEndIndex:f}=r,h=[];return e.reduce((v,y)=>{var N,{dataDefinedOnItem:j,settings:b}=y,_=a7(j,d),S=Array.isArray(_)?tC(_,p,f):_,C=(N=b?.dataKey)!==null&&N!==void 0?N:a,E=b?.nameKey,P;if(a&&Array.isArray(S)&&!Array.isArray(S[0])&&c==="axis"?P=lP(S,a,s):P=o(S,t,u,E),Array.isArray(P))P.forEach(T=>{var U=P2(P2({},b),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});v.push(EN({tooltipEntrySettings:U,dataKey:T.dataKey,payload:T.payload,value:jt(T.payload,T.dataKey),name:T.name}))});else{var O;v.push(EN({tooltipEntrySettings:b,dataKey:C,payload:P,value:jt(P,C),name:(O=jt(P,E))!==null&&O!==void 0?O:b?.name}))}return v},h)}},Mv=ae([vr,ut,BA,iv,yr],QA),s7=ae([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),i7=ae([yr,pl],fv),yl=ae([s7,vr,i7],pv,{memoizeOptions:{resultEqualityCheck:Wf}}),o7=ae([yl],e=>e.filter(qf)),l7=ae([yl],hv,{memoizeOptions:{resultEqualityCheck:Wf}}),vl=ae([l7,ws],gv),c7=ae([o7,ws,vr],zA),Dv=ae([vl,vr,yl],yv),j4=ae([vr],vv),d7=ae([vr],e=>e.allowDataOverflow),w4=ae([j4,d7],hA),u7=ae([yl],e=>e.filter(qf)),m7=ae([c7,u7,nd,OA],WA),f7=ae([m7,ws,yr,w4],HA),p7=ae([yl],qA),h7=ae([vl,vr,p7,Vf,yr],wv,{memoizeOptions:{resultEqualityCheck:Kf}}),g7=ae([VA,yr,pl],hl),x7=ae([g7,yr],XA),y7=ae([GA,yr,pl],hl),v7=ae([y7,yr],JA),b7=ae([YA,yr,pl],hl),j7=ae([b7,yr],ZA),w7=ae([x7,j7,v7],Vm),N7=ae([vr,j4,w4,f7,h7,w7,ut,yr],Nv),ud=ae([vr,ut,vl,Dv,nd,yr,N7],_v),_7=ae([ud,vr,Mv],Pv),k7=ae([vr,ud,_7,yr],Av),N4=e=>{var t=yr(e),r=pl(e),a=!1;return cd(e,t,r,a)},_4=ae([vr,N4],Ff),k4=ae([vr,Mv,k7,_4],Sv),S7=ae([ut,Dv,vr,yr],i4),P7=ae([ut,Dv,vr,yr],o4),C7=(e,t,r,a,s,o,c,d)=>{if(t){var{type:u}=t,p=Oa(e,d);if(a){var f=r==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,h=u==="category"&&a.bandwidth?a.bandwidth()/f:0;return h=d==="angleAxis"&&s!=null&&s?.length>=2?Pr(s[0]-s[1])*2*h:h,p&&c?c.map((v,y)=>({coordinate:a(v)+h,value:v,index:y,offset:h})):a.domain().map((v,y)=>({coordinate:a(v)+h,value:o?o[v]:v,index:y,offset:h}))}}},ks=ae([ut,vr,Mv,k4,N4,S7,P7,yr],C7),Lv=ae([c4,d4,$B],(e,t,r)=>u4(r.shared,e,t)),S4=e=>e.tooltip.settings.trigger,$v=e=>e.tooltip.settings.defaultIndex,md=ae([xl,Lv,S4,$v],x4),si=ae([md,vl,ld,ud],Iv),P4=ae([ks,si],m4),zv=ae([md],e=>{if(e)return e.dataKey}),A7=ae([md],e=>{if(e)return e.graphicalItemId}),C4=ae([xl,Lv,S4,$v],v4),E7=ae([vs,bs,ut,gr,ks,$v,C4,dd],y4),O7=ae([md,E7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),T7=ae([md],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),I7=ae([C4,si,ws,ld,P4,dd,Lv],b4),M7=ae([I7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function C2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function A2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C2(Object(r),!0).forEach(function(a){D7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function D7(e,t,r){return(t=L7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7(e){var t=$7(e,"string");return typeof t=="symbol"?t:t+""}function $7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7=()=>Ue(vr),R7=()=>{var e=z7(),t=Ue(ks),r=Ue(k4);return ni(!e||!r?void 0:A2(A2({},e),{},{scale:r}),t)};function E2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function To(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E2(Object(r),!0).forEach(function(a){F7(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function F7(e,t,r){return(t=B7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q7=(e,t,r,a)=>{var s=t.find(o=>o&&o.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:a.chartY};if(e==="vertical")return{x:a.chartX,y:s.coordinate}}return{x:0,y:0}},K7=(e,t,r,a)=>{var s=t.find(p=>p&&p.index===r);if(s){if(e==="centric"){var o=s.coordinate,{radius:c}=a;return To(To(To({},a),cr(a.cx,a.cy,c,o)),{},{angle:o,radius:c})}var d=s.coordinate,{angle:u}=a;return To(To(To({},a),cr(a.cx,a.cy,d,u)),{},{angle:u,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function W7(e,t){var{chartX:r,chartY:a}=e;return r>=t.left&&r<=t.left+t.width&&a>=t.top&&a<=t.top+t.height}var A4=(e,t,r,a,s)=>{var o,c=(o=t?.length)!==null&&o!==void 0?o:0;if(c<=1||e==null)return 0;if(a==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<c;d++){var u,p,f,h,v,y=d>0?(u=r[d-1])===null||u===void 0?void 0:u.coordinate:(p=r[c-1])===null||p===void 0?void 0:p.coordinate,N=(f=r[d])===null||f===void 0?void 0:f.coordinate,j=d>=c-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(v=r[d+1])===null||v===void 0?void 0:v.coordinate,b=void 0;if(!(y==null||N==null||j==null))if(Pr(N-y)!==Pr(j-N)){var _=[];if(Pr(j-N)===Pr(s[1]-s[0])){b=j;var S=N+s[1]-s[0];_[0]=Math.min(S,(S+y)/2),_[1]=Math.max(S,(S+y)/2)}else{b=y;var C=j+s[1]-s[0];_[0]=Math.min(N,(C+N)/2),_[1]=Math.max(N,(C+N)/2)}var E=[Math.min(N,(b+N)/2),Math.max(N,(b+N)/2)];if(e>E[0]&&e<=E[1]||e>=_[0]&&e<=_[1]){var P;return(P=r[d])===null||P===void 0?void 0:P.index}}else{var O=Math.min(y,j),T=Math.max(y,j);if(e>(O+N)/2&&e<=(T+N)/2){var U;return(U=r[d])===null||U===void 0?void 0:U.index}}}else if(t)for(var M=0;M<c;M++){var z=t[M];if(z!=null){var I=t[M+1],q=t[M-1];if(M===0&&I!=null&&e<=(z.coordinate+I.coordinate)/2||M===c-1&&q!=null&&e>(z.coordinate+q.coordinate)/2||M>0&&M<c-1&&q!=null&&I!=null&&e>(z.coordinate+q.coordinate)/2&&e<=(z.coordinate+I.coordinate)/2)return z.index}}return-1},E4=()=>Ue(iv),Rv=(e,t)=>t,O4=(e,t,r)=>r,Fv=(e,t,r,a)=>a,H7=ae(ks,e=>ff(e,t=>t.coordinate)),Bv=ae([xl,Rv,O4,Fv],x4),Uv=ae([Bv,vl,ld,ud],Iv),V7=(e,t,r)=>{if(t!=null){var a=xl(e);return t==="axis"?r==="hover"?a.axisInteraction.hover.dataKey:a.axisInteraction.click.dataKey:r==="hover"?a.itemInteraction.hover.dataKey:a.itemInteraction.click.dataKey}},T4=ae([xl,Rv,O4,Fv],v4),Gm=ae([vs,bs,ut,gr,ks,Fv,T4,dd],y4),G7=ae([Bv,Gm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),I4=ae([ks,Uv],m4),Y7=ae([T4,Uv,ws,ld,I4,dd,Rv],b4),X7=ae([Bv,Uv],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),J7=(e,t,r,a,s,o,c)=>{if(!(!e||!r||!a||!s)&&W7(e,c)){var d=xL(e,t),u=A4(d,o,s,r,a),p=q7(t,s,u,e);return{activeIndex:String(u),activeCoordinate:p}}},Z7=(e,t,r,a,s,o,c)=>{if(!(!e||!a||!s||!o||!r)){var d=Dz(e,r);if(d){var u=yL(d,t),p=A4(u,c,o,a,s),f=K7(t,o,p,d);return{activeIndex:String(p),activeCoordinate:f}}}},Q7=(e,t,r,a,s,o,c,d)=>{if(!(!e||!t||!a||!s||!o))return t==="horizontal"||t==="vertical"?J7(e,t,a,s,o,c,d):Z7(e,t,r,a,s,o,c)},e9=ae(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var a=e[t];if(a!=null)return r?a.panoramaElement:a.element}}),t9=ae(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(a=>parseInt(a,10)).concat(Object.values(ar)),r=Array.from(new Set(t));return r.sort((a,s)=>a-s)},{memoizeOptions:{resultEqualityCheck:zF}});function O2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function T2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O2(Object(r),!0).forEach(function(a){r9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function r9(e,t,r){return(t=n9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s9={},i9={zIndexMap:Object.values(ar).reduce((e,t)=>T2(T2({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),s9)},o9=new Set(Object.values(ar));function l9(e){return o9.has(e)}var M4=hn({name:"zIndex",initialState:i9,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Bt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!l9(r)&&delete e.zIndexMap[r])},prepare:Bt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:a,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElement=a:e.zIndexMap[r].element=a:e.zIndexMap[r]={consumers:0,element:s?void 0:a,panoramaElement:s?a:void 0}},prepare:Bt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Bt()}}}),{registerZIndexPortal:c9,unregisterZIndexPortal:d9,registerZIndexPortalElement:u9,unregisterZIndexPortalElement:m9}=M4.actions,f9=M4.reducer;function rn(e){var{zIndex:t,children:r}=e,a=XL(),s=a&&t!==void 0&&t!==0,o=Ar(),c=Tt();g.useLayoutEffect(()=>s?(c(c9({zIndex:t})),()=>{c(d9({zIndex:t}))}):Hc,[c,t,s]);var d=Ue(u=>e9(u,t,o));return s?d?r0.createPortal(r,d):null:r}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},My.apply(null,arguments)}function I2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(r),!0).forEach(function(a){p9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function p9(e,t,r){return(t=h9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h9(e){var t=g9(e,"string");return typeof t=="symbol"?t:t+""}function g9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x9(e){var{cursor:t,cursorComp:r,cursorProps:a}=e;return g.isValidElement(t)?g.cloneElement(t,a):g.createElement(r,a)}function y9(e){var t,{coordinate:r,payload:a,index:s,offset:o,tooltipAxisBandSize:c,layout:d,cursor:u,tooltipEventType:p,chartName:f}=e,h=r,v=a,y=s;if(!u||!h||f!=="ScatterChart"&&p!=="axis")return null;var N,j,b;if(f==="ScatterChart")N=h,j=Y$,b=ar.cursorLine;else if(f==="BarChart")N=X$(d,h,o,c),j=CC,b=ar.cursorRectangle;else if(d==="radial"&&dP(h)){var{cx:_,cy:S,radius:C,startAngle:E,endAngle:P}=EC(h);N={cx:_,cy:S,startAngle:E,endAngle:P,innerRadius:C,outerRadius:C},j=TC,b=ar.cursorLine}else N={points:Rz(d,h,o)},j=Wo,b=ar.cursorLine;var O=typeof u=="object"&&"className"in u?u.className:void 0,T=Fu(Fu(Fu(Fu({stroke:"#ccc",pointerEvents:"none"},o),N),Ui(u)),{},{payload:v,payloadIndex:y,className:ft("recharts-tooltip-cursor",O)});return g.createElement(rn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},g.createElement(x9,{cursor:u,cursorComp:j,cursorProps:T}))}function v9(e){var t=R7(),r=mC(),a=ci(),s=E4();return t==null||r==null||a==null||s==null?null:g.createElement(y9,My({},e,{offset:r,layout:a,tooltipAxisBandSize:t,chartName:s}))}var D4=g.createContext(null),b9=()=>g.useContext(D4),vx={exports:{}},M2;function j9(){return M2||(M2=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(u,p,f){this.fn=u,this.context=p,this.once=f||!1}function o(u,p,f,h,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new s(f,h||u,v),N=r?r+p:p;return u._events[N]?u._events[N].fn?u._events[N]=[u._events[N],y]:u._events[N].push(y):(u._events[N]=y,u._eventsCount++),u}function c(u,p){--u._eventsCount===0?u._events=new a:delete u._events[p]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],f,h;if(this._eventsCount===0)return p;for(h in f=this._events)t.call(f,h)&&p.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},d.prototype.listeners=function(p){var f=r?r+p:p,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var v=0,y=h.length,N=new Array(y);v<y;v++)N[v]=h[v].fn;return N},d.prototype.listenerCount=function(p){var f=r?r+p:p,h=this._events[f];return h?h.fn?1:h.length:0},d.prototype.emit=function(p,f,h,v,y,N){var j=r?r+p:p;if(!this._events[j])return!1;var b=this._events[j],_=arguments.length,S,C;if(b.fn){switch(b.once&&this.removeListener(p,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,v),!0;case 5:return b.fn.call(b.context,f,h,v,y),!0;case 6:return b.fn.call(b.context,f,h,v,y,N),!0}for(C=1,S=new Array(_-1);C<_;C++)S[C-1]=arguments[C];b.fn.apply(b.context,S)}else{var E=b.length,P;for(C=0;C<E;C++)switch(b[C].once&&this.removeListener(p,b[C].fn,void 0,!0),_){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,f);break;case 3:b[C].fn.call(b[C].context,f,h);break;case 4:b[C].fn.call(b[C].context,f,h,v);break;default:if(!S)for(P=1,S=new Array(_-1);P<_;P++)S[P-1]=arguments[P];b[C].fn.apply(b[C].context,S)}}return!0},d.prototype.on=function(p,f,h){return o(this,p,f,h,!1)},d.prototype.once=function(p,f,h){return o(this,p,f,h,!0)},d.prototype.removeListener=function(p,f,h,v){var y=r?r+p:p;if(!this._events[y])return this;if(!f)return c(this,y),this;var N=this._events[y];if(N.fn)N.fn===f&&(!v||N.once)&&(!h||N.context===h)&&c(this,y);else{for(var j=0,b=[],_=N.length;j<_;j++)(N[j].fn!==f||v&&!N[j].once||h&&N[j].context!==h)&&b.push(N[j]);b.length?this._events[y]=b.length===1?b[0]:b:c(this,y)}return this},d.prototype.removeAllListeners=function(p){var f;return p?(f=r?r+p:p,this._events[f]&&c(this,f)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(vx)),vx.exports}var w9=j9();const N9=ys(w9);var Rc=new N9,Dy="recharts.syncEvent.tooltip",D2="recharts.syncEvent.brush";function Jf(e,t){if(t){var r=Number.parseInt(t,10);if(!Bn(r))return e?.[r]}}var _9={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L4=hn({name:"options",initialState:_9,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),k9=L4.reducer,{createEventEmitter:S9}=L4.actions;function P9(e){return e.tooltip.syncInteraction}var C9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$4=hn({name:"chartData",initialState:C9,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:a}=t.payload;r!=null&&(e.dataStartIndex=r),a!=null&&(e.dataEndIndex=a)}}}),{setChartData:L2,setDataStartEndIndexes:A9,setComputedData:vZ}=$4.actions,E9=$4.reducer,O9=["x","y"];function $2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$2(Object(r),!0).forEach(function(a){T9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function T9(e,t,r){return(t=I9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I9(e){var t=M9(e,"string");return typeof t=="symbol"?t:t+""}function M9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D9(e,t){if(e==null)return{};var r,a,s=L9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function L9(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function $9(){var e=Ue(ov),t=Ue(lv),r=Tt(),a=Ue(TA),s=Ue(ks),o=ci(),c=Pf(),d=Ue(u=>u.rootProps.className);g.useEffect(()=>{if(e==null)return Hc;var u=(p,f,h)=>{if(t!==h&&e===p){if(a==="index"){var v;if(c&&f!==null&&f!==void 0&&(v=f.payload)!==null&&v!==void 0&&v.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x:N,y:j}=y,b=D9(y,O9),{x:_,y:S,width:C,height:E}=f.payload.sourceViewBox,P=Io(Io({},b),{},{x:c.x+(C?(N-_)/C:0)*c.width,y:c.y+(E?(j-S)/E:0)*c.height});r(Io(Io({},f),{},{payload:Io(Io({},f.payload),{},{coordinate:P})}))}else r(f);return}if(s!=null){var O;if(typeof a=="function"){var T={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},U=a(s,T);O=s[U]}else a==="value"&&(O=s.find(oe=>String(oe.value)===f.payload.label));var{coordinate:M}=f.payload;if(O==null||f.payload.active===!1||M==null||c==null){r(Ty({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:z,y:I}=M,q=Math.min(z,c.x+c.width),L=Math.min(I,c.y+c.height),D={x:o==="horizontal"?O.coordinate:q,y:o==="horizontal"?L:O.coordinate},ee=Ty({active:f.payload.active,coordinate:D,dataKey:f.payload.dataKey,index:String(O.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(ee)}}};return Rc.on(Dy,u),()=>{Rc.off(Dy,u)}},[d,r,t,e,a,s,o,c])}function z9(){var e=Ue(ov),t=Ue(lv),r=Tt();g.useEffect(()=>{if(e==null)return Hc;var a=(s,o,c)=>{t!==c&&e===s&&r(A9(o))};return Rc.on(D2,a),()=>{Rc.off(D2,a)}},[r,t,e])}function R9(){var e=Tt();g.useEffect(()=>{e(S9())},[e]),$9(),z9()}function F9(e,t,r,a,s,o){var c=Ue(y=>V7(y,e,t)),d=Ue(lv),u=Ue(ov),p=Ue(TA),f=Ue(P9),h=f?.active,v=Pf();g.useEffect(()=>{if(!h&&u!=null&&d!=null){var y=Ty({active:o,coordinate:r,dataKey:c,index:s,label:typeof a=="number"?String(a):a,sourceViewBox:v,graphicalItemId:void 0});Rc.emit(Dy,u,y,d)}},[h,r,c,s,a,d,u,p,o,v])}function z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function R2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z2(Object(r),!0).forEach(function(a){B9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function B9(e,t,r){return(t=U9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K9(e){return e.dataKey}function W9(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(C$,t)}var F2=[],H9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rs(e){var t,r,a=Qt(e,H9),{active:s,allowEscapeViewBox:o,animationDuration:c,animationEasing:d,content:u,filterNull:p,isAnimationActive:f,offset:h,payloadUniqBy:v,position:y,reverseDirection:N,useTranslate3d:j,wrapperStyle:b,cursor:_,shared:S,trigger:C,defaultIndex:E,portal:P,axisId:O}=a,T=Tt(),U=typeof E=="number"?String(E):E;g.useEffect(()=>{T(UB({shared:S,trigger:C,axisId:O,active:s,defaultIndex:U}))},[T,S,C,O,s,U]);var M=Pf(),z=NC(),I=LB(S),{activeIndex:q,isActive:L}=(t=Ue(Ne=>X7(Ne,I,C,U)))!==null&&t!==void 0?t:{},D=Ue(Ne=>Y7(Ne,I,C,U)),ee=Ue(Ne=>I4(Ne,I,C,U)),oe=Ue(Ne=>G7(Ne,I,C,U)),ie=D,W=b9(),J=(r=s??L)!==null&&r!==void 0?r:!1,[ue,K]=kP([ie,J]),te=I==="axis"?ee:void 0;F9(I,C,oe,te,q,J);var ve=P??W;if(ve==null||M==null||I==null)return null;var be=ie??F2;J||(be=F2),p&&be.length&&(be=bP(be.filter(Ne=>Ne.value!=null&&(Ne.hide!==!0||a.includeHidden)),v,K9));var Oe=be.length>0,Me=g.createElement(D$,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:f,active:J,coordinate:oe,hasPayload:Oe,offset:h,position:y,reverseDirection:N,useTranslate3d:j,viewBox:M,wrapperStyle:b,lastBoundingBox:ue,innerRef:K,hasPortalFromProps:!!P},W9(u,R2(R2({},a),{},{payload:be,label:te,active:J,activeIndex:q,coordinate:oe,accessibilityLayer:z})));return g.createElement(g.Fragment,null,r0.createPortal(Me,ve),J&&g.createElement(v9,{cursor:_,tooltipEventType:I,coordinate:oe,payload:be,index:q}))}var bl=e=>null;bl.displayName="Cell";function V9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class X9{constructor(t){V9(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var a=this.cache.keys().next().value;a!=null&&this.cache.delete(a)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function B2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function J9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B2(Object(r),!0).forEach(function(a){Z9(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Z9(e,t,r){return(t=Q9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q9(e){var t=eU(e,"string");return typeof t=="symbol"?t:t+""}function eU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tU={cacheSize:2e3,enableCache:!0},z4=J9({},tU),U2=new X9(z4.cacheSize),rU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q2="recharts_measurement_span";function nU(e,t){var r=t.fontSize||"",a=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(o,"|").concat(c,"|").concat(d)}var K2=(e,t)=>{try{var r=document.getElementById(q2);r||(r=document.createElement("span"),r.setAttribute("id",q2),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,rU,t),r.textContent="".concat(e);var a=r.getBoundingClientRect();return{width:a.width,height:a.height}}catch{return{width:0,height:0}}},jc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Zc.isSsr)return{width:0,height:0};if(!z4.enableCache)return K2(t,r);var a=nU(t,r),s=U2.get(a);if(s)return s;var o=K2(t,r);return U2.set(a,o),o},R4;function aU(e,t,r){return(t=sU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=iU(e,"string");return typeof t=="symbol"?t:t+""}function iU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,lU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dU=["cm","mm","pt","pc","in","Q","px"];function uU(e){return dU.includes(e)}var Uo="NaN";function mU(e,t){return e*cU[t]}class Dr{static parse(t){var r,[,a,s]=(r=lU.exec(t))!==null&&r!==void 0?r:[];return a==null?Dr.NaN:new Dr(parseFloat(a),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Bn(t)&&(this.unit=""),r!==""&&!oU.test(r)&&(this.num=NaN,this.unit=""),uU(r)&&(this.num=mU(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dr(NaN,""):new Dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Bn(this.num)}}R4=Dr;aU(Dr,"NaN",new R4(NaN,""));function F4(e){if(e==null||e.includes(Uo))return Uo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,a,s,o]=(r=W2.exec(t))!==null&&r!==void 0?r:[],c=Dr.parse(a??""),d=Dr.parse(o??""),u=s==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Uo;t=t.replace(W2,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,f,h,v]=(p=H2.exec(t))!==null&&p!==void 0?p:[],y=Dr.parse(f??""),N=Dr.parse(v??""),j=h==="+"?y.add(N):y.subtract(N);if(j.isNaN())return Uo;t=t.replace(H2,j.toString())}return t}var V2=/\(([^()]*)\)/;function fU(e){for(var t=e,r;(r=V2.exec(t))!=null;){var[,a]=r;t=t.replace(V2,F4(a))}return t}function pU(e){var t=e.replace(/\s+/g,"");return t=fU(t),t=F4(t),t}function hU(e){try{return pU(e)}catch{return Uo}}function bx(e){var t=hU(e.slice(5,-1));return t===Uo?"":t}var gU=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xU=["dx","dy","angle","className","breakAll"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ly.apply(null,arguments)}function G2(e,t){if(e==null)return{};var r,a,s=yU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yU(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var B4=/[ \f\n\r\t\v\u2028\u2029]+/,U4=e=>{var{children:t,breakAll:r,style:a}=e;try{var s=[];$t(t)||(r?s=t.toString().split(""):s=t.toString().split(B4));var o=s.map(d=>({word:d,width:jc(d,a).width})),c=r?0:jc("",a).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}};function vU(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var q4=(e,t,r,a)=>e.reduce((s,o)=>{var{word:c,width:d}=o,u=s[s.length-1];if(u&&d!=null&&(t==null||a||u.width+d+r<Number(t)))u.words.push(c),u.width+=d+r;else{var p={words:[c],width:d};s.push(p)}return s},[]),K4=e=>e.reduce((t,r)=>t.width>r.width?t:r),bU="",Y2=(e,t,r,a,s,o,c,d)=>{var u=e.slice(0,t),p=U4({breakAll:r,style:a,children:u+bU});if(!p)return[!1,[]];var f=q4(p.wordsWithComputedWidth,o,c,d),h=f.length>s||K4(f).width>Number(o);return[h,f]},jU=(e,t,r,a,s)=>{var{maxLines:o,children:c,style:d,breakAll:u}=e,p=Le(o),f=String(c),h=q4(t,a,r,s);if(!p||s)return h;var v=h.length>o||K4(h).width>Number(a);if(!v)return h;for(var y=0,N=f.length-1,j=0,b;y<=N&&j<=f.length-1;){var _=Math.floor((y+N)/2),S=_-1,[C,E]=Y2(f,S,u,d,o,a,r,s),[P]=Y2(f,_,u,d,o,a,r,s);if(!C&&!P&&(y=_+1),C&&P&&(N=_-1),!C&&P){b=E;break}j++}return b||h},X2=e=>{var t=$t(e)?[]:e.toString().split(B4);return[{words:t,width:void 0}]},wU=e=>{var{width:t,scaleToFit:r,children:a,style:s,breakAll:o,maxLines:c}=e;if((t||r)&&!Zc.isSsr){var d,u,p=U4({breakAll:o,children:a,style:s});if(p){var{wordsWithComputedWidth:f,spaceWidth:h}=p;d=f,u=h}else return X2(a);return jU({breakAll:o,children:a,maxLines:c,style:s},d,u,t,!!r)}return X2(a)},W4="#808080",NU={angle:0,breakAll:!1,capHeight:"0.71em",fill:W4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Zf=g.forwardRef((e,t)=>{var r=Qt(e,NU),{x:a,y:s,lineHeight:o,capHeight:c,fill:d,scaleToFit:u,textAnchor:p,verticalAnchor:f}=r,h=G2(r,gU),v=g.useMemo(()=>wU({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:u,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,u,h.style,h.width]),{dx:y,dy:N,angle:j,className:b,breakAll:_}=h,S=G2(h,xU);if(!Na(a)||!Na(s)||v.length===0)return null;var C=Number(a)+(Le(y)?y:0),E=Number(s)+(Le(N)?N:0);if(!At(C)||!At(E))return null;var P;switch(f){case"start":P=bx("calc(".concat(c,")"));break;case"middle":P=bx("calc(".concat((v.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:P=bx("calc(".concat(v.length-1," * -").concat(o,")"));break}var O=[];if(u){var T=v[0].width,{width:U}=h;O.push("scale(".concat(Le(U)&&Le(T)?U/T:1,")"))}return j&&O.push("rotate(".concat(j,", ").concat(C,", ").concat(E,")")),O.length&&(S.transform=O.join(" ")),g.createElement("text",Ly({},Yr(S),{ref:t,x:C,y:E,className:ft("recharts-text",b),textAnchor:p,fill:d.includes("url")?W4:d}),v.map((M,z)=>{var I=M.words.join(_?"":" ");return g.createElement("tspan",{x:C,dy:z===0?P:o,key:"".concat(I,"-").concat(z)},I)}))});Zf.displayName="Text";var _U=["labelRef"],kU=["content"];function J2(e,t){if(e==null)return{};var r,a,s=SU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SU(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(a){PU(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function PU(e,t,r){return(t=CU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=AU(e,"string");return typeof t=="symbol"?t:t+""}function AU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Va.apply(null,arguments)}var H4=g.createContext(null),EU=e=>{var{x:t,y:r,upperWidth:a,lowerWidth:s,width:o,height:c,children:d}=e,u=g.useMemo(()=>({x:t,y:r,upperWidth:a,lowerWidth:s,width:o,height:c}),[t,r,a,s,o,c]);return g.createElement(H4.Provider,{value:u},d)},V4=()=>{var e=g.useContext(H4),t=Pf();return e||uC(t)},OU=g.createContext(null),TU=()=>{var e=g.useContext(OU),t=Ue($A);return e||t},IU=e=>{var{value:t,formatter:r}=e,a=$t(e.children)?t:e.children;return typeof r=="function"?r(a):a},qv=e=>e!=null&&typeof e=="function",MU=(e,t)=>{var r=Pr(t-e),a=Math.min(Math.abs(t-e),360);return r*a},DU=(e,t,r,a,s)=>{var{offset:o,className:c}=e,{cx:d,cy:u,innerRadius:p,outerRadius:f,startAngle:h,endAngle:v,clockWise:y}=s,N=(p+f)/2,j=MU(h,v),b=j>=0?1:-1,_,S;switch(t){case"insideStart":_=h+b*o,S=y;break;case"insideEnd":_=v-b*o,S=!y;break;case"end":_=v+b*o,S=y;break;default:throw new Error("Unsupported position ".concat(t))}S=j<=0?S:!S;var C=cr(d,u,N,_),E=cr(d,u,N,_+(S?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),O=$t(e.id)?Sc("recharts-radial-line-"):e.id;return g.createElement("text",Va({},a,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",c)}),g.createElement("defs",null,g.createElement("path",{id:O,d:P})),g.createElement("textPath",{xlinkHref:"#".concat(O)},r))},LU=(e,t,r)=>{var{cx:a,cy:s,innerRadius:o,outerRadius:c,startAngle:d,endAngle:u}=e,p=(d+u)/2;if(r==="outside"){var{x:f,y:h}=cr(a,s,c+t,p);return{x:f,y:h,textAnchor:f>=a?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(o+c)/2,{x:y,y:N}=cr(a,s,v,p);return{x:y,y:N,textAnchor:"middle",verticalAnchor:"middle"}},$y=e=>"cx"in e&&Le(e.cx),$U=(e,t)=>{var{parentViewBox:r,offset:a,position:s}=e,o;r!=null&&!$y(r)&&(o=r);var{x:c,y:d,upperWidth:u,lowerWidth:p,height:f}=t,h=c,v=c+(u-p)/2,y=(h+v)/2,N=(u+p)/2,j=h+u/2,b=f>=0?1:-1,_=b*a,S=b>0?"end":"start",C=b>0?"start":"end",E=u>=0?1:-1,P=E*a,O=E>0?"end":"start",T=E>0?"start":"end";if(s==="top"){var U={x:h+u/2,y:d-_,textAnchor:"middle",verticalAnchor:S};return nr(nr({},U),o?{height:Math.max(d-o.y,0),width:u}:{})}if(s==="bottom"){var M={x:v+p/2,y:d+f+_,textAnchor:"middle",verticalAnchor:C};return nr(nr({},M),o?{height:Math.max(o.y+o.height-(d+f),0),width:p}:{})}if(s==="left"){var z={x:y-P,y:d+f/2,textAnchor:O,verticalAnchor:"middle"};return nr(nr({},z),o?{width:Math.max(z.x-o.x,0),height:f}:{})}if(s==="right"){var I={x:y+N+P,y:d+f/2,textAnchor:T,verticalAnchor:"middle"};return nr(nr({},I),o?{width:Math.max(o.x+o.width-I.x,0),height:f}:{})}var q=o?{width:N,height:f}:{};return s==="insideLeft"?nr({x:y+P,y:d+f/2,textAnchor:T,verticalAnchor:"middle"},q):s==="insideRight"?nr({x:y+N-P,y:d+f/2,textAnchor:O,verticalAnchor:"middle"},q):s==="insideTop"?nr({x:h+u/2,y:d+_,textAnchor:"middle",verticalAnchor:C},q):s==="insideBottom"?nr({x:v+p/2,y:d+f-_,textAnchor:"middle",verticalAnchor:S},q):s==="insideTopLeft"?nr({x:h+P,y:d+_,textAnchor:T,verticalAnchor:C},q):s==="insideTopRight"?nr({x:h+u-P,y:d+_,textAnchor:O,verticalAnchor:C},q):s==="insideBottomLeft"?nr({x:v+P,y:d+f-_,textAnchor:T,verticalAnchor:S},q):s==="insideBottomRight"?nr({x:v+p-P,y:d+f-_,textAnchor:O,verticalAnchor:S},q):s&&typeof s=="object"&&(Le(s.x)||us(s.x))&&(Le(s.y)||us(s.y))?nr({x:c+Gr(s.x,N),y:d+Gr(s.y,f),textAnchor:"end",verticalAnchor:"end"},q):nr({x:j,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},q)},zU={angle:0,offset:5,zIndex:ar.label,position:"middle",textBreakAll:!1};function Gs(e){var t=Qt(e,zU),{viewBox:r,position:a,value:s,children:o,content:c,className:d="",textBreakAll:u,labelRef:p}=t,f=TU(),h=V4(),v=a==="center"?h:f??h,y,N,j;if(r==null?y=v:$y(r)?y=r:y=uC(r),!y||$t(s)&&$t(o)&&!g.isValidElement(c)&&typeof c!="function")return null;var b=nr(nr({},t),{},{viewBox:y});if(g.isValidElement(c)){var{labelRef:_}=b,S=J2(b,_U);return g.cloneElement(c,S)}if(typeof c=="function"){var{content:C}=b,E=J2(b,kU);if(N=g.createElement(c,E),g.isValidElement(N))return N}else N=IU(t);var P=Yr(t);if($y(y)){if(a==="insideStart"||a==="insideEnd"||a==="end")return DU(t,a,N,P,y);j=LU(y,t.offset,t.position)}else j=$U(t,y);return g.createElement(rn,{zIndex:t.zIndex},g.createElement(Zf,Va({ref:p,className:ft("recharts-label",d)},P,j,{textAnchor:vU(P.textAnchor)?P.textAnchor:j.textAnchor,breakAll:u}),N))}Gs.displayName="Label";var RU=(e,t,r)=>{if(!e)return null;var a={viewBox:t,labelRef:r};return e===!0?g.createElement(Gs,Va({key:"label-implicit"},a)):Na(e)?g.createElement(Gs,Va({key:"label-implicit",value:e},a)):g.isValidElement(e)?e.type===Gs?g.cloneElement(e,nr({key:"label-implicit"},a)):g.createElement(Gs,Va({key:"label-implicit",content:e},a)):qv(e)?g.createElement(Gs,Va({key:"label-implicit",content:e},a)):e&&typeof e=="object"?g.createElement(Gs,Va({},e,{key:"label-implicit"},a)):null};function FU(e){var{label:t,labelRef:r}=e,a=V4();return RU(t,a,r)||null}var jx={},wx={},Q2;function BU(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(wx)),wx}var Nx={},ek;function UU(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Nx)),Nx}var tk;function qU(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BU(),r=UU(),a=b0();function s(o){if(a.isArrayLike(o))return t.last(r.toArray(o))}e.last=s})(jx)),jx}var _x,rk;function KU(){return rk||(rk=1,_x=qU().last),_x}var WU=KU();const HU=ys(WU);var VU=["valueAccessor"],GU=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ym.apply(null,arguments)}function nk(e,t){if(e==null)return{};var r,a,s=YU(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YU(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var XU=e=>Array.isArray(e.value)?HU(e.value):e.value,G4=g.createContext(void 0),Kv=G4.Provider,Y4=g.createContext(void 0),JU=Y4.Provider;function ZU(){return g.useContext(G4)}function QU(){return g.useContext(Y4)}function am(e){var{valueAccessor:t=XU}=e,r=nk(e,VU),{dataKey:a,clockWise:s,id:o,textBreakAll:c,zIndex:d}=r,u=nk(r,GU),p=ZU(),f=QU(),h=p||f;return!h||!h.length?null:g.createElement(rn,{zIndex:d??ar.label},g.createElement(Jt,{className:"recharts-label-list"},h.map((v,y)=>{var N,j=$t(a)?t(v,y):jt(v&&v.payload,a),b=$t(o)?{}:{id:"".concat(o,"-").concat(y)};return g.createElement(Gs,Ym({key:"label-".concat(y)},Yr(v),u,b,{fill:(N=r.fill)!==null&&N!==void 0?N:v.fill,parentViewBox:v.parentViewBox,value:j,textBreakAll:c,viewBox:v.viewBox,index:y,zIndex:0}))})))}am.displayName="LabelList";function Qf(e){var{label:t}=e;return t?t===!0?g.createElement(am,{key:"labelList-implicit"}):g.isValidElement(t)||qv(t)?g.createElement(am,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(am,Ym({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zy.apply(null,arguments)}var X4=e=>{var{cx:t,cy:r,r:a,className:s}=e,o=ft("recharts-dot",s);return Le(t)&&Le(r)&&Le(a)?g.createElement("circle",zy({},en(e),v0(e),{className:o,cx:t,cy:r,r:a})):null},J4=e=>e.graphicalItems.polarItems,eq=ae([Kt,ad],fv),ep=ae([J4,Vt,eq],pv),tq=ae([ep],hv),tp=ae([tq,Rf],gv),rq=ae([tp,Vt,ep],yv);ae([tp,Vt,ep],(e,t,r)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var o,c=jt(a,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:jt(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})));var ak=()=>{},nq=ae([tp,Vt,ep,Vf,Kt],wv),aq=ae([Vt,bv,jv,ak,nq,ak,ut,Kt],Nv),Z4=ae([Vt,ut,tp,rq,nd,Kt,aq],_v),sq=ae([Z4,Vt,gl],Pv);ae([Vt,Z4,sq,Kt],Av);var iq={radiusAxis:{},angleAxis:{}},Q4=hn({name:"polarAxis",initialState:iq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bZ,removeRadiusAxis:jZ,addAngleAxis:wZ,removeAngleAxis:NZ}=Q4.actions,oq=Q4.reducer;function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(a){lq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lq(e,t,r){return(t=cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uq=(e,t)=>t,Wv=ae([J4,uq],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),mq=[],Hv=(e,t,r)=>r?.length===0?mq:r,eE=ae([Rf,Wv,Hv],(e,t,r)=>{var{chartData:a}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=a,(!s||!s.length)&&r!=null&&(s=r.map(o=>ik(ik({},t.presentationProps),o.props))),s!=null)return s}}),fq=ae([eE,Wv,Hv],(e,t,r)=>{if(!(e==null||t==null))return e.map((a,s)=>{var o,c=jt(a,t.nameKey,t.name),d;return r!=null&&(o=r[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=r[s].props.fill:typeof a=="object"&&a!=null&&"fill"in a?d=a.fill:d=t.fill,{value:li(c,t.dataKey),color:d,payload:a,type:t.legendType}})}),pq=ae([eE,Wv,Hv,gr],(e,t,r,a)=>{if(!(t==null||e==null))return gK({offset:a,pieSettings:t,displayedData:e,cells:r})}),kx={exports:{}},Pt={};var ok;function hq(){if(ok)return Pt;ok=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function N(j){if(typeof j=="object"&&j!==null){var b=j.$$typeof;switch(b){case e:switch(j=j.type,j){case r:case s:case a:case u:case p:case v:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case h:case f:return j;case o:return j;default:return b}}case t:return b}}}return Pt.ContextConsumer=o,Pt.ContextProvider=c,Pt.Element=e,Pt.ForwardRef=d,Pt.Fragment=r,Pt.Lazy=h,Pt.Memo=f,Pt.Portal=t,Pt.Profiler=s,Pt.StrictMode=a,Pt.Suspense=u,Pt.SuspenseList=p,Pt.isContextConsumer=function(j){return N(j)===o},Pt.isContextProvider=function(j){return N(j)===c},Pt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Pt.isForwardRef=function(j){return N(j)===d},Pt.isFragment=function(j){return N(j)===r},Pt.isLazy=function(j){return N(j)===h},Pt.isMemo=function(j){return N(j)===f},Pt.isPortal=function(j){return N(j)===t},Pt.isProfiler=function(j){return N(j)===s},Pt.isStrictMode=function(j){return N(j)===a},Pt.isSuspense=function(j){return N(j)===u},Pt.isSuspenseList=function(j){return N(j)===p},Pt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===s||j===a||j===u||j===p||typeof j=="object"&&j!==null&&(j.$$typeof===h||j.$$typeof===f||j.$$typeof===c||j.$$typeof===o||j.$$typeof===d||j.$$typeof===y||j.getModuleId!==void 0)},Pt.typeOf=N,Pt}var lk;function gq(){return lk||(lk=1,kx.exports=hq()),kx.exports}var xq=gq(),ck=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dk=null,Sx=null,tE=e=>{if(e===dk&&Array.isArray(Sx))return Sx;var t=[];return g.Children.forEach(e,r=>{$t(r)||(xq.isFragment(r)?t=t.concat(tE(r.props.children)):t.push(r))}),Sx=t,dk=e,t};function Vv(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(s=>ck(s)):a=[ck(t)],tE(e).forEach(s=>{var o=Ki(s,"type.displayName")||Ki(s,"type.name");o&&a.indexOf(o)!==-1&&r.push(s)}),r}var Gv=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Px={},uk;function yq(){return uk||(uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let a=r;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(r)===a}e.isPlainObject=t})(Px)),Px}var Cx,mk;function vq(){return mk||(mk=1,Cx=yq().isPlainObject),Cx}var bq=vq();const jq=ys(bq);var fk,pk,hk,gk,xk;function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(a){wq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wq(e,t,r){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=_q(e,"string");return typeof t=="symbol"?t:t+""}function _q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xm.apply(null,arguments)}function fc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bk=(e,t,r,a,s)=>{var o=r-a,c;return c=Yt(fk||(fk=fc(["M ",",",""])),e,t),c+=Yt(pk||(pk=fc(["L ",",",""])),e+r,t),c+=Yt(hk||(hk=fc(["L ",",",""])),e+r-o/2,t+s),c+=Yt(gk||(gk=fc(["L ",",",""])),e+r-o/2-a,t+s),c+=Yt(xk||(xk=fc(["L ",","," Z"])),e,t),c},kq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Sq=e=>{var t=Qt(e,kq),{x:r,y:a,upperWidth:s,lowerWidth:o,height:c,className:d}=t,{animationEasing:u,animationDuration:p,animationBegin:f,isUpdateAnimationActive:h}=t,v=g.useRef(null),[y,N]=g.useState(-1),j=g.useRef(s),b=g.useRef(o),_=g.useRef(c),S=g.useRef(r),C=g.useRef(a),E=dl(e,"trapezoid-");if(g.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var D=v.current.getTotalLength();D&&N(D)}catch{}},[]),r!==+r||a!==+a||s!==+s||o!==+o||c!==+c||s===0&&o===0||c===0)return null;var P=ft("recharts-trapezoid",d);if(!h)return g.createElement("g",null,g.createElement("path",Xm({},Yr(t),{className:P,d:bk(r,a,s,o,c)})));var O=j.current,T=b.current,U=_.current,M=S.current,z=C.current,I="0px ".concat(y===-1?1:y,"px"),q="".concat(y,"px 0px"),L=_C(["strokeDasharray"],p,u);return g.createElement(cl,{animationId:E,key:E,canBegin:y>0,duration:p,easing:u,isActive:h,begin:f},D=>{var ee=bt(O,s,D),oe=bt(T,o,D),ie=bt(U,c,D),W=bt(M,r,D),J=bt(z,a,D);v.current&&(j.current=ee,b.current=oe,_.current=ie,S.current=W,C.current=J);var ue=D>0?{transition:L,strokeDasharray:q}:{strokeDasharray:I};return g.createElement("path",Xm({},Yr(t),{className:P,d:bk(W,J,ee,oe,ie),ref:v,style:vk(vk({},ue),t.style)}))})},Pq=["option","shapeType","activeClassName"];function Cq(e,t){if(e==null)return{};var r,a,s=Aq(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Aq(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(a){Eq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Eq(e,t,r){return(t=Oq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iq(e,t){return Jm(Jm({},t),e)}function Mq(e,t){return e==="symbols"}function wk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(CC,r);case"trapezoid":return g.createElement(Sq,r);case"sector":return g.createElement(TC,r);case"symbols":if(Mq(t))return g.createElement(y0,r);break;case"curve":return g.createElement(Wo,r);default:return null}}function Dq(e){return g.isValidElement(e)?e.props:e}function Yv(e){var{option:t,shapeType:r,activeClassName:a="recharts-active-shape"}=e,s=Cq(e,Pq),o;if(g.isValidElement(t))o=g.cloneElement(t,Jm(Jm({},s),Dq(t)));else if(typeof t=="function")o=t(s,s.index);else if(jq(t)&&typeof t!="boolean"){var c=Iq(t,s);o=g.createElement(wk,{shapeType:r,elementProps:c})}else{var d=s;o=g.createElement(wk,{shapeType:r,elementProps:d})}return s.isActive?g.createElement(Jt,{className:a},o):o}var Xv=(e,t,r)=>{var a=Tt();return(s,o)=>c=>{e?.(s,o,c),a(p4({activeIndex:String(o),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},Jv=e=>{var t=Tt();return(r,a)=>s=>{e?.(r,a,s),t(qB())}},Zv=(e,t,r)=>{var a=Tt();return(s,o)=>c=>{e?.(s,o,c),a(KB({activeIndex:String(o),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function rp(e){var{tooltipEntrySettings:t}=e,r=Tt(),a=Ar(),s=g.useRef(null);return g.useLayoutEffect(()=>{a||(s.current===null?r(RB(t)):s.current!==t&&r(FB({prev:s.current,next:t})),s.current=t)},[t,r,a]),g.useLayoutEffect(()=>()=>{s.current&&(r(BB(s.current)),s.current=null)},[r]),null}function Qv(e){var{legendPayload:t}=e,r=Tt(),a=Ar(),s=g.useRef(null);return g.useLayoutEffect(()=>{a||(s.current===null?r(bC(t)):s.current!==t&&r(jC({prev:s.current,next:t})),s.current=t)},[r,a,t]),g.useLayoutEffect(()=>()=>{s.current&&(r(wC(s.current)),s.current=null)},[r]),null}function Lq(e){var{legendPayload:t}=e,r=Tt(),a=Ue(ut),s=g.useRef(null);return g.useLayoutEffect(()=>{a!=="centric"&&a!=="radial"||(s.current===null?r(bC(t)):s.current!==t&&r(jC({prev:s.current,next:t})),s.current=t)},[r,a,t]),g.useLayoutEffect(()=>()=>{s.current&&(r(wC(s.current)),s.current=null)},[r]),null}var Ax,$q=()=>{var[e]=g.useState(()=>Sc("uid-"));return e},zq=(Ax=aT.useId)!==null&&Ax!==void 0?Ax:$q;function Rq(e,t){var r=zq();return t||(e?"".concat(e,"-").concat(r):r)}var Fq=g.createContext(void 0),np=e=>{var{id:t,type:r,children:a}=e,s=Rq("recharts-".concat(r),t);return g.createElement(Fq.Provider,{value:s},a(s))},Bq={cartesianItems:[],polarItems:[]},rE=hn({name:"graphicalItems",initialState:Bq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Bt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:a}=t.payload,s=na(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=a)},prepare:Bt()},removeCartesianGraphicalItem:{reducer(e,t){var r=na(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Bt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Bt()},removePolarGraphicalItem:{reducer(e,t){var r=na(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Bt()}}}),{addCartesianGraphicalItem:Uq,replaceCartesianGraphicalItem:qq,removeCartesianGraphicalItem:Kq,addPolarGraphicalItem:Wq,removePolarGraphicalItem:Hq}=rE.actions,Vq=rE.reducer,Gq=e=>{var t=Tt(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Uq(e)):r.current!==e&&t(qq({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(Kq(r.current)),r.current=null)},[t]),null},eb=g.memo(Gq);function Yq(e){var t=Tt();return g.useLayoutEffect(()=>(t(Wq(e)),()=>{t(Hq(e))}),[t,e]),null}var Xq=["key"],Jq=["onMouseEnter","onClick","onMouseLeave"],Zq=["id"],Qq=["id"];function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(a){eK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ii.apply(null,arguments)}function ap(e,t){if(e==null)return{};var r,a,s=nK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function aK(e){var t=g.useMemo(()=>Vv(e.children,bl),[e.children]),r=Ue(a=>fq(a,e.id,t));return r==null?null:g.createElement(Lq,{legendPayload:r})}var sK=g.memo(e=>{var{dataKey:t,nameKey:r,sectors:a,stroke:s,strokeWidth:o,fill:c,name:d,hide:u,tooltipType:p,id:f}=e,h={dataDefinedOnItem:a.map(v=>v.tooltipPayload),positions:a.map(v=>v.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:c,dataKey:t,nameKey:r,name:li(d,t),hide:u,type:p,color:c,unit:"",graphicalItemId:f}};return g.createElement(rp,{tooltipEntrySettings:h})}),iK=(e,t)=>e>t?"start":e<t?"end":"middle",oK=(e,t,r)=>Gr(typeof t=="function"?t(e):t,r,r*.8),lK=(e,t,r)=>{var{top:a,left:s,width:o,height:c}=t,d=AC(o,c),u=s+Gr(e.cx,o,o/2),p=a+Gr(e.cy,c,c/2),f=Gr(e.innerRadius,d,0),h=oK(r,e.outerRadius,d),v=e.maxRadius||Math.sqrt(o*o+c*c)/2;return{cx:u,cy:p,innerRadius:f,outerRadius:h,maxRadius:v}},cK=(e,t)=>{var r=Pr(t-e),a=Math.min(Math.abs(t-e),360);return r*a};function dK(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var uK=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:a}=t,s=ap(t,Xq);return g.createElement(Wo,ii({},s,{type:"linear",className:r}))},mK=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var a=r;if(typeof e=="function"&&(a=e(t),g.isValidElement(a)))return a;var s=ft("recharts-pie-label-text",dK(e));return g.createElement(Zf,ii({},t,{alignmentBaseline:"middle",className:s}),a)};function fK(e){var{sectors:t,props:r,showLabels:a}=e,{label:s,labelLine:o,dataKey:c}=r;if(!a||!s||!t)return null;var d=en(r),u=Ui(s),p=Ui(o),f=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=t.map((v,y)=>{var N=(v.startAngle+v.endAngle)/2,j=cr(v.cx,v.cy,v.outerRadius+f,N),b=Xt(Xt(Xt(Xt({},d),v),{},{stroke:"none"},u),{},{index:y,textAnchor:iK(j.x,v.cx)},j),_=Xt(Xt(Xt(Xt({},d),v),{},{fill:"none",stroke:v.fill},p),{},{index:y,points:[cr(v.cx,v.cy,v.outerRadius,N),j],key:"line"});return g.createElement(rn,{zIndex:ar.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},g.createElement(Jt,null,o&&uK(o,_),mK(s,b,jt(v,c))))});return g.createElement(Jt,{className:"recharts-pie-labels"},h)}function pK(e){var{sectors:t,props:r,showLabels:a}=e,{label:s}=r;return typeof s=="object"&&s!=null&&"position"in s?g.createElement(Qf,{label:s}):g.createElement(fK,{sectors:t,props:r,showLabels:a})}function hK(e){var{sectors:t,activeShape:r,inactiveShape:a,allOtherPieProps:s,shape:o,id:c}=e,d=Ue(si),u=Ue(zv),p=Ue(A7),{onMouseEnter:f,onClick:h,onMouseLeave:v}=s,y=ap(s,Jq),N=Xv(f,s.dataKey,c),j=Jv(v),b=Zv(h,s.dataKey,c);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((_,S)=>{if(_?.startAngle===0&&_?.endAngle===0&&t.length!==1)return null;var C=p==null||p===c,E=String(S)===d&&(u==null||s.dataKey===u)&&C,P=d?a:null,O=r&&E?r:P,T=Xt(Xt({},_),{},{stroke:_.stroke,tabIndex:-1,[iC]:S,[oC]:c});return g.createElement(Jt,ii({key:"sector-".concat(_?.startAngle,"-").concat(_?.endAngle,"-").concat(_.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},Vc(y,_,S),{onMouseEnter:N(_,S),onMouseLeave:j(_,S),onClick:b(_,S)}),g.createElement(Yv,ii({option:o??O,index:S,shapeType:"sector",isActive:E},T)))}))}function gK(e){var t,{pieSettings:r,displayedData:a,cells:s,offset:o}=e,{cornerRadius:c,startAngle:d,endAngle:u,dataKey:p,nameKey:f,tooltipType:h}=r,v=Math.abs(r.minAngle),y=cK(d,u),N=Math.abs(y),j=a.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=a.filter(O=>jt(O,p,0)!==0).length,_=(N>=360?b:b-1)*j,S=N-b*v-_,C=a.reduce((O,T)=>{var U=jt(T,p,0);return O+(Le(U)?U:0)},0),E;if(C>0){var P;E=a.map((O,T)=>{var U=jt(O,p,0),M=jt(O,f,T),z=lK(r,o,O),I=(Le(U)?U:0)/C,q,L=Xt(Xt({},O),s&&s[T]&&s[T].props);T?q=P.endAngle+Pr(y)*j*(U!==0?1:0):q=d;var D=q+Pr(y)*((U!==0?v:0)+I*S),ee=(q+D)/2,oe=(z.innerRadius+z.outerRadius)/2,ie=[{name:M,value:U,payload:L,dataKey:p,type:h,graphicalItemId:r.id}],W=cr(z.cx,z.cy,oe,ee);return P=Xt(Xt(Xt(Xt({},r.presentationProps),{},{percent:I,cornerRadius:typeof c=="string"?parseFloat(c):c,name:M,tooltipPayload:ie,midAngle:ee,middleRadius:oe,tooltipPosition:W},L),z),{},{value:U,dataKey:p,startAngle:q,endAngle:D,payload:L,paddingAngle:Pr(y)*j}),P})}return E}function xK(e){var{showLabels:t,sectors:r,children:a}=e,s=g.useMemo(()=>!t||!r?[]:r.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[r,t]);return g.createElement(JU,{value:t?s:void 0},a)}function yK(e){var{props:t,previousSectorsRef:r,id:a}=e,{sectors:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:u,activeShape:p,inactiveShape:f,onAnimationStart:h,onAnimationEnd:v}=t,y=dl(t,"recharts-pie-"),N=r.current,[j,b]=g.useState(!1),_=g.useCallback(()=>{typeof v=="function"&&v(),b(!1)},[v]),S=g.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return g.createElement(xK,{showLabels:!j,sectors:s},g.createElement(cl,{animationId:y,begin:c,duration:d,isActive:o,easing:u,onAnimationStart:S,onAnimationEnd:_,key:y},C=>{var E=[],P=s&&s[0],O=P?.startAngle;return s?.forEach((T,U)=>{var M=N&&N[U],z=U>0?Ki(T,"paddingAngle",0):0;if(M){var I=bt(M.endAngle-M.startAngle,T.endAngle-T.startAngle,C),q=Xt(Xt({},T),{},{startAngle:O+z,endAngle:O+I+z});E.push(q),O=q.endAngle}else{var{endAngle:L,startAngle:D}=T,ee=bt(0,L-D,C),oe=Xt(Xt({},T),{},{startAngle:O+z,endAngle:O+ee+z});E.push(oe),O=oe.endAngle}}),r.current=E,g.createElement(Jt,null,g.createElement(hK,{sectors:E,activeShape:p,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:a}))}),g.createElement(pK,{showLabels:!j,sectors:s,props:t}),t.children)}var vK={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ar.area};function bK(e){var{id:t}=e,r=ap(e,Zq),{hide:a,className:s,rootTabIndex:o}=e,c=g.useMemo(()=>Vv(e.children,bl),[e.children]),d=Ue(f=>pq(f,t,c)),u=g.useRef(null),p=ft("recharts-pie",s);return a||d==null?(u.current=null,g.createElement(Jt,{tabIndex:o,className:p})):g.createElement(rn,{zIndex:e.zIndex},g.createElement(sK,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Jt,{tabIndex:o,className:p},g.createElement(yK,{props:Xt(Xt({},r),{},{sectors:d}),previousSectorsRef:u,id:t})))}function nE(e){var t=Qt(e,vK),{id:r}=t,a=ap(t,Qq),s=en(a);return g.createElement(np,{id:r,type:"pie"},o=>g.createElement(g.Fragment,null,g.createElement(Yq,{type:"pie",id:o,data:a.data,dataKey:a.dataKey,hide:a.hide,angleAxisId:0,radiusAxisId:0,name:a.name,nameKey:a.nameKey,tooltipType:a.tooltipType,legendType:a.legendType,fill:a.fill,cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,paddingAngle:a.paddingAngle,minAngle:a.minAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius,cornerRadius:a.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),g.createElement(aK,ii({},a,{id:o})),g.createElement(bK,ii({},a,{id:o}))))}nE.displayName="Pie";var jK=["points"];function _k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(r),!0).forEach(function(a){wK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wK(e,t,r){return(t=NK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zm.apply(null,arguments)}function kK(e,t){if(e==null)return{};var r,a,s=SK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SK(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function PK(e){var{option:t,dotProps:r,className:a}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var s=ft(a,typeof t!="boolean"?t.className:""),o=r??{},{points:c}=o,d=kK(o,jK);return g.createElement(X4,Zm({},d,{className:s}))}function CK(e,t){return e==null?!1:t?!0:e.length===1}function aE(e){var{points:t,dot:r,className:a,dotClassName:s,dataKey:o,baseProps:c,needClip:d,clipPathId:u,zIndex:p=ar.scatter}=e;if(!CK(t,r))return null;var f=Gv(r),h=HI(r),v=t.map((N,j)=>{var b,_,S=Ex(Ex(Ex({r:3},c),h),{},{index:j,cx:(b=N.x)!==null&&b!==void 0?b:void 0,cy:(_=N.y)!==null&&_!==void 0?_:void 0,dataKey:o,value:N.value,payload:N.payload,points:t});return g.createElement(PK,{key:"dot-".concat(j),option:r,dotProps:S,className:s})}),y={};return d&&u!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(u,")")),g.createElement(rn,{zIndex:p},g.createElement(Jt,Zm({className:a},y),v))}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(a){AK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function AK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sE=0,TK={xAxis:{},yAxis:{},zAxis:{}},iE=hn({name:"cartesianAxis",initialState:TK,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Bt()},replaceXAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.xAxis[r.id],e.xAxis[a.id]=a)},prepare:Bt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Bt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Bt()},replaceYAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.yAxis[r.id],e.yAxis[a.id]=a)},prepare:Bt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Bt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Bt()},replaceZAxis:{reducer(e,t){var{prev:r,next:a}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==a.id&&delete e.zAxis[r.id],e.zAxis[a.id]=a)},prepare:Bt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Bt()},updateYAxisWidth(e,t){var{id:r,width:a}=t.payload,s=e.yAxis[r];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&a===o[1]&&a!==s.width&&Math.abs(a-o[0])<=1)return;var c=[...o,a].slice(-3);e.yAxis[r]=Sk(Sk({},e.yAxis[r]),{},{width:a,widthHistory:c})}}}}),{addXAxis:IK,replaceXAxis:MK,removeXAxis:DK,addYAxis:LK,replaceYAxis:$K,removeYAxis:zK,addZAxis:_Z,replaceZAxis:kZ,removeZAxis:SZ,updateYAxisWidth:RK}=iE.actions,FK=iE.reducer,BK=ae([gr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),UK=ae([BK,vs,bs],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),sp=()=>Ue(UK),qK=()=>Ue(M7);function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(a){KK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KK(e,t,r){return(t=WK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=HK(e,"string");return typeof t=="symbol"?t:t+""}function HK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VK=e=>{var{point:t,childIndex:r,mainColor:a,activeDot:s,dataKey:o,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var d={index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:a??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},u=Ox(Ox(Ox({},d),Ui(s)),v0(s)),p;return g.isValidElement(s)?p=g.cloneElement(s,u):typeof s=="function"?p=s(u):p=g.createElement(X4,u),g.createElement(Jt,{className:"recharts-active-dot",clipPath:c},p)};function Ry(e){var{points:t,mainColor:r,activeDot:a,itemDataKey:s,clipPath:o,zIndex:c=ar.activeDot}=e,d=Ue(si),u=qK();if(t==null||u==null)return null;var p=t.find(f=>u.includes(f.payload));return $t(p)?null:g.createElement(rn,{zIndex:c},g.createElement(VK,{point:p,childIndex:Number(d),mainColor:r,dataKey:s,activeDot:a,clipPath:o}))}var Ck=(e,t,r)=>{var a=r??e;if(!$t(a))return Gr(a,t,0)},GK=(e,t,r)=>{var a={},s=e.filter(qf),o=e.filter(p=>p.stackId==null),c=s.reduce((p,f)=>(p[f.stackId]||(p[f.stackId]=[]),p[f.stackId].push(f),p),a),d=Object.entries(c).map(p=>{var[f,h]=p,v=h.map(N=>N.dataKey),y=Ck(t,r,h[0].barSize);return{stackId:f,dataKeys:v,barSize:y}}),u=o.map(p=>{var f=[p.dataKey].filter(v=>v!=null),h=Ck(t,r,p.barSize);return{stackId:void 0,dataKeys:f,barSize:h}});return[...d,...u]};function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(a){YK(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e,t,r,a,s){var o=a.length;if(!(o<1)){var c=Gr(e,r,0,!0),d,u=[];if(At(a[0].barSize)){var p=!1,f=r/o,h=a.reduce((_,S)=>_+(S.barSize||0),0);h+=(o-1)*c,h>=r&&(h-=(o-1)*c,c=0),h>=r&&f>0&&(p=!0,f*=.9,h=o*f);var v=(r-h)/2>>0,y={offset:v-c,size:0};d=a.reduce((_,S)=>{var C,E={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:y.offset+y.size+c,size:p?f:(C=S.barSize)!==null&&C!==void 0?C:0}},P=[..._,E];return y=P[P.length-1].position,P},u)}else{var N=Gr(t,r,0,!0);r-2*N-(o-1)*c<=0&&(c=0);var j=(r-2*N-(o-1)*c)/o;j>1&&(j>>=0);var b=At(s)?Math.min(j,s):j;d=a.reduce((_,S,C)=>[..._,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:N+(j+c)*C+(j-b)/2,size:b}}],u)}return d}}var QK=(e,t,r,a,s,o,c)=>{var d=$t(c)?t:c,u=ZK(r,a,s!==o?s:o,e,d);return s!==o&&u!=null&&(u=u.map(p=>Bu(Bu({},p),{},{position:Bu(Bu({},p.position),{},{offset:p.position.offset-s/2})}))),u},eW=(e,t)=>{var r=Uf(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var s=e[a];if(s){var{stackedData:o}=s;if(o)return o.find(c=>c.key===r)}}}};function tW(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&At(e.zIndex)?e.zIndex:t}var oE=e=>{var{chartData:t}=e,r=Tt(),a=Ar();return g.useEffect(()=>a?()=>{}:(r(L2(t)),()=>{r(L2(void 0))}),[t,r,a]),null},Ek={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},lE=hn({name:"brush",initialState:Ek,reducers:{setBrushSettings(e,t){return t.payload==null?Ek:t.payload}}}),{setBrushSettings:PZ}=lE.actions,rW=lE.reducer;function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=sW(e,"string");return typeof t=="symbol"?t:t+""}function sW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class tb{static create(t){return new tb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(a)switch(a){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var r=this.range(),a=r[0],s=r[r.length-1];return a<=s?t>=a&&t<=s:t>=s&&t<=a}}nW(tb,"EPS",1e-4);function iW(e){return(e%180+180)%180}var oW=function(t){var{width:r,height:a}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=iW(s),c=o*Math.PI/180,d=Math.atan(a/r),u=c>d&&c<Math.PI-d?a/Math.sin(c):r/Math.cos(c);return Math.abs(u)},lW={dots:[],areas:[],lines:[]},cE=hn({name:"referenceElements",initialState:lW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=na(e).dots.findIndex(a=>a===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=na(e).areas.findIndex(a=>a===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=na(e).lines.findIndex(a=>a===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:CZ,removeDot:AZ,addArea:EZ,removeArea:OZ,addLine:TZ,removeLine:IZ}=cE.actions,cW=cE.reducer,dW=g.createContext(void 0),uW=e=>{var{children:t}=e,[r]=g.useState("".concat(Sc("recharts"),"-clip")),a=sp();if(a==null)return null;var{x:s,y:o,width:c,height:d}=a;return g.createElement(dW.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:s,y:o,height:d,width:c}))),t)};function dE(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],a=0;a<e.length;a+=t){var s=e[a];s!==void 0&&r.push(s)}return r}function mW(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return oW(a,r)}function fW(e,t,r){var a=r==="width",{x:s,y:o,width:c,height:d}=e;return t===1?{start:a?s:o,end:a?s+c:o+d}:{start:a?s+c:o+d,end:a?s:o}}function Fc(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-a)>=0&&e*(t+e*o/2-s)<=0}function pW(e,t){return dE(e,t+1)}function hW(e,t,r,a,s){for(var o=(a||[]).slice(),{start:c,end:d}=t,u=0,p=1,f=c,h=function(){var N=a?.[u];if(N===void 0)return{v:dE(a,p)};var j=u,b,_=()=>(b===void 0&&(b=r(N,j)),b),S=N.coordinate,C=u===0||Fc(e,S,_,f,d);C||(u=0,f=c,p+=1),C&&(f=S+e*(_()/2+s),u+=p)},v;p<=o.length;)if(v=h(),v)return v.v;return[]}function gW(e,t,r,a,s){var o=(a||[]).slice(),c=o.length;if(c===0)return[];for(var{start:d,end:u}=t,p=1;p<=c;p++){for(var f=(c-1)%p,h=d,v=!0,y=function(){var S=a[N],C=N,E,P=()=>(E===void 0&&(E=r(S,C)),E),O=S.coordinate,T=N===f||Fc(e,O,P,h,u);if(!T)return v=!1,1;T&&(h=O+e*(P()/2+s))},N=f;N<c&&!y();N+=p);if(v){for(var j=[],b=f;b<c;b+=p)j.push(a[b]);return j}}return[]}function Ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ok(Object(r),!0).forEach(function(a){xW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bW(e,t,r,a,s){for(var o=(a||[]).slice(),c=o.length,{start:d}=t,{end:u}=t,p=function(v){var y=o[v],N,j=()=>(N===void 0&&(N=r(y,v)),N);if(v===c-1){var b=e*(y.coordinate+e*j()/2-u);o[v]=y=Wr(Wr({},y),{},{tickCoord:b>0?y.coordinate-b*e:y.coordinate})}else o[v]=y=Wr(Wr({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var _=Fc(e,y.tickCoord,j,d,u);_&&(u=y.tickCoord-e*(j()/2+s),o[v]=Wr(Wr({},y),{},{isShow:!0}))}},f=c-1;f>=0;f--)p(f);return o}function jW(e,t,r,a,s,o){var c=(a||[]).slice(),d=c.length,{start:u,end:p}=t;if(o){var f=a[d-1],h=r(f,d-1),v=e*(f.coordinate+e*h/2-p);if(c[d-1]=f=Wr(Wr({},f),{},{tickCoord:v>0?f.coordinate-v*e:f.coordinate}),f.tickCoord!=null){var y=Fc(e,f.tickCoord,()=>h,u,p);y&&(p=f.tickCoord-e*(h/2+s),c[d-1]=Wr(Wr({},f),{},{isShow:!0}))}}for(var N=o?d-1:d,j=function(S){var C=c[S],E,P=()=>(E===void 0&&(E=r(C,S)),E);if(S===0){var O=e*(C.coordinate-e*P()/2-u);c[S]=C=Wr(Wr({},C),{},{tickCoord:O<0?C.coordinate-O*e:C.coordinate})}else c[S]=C=Wr(Wr({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var T=Fc(e,C.tickCoord,P,u,p);T&&(u=C.tickCoord+e*(P()/2+s),c[S]=Wr(Wr({},C),{},{isShow:!0}))}},b=0;b<N;b++)j(b);return c}function rb(e,t,r){var{tick:a,ticks:s,viewBox:o,minTickGap:c,orientation:d,interval:u,tickFormatter:p,unit:f,angle:h}=e;if(!s||!s.length||!a)return[];if(Le(u)||Zc.isSsr){var v;return(v=pW(s,Le(u)?u:0))!==null&&v!==void 0?v:[]}var y=[],N=d==="top"||d==="bottom"?"width":"height",j=f&&N==="width"?jc(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(C,E)=>{var P=typeof p=="function"?p(C.value,E):C.value;return N==="width"?mW(jc(P,{fontSize:t,letterSpacing:r}),j,h):jc(P,{fontSize:t,letterSpacing:r})[N]},_=s.length>=2?Pr(s[1].coordinate-s[0].coordinate):1,S=fW(o,_,N);return u==="equidistantPreserveStart"?hW(_,S,b,s,c):u==="equidistantPreserveEnd"?gW(_,S,b,s,c):(u==="preserveStart"||u==="preserveStartEnd"?y=jW(_,S,b,s,c,u==="preserveStartEnd"):y=bW(_,S,b,s,c),y.filter(C=>C.isShow))}var wW=e=>{var{ticks:t,label:r,labelGapWithTick:a=5,tickSize:s=0,tickMargin:o=0}=e,c=0;if(t){Array.from(t).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>c&&(c=h.width)}});var d=r?r.getBoundingClientRect().width:0,u=s+o,p=c+u+d+(r?a:0);return Math.round(p)}return 0},NW=["axisLine","width","height","className","hide","ticks","axisType"];function _W(e,t){if(e==null)return{};var r,a,s=kW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kW(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yi.apply(null,arguments)}function Tk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(r),!0).forEach(function(a){SW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function SW(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ns={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ar.axis};function AW(e){var{x:t,y:r,width:a,height:s,orientation:o,mirror:c,axisLine:d,otherSvgProps:u}=e;if(!d)return null;var p=lr(lr(lr({},u),en(d)),{},{fill:"none"});if(o==="top"||o==="bottom"){var f=+(o==="top"&&!c||o==="bottom"&&c);p=lr(lr({},p),{},{x1:t,y1:r+f*s,x2:t+a,y2:r+f*s})}else{var h=+(o==="left"&&!c||o==="right"&&c);p=lr(lr({},p),{},{x1:t+h*a,y1:r,x2:t+h*a,y2:r+s})}return g.createElement("line",Yi({},p,{className:ft("recharts-cartesian-axis-line",Ki(d,"className"))}))}function EW(e,t,r,a,s,o,c,d,u){var p,f,h,v,y,N,j=d?-1:1,b=e.tickSize||c,_=Le(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":p=f=e.coordinate,v=r+ +!d*s,h=v-j*b,N=h-j*u,y=_;break;case"left":h=v=e.coordinate,f=t+ +!d*a,p=f-j*b,y=p-j*u,N=_;break;case"right":h=v=e.coordinate,f=t+ +d*a,p=f+j*b,y=p+j*u,N=_;break;default:p=f=e.coordinate,v=r+ +d*s,h=v+j*b,N=h+j*u,y=_;break}return{line:{x1:p,y1:h,x2:f,y2:v},tick:{x:y,y:N}}}function OW(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function TW(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function IW(e){var{option:t,tickProps:r,value:a}=e,s,o=ft(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,lr(lr({},r),{},{className:o}));else if(typeof t=="function")s=t(lr(lr({},r),{},{className:o}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=ft(c,t?.className)),s=g.createElement(Zf,Yi({},r,{className:c}),a)}return s}var MW=g.forwardRef((e,t)=>{var{ticks:r=[],tick:a,tickLine:s,stroke:o,tickFormatter:c,unit:d,padding:u,tickTextProps:p,orientation:f,mirror:h,x:v,y,width:N,height:j,tickSize:b,tickMargin:_,fontSize:S,letterSpacing:C,getTicksConfig:E,events:P,axisType:O}=e,T=rb(lr(lr({},E),{},{ticks:r}),S,C),U=OW(f,h),M=TW(f,h),z=en(E),I=Ui(a),q={};typeof s=="object"&&(q=s);var L=lr(lr({},z),{},{fill:"none"},q),D=T.map(ie=>lr({entry:ie},EW(ie,v,y,N,j,f,b,h,_))),ee=D.map(ie=>{var{entry:W,line:J}=ie;return g.createElement(Jt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},s&&g.createElement("line",Yi({},L,J,{className:ft("recharts-cartesian-axis-tick-line",Ki(s,"className"))})))}),oe=D.map((ie,W)=>{var{entry:J,tick:ue}=ie,K=lr(lr(lr(lr({textAnchor:U,verticalAnchor:M},z),{},{stroke:"none",fill:o},I),ue),{},{index:W,payload:J,visibleTicksCount:T.length,tickFormatter:c,padding:u},p);return g.createElement(Jt,Yi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},Vc(P,J,W)),a&&g.createElement(IW,{option:a,tickProps:K,value:"".concat(typeof c=="function"?c(J.value,W):J.value).concat(d||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},oe.length>0&&g.createElement(rn,{zIndex:ar.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:t},oe)),ee.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},ee))}),DW=g.forwardRef((e,t)=>{var{axisLine:r,width:a,height:s,className:o,hide:c,ticks:d,axisType:u}=e,p=_W(e,NW),[f,h]=g.useState(""),[v,y]=g.useState(""),N=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return wW({ticks:N.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=g.useCallback(b=>{if(b){var _=b.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=_;var S=_[0];if(S){var C=window.getComputedStyle(S),E=C.fontSize,P=C.letterSpacing;(E!==f||P!==v)&&(h(E),y(P))}}},[f,v]);return c||a!=null&&a<=0||s!=null&&s<=0?null:g.createElement(rn,{zIndex:e.zIndex},g.createElement(Jt,{className:ft("recharts-cartesian-axis",o)},g.createElement(AW,{x:e.x,y:e.y,width:a,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:en(e)}),g.createElement(MW,{ref:j,axisType:u,events:p,fontSize:f,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(EU,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(FU,{label:e.label,labelRef:e.labelRef}),e.children)))}),nb=g.forwardRef((e,t)=>{var r=Qt(e,ns);return g.createElement(DW,Yi({},r,{ref:t}))});nb.displayName="CartesianAxis";var LW=["x1","y1","x2","y2","key"],$W=["offset"],zW=["xAxisId","yAxisId"],RW=["xAxisId","yAxisId"];function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(a){FW(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function FW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Li.apply(null,arguments)}function Qm(e,t){if(e==null)return{};var r,a,s=qW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qW(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var KW=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:a,y:s,width:o,height:c,ry:d}=e;return g.createElement("rect",{x:a,y:s,ry:d,width:o,height:c,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function uE(e){var{option:t,lineItemProps:r}=e,a;if(g.isValidElement(t))a=g.cloneElement(t,r);else if(typeof t=="function")a=t(r);else{var s,{x1:o,y1:c,x2:d,y2:u,key:p}=r,f=Qm(r,LW),h=(s=en(f))!==null&&s!==void 0?s:{},{offset:v}=h,y=Qm(h,$W);a=g.createElement("line",Li({},y,{x1:o,y1:c,x2:d,y2:u,fill:"none",key:p}))}return a}function WW(e){var{x:t,width:r,horizontal:a=!0,horizontalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,d=Qm(e,zW),u=s.map((p,f)=>{var h=Hr(Hr({},d),{},{x1:t,y1:p,x2:t+r,y2:p,key:"line-".concat(f),index:f});return g.createElement(uE,{key:"line-".concat(f),option:a,lineItemProps:h})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function HW(e){var{y:t,height:r,vertical:a=!0,verticalPoints:s}=e;if(!a||!s||!s.length)return null;var{xAxisId:o,yAxisId:c}=e,d=Qm(e,RW),u=s.map((p,f)=>{var h=Hr(Hr({},d),{},{x1:p,y1:t,x2:p,y2:t+r,key:"line-".concat(f),index:f});return g.createElement(uE,{option:a,lineItemProps:h,key:"line-".concat(f)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function VW(e){var{horizontalFill:t,fillOpacity:r,x:a,y:s,width:o,height:c,horizontalPoints:d,horizontal:u=!0}=e;if(!u||!t||!t.length||d==null)return null;var p=d.map(h=>Math.round(h+s-s)).sort((h,v)=>h-v);s!==p[0]&&p.unshift(0);var f=p.map((h,v)=>{var y=!p[v+1],N=y?s+c-h:p[v+1]-h;if(N<=0)return null;var j=v%t.length;return g.createElement("rect",{key:"react-".concat(v),y:h,x:a,height:N,width:o,stroke:"none",fill:t[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function GW(e){var{vertical:t=!0,verticalFill:r,fillOpacity:a,x:s,y:o,width:c,height:d,verticalPoints:u}=e;if(!t||!r||!r.length)return null;var p=u.map(h=>Math.round(h+s-s)).sort((h,v)=>h-v);s!==p[0]&&p.unshift(0);var f=p.map((h,v)=>{var y=!p[v+1],N=y?s+c-h:p[v+1]-h;if(N<=0)return null;var j=v%r.length;return g.createElement("rect",{key:"react-".concat(v),x:h,y:o,width:N,height:d,stroke:"none",fill:r[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var YW=(e,t)=>{var{xAxis:r,width:a,height:s,offset:o}=e;return rC(rb(Hr(Hr(Hr({},ns),r),{},{ticks:nC(r),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,t)},XW=(e,t)=>{var{yAxis:r,width:a,height:s,offset:o}=e;return rC(rb(Hr(Hr(Hr({},ns),r),{},{ticks:nC(r),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,t)},JW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ar.grid};function as(e){var t=E0(),r=O0(),a=mC(),s=Hr(Hr({},Qt(e,JW)),{},{x:Le(e.x)?e.x:a.left,y:Le(e.y)?e.y:a.top,width:Le(e.width)?e.width:a.width,height:Le(e.height)?e.height:a.height}),{xAxisId:o,yAxisId:c,x:d,y:u,width:p,height:f,syncWithTicks:h,horizontalValues:v,verticalValues:y}=s,N=Ar(),j=Ue(M=>_2(M,"xAxis",o,N)),b=Ue(M=>_2(M,"yAxis",c,N));if(!_a(p)||!_a(f)||!Le(d)||!Le(u))return null;var _=s.verticalCoordinatesGenerator||YW,S=s.horizontalCoordinatesGenerator||XW,{horizontalPoints:C,verticalPoints:E}=s;if((!C||!C.length)&&typeof S=="function"){var P=v&&v.length,O=S({yAxis:b?Hr(Hr({},b),{},{ticks:P?v:b.ticks}):void 0,width:t??p,height:r??f,offset:a},P?!0:h);Sm(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(C=O)}if((!E||!E.length)&&typeof _=="function"){var T=y&&y.length,U=_({xAxis:j?Hr(Hr({},j),{},{ticks:T?y:j.ticks}):void 0,width:t??p,height:r??f,offset:a},T?!0:h);Sm(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof U,"]")),Array.isArray(U)&&(E=U)}return g.createElement(rn,{zIndex:s.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(KW,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(VW,Li({},s,{horizontalPoints:C})),g.createElement(GW,Li({},s,{verticalPoints:E})),g.createElement(WW,Li({},s,{offset:a,horizontalPoints:C,xAxis:j,yAxis:b})),g.createElement(HW,Li({},s,{offset:a,verticalPoints:E,xAxis:j,yAxis:b}))))}as.displayName="CartesianGrid";var ZW={},mE=hn({name:"errorBars",initialState:ZW,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]||(e[r]=[]),e[r].push(a)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:a,next:s}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===a.dataKey&&o.direction===a.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:a}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==a.dataKey||s.direction!==a.direction))}}}),{addErrorBar:MZ,replaceErrorBar:DZ,removeErrorBar:LZ}=mE.actions,QW=mE.reducer,eH=["children"];function tH(e,t){if(e==null)return{};var r,a,s=rH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rH(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var nH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},aH=g.createContext(nH);function fE(e){var{children:t}=e,r=tH(e,eH);return g.createElement(aH.Provider,{value:r},t)}function ip(e,t){var r,a,s=Ue(p=>Ns(p,e)),o=Ue(p=>_s(p,t)),c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Nr.allowDataOverflow,d=(a=o?.allowDataOverflow)!==null&&a!==void 0?a:_r.allowDataOverflow,u=c||d;return{needClip:u,needClipX:c,needClipY:d}}function ab(e){var{xAxisId:t,yAxisId:r,clipPathId:a}=e,s=sp(),{needClipX:o,needClipY:c,needClip:d}=ip(t,r);if(!d||!s)return null;var{x:u,y:p,width:f,height:h}=s;return g.createElement("clipPath",{id:"clipPath-".concat(a)},g.createElement("rect",{x:o?u:u-f/2,y:c?p:p-h/2,width:o?f:f*2,height:c?h:h*2}))}var pE=(e,t,r,a)=>Pa(e,"xAxis",t,a),hE=(e,t,r,a)=>Sa(e,"xAxis",t,a),gE=(e,t,r,a)=>Pa(e,"yAxis",r,a),xE=(e,t,r,a)=>Sa(e,"yAxis",r,a),sH=ae([ut,pE,gE,hE,xE],(e,t,r,a,s)=>Oa(e,"xAxis")?ni(t,a,!1):ni(r,s,!1)),iH=(e,t,r,a,s)=>s;function oH(e){return e.type==="line"}var lH=ae([id,iH],(e,t)=>e.filter(oH).find(r=>r.id===t)),cH=ae([ut,pE,gE,hE,xE,lH,sH,nv],(e,t,r,a,s,o,c,d)=>{var{chartData:u,dataStartIndex:p,dataEndIndex:f}=d;if(!(o==null||t==null||r==null||a==null||s==null||a.length===0||s.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:h,data:v}=o,y;if(v!=null&&v.length>0?y=v:y=u?.slice(p,f+1),y!=null)return YH({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:h,bandSize:c,displayedData:y})}});function yE(e){var t=Ui(e),r=3,a=2;if(t!=null){var{r:s,strokeWidth:o}=t,c=Number(s),d=Number(o);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(d)||d<0)&&(d=a),{r:c,strokeWidth:d}}return{r,strokeWidth:a}}var Tx={exports:{}},Ix={};var Mk;function dH(){if(Mk)return Ix;Mk=1;var e=nl();function t(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var r=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Ix.useSyncExternalStoreWithSelector=function(u,p,f,h,v){var y=s(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=c(function(){function b(P){if(!_){if(_=!0,S=P,P=h(P),v!==void 0&&N.hasValue){var O=N.value;if(v(O,P))return C=O}return C=P}if(O=C,r(S,P))return O;var T=h(P);return v!==void 0&&v(O,T)?(S=P,O):(S=P,C=T)}var _=!1,S,C,E=f===void 0?null:f;return[function(){return b(p())},E===null?void 0:function(){return b(E())}]},[p,f,h,v]);var j=a(u,y[0],y[1]);return o(function(){N.hasValue=!0,N.value=j},[j]),d(j),j},Ix}var Dk;function uH(){return Dk||(Dk=1,Tx.exports=dH()),Tx.exports}uH();function mH(e){e()}function fH(){let e=null,t=null;return{clear(){e=null,t=null},notify(){mH(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let a=e;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!a||e===null||(a=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Lk={notify(){},get:()=>[]};function pH(e,t){let r,a=Lk,s=0,o=!1;function c(j){f();const b=a.subscribe(j);let _=!1;return()=>{_||(_=!0,b(),h())}}function d(){a.notify()}function u(){N.onStateChange&&N.onStateChange()}function p(){return o}function f(){s++,r||(r=e.subscribe(u),a=fH())}function h(){s--,r&&s===0&&(r(),r=void 0,a.clear(),a=Lk)}function v(){o||(o=!0,f())}function y(){o&&(o=!1,h())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:u,isSubscribed:p,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>a};return N}var hH=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gH=hH(),xH=()=>typeof navigator<"u"&&navigator.product==="ReactNative",yH=xH(),vH=()=>gH||yH?g.useLayoutEffect:g.useEffect,bH=vH();function $k(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function jH(e,t){if($k(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!$k(e[r[s]],t[r[s]]))return!1;return!0}var wH=Symbol.for("react-redux-context"),NH=typeof globalThis<"u"?globalThis:{};function _H(){if(!g.createContext)return{};const e=NH[wH]??=new Map;let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var kH=_H();function SH(e){const{children:t,context:r,serverState:a,store:s}=e,o=g.useMemo(()=>{const u=pH(s);return{store:s,subscription:u,getServerState:a?()=>a:void 0}},[s,a]),c=g.useMemo(()=>s.getState(),[s]);bH(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==s.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,c]);const d=r||kH;return g.createElement(d.Provider,{value:o},t)}var PH=SH,CH=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function AH(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function fd(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var a of r)if(CH.has(a)){if(e[a]==null&&t[a]==null)continue;if(!jH(e[a],t[a]))return!1}else if(!AH(e[a],t[a]))return!1;return!0}var EH=["id"],OH=["type","layout","connectNulls","needClip","shape"],TH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Bc.apply(null,arguments)}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(a){IH(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function IH(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sb(e,t){if(e==null)return{};var r,a,s=LH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LH(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var $H=e=>{var{dataKey:t,name:r,stroke:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:a,value:li(r,t),payload:e}]},zH=g.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:o,name:c,hide:d,unit:u,tooltipType:p,id:f}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:li(c,t),hide:d,type:p,color:a,unit:u,graphicalItemId:f}};return g.createElement(rp,{tooltipEntrySettings:h})}),vE=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function RH(e,t){for(var r=e.length%2!==0?[...e,0]:e,a=[],s=0;s<t;++s)a=[...a,...r];return a}var FH=(e,t,r)=>{var a=r.reduce((h,v)=>h+v);if(!a)return vE(t,e);for(var s=Math.floor(e/a),o=e%a,c=t-e,d=[],u=0,p=0;u<r.length;p+=r[u],++u)if(p+r[u]>o){d=[...r.slice(0,u),o-p];break}var f=d.length%2===0?[0,c]:[c];return[...RH(r,s),...d,...f].map(h=>"".concat(h,"px")).join(", ")};function BH(e){var{clipPathId:t,points:r,props:a}=e,{dot:s,dataKey:o,needClip:c}=a,{id:d}=a,u=sb(a,EH),p=en(u);return g.createElement(aE,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:o,baseProps:p,needClip:c,clipPathId:t})}function UH(e){var{showLabels:t,children:r,points:a}=e,s=g.useMemo(()=>a?.map(o=>{var c,d,u={x:(c=o.x)!==null&&c!==void 0?c:0,y:(d=o.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ga(ga({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[a]);return g.createElement(Kv,{value:t?s:void 0},r)}function Rk(e){var{clipPathId:t,pathRef:r,points:a,strokeDasharray:s,props:o}=e,{type:c,layout:d,connectNulls:u,needClip:p,shape:f}=o,h=sb(o,OH),v=ga(ga({},Yr(h)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:a,type:c,layout:d,connectNulls:u,strokeDasharray:s??o.strokeDasharray});return g.createElement(g.Fragment,null,a?.length>1&&g.createElement(Yv,Bc({shapeType:"curve",option:f},v,{pathRef:r})),g.createElement(BH,{points:a,clipPathId:t,props:o}))}function qH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function KH(e){var{clipPathId:t,props:r,pathRef:a,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:c,strokeDasharray:d,isAnimationActive:u,animationBegin:p,animationDuration:f,animationEasing:h,animateNewValues:v,width:y,height:N,onAnimationEnd:j,onAnimationStart:b}=r,_=s.current,S=dl(c,"recharts-line-"),C=g.useRef(S),[E,P]=g.useState(!1),O=!E,T=g.useCallback(()=>{typeof j=="function"&&j(),P(!1)},[j]),U=g.useCallback(()=>{typeof b=="function"&&b(),P(!0)},[b]),M=qH(a.current),z=g.useRef(0);C.current!==S&&(z.current=o.current,C.current=S);var I=z.current;return g.createElement(UH,{points:c,showLabels:O},r.children,g.createElement(cl,{animationId:S,begin:p,duration:f,isActive:u,easing:h,onAnimationEnd:T,onAnimationStart:U,key:S},q=>{var L=bt(I,M+I,q),D=Math.min(L,M),ee;if(u)if(d){var oe="".concat(d).split(/[,\s]+/gim).map(J=>parseFloat(J));ee=FH(D,M,oe)}else ee=vE(M,D);else ee=d==null?void 0:String(d);if(q>0&&M>0&&(s.current=c,o.current=Math.max(o.current,D)),_){var ie=_.length/c.length,W=q===1?c:c.map((J,ue)=>{var K=Math.floor(ue*ie);if(_[K]){var te=_[K];return ga(ga({},J),{},{x:bt(te.x,J.x,q),y:bt(te.y,J.y,q)})}return v?ga(ga({},J),{},{x:bt(y*2,J.x,q),y:bt(N/2,J.y,q)}):ga(ga({},J),{},{x:J.x,y:J.y})});return s.current=W,g.createElement(Rk,{props:r,points:W,clipPathId:t,pathRef:a,strokeDasharray:ee})}return g.createElement(Rk,{props:r,points:c,clipPathId:t,pathRef:a,strokeDasharray:ee})}),g.createElement(Qf,{label:r.label}))}function WH(e){var{clipPathId:t,props:r}=e,a=g.useRef(null),s=g.useRef(0),o=g.useRef(null);return g.createElement(KH,{props:r,clipPathId:t,previousPointsRef:a,longestAnimatedLengthRef:s,pathRef:o})}var HH=(e,t)=>{var r,a;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(a=e.y)!==null&&a!==void 0?a:void 0,value:e.value,errorVal:jt(e.payload,t)}};class VH extends g.Component{render(){var{hide:t,dot:r,points:a,className:s,xAxisId:o,yAxisId:c,top:d,left:u,width:p,height:f,id:h,needClip:v,zIndex:y}=this.props;if(t)return null;var N=ft("recharts-line",s),j=h,{r:b,strokeWidth:_}=yE(r),S=Gv(r),C=b*2+_,E=v?"url(#clipPath-".concat(S?"":"dots-").concat(j,")"):void 0;return g.createElement(rn,{zIndex:y},g.createElement(Jt,{className:N},v&&g.createElement("defs",null,g.createElement(ab,{clipPathId:j,xAxisId:o,yAxisId:c}),!S&&g.createElement("clipPath",{id:"clipPath-dots-".concat(j)},g.createElement("rect",{x:u-C/2,y:d-C/2,width:p+C,height:f+C}))),g.createElement(fE,{xAxisId:o,yAxisId:c,data:a,dataPointFormatter:HH,errorBarOffset:0},g.createElement(WH,{props:this.props,clipPathId:j}))),g.createElement(Ry,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:E}))}}var bE={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ar.line,type:"linear"};function GH(e){var t=Qt(e,bE),{activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:o,animationEasing:c,connectNulls:d,dot:u,hide:p,isAnimationActive:f,label:h,legendType:v,xAxisId:y,yAxisId:N,id:j}=t,b=sb(t,TH),{needClip:_}=ip(y,N),S=sp(),C=ci(),E=Ar(),P=Ue(z=>cH(z,y,N,E,j));if(C!=="horizontal"&&C!=="vertical"||P==null||S==null)return null;var{height:O,width:T,x:U,y:M}=S;return g.createElement(VH,Bc({},b,{id:j,connectNulls:d,dot:u,activeDot:r,animateNewValues:a,animationBegin:s,animationDuration:o,animationEasing:c,isAnimationActive:f,hide:p,label:h,legendType:v,xAxisId:y,yAxisId:N,points:P,layout:C,height:O,width:T,left:U,top:M,needClip:_}))}function YH(e){var{layout:t,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:o,dataKey:c,bandSize:d,displayedData:u}=e;return u.map((p,f)=>{var h=jt(p,c);if(t==="horizontal"){var v=km({axis:r,ticks:s,bandSize:d,entry:p,index:f}),y=$t(h)?null:a.scale(h);return{x:v,y,value:h,payload:p}}var N=$t(h)?null:r.scale(h),j=km({axis:a,ticks:o,bandSize:d,entry:p,index:f});return N==null||j==null?null:{x:N,y:j,value:h,payload:p}}).filter(Boolean)}function XH(e){var t=Qt(e,bE),r=Ar();return g.createElement(np,{id:t.id,type:"line"},a=>g.createElement(g.Fragment,null,g.createElement(Qv,{legendPayload:$H(t)}),g.createElement(zH,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),g.createElement(eb,{type:"line",id:a,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),g.createElement(GH,Bc({},t,{id:a}))))}var jE=g.memo(XH,fd);jE.displayName="Line";function Ta(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.xAxisId)!==null&&r!==void 0?r:sE}function Ia(e,t){var r,a;return(r=(a=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||a===void 0?void 0:a.yAxisId)!==null&&r!==void 0?r:sE}var wE=(e,t,r)=>Pa(e,"xAxis",Ta(e,t),r),NE=(e,t,r)=>Sa(e,"xAxis",Ta(e,t),r),_E=(e,t,r)=>Pa(e,"yAxis",Ia(e,t),r),kE=(e,t,r)=>Sa(e,"yAxis",Ia(e,t),r),JH=ae([ut,wE,_E,NE,kE],(e,t,r,a,s)=>Oa(e,"xAxis")?ni(t,a,!1):ni(r,s,!1)),ZH=(e,t)=>t,SE=ae([id,ZH],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),PE=e=>{var t=ut(e),r=Oa(t,"xAxis");return r?"yAxis":"xAxis"},QH=(e,t)=>{var r=PE(e);return r==="yAxis"?Ia(e,t):Ta(e,t)},eV=(e,t,r)=>Hm(e,PE(e),QH(e,t),r),tV=ae([SE,eV],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:a}=e,s=Uf(e);if(!(a==null||s==null)){var o=(r=t[a])===null||r===void 0?void 0:r.stackedData,c=o?.find(d=>d.key===s);if(c!=null)return c.map(d=>[d[0],d[1]])}}}),rV=ae([ut,wE,_E,NE,kE,tV,pA,JH,SE,TF],(e,t,r,a,s,o,c,d,u,p)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:v}=c;if(!(u==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||a==null||s==null||a.length===0||s.length===0||d==null)){var{data:y}=u,N;if(y&&y.length>0?N=y:N=f?.slice(h,v+1),N!=null)return jV({layout:e,xAxis:t,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataStartIndex:h,areaSettings:u,stackedData:o,displayedData:N,chartBaseValue:p,bandSize:d})}}),nV=["id"],aV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fi.apply(null,arguments)}function CE(e,t){if(e==null)return{};var r,a,s=sV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(a){iV(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iV(e,t,r){return(t=oV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ef(e,t){return e&&e!=="none"?e:t}var cV=e=>{var{dataKey:t,name:r,stroke:a,fill:s,legendType:o,hide:c}=e;return[{inactive:c,dataKey:t,type:o,color:ef(a,s),value:li(r,t),payload:e}]},dV=g.memo(e=>{var{dataKey:t,data:r,stroke:a,strokeWidth:s,fill:o,name:c,hide:d,unit:u,tooltipType:p,id:f}=e,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:a,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:li(c,t),hide:d,type:p,color:ef(a,o),unit:u,graphicalItemId:f}};return g.createElement(rp,{tooltipEntrySettings:h})});function uV(e){var{clipPathId:t,points:r,props:a}=e,{needClip:s,dot:o,dataKey:c}=a,d=en(a);return g.createElement(aE,{points:r,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:d,needClip:s,clipPathId:t})}function mV(e){var{showLabels:t,children:r,points:a}=e,s=a.map(o=>{var c,d,u={x:(c=o.x)!==null&&c!==void 0?c:0,y:(d=o.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return qo(qo({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return g.createElement(Kv,{value:t?s:void 0},r)}function Bk(e){var{points:t,baseLine:r,needClip:a,clipPathId:s,props:o}=e,{layout:c,type:d,stroke:u,connectNulls:p,isRange:f}=o,{id:h}=o,v=CE(o,nV),y=en(v),N=Yr(v);return g.createElement(g.Fragment,null,t?.length>1&&g.createElement(Jt,{clipPath:a?"url(#clipPath-".concat(s,")"):void 0},g.createElement(Wo,Fi({},N,{id:h,points:t,connectNulls:p,type:d,baseLine:r,layout:c,stroke:"none",className:"recharts-area-area"})),u!=="none"&&g.createElement(Wo,Fi({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:p,fill:"none",points:t})),u!=="none"&&f&&g.createElement(Wo,Fi({},y,{className:"recharts-area-curve",layout:c,type:d,connectNulls:p,fill:"none",points:r}))),g.createElement(uV,{points:t,props:v,clipPathId:s}))}function fV(e){var t,r,{alpha:a,baseLine:s,points:o,strokeWidth:c}=e,d=(t=o[0])===null||t===void 0?void 0:t.y,u=(r=o[o.length-1])===null||r===void 0?void 0:r.y;if(!At(d)||!At(u))return null;var p=a*Math.abs(d-u),f=Math.max(...o.map(h=>h.x||0));return Le(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.x||0),f)),Le(f)?g.createElement("rect",{x:0,y:d<u?d:d-p,width:f+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}function pV(e){var t,r,{alpha:a,baseLine:s,points:o,strokeWidth:c}=e,d=(t=o[0])===null||t===void 0?void 0:t.x,u=(r=o[o.length-1])===null||r===void 0?void 0:r.x;if(!At(d)||!At(u))return null;var p=a*Math.abs(d-u),f=Math.max(...o.map(h=>h.y||0));return Le(s)?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(...s.map(h=>h.y||0),f)),Le(f)?g.createElement("rect",{x:d<u?d:d-p,y:0,width:p,height:Math.floor(f+(c?parseInt("".concat(c),10):1))}):null}function hV(e){var{alpha:t,layout:r,points:a,baseLine:s,strokeWidth:o}=e;return r==="vertical"?g.createElement(fV,{alpha:t,points:a,baseLine:s,strokeWidth:o}):g.createElement(pV,{alpha:t,points:a,baseLine:s,strokeWidth:o})}function gV(e){var{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:o}=e,{points:c,baseLine:d,isAnimationActive:u,animationBegin:p,animationDuration:f,animationEasing:h,onAnimationStart:v,onAnimationEnd:y}=a,N=g.useMemo(()=>({points:c,baseLine:d}),[c,d]),j=dl(N,"recharts-area-"),b=YL(),[_,S]=g.useState(!1),C=!_,E=g.useCallback(()=>{typeof y=="function"&&y(),S(!1)},[y]),P=g.useCallback(()=>{typeof v=="function"&&v(),S(!0)},[v]);if(b==null)return null;var O=s.current,T=o.current;return g.createElement(mV,{showLabels:C,points:c},a.children,g.createElement(cl,{animationId:j,begin:p,duration:f,isActive:u,easing:h,onAnimationEnd:E,onAnimationStart:P,key:j},U=>{if(O){var M=O.length/c.length,z=U===1?c:c.map((q,L)=>{var D=Math.floor(L*M);if(O[D]){var ee=O[D];return qo(qo({},q),{},{x:bt(ee.x,q.x,U),y:bt(ee.y,q.y,U)})}return q}),I;return Le(d)?I=bt(T,d,U):$t(d)||Bn(d)?I=bt(T,0,U):I=d.map((q,L)=>{var D=Math.floor(L*M);if(Array.isArray(T)&&T[D]){var ee=T[D];return qo(qo({},q),{},{x:bt(ee.x,q.x,U),y:bt(ee.y,q.y,U)})}return q}),U>0&&(s.current=z,o.current=I),g.createElement(Bk,{points:z,baseLine:I,needClip:t,clipPathId:r,props:a})}return U>0&&(s.current=c,o.current=d),g.createElement(Jt,null,u&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(hV,{alpha:U,points:c,baseLine:d,layout:b,strokeWidth:a.strokeWidth}))),g.createElement(Jt,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(Bk,{points:c,baseLine:d,needClip:t,clipPathId:r,props:a})))}),g.createElement(Qf,{label:a.label}))}function xV(e){var{needClip:t,clipPathId:r,props:a}=e,s=g.useRef(null),o=g.useRef();return g.createElement(gV,{needClip:t,clipPathId:r,props:a,previousPointsRef:s,previousBaselineRef:o})}class yV extends g.PureComponent{render(){var{hide:t,dot:r,points:a,className:s,top:o,left:c,needClip:d,xAxisId:u,yAxisId:p,width:f,height:h,id:v,baseLine:y,zIndex:N}=this.props;if(t)return null;var j=ft("recharts-area",s),b=v,{r:_,strokeWidth:S}=yE(r),C=Gv(r),E=_*2+S,P=d?"url(#clipPath-".concat(C?"":"dots-").concat(b,")"):void 0;return g.createElement(rn,{zIndex:N},g.createElement(Jt,{className:j},d&&g.createElement("defs",null,g.createElement(ab,{clipPathId:b,xAxisId:u,yAxisId:p}),!C&&g.createElement("clipPath",{id:"clipPath-dots-".concat(b)},g.createElement("rect",{x:c-E/2,y:o-E/2,width:f+E,height:h+E}))),g.createElement(xV,{needClip:d,clipPathId:b,props:this.props})),g.createElement(Ry,{points:a,mainColor:ef(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(y)&&g.createElement(Ry,{points:y,mainColor:ef(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var AE={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ar.area};function vV(e){var t,r=Qt(e,AE),{activeDot:a,animationBegin:s,animationDuration:o,animationEasing:c,connectNulls:d,dot:u,fill:p,fillOpacity:f,hide:h,isAnimationActive:v,legendType:y,stroke:N,xAxisId:j,yAxisId:b}=r,_=CE(r,aV),S=ci(),C=E4(),{needClip:E}=ip(j,b),P=Ar(),{points:O,isRange:T,baseLine:U}=(t=Ue(D=>rV(D,e.id,P)))!==null&&t!==void 0?t:{},M=sp();if(S!=="horizontal"&&S!=="vertical"||M==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:z,width:I,x:q,y:L}=M;return!O||!O.length?null:g.createElement(yV,Fi({},_,{activeDot:a,animationBegin:s,animationDuration:o,animationEasing:c,baseLine:U,connectNulls:d,dot:u,fill:p,fillOpacity:f,height:z,hide:h,layout:S,isAnimationActive:v==="auto"?!Zc.isSsr:v,isRange:T,legendType:y,needClip:E,points:O,stroke:N,width:I,left:q,top:L,xAxisId:j,yAxisId:b}))}var bV=(e,t,r,a,s)=>{var o=r??t;if(Le(o))return o;var c=e==="horizontal"?s:a,d=c.scale.domain();if(c.type==="number"){var u=Math.max(d[0],d[1]),p=Math.min(d[0],d[1]);return o==="dataMin"?p:o==="dataMax"||u<0?u:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]};function jV(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:a},stackedData:s,layout:o,chartBaseValue:c,xAxis:d,yAxis:u,displayedData:p,dataStartIndex:f,xAxisTicks:h,yAxisTicks:v,bandSize:y}=e,N=s&&s.length,j=bV(o,c,r,d,u),b=o==="horizontal",_=!1,S=p.map((E,P)=>{var O,T,U;if(N)U=s[f+P];else{var M=jt(E,a);Array.isArray(M)?(U=M,_=!0):U=[j,M]}var z=(O=(T=U)===null||T===void 0?void 0:T[1])!==null&&O!==void 0?O:null,I=z==null||N&&!t&&jt(E,a)==null;return b?{x:km({axis:d,ticks:h,bandSize:y,entry:E,index:P}),y:I?null:u.scale(z),value:U,payload:E}:{x:I?null:d.scale(z),y:km({axis:u,ticks:v,bandSize:y,entry:E,index:P}),value:U,payload:E}}),C;return N||_?C=S.map(E=>{var P=Array.isArray(E.value)?E.value[0]:null;return b?{x:E.x,y:P!=null&&E.y!=null?u.scale(P):null,payload:E.payload}:{x:P!=null?d.scale(P):null,y:E.y,payload:E.payload}}):C=b?u.scale(j):d.scale(j),{points:S,baseLine:C,isRange:_}}function wV(e){var t=Qt(e,AE),r=Ar();return g.createElement(np,{id:t.id,type:"area"},a=>g.createElement(g.Fragment,null,g.createElement(Qv,{legendPayload:cV(t)}),g.createElement(dV,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),g.createElement(eb,{type:"area",id:a,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:aC(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(vV,Fi({},t,{id:a}))))}var wc=g.memo(wV,fd);wc.displayName="Area";var NV="Invariant failed";function _V(e,t){throw new Error(NV)}function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fy.apply(null,arguments)}function tf(e){return g.createElement(Yv,Fy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var kV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,s)=>{if(Le(t))return t;var o=Le(a)||$t(a);return o?t(a,s):(o||_V(),r)}},SV=(e,t,r)=>r,PV=(e,t)=>t,pd=ae([id,PV],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),CV=ae([pd],e=>e?.maxBarSize),AV=(e,t,r,a)=>a,EV=ae([ut,id,Ta,Ia,SV],(e,t,r,a,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===a).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),OV=(e,t,r)=>{var a=ut(e),s=Ta(e,t),o=Ia(e,t);if(!(s==null||o==null))return a==="horizontal"?Hm(e,"yAxis",o,r):Hm(e,"xAxis",s,r)},TV=(e,t)=>{var r=ut(e),a=Ta(e,t),s=Ia(e,t);if(!(a==null||s==null))return r==="horizontal"?N2(e,"xAxis",a):N2(e,"yAxis",s)},IV=ae([EV,OF,TV],GK),MV=(e,t,r)=>{var a,s,o=pd(e,t);if(o!=null){var c=Ta(e,t),d=Ia(e,t);if(!(c==null||d==null)){var u=ut(e),p=AA(e),{maxBarSize:f}=o,h=$t(f)?p:f,v,y;return u==="horizontal"?(v=Pa(e,"xAxis",c,r),y=Sa(e,"xAxis",c,r)):(v=Pa(e,"yAxis",d,r),y=Sa(e,"yAxis",d,r)),(a=(s=ni(v,y,!0))!==null&&s!==void 0?s:h)!==null&&a!==void 0?a:0}}},EE=(e,t,r)=>{var a=ut(e),s=Ta(e,t),o=Ia(e,t);if(!(s==null||o==null)){var c,d;return a==="horizontal"?(c=Pa(e,"xAxis",s,r),d=Sa(e,"xAxis",s,r)):(c=Pa(e,"yAxis",o,r),d=Sa(e,"yAxis",o,r)),ni(c,d)}},DV=ae([IV,AA,EF,EA,MV,EE,CV],QK),LV=(e,t,r)=>{var a=Ta(e,t);if(a!=null)return Pa(e,"xAxis",a,r)},$V=(e,t,r)=>{var a=Ia(e,t);if(a!=null)return Pa(e,"yAxis",a,r)},zV=(e,t,r)=>{var a=Ta(e,t);if(a!=null)return Sa(e,"xAxis",a,r)},RV=(e,t,r)=>{var a=Ia(e,t);if(a!=null)return Sa(e,"yAxis",a,r)},FV=ae([DV,pd],(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),BV=ae([OV,pd],eW),UV=ae([gr,C0,LV,$V,zV,RV,FV,ut,pA,EE,BV,pd,AV],(e,t,r,a,s,o,c,d,u,p,f,h,v)=>{var{chartData:y,dataStartIndex:N,dataEndIndex:j}=u;if(!(h==null||c==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||a==null||s==null||o==null||p==null)){var{data:b}=h,_;if(b!=null&&b.length>0?_=b:_=y?.slice(N,j+1),_!=null)return xG({layout:d,barSettings:h,pos:c,parentViewBox:t,bandSize:p,xAxis:r,yAxis:a,xAxisTicks:s,yAxisTicks:o,stackedData:f,displayedData:_,offset:e,cells:v,dataStartIndex:N})}}),qV=["index"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},By.apply(null,arguments)}function KV(e,t){if(e==null)return{};var r,a,s=WV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WV(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var OE=g.createContext(void 0),HV=e=>{var t=g.useContext(OE);if(t!=null)return t.stackId;if(e!=null)return aC(e)},VV=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),GV=e=>{var t=g.useContext(OE);if(t!=null){var{stackId:r}=t;return"url(#".concat(VV(r,e),")")}},YV=e=>{var{index:t}=e,r=KV(e,qV),a=GV(t);return g.createElement(Jt,By({className:"recharts-bar-stack-layer",clipPath:a},r))},XV=["onMouseEnter","onMouseLeave","onClick"],JV=["value","background","tooltipPosition"],ZV=["id"],QV=["onMouseEnter","onClick","onMouseLeave"];function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xs.apply(null,arguments)}function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(a){eG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rf(e,t){if(e==null)return{};var r,a,s=nG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var aG=e=>{var{dataKey:t,name:r,fill:a,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:a,value:li(r,t),payload:e}]},sG=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:s,name:o,hide:c,unit:d,tooltipType:u,id:p}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:li(o,t),hide:c,type:u,color:s,unit:d,graphicalItemId:p}};return g.createElement(rp,{tooltipEntrySettings:f})});function iG(e){var t=Ue(si),{data:r,dataKey:a,background:s,allOtherBarProps:o}=e,{onMouseEnter:c,onMouseLeave:d,onClick:u}=o,p=rf(o,XV),f=Xv(c,a,o.id),h=Jv(d),v=Zv(u,a,o.id);if(!s||r==null)return null;var y=Ui(s);return g.createElement(rn,{zIndex:tW(s,ar.barBackground)},r.map((N,j)=>{var{value:b,background:_,tooltipPosition:S}=N,C=rf(N,JV);if(!_)return null;var E=f(N,j),P=h(N,j),O=v(N,j),T=Zr(Zr(Zr(Zr(Zr({option:s,isActive:String(j)===t},C),{},{fill:"#eee"},_),y),Vc(p,N,j)),{},{onMouseEnter:E,onMouseLeave:P,onClick:O,dataKey:a,index:j,className:"recharts-bar-background-rectangle"});return g.createElement(tf,xs({key:"background-bar-".concat(j)},T))}))}function oG(e){var{showLabels:t,children:r,rects:a}=e,s=a?.map(o=>{var c={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Zr(Zr({},c),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:c,fill:o.fill})});return g.createElement(Kv,{value:t?s:void 0},r)}function lG(e){var{shape:t,activeBar:r,baseProps:a,entry:s,index:o,dataKey:c}=e,d=Ue(si),u=Ue(zv),p=r&&String(o)===d&&(u==null||c===u),f=p?r:t;return p?g.createElement(rn,{zIndex:ar.activeBar},g.createElement(tf,xs({},a,{name:String(a.name)},s,{isActive:p,option:f,index:o,dataKey:c}))):g.createElement(tf,xs({},a,{name:String(a.name)},s,{isActive:p,option:f,index:o,dataKey:c}))}function cG(e){var{shape:t,baseProps:r,entry:a,index:s,dataKey:o}=e;return g.createElement(tf,xs({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:s,dataKey:o}))}function dG(e){var t,{data:r,props:a}=e,s=(t=en(a))!==null&&t!==void 0?t:{},{id:o}=s,c=rf(s,ZV),{shape:d,dataKey:u,activeBar:p}=a,{onMouseEnter:f,onClick:h,onMouseLeave:v}=a,y=rf(a,QV),N=Xv(f,u,o),j=Jv(v),b=Zv(h,u,o);return r?g.createElement(g.Fragment,null,r.map((_,S)=>g.createElement(YV,xs({index:S,key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(S),className:"recharts-bar-rectangle"},Vc(y,_,S),{onMouseEnter:N(_,S),onMouseLeave:j(_,S),onClick:b(_,S)}),p?g.createElement(lG,{shape:d,activeBar:p,baseProps:c,entry:_,index:S,dataKey:u}):g.createElement(cG,{shape:d,baseProps:c,entry:_,index:S,dataKey:u})))):null}function uG(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:u,onAnimationEnd:p,onAnimationStart:f}=t,h=r.current,v=dl(t,"recharts-bar-"),[y,N]=g.useState(!1),j=!y,b=g.useCallback(()=>{typeof p=="function"&&p(),N(!1)},[p]),_=g.useCallback(()=>{typeof f=="function"&&f(),N(!0)},[f]);return g.createElement(oG,{showLabels:j,rects:a},g.createElement(cl,{animationId:v,begin:c,duration:d,isActive:o,easing:u,onAnimationEnd:b,onAnimationStart:_,key:v},S=>{var C=S===1?a:a?.map((E,P)=>{var O=h&&h[P];if(O)return Zr(Zr({},E),{},{x:bt(O.x,E.x,S),y:bt(O.y,E.y,S),width:bt(O.width,E.width,S),height:bt(O.height,E.height,S)});if(s==="horizontal"){var T=bt(0,E.height,S),U=bt(E.stackedBarStart,E.y,S);return Zr(Zr({},E),{},{y:U,height:T})}var M=bt(0,E.width,S),z=bt(E.stackedBarStart,E.x,S);return Zr(Zr({},E),{},{width:M,x:z})});return S>0&&(r.current=C??null),C==null?null:g.createElement(Jt,null,g.createElement(dG,{props:t,data:C}))}),g.createElement(Qf,{label:t.label}),t.children)}function mG(e){var t=g.useRef(null);return g.createElement(uG,{previousRectanglesRef:t,props:e})}var TE=0,fG=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:jt(e,t)}};class pG extends g.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:s,xAxisId:o,yAxisId:c,needClip:d,background:u,id:p}=this.props;if(t||r==null)return null;var f=ft("recharts-bar",s),h=p;return g.createElement(Jt,{className:f,id:p},d&&g.createElement("defs",null,g.createElement(ab,{clipPathId:h,xAxisId:o,yAxisId:c})),g.createElement(Jt,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(h,")"):void 0},g.createElement(iG,{data:r,dataKey:a,background:u,allOtherBarProps:this.props}),g.createElement(mG,this.props)))}}var hG={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:TE,xAxisId:0,yAxisId:0,zIndex:ar.bar};function gG(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:o,activeBar:c,animationBegin:d,animationDuration:u,animationEasing:p,isAnimationActive:f}=e,{needClip:h}=ip(t,r),v=ci(),y=Ar(),N=Vv(e.children,bl),j=Ue(S=>UV(S,e.id,y,N));if(v!=="vertical"&&v!=="horizontal")return null;var b,_=j?.[0];return _==null||_.height==null||_.width==null?b=0:b=v==="vertical"?_.height/2:_.width/2,g.createElement(fE,{xAxisId:t,yAxisId:r,data:j,dataPointFormatter:fG,errorBarOffset:b},g.createElement(pG,xs({},e,{layout:v,needClip:h,data:j,xAxisId:t,yAxisId:r,hide:a,legendType:s,minPointSize:o,activeBar:c,animationBegin:d,animationDuration:u,animationEasing:p,isAnimationActive:f})))}function xG(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:s,bandSize:o,xAxis:c,yAxis:d,xAxisTicks:u,yAxisTicks:p,stackedData:f,displayedData:h,offset:v,cells:y,parentViewBox:N,dataStartIndex:j}=e,b=t==="horizontal"?d:c,_=f?b.scale.domain():null,S=fL({numericAxis:b}),C=b.scale(S);return h.map((E,P)=>{var O,T,U,M,z,I;if(f){var q=f[P+j];if(q==null)return null;O=lL(q,_)}else O=jt(E,r),Array.isArray(O)||(O=[S,O]);var L=kV(a,TE)(O[1],P);if(t==="horizontal"){var D,[ee,oe]=[d.scale(O[0]),d.scale(O[1])];T=PN({axis:c,ticks:u,bandSize:o,offset:s.offset,entry:E,index:P}),U=(D=oe??ee)!==null&&D!==void 0?D:void 0,M=s.size;var ie=ee-oe;if(z=Bn(ie)?0:ie,I={x:T,y:v.top,width:M,height:v.height},Math.abs(L)>0&&Math.abs(z)<Math.abs(L)){var W=Pr(z||L)*(Math.abs(L)-Math.abs(z));U-=W,z+=W}}else{var[J,ue]=[c.scale(O[0]),c.scale(O[1])];if(T=J,U=PN({axis:d,ticks:p,bandSize:o,offset:s.offset,entry:E,index:P}),M=ue-J,z=s.size,I={x:v.left,y:U,width:v.width,height:z},Math.abs(L)>0&&Math.abs(M)<Math.abs(L)){var K=Pr(M||L)*(Math.abs(L)-Math.abs(M));M+=K}}if(T==null||U==null||M==null||z==null)return null;var te=Zr(Zr({},E),{},{stackedBarStart:C,x:T,y:U,width:M,height:z,value:f?O:O[1],payload:E,background:I,tooltipPosition:{x:T+M/2,y:U+z/2},parentViewBox:N},y&&y[P]&&y[P].props);return te}).filter(Boolean)}function yG(e){var t=Qt(e,hG),r=HV(t.stackId),a=Ar();return g.createElement(np,{id:t.id,type:"bar"},s=>g.createElement(g.Fragment,null,g.createElement(Qv,{legendPayload:aG(t)}),g.createElement(sG,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:s}),g.createElement(eb,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),g.createElement(rn,{zIndex:t.zIndex},g.createElement(gG,xs({},t,{id:s})))))}var el=g.memo(yG,fd);el.displayName="Bar";var vG=["domain","range"],bG=["domain","range"];function qk(e,t){if(e==null)return{};var r,a,s=jG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Kk(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function IE(e,t){if(e===t)return!0;var{domain:r,range:a}=e,s=qk(e,vG),{domain:o,range:c}=t,d=qk(t,bG);return!Kk(r,o)||!Kk(a,c)?!1:fd(s,d)}var wG=["dangerouslySetInnerHTML","ticks","scale"],NG=["id","scale"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Uy.apply(null,arguments)}function Wk(e,t){if(e==null)return{};var r,a,s=_G(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _G(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function kG(e){var t=Tt(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(IK(e)):r.current!==e&&t(MK({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(DK(r.current)),r.current=null)},[t]),null}var SG=e=>{var{xAxisId:t,className:r}=e,a=Ue(C0),s=Ar(),o="xAxis",c=Ue(_=>l4(_,o,t,s)),d=Ue(_=>a4(_,t)),u=Ue(_=>AB(_,t)),p=Ue(_=>RA(_,t));if(d==null||u==null||p==null)return null;var{dangerouslySetInnerHTML:f,ticks:h,scale:v}=e,y=Wk(e,wG),{id:N,scale:j}=p,b=Wk(p,NG);return g.createElement(nb,Uy({},y,b,{x:u.x,y:u.y,width:d.width,height:d.height,className:ft("recharts-".concat(o," ").concat(o),r),viewBox:a,ticks:c,axisType:o}))},PG={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:Nr.allowDecimals,allowDuplicatedCategory:Nr.allowDuplicatedCategory,angle:Nr.angle,axisLine:ns.axisLine,height:Nr.height,hide:!1,includeHidden:Nr.includeHidden,interval:Nr.interval,minTickGap:Nr.minTickGap,mirror:Nr.mirror,orientation:Nr.orientation,padding:Nr.padding,reversed:Nr.reversed,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,tickLine:ns.tickLine,tickSize:ns.tickSize,type:Nr.type,xAxisId:0},CG=e=>{var t=Qt(e,PG);return g.createElement(g.Fragment,null,g.createElement(kG,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(SG,t))},ss=g.memo(CG,IE);ss.displayName="XAxis";var AG=["dangerouslySetInnerHTML","ticks","scale"],EG=["id","scale"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},qy.apply(null,arguments)}function Hk(e,t){if(e==null)return{};var r,a,s=OG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function TG(e){var t=Tt(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(LK(e)):r.current!==e&&t($K({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(zK(r.current)),r.current=null)},[t]),null}var IG=e=>{var{yAxisId:t,className:r,width:a,label:s}=e,o=g.useRef(null),c=g.useRef(null),d=Ue(C0),u=Ar(),p=Tt(),f="yAxis",h=Ue(O=>s4(O,t)),v=Ue(O=>OB(O,t)),y=Ue(O=>l4(O,f,t,u)),N=Ue(O=>FA(O,t));if(g.useLayoutEffect(()=>{if(!(a!=="auto"||!h||qv(s)||g.isValidElement(s)||N==null)){var O=o.current;if(O){var T=O.getCalculatedWidth();Math.round(h.width)!==Math.round(T)&&p(RK({id:t,width:T}))}}},[y,h,p,s,t,a,N]),h==null||v==null||N==null)return null;var{dangerouslySetInnerHTML:j,ticks:b,scale:_}=e,S=Hk(e,AG),{id:C,scale:E}=N,P=Hk(N,EG);return g.createElement(nb,qy({},S,P,{ref:o,labelRef:c,x:v.x,y:v.y,tickTextProps:a==="auto"?{width:void 0}:{width:a},width:h.width,height:h.height,className:ft("recharts-".concat(f," ").concat(f),r),viewBox:d,ticks:y,axisType:f}))},MG={allowDataOverflow:_r.allowDataOverflow,allowDecimals:_r.allowDecimals,allowDuplicatedCategory:_r.allowDuplicatedCategory,angle:_r.angle,axisLine:ns.axisLine,hide:!1,includeHidden:_r.includeHidden,interval:_r.interval,minTickGap:_r.minTickGap,mirror:_r.mirror,orientation:_r.orientation,padding:_r.padding,reversed:_r.reversed,scale:_r.scale,tick:_r.tick,tickCount:_r.tickCount,tickLine:ns.tickLine,tickSize:ns.tickSize,type:_r.type,width:_r.width,yAxisId:0},DG=e=>{var t=Qt(e,MG);return g.createElement(g.Fragment,null,g.createElement(TG,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(IG,t))},is=g.memo(DG,IE);is.displayName="YAxis";var LG=(e,t)=>t,ib=ae([LG,ut,$A,yr,_4,ks,H7,gr],Q7),ob=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,a=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/a)}},ME=Un("mouseClick"),DE=Yc();DE.startListening({actionCreator:ME,effect:(e,t)=>{var r=e.payload,a=ib(t.getState(),ob(r));a?.activeIndex!=null&&t.dispatch(WB({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}});var Ky=Un("mouseMove"),LE=Yc(),Uu=null;LE.startListening({actionCreator:Ky,effect:(e,t)=>{var r=e.payload;Uu!==null&&cancelAnimationFrame(Uu);var a=ob(r);Uu=requestAnimationFrame(()=>{var s=t.getState(),o=Tv(s,s.tooltip.settings.shared);if(o==="axis"){var c=ib(s,a);c?.activeIndex!=null?t.dispatch(g4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(h4())}Uu=null})}});function $G(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Vk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},$E=hn({name:"rootProps",initialState:Vk,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Vk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),zG=$E.reducer,{updateOptions:RG}=$E.actions,zE=hn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:FG}=zE.actions,BG=zE.reducer,RE=Un("keyDown"),FE=Un("focus"),lb=Yc();lb.startListening({actionCreator:RE,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=Iv(s,vl(r),ld(r),ud(r)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var u=ks(r);if(o==="Enter"){var p=Gm(r,"axis","hover",String(s.index));t.dispatch(Iy({active:!s.active,activeIndex:s.index,activeCoordinate:p}));return}var f=DB(r),h=f==="left-to-right"?1:-1,v=o==="ArrowRight"?1:-1,y=d+v*h;if(!(u==null||y>=u.length||y<0)){var N=Gm(r,"axis","hover",String(y));t.dispatch(Iy({active:!0,activeIndex:y.toString(),activeCoordinate:N}))}}}}}});lb.startListening({actionCreator:FE,effect:(e,t)=>{var r=t.getState(),a=r.rootProps.accessibilityLayer!==!1;if(a){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var o="0",c=Gm(r,"axis","hover",String(o));t.dispatch(Iy({active:!0,activeIndex:o,activeCoordinate:c}))}}}});var zn=Un("externalEvent"),BE=Yc(),Mx=new Map;BE.startListening({actionCreator:zn,effect:(e,t)=>{var{handler:r,reactEvent:a}=e.payload;if(r!=null){a.persist();var s=a.type,o=Mx.get(s);o!==void 0&&cancelAnimationFrame(o);var c=requestAnimationFrame(()=>{try{var d=t.getState(),u={activeCoordinate:O7(d),activeDataKey:zv(d),activeIndex:si(d),activeLabel:P4(d),activeTooltipIndex:si(d),isTooltipActive:T7(d)};r(u,a)}finally{Mx.delete(s)}});Mx.set(s,c)}}});var UG=ae([xl],e=>e.tooltipItemPayloads),qG=ae([UG,dd,(e,t)=>t,(e,t,r)=>r],(e,t,r,a)=>{var s=e.find(d=>d.settings.graphicalItemId===a);if(s!=null){var{positions:o}=s;if(o!=null){var c=t(o,r);return c}}}),UE=Un("touchMove"),qE=Yc();qE.startListening({actionCreator:UE,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var a=t.getState(),s=Tv(a,a.tooltip.settings.shared);if(s==="axis"){var o=r.touches[0];if(o==null)return;var c=ib(a,ob({clientX:o.clientX,clientY:o.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(g4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(s==="item"){var d,u=r.touches[0];if(document.elementFromPoint==null||u==null)return;var p=document.elementFromPoint(u.clientX,u.clientY);if(!p||!p.getAttribute)return;var f=p.getAttribute(iC),h=(d=p.getAttribute(oC))!==null&&d!==void 0?d:void 0,v=yl(a).find(j=>j.id===h);if(f==null||v==null||h==null)return;var{dataKey:y}=v,N=qG(a,f,h);t.dispatch(p4({activeDataKey:y,activeIndex:f,activeCoordinate:N,activeGraphicalItemId:h}))}}}});var KG=PP({brush:rW,cartesianAxis:FK,chartData:E9,errorBars:QW,graphicalItems:Vq,layout:rL,legend:d$,options:k9,polarAxis:oq,polarOptions:BG,referenceElements:cW,rootProps:zG,tooltip:HB,zIndex:f9}),WG=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return PD({reducer:KG,preloadedState:t,middleware:a=>{var s;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([DE.middleware,LE.middleware,lb.middleware,BE.middleware,qE.middleware])},enhancers:a=>{var s=a;return typeof a=="function"&&(s=a()),s.concat(UP({type:"raf"}))},devTools:{serialize:{replacer:$G},name:"recharts-".concat(r)}})};function KE(e){var{preloadedState:t,children:r,reduxStoreName:a}=e,s=Ar(),o=g.useRef(null);if(s)return r;o.current==null&&(o.current=WG(t,a));var c=j0;return g.createElement(PH,{context:c,store:o.current},r)}function HG(e){var{layout:t,margin:r}=e,a=Tt(),s=Ar();return g.useEffect(()=>{s||(a(QD(t)),a(ZD(r)))},[a,s,t,r]),null}var WE=g.memo(HG,fd);function HE(e){var t=Tt();return g.useEffect(()=>{t(RG(e))},[t,e]),null}function Gk(e){var{zIndex:t,isPanorama:r}=e,a=g.useRef(null),s=Tt();return g.useLayoutEffect(()=>(a.current&&s(u9({zIndex:t,element:a.current,isPanorama:r})),()=>{s(m9({zIndex:t,isPanorama:r}))}),[s,t,r]),g.createElement("g",{tabIndex:-1,ref:a})}function Yk(e){var{children:t,isPanorama:r}=e,a=Ue(t9);if(!a||a.length===0)return t;var s=a.filter(c=>c<0),o=a.filter(c=>c>0);return g.createElement(g.Fragment,null,s.map(c=>g.createElement(Gk,{key:c,zIndex:c,isPanorama:r})),t,o.map(c=>g.createElement(Gk,{key:c,zIndex:c,isPanorama:r})))}var VG=["children"];function GG(e,t){if(e==null)return{};var r,a,s=YG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YG(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},nf.apply(null,arguments)}var XG={width:"100%",height:"100%",display:"block"},JG=g.forwardRef((e,t)=>{var r=E0(),a=O0(),s=NC();if(!_a(r)||!_a(a))return null;var{children:o,otherAttributes:c,title:d,desc:u}=e,p,f;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=s?0:void 0,typeof c.role=="string"?f=c.role:f=s?"application":void 0),g.createElement(u0,nf({},c,{title:d,desc:u,role:f,tabIndex:p,width:r,height:a,style:XG,ref:t}),o)}),ZG=e=>{var{children:t}=e,r=Ue(Sf);if(!r)return null;var{width:a,height:s,y:o,x:c}=r;return g.createElement(u0,{width:a,height:s,x:c,y:o},t)},Xk=g.forwardRef((e,t)=>{var{children:r}=e,a=GG(e,VG),s=Ar();return s?g.createElement(ZG,null,g.createElement(Yk,{isPanorama:!0},r)):g.createElement(JG,nf({ref:t},a),g.createElement(Yk,{isPanorama:!1},r))});function QG(){var e=Tt(),[t,r]=g.useState(null),a=Ue(vL);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;At(o)&&o!==a&&e(tL(o))}},[t,e,a]),r}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function eY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(a){tY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tY(e,t,r){return(t=rY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rY(e){var t=nY(e,"string");return typeof t=="symbol"?t:t+""}function nY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xi.apply(null,arguments)}var aY=()=>(R9(),null);function af(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var sY=g.forwardRef((e,t)=>{var r,a,s=g.useRef(null),[o,c]=g.useState({containerWidth:af((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:af((a=e.style)===null||a===void 0?void 0:a.height)}),d=g.useCallback((p,f)=>{c(h=>{var v=Math.round(p),y=Math.round(f);return h.containerWidth===v&&h.containerHeight===y?h:{containerWidth:v,containerHeight:y}})},[]),u=g.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=p.getBoundingClientRect();d(f,h);var v=N=>{var{width:j,height:b}=N[0].contentRect;d(j,b)},y=new ResizeObserver(v);y.observe(p),s.current=y}},[t,d]);return g.useEffect(()=>()=>{var p=s.current;p?.disconnect()},[d]),g.createElement(g.Fragment,null,g.createElement(Cf,{width:o.containerWidth,height:o.containerHeight}),g.createElement("div",Xi({ref:u},e)))}),iY=g.forwardRef((e,t)=>{var{width:r,height:a}=e,[s,o]=g.useState({containerWidth:af(r),containerHeight:af(a)}),c=g.useCallback((u,p)=>{o(f=>{var h=Math.round(u),v=Math.round(p);return f.containerWidth===h&&f.containerHeight===v?f:{containerWidth:h,containerHeight:v}})},[]),d=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:p,height:f}=u.getBoundingClientRect();c(p,f)}},[t,c]);return g.createElement(g.Fragment,null,g.createElement(Cf,{width:s.containerWidth,height:s.containerHeight}),g.createElement("div",Xi({ref:d},e)))}),oY=g.forwardRef((e,t)=>{var{width:r,height:a}=e;return g.createElement(g.Fragment,null,g.createElement(Cf,{width:r,height:a}),g.createElement("div",Xi({ref:t},e)))}),lY=g.forwardRef((e,t)=>{var{width:r,height:a}=e;return us(r)||us(a)?g.createElement(iY,Xi({},e,{ref:t})):g.createElement(oY,Xi({},e,{ref:t}))});function cY(e){return e===!0?sY:lY}var dY=g.forwardRef((e,t)=>{var{children:r,className:a,height:s,onClick:o,onContextMenu:c,onDoubleClick:d,onMouseDown:u,onMouseEnter:p,onMouseLeave:f,onMouseMove:h,onMouseUp:v,onTouchEnd:y,onTouchMove:N,onTouchStart:j,style:b,width:_,responsive:S,dispatchTouchEvents:C=!0}=e,E=g.useRef(null),P=Tt(),[O,T]=g.useState(null),[U,M]=g.useState(null),z=QG(),I=A0(),q=I?.width>0?I.width:_,L=I?.height>0?I.height:s,D=g.useCallback(Y=>{z(Y),typeof t=="function"&&t(Y),T(Y),M(Y),Y!=null&&(E.current=Y)},[z,t,T,M]),ee=g.useCallback(Y=>{P(ME(Y)),P(zn({handler:o,reactEvent:Y}))},[P,o]),oe=g.useCallback(Y=>{P(Ky(Y)),P(zn({handler:p,reactEvent:Y}))},[P,p]),ie=g.useCallback(Y=>{P(h4()),P(zn({handler:f,reactEvent:Y}))},[P,f]),W=g.useCallback(Y=>{P(Ky(Y)),P(zn({handler:h,reactEvent:Y}))},[P,h]),J=g.useCallback(()=>{P(FE())},[P]),ue=g.useCallback(Y=>{P(RE(Y.key))},[P]),K=g.useCallback(Y=>{P(zn({handler:c,reactEvent:Y}))},[P,c]),te=g.useCallback(Y=>{P(zn({handler:d,reactEvent:Y}))},[P,d]),ve=g.useCallback(Y=>{P(zn({handler:u,reactEvent:Y}))},[P,u]),be=g.useCallback(Y=>{P(zn({handler:v,reactEvent:Y}))},[P,v]),Oe=g.useCallback(Y=>{P(zn({handler:j,reactEvent:Y}))},[P,j]),Me=g.useCallback(Y=>{C&&P(UE(Y)),P(zn({handler:N,reactEvent:Y}))},[P,C,N]),Ne=g.useCallback(Y=>{P(zn({handler:y,reactEvent:Y}))},[P,y]),F=cY(S);return g.createElement(D4.Provider,{value:O},g.createElement(qS.Provider,{value:U},g.createElement(F,{width:q??b?.width,height:L??b?.height,className:ft("recharts-wrapper",a),style:eY({position:"relative",cursor:"default",width:q,height:L},b),onClick:ee,onContextMenu:K,onDoubleClick:te,onFocus:J,onKeyDown:ue,onMouseDown:ve,onMouseEnter:oe,onMouseLeave:ie,onMouseMove:W,onMouseUp:be,onTouchEnd:Ne,onTouchMove:Me,onTouchStart:Oe,ref:D},g.createElement(aY,null),r)))}),uY=["width","height","responsive","children","className","style","compact","title","desc"];function mY(e,t){if(e==null)return{};var r,a,s=fY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var VE=g.forwardRef((e,t)=>{var{width:r,height:a,responsive:s,children:o,className:c,style:d,compact:u,title:p,desc:f}=e,h=mY(e,uY),v=en(h);return u?g.createElement(g.Fragment,null,g.createElement(Cf,{width:r,height:a}),g.createElement(Xk,{otherAttributes:v,title:p,desc:f},o)):g.createElement(dY,{className:c,style:d,width:r,height:a,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(Xk,{otherAttributes:v,title:p,desc:f,ref:t},g.createElement(uW,null,o)))});function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Wy.apply(null,arguments)}var pY={top:5,right:5,bottom:5,left:5},hY={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:pY,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},cb=g.forwardRef(function(t,r){var a,s=Qt(t.categoricalChartProps,hY),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,categoricalChartProps:p}=t,f={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(KE,{preloadedState:{options:f},reduxStoreName:(a=p.id)!==null&&a!==void 0?a:o},g.createElement(oE,{chartData:p.data}),g.createElement(WE,{layout:s.layout,margin:s.margin}),g.createElement(HE,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),g.createElement(VE,Wy({},s,{ref:r})))}),gY=["axis"],xY=g.forwardRef((e,t)=>g.createElement(cb,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gY,tooltipPayloadSearcher:Jf,categoricalChartProps:e,ref:t})),yY=["axis","item"],Uc=g.forwardRef((e,t)=>g.createElement(cb,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yY,tooltipPayloadSearcher:Jf,categoricalChartProps:e,ref:t}));function vY(e){var t=Tt();return g.useEffect(()=>{t(FG(e))},[t,e]),null}var bY=["layout"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hy.apply(null,arguments)}function jY(e,t){if(e==null)return{};var r,a,s=wY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wY(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var NY={top:5,right:5,bottom:5,left:5},GE={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:NY,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},_Y=g.forwardRef(function(t,r){var a,s=Qt(t.categoricalChartProps,GE),{layout:o}=s,c=jY(s,bY),{chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:p,tooltipPayloadSearcher:f}=t,h={chartName:d,defaultTooltipEventType:u,validateTooltipEventTypes:p,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(KE,{preloadedState:{options:h},reduxStoreName:(a=s.id)!==null&&a!==void 0?a:d},g.createElement(oE,{chartData:s.data}),g.createElement(WE,{layout:o,margin:s.margin}),g.createElement(HE,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),g.createElement(vY,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),g.createElement(VE,Hy({},c,{ref:r})))});function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(a){kY(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function kY(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CY=["item"],AY=Qk(Qk({},GE),{},{layout:"centric",startAngle:0,endAngle:360}),EY=g.forwardRef((e,t)=>{var r=Qt(e,AY);return g.createElement(_Y,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:CY,tooltipPayloadSearcher:Jf,categoricalChartProps:r,ref:t})}),OY=["axis"],YE=g.forwardRef((e,t)=>g.createElement(cb,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:OY,tooltipPayloadSearcher:Jf,categoricalChartProps:e,ref:t}));const TY=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=RS(e,t);if(a)return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((d,u)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),n.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"})]},u))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((d,u)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-100",children:[n.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},u))})]})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load growth activity"});const o=[{name:"Revenue Growth",value:`${r.growth_rates.revenue_growth>0?"+":""}${r.growth_rates.revenue_growth.toFixed(1)}%`,icon:bc,color:"emerald",gradient:"from-emerald-400 to-teal-500"},{name:"Booking Growth",value:`${r.growth_rates.booking_growth>0?"+":""}${r.growth_rates.booking_growth.toFixed(1)}%`,icon:Vr,color:"blue",gradient:"from-blue-400 to-cyan-500"},{name:"User Growth",value:`${r.growth_rates.user_growth>0?"+":""}${r.growth_rates.user_growth.toFixed(1)}%`,icon:bc,color:"purple",gradient:"from-purple-400 to-indigo-500"}],c=[{type:"New Bookings",count:r.recent_activity.new_bookings,color:"blue",icon:Vr,gradient:"from-blue-400 to-cyan-500"},{type:"Completed Bookings",count:r.recent_activity.completed_bookings,color:"emerald",icon:Vr,gradient:"from-emerald-400 to-teal-500"},{type:"New Disputes",count:r.recent_activity.new_disputes,color:"red",icon:n0,gradient:"from-red-400 to-rose-500"},{type:"Payments Received",count:r.recent_activity.payments_received,color:"green",icon:ls,gradient:"from-green-400 to-emerald-500"}];return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full mr-3"}),"Growth Overview"]}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.map(d=>{const u=d.icon;return n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${d.gradient} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(u,{className:"w-8 h-8 text-white"})}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:d.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:d.name})]},d.name)})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-600 rounded-full mr-3"}),"Recent Activity"]}),n.jsx("div",{className:"space-y-4",children:c.map(d=>{const u=d.icon;return n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/60 backdrop-blur-sm hover:bg-white/80 transition-all duration-200 border border-white/30 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${d.gradient} shadow-md`,children:n.jsx(u,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"font-semibold text-gray-900",children:d.type})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:d.count}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Today"})]})]},d.type)})})]}),n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30 col-span-1 lg:col-span-2",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(bc,{className:"w-5 h-5 mr-2 text-blue-600"}),"Growth Rates Comparison"]}),n.jsx(es,{width:"100%",height:300,children:n.jsxs(Uc,{data:[{name:"Revenue Growth",value:r.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:r.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:r.growth_rates.user_growth,color:"#8b5cf6"}],children:[n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"Growth %",angle:-90,position:"insideLeft"},tickFormatter:d=>`${d>0?"+":""}${d}%`}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:d=>[`${d>0?"+":""}${d.toFixed(1)}%`,"Growth"]}),n.jsx(el,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Revenue Growth",value:r.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:r.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:r.growth_rates.user_growth,color:"#8b5cf6"}].map((d,u)=>n.jsx(bl,{fill:d.color},`cell-${u}`))})]})})]})]})},IY=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=II(e,t);if(a)return n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:n.jsx("div",{className:"space-y-4",children:[...Array(6)].map((p,f)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-8 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"flex-1 h-6 bg-gray-200 rounded-full"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},f))})})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load revenue insights"});const o=r.trend||[],c=r.payment_methods||[],d=r.category_revenue||[],u=r.top_providers||[];return o.length>0&&Math.max(...o.map(p=>p.total_revenue||0)),o.reduce((p,f)=>p+(f.total_revenue||0),0),c.length>0&&Math.max(...c.map(p=>p.total_amount||0)),d.length>0&&Math.max(...d.map(p=>p.total_revenue||0)),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-600 rounded-full mr-3"}),"Revenue Insights"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(bc,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Revenue Over Time"]}),n.jsx(es,{width:"100%",height:300,children:n.jsxs(xY,{data:o,children:[n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"period",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:p=>`${(p/1e3).toFixed(0)}k`}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:p=>[`${p.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(Tf,{}),n.jsx(jE,{type:"monotone",dataKey:"total_revenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6},name:"Revenue"})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(ls,{className:"w-5 h-5 mr-2 text-primary"}),"Payment Methods Distribution"]}),n.jsx(es,{width:"100%",height:250,children:n.jsxs(EY,{children:[n.jsx(nE,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({method:p,percent:f})=>`${p}: ${(f*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:c.map((p,f)=>{const h=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return n.jsx(bl,{fill:h[f%h.length]},`cell-${f}`)})}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:p=>[`${p.toLocaleString("en-IN")}`,"Amount"]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(hI,{className:"w-5 h-5 mr-2 text-purple-600"}),"Revenue by Category"]}),n.jsx(es,{width:"100%",height:250,children:n.jsxs(Uc,{data:d,children:[n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"category",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:80}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"11px"},tickFormatter:p=>`${(p/1e3).toFixed(0)}k`}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:p=>[`${p.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(el,{dataKey:"total_revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(ri,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Top Earning Providers"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:u.map((p,f)=>n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm p-6 rounded-xl border border-white/30 hover:bg-white/80 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:p.name.split(" ").map(h=>h[0]).join("")}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:p.name}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:p.business_name})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["",p.total_earnings.toLocaleString("en-IN")]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[n.jsx(ri,{className:"w-4 h-4 text-yellow-500 fill-current"}),n.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:[p.booking_count," bookings"]})]})]})]},p.name))})]})]})},MY=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=DI(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((h,v)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},v))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load user analytics"});const o=r.activity_metrics||{};r.engagement_metrics;const c=o.total_users||0,d=o.active_users_30d||0,u=o.verified_users||0,p=o.users_with_bookings||0,f=[{name:"Total Users",value:c.toLocaleString(),change:`${u} verified`,changeType:"positive",icon:wa,gradient:"from-blue-400 to-cyan-500"},{name:"Active Users (30d)",value:d.toLocaleString(),change:"Last 30 days",changeType:"positive",icon:lm,gradient:"from-green-400 to-emerald-500"},{name:"Users with Bookings",value:p.toLocaleString(),change:`${c>0?Math.round(p/c*100):0}% of total`,changeType:"positive",icon:zS,gradient:"from-purple-400 to-indigo-500"},{name:"Verified Users",value:u.toLocaleString(),change:`${c>0?Math.round(u/c*100):0}% verified`,changeType:"positive",icon:NI,gradient:"from-red-400 to-rose-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:f.map(h=>{const v=h.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:n.jsx(v,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),n.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:h.change})]},h.name)})}),r.registration_trend&&r.registration_trend.length>0&&n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(lm,{className:"w-5 h-5 mr-2 text-blue-600"}),"User Registration Trends"]}),n.jsx(es,{width:"100%",height:300,children:n.jsxs(YE,{data:r.registration_trend,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRegistrations",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Tf,{}),n.jsx(wc,{type:"monotone",dataKey:"new_users",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRegistrations)",name:"New Users"})]})})]}),r.geographic_distribution&&r.geographic_distribution.length>0&&n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(wa,{className:"w-5 h-5 mr-2 text-purple-600"}),"User Geographic Distribution"]}),n.jsx(es,{width:"100%",height:300,children:n.jsxs(Uc,{data:r.geographic_distribution,children:[n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"city",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:100}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(el,{dataKey:"user_count",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})},DY=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=$I(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((h,v)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},v))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load booking analytics"});const o=r.booking_trend&&r.booking_trend.length>0?r.booking_trend[r.booking_trend.length-1]:null,c=r.booking_trend?r.booking_trend.reduce((h,v)=>h+v.total_bookings,0):0,d=r.booking_trend?r.booking_trend.reduce((h,v)=>h+v.completed_bookings,0):0,u=r.booking_trend?r.booking_trend.reduce((h,v)=>h+v.cancelled_bookings,0):0,p=r.booking_trend&&r.booking_trend.length>0?r.booking_trend.reduce((h,v)=>h+v.completion_rate,0)/r.booking_trend.length:0,f=[{name:"Total Bookings",value:c.toLocaleString(),change:`${o?.total_bookings||0} today`,changeType:"positive",icon:Vr,gradient:"from-blue-400 to-cyan-500"},{name:"Completed Bookings",value:d.toLocaleString(),change:`${p.toFixed(1)}% avg completion`,changeType:"positive",icon:fn,gradient:"from-green-400 to-emerald-500"},{name:"Cancelled Bookings",value:u.toLocaleString(),change:`${(u/c*100).toFixed(1)}% cancellation rate`,changeType:"negative",icon:Qs,gradient:"from-red-400 to-rose-500"},{name:"Peak Hour",value:`${r.peak_booking_times&&r.peak_booking_times.length>0?r.peak_booking_times.reduce((h,v)=>h.booking_count>v.booking_count?h:v).hour:0}:00`,change:"Most Active",changeType:"positive",icon:Lr,gradient:"from-yellow-400 to-orange-500"},{name:"Search to Booking",value:`${r.conversion_funnel.search_to_booking_rate.toFixed(1)}%`,change:`${r.conversion_funnel.searches.toLocaleString()} searches`,changeType:"positive",icon:cs,gradient:"from-purple-400 to-indigo-500"},{name:"Profile Views",value:r.conversion_funnel.profile_views.toLocaleString(),change:`${(r.conversion_funnel.profile_views/r.conversion_funnel.searches*100).toFixed(1)}% view rate`,changeType:"positive",icon:aa,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:f.map(h=>{const v=h.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${h.gradient} rounded-xl shadow-md`,children:n.jsx(v,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.value}),n.jsx("p",{className:"text-sm text-gray-600",children:h.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${h.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":h.changeType==="negative"?"text-red-700 bg-red-100 border border-red-200":"text-yellow-700 bg-yellow-100 border border-yellow-200"}`,children:h.change})]},h.name)})}),n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Vr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Booking Trends Over Time"]}),n.jsx(es,{width:"100%",height:350,children:n.jsxs(YE,{data:r.booking_trend||[],children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCancelled",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Tf,{}),n.jsx(wc,{type:"monotone",dataKey:"total_bookings",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorTotal)",name:"Total Bookings"}),n.jsx(wc,{type:"monotone",dataKey:"completed_bookings",stroke:"#10b981",fillOpacity:1,fill:"url(#colorCompleted)",name:"Completed"}),n.jsx(wc,{type:"monotone",dataKey:"cancelled_bookings",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorCancelled)",name:"Cancelled"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(fn,{className:"w-5 h-5 mr-2 text-green-600"}),"Booking Status Distribution"]}),n.jsx(es,{width:"100%",height:250,children:n.jsxs(Uc,{data:r.status_distribution||[],children:[n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"status",stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(el,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Lr,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Peak Booking Times"]}),n.jsx(es,{width:"100%",height:250,children:n.jsxs(Uc,{data:r.peak_booking_times||[],children:[n.jsx(as,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(ss,{dataKey:"hour",stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Hour",position:"insideBottom",offset:-5}}),n.jsx(is,{stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Bookings",angle:-90,position:"insideLeft"}}),n.jsx(rs,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(el,{dataKey:"booking_count",fill:"#f59e0b",radius:[8,8,0,0]})]})})]})]})]})},LY=({dateFrom:e,dateTo:t})=>{const{data:r,loading:a,error:s}=RI(e,t);if(a)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((p,f)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},f))})]});if(s||!r)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:s||"Failed to load provider analytics"});const o=r.registration_trend&&r.registration_trend.length>0?r.registration_trend[r.registration_trend.length-1]:null,c=r.status_distribution?r.status_distribution.reduce((p,f)=>p+f.count,0):0,d=r.status_distribution?r.status_distribution.filter(p=>p.verification_status==="verified").reduce((p,f)=>p+f.count,0):0,u=[{name:"Total Providers",value:c.toLocaleString(),change:`${o?.new_providers||0} new today`,changeType:"positive",icon:om,gradient:"from-blue-400 to-cyan-500"},{name:"Verified Providers",value:d.toLocaleString(),change:`${(d/c*100).toFixed(1)}% verified`,changeType:"positive",icon:lm,gradient:"from-green-400 to-emerald-500"},{name:"Average Rating",value:r.performance_metrics.avg_platform_rating.toFixed(1),change:`${r.performance_metrics.avg_completion_rate.toFixed(1)}% completion`,changeType:"positive",icon:ri,gradient:"from-yellow-400 to-orange-500"},{name:"Active Providers",value:r.performance_metrics.active_providers.toLocaleString(),change:`${(r.performance_metrics.active_providers/c*100).toFixed(1)}% active`,changeType:"positive",icon:cs,gradient:"from-purple-400 to-indigo-500"},{name:"Top Performer",value:r.top_performers[0]?.name||"N/A",change:`${r.top_performers[0]?.rating.toFixed(1)||"0"} rating`,changeType:"positive",icon:Lr,gradient:"from-pink-400 to-rose-500"},{name:"Category Leaders",value:r.category_distribution.length.toString(),change:`${r.category_distribution[0]?.category||"N/A"} leading`,changeType:"positive",icon:aa,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Provider Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(p=>{const f=p.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${p.gradient} rounded-xl shadow-md`,children:n.jsx(f,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.value}),n.jsx("p",{className:"text-sm text-gray-600",children:p.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${p.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:p.change})]},p.name)})})]})},$Y=()=>{const{data:e,loading:t,error:r}=BI();if(t)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((s,o)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},o))})]});if(r||!e)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:r||"Failed to load system performance data"});const a=[{name:"Response Time",value:`${e.current_metrics.avg_response_time_ms}ms`,change:`${e.current_metrics.avg_response_time_ms<200?"Good":"Slow"}`,changeType:e.current_metrics.avg_response_time_ms<200?"positive":"negative",icon:Lr,gradient:"from-blue-400 to-cyan-500"},{name:"DB Query Time",value:`${e.current_metrics.avg_db_query_time_ms}ms`,change:`${e.current_metrics.avg_db_query_time_ms<100?"Fast":"Slow"}`,changeType:e.current_metrics.avg_db_query_time_ms<100?"positive":"negative",icon:nI,gradient:"from-purple-400 to-indigo-500"},{name:"Server Load",value:`${e.current_metrics.avg_server_load}%`,change:`${e.current_metrics.avg_server_load<80?"Normal":"High"}`,changeType:e.current_metrics.avg_server_load<80?"positive":"negative",icon:yI,gradient:"from-emerald-400 to-teal-500"},{name:"Memory Usage",value:`${e.current_metrics.avg_memory_usage}%`,change:`${e.current_metrics.avg_memory_usage<80?"Good":"High"}`,changeType:e.current_metrics.avg_memory_usage<80?"positive":"negative",icon:sI,gradient:"from-orange-400 to-red-500"},{name:"Error Rate",value:`${e.current_metrics.avg_error_rate}%`,change:`${e.current_metrics.avg_error_rate<1?"Low":"High"}`,changeType:e.current_metrics.avg_error_rate<1?"positive":"negative",icon:aa,gradient:"from-pink-400 to-rose-500"},{name:"Uptime",value:`${e.current_metrics.avg_uptime}%`,change:`${e.current_metrics.avg_uptime>99.9?"Excellent":"Good"}`,changeType:"positive",icon:G5,gradient:"from-yellow-400 to-orange-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"System Performance"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(s=>{const o=s.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${s.gradient} rounded-xl shadow-md`,children:n.jsx(o,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.value}),n.jsx("p",{className:"text-sm text-gray-600",children:s.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${s.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:s.change})]},s.name)})})]})},eS=({isMobile:e,toggleSidebar:t})=>{const{user:r,logout:a}=Cr(),s=Aa(),o=ia(),c=s.pathname==="/admin/finance-panel",u=new URLSearchParams(s.search).get("tab")||"overview",p=[{id:"overview",label:"Overview",icon:bc},{id:"bookings",label:"Bookings",icon:Vr},{id:"vendors",label:"Vendors",icon:vI},{id:"settlements",label:"Settlements",icon:mn},{id:"payouts",label:"Payouts",icon:ls},{id:"gst",label:"GST Reports",icon:ya},{id:"transactions",label:"Transactions",icon:cs},{id:"refunds",label:"Refunds",icon:n0},...r?.role==="admin"?[{id:"staff",label:"Financial Staff",icon:Lt}]:[]],f=[{name:"Dashboard",to:"/admin/dashboard",icon:n.jsx(n1,{size:20})},{name:"Vendors",to:"/admin/providers",icon:n.jsx(Vo,{size:20})},{name:"Users",to:"/admin/users",icon:n.jsx(Lt,{size:20})},{name:"Categories",to:"/admin/categories",icon:n.jsx(uI,{size:20})},{name:"Prescriptions",to:"/admin/prescriptions",icon:n.jsx(Zh,{size:20})},{name:"Orders",to:"/admin/orders",icon:n.jsx(Ya,{size:20})},{name:"Leads",to:"/admin/leads",icon:n.jsx(rI,{size:20}),badge:"New"},{name:"Helping Staff Panel",to:"/admin/helping-staff-panel",icon:n.jsx(Zh,{size:20})},{name:"Finance",to:"/admin/finance",icon:n.jsx(s1,{size:20})},{name:"Transactions",to:"/admin/transactions",icon:n.jsx(s1,{size:20})},{name:"Coupons",to:"/admin/coupons",icon:n.jsx(jI,{size:20})},{name:"Helpdesk",to:"/admin/helpdesk",icon:n.jsx(Ga,{size:20})},{name:"Site Management",to:"/admin/site-management",icon:n.jsx(aI,{size:20})}],h=[{name:"Dashboard",to:"/provider",icon:n.jsx(n1,{size:20})},{name:"Opportunities",to:"/provider/opportunities",icon:n.jsx(_c,{size:20}),badge:"New"},{name:"My Tasks",to:"/provider/tasks",icon:n.jsx(i0,{size:20})},{name:"Raise Request",to:"/provider/request",icon:n.jsx(Zh,{size:20})},{name:"Previous Work",to:"/provider/history",icon:n.jsx(cI,{size:20})},{name:"Profile",to:"/provider/profile",icon:n.jsx(Lt,{size:20})}],v=[{name:"My Services",to:"/user",icon:n.jsx(Z5,{size:20})},{name:"Book Service",to:"/user/new-service",icon:n.jsx(Sn,{size:20})},{name:"Payment History",to:"/user/payments",icon:n.jsx(ls,{size:20})},{name:"Report Issue",to:"/user/report",icon:n.jsx(aa,{size:20})}],y=[{name:"Home",to:"/",icon:n.jsx(oI,{size:20})},{name:"Login",to:"/login",icon:n.jsx(Lt,{size:20})}],j=(()=>{if(!r)return y;switch(r.role){case"admin":return f;case"provider":return h;case"user":return v;default:return y}})();return n.jsxs("div",{className:`h-screen bg-gradient-to-b from-primary via-primary/95 to-primary text-white flex flex-col transition-all duration-300 ${e?"fixed top-0 left-0 z-40 w-64 shadow-2xl transform":"w-64"}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-primary/30",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-secondary flex items-center justify-center shadow-lg ring-2 ring-primary/40",children:n.jsx(Vo,{size:20,className:"text-primary"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary rounded-full border-2 border-primary"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-secondary to-secondary/80 bg-clip-text text-transparent",children:"KwikMedi Platform"}),n.jsx("div",{className:"text-xs text-secondary/80 mt-0.5",children:r?.role==="admin"?"Admin Portal":r?.role==="provider"?"Vendor Hub":r?.role==="user"?"Customer Portal":"Welcome"})]})]}),e&&n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-primary/40 transition-colors",children:n.jsx(yt,{size:20})})]}),r&&n.jsx("div",{className:"p-6 border-b border-primary/30",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center shadow-lg",children:n.jsx(Lt,{size:20,className:"text-primary"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-secondary rounded-full border-2 border-primary flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-white truncate",children:r.name||"User"}),n.jsx("p",{className:"text-sm text-secondary/80 truncate",children:r.email})]})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto py-6 px-4",children:[n.jsx("nav",{className:"space-y-2",children:c?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4 pb-4 border-b border-primary/30",children:n.jsx("h3",{className:"text-sm font-semibold text-secondary/80 mb-2 px-3",children:"Finance Panel"})}),p.map(b=>{const _=b.icon,S=u===b.id;return n.jsx("div",{className:"relative",children:n.jsxs("button",{onClick:()=>{o(`/admin/finance-panel?tab=${b.id}`),e&&t()},className:`w-full group flex items-center space-x-3 p-3 rounded-xl transition-all duration-200 ${S?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,children:[n.jsx("div",{className:"relative",children:n.jsx(_,{size:20})}),n.jsx("span",{className:"font-medium",children:b.label})]})},b.id)})]}):j.map(b=>n.jsxs("div",{className:"relative",children:[n.jsxs(Qu,{to:b.to,className:({isActive:_})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${_?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?t:void 0,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[b.icon,b.badge&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),n.jsx("span",{className:"font-medium",children:b.name})]}),b.badge&&n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:b.badge})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===b.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},b.name))}),r?.role==="user"&&n.jsxs("div",{className:"mt-8 p-4 bg-secondary/20 rounded-xl border border-primary/30",children:[n.jsx("h3",{className:"text-sm font-semibold text-secondary mb-3",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(Qu,{to:"/user/orders",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(kI,{size:16}),n.jsx("span",{className:"text-sm",children:"Place Order"})]}),n.jsxs(Qu,{to:"/user/prescriptions",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(ri,{size:16}),n.jsx("span",{className:"text-sm",children:"Upload Prescription"})]})]})]})]}),r&&n.jsx("div",{className:"p-4 border-t border-primary/30",children:n.jsxs("button",{onClick:a,className:"flex items-center justify-center w-full p-3 rounded-xl text-secondary/80 hover:bg-primary/40 hover:text-secondary transition-all duration-200 group",children:[n.jsx(l0,{size:20,className:"mr-3 group-hover:transform group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})},zY=({toggleSidebar:e})=>{const t=ia(),{user:r,logout:a,refreshUserData:s}=Cr(),[o,c]=g.useState(!1),[d,u]=g.useState(!1),[p,f]=g.useState(0),[h,v]=g.useState(!1),y=g.useRef(null),N=g.useRef(null),j=g.useRef(),b=g.useRef(),_=()=>{a(),t("/login")},S=async()=>{v(!0);try{await s(),await new Promise(T=>setTimeout(T,100)),console.log("Header refresh completed")}catch(T){console.error("Error refreshing user data:",T)}finally{setTimeout(()=>v(!1),1e3)}},C=()=>{f(T=>T+1),b.current&&clearTimeout(b.current),p>=2?(S(),f(0)):b.current=setTimeout(()=>{f(0)},2e3)},E=[{id:1,type:"service",title:"Service Completed",message:"Your AC repair service has been completed successfully.",time:"2 hours ago",read:!1},{id:2,type:"promotion",title:"Special Offer",message:"Get 20% off on your next home cleaning service.",time:"1 day ago",read:!1},{id:3,type:"reminder",title:"Upcoming Service",message:"Your plumbing service is scheduled for tomorrow at 10:00 AM.",time:"2 days ago",read:!0}],P=E.filter(T=>!T.read).length;g.useEffect(()=>{const T=M=>{y.current&&!y.current.contains(M.target)&&c(!1),N.current&&!N.current.contains(M.target)&&u(!1)},U=M=>{M.ctrlKey&&M.shiftKey&&M.key==="R"&&(M.preventDefault(),S())};return document.addEventListener("mousedown",T),document.addEventListener("keydown",U),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("keydown",U),j.current&&clearTimeout(j.current),b.current&&clearTimeout(b.current)}},[]),g.useEffect(()=>{r&&r.id&&s()},[r?.id]);const O=T=>{switch(T){case"service":return n.jsx(ri,{size:16,className:"text-orange-500"});case"promotion":return n.jsx(a1,{size:16,className:"text-amber-500"});case"reminder":return n.jsx(Lr,{size:16,className:"text-rose-400"});default:return n.jsx(_c,{size:16,className:"text-orange-300"})}};return n.jsxs("header",{className:"bg-gradient-to-r from-orange-50/95 via-white/95 to-orange-50/95 backdrop-blur-sm shadow-sm border-b border-orange-100/70 h-16 flex items-center justify-between px-4 lg:px-6 relative z-30 text-orange-950",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("button",{onClick:e,className:"p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 lg:hidden transition-all duration-200",children:n.jsx(mI,{size:24})})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>u(!d),className:"relative p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 transition-all duration-200 group",children:[n.jsx(_c,{size:20}),P>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-orange-500 to-amber-400 text-white text-xs rounded-full flex items-center justify-center font-semibold animate-pulse",children:P})]}),d&&n.jsxs("div",{ref:N,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-2 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-orange-900",children:"Notifications"}),n.jsxs("span",{className:"text-xs text-orange-500",children:[P," new"]})]})}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:E.map(T=>n.jsx("div",{className:`px-4 py-3 hover:bg-orange-50/60 cursor-pointer transition-colors duration-200 ${T.read?"":"bg-orange-50/70"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"mt-1",children:O(T.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-orange-900 text-sm",children:T.title}),!T.read&&n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full ml-2"})]}),n.jsx("p",{className:"text-orange-700/80 text-sm mt-1",children:T.message}),n.jsx("p",{className:"text-orange-400 text-xs mt-1",children:T.time})]})]})},T.id))}),n.jsx("div",{className:"px-4 py-3 border-t border-orange-100 bg-orange-50/60",children:n.jsx("button",{className:"w-full text-center text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all notifications"})})]})]}),r?n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer p-2 rounded-xl hover:bg-orange-100/60 transition-all duration-200",onClick:()=>c(!o),onDoubleClick:C,children:[n.jsxs("div",{className:"hidden sm:block text-right",children:[n.jsx("p",{className:"text-sm font-medium text-orange-900",children:r.name||"User"}),n.jsx("p",{className:"text-xs text-orange-500 capitalize",children:r.role})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:h?n.jsx(mn,{size:20,className:"text-orange-50 animate-spin"}):n.jsx(Lt,{size:20,className:"text-white"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white"}),h&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full border-2 border-white animate-pulse"})]}),n.jsx(oi,{size:16,className:"text-orange-400 hidden sm:block"})]}),o&&n.jsxs("div",{ref:y,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-3 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:n.jsx(Lt,{size:24,className:"text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-orange-900 truncate",children:r.name||"User"}),n.jsx("p",{className:"text-sm text-orange-600 truncate",children:r.email}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 capitalize",children:r.role}),n.jsxs("span",{className:"flex items-center text-xs text-emerald-600",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Online"]})]})]})]})}),n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vr,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Member since"})]}),n.jsx("span",{className:"text-orange-900",children:"Jan 2024"})]}),r.role==="user"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ri,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Services booked"})]}),n.jsx("span",{className:"text-orange-900",children:"12"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(a1,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Loyalty points"})]}),n.jsx("span",{className:"text-amber-600 font-semibold",children:"850"})]})]})]})}),n.jsx("div",{className:"px-4 py-2 border-t border-orange-100 bg-orange-50/60",children:n.jsx("div",{className:"space-y-1",children:n.jsxs("button",{onClick:_,className:"w-full flex items-center space-x-3 text-sm text-red-600 hover:bg-red-50 py-2 px-3 rounded-lg transition-colors duration-200",children:[n.jsx(l0,{size:16}),n.jsx("span",{children:"Sign Out"})]})})})]})]}):n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>t("/login"),className:"px-4 py-2 text-sm font-medium text-orange-700 hover:text-orange-900 transition-colors duration-200",children:"Sign In"}),n.jsx("button",{onClick:()=>t("/register"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-amber-400 hover:from-orange-600 hover:to-amber-500 rounded-lg transition-all duration-200",children:"Get Started"})]})]})]})},hr=({children:e})=>{const{user:t}=Cr(),[r,a]=g.useState(!1),s=()=>{a(!r)};return n.jsxs("div",{className:"flex h-screen bg-secondary",children:[n.jsx("div",{className:"hidden lg:block",children:n.jsx(eS,{isMobile:!1,toggleSidebar:s})}),r&&n.jsxs("div",{className:"lg:hidden",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:s}),n.jsx(eS,{isMobile:!0,toggleSidebar:s})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(zY,{toggleSidebar:s}),n.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e})]})]})},RY=()=>{const[e,t]=g.useState("30d"),[r,a]=g.useState(""),[s,o]=g.useState("");g.useEffect(()=>{const d=new Date,u=d.toISOString().split("T")[0];let p;switch(e){case"7d":p=new Date(d.setDate(d.getDate()-7)).toISOString().split("T")[0];break;case"30d":p=new Date(d.setDate(d.getDate()-30)).toISOString().split("T")[0];break;case"90d":p=new Date(d.setDate(d.getDate()-90)).toISOString().split("T")[0];break;case"1y":p=new Date(d.setFullYear(d.getFullYear()-1)).toISOString().split("T")[0];break;default:p=new Date(d.setDate(d.getDate()-7)).toISOString().split("T")[0]}a(p),o(u)},[e]);const c=(d,u)=>{a(d),o(u)};return n.jsx(hr,{children:n.jsxs("div",{className:"min-h-screen bg-secondary",children:[n.jsx(CI,{dateFrom:r,dateTo:s,onDateRangeChange:c}),n.jsx("div",{className:"pt-20 pb-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[n.jsx(UI,{dateFrom:r,dateTo:s}),n.jsx(TY,{dateFrom:r,dateTo:s}),n.jsx(IY,{dateFrom:r,dateTo:s}),n.jsx(MY,{dateFrom:r,dateTo:s}),n.jsx(DY,{dateFrom:r,dateTo:s}),n.jsx(LY,{dateFrom:r,dateTo:s}),n.jsx($Y,{})]})})]})})},He=({children:e,className:t=""})=>n.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${t}`,children:e}),ct=({children:e,className:t=""})=>n.jsx("div",{className:`p-6 border-b border-gray-200 ${t}`,children:e}),dt=({children:e,className:t=""})=>n.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${t}`,children:e}),Ve=({children:e,className:t=""})=>n.jsx("div",{className:`p-6 ${t}`,children:e}),he=({variant:e="primary",size:t="md",children:r,fullWidth:a=!1,isLoading:s=!1,className:o="",disabled:c,...d})=>{const u="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",p={primary:"bg-primary hover:bg-primary-dark text-secondary-dark",secondary:"bg-secondary text-white hover:bg-secondary-light",outline:"border border-primary bg-transparent text-black hover:bg-primary/10 hover:text-black",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",link:"bg-transparent underline-offset-4 hover:underline text-primary p-0 h-auto"},f={sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"},h=a?"w-full":"";return n.jsxs("button",{className:`${u} ${p[e]} ${f[t]} ${h} ${o}`,disabled:c||s,...d,children:[s?n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,r]})},FY=(e,t)=>{const r=new Array(e.length+t.length);for(let a=0;a<e.length;a++)r[a]=e[a];for(let a=0;a<t.length;a++)r[e.length+a]=t[a];return r},BY=(e,t)=>({classGroupId:e,validator:t}),XE=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),sf="-",tS=[],UY="arbitrary..",qY=e=>{const t=WY(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return KY(c);const d=c.split(sf),u=d[0]===""&&d.length>1?1:0;return JE(d,u,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const u=a[c],p=r[c];return u?p?FY(p,u):u:p||tS}return r[c]||tS}}},JE=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const s=e[t],o=r.nextPart.get(s);if(o){const p=JE(e,t+1,o);if(p)return p}const c=r.validators;if(c===null)return;const d=t===0?e.join(sf):e.slice(t).join(sf),u=c.length;for(let p=0;p<u;p++){const f=c[p];if(f.validator(d))return f.classGroupId}},KY=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),a=t.slice(0,r);return a?UY+a:void 0})(),WY=e=>{const{theme:t,classGroups:r}=e;return HY(r,t)},HY=(e,t)=>{const r=XE();for(const a in e){const s=e[a];db(s,r,a,t)}return r},db=(e,t,r,a)=>{const s=e.length;for(let o=0;o<s;o++){const c=e[o];VY(c,t,r,a)}},VY=(e,t,r,a)=>{if(typeof e=="string"){GY(e,t,r);return}if(typeof e=="function"){YY(e,t,r,a);return}XY(e,t,r,a)},GY=(e,t,r)=>{const a=e===""?t:ZE(t,e);a.classGroupId=r},YY=(e,t,r,a)=>{if(JY(e)){db(e(a),t,r,a);return}t.validators===null&&(t.validators=[]),t.validators.push(BY(r,e))},XY=(e,t,r,a)=>{const s=Object.entries(e),o=s.length;for(let c=0;c<o;c++){const[d,u]=s[c];db(u,ZE(t,d),r,a)}},ZE=(e,t)=>{let r=e;const a=t.split(sf),s=a.length;for(let o=0;o<s;o++){const c=a[o];let d=r.nextPart.get(c);d||(d=XE(),r.nextPart.set(c,d)),r=d}return r},JY=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,ZY=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),a=Object.create(null);const s=(o,c)=>{r[o]=c,t++,t>e&&(t=0,a=r,r=Object.create(null))};return{get(o){let c=r[o];if(c!==void 0)return c;if((c=a[o])!==void 0)return s(o,c),c},set(o,c){o in r?r[o]=c:s(o,c)}}},Vy="!",rS=":",QY=[],nS=(e,t,r,a,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:a,isExternal:s}),eX=e=>{const{prefix:t,experimentalParseClassName:r}=e;let a=s=>{const o=[];let c=0,d=0,u=0,p;const f=s.length;for(let j=0;j<f;j++){const b=s[j];if(c===0&&d===0){if(b===rS){o.push(s.slice(u,j)),u=j+1;continue}if(b==="/"){p=j;continue}}b==="["?c++:b==="]"?c--:b==="("?d++:b===")"&&d--}const h=o.length===0?s:s.slice(u);let v=h,y=!1;h.endsWith(Vy)?(v=h.slice(0,-1),y=!0):h.startsWith(Vy)&&(v=h.slice(1),y=!0);const N=p&&p>u?p-u:void 0;return nS(o,y,v,N)};if(t){const s=t+rS,o=a;a=c=>c.startsWith(s)?o(c.slice(s.length)):nS(QY,!1,c,void 0,!0)}if(r){const s=a;a=o=>r({className:o,parseClassName:s})}return a},tX=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,a)=>{t.set(r,1e6+a)}),r=>{const a=[];let s=[];for(let o=0;o<r.length;o++){const c=r[o],d=c[0]==="[",u=t.has(c);d||u?(s.length>0&&(s.sort(),a.push(...s),s=[]),a.push(c)):s.push(c)}return s.length>0&&(s.sort(),a.push(...s)),a}},rX=e=>({cache:ZY(e.cacheSize),parseClassName:eX(e),sortModifiers:tX(e),...qY(e)}),nX=/\s+/,aX=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s,sortModifiers:o}=t,c=[],d=e.trim().split(nX);let u="";for(let p=d.length-1;p>=0;p-=1){const f=d[p],{isExternal:h,modifiers:v,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:j}=r(f);if(h){u=f+(u.length>0?" "+u:u);continue}let b=!!j,_=a(b?N.substring(0,j):N);if(!_){if(!b){u=f+(u.length>0?" "+u:u);continue}if(_=a(N),!_){u=f+(u.length>0?" "+u:u);continue}b=!1}const S=v.length===0?"":v.length===1?v[0]:o(v).join(":"),C=y?S+Vy:S,E=C+_;if(c.indexOf(E)>-1)continue;c.push(E);const P=s(_,b);for(let O=0;O<P.length;++O){const T=P[O];c.push(C+T)}u=f+(u.length>0?" "+u:u)}return u},sX=(...e)=>{let t=0,r,a,s="";for(;t<e.length;)(r=e[t++])&&(a=QE(r))&&(s&&(s+=" "),s+=a);return s},QE=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=QE(e[a]))&&(r&&(r+=" "),r+=t);return r},iX=(e,...t)=>{let r,a,s,o;const c=u=>{const p=t.reduce((f,h)=>h(f),e());return r=rX(p),a=r.cache.get,s=r.cache.set,o=d,d(u)},d=u=>{const p=a(u);if(p)return p;const f=aX(u,r);return s(u,f),f};return o=c,(...u)=>o(sX(...u))},oX=[],fr=e=>{const t=r=>r[e]||oX;return t.isThemeGetter=!0,t},eO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,lX=/^\d+\/\d+$/,cX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mo=e=>lX.test(e),it=e=>!!e&&!Number.isNaN(Number(e)),Ws=e=>!!e&&Number.isInteger(Number(e)),Dx=e=>e.endsWith("%")&&it(e.slice(0,-1)),Ka=e=>cX.test(e),pX=()=>!0,hX=e=>dX.test(e)&&!uX.test(e),rO=()=>!1,gX=e=>mX.test(e),xX=e=>fX.test(e),yX=e=>!Ke(e)&&!We(e),vX=e=>jl(e,sO,rO),Ke=e=>eO.test(e),Pi=e=>jl(e,iO,hX),Lx=e=>jl(e,_X,it),aS=e=>jl(e,nO,rO),bX=e=>jl(e,aO,xX),qu=e=>jl(e,oO,gX),We=e=>tO.test(e),pc=e=>wl(e,iO),jX=e=>wl(e,kX),sS=e=>wl(e,nO),wX=e=>wl(e,sO),NX=e=>wl(e,aO),Ku=e=>wl(e,oO,!0),jl=(e,t,r)=>{const a=eO.exec(e);return a?a[1]?t(a[1]):r(a[2]):!1},wl=(e,t,r=!1)=>{const a=tO.exec(e);return a?a[1]?t(a[1]):r:!1},nO=e=>e==="position"||e==="percentage",aO=e=>e==="image"||e==="url",sO=e=>e==="length"||e==="size"||e==="bg-size",iO=e=>e==="length",_X=e=>e==="number",kX=e=>e==="family-name",oO=e=>e==="shadow",SX=()=>{const e=fr("color"),t=fr("font"),r=fr("text"),a=fr("font-weight"),s=fr("tracking"),o=fr("leading"),c=fr("breakpoint"),d=fr("container"),u=fr("spacing"),p=fr("radius"),f=fr("shadow"),h=fr("inset-shadow"),v=fr("text-shadow"),y=fr("drop-shadow"),N=fr("blur"),j=fr("perspective"),b=fr("aspect"),_=fr("ease"),S=fr("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...E(),We,Ke],O=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],U=()=>[We,Ke,u],M=()=>[Mo,"full","auto",...U()],z=()=>[Ws,"none","subgrid",We,Ke],I=()=>["auto",{span:["full",Ws,We,Ke]},Ws,We,Ke],q=()=>[Ws,"auto",We,Ke],L=()=>["auto","min","max","fr",We,Ke],D=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...U()],ie=()=>[Mo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],W=()=>[e,We,Ke],J=()=>[...E(),sS,aS,{position:[We,Ke]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",wX,vX,{size:[We,Ke]}],te=()=>[Dx,pc,Pi],ve=()=>["","none","full",p,We,Ke],be=()=>["",it,pc,Pi],Oe=()=>["solid","dashed","dotted","double"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[it,Dx,sS,aS],F=()=>["","none",N,We,Ke],Y=()=>["none",it,We,Ke],V=()=>["none",it,We,Ke],re=()=>[it,We,Ke],Q=()=>[Mo,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ka],breakpoint:[Ka],color:[pX],container:[Ka],"drop-shadow":[Ka],ease:["in","out","in-out"],font:[yX],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ka],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ka],shadow:[Ka],spacing:["px",it],text:[Ka],"text-shadow":[Ka],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mo,Ke,We,b]}],container:["container"],columns:[{columns:[it,Ke,We,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ws,"auto",We,Ke]}],basis:[{basis:[Mo,"full","auto",d,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,Mo,"auto","initial","none",Ke]}],grow:[{grow:["",it,We,Ke]}],shrink:[{shrink:["",it,We,Ke]}],order:[{order:[Ws,"first","last","none",We,Ke]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":L()}],"auto-rows":[{"auto-rows":L()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...D(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...D()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":D()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[d,"screen",...ie()]}],"min-w":[{"min-w":[d,"screen","none",...ie()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",r,pc,Pi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,We,Lx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Dx,Ke]}],"font-family":[{font:[jX,Ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,We,Ke]}],"line-clamp":[{"line-clamp":[it,"none",We,Lx]}],leading:[{leading:[o,...U()]}],"list-image":[{"list-image":["none",We,Ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",We,Ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",We,Pi]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[it,"auto",We,Ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We,Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We,Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:J()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ws,We,Ke],radial:["",We,Ke],conic:[Ws,We,Ke]},NX,bX]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Oe(),"hidden","none"]}],"divide-style":[{divide:[...Oe(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,We,Ke]}],"outline-w":[{outline:["",it,pc,Pi]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",f,Ku,qu]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",h,Ku,qu]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[it,Pi]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",v,Ku,qu]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[it,We,Ke]}],"mix-blend":[{"mix-blend":[...Me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[We,Ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:J()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",We,Ke]}],filter:[{filter:["","none",We,Ke]}],blur:[{blur:F()}],brightness:[{brightness:[it,We,Ke]}],contrast:[{contrast:[it,We,Ke]}],"drop-shadow":[{"drop-shadow":["","none",y,Ku,qu]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",it,We,Ke]}],"hue-rotate":[{"hue-rotate":[it,We,Ke]}],invert:[{invert:["",it,We,Ke]}],saturate:[{saturate:[it,We,Ke]}],sepia:[{sepia:["",it,We,Ke]}],"backdrop-filter":[{"backdrop-filter":["","none",We,Ke]}],"backdrop-blur":[{"backdrop-blur":F()}],"backdrop-brightness":[{"backdrop-brightness":[it,We,Ke]}],"backdrop-contrast":[{"backdrop-contrast":[it,We,Ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,We,Ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,We,Ke]}],"backdrop-invert":[{"backdrop-invert":["",it,We,Ke]}],"backdrop-opacity":[{"backdrop-opacity":[it,We,Ke]}],"backdrop-saturate":[{"backdrop-saturate":[it,We,Ke]}],"backdrop-sepia":[{"backdrop-sepia":["",it,We,Ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",We,Ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",We,Ke]}],ease:[{ease:["linear","initial",_,We,Ke]}],delay:[{delay:[it,We,Ke]}],animate:[{animate:["none",S,We,Ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,We,Ke]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Y()}],"rotate-x":[{"rotate-x":Y()}],"rotate-y":[{"rotate-y":Y()}],"rotate-z":[{"rotate-z":Y()}],scale:[{scale:V()}],"scale-x":[{"scale-x":V()}],"scale-y":[{"scale-y":V()}],"scale-z":[{"scale-z":V()}],"scale-3d":["scale-3d"],skew:[{skew:re()}],"skew-x":[{"skew-x":re()}],"skew-y":[{"skew-y":re()}],transform:[{transform:[We,Ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Q()}],"translate-x":[{"translate-x":Q()}],"translate-y":[{"translate-y":Q()}],"translate-z":[{"translate-z":Q()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We,Ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We,Ke]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[it,pc,Pi,Lx]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},PX=iX(SX);function of(...e){return PX(ft(e))}const ub=({value:e,onValueChange:t,children:r,className:a})=>n.jsx("div",{className:of("w-full",a),children:un.Children.map(r,s=>un.isValidElement(s)?un.cloneElement(s,{children:un.Children.map(s.props.children,o=>{if(un.isValidElement(o)){const c=o.props.value===e;return un.cloneElement(o,{onValueChange:t,className:of(o.props.className,c?"bg-secondary text-primary":"text-gray-500 hover:text-primary")})}return o})}):s)}),mb=({children:e,className:t})=>n.jsx("div",{className:of("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",t),children:e}),Js=({value:e,children:t,className:r,onValueChange:a})=>n.jsx("button",{className:of("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),onClick:()=>a?.(e),children:t}),CX=({fieldVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[e.name&&n.jsx("th",{className:"text-left pb-4",children:"Provider"}),e.contact&&n.jsx("th",{className:"text-left pb-4",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left pb-4",children:"Location"}),e.status&&n.jsx("th",{className:"text-left pb-4",children:"Status"}),e.verification&&n.jsx("th",{className:"text-left pb-4",children:"Verification"}),e.earnings&&n.jsx("th",{className:"text-left pb-4",children:"Earnings"}),e.experience&&n.jsx("th",{className:"text-left pb-4",children:"Experience"}),e.featured&&n.jsx("th",{className:"text-left pb-4",children:"Featured"}),e.action&&n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),AX=({provider:e,onStatusAction:t})=>n.jsxs("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(he,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1",children:[n.jsx(fn,{size:12}),n.jsx("span",{children:"Approve"})]}),n.jsxs(he,{onClick:()=>t(e.id,"reject"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1",children:[n.jsx(Qs,{size:12}),n.jsx("span",{children:"Reject"})]})]}),e.status==="approved"&&n.jsxs(he,{onClick:()=>t(e.id,"suspend"),className:"flex items-center space-x-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs px-2 py-1",children:[n.jsx(ja,{size:12}),n.jsx("span",{children:"Suspend"})]}),e.status==="suspended"&&n.jsxs(he,{onClick:()=>t(e.id,"reinstate"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(fn,{size:12}),n.jsx("span",{children:"Reinstate"})]}),e.status==="blocked"&&n.jsxs(he,{onClick:()=>t(e.id,"approve"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(fn,{size:12}),n.jsx("span",{children:"Approve"})]})]}),EX=({provider:e,formatDate:t})=>{const r=s=>{switch(s){case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"blocked":return"bg-red-100 text-red-700";case"suspended":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},a=s=>{switch(s){case"approved":return n.jsx(fn,{size:14,className:"text-green-600"});case"pending":return n.jsx(Lr,{size:14,className:"text-yellow-600"});case"blocked":return n.jsx(Qs,{size:14,className:"text-red-600"});case"suspended":return n.jsx(ja,{size:14,className:"text-orange-600"});default:return null}};return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[a(e.status),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",t(e.created_at)]})]})},OX=({provider:e,fieldVisibility:t,expandingUsers:r,onStatusAction:a,onToggleDropdown:s,formatDate:o,formatCurrency:c,isExpanded:d=!1,isLoading:u=!1})=>{const p=u&&r.has(e.id),f=d||r.has(e.id);return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(he,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-white hover:border-primary hover:shadow-md group",disabled:p,children:p?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx(Zi,{size:14,className:"mr-1 text-black group-hover:text-white transition-colors duration-200"}),n.jsx("span",{children:f?"Hide":"Details"}),f?n.jsx(ol,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"}):n.jsx(oi,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"})]})})})}),t.name&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-primary",children:e.name.charAt(0)})}),n.jsx("div",{children:n.jsx("p",{className:"font-medium text-gray-900",children:e.name})})]})}),t.contact&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ti,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qi,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.phone})]})]})}),t.location&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-sm",children:[e.city,", ",e.state]}),n.jsx("div",{className:"text-sm text-gray-500",children:e.pincode})]})}),t.status&&n.jsx("td",{className:"py-4",children:n.jsx(EX,{provider:e,formatDate:o})}),t.verification&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[e.verification_status==="verified"?n.jsx(ja,{size:16,className:"text-green-500"}):n.jsx(ja,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.verification_status})]})}),t.earnings&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-medium",children:c(e.total_earnings)}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Commission: ",e.commission_rate,"%"]})]})}),t.experience&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Lr,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-sm",children:[e.experience_years," years"]})]})}),t.featured&&n.jsx("td",{className:"py-4",children:e.is_featured?n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"Featured"}):n.jsx("span",{className:"text-gray-400 text-xs",children:"Not Featured"})}),t.action&&n.jsx("td",{className:"py-4",children:n.jsx(AX,{provider:e,onStatusAction:a})})]})},TX=({provider:e,formatDate:t,serviceCatalog:r})=>{const a=!!(e.bank_details&&(e.bank_details.account_holder_name||e.bank_details.bank_name||e.bank_details.account_number||e.bank_details.ifsc_code)),s=g.useMemo(()=>{const f=new Map;return Object.entries(r.categories).forEach(([h,v])=>{f.set(Number(h),v.name)}),e.subcategory_links?.forEach(h=>{h.category_name&&h.category_id&&f.set(h.category_id,h.category_name)}),f},[e.subcategory_links,r]),o=g.useMemo(()=>{const f=new Map,h=(v,y)=>{const N=v!==null?`cat-${v}`:`misc-${y}`;return f.has(N)||f.set(N,{key:N,category_id:v,category_name:y,subcategories:[],services:[]}),f.get(N)};return(e.category_ids??[]).forEach(v=>{const y=s.get(v)||`Category ${v}`;h(v,y)}),(e.subcategory_links??[]).forEach(v=>{const y=v.category_id||null,N=y&&v.subcategory_id?r.categories[y]?.services?.[v.subcategory_id]??null:null,j=v.category_name||(y?s.get(y)||`Category ${y}`:"Other");h(y,j).subcategories.push({id:v.subcategory_id||null,rawName:v.subcategory_name,catalogName:N})}),(e.services??[]).forEach(v=>{const y=v.category_name||"General",j=(e.category_ids??[]).find(_=>s.get(_)===v.category_name)??null;h(j,y).services.push(v)}),f.size===0&&(e.services?.length??0)>0&&f.set("general",{key:"general",category_id:null,category_name:"Services",subcategories:[],services:e.services??[]}),Array.from(f.values())},[e.category_ids,e.subcategory_links,e.services,s,r]),c=o.length>0,[d,u]=g.useState(new Set),p=f=>{u(h=>{const v=new Set(h);return v.has(f)?v.delete(f):v.add(f),v})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(wa,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Provider Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ti,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(ti,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Qi,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-4 border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Qa,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Qa,{size:16,className:"text-amber-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]}),e.services&&e.services.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-rose-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(s0,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-rose-900",children:"Services"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.services.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-rose-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:f.service_name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[f.duration_minutes," mins"]}),n.jsxs("span",{className:"font-medium text-primary",children:["",f.price_min," - ",f.price_max]})]}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:f.category_name})})]},f.id))})]}),e.service_areas&&e.service_areas.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Qa,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-teal-900",children:"Service Areas"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.service_areas.map((f,h)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-teal-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:f.area_name}),f.is_primary&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Primary"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[f.city,", ",f.state]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pincode: ",f.pincode]})]},h))})]}),e.documents&&e.documents.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ya,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Documents"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.documents.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-orange-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:f.document_type}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="approved"?"bg-green-100 text-green-800":f.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.status})]}),n.jsx("p",{className:"text-sm text-gray-600",children:f.document_name}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Uploaded: ",t(f.uploaded_at)]}),f.verified_at&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Verified: ",t(f.verified_at)]}),f.rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded-md",children:[n.jsx("p",{className:"text-sm font-medium text-red-700",children:"Rejection Reason"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.rejection_reason})]}),f.document_url&&n.jsx(he,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.open(f.document_url,"_blank","noopener,noreferrer"),children:"View Document"})]},f.id))})]}),c&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(lI,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Service Coverage"})]}),n.jsx("div",{className:"space-y-3",children:o.map(f=>{const h=d.has(f.key)||f.services.length===0;return n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 shadow-sm",children:[n.jsxs("button",{type:"button",onClick:()=>p(f.key),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:f.category_name}),f.category_id!==null&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Category ID: ",f.category_id]}),f.services.length>0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.services.length," service",f.services.length>1?"s":""]})]}),f.services.length>0&&n.jsx(oi,{size:16,className:`text-blue-500 transition-transform ${h?"rotate-180":""}`})]}),f.subcategories.length>0&&n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("span",{className:"text-xs font-medium text-gray-500 block mb-2",children:"Services"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:f.subcategories.map((v,y)=>{const N=v.catalogName||(v.id?r.servicesById[v.id]:null)||v.rawName||(f.services.find(j=>j.id===v.id)?.service_name??null)||`Service ${v.id||y+1}`;return n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-blue-50 border border-primary/20 text-sm text-blue-700 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(xa,{size:14,className:"text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:N}),v.id&&n.jsxs("p",{className:"text-xs text-blue-400",children:["Service ID: ",v.id]})]})]}),f.services.length>0&&n.jsx("button",{type:"button",onClick:()=>p(f.key),className:"text-xs text-blue-500 hover:underline",children:"View details"})]},`${f.key}-${v.id??y}`)})})]}),f.services.length>0&&h&&n.jsx("div",{className:"border-t border-blue-50 bg-blue-50/50 px-4 py-3 space-y-2",children:f.services.map(v=>n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"font-medium text-sm text-gray-900",children:v.service_name}),(v.price_min||v.price_max)&&n.jsxs("span",{className:"text-xs font-semibold text-primary",children:["",v.price_min," - ",v.price_max]})]}),v.description&&n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:v.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[v.duration_minutes>0&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full",children:["Duration: ",v.duration_minutes," mins"]}),v.status&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full capitalize",children:["Status: ",v.status]})]})]},`${f.key}-service-${v.id}`))})]},f.key)})})]}),a&&e.bank_details&&n.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-cyan-50 rounded-lg p-4 border border-slate-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ls,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Account Verification"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Holder Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_holder_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Bank Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.bank_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Number"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_number||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"IFSC Code"}),n.jsx("p",{className:"text-sm text-gray-800 uppercase",children:e.bank_details.ifsc_code||"N/A"})]})]})]}),e.portfolio&&e.portfolio.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(xc,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Portfolio"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.portfolio.map(f=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-primary/20",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:f.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:f.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:f.before_image,alt:"Before",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"Before"})]}),n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:f.after_image,alt:"After",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"After"})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:["Created: ",t(f.created_at)]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.status})]})]},f.id))})]})]})},IX=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(An,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search providers...",className:"pl-8 pr-4 py-2 w-full rounded-lg border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary",value:e,onChange:r=>t(r.target.value)})]}),MX=({showFieldManagement:e,onToggleSettings:t,fieldVisibility:r,onToggleField:a,onResetFields:s})=>n.jsxs("div",{className:"relative",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:t,className:"border-2 border-primary text-black font-semibold hover:bg-primary hover:text-white hover:border-primary group",children:[n.jsx(im,{size:16,className:"mr-2 text-black group-hover:text-white transition-colors duration-200"}),"Fields"]}),e&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[400px] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b border-gray-100 flex-shrink-0",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Field Visibility"}),n.jsx(he,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:n.jsx(yt,{size:14})})]}),n.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-3 min-h-0",children:n.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([o,c])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c,onChange:()=>a(o),disabled:["name","status","action"].includes(o),className:`rounded border-gray-300 text-primary focus:ring-primary ${["name","status","action"].includes(o)?"opacity-50":""}`}),n.jsxs("span",{className:`text-sm capitalize ${["name","status","action"].includes(o)?"font-medium":""}`,children:[o.replace(/([A-Z])/g," $1").trim(),["name","status","action"].includes(o)&&" (Required)"]})]},o))})}),n.jsx("div",{className:"p-4 pt-3 border-t border-gray-200 flex-shrink-0",children:n.jsx(he,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Reset to Default"})})]})]}),DX=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:o})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," providers"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ji,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(he,{onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ea,{size:16})})]})]}),LX=({isOpen:e,providerId:t,action:r,reason:a,notes:s,onClose:o,onConfirm:c,onReasonChange:d,onNotesChange:u})=>{if(!e||!t||!r)return null;const p=()=>{switch(r){case"approve":return"Approve Provider";case"reject":return"Reject Provider";case"suspend":return"Suspend Provider";case"reinstate":return"Reinstate Provider";default:return""}},f=()=>{switch(r){case"approve":return"bg-green-600 text-white hover:bg-green-700";case"reject":return"bg-red-600 text-white hover:bg-red-700";case"suspend":return"bg-yellow-600 text-white hover:bg-yellow-700";case"reinstate":return"bg-primary text-white hover:bg-primary-dark";default:return""}},h=()=>{switch(r){case"approve":return"Approve";case"reject":return"Reject";case"suspend":return"Suspend";case"reinstate":return"Reinstate";default:return""}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:p()}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:a,onChange:v=>d(v.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter any additional notes...",value:s,onChange:v=>u(v.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(he,{variant:"outline",onClick:o,children:"Cancel"}),n.jsx(he,{variant:"outline",onClick:()=>c(t,r,a,s),className:f(),children:h()})]})]})})},$X=({isOpen:e,providerId:t,documentId:r,action:a,reason:s,onClose:o,onConfirm:c,onReasonChange:d})=>!e||!t||!r||!a?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:a==="approve"?"Approve Document":"Reject Document"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:s,onChange:u=>d(u.target.value)})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(he,{variant:"outline",onClick:o,children:"Cancel"}),n.jsx(he,{variant:"outline",onClick:()=>c(t,r,a,s),className:`${a==="approve"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:a==="approve"?"Approve":"Reject"})]})]})}),iS=[{code:"+91",country:"India",flag:""},{code:"+1",country:"USA/Canada",flag:""},{code:"+44",country:"UK",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+27",country:"South Africa",flag:""}],oS={store_name:"",owner_name:"",owner_number:"",owner_country_code:"+91",store_contact_number:"",store_country_code:"+91",email:"",store_address:"",pincode:"",latitude:"",longitude:"",store_opening_time:"",store_closing_time:"",pos_billing_software_name:"",real_time_stock_capability:"",bank_account_name:"",bank_account_number:"",bank_name:"",ifsc_code:"",drug_license:null,gst_certificate:null,pan_card:null,aadhar_card:null,store_front_view:null,medicine_racks_view:null,owner_photo_with_store:null,medicine_inventory_file:null,cancel_cheque_passbook:null,shop_license:null},zX=({isOpen:e,onClose:t,onSubmit:r,isSubmitting:a})=>{const[s,o]=g.useState(oS),[c,d]=g.useState({});g.useEffect(()=>{e||(o(oS),d({}))},[e]);const u=y=>{const{name:N,value:j}=y.target;o(b=>({...b,[N]:j}))},p=(y,N)=>{const j=y.target.files?.[0]||null;if(j)if(o(b=>({...b,[N]:j})),j.type.startsWith("image/")){const b=new FileReader;b.onloadend=()=>{d(_=>({..._,[N]:b.result}))},b.readAsDataURL(j)}else d(b=>({...b,[N]:null}))},f=y=>{o(N=>({...N,[y]:null})),d(N=>{const j={...N};return delete j[y],j})},h=async y=>{if(y.preventDefault(),!s.store_name||!s.owner_name||!s.owner_number||!s.store_contact_number||!s.email||!s.store_address||!s.pincode||!s.latitude||!s.longitude||!s.store_opening_time||!s.store_closing_time||!s.pos_billing_software_name||!s.bank_account_name||!s.bank_account_number||!s.bank_name||!s.ifsc_code||!s.drug_license||!s.gst_certificate||!s.pan_card||!s.store_front_view||!s.owner_photo_with_store||!s.cancel_cheque_passbook){alert("Please fill all mandatory fields");return}const N=new FormData;N.append("store_name",s.store_name),N.append("owner_name",s.owner_name),N.append("owner_number",`${s.owner_country_code}${s.owner_number}`),N.append("store_contact_number",`${s.store_country_code}${s.store_contact_number}`),N.append("email",s.email),N.append("store_address",s.store_address),N.append("pincode",s.pincode),N.append("latitude",s.latitude),N.append("longitude",s.longitude),N.append("store_opening_time",s.store_opening_time),N.append("store_closing_time",s.store_closing_time),N.append("pos_billing_software_name",s.pos_billing_software_name),s.real_time_stock_capability&&N.append("real_time_stock_capability",s.real_time_stock_capability),N.append("bank_account_name",s.bank_account_name),N.append("bank_account_number",s.bank_account_number),N.append("bank_name",s.bank_name),N.append("ifsc_code",s.ifsc_code),s.drug_license&&N.append("drug_license",s.drug_license),s.gst_certificate&&N.append("gst_certificate",s.gst_certificate),s.pan_card&&N.append("pan_card",s.pan_card),s.aadhar_card&&N.append("aadhar_card",s.aadhar_card),s.store_front_view&&N.append("store_front_view",s.store_front_view),s.medicine_racks_view&&N.append("medicine_racks_view",s.medicine_racks_view),s.owner_photo_with_store&&N.append("owner_photo_with_store",s.owner_photo_with_store),s.medicine_inventory_file&&N.append("medicine_inventory_file",s.medicine_inventory_file),s.cancel_cheque_passbook&&N.append("cancel_cheque_passbook",s.cancel_cheque_passbook),s.shop_license&&N.append("shop_license",s.shop_license),await r(N)};if(!e)return null;const v=(y,N,j=!1,b=".pdf,.jpg,.jpeg,.png",_=!0)=>{const S=s[y],C=c[y];return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[N," ",j&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsx("input",{type:"file",accept:b,onChange:E=>p(E,y),className:"hidden",required:j}),n.jsxs("div",{className:"flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-md hover:border-primary transition-colors",children:[n.jsx(kc,{size:20,className:"mr-2 text-gray-400"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Upload ",_?"Image":"File"]})]})]}),S&&n.jsxs("div",{className:"flex items-center space-x-2",children:[_&&C&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:C,alt:"Preview",className:"w-16 h-16 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>f(y),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:n.jsx(yt,{size:12})})]}),!_&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-600",children:S.name}),n.jsx("button",{type:"button",onClick:()=>f(y),className:"text-red-500 hover:text-red-700",children:n.jsx(yt,{size:16})})]})]})]})]})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-10",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Register New Provider"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:a,children:n.jsx(yt,{size:24})})]}),n.jsxs("form",{onSubmit:h,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"store_name",required:!0,value:s.store_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"owner_name",required:!0,value:s.owner_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"owner_country_code",value:s.owner_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:iS.map(y=>n.jsxs("option",{value:y.code,children:[y.flag," ",y.code]},y.code))}),n.jsx("input",{type:"tel",name:"owner_number",required:!0,value:s.owner_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Contact Number (for login in app) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"store_country_code",value:s.store_country_code,onChange:u,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:iS.map(y=>n.jsxs("option",{value:y.code,children:[y.flag," ",y.code]},y.code))}),n.jsx("input",{type:"tel",name:"store_contact_number",required:!0,value:s.store_contact_number,onChange:u,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email-ID ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",name:"email",required:!0,value:s.email,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Address With Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"store_address",required:!0,value:s.store_address,onChange:u,rows:2,placeholder:"Enter full address with pincode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pincode",required:!0,value:s.pincode,onChange:u,placeholder:"XXXXXX",maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Latitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"latitude",required:!0,value:s.latitude,onChange:u,step:"any",placeholder:"e.g., 28.6139",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Longitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"longitude",required:!0,value:s.longitude,onChange:u,step:"any",placeholder:"e.g., 77.2090",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Timings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Opening Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_opening_time",required:!0,value:s.store_opening_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Closing Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_closing_time",required:!0,value:s.store_closing_time,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Business Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["POS/Billing Software Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pos_billing_software_name",required:!0,value:s.pos_billing_software_name,onChange:u,placeholder:"e.g., Tally, QuickBooks, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Do you have real-time stock update capability?"}),n.jsxs("select",{name:"real_time_stock_capability",value:s.real_time_stock_capability,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Bank Account Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Holder Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_name",required:!0,value:s.bank_account_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_number",required:!0,value:s.bank_account_number,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_name",required:!0,value:s.bank_name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["IFSC Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"ifsc_code",required:!0,value:s.ifsc_code,onChange:u,placeholder:"ABCD0123456",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Documents"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v("drug_license","Drug license (Form 20/21)",!0),v("gst_certificate","GST Certificate",!0),v("pan_card","Pan Card (OWNER/BUSINESS)",!0),v("aadhar_card","Aadhar Card (OWNER)",!1),v("store_front_view","Front view of store (WITH SIGNBOARD)",!0),v("medicine_racks_view","Inside view of medicine racks",!1),v("owner_photo_with_store","Owner photo with store",!0),v("medicine_inventory_file","Upload Medicine Inventory File (Excel/CSV)",!1,".xlsx,.xls,.csv",!1),v("cancel_cheque_passbook","Cancel Cheque/Passbook Photo",!0),v("shop_license","Shop License (If Available)",!1)]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx(he,{type:"button",variant:"outline",onClick:t,disabled:a,className:"border-2 border-primary !text-black font-semibold hover:bg-gray-100 hover:border-gray-500 hover:!text-black",children:"Cancel"}),n.jsx(he,{type:"submit",variant:"primary",disabled:a,className:"font-semibold shadow-md hover:shadow-lg",children:a?n.jsxs(n.Fragment,{children:[n.jsx(ra,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register Provider"})]})]})]})})},RX={},$x={pending:{status:"pending",verification_status:"pending"},verification_in_progress:{status:"pending",verification_status:"pending"},in_progress:{status:"pending",verification_status:"pending"},approved:{status:"approved",verification_status:"verified"},verified:{status:"approved",verification_status:"verified"},active:{status:"approved",verification_status:"verified"},rejected:{status:"blocked",verification_status:"rejected"},blocked:{status:"blocked",verification_status:"rejected"},suspend:{status:"suspended",verification_status:"verified"},suspended:{status:"suspended",verification_status:"verified"}},FX=e=>{if(!e)return $x.pending;const t=e.toLowerCase();return $x[t]||$x.pending},Sr=(e,t=0)=>{if(e==null||e==="")return t;const r=Number(e);return Number.isFinite(r)?r:t},Ro=(e,t=!1)=>{if(e==null)return t;if(typeof e=="string"){const r=e.trim().toLowerCase();if(["true","1","yes","verified","approved"].includes(r))return!0;if(["false","0","no","pending","rejected"].includes(r))return!1}return!!e},vt=(e,t="")=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},tl=(e,t=null)=>{if(e==null)return t;const r=String(e).trim();return r.length>0?r:t},BX=e=>{if(!e)return[];if(Array.isArray(e))return e.map(t=>vt(t)).filter(Boolean);if(typeof e=="string"){try{const t=JSON.parse(e);if(Array.isArray(t))return t.map(r=>vt(r)).filter(Boolean)}catch{return e.split(",").map(t=>t.trim()).filter(Boolean)}return e?[e]:[]}return[]},UX=e=>Array.isArray(e)?e.map((t,r)=>({id:Sr(t?.id,r+1),service_name:vt(t?.service_name??t?.title,`Service ${r+1}`),description:vt(t?.description,""),price_min:Sr(t?.price_min??t?.price??t?.price_original,0),price_max:Sr(t?.price_max??t?.price??t?.price_original,0),duration_minutes:Sr(t?.duration_minutes??t?.duration,0),status:vt(t?.status,"active"),category_name:vt(t?.category_name??t?.category,"General")})):[],qX=(e,t,r)=>Array.isArray(e)?e.map((a,s)=>({pincode:vt(a?.pincode,""),area_name:vt(a?.area_name??a?.name,`Area ${s+1}`),city:vt(a?.city,t),state:vt(a?.state,r),is_primary:Ro(a?.is_primary??a?.primary,s===0)})):[],KX=(e,t)=>{if(Array.isArray(e?.documents)&&e.documents.length>0)return e.documents.map((c,d)=>({id:Sr(c?.id,d+1),document_type:vt(c?.document_type??c?.type,`document_${d+1}`),document_name:vt(c?.document_name??c?.document_type??c?.type,`Document ${d+1}`),status:vt(c?.status,c?.verified_at?"approved":c?.rejection_reason?"rejected":"submitted"),uploaded_at:vt(c?.uploaded_at,e?.created_at||t?.created_at||new Date().toISOString()),verified_at:c?.verified_at??null,rejection_reason:c?.rejection_reason??null,document_url:tl(c?.document_url??c?.url??c?.file_url??c?.path??c?.link??null,null)}));const r=[],a=new Set,s=(c,d)=>{const u=c.trim();if(!u)return;const p=u.toLowerCase();a.has(p)||(a.add(p),r.push({id:r.length+1,document_type:u,document_name:u,status:"submitted",uploaded_at:e?.created_at||t?.created_at||new Date().toISOString(),verified_at:null,rejection_reason:null,document_url:tl(d??null,null)}))};return e?.documents&&typeof e.documents=="object"&&Object.entries(e.documents).forEach(([c,d])=>{if(!d)return;const u=c.replace(/_url|_doc_url/g,"").replace(/_/g," ").trim();if(u){if(Array.isArray(d))d.forEach((p,f)=>{if(!p)return;const h=d.length>1?`${u} ${f+1}`:u;if(typeof p=="string")s(h,p);else if(typeof p=="object"){const v=p.url??p?.document_url??p?.path??p?.file_url;v&&s(h,String(v))}});else if(typeof d=="string")s(u,d);else if(typeof d=="object"){const p=d.url??d?.document_url??d?.path??d?.file_url;p&&s(u,String(p))}}}),[{key:"profile_photo_url",label:"Profile Photo"},{key:"aadhaar_doc_url",label:"Aadhaar Document"},{key:"pan_doc_url",label:"PAN Document"},{key:"degree_doc_url",label:"Degree Document"}].forEach(({key:c,label:d})=>{e?.[c]&&s(d,e[c])}),r.length===0&&t?.documents?t.documents:r},WX=(e,t)=>{if(Array.isArray(e?.portfolio)&&e.portfolio.length>0)return e.portfolio;const r=BX(e?.previous_work_images);return r.length===0?t?.portfolio??[]:r.map((a,s)=>({id:s+1,title:`Work ${s+1}`,description:"",image_path:a,before_image:a,after_image:a,display_order:s+1,status:"active",created_at:e?.created_at||t?.created_at||new Date().toISOString()}))},HX=(e,t)=>{if(!e&&!t)return null;const r=e||t;return r?{account_holder_name:vt(r.account_holder_name,t?.account_holder_name??""),bank_name:vt(r.bank_name,t?.bank_name??""),account_number:vt(r.account_number,t?.account_number??""),ifsc_code:vt(r.ifsc_code,t?.ifsc_code??"")}:null},VX=(e,t)=>Array.isArray(e)?e.map(r=>Sr(r)).filter(r=>Number.isFinite(r)&&r>0):t||[],GX=(e,t)=>{if(Array.isArray(e)){const r=[];return e.forEach((a,s)=>{const o=Sr(a?.category_id,a?.category?Number(a?.category):0),c=Sr(a?.subcategory_id,s+1);!o&&!c||r.push({category_id:o,subcategory_id:c,category_name:tl(a?.category_name??a?.category??null,null),subcategory_name:tl(a?.subcategory_name??a?.subcategory??null,null)})}),r}return t||[]},Do=(e,t)=>{if(!e&&t)return t;if(!e)return{id:0,name:"",email:"",phone:"",business_name:"",address:"",pincode:"",city:"",state:"",profile_image:null,business_logo:null,experience_years:0,description:null,status:"pending",verification_status:"pending",email_verified:!1,phone_verified:!1,identity_verified:!1,documents_verified:!1,average_rating:0,total_reviews:0,total_bookings:0,total_earnings:0,commission_rate:0,is_featured:!1,created_at:new Date().toISOString(),services:[],service_areas:[],documents:[],portfolio:[]};const r=e?.details?{...e.details,...e}:e,{status:a,verification_status:s}=FX(r?.status),o=vt(r?.city,t?.city??""),c=vt(r?.state,t?.state??""),d=UX(r?.services),u=qX(r?.service_areas,o,c),p=KX(r,t),f=WX(r,t),h=HX(r?.bank_details,t?.bank_details),v=VX(r?.categories,t?.category_ids),y=GX(r?.subcategories,t?.subcategory_links),N=vt(r?.created_at,t?.created_at??new Date().toISOString()),j=r?.average_rating??r?.rating,b=r?.total_reviews??(Array.isArray(r?.reviews)?r.reviews.length:void 0),_=r?.total_bookings??r?.completed_appointments;return{id:Sr(r?.id??r?.provider_id,t?.id??0),name:vt(r?.full_name??r?.name,t?.name??""),email:vt(r?.email,t?.email??""),phone:vt(r?.phone_number??r?.phone,t?.phone??""),business_name:vt(r?.business_name,t?.business_name??""),address:vt(r?.address,t?.address??""),pincode:vt(r?.pincode,t?.pincode??""),city:o,state:c,profile_image:tl(r?.profile_photo_url??r?.profile_image??r?.documents?.profile_photo_url,t?.profile_image??null),business_logo:tl(r?.business_logo,t?.business_logo??null),experience_years:Sr(r?.experience_years,t?.experience_years??0),description:r?.description??t?.description??null,status:a,verification_status:s,email_verified:Ro(r?.email_verified,t?.email_verified??!1),phone_verified:Ro(r?.phone_verified,t?.phone_verified??!1),identity_verified:Ro(r?.identity_verified,t?.identity_verified??!1),documents_verified:Ro(r?.documents_verified,t?.documents_verified??a==="approved"),average_rating:Sr(j,t?.average_rating??0),total_reviews:Sr(b,t?.total_reviews??0),total_bookings:Sr(_,t?.total_bookings??0),total_earnings:Sr(r?.total_earnings,t?.total_earnings??0),commission_rate:Sr(r?.commission_rate,t?.commission_rate??0),is_featured:Ro(r?.is_featured,t?.is_featured??!1),created_at:N,services:d.length>0?d:t?.services??[],service_areas:u.length>0?u:t?.service_areas??[],documents:p.length>0?p:t?.documents??[],portfolio:f.length>0?f:t?.portfolio??[],bank_details:h,category_ids:v,subcategory_links:y}},Wu=(e,t)=>{if(!t)return e;const r=e.findIndex(s=>s.id===t.id);if(r===-1)return e;const a=[...e];return a[r]=t,a},YX={approve:{apiAction:"approve",nextStatus:"approved",verification:"verified"},reject:{apiAction:"reject",nextStatus:"blocked",verification:"rejected"},suspend:{apiAction:"suspend",nextStatus:"suspended",verification:"verified"},reinstate:{apiAction:"reinstate",nextStatus:"approved",verification:"verified"}},XX=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(""),[d,u]=g.useState(1),[p,f]=g.useState(new Set),[h,v]=g.useState(!1),[y,N]=g.useState({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1}),j=5,b=RX?.VITE_API_BASE_URL||"/api",[_,S]=g.useState("all"),[C,E]=g.useState([]),[P,O]=g.useState(!1),[T,U]=g.useState({isOpen:!1,providerId:null,action:null,reason:"",notes:""}),[M,z]=g.useState({isOpen:!1,providerId:null,documentId:null,action:null}),[I,q]=g.useState(!1),[L,D]=g.useState(!1),[ee,oe]=g.useState({categories:{},servicesById:{}}),ie=g.useCallback(async()=>{const fe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{const[de,Je]=await Promise.all([fetch(`${b}/admin/categories`,{headers:{"Content-Type":"application/json",...fe?{Authorization:`Bearer ${fe}`}:{}}}),fetch(`${b}/admin/services`,{headers:{"Content-Type":"application/json",...fe?{Authorization:`Bearer ${fe}`}:{}}})]),ze=await de.json(),ce=await Je.json();if(de.ok&&Array.isArray(ze.categories)){const Pe={};ze.categories.forEach(Ae=>{const Re=Sr(Ae?.id,0);if(!Re)return;const tt={},kt=Array.isArray(Ae?.subcategories)?Ae.subcategories:Ae?.services;Array.isArray(kt)&&kt.forEach(($,_e)=>{const Ie=Sr($?.id,_e+1);Ie&&(tt[Ie]=vt($?.name??$?.title??$?.service_name,`Service ${Ie}`))}),Pe[Re]={name:vt(Ae?.name,`Category ${Re}`),services:tt}});const Te={};Je.ok&&Array.isArray(ce.services)&&ce.services.forEach((Ae,Re)=>{const tt=Sr(Ae?.id,Re+1);tt&&(Te[tt]=vt(Ae?.title??Ae?.name??Ae?.service_name,`Service ${tt}`))}),oe({categories:Pe,servicesById:Te})}else throw new Error(ze.message||"Failed to fetch categories")}catch(de){console.error("Error fetching categories catalog:",de);const Je=de instanceof Error?de.message:"Failed to fetch categories";e(Je,"error")}},[b,e]),W=g.useCallback(async(fe=!1)=>{const de=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!de){e("Please login to view providers","error"),fe&&s(!1);return}fe&&s(!0);try{const Je=await fetch(`${b}/admin/providers`,{headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}});if(!Je.ok)throw new Error(`HTTP error! status: ${Je.status}`);const ze=Je.headers.get("content-type");if(!ze||!ze.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),r([]);return}const ce=await Je.text();if(!ce||ce.trim()===""){console.warn("Empty response body, treating as empty list"),r([]);return}let Pe;try{Pe=JSON.parse(ce)}catch(Te){throw console.error("JSON parse error:",Te,"Response text:",ce),new Error("Invalid JSON response from server")}if(Array.isArray(Pe.data)){const Te=Pe.data.map(Ae=>Do(Ae));r(Te)}else if(Pe.success===!1)console.warn("API returned error:",Pe.message),r([]);else throw new Error(Pe.message||"Failed to fetch providers")}catch(Je){console.error("Error fetching providers:",Je);const ze=Je instanceof Error?Je.message:"Failed to fetch providers";e(ze,"error"),r([])}finally{fe&&s(!1)}},[b,e]),J=g.useCallback(async()=>{O(!0);const fe=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!fe){e("Please login to view pending providers","error"),O(!1);return}try{const de=await fetch(`${b}/admin/providers?list=pending`,{headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}});if(!de.ok)throw new Error(`HTTP error! status: ${de.status}`);const Je=de.headers.get("content-type");if(!Je||!Je.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),E([]);return}const ze=await de.text();if(!ze||ze.trim()===""){console.warn("Empty response body, treating as empty list"),E([]);return}let ce;try{ce=JSON.parse(ze)}catch(Pe){throw console.error("JSON parse error:",Pe,"Response text:",ze),new Error("Invalid JSON response from server")}if(Array.isArray(ce.data)){const Pe=ce.data.map(Te=>Do(Te));E(Pe)}else if(ce.success===!1)console.warn("API returned error:",ce.message),E([]);else throw new Error(ce.message||"Failed to fetch pending providers")}catch(de){console.error("Error fetching pending providers:",de);const Je=de instanceof Error?de.message:"Failed to fetch pending providers";e(Je,"error"),E([])}finally{O(!1)}},[b,e]);g.useEffect(()=>{W(!0),J(),ie()},[W,J,ie]),g.useEffect(()=>{_==="pending"||W(),J()},[_,J,W]),g.useEffect(()=>{const fe=setInterval(()=>{W(),J()},3e4);return()=>clearInterval(fe)},[J,W]);const ue=async fe=>{const de=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!de){e("Please login to view provider details","error");return}try{const Je=await fetch(`${b}/admin/providers?provider_id=${fe}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${de}`}}),ze=await Je.json(),ce=Array.isArray(ze?.data)?ze.data[0]:ze?.data;if(Je.ok&&ce){const Pe=ce;let Te=null;r(Ae=>{const Re=Ae.find(tt=>tt.id===fe);return Te=Do(Pe,Re),Wu(Ae,Te)}),E(Ae=>{if(!Te){const Re=Ae.find(tt=>tt.id===fe);Te=Do(Pe,Re)}return Wu(Ae,Te)})}else throw new Error(ze.message||"Failed to fetch provider details")}catch(Je){console.error("Error fetching provider details:",Je),e(Je instanceof Error?Je.message:"Failed to fetch provider details","error")}},K=fe=>{const de=new Set(p);p.has(fe)?de.delete(fe):(de.add(fe),ue(fe)),f(de)},te=fe=>{fe==="name"||fe==="status"||fe==="action"||N(de=>({...de,[fe]:!de[fe]}))},ve=()=>{N({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1})},be=()=>{U({isOpen:!1,providerId:null,action:null,reason:"",notes:""})},Oe=(fe,de)=>{if(de==="reject"||de==="suspend"){U({isOpen:!0,providerId:fe,action:de,reason:"",notes:""});return}V(fe,de)},Me=t.filter(fe=>fe.name.toLowerCase().includes(o.toLowerCase())||fe.email.toLowerCase().includes(o.toLowerCase())||fe.phone.includes(o)||fe.city.toLowerCase().includes(o.toLowerCase())),Ne=Math.ceil(Me.length/j),F=(d-1)*j,Y=Me.slice(F,F+j),V=async(fe,de,Je,ze)=>{const ce=YX[de];if(!ce)return;const Pe=(ze||Je||"").trim();if((de==="reject"||de==="suspend")&&!Pe){e("Please provide a reason for this action","error");return}try{const Te=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Te){e("Please login to verify provider","error");return}const Ae={action:ce.apiAction};Pe&&(Ae.notes=Pe);const Re=await fetch(`${b}/admin/provider/verify/${fe}`,{method:"PUT",headers:{Authorization:`Bearer ${Te}`,"Content-Type":"application/json"},body:JSON.stringify(Ae)});if(!Re.ok){let $="Failed to update provider status";try{const _e=await Re.json();$=_e.message||_e.error?.message||$}catch{$=`Failed to update provider status: ${Re.status} ${Re.statusText}`}throw new Error($)}let tt={};if(Re.status!==204)try{const $=Re.headers.get("content-type");if($&&$.includes("application/json")){const _e=await Re.text();_e&&_e.trim()&&(tt=JSON.parse(_e))}}catch($){console.warn("Failed to parse response JSON, but response was successful. Provider status was updated:",$),tt={}}const kt=ce.nextStatus!=="pending";if(tt.provider){const $=tt.provider;let _e=null;r(Ie=>{const st=Ie.find(xe=>xe.id===fe);return _e=Do($,st),Wu(Ie,_e)}),E(Ie=>{if(!_e){const R=Ie.find(xe=>xe.id===fe);_e=Do($,R)}const st=Wu(Ie,_e);return kt?st.filter(R=>R.id!==fe):st})}else r($=>$.map(_e=>_e.id===fe?{..._e,status:ce.nextStatus,verification_status:ce.verification}:_e)),E($=>{const _e=$.map(Ie=>Ie.id===fe?{...Ie,status:ce.nextStatus,verification_status:ce.verification}:Ie);return kt?_e.filter(Ie=>Ie.id!==fe):_e});be(),e(tt.message||`Provider ${de}d successfully`,"success");try{await W()}catch($){console.error("Error refreshing providers list:",$)}try{await J()}catch($){console.error("Error refreshing pending providers list:",$)}}catch(Te){console.error("Error updating provider status:",Te),e(Te instanceof Error?Te.message:"Failed to update provider status","error")}},re=async fe=>{D(!0);try{const de=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!de){e("Please login to register a provider","error"),D(!1);return}const Je=await fetch(`${b}/provider/register`,{method:"POST",headers:{Authorization:`Bearer ${de}`},body:fe}),ze=await Je.json();if(Je.ok&&ze.provider_id){e(ze.message||"Provider registered successfully","success"),q(!1);try{await W(),await J()}catch(ce){console.error("Error refreshing providers list:",ce)}}else{const ce=ze?.error?.message||ze?.message||"Failed to register provider";e(ce,"error")}}catch(de){console.error("Error registering provider:",de),e(de instanceof Error?de.message:"Failed to register provider","error")}finally{D(!1)}},Q=async(fe,de,Je,ze)=>{try{const ce=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!ce){e("Please login to update document","error");return}const Te=await(await fetch(`${b}/admin/providers/${fe}/documents/${de}`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({action:Je,reason:ze})})).json();Te.success&&(r(Ae=>Ae.map(Re=>Re.id===fe?{...Re,documents:Re.documents?.map(tt=>tt.id===de?{...tt,status:Je==="approve"?"approved":"rejected",rejection_reason:ze||null}:tt)}:Re)),e(Te.message,"success"))}catch(ce){console.error("Error updating document status:",ce),e("Failed to update document status","error")}},De=fe=>fe?new Date(fe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Ce=fe=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(fe),rt=()=>{const fe=_==="pending"?C:Y;return _==="pending"&&!P&&C.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(y).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(wa,{size:24,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Providers"}),n.jsx("p",{className:"text-gray-500 max-w-sm",children:"There are currently no vendors waiting for approval."})]})})}):P&&_==="pending"?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(y).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading pending providers..."})]})})}):fe.map(de=>n.jsxs(un.Fragment,{children:[n.jsx(OX,{provider:de,fieldVisibility:y,expandingUsers:p,onStatusAction:Oe,onToggleDropdown:K,formatDate:De,formatCurrency:Ce,isExpanded:p.has(de.id)}),p.has(de.id)&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-primary/5 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(y).filter(Boolean).length+1,className:"p-6",children:n.jsx(TX,{provider:de,formatDate:De,serviceCatalog:ee})})})]},de.id))};return n.jsxs(hr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Vendors"}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:n.jsx(wa,{className:"h-5 w-5 text-white"})}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"About"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:"Manage and approve pharmacy vendor profiles, monitor their performance, and handle verification requests."})]})]})]}),a&&_==="all"?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading vendors..."})]}):n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(dt,{children:"Vendors"}),n.jsx(ub,{value:_,onValueChange:fe=>S(fe),children:n.jsxs(mb,{children:[n.jsxs(Js,{value:"all",className:"relative",children:["All Trainers",n.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:t.length})]}),n.jsxs(Js,{value:"pending",className:"relative",children:["Pending Trainers",n.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full",children:C.length})]})]})})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(he,{onClick:()=>q(!0),variant:"primary",className:"flex items-center space-x-2",children:[n.jsx(Sn,{size:18}),n.jsx("span",{children:"Add Provider"})]}),n.jsx(MX,{showFieldManagement:h,onToggleSettings:()=>v(!h),fieldVisibility:y,onToggleField:te,onResetFields:ve}),n.jsx(IX,{searchTerm:o,onSearchChange:c})]})]}),n.jsxs(Ve,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx(CX,{fieldVisibility:y}),n.jsx("tbody",{children:rt()})]})}),_==="all"&&Ne>1&&n.jsx(DX,{currentPage:d,totalPages:Ne,startIndex:F,itemsPerPage:j,totalItems:Me.length,onPageChange:u})]})]}),n.jsx(LX,{isOpen:T.isOpen,providerId:T.providerId,action:T.action,reason:T.reason,notes:T.notes,onClose:be,onConfirm:V,onReasonChange:fe=>U(de=>({...de,reason:fe})),onNotesChange:fe=>U(de=>({...de,notes:fe}))}),n.jsx($X,{isOpen:M.isOpen,providerId:M.providerId,documentId:M.documentId,action:M.action,reason:M.reason,onClose:()=>z({isOpen:!1,providerId:null,documentId:null,action:null}),onConfirm:Q,onReasonChange:fe=>z(de=>({...de,reason:fe}))}),n.jsx(zX,{isOpen:I,onClose:()=>q(!1),onSubmit:re,isSubmitting:L})]})},JX=({isOpen:e,onClose:t,onConfirm:r,userName:a})=>e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:n.jsx(aa,{className:"h-6 w-6 text-red-600"})})}),n.jsx("h3",{className:"text-lg font-semibold text-center mb-2",children:"Delete User"}),n.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["Are you sure you want to delete ",a,"? This action cannot be undone."]}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(he,{variant:"outline",onClick:t,className:"hover:bg-gray-100",children:"Cancel"}),n.jsx(he,{onClick:r,className:"bg-red-600 text-white hover:bg-red-700 border-red-600 hover:border-red-700",children:"Delete"})]})]})}):null,rl=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}),ZX=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:o})=>t<=1?null:n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," users"]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:`border-2 font-semibold transition-all duration-200 group ${e===1?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx(Ji,{size:16,className:e===1?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"}),n.jsx("span",{className:"ml-1",children:"Previous"})]}),n.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:[e," of ",t]}),n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:`border-2 font-semibold transition-all duration-200 group ${e===t?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx("span",{className:"mr-1",children:"Next"}),n.jsx(Ea,{size:16,className:e===t?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"})]})]})]}),lO=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(An,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),QX=({user:e,formatDate:t,getActivityIcon:r})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Lt,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"User Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Login"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.last_login)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ti,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(ti,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Qi,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Qa,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Qa,{size:16,className:"text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]})]}),eJ=({columnVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[e.name&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Name"}),e.contact&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Location"}),e.status&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Status"}),e.activity&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Activity"}),e.actions&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Actions"})]})}),tJ=({user:e,columnVisibility:t,expandingUsers:r,onStatusChange:a,onToggleDropdown:s,onDelete:o,formatDate:c})=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[t.name&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-3 min-w-[180px]",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center ring-2 ring-primary/10 flex-shrink-0",children:n.jsx("span",{className:"text-sm font-semibold text-primary",children:e.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),t.contact&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[220px]",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx(ti,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900 break-words",children:e.email}),e.email_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(ja,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx(Qi,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900",children:e.phone}),e.phone_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(ja,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]})]})}),t.location&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"text-sm min-w-[180px]",children:[n.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[e.city,", ",e.state]}),n.jsxs("p",{className:"text-gray-500 flex items-center",children:[n.jsx(Qa,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsx("span",{children:e.pincode})]})]})}),t.status&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsx("div",{className:"min-w-[120px]",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700 border border-green-200":e.status==="suspended"?"bg-red-100 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 flex-shrink-0 ${e.status==="active"?"bg-green-500":e.status==="suspended"?"bg-red-500":"bg-gray-500"}`}),e.status==="inactive"?"Active":e.status.charAt(0).toUpperCase()+e.status.slice(1)]})})}),t.activity&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Vr,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"text-sm text-gray-900",children:["Last: ",c(e.last_login)]})]}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Vr,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:[e.total_bookings," bookings"]})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(ls,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:["",e.total_spent.toLocaleString()]})]})]})]})}),t.actions&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-2 min-w-[280px]",children:[n.jsxs("select",{value:e.status,onChange:d=>a(e.id,d.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white text-gray-900",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"suspended",children:"Suspended"})]}),n.jsx(he,{variant:"outline",size:"sm",onClick:()=>s(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-white hover:border-primary hover:shadow-md group",disabled:r.has(e.id),children:r.has(e.id)?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx(Zi,{size:14,className:"mr-1 text-black group-hover:text-white transition-colors duration-200"}),n.jsx("span",{children:"Details"}),e.expanded?n.jsx(ol,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"}):n.jsx(oi,{size:14,className:"ml-1 text-black group-hover:text-white transition-colors duration-200"})]})}),n.jsxs(he,{variant:"outline",size:"sm",onClick:()=>o(e.id,e.name),className:"border-2 border-red-200 text-black font-semibold transition-all duration-200 hover:bg-red-600 hover:text-white hover:border-red-600 hover:shadow-lg group",children:[n.jsx(yt,{size:14,className:"mr-1 text-black group-hover:text-white transition-colors duration-200"}),"Delete"]})]})})]}),rJ={},zx=rJ?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",nJ=e=>({id:e.id||0,name:e.full_name||e.name||"Unknown",email:e.email||"",phone:e.phone_number||e.phone||"",address:e.address||"",pincode:e.pincode||"",city:e.city||"",state:e.state||"",profile_image:e.profile_photo_url||e.profile_image||"",status:e.status==="active"||e.status==="inactive"||e.status==="suspended"?e.status:"active",email_verified:e.email_verified!==void 0?e.email_verified:!0,phone_verified:e.phone_verified!==void 0?e.phone_verified:!0,created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||e.created_at||new Date().toISOString(),last_login:e.last_login||e.updated_at||e.created_at||new Date().toISOString(),total_bookings:e.total_bookings||e.completed_appointments||0,total_spent:e.total_spent||0,recent_activities:(e.recent_activities||e.activities||[]).map(t=>({activity_type:t.activity_type||t.type||"unknown",description:t.description||"",ip_address:t.ip_address||"",created_at:t.created_at||new Date().toISOString()})),expanded:!1}),aJ=()=>{const[e,t]=g.useState([]),[r,a]=g.useState(!0),[s,o]=g.useState(""),[c,d]=g.useState(1),[u,p]=g.useState(new Set),f={name:!0,contact:!0,location:!0,status:!0,activity:!0,actions:!0},h=5,{addToast:v}=Zt(),{user:y}=Cr(),[N,j]=g.useState({isOpen:!1,userId:null,userName:""}),b=g.useCallback(async()=>{const z=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!z){v("Please login to view users","error"),a(!1);return}try{a(!0);const I=await fetch(`${zx}/admin/users`,{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}});if(!I.ok){if(I.status===401){v("Authentication failed. Please log in again.","error"),a(!1);return}throw new Error(`HTTP error! status: ${I.status}`)}const q=I.headers.get("content-type");if(!q||!q.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),t([]),a(!1);return}const L=await I.text();if(!L||L.trim()===""){console.warn("Empty response body, treating as empty list"),t([]),a(!1);return}let D;try{D=JSON.parse(L)}catch(ie){throw console.error("JSON parse error:",ie,"Response text:",L),new Error("Invalid JSON response from server")}let ee=[];if(Array.isArray(D.data))ee=D.data;else if(Array.isArray(D.users))ee=D.users;else if(Array.isArray(D))ee=D;else if(D.success===!1){console.warn("API returned error:",D.message),t([]),a(!1);return}else throw new Error(D.message||"Invalid response format from server");const oe=ee.map(ie=>nJ(ie));t(oe)}catch(I){console.error("Error fetching users:",I);const q=I instanceof Error?I.message:"Failed to fetch users";v(q,"error"),t([])}finally{a(!1)}},[v]);g.useEffect(()=>{b()},[b]);const _=e.filter(z=>z.name.toLowerCase().includes(s.toLowerCase())||z.email.toLowerCase().includes(s.toLowerCase())||z.phone.includes(s)||z.city.toLowerCase().includes(s.toLowerCase())),S=Math.ceil(_.length/h),C=(c-1)*h,E=_.slice(C,C+h),P=async(z,I)=>{const q=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!q){v("Please login to update user status","error");return}let L={};const D=y?.name||y?.full_name||"Admin User";I==="suspended"?L={action:"suspend",notes:"User suspended by admin",admin_name:D}:L={action:"activate"};try{t(e.map(J=>J.id===z?{...J,status:I,updated_at:new Date().toISOString()}:J));const ee=await fetch(`${zx}/admin/users/${z}/status`,{method:"PUT",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify(L)});let oe=null;const ie=ee.headers.get("content-type");if(ie&&ie.includes("application/json")&&ee.status!==204)try{const J=await ee.text();J&&J.trim()&&(oe=JSON.parse(J))}catch(J){console.warn("Could not parse response:",J)}if(!ee.ok){b();let J="Failed to update user status";throw oe?J=oe.message||oe.error?.message||J:ee.status===404?J="User status update endpoint not found. The API endpoint may not be implemented yet.":ee.status===401?J="Authentication failed. Please log in again.":ee.status===403?J="You do not have permission to update user status.":J=`Server error: ${ee.status} ${ee.statusText}`,new Error(J)}v(oe?.message||`User status updated to ${I}`,"success"),b()}catch(ee){console.error("Error updating user status:",ee);const oe=ee instanceof Error?ee.message:"Failed to update user status";v(oe,"error"),b()}},O=async z=>{const I=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!I){v("Please login to delete user","error");return}try{if(!(await fetch(`${zx}/admin/users/${z}`,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete user");t(e.filter(L=>L.id!==z)),v("User deleted successfully","success"),j({isOpen:!1,userId:null,userName:""})}catch(q){console.error("Error deleting user:",q),v("Failed to delete user","error"),j({isOpen:!1,userId:null,userName:""})}},T=z=>{e.find(q=>q.id===z)?.expanded||(p(q=>new Set(q).add(z)),setTimeout(()=>{p(q=>{const L=new Set(q);return L.delete(z),L})},300)),t(q=>q.map(L=>L.id===z?{...L,expanded:!L.expanded}:L))},U=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),M=(z,I)=>{j({isOpen:!0,userId:z,userName:I})};return n.jsxs(hr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Users"}),n.jsx("p",{className:"text-gray-600",children:"Manage user accounts, orders, and engagement activity."})]}),r?n.jsx(rl,{}):n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(dt,{children:"All Users"}),n.jsx("div",{className:"flex items-center space-x-3",children:n.jsx(lO,{searchTerm:s,onSearchChange:o})})]}),n.jsxs(Ve,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx(eJ,{columnVisibility:f}),n.jsx("tbody",{children:E.map(z=>n.jsxs(un.Fragment,{children:[n.jsx(tJ,{user:z,columnVisibility:f,expandingUsers:u,onStatusChange:P,onToggleDropdown:T,onDelete:M,formatDate:U}),z.expanded&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(f).filter(Boolean).length,className:"py-6 px-6",children:n.jsx(QX,{user:z,formatDate:U})})})]},z.id))})]})}),S>1&&n.jsx(ZX,{currentPage:c,totalPages:S,startIndex:C,itemsPerPage:h,totalItems:_.length,onPageChange:d})]})]}),n.jsx(JX,{isOpen:N.isOpen,onClose:()=>j({isOpen:!1,userId:null,userName:""}),onConfirm:()=>N.userId&&O(N.userId),userName:N.userName})]})},sJ=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(An,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search categories...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),iJ=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:o})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," categories"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ji,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(he,{onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ea,{size:16})})]})]}),oJ=({isOpen:e,onClose:t,onSave:r,category:a,isSubmitting:s=!1,initialImageUrl:o})=>{const[c,d]=g.useState({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),[u,p]=g.useState(null);g.useEffect(()=>{if(a){const h=a;d({name:a.name,description:"",icon:"",image:typeof o=="string"?o:"",status:"active",sort_order:0,show_on_homepage:h.show_on_homepage||!1}),p(typeof o=="string"&&o?o:null)}else d({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1}),p(null)},[a,e,o]);const f=h=>{h.preventDefault(),r(c)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:a?"Edit Category":"Add New Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",required:!0,value:c.name,onChange:h=>d({...c,name:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image (upload a file or paste a URL)"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{children:n.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md cursor-pointer bg-gray-50 hover:bg-gray-100",children:[n.jsx(kc,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Choose file"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:h=>{const v=h.target.files&&h.target.files[0];if(v){const y=URL.createObjectURL(v);p(y),d({...c,image:v})}}})]})}),n.jsx("div",{children:n.jsx("input",{type:"url",value:typeof c.image=="string"?c.image:"",onChange:h=>{d({...c,image:h.target.value}),p(h.target.value||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"/public/images/cat.jpg or https://..."})})]}),u&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:u,alt:"Preview",className:"max-h-24 max-w-full rounded border"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.show_on_homepage||!1,onChange:h=>d({...c,show_on_homepage:h.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show on Homepage (Max 6 categories)"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Only 6 categories with this checkbox checked will be displayed on the homepage"})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(he,{type:"submit",disabled:s,className:"bg-primary hover:bg-primary/90 text-white",children:s?"Saving...":a?"Update":"Create"})]})]})]})}):null},lJ=({isOpen:e,onClose:t,onConfirm:r,category:a,isSubmitting:s=!1})=>e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delete Category"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',a?.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(he,{onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(he,{onClick:r,disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Deleting...":"Delete"})]})]})]})}):null,cO={},qr=cO?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in",cJ=cO?.VITE_BACKEND_BASE_URL||"https://kwikmedi.mycartly.in",dJ=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${cJ}${r}`},uJ=()=>{const{addToast:e}=Zt(),{user:t}=Cr(),r=t?.role==="admin",[a,s]=g.useState("categories"),[o,c]=g.useState(0),[d,u]=g.useState(0),[p,f]=g.useState(!1),[h,v]=g.useState([]),[y,N]=g.useState([]),[j,b]=g.useState(!1),[_,S]=g.useState(!1),[C,E]=g.useState(""),[P,O]=g.useState(""),[T,U]=g.useState(1),[M,z]=g.useState(1),[I,q]=g.useState(!1),[L,D]=g.useState("add"),[ee,oe]=g.useState(null),[ie,W]=g.useState(!1),[J,ue]=g.useState(!1),[K,te]=g.useState([]),[ve,be]=g.useState(!1),[Oe,Me]=g.useState([]),[Ne,F]=g.useState(!1),[Y,V]=g.useState(!1),[re,Q]=g.useState(null),[De,Ce]=g.useState("add"),[rt,fe]=g.useState(!1),[de,Je]=g.useState(null),[ze,ce]=g.useState([]),[Pe,Te]=g.useState(!1),[Ae,Re]=g.useState(null),[tt,kt]=g.useState("all"),[$,_e]=g.useState("all"),[Ie,st]=g.useState(!1),R=10,xe=async()=>{b(!0);try{const H=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),we=await fetch(`${qr}/api/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json",...H?{Authorization:`Bearer ${H}`}:{}}}),Ee=await we.json();if(we.ok&&Ee.categories&&Array.isArray(Ee.categories)){const at=Ee.categories.map(mt=>({id:mt.id,name:mt.name,image_url:typeof mt.image_url=="string"?mt.image_url:"",show_on_homepage:mt.show_on_homepage||!1,created_at:mt.created_at||new Date().toISOString(),updated_at:mt.updated_at||new Date().toISOString()}));v(at)}else throw new Error(Ee.message||"Failed to fetch categories")}catch(H){console.error("Error fetching categories:",H);const we=H instanceof Error?H.message:"Failed to fetch categories";e(we,"error")}finally{b(!1)}};g.useEffect(()=>{xe()},[]),g.useEffect(()=>{(a==="inventory"||a==="generic"||a==="branded")&&St(),(a==="generic"||a==="branded")&&me()},[a]);const me=async()=>{f(!0);try{const H=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),we=await fetch(`${qr}/api/admin/commissions`,{method:"GET",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}});if(we.ok){const Ee=await we.json();c(Ee.generic_commission||0),u(Ee.branded_commission||0)}}catch(H){console.error("Error fetching commissions:",H)}finally{f(!1)}},ot=async(H,we)=>{if(!r){e("Only super admin can update commission rates","error");return}f(!0);try{const Ee=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Xe=await fetch(`${qr}/api/admin/commissions`,{method:"PUT",headers:{Authorization:`Bearer ${Ee}`,"Content-Type":"application/json"},body:JSON.stringify({[H==="generic"?"generic_commission":"branded_commission"]:we})}),at=await Xe.json();if(Xe.ok&&at.success)c(at.generic_commission||0),u(at.branded_commission||0),e("Commission updated successfully","success");else{const mt=at?.error?.message||at?.message||"Failed to update commission";console.error("Error updating commission:",at),e(mt,"error")}}catch(Ee){console.error("Error updating commission:",Ee);const Xe=Ee?.message||"Failed to update commission. Please try again.";e(Xe,"error")}finally{f(!1)}},St=async()=>{S(!0);try{const H=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),we=new URLSearchParams;P&&we.append("search",P);const Ee=await fetch(`${qr}/api/admin/inventory?${we.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",...H?{Authorization:`Bearer ${H}`}:{}}});if(!Ee.ok){const at=await Ee.json().catch(()=>({}));throw console.error("Inventory fetch error:",Ee.status,at),new Error(at.error?.message||at.message||`Failed to fetch inventory: ${Ee.statusText}`)}const Xe=await Ee.json();if(Xe.inventory&&Array.isArray(Xe.inventory)){const at=Xe.inventory.map(mt=>({...mt,price:Number(mt.price||0),discounted_price:mt.discounted_price?Number(mt.discounted_price):null,stock_quantity:Number(mt.stock_quantity||0),low_stock_threshold:Number(mt.low_stock_threshold||0)}));N(at)}else console.warn("Unexpected inventory response format:",Xe),N([])}catch(H){console.error("Error fetching inventory:",H);const we=H instanceof Error?H.message:"Failed to fetch inventory";e(we,"error"),N([])}finally{S(!1)}},sr=async H=>{const we=H.target.files?.[0];if(we){if(!we.name.toLowerCase().endsWith(".xlsx")&&!we.name.toLowerCase().endsWith(".xls")){e("Please upload an Excel file (.xlsx or .xls)","error");return}ue(!0);try{const Ee=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Xe=new FormData;Xe.append("inventory_file",we);const at=await fetch(`${qr}/api/admin/inventory/upload`,{method:"POST",headers:{...Ee?{Authorization:`Bearer ${Ee}`}:{}},body:Xe}),mt=await at.json();if(at.ok)e(`Inventory uploaded: ${mt.inserted} new, ${mt.updated} updated`,"success"),St();else throw new Error(mt.error?.message||mt.message||"Failed to upload inventory")}catch(Ee){console.error("Error uploading inventory:",Ee);const Xe=Ee instanceof Error?Ee.message:"Failed to upload inventory";e(Xe,"error")}finally{ue(!1),H.target.value=""}}},X=H=>{Q(H),Ce("edit"),F(!0)},Se=async H=>{if(confirm(`Are you sure you want to delete "${H.medicine_name}"?`))try{const we=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!we){e("Please login to delete inventory","error");return}const Ee=await fetch(`${qr}/api/admin/inventory/${H.id}`,{method:"DELETE",headers:{...we?{Authorization:`Bearer ${we}`}:{}}}),Xe=await Ee.json();if(Ee.ok)e("Inventory item deleted successfully","success"),St();else throw new Error(Xe.error?.message||Xe.message||"Failed to delete inventory item")}catch(we){console.error("Error deleting inventory:",we);const Ee=we instanceof Error?we.message:"Failed to delete inventory item";e(Ee,"error")}},Ze=async H=>{V(!0);try{const we=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!we){e("Please login to add inventory","error");return}const Ee=De==="edit"&&re?"PUT":"POST",Xe=De==="edit"&&re?`${qr}/api/admin/inventory/${re.id}`:`${qr}/api/admin/inventory`,at=await fetch(Xe,{method:Ee,headers:{...we?{Authorization:`Bearer ${we}`}:{}},body:H}),mt=await at.json();if(at.ok)e(`Inventory item ${De==="edit"?"updated":"added"} successfully`,"success"),F(!1),Q(null),Ce("add"),St();else throw new Error(mt.error?.message||mt.message||`Failed to ${De==="edit"?"update":"add"} inventory item`)}catch(we){console.error(`Error ${De==="edit"?"updating":"adding"} inventory:`,we);const Ee=we instanceof Error?we.message:`Failed to ${De==="edit"?"update":"add"} inventory item`;e(Ee,"error")}finally{V(!1)}},zt=async(H,we)=>{try{const Ee=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Xe=await fetch(`${qr}/api/admin/inventory/${H}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",...Ee?{Authorization:`Bearer ${Ee}`}:{}},body:JSON.stringify({category_ids:we})}),at=await Xe.json();if(Xe.ok)e("Categories assigned successfully","success"),St();else throw new Error(at.error?.message||at.message||"Failed to assign categories")}catch(Ee){console.error("Error assigning categories:",Ee);const Xe=Ee instanceof Error?Ee.message:"Failed to assign categories";e(Xe,"error")}},pt=async()=>{if(K.length===0||Oe.length===0){e("Please select inventory items and categories","error");return}try{const H=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),we=await fetch(`${qr}/api/admin/inventory/bulk-assign-categories`,{method:"POST",headers:{"Content-Type":"application/json",...H?{Authorization:`Bearer ${H}`}:{}},body:JSON.stringify({inventory_ids:K,category_ids:Oe})}),Ee=await we.json();if(we.ok)e(`Categories assigned to ${Ee.items_updated} items`,"success"),te([]),Me([]),be(!1),St();else throw new Error(Ee.error?.message||Ee.message||"Failed to assign categories")}catch(H){console.error("Error bulk assigning categories:",H);const we=H instanceof Error?H.message:"Failed to assign categories";e(we,"error")}},Rt=H=>{te(we=>we.includes(H)?we.filter(Ee=>Ee!==H):[...we,H])},$r=()=>{K.length===gn.length?te([]):te(gn.map(H=>H.id))},zr=async()=>{if(K.length===0){e("Please select inventory items to delete","error");return}if(confirm(`Are you sure you want to delete ${K.length} inventory item(s)?`))try{const H=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!H){e("Please login to delete inventory","error");return}const we=await fetch(`${qr}/api/admin/inventory/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",...H?{Authorization:`Bearer ${H}`}:{}},body:JSON.stringify({inventory_ids:K})}),Ee=await we.json();if(we.ok)e(`Successfully deleted ${Ee.deleted_count} inventory item(s)`,"success"),te([]),St();else throw new Error(Ee.error?.message||Ee.message||"Failed to delete inventory items")}catch(H){console.error("Error bulk deleting inventory:",H);const we=H instanceof Error?H.message:"Failed to delete inventory items";e(we,"error")}},Or=()=>{Re(null),kt("all"),_e("all"),st(!1)},nn=Ae!==null||tt!=="all"||$!=="all"||Ie,la=()=>{D("add"),oe(null),q(!0)},Wn=H=>{D("edit"),oe(H),q(!0)},hd=H=>{D("delete"),oe(H),q(!0)},mi=async H=>{W(!0);try{const we=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!we){e("Please login to save category","error"),W(!1);return}const Ee=Xe=>{if(!Xe)return"Request failed";if(typeof Xe=="string")return Xe;if(Xe.message&&typeof Xe.message=="string")return Xe.message;if(Xe.error&&typeof Xe.error=="string")return Xe.error;if(Xe.errors&&typeof Xe.errors=="object"){const at=Object.keys(Xe.errors)[0],mt=Array.isArray(Xe.errors[at])?Xe.errors[at][0]:Xe.errors[at];return typeof mt=="string"?mt:"Validation failed"}try{return JSON.stringify(Xe)}catch{return"Unknown error"}};if(L==="add"){let Xe;if(H.image instanceof File){const ir=new FormData;ir.append("name",H.name),ir.append("image",H.image),ir.append("show_on_homepage",H.show_on_homepage?"1":"0"),Xe=await fetch(`${qr}/api/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${we}`},body:ir})}else{const ir={name:H.name};typeof H.image=="string"&&H.image.trim()!==""&&(ir.image=H.image),ir.show_on_homepage=H.show_on_homepage?1:0,Xe=await fetch(`${qr}/api/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${we}`,"Content-Type":"application/json"},body:JSON.stringify(ir)})}const at=await Xe.text(),mt=(()=>{try{return at?JSON.parse(at):{}}catch{return{raw:at}}})();if(Xe.ok&&mt.category)await xe(),e("Category created successfully","success"),q(!1);else throw new Error(Ee(mt)||"Failed to create category")}else if(L==="edit"&&ee){let Xe;if(H.image instanceof File){const ir=new FormData;ir.append("name",H.name),ir.append("image",H.image),ir.append("show_on_homepage",H.show_on_homepage?"1":"0"),Xe=await fetch(`${qr}/api/admin/categories/${ee.id}`,{method:"PUT",headers:{Authorization:`Bearer ${we}`},body:ir})}else{const ir={name:H.name};typeof H.image=="string"&&H.image.trim()!==""&&(ir.image=H.image),ir.show_on_homepage=H.show_on_homepage?1:0,Xe=await fetch(`${qr}/api/admin/categories/${ee.id}`,{method:"PUT",headers:{Authorization:`Bearer ${we}`,"Content-Type":"application/json"},body:JSON.stringify(ir)})}const at=await Xe.text(),mt=(()=>{try{return at?JSON.parse(at):{}}catch{return{raw:at}}})();if(Xe.ok&&mt.category)await xe(),e("Category updated successfully","success"),q(!1);else throw new Error(Ee(mt)||"Failed to update category")}}catch(we){console.error("Error saving category:",we);const Ee=we instanceof Error?we.message:typeof we=="string"?we:"Failed to save category";e(Ee,"error")}finally{W(!1)}},Nl=async()=>{if(ee){W(!0);try{const H=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!H){e("Please login to delete category","error"),W(!1);return}const we=await fetch(`${qr}/api/admin/categories/${ee.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"}}),Ee=await we.json();if(we.ok)v(Xe=>Xe.filter(at=>at.id!==ee.id)),e("Category deleted successfully","success"),q(!1),xe();else throw new Error(Ee.message||Ee.error||"Failed to delete category")}catch(H){console.error("Error deleting category:",H);const we=H instanceof Error?H.message:"Failed to delete category";e(we,"error")}finally{W(!1)}}},Ma=h.filter(H=>H.name.toLowerCase().includes(C.toLowerCase())),gd=Math.ceil(Ma.length/R),Da=(T-1)*R,ro=Ma.slice(Da,Da+R),no=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),gn=y.filter(H=>!(!(H.medicine_name.toLowerCase().includes(P.toLowerCase())||H.manufacturer_name?.toLowerCase().includes(P.toLowerCase()))||Ae!==null&&!H.category_ids.includes(Ae)||tt==="yes"&&!H.is_discontinued||tt==="no"&&H.is_discontinued||$==="required"&&!H.prescription_required||$==="not_required"&&H.prescription_required||Ie&&H.stock_quantity>(H.low_stock_threshold||0))),_l=Math.ceil(gn.length/R),ao=(M-1)*R,op=gn.slice(ao,ao+R);return n.jsxs(hr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Categories & Inventory"}),n.jsx("p",{className:"text-gray-600",children:"Manage categories and platform inventory with category assignment."})]}),n.jsxs(ub,{value:a,onValueChange:H=>s(H),children:[n.jsxs(mb,{className:"mb-6",children:[n.jsx(Js,{value:"categories",children:"Categories"}),n.jsx(Js,{value:"inventory",children:"Inventory"}),n.jsx(Js,{value:"generic",children:"Generic"}),n.jsx(Js,{value:"branded",children:"Branded"})]}),a==="categories"&&n.jsxs(n.Fragment,{children:[j?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading categories..."})]}):n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(dt,{children:"All Categories"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(sJ,{searchTerm:C,onSearchChange:E}),n.jsxs(he,{onClick:la,className:"flex items-center space-x-2",children:[n.jsx(Sn,{size:16}),n.jsx("span",{children:"Add Category"})]})]})]}),n.jsxs(Ve,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Image"}),n.jsx("th",{className:"text-left pb-4",children:"Name"}),n.jsx("th",{className:"text-left pb-4",children:"Published"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:ro.map(H=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:H.image_url?n.jsx("img",{src:dJ(H.image_url),alt:H.name,className:"h-10 w-10 rounded object-cover border",onError:we=>{const Ee=we.currentTarget;Ee.src!==H.image_url&&(Ee.src=H.image_url)}}):n.jsx("div",{className:"h-10 w-10 rounded bg-gray-100 border"})}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:H.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",H.id]})]}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:no(H.created_at)})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:()=>Wn(H),children:"Edit"}),n.jsx(he,{onClick:()=>hd(H),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})})]},H.id))})]})}),gd>1&&n.jsx(iJ,{currentPage:T,totalPages:gd,startIndex:Da,itemsPerPage:R,totalItems:Ma.length,onPageChange:U})]})]}),(L==="add"||L==="edit")&&n.jsx(oJ,{isOpen:I,onClose:()=>q(!1),onSave:mi,category:ee?{id:ee.id,name:ee.name,description:"",icon:"",status:"active",total_services:0,created_at:ee.created_at,updated_at:ee.updated_at,show_on_homepage:ee.show_on_homepage||!1}:void 0,initialImageUrl:ee?.image_url,isSubmitting:ie}),L==="delete"&&n.jsx(lJ,{isOpen:I,onClose:()=>q(!1),onConfirm:Nl,category:ee,isSubmitting:ie})]}),a==="inventory"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"relative flex-1 max-w-md",children:n.jsx("input",{type:"text",placeholder:"Search inventory by name or manufacturer...",value:P,onChange:H=>O(H.target.value),className:"w-full px-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),K.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs(he,{onClick:()=>be(!0),className:"flex items-center gap-2",children:[n.jsx(tI,{size:16}),"Assign Categories (",K.length,")"]}),n.jsxs(he,{onClick:zr,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(ds,{size:16}),"Delete (",K.length,")"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(he,{onClick:()=>Te(!Pe),className:`flex items-center gap-2 ${nn?"bg-primary text-white":""}`,children:[n.jsx(o0,{size:16}),"Filters",nn&&n.jsx("span",{className:"ml-1 bg-white text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs",children:[Ae!==null,tt!=="all",$!=="all",Ie].filter(Boolean).length})]}),n.jsxs(he,{onClick:()=>F(!0),className:"flex items-center gap-2",children:[n.jsx(Sn,{size:16}),"Add Inventory"]}),n.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors cursor-pointer flex items-center gap-2",children:[n.jsx(kc,{size:16}),J?"Uploading...":"Upload Excel",n.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:sr,className:"hidden",disabled:J})]})]})]}),Pe&&n.jsxs(He,{className:"mb-6",children:[n.jsxs(ct,{className:"flex items-center justify-between pb-3",children:[n.jsx(dt,{className:"text-lg",children:"Filters"}),n.jsxs("div",{className:"flex items-center gap-2",children:[nn&&n.jsxs(he,{onClick:Or,className:"text-xs flex items-center gap-1",size:"sm",children:[n.jsx(Qs,{size:14}),"Clear All"]}),n.jsx("button",{onClick:()=>Te(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]})]}),n.jsx(Ve,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),n.jsxs("select",{value:Ae||"",onChange:H=>Re(H.target.value?parseInt(H.target.value):null),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"All Categories"}),h.map(H=>n.jsx("option",{value:H.id,children:H.name},H.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discontinued"}),n.jsxs("select",{value:tt,onChange:H=>kt(H.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Discontinued"}),n.jsx("option",{value:"no",children:"Active"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prescription"}),n.jsxs("select",{value:$,onChange:H=>_e(H.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"required",children:"Required"}),n.jsx("option",{value:"not_required",children:"Not Required"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stock Status"}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:Ie,onChange:H=>st(H.target.checked),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Low Stock Only"})]})]})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]}):n.jsxs(He,{children:[n.jsx(ct,{children:n.jsx(dt,{children:"Platform Inventory"})}),n.jsxs(Ve,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"text-left pb-4 px-2",children:n.jsx("input",{type:"checkbox",checked:K.length===gn.length&&gn.length>0,onChange:$r,className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Name"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Discontinued"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Prescription"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Manufacturer"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Type"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Pack Size"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Composition"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Stock"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Low Stock"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Justification"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Description"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Images"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Categories"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Actions"})]})}),n.jsx("tbody",{children:op.map(H=>n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-2",children:n.jsx("input",{type:"checkbox",checked:K.includes(H.id),onChange:()=>Rt(H.id),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"font-medium max-w-[150px]",children:H.medicine_name})}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"flex flex-col",children:H.discounted_price&&H.discounted_price>0?n.jsxs(n.Fragment,{children:[n.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["",Number(H.price||0).toFixed(2)]}),n.jsxs("span",{className:"font-medium text-green-600",children:["",Number(H.discounted_price).toFixed(2)]})]}):n.jsxs("span",{className:"font-medium",children:["",Number(H.price||0).toFixed(2)]})})}),n.jsx("td",{className:"py-3 px-2",children:H.is_discontinued?n.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-700 rounded",children:"Yes"}):n.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded",children:"No"})}),n.jsx("td",{className:"py-3 px-2",children:H.prescription_required?n.jsx("span",{className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded",children:"Required"}):n.jsx("span",{className:"text-xs text-gray-400",children:"Not Required"})}),n.jsx("td",{className:"py-3 px-2 text-sm text-gray-600 max-w-[120px]",children:H.manufacturer_name||"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:H.medicine_type||"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:H.pack_size_label||"-"}),n.jsxs("td",{className:"py-3 px-2 text-xs max-w-[150px]",children:[H.short_composition1&&n.jsx("div",{children:H.short_composition1}),H.short_composition2&&n.jsx("div",{className:"text-gray-500",children:H.short_composition2}),!H.short_composition1&&!H.short_composition2&&"-"]}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("span",{className:H.stock_quantity<=(H.low_stock_threshold||0)?"text-red-600 font-medium":"",children:H.stock_quantity})}),n.jsx("td",{className:"py-3 px-2 text-sm",children:H.low_stock_threshold||0}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:H.justification?n.jsx("div",{className:"truncate",title:H.justification,children:H.justification}):"-"}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:H.description?n.jsx("div",{className:"truncate",title:H.description,children:H.description}):"-"}),n.jsx("td",{className:"py-3 px-2",children:H.images?n.jsxs("div",{className:"flex gap-1",children:[(Array.isArray(H.images)?H.images:H.images.split(",")).slice(0,2).map((we,Ee)=>n.jsx("img",{src:we.trim(),alt:`${H.medicine_name} ${Ee+1}`,className:"w-10 h-10 object-cover rounded border",onError:Xe=>{Xe.target.style.display="none"}},Ee)),(Array.isArray(H.images)?H.images:H.images.split(",")).length>2&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",(Array.isArray(H.images)?H.images:H.images.split(",")).length-2]})]}):"-"}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:H.category_names.length>0?H.category_names.map((we,Ee)=>n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary rounded-full",children:we},Ee)):n.jsx("span",{className:"text-xs text-gray-400",children:"No categories"})})}),n.jsx("td",{className:"py-3 px-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(he,{onClick:()=>{Je(H),ce(H.category_ids),fe(!0)},className:"px-2 py-1 text-xs flex items-center gap-1 bg-primary hover:bg-primary-dark text-white",size:"sm",title:"Assign Categories",children:[n.jsx(Ya,{size:14}),"Categories"]}),n.jsxs(he,{onClick:()=>X(H),className:"px-2 py-1 text-xs flex items-center gap-1",size:"sm",children:[n.jsx($S,{size:14}),"Edit"]}),n.jsxs(he,{onClick:()=>Se(H),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white flex items-center gap-1",size:"sm",children:[n.jsx(ds,{size:14}),"Delete"]})]})})]},H.id))})]})}),_l>1&&n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",ao+1," to ",Math.min(ao+R,gn.length)," of ",gn.length," items"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(he,{onClick:()=>z(H=>Math.max(1,H-1)),disabled:M===1,children:"Previous"}),n.jsx(he,{onClick:()=>z(H=>Math.min(_l,H+1)),disabled:M===_l,children:"Next"})]})]}),gn.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ya,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No inventory items found"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload an Excel file to get started"})]})]})]}),ve&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(He,{className:"w-full max-w-md mx-4",children:[n.jsxs(ct,{className:"flex items-center justify-between",children:[n.jsx(dt,{children:"Bulk Assign Categories"}),n.jsx("button",{onClick:()=>{be(!1),Me([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Categories (",K.length," items selected)"]}),n.jsx("select",{multiple:!0,value:Oe.map(String),onChange:H=>{const we=Array.from(H.target.selectedOptions,Ee=>Number(Ee.value));Me(we)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(h.length,8),children:h.map(H=>n.jsx("option",{value:H.id,children:H.name},H.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(he,{onClick:()=>{be(!1),Me([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(he,{onClick:pt,className:"flex-1",disabled:Oe.length===0,children:"Assign"})]})]})]})}),rt&&de&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(He,{className:"w-full max-w-md mx-4",children:[n.jsxs(ct,{className:"flex items-center justify-between",children:[n.jsxs(dt,{children:["Assign Categories to ",de.medicine_name]}),n.jsx("button",{onClick:()=>{fe(!1),Je(null),ce([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Categories"}),n.jsx("select",{multiple:!0,value:ze.map(String),onChange:H=>{const we=Array.from(H.target.selectedOptions,Ee=>Number(Ee.value));ce(we)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(h.length,8),children:h.map(H=>n.jsx("option",{value:H.id,children:H.name},H.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(he,{onClick:()=>{fe(!1),Je(null),ce([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(he,{onClick:async()=>{de&&(await zt(de.id,ze),fe(!1),Je(null),ce([]))},className:"flex-1",disabled:ze.length===0,children:"Assign"})]})]})]})}),Ne&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(He,{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto",children:[n.jsx(ct,{children:n.jsx(dt,{children:De==="edit"?"Edit Inventory Item":"Add New Inventory Item"})}),n.jsx(Ve,{children:n.jsx(mJ,{categories:h,onSubmit:Ze,onCancel:()=>{F(!1),Q(null),Ce("add")},isSubmitting:Y,initialData:re,mode:De})})]})})]}),a==="generic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search generic medicines...",value:P,onChange:H=>O(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),r&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Generic Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:o,onChange:H=>{const we=parseFloat(H.target.value)||0;c(we)},onBlur:()=>ot("generic",o),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:p}),n.jsx(he,{onClick:()=>ot("generic",o),size:"sm",disabled:p,children:n.jsx(im,{size:16})})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading generic medicines..."})]}):n.jsx(He,{children:n.jsx(Ve,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:y.filter(H=>H.medicine_type==="Generic").filter(H=>P===""||H.medicine_name.toLowerCase().includes(P.toLowerCase())).map(H=>{const we=H.price*o/100,Ee=H.price-we;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:H.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(H.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[o.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",Ee.toFixed(2)]})})]},H.id)})})]}),y.filter(H=>H.medicine_type==="Generic").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No generic medicines found"})]})})})]}),a==="branded"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search branded medicines...",value:P,onChange:H=>O(H.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),r&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Branded Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:d,onChange:H=>{const we=parseFloat(H.target.value)||0;u(we)},onBlur:()=>ot("branded",d),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:p}),n.jsx(he,{onClick:()=>ot("branded",d),size:"sm",disabled:p,children:n.jsx(im,{size:16})})]})})]}),_?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading branded medicines..."})]}):n.jsx(He,{children:n.jsx(Ve,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:y.filter(H=>H.medicine_type==="Branded").filter(H=>P===""||H.medicine_name.toLowerCase().includes(P.toLowerCase())).map(H=>{const we=H.price*d/100,Ee=H.price-we;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:H.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(H.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[d.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",Ee.toFixed(2)]})})]},H.id)})})]}),y.filter(H=>H.medicine_type==="Branded").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No branded medicines found"})]})})})]})]})]})},mJ=({categories:e,onSubmit:t,onCancel:r,isSubmitting:a,initialData:s,mode:o="add"})=>{const[c,d]=g.useState({medicine_name:s?.medicine_name||"",price:s?.price?.toString()||"",discounted_price:s?.discounted_price?s.discounted_price.toString():"",is_discontinued:s?.is_discontinued||!1,prescription_required:s?.prescription_required||!1,manufacturer_name:s?.manufacturer_name||"",medicine_type:s?.medicine_type||"",pack_size_label:s?.pack_size_label||"",short_composition1:s?.short_composition1||"",short_composition2:s?.short_composition2||"",stock_quantity:s?.stock_quantity?.toString()||"",low_stock_threshold:s?.low_stock_threshold?.toString()||"",justification:s?.justification||"",description:s?.description||"",category_ids:s?.category_ids||[]}),[u,p]=g.useState([]),[f,h]=g.useState(s?.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(b=>b.trim()):[]);g.useEffect(()=>{s&&o==="edit"?(d({medicine_name:s.medicine_name||"",price:s.price?.toString()||"",discounted_price:s.discounted_price?s.discounted_price.toString():"",is_discontinued:s.is_discontinued||!1,prescription_required:s.prescription_required||!1,manufacturer_name:s.manufacturer_name||"",medicine_type:s.medicine_type||"",pack_size_label:s.pack_size_label||"",short_composition1:s.short_composition1||"",short_composition2:s.short_composition2||"",stock_quantity:s.stock_quantity?.toString()||"",low_stock_threshold:s.low_stock_threshold?.toString()||"",justification:s.justification||"",description:s.description||"",category_ids:s.category_ids||[]}),h(s.images?(Array.isArray(s.images)?s.images:s.images.split(",")).filter(b=>b.trim()):[])):o==="add"&&(d({medicine_name:"",price:"",discounted_price:"",is_discontinued:!1,prescription_required:!1,manufacturer_name:"",medicine_type:"",pack_size_label:"",short_composition1:"",short_composition2:"",stock_quantity:"",low_stock_threshold:"",justification:"",description:"",category_ids:[]}),h([]),p([]))},[s,o]);const v=b=>{b.preventDefault();const _=new FormData;Object.entries(c).forEach(([S,C])=>{S==="category_ids"?c.category_ids.forEach(E=>{_.append("category_ids",E.toString())}):S==="is_discontinued"||S==="prescription_required"?_.append(S,C?"true":"false"):S==="discounted_price"?C!==""&&C!==null&&C!==void 0&&_.append(S,C.toString()):C!==""&&_.append(S,C.toString())}),u.forEach(S=>{_.append("images",S)}),o==="edit"&&f.length>0&&f.forEach(S=>{_.append("existing_images",S)}),t(_)},y=b=>{h(_=>_.filter((S,C)=>C!==b))},N=b=>{if(b.target.files){const _=Array.from(b.target.files);p(S=>[...S,..._])}},j=b=>{p(_=>_.filter((S,C)=>C!==b))};return n.jsxs("form",{onSubmit:v,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Name *"}),n.jsx("input",{type:"text",required:!0,value:c.medicine_name,onChange:b=>d({...c,medicine_name:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),n.jsx("input",{type:"number",step:"0.01",required:!0,value:c.price,onChange:b=>d({...c,price:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discounted Price (Optional)"}),n.jsx("input",{type:"number",step:"0.01",value:c.discounted_price,onChange:b=>d({...c,discounted_price:b.target.value}),placeholder:"Leave empty if no discount",className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If set, this will be the price shown to users. Original price will be shown with strikethrough."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Manufacturer"}),n.jsx("input",{type:"text",value:c.manufacturer_name,onChange:b=>d({...c,manufacturer_name:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Type *"}),n.jsxs("select",{value:c.medicine_type,onChange:b=>d({...c,medicine_type:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[n.jsx("option",{value:"",children:"Select Type"}),n.jsx("option",{value:"Generic",children:"Generic"}),n.jsx("option",{value:"Branded",children:"Branded"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select whether this is a Generic or Branded medicine"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pack Size"}),n.jsx("input",{type:"text",value:c.pack_size_label,onChange:b=>d({...c,pack_size_label:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock Quantity"}),n.jsx("input",{type:"number",value:c.stock_quantity,onChange:b=>d({...c,stock_quantity:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Low Stock Threshold"}),n.jsx("input",{type:"number",value:c.low_stock_threshold,onChange:b=>d({...c,low_stock_threshold:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Composition 1"}),n.jsx("input",{type:"text",value:c.short_composition1,onChange:b=>d({...c,short_composition1:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Composition 2"}),n.jsx("input",{type:"text",value:c.short_composition2,onChange:b=>d({...c,short_composition2:b.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Justification (Active Ingredient & Class)"}),n.jsx("textarea",{value:c.justification,onChange:b=>d({...c,justification:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),n.jsx("textarea",{value:c.description,onChange:b=>d({...c,description:b.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Images"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),f.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Existing Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((b,_)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:b.trim(),alt:`Existing ${_+1}`,className:"w-20 h-20 object-cover rounded border",onError:S=>{S.target.style.display="none"}}),n.jsx("button",{type:"button",onClick:()=>y(_),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`existing-${_}`))})]}),u.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"New Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((b,_)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(b),alt:`Preview ${_+1}`,className:"w-20 h-20 object-cover rounded border"}),n.jsx("button",{type:"button",onClick:()=>j(_),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`new-${_}`))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categories"}),n.jsx("select",{multiple:!0,value:c.category_ids.map(String),onChange:b=>{const _=Array.from(b.target.selectedOptions,S=>Number(S.value));d({...c,category_ids:_})},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(e.length,5),children:e.map(b=>n.jsx("option",{value:b.id,children:b.name},b.id))})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:c.is_discontinued,onChange:b=>d({...c,is_discontinued:b.target.checked}),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Discontinued"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:c.prescription_required,onChange:b=>d({...c,prescription_required:b.target.checked}),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Prescription Required"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(he,{type:"button",onClick:r,className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",disabled:a,children:"Cancel"}),n.jsx(he,{type:"submit",className:"flex-1",disabled:a,children:a?o==="edit"?"Updating...":"Adding...":o==="edit"?"Update Inventory":"Add Inventory"})]})]})},fJ=({showColumnSettings:e,onToggleSettings:t,columnVisibility:r,onToggleColumn:a,onResetColumns:s})=>n.jsxs("div",{className:"relative",children:[n.jsxs(he,{variant:"outline",size:"sm",onClick:t,className:"hover:bg-gray-100",children:[n.jsx(im,{size:16,className:"mr-2"}),"Columns"]}),e&&n.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-10",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Column Visibility"}),n.jsx(he,{variant:"ghost",size:"sm",onClick:t,className:"h-6 w-6 p-0",children:n.jsx(yt,{size:14})})]}),n.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([o,c])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c,onChange:()=>a(o),disabled:["id","subject","status","actions"].includes(o),className:`rounded border-gray-300 text-primary focus:ring-primary ${["id","subject","status","actions"].includes(o)?"opacity-50":""}`}),n.jsxs("span",{className:`text-sm capitalize ${["id","subject","status","actions"].includes(o)?"font-medium":""}`,children:[o,["id","subject","status","actions"].includes(o)&&" (Required)"]})]},o))}),n.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:n.jsx(he,{variant:"outline",size:"sm",onClick:s,className:"w-full",children:"Reset to Default"})})]})})]}),pJ=({dispute:e,formatDate:t,getStatusColor:r,getPriorityColor:a})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-blue-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(aa,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Dispute Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:"#"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Dispute ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Vr,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Created Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.created_at)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-blue-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Lr,{size:16,className:"text-orange-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Updated"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:t(e.updated_at)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ya,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Subject & Description"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center mr-2",children:n.jsx(xa,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Subject"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.subject})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Ga,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap",children:e.description})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Lt,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Parties Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Lt,{size:16,className:"text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.user_name})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(IS,{size:16,className:"text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.provider_name})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(xa,{size:16,className:"text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Booking ID"})]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["#",e.booking_id]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(ja,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Status & Priority"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(ja,{size:16,className:"text-emerald-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r(e.status)}`,children:e.status.split("_").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(aa,{size:16,className:"text-emerald-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Priority"})]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a(e.priority)}`,children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(xa,{size:16,className:"text-emerald-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Type"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.dispute_type})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-emerald-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Lt,{size:16,className:"text-emerald-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Assigned To"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.assigned_admin||"Unassigned"})]})]})]}),e.resolution_type&&n.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-4 border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(cs,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Resolution Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(xa,{size:16,className:"text-amber-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Type"})]}),n.jsx("p",{className:"text-sm text-gray-800 capitalize",children:e.resolution_type.replace("_"," ")})]}),e.resolution_amount&&n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(cs,{size:16,className:"text-amber-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Amount"})]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["$",e.resolution_amount.toFixed(2)]})]}),e.resolution_notes&&n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100 md:col-span-2",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Ga,{size:16,className:"text-amber-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Resolution Notes"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.resolution_notes})]})]})]})]}),hJ={},Ci=hJ?.VITE_API_BASE_URL||"/api",gJ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(""),[d,u]=g.useState(1),[p,f]=g.useState(null),[h,v]=g.useState(!1),[y,N]=g.useState(null),[j,b]=g.useState({status:"",notes:"",resolution_type:"",resolution_amount:0,resolution_notes:""}),[_,S]=g.useState(!1),[C,E]=g.useState(1),[P,O]=g.useState(!1),[T,U]=g.useState({id:!0,subject:!0,parties:!0,type:!0,priority:!0,status:!0,assigned:!0,created:!0,actions:!0}),[M,z]=g.useState([]),[I,q]=g.useState(""),[L,D]=g.useState(!1),[ee,oe]=g.useState(""),[ie,W]=g.useState(!1),[J,ue]=g.useState(!1),K=g.useRef(null),[te,ve]=g.useState({status:"",priority:"",dispute_type:"",assigned_admin:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),be=10,Oe=g.useCallback((ce=!1)=>{const Pe=localStorage.getItem("KwikMedi_token"),Te={};return Pe&&(Te.Authorization=`Bearer ${Pe}`),ce&&(Te["Content-Type"]="application/json"),Te},[]),Me=g.useCallback(async(ce,Pe=!1)=>{if(ce){Pe||D(!0),oe("");try{const Te=await fetch(`${Ci}/api/api/admin/disputes/${ce}/messages`,{headers:Oe()}),Ae=await Te.json();if(!Te.ok||!Ae.success){oe(Ae.message||"Unable to load this conversation.");return}z(Ae.messages||[]),W(!!Ae.ticket?.is_blocked),Ae.ticket&&N(Re=>Re&&Re.id===ce?{...Re,...Ae.ticket}:Re)}catch{oe("Unable to load this conversation. Please retry.")}finally{Pe||D(!1)}}},[Oe]),Ne=()=>[{id:1,subject:"Service quality not as described",description:"The pet trainer arrived late and did not provide the full service as promised. The training session was cut short and the dog did not learn the basic commands as expected.",status:"open",priority:"high",dispute_type:"service_quality",created_at:"2024-01-15T10:30:00Z",updated_at:"2024-01-15T10:30:00Z",assigned_admin:null,user_name:"Sarah Johnson",provider_name:"John Smith",booking_id:"101",is_overdue:!1,amount_disputed:2e3,booking:{total_amount:2e3}},{id:2,subject:"Provider did not show up",description:"The service provider did not arrive at the scheduled time. Multiple attempts to contact them were unsuccessful. The booking was for puppy training session.",status:"in_progress",priority:"urgent",dispute_type:"no_show",created_at:"2024-01-16T14:20:00Z",updated_at:"2024-01-16T15:00:00Z",assigned_admin:"Admin User",user_name:"Emily Rodriguez",provider_name:"Sarah Johnson",booking_id:"102",is_overdue:!0,amount_disputed:2500,booking:{total_amount:2500}},{id:3,subject:"Incorrect service provided",description:"Booked for agility training but received basic obedience training instead. The provider did not inform about the change and charged the full amount.",status:"open",priority:"medium",dispute_type:"service_mismatch",created_at:"2024-01-17T09:15:00Z",updated_at:"2024-01-17T09:15:00Z",assigned_admin:null,user_name:"Michael Chen",provider_name:"Mike Williams",booking_id:"103",is_overdue:!1,amount_disputed:3500,booking:{total_amount:3500}},{id:4,subject:"Payment charged twice",description:"The payment for the booking was charged twice. I have receipts for both transactions. Need refund for the duplicate charge.",status:"resolved",priority:"high",dispute_type:"payment_issue",created_at:"2024-01-10T11:00:00Z",updated_at:"2024-01-18T12:00:00Z",assigned_admin:"Admin User",user_name:"David Wilson",provider_name:"Lisa Anderson",booking_id:"104",is_overdue:!1,amount_disputed:1800,resolution_type:"refund",resolution_amount:1800,resolution_notes:"Duplicate payment confirmed. Full refund processed.",booking:{total_amount:1800}},{id:5,subject:"Provider behavior concerns",description:"The provider was unprofessional during the service. Used inappropriate language and was rough with my pet. I want to cancel future bookings and get a refund.",status:"escalated",priority:"urgent",dispute_type:"provider_conduct",created_at:"2024-01-12T16:00:00Z",updated_at:"2024-01-19T10:00:00Z",assigned_admin:"Senior Admin",user_name:"Jennifer Martinez",provider_name:"John Smith",booking_id:"105",is_overdue:!1,amount_disputed:3e3,booking:{total_amount:3e3}},{id:6,subject:"Service cancelled but no refund",description:"The provider cancelled the service at the last minute due to personal reasons. I was promised a refund but it has not been processed yet.",status:"in_progress",priority:"medium",dispute_type:"cancellation_refund",created_at:"2024-01-13T13:00:00Z",updated_at:"2024-01-20T13:30:00Z",assigned_admin:"Admin User",user_name:"Robert Taylor",provider_name:"Sarah Johnson",booking_id:"106",is_overdue:!1,amount_disputed:2200,booking:{total_amount:2200}},{id:7,subject:"Equipment damage claim",description:"The provider claims that my pet damaged their training equipment during the session. However, the equipment was already damaged when they arrived. I have photos as evidence.",status:"open",priority:"low",dispute_type:"damage_claim",created_at:"2024-01-14T10:00:00Z",updated_at:"2024-01-14T10:00:00Z",assigned_admin:null,user_name:"Amanda White",provider_name:"Mike Williams",booking_id:"107",is_overdue:!1,amount_disputed:4e3,booking:{total_amount:4e3}},{id:8,subject:"Incomplete service delivery",description:"The training session was supposed to be 2 hours but only lasted 1 hour. The provider left early without completing all the planned activities.",status:"resolved",priority:"medium",dispute_type:"incomplete_service",created_at:"2024-01-11T14:00:00Z",updated_at:"2024-01-19T15:00:00Z",assigned_admin:"Admin User",user_name:"Christopher Lee",provider_name:"Mike Williams",booking_id:"108",is_overdue:!1,amount_disputed:3200,resolution_type:"partial_refund",resolution_amount:1600,resolution_notes:"Service was incomplete. Partial refund of 50% processed as compensation.",booking:{total_amount:3200}},{id:9,subject:"Booking time mismatch",description:"I booked for morning 9 AM slot but the provider came at 11 AM. This caused inconvenience as I had to reschedule my other appointments.",status:"open",priority:"low",dispute_type:"scheduling_issue",created_at:"2024-01-15T15:30:00Z",updated_at:"2024-01-15T15:30:00Z",assigned_admin:null,user_name:"James Brown",provider_name:"Lisa Anderson",booking_id:"108",is_overdue:!1,amount_disputed:1500,booking:{total_amount:1500}},{id:10,subject:"Refund processing delay",description:"I cancelled my booking 5 days ago and was told I would receive a refund within 3 business days. The refund has not been processed yet.",status:"in_progress",priority:"high",dispute_type:"refund_delay",created_at:"2024-01-16T09:00:00Z",updated_at:"2024-01-20T09:15:00Z",assigned_admin:"Admin User",user_name:"Patricia Davis",provider_name:"John Smith",booking_id:"109",is_overdue:!0,amount_disputed:2800,booking:{total_amount:2800}}];g.useEffect(()=>{F()},[d,te,o]),g.useEffect(()=>{console.log("Selected dispute changed:",y)},[y]),g.useEffect(()=>{if(!h||j.status!=="view"||!y)return;Me(y.id,!1);const ce=setInterval(()=>{Me(y.id,!0)},8e3);return()=>clearInterval(ce)},[h,j.status,y?.id,Me]),g.useEffect(()=>{K.current&&K.current.scrollIntoView({behavior:"smooth"})},[M.length,h]),g.useEffect(()=>{h||(z([]),q(""),oe(""),W(!1),D(!1))},[h]);const F=async()=>{const ce=localStorage.getItem("KwikMedi_token"),Pe=ce&&ce.startsWith("mock_token_");if(!ce||Pe){s(!0),setTimeout(()=>{const Te=Ne();let Ae=Te;o&&(Ae=Te.filter($=>$.id.toString().includes(o)||$.subject.toLowerCase().includes(o.toLowerCase())||$.user_name.toLowerCase().includes(o.toLowerCase())||$.provider_name.toLowerCase().includes(o.toLowerCase())||$.booking_id.includes(o)||$.dispute_type.toLowerCase().includes(o.toLowerCase()))),te.status&&(Ae=Ae.filter($=>$.status===te.status)),te.priority&&(Ae=Ae.filter($=>$.priority===te.priority)),te.dispute_type&&(Ae=Ae.filter($=>$.dispute_type===te.dispute_type)),te.assigned_admin&&(Ae=Ae.filter($=>$.assigned_admin?.toLowerCase().includes(te.assigned_admin.toLowerCase()))),te.overdue&&(Ae=Ae.filter($=>$.is_overdue===!0));const Re=(d-1)*be,tt=Ae.slice(Re,Re+be),kt=Math.ceil(Ae.length/be);r(tt),E(kt),s(!1)},500);return}try{s(!0);const Te=new URLSearchParams;Te.append("page",d.toString()),Te.append("limit",be.toString()),Te.append("search",o),Object.entries(te).forEach(([tt,kt])=>{kt&&Te.append(tt,kt.toString())});const Re=await(await fetch(`${Ci}/api/admin/disputes?${Te.toString()}`,{headers:Oe()})).json();Re.success&&Array.isArray(Re.disputes)?(r(Re.disputes),E(Re.pagination?.total_pages||1)):(console.error("Failed to fetch tickets:",Re.message||"Unknown error"),e(Re.message||"Failed to load support tickets","error"),r([]),E(1))}catch(Te){console.error("Error fetching tickets:",Te),e("Unable to connect to server. Please check your connection.","error"),r([]),E(1)}finally{s(!1)}},Y=async()=>{if(!y||!I.trim()||J)return;ue(!0),oe("");const ce=localStorage.getItem("KwikMedi_user");let Pe;if(ce)try{Pe=JSON.parse(ce)?.id}catch{Pe=void 0}try{const Te=await fetch(`${Ci}/api/api/admin/disputes/${y.id}/messages`,{method:"POST",headers:Oe(!0),body:JSON.stringify({message:I.trim(),admin_id:Pe})}),Ae=await Te.json();if(!Te.ok||!Ae.success){oe(Ae.message||"Unable to send message.");return}q(""),Ae.message?z(Re=>[...Re,Ae.message]):Me(y.id,!0),Ae.ticket&&(N(Re=>Re&&Re.id===Ae.ticket.id?{...Re,...Ae.ticket}:Re),W(!!Ae.ticket.is_blocked))}catch{oe("Unable to send message. Please retry.")}finally{ue(!1)}},V=async()=>{if(!y)return;const ce=!ie;let Pe=y.blocked_reason||"Blocked by admin";if(ce){const Re=window.prompt("Why are you blocking this user?",Pe);Re!==null&&(Pe=Re||Pe)}else Pe=void 0;D(!0),oe("");const Te=localStorage.getItem("KwikMedi_user");let Ae;if(Te)try{Ae=JSON.parse(Te)?.id}catch{Ae=void 0}try{const Re=await fetch(`${Ci}/api/api/admin/disputes/${y.id}/block`,{method:"POST",headers:Oe(!0),body:JSON.stringify({is_blocked:ce,reason:Pe,admin_id:Ae})}),tt=await Re.json();if(!Re.ok||!tt.success){oe(tt.message||"Unable to update block status.");return}W(ce),tt.ticket&&N(kt=>kt&&kt.id===tt.ticket.id?{...kt,...tt.ticket}:kt)}catch{oe("Unable to update block status. Please retry.")}finally{D(!1)}},re=(ce,Pe)=>{console.log("Opening modal for dispute:",ce),N(ce),b({status:Pe,notes:"",resolution_type:"",resolution_amount:0,resolution_notes:""}),z([]),q(""),oe(""),W(!!ce.is_blocked),v(!0),Me(ce.id)},Q=async ce=>{if(ce.preventDefault(),!!y){S(!0);try{let Pe;j.status==="resolve"?Pe=`${Ci}/api/admin/disputes/${y.id}/resolve`:j.status==="escalate"?Pe=`${Ci}/api/admin/disputes/${y.id}/escalate`:Pe=`${Ci}/api/admin/disputes/${y.id}/status`;let Te;j.status==="escalate"?Te={reason:j.notes,escalate_to_admin:1}:Te=j;const Re=await(await fetch(Pe,{method:"POST",headers:Oe(!0),body:JSON.stringify(Te)})).json();Re.success?(e(`Dispute ${j.status}ed successfully`,"success"),v(!1),F()):e(Re.message||`Failed to ${j.status} dispute`,"error")}catch(Pe){console.error("Error processing dispute:",Pe),e("Error processing dispute","error")}finally{S(!1)}}},De=ce=>new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ce=ce=>{try{return new Date(ce).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch{return""}},rt=ce=>{switch(ce){case"resolved":return"bg-green-100 text-green-700";case"closed":return"bg-gray-100 text-gray-700";case"pending":return"bg-yellow-100 text-yellow-700";case"in_progress":return"bg-primary/10 text-primary-dark";case"escalated":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},fe=ce=>{switch(ce){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"medium":return"bg-yellow-100 text-yellow-700";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},de=ce=>{["id","subject","status","actions"].includes(ce)||U(Pe=>({...Pe,[ce]:!Pe[ce]}))},Je=()=>{U({id:!0,subject:!0,parties:!0,type:!0,priority:!0,status:!0,assigned:!0,created:!0,actions:!0})},ze=ce=>{f(p===ce?null:ce)};return n.jsxs("div",{children:[a?n.jsx(rl,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-end space-x-3 mb-4",children:[n.jsx(fJ,{showColumnSettings:P,onToggleSettings:()=>O(!P),columnVisibility:T,onToggleColumn:de,onResetColumns:Je}),n.jsx(lO,{searchTerm:o,onSearchChange:c}),n.jsxs(he,{onClick:F,className:"flex items-center space-x-1",children:[n.jsx(mn,{size:14}),n.jsx("span",{children:"Refresh"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full table-auto",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"w-12 px-4 py-3"}),T.id&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-32",children:"ID"}),T.subject&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 min-w-[250px]",children:"Subject"}),T.parties&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 min-w-[180px]",children:"Parties"}),T.type&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-36",children:"Type"}),T.priority&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-28",children:"Priority"}),T.status&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-32",children:"Status"}),T.assigned&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-36",children:"Assigned To"}),T.created&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 w-44",children:"Created"}),T.actions&&n.jsx("th",{className:"text-left px-4 py-3 font-semibold text-gray-700 min-w-[280px]",children:"Actions"})]})}),n.jsx("tbody",{children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(T).filter(Boolean).length+1,className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(ra,{className:"w-8 h-8 animate-spin text-gray-400 mb-2"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Loading support tickets..."})]})})}):t.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(T).filter(Boolean).length+1,className:"py-12 text-center",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(Ga,{className:"w-12 h-12 text-gray-300 mb-3"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"No support tickets found"}),n.jsx("p",{className:"text-xs text-gray-500",children:"When users contact support, their tickets will appear here."})]})})}):t.map(ce=>n.jsxs(un.Fragment,{children:[n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>ze(ce.id),className:"p-1 hover:bg-gray-200",children:p===ce.id?n.jsx(ol,{size:16,className:"text-gray-600"}):n.jsx(oi,{size:16,className:"text-gray-600"})})}),T.id&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"font-semibold text-gray-900 text-sm",children:["Ticket #",ce.id]}),ce.is_overdue&&n.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1.5 font-medium",children:[n.jsx(Lr,{size:12,className:"mr-1"}),"Overdue"]}),ce.last_message_at&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Last: ",De(ce.last_message_at)]})]}),T.subject&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"font-medium text-gray-900 mb-1",children:ce.subject}),ce.last_message_preview&&n.jsx("div",{className:"text-xs text-gray-600 line-clamp-1 max-w-sm",children:ce.last_message_preview}),ce.is_blocked&&n.jsx("div",{className:"text-xs text-red-600 font-semibold mt-1.5 flex items-center",children:" User blocked"}),ce.booking_id&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Booking: #",ce.booking_id]})]}),T.parties&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-900 mb-1",children:[n.jsx("span",{className:"font-medium",children:"User:"})," ",ce.user_name]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-medium",children:"Provider:"})," ",ce.provider_name]})]}),T.type&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 whitespace-nowrap",children:ce.dispute_type})}),T.priority&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${fe(ce.priority)}`,children:ce.priority.charAt(0).toUpperCase()+ce.priority.slice(1)})}),T.status&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold whitespace-nowrap ${rt(ce.status)}`,children:ce.status.split("_").map(Pe=>Pe.charAt(0).toUpperCase()+Pe.slice(1)).join(" ")})}),T.assigned&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"text-sm text-gray-700",children:ce.assigned_admin||n.jsx("span",{className:"text-gray-400 italic",children:"Unassigned"})})}),T.created&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"text-sm text-gray-700 whitespace-nowrap",children:De(ce.created_at)})}),T.actions&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs(he,{onClick:()=>re(ce,"view"),size:"sm",className:"flex items-center gap-2 bg-cyan-500 hover:bg-cyan-600 text-white px-4 py-2 rounded-lg shadow-sm",children:[n.jsx(Ga,{size:16}),n.jsx("span",{children:"Chat"})]})})]}),p===ce.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(T).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:n.jsx("div",{className:"p-6",children:n.jsx(pJ,{dispute:ce,formatDate:De,getStatusColor:rt,getPriorityColor:fe})})})})]},ce.id))})]})}),C>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",d," of ",C]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:()=>u(ce=>Math.max(ce-1,1)),disabled:d===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ji,{size:16})}),n.jsx(he,{onClick:()=>u(ce=>Math.min(ce+1,C)),disabled:d===C,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ea,{size:16})})]})]})]}),h&&y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:[j.status==="resolve"?"Resolve":j.status==="escalate"?"Escalate":j.status==="in_progress"?"Start Processing":"View"," Dispute"]}),n.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),j.status==="view"&&y?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Ticket ID"}),n.jsxs("p",{className:"text-sm text-gray-900",children:["#",y.id]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Subject"}),n.jsx("p",{className:"text-sm text-gray-900",children:y.subject})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Booking / Order"}),n.jsxs("p",{className:"text-sm text-gray-900",children:["#",y.booking_id||y.order_id||""]})]}),y.last_message_preview&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Last Message Preview"}),n.jsx("p",{className:"text-sm text-gray-900",children:y.last_message_preview})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"User"}),n.jsx("p",{className:"text-sm text-gray-900",children:y.user_name})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Provider"}),n.jsx("p",{className:"text-sm text-gray-900",children:y.provider_name})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Type"}),n.jsx("p",{className:"text-sm text-gray-900",children:y.dispute_type})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Priority"}),n.jsx("p",{className:"text-sm text-gray-900 capitalize",children:y.priority})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Status"}),n.jsx("p",{className:"text-sm text-gray-900 capitalize",children:y.status?y.status.replace("_"," "):""})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Description"}),n.jsx("p",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:y.description})]})]}),n.jsxs("div",{className:"flex flex-col bg-gray-50 rounded-xl p-4 h-[600px]",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3 flex-shrink-0",children:[n.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[n.jsx(Ga,{size:18}),n.jsxs("div",{children:[n.jsxs("span",{className:"font-semibold text-sm",children:["Support Thread with ",y.user_name]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Ticket #",y.id]})]})]}),y.last_message_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Last: ",De(y.last_message_at)]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 mb-3 min-h-0",children:[L?n.jsxs("div",{className:"flex items-center justify-center h-full text-sm text-gray-500",children:[n.jsx(ra,{className:"w-4 h-4 animate-spin mr-2"}),"Loading conversation"]}):M.length?n.jsx("div",{className:"space-y-3",children:M.map(ce=>{const Pe=ce.sender_role==="admin";return n.jsx("div",{className:`flex ${Pe?"justify-start":"justify-end"}`,children:n.jsxs("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 text-sm shadow-sm ${Pe?"bg-white text-gray-800 border border-gray-200 rounded-tl-sm":"bg-orange-500 text-white rounded-tr-sm"}`,children:[n.jsx("p",{className:"whitespace-pre-wrap break-words",children:ce.message}),n.jsxs("span",{className:`text-[11px] block mt-1.5 ${Pe?"text-gray-500":"text-orange-100"}`,children:[Pe?"You":y.user_name,"  ",Ce(ce.created_at)]})]})},ce.id)})}):n.jsxs("div",{className:"text-sm text-gray-500 text-center py-10",children:[n.jsx(Ga,{size:24,className:"mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"No messages in this thread yet."}),n.jsx("p",{className:"text-xs mt-1",children:"Start the conversation below."})]}),n.jsx("div",{ref:K})]}),ee&&n.jsx("p",{className:"text-sm text-red-600 mb-2 flex-shrink-0",children:ee}),n.jsxs("div",{className:"flex-shrink-0 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:ie?"User is blocked from replying":"Type a reply",value:I,onChange:ce=>q(ce.target.value),onKeyDown:ce=>{ce.key==="Enter"&&!ce.shiftKey&&(ce.preventDefault(),Y())},disabled:J||ie}),n.jsxs(he,{type:"button",onClick:Y,disabled:!I.trim()||J||ie,className:"bg-cyan-500 hover:bg-cyan-600 text-white flex items-center space-x-1 px-4",children:[J?n.jsx(ra,{className:"w-4 h-4 animate-spin"}):n.jsx(xI,{size:14}),n.jsx("span",{children:"Send"})]})]}),n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs(he,{type:"button",onClick:V,className:`flex items-center space-x-2 ${ie?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white`,children:[n.jsx(Y5,{size:14}),n.jsx("span",{children:ie?"Unblock user":"Block user"})]}),ie&&y.blocked_reason&&n.jsx("p",{className:"text-xs text-gray-500 max-w-md truncate",children:y.blocked_reason})]})]})]})]}),n.jsx("div",{className:"flex justify-end pt-4 border-t mt-4",children:n.jsx(he,{type:"button",onClick:()=>v(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300 px-6",children:"Close"})})]}):n.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),n.jsx("div",{className:"text-sm text-gray-900",children:y?.subject})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking ID"}),n.jsxs("div",{className:"text-sm text-gray-900",children:["#",y?.booking_id]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),n.jsx("div",{className:"text-sm text-gray-900",children:y?.user_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider"}),n.jsx("div",{className:"text-sm text-gray-900",children:y?.provider_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),n.jsx("div",{className:"text-sm text-gray-900",children:y?.dispute_type})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),n.jsx("div",{className:"text-sm text-gray-900 capitalize",children:y?.priority})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("div",{className:"text-sm text-gray-900 capitalize",children:y?.status?y.status.replace("_"," "):""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned To"}),n.jsx("div",{className:"text-sm text-gray-900",children:y?.assigned_admin||"Unassigned"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),n.jsx("div",{className:"text-sm text-gray-900 whitespace-pre-wrap",children:y?.description})]}),j.status==="resolve"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Type *"}),n.jsxs("select",{required:!0,value:j.resolution_type,onChange:ce=>{const Pe=ce.target.value,Te={...j,resolution_type:Pe},Ae=y?.booking?.total_amount||y?.amount_disputed;Pe==="refund"&&Ae?Te.resolution_amount=Ae:Pe==="partial_refund"&&Ae?Te.resolution_amount=Ae/2:Pe?.includes("refund")||(Te.resolution_amount=0),b(Te)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select resolution type"}),n.jsx("option",{value:"refund",children:"Refund"}),n.jsx("option",{value:"partial_refund",children:"Partial Refund"}),n.jsx("option",{value:"reschedule",children:"Reschedule"}),n.jsx("option",{value:"warning",children:"Warning"}),n.jsx("option",{value:"account_action",children:"Account Action"}),n.jsx("option",{value:"no_action",children:"No Action"}),n.jsx("option",{value:"compensation",children:"Compensation"}),n.jsx("option",{value:"apology",children:"Apology"})]})]}),j.resolution_type?.includes("refund")&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resolution Amount *"}),(y?.booking?.total_amount||y?.amount_disputed)&&n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Total booking amount: ",(y?.booking?.total_amount||y?.amount_disputed)?.toFixed(2)]}),n.jsx("input",{type:"number",required:!0,value:j.resolution_amount,onChange:ce=>b({...j,resolution_amount:parseFloat(ce.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter amount",max:y?.booking?.total_amount||y?.amount_disputed||void 0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),n.jsx("textarea",{required:!0,value:j.notes,onChange:ce=>b({...j,notes:ce.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${j.status}...`})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",onClick:()=>v(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(he,{type:"submit",disabled:_,className:`${j.status==="resolve"?"bg-green-600 hover:bg-green-700":j.status==="escalate"?"bg-red-600 hover:bg-red-700":"bg-primary hover:bg-primary-dark"} text-white`,children:_?"Processing...":j.status==="resolve"?"Resolve":j.status==="escalate"?"Escalate":j.status==="in_progress"?"Start Processing":"Submit"})]})]})]})})]})},xJ=()=>n.jsxs(hr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Support Tickets & Threads"}),n.jsx("p",{className:"text-gray-600",children:"Manage support conversations and resolve user issues through ticket threads."})]}),n.jsxs(He,{children:[n.jsx(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:n.jsx(dt,{children:"All Support Tickets"})}),n.jsx(Ve,{children:n.jsx(gJ,{})})]})]}),yJ={},vJ=yJ?.VITE_API_BASE_URL||"/api",Hu=e=>{if(!e)return"N/A";try{const[t,r]=e.split(":"),a=parseInt(t,10),s=parseInt(r,10),o=a===0?12:a>12?a-12:a,c=a>=12?"PM":"AM",d=s.toString().padStart(2,"0");return`${o}:${d} ${c}`}catch{return e}},bJ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(1),[d,u]=g.useState(null),[p,f]=g.useState(!1),[h,v]=g.useState(null),[y,N]=g.useState({status:"",notes:""}),[j,b]=g.useState(!1),[_,S]=g.useState(1),[C,E]=g.useState({}),[P,O]=g.useState({}),[T,U]=g.useState(!1),[M,z]=g.useState(null),[I,q]=g.useState({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0}),[L,D]=g.useState({status:"",payment_status:"",priority:"",date_from:"",date_to:"",city:"",assigned_provider:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),[ee,oe]=g.useState(!1),[ie,W]=g.useState(!1),[J,ue]=g.useState(null),[K,te]=g.useState([]),[ve,be]=g.useState(!1),[Oe,Me]=g.useState(null),[Ne,F]=g.useState(!1),Y=10,V=vJ;g.useEffect(()=>{de()},[o,L]);const re=$=>{const _e=[$.total_amount,$.payment_amount,$.service_price_discounted,$.service_price_original,$.amount,$.price,$.subcategory?.price,$.subcategory?.amount,$.service?.price_discounted,$.service?.price_original,$.service?.price];for(const Ie of _e)if(!(Ie==null||Ie===""||Ie==="0"||Ie===0)){if(typeof Ie=="number"){if(Number.isFinite(Ie))return Ie}else if(typeof Ie=="string"){const st=parseFloat(Ie.replace(/[,\s]/g,""));if(!isNaN(st))return st}}return 0},Q=$=>$.assigned_provider_name||$.assigned_provider||$.provider?.full_name||$.provider?.name||($.provider_id?`Provider #${$.provider_id}`:null),De=$=>$.service_title||$.service?.service_name||$.service?.title||$.service_name||$.subcategory?.service_name||$.subcategory?.name||$.category?.name||"Unknown Service",Ce=async $=>{const _e=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(_e){O(Ie=>({...Ie,[$]:!0}));try{const Ie=await fetch(`${V}/admin/booking/session-history/${$}`,{headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"}});if(Ie.ok){const st=await Ie.json();E(R=>({...R,[$]:st.sessions||[]}))}}catch(Ie){console.error("Failed to load session history:",Ie),e("Failed to load session history","error")}finally{O(Ie=>({...Ie,[$]:!1}))}}},rt=async $=>{const _e=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(_e)try{if((await fetch(`${V}/admin/booking/approve-completion/${$}`,{method:"POST",headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"},body:JSON.stringify({admin_username:"Admin"})})).ok)e("Booking completion approved","success"),await de();else throw new Error("Failed to approve")}catch{e("Failed to approve completion","error")}},fe=async($,_e)=>{const Ie=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(Ie)try{if((await fetch(`${V}/admin/booking/reject-completion/${$}`,{method:"POST",headers:{Authorization:`Bearer ${Ie}`,"Content-Type":"application/json"},body:JSON.stringify({rejection_reason:_e,admin_username:"Admin"})})).ok)e("Booking completion rejected","success"),await de();else throw new Error("Failed to reject")}catch{e("Failed to reject completion","error")}},de=async()=>{const $=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!$){e("Please login to view bookings","error"),s(!1);return}try{s(!0);const _e=new URLSearchParams;_e.append("page",o.toString()),_e.append("limit",Y.toString()),Object.entries(L).forEach(([xe,me])=>{me&&_e.append(xe,me.toString())});const Ie=await fetch(`${V}/admin/appointments?${_e.toString()}`,{headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"}});if(!Ie.ok){if(Ie.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${Ie.status}`)}const st=await Ie.json(),R=st.data||st.bookings||[];if(Array.isArray(R)){const xe=R.map(me=>({id:me.id,booking_date:me.preferred_date||me.booking_date,booking_time:me.preferred_time||me.booking_time,status:me.status,payment_status:me.payment_status||"pending",priority:me.priority||"normal",total_amount:re(me),service_address:me.service_address||me.address||"N/A",pincode:me.pincode||"N/A",city:me.city||"N/A",contact_person:me.contact_person||me.user?.name||"N/A",contact_phone:me.contact_phone||me.user?.phone||"N/A",created_at:me.created_at||"",updated_at:me.updated_at||"",assigned_provider:Q(me),user_name:me.user?.name||`User #${me.user_id||"N/A"}`,provider_name:me.provider?.name||`Provider #${me.provider_id||"N/A"}`,service_name:De(me),service_description:me.service?.description||me.subcategory?.description||me.description||"",category_id:me.category_id||me.service?.category_id||me.subcategory?.category_id,subcategory_id:me.subcategory_id||me.service?.subcategory_id,is_overdue:me.is_overdue||!1,admin_notes:me.admin_notes,cancellation_reason:me.cancellation_reason,refund_amount:me.refund_amount,user_id:me.user_id,provider_id:me.provider_id,slot_type:me.slot_type,total_sessions:me.total_sessions,completed_sessions:me.completed_sessions,admin_approval_status:me.admin_approval_status,admin_rejection_reason:me.admin_rejection_reason}));if(r(xe),st.pagination){const me=st.pagination.total||xe.length,ot=st.pagination.page_size||Y;S(Math.ceil(me/ot))}else S(1)}else console.error("Failed to fetch bookings: Invalid response format"),e("Failed to fetch bookings: Invalid response format","error"),r([]),S(1)}catch(_e){console.error("Error fetching bookings:",_e);const Ie=_e instanceof Error?_e.message:"Failed to fetch bookings";e(Ie,"error"),r([]),S(1)}finally{s(!1)}},Je=($,_e)=>{u(d===$.id?null:$.id)},ze=async $=>{if($.preventDefault(),!!h){b(!0);try{let _e="",Ie={};switch(y.status){case"confirm":_e=`${V}/admin/bookings/${h.id}/status`,Ie={status:"confirmed",notes:y.notes,reason:"Admin confirmed booking"};break;case"cancel":_e=`${V}/admin/bookings/${h.id}/cancel`,Ie={reason:y.reason||"Cancelled by admin",refund_amount:y.refund_amount||0,notes:y.notes};break;case"assign":_e=`${V}/admin/bookings/${h.id}/assign`,Ie={provider_id:y.provider_id,notes:y.notes};break;case"start":_e=`${V}/admin/bookings/${h.id}/status`,Ie={status:"in_progress",notes:y.notes,reason:"Admin started the service"};break;case"complete":_e=`${V}/admin/bookings/${h.id}/status`,Ie={status:"completed",notes:y.notes,reason:"Admin marked as completed"};break;default:throw new Error(`Unknown action: ${y.status}`)}const R=await(await fetch(_e,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")}`,"Content-Type":"application/json"},body:JSON.stringify(Ie)})).json();if(R.success){const xe=R.message||`Booking ${y.status}ed successfully`;e(xe,"success"),f(!1),de()}else e(R.message||`Failed to ${y.status} booking`,"error")}catch(_e){console.error("Error processing booking:",_e),e("Error processing booking","error")}finally{b(!1)}}},ce=$=>{switch($){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"confirmed":case"accepted":return"bg-primary/10 text-primary-dark";case"in_progress":return"bg-purple-100 text-purple-700";case"cancelled":return"bg-red-100 text-red-700";case"awaiting_payment":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},Pe=$=>{switch($){case"paid":return"bg-green-100 text-green-700";case"refunded":return"bg-primary/10 text-primary-dark";case"pending":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},Te=$=>{switch($){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"normal":return"bg-primary/10 text-primary-dark";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},Ae=$=>{["id","date","status","actions"].includes($)||q(_e=>({..._e,[$]:!_e[$]}))},Re=()=>{q({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0})},tt=async $=>{ue($),W(!0),be(!0),te([]),Me(null);try{const _e=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!_e){e("Please login to assign provider","error");return}const Ie=await fetch(`${V}/admin/bookings/${$.id}/available-providers`,{headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"}});if(!Ie.ok)throw new Error(`Failed to fetch providers: ${Ie.status}`);const st=await Ie.json();te(st.providers||[])}catch(_e){console.error("Error fetching available providers:",_e),e("Failed to fetch available providers","error")}finally{be(!1)}},kt=async()=>{if(!J||!Oe){e("Please select a provider","error");return}F(!0);try{const $=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!$){e("Please login to assign provider","error");return}const _e=await fetch(`${V}/admin/bookings/${J.id}/assign-provider`,{method:"PUT",headers:{Authorization:`Bearer ${$}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:Oe,admin_name:"Admin"})}),Ie=await _e.json();if(_e.ok)e("Provider assigned successfully","success"),W(!1),ue(null),Me(null),de();else throw new Error(Ie.message||Ie.error?.message||"Failed to assign provider")}catch($){console.error("Error assigning provider:",$);const _e=$ instanceof Error?$.message:"Failed to assign provider";e(_e,"error")}finally{F(!1)}};return n.jsxs("div",{children:[a?n.jsx(rl,{}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-end mb-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(he,{onClick:()=>oe(!ee),variant:"outline",className:"flex items-center space-x-1",children:[n.jsx(Kx,{size:14}),n.jsx("span",{children:"Columns"})]}),n.jsxs(he,{onClick:de,className:"flex items-center space-x-1",children:[n.jsx(mn,{size:14}),n.jsx("span",{children:"Refresh"})]})]})}),ee&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Column Visibility"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:Re,variant:"outline",size:"sm",className:"text-xs",children:"Reset All"}),n.jsx(he,{onClick:()=>oe(!1),variant:"ghost",size:"sm",className:"text-xs",children:n.jsx(yt,{size:14})})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(I).map(([$,_e])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:_e,onChange:()=>Ae($),disabled:["id","date","status","actions"].includes($),className:"rounded border-gray-300 text-primary focus:ring-primary disabled:opacity-50"}),n.jsx("span",{className:`text-sm ${["id","date","status","actions"].includes($)?"text-gray-500":"text-gray-700"}`,children:$.charAt(0).toUpperCase()+$.slice(1).replace("_"," ")})]},$))})]}),n.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"w-10 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),I.id&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),I.date&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),I.service&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),I.parties&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parties"}),I.location&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),I.amount&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),I.status&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),I.payment&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),I.priority&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),I.assigned&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),I.actions&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{children:t.map($=>n.jsxs(un.Fragment,{children:[n.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(he,{variant:"ghost",size:"sm",onClick:()=>Je($),className:"p-1 hover:bg-gray-100 rounded",children:d===$.id?n.jsx(ol,{size:16,className:"text-gray-500"}):n.jsx(oi,{size:16,className:"text-gray-500"})})}),I.id&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",$.id]}),$.is_overdue&&n.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[n.jsx(Lr,{size:12,className:"mr-1"}),"Overdue"]})]}),I.date&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:$.booking_date?new Date($.booking_date).toLocaleDateString():"N/A"}),n.jsx("div",{className:"text-sm text-gray-500",children:$.booking_time?Hu($.booking_time):"N/A"})]}),I.service&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"font-medium text-gray-900",children:$.service_name})}),I.parties&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["User: ",$.user_name]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",$.provider_name]})]}),I.location&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:$.service_address}),n.jsxs("div",{className:"text-sm text-gray-500",children:[$.city," - ",$.pincode]})]}),I.amount&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["",$.total_amount.toFixed(2)]})}),I.status&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce($.status)}`,children:$.status.split("_").map(_e=>_e.charAt(0).toUpperCase()+_e.slice(1)).join(" ")})}),I.payment&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Pe($.payment_status)}`,children:$.payment_status.charAt(0).toUpperCase()+$.payment_status.slice(1)})}),I.priority&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te($.priority)}`,children:$.priority.charAt(0).toUpperCase()+$.priority.slice(1)})}),I.assigned&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:$.assigned_provider||"Unassigned"})}),I.actions&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:()=>Je($),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:n.jsx(Zi,{size:16})}),$.slot_type&&$.total_sessions&&n.jsx(he,{onClick:()=>{z($),U(!0)},variant:"ghost",size:"sm",className:"text-primary hover:text-blue-900",title:"View Report",children:n.jsx(Kx,{size:16})})]})})]}),d===$.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(I).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary",children:n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking ID:"}),n.jsxs("span",{className:"font-medium",children:["#",$.id]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce($.status)}`,children:$.status.split("_").map(_e=>_e.charAt(0).toUpperCase()+_e.slice(1)).join(" ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Pe($.payment_status)}`,children:$.payment_status.charAt(0).toUpperCase()+$.payment_status.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Priority:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te($.priority)}`,children:$.priority.charAt(0).toUpperCase()+$.priority.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),n.jsxs("span",{className:"font-medium text-green-600",children:["",$.total_amount.toFixed(2)]})]}),$.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shift Pattern:"}),n.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-medium",children:[$.slot_type,$.slot_type==="MWF"&&" (Mon, Wed, Fri)",$.slot_type==="TTS"&&" (Tue, Thu, Sat)"]})]}),$.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[$.completed_sessions||0," / ",$.total_sessions]})]})]})]}),n.jsxs("div",{className:"space-y-4 md:col-span-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Service Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium",children:$.service_name})]}),$.service_description&&n.jsxs("div",{className:"col-span-full",children:[n.jsx("span",{className:"text-gray-600 block mb-2",children:"Description:"}),n.jsx("div",{className:"text-sm text-gray-700 border border-gray-200 rounded p-3 bg-gray-50 service-description-html",style:{lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:$.service_description}})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"User:"}),n.jsx("span",{className:"font-medium",children:$.user_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Provider:"}),n.jsx("span",{className:"font-medium",children:$.provider_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Assigned To:"}),n.jsx("span",{className:"font-medium",children:$.assigned_provider||"Unassigned"})]}),(!$.provider_id||$.status==="awaiting_assignment")&&n.jsx("div",{className:"mt-4",children:n.jsx(he,{onClick:()=>tt($),className:"bg-primary hover:bg-primary-dark text-white",size:"sm",children:"Assign Provider"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Location & Contact"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Address:"}),n.jsx("span",{className:"font-medium",children:$.service_address})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"City:"}),n.jsx("span",{className:"font-medium",children:$.city})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Pincode:"}),n.jsx("span",{className:"font-medium",children:$.pincode})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Person:"}),n.jsx("span",{className:"font-medium",children:$.contact_person})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Phone:"}),n.jsx("span",{className:"font-medium",children:$.contact_phone})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Date & Time"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Date:"}),n.jsx("span",{className:"font-medium",children:$.booking_date?new Date($.booking_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Time:"}),n.jsx("span",{className:"font-medium",children:$.booking_time?Hu($.booking_time):"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:$.created_at?new Date($.created_at).toLocaleString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),n.jsx("span",{className:"font-medium",children:$.updated_at?new Date($.updated_at).toLocaleString():"N/A"})]})]})]}),($.slot_type||$.total_sessions)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Session Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[$.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Slot Type:"}),n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:$.slot_type})]}),$.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[$.completed_sessions||0," / ",$.total_sessions," completed"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(he,{onClick:()=>{z($),U(!0),C[$.id]||Ce($.id)},variant:"outline",size:"sm",className:"w-full",children:P[$.id]?"Loading...":"View Session History"})})]})]}),$.status==="pending_admin_approval"&&n.jsxs("div",{className:"space-y-4 col-span-full",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-900 border-b border-yellow-300 pb-2 bg-yellow-50 p-2 rounded",children:" Pending Admin Approval"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(he,{onClick:()=>rt($.id),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:"Approve Completion"}),n.jsx(he,{onClick:()=>{const _e=prompt("Please provide rejection reason:");_e&&_e.trim()&&fe($.id,_e.trim())},variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",size:"sm",children:"Reject Completion"})]}),$.admin_rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[n.jsx("strong",{children:"Previous Rejection:"})," ",$.admin_rejection_reason]})]}),($.admin_notes||$.cancellation_reason||$.refund_amount)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Additional Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[$.admin_notes&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Admin Notes:"}),n.jsx("span",{className:"font-medium",children:$.admin_notes})]}),$.cancellation_reason&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Cancellation Reason:"}),n.jsx("span",{className:"font-medium text-red-600",children:$.cancellation_reason})]}),$.refund_amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Refund Amount:"}),n.jsxs("span",{className:"font-medium text-primary",children:["",$.refund_amount.toFixed(2)]})]})]})]})]})})})})]},$.id))})]})}),_>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",o," of ",_]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:()=>c($=>Math.max($-1,1)),disabled:o===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ji,{size:16})}),n.jsx(he,{onClick:()=>c($=>Math.min($+1,_)),disabled:o===_,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ea,{size:16})})]})]})]}),p&&h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:[y.status==="confirm"?"Confirm":y.status==="cancel"?"Cancel":y.status==="assign"?"Assign Provider":y.status==="start"?"Start Service":y.status==="complete"?"Complete":"View"," Booking"]}),n.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),n.jsxs("form",{onSubmit:ze,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Details"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Service:"})," ",h.service_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",new Date(h.booking_date).toLocaleDateString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Time:"})," ",Hu(h.booking_time)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Amount:"})," ",h.total_amount.toFixed(2)]})]})]}),y.status==="confirm"&&n.jsx("div",{className:"bg-blue-50 border border-primary/20 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Bi,{className:"h-5 w-5 text-blue-400"})}),n.jsx("div",{className:"ml-3",children:n.jsxs("p",{className:"text-sm text-primary-dark",children:[n.jsx("strong",{children:"Provider Assignment:"})," This booking already has a provider assigned. Confirmation will approve the booking for service."]})})]})}),y.status==="assign"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider ID *"}),n.jsx("input",{type:"number",required:!0,value:y.provider_id,onChange:$=>N({...y,provider_id:parseInt($.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter provider ID"})]}),y.status==="cancel"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsx("input",{type:"text",required:!0,value:y.reason,onChange:$=>N({...y,reason:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter cancellation reason"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount"}),n.jsx("input",{type:"number",value:y.refund_amount,onChange:$=>N({...y,refund_amount:parseFloat($.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter refund amount"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),n.jsx("textarea",{required:!0,value:y.notes,onChange:$=>N({...y,notes:$.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${y.status}...`})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",onClick:()=>f(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(he,{type:"submit",disabled:j,className:`${y.status==="confirm"?"bg-primary hover:bg-primary-dark":y.status==="cancel"?"bg-red-600 hover:bg-red-700":y.status==="assign"?"bg-green-600 hover:bg-green-700":(y.status==="start","bg-primary hover:bg-primary-dark")} text-white`,children:j?"Processing...":y.status==="confirm"?"Confirm":y.status==="cancel"?"Cancel":y.status==="assign"?"Assign":y.status==="start"?"Start":y.status==="complete"?"Complete":"Submit"})]})]})]})}),T&&M&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Session History - Booking #",M.id]}),n.jsx("button",{onClick:()=>{U(!1),z(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),P[M.id]?n.jsx("div",{className:"text-center py-8",children:"Loading sessions..."}):C[M.id]?.length>0?n.jsx("div",{className:"space-y-4",children:C[M.id].map($=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium",children:["Session ",$.session_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date($.session_date).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${$.status==="session_completed"?"bg-green-100 text-green-800":$.status==="session_started"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:$.status.replace("_"," ").replace(/\b\w/g,_e=>_e.toUpperCase())})]}),$.reached_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Reached: ",new Date($.reached_at).toLocaleString()]}),$.started_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",new Date($.started_at).toLocaleTimeString()]}),$.ended_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Ended: ",new Date($.ended_at).toLocaleTimeString()]}),$.picture_proof_url&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Proof:"}),n.jsx("img",{src:$.picture_proof_url,alt:`Session ${$.session_number} proof`,className:"max-w-xs rounded border border-gray-200 cursor-pointer hover:opacity-80",onClick:()=>window.open($.picture_proof_url,"_blank")})]})]},$.id))}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sessions found"})]})}),ie&&J&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Assign Provider to Booking #",J.id]}),n.jsx("button",{onClick:()=>{W(!1),ue(null),te([]),Me(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium ml-2",children:J.service_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Customer:"}),n.jsx("span",{className:"font-medium ml-2",children:J.user_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsxs("span",{className:"font-medium ml-2",children:[J.city,", ",J.pincode]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsxs("span",{className:"font-medium ml-2",children:[J.booking_date?new Date(J.booking_date).toLocaleDateString():"N/A"," ",J.booking_time?Hu(J.booking_time):""]})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Available Providers (Filtered by Service & Location)"}),ve?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(rl,{})}):K.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No available providers found for this service."}),n.jsx("p",{className:"text-sm mt-2",children:"Please check if there are approved providers who offer this service."})]}):n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:K.map($=>n.jsx("div",{onClick:()=>Me($.id),className:`p-4 border rounded-lg cursor-pointer transition-colors ${Oe===$.id?"border-primary bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h5",{className:"font-semibold text-gray-900",children:$.full_name}),Oe===$.id&&n.jsx(Bi,{size:16,className:"text-primary"})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",$.phone_number]}),$.email&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",$.email]}),$.city&&$.state&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Location:"})," ",$.city,", ",$.state]}),$.average_rating&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Rating:"}),"  ",$.average_rating.toFixed(1)]}),$.completed_bookings!==void 0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Completed:"})," ",$.completed_bookings," bookings"]})]})]})})},$.id))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(he,{type:"button",onClick:()=>{W(!1),ue(null),te([]),Me(null)},className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(he,{type:"button",onClick:kt,disabled:!Oe||Ne||ve,className:"bg-primary hover:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed",children:Ne?"Assigning...":"Assign Provider"})]})]})})]})},jJ=()=>n.jsx(hr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings"}),n.jsx("p",{className:"text-gray-600",children:"Manage and monitor all bookings in the system"})]}),n.jsxs(He,{children:[n.jsx(ct,{children:n.jsx(dt,{children:"All Bookings"})}),n.jsx(Ve,{children:n.jsx(bJ,{})})]})]})}),wJ={},NJ=wJ?.VITE_API_BASE_URL||"/api",_J=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(1),[d,u]=g.useState(null),[p,f]=g.useState(1),[h,v]=g.useState(0),[y,N]=g.useState({id:!0,date:!0,user:!0,vendor:!0,medicines:!0,amount:!0,status:!0,payment:!0,actions:!0}),[j,b]=g.useState({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),[_,S]=g.useState(!1),C=20,E=NJ;g.useEffect(()=>{P()},[o,j]);const P=async()=>{const I=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!I){e("Please login to view orders","error"),s(!1);return}try{s(!0);const q=new URLSearchParams;q.append("page",o.toString()),q.append("limit",C.toString()),Object.entries(j).forEach(([ee,oe])=>{oe&&q.append(ee,oe.toString())});const L=await fetch(`${E}/admin/orders?${q.toString()}`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!L.ok){if(L.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${L.status}`)}const D=await L.json();r(D.orders||[]),f(D.pagination?.total_pages||1),v(D.pagination?.total||0)}catch(q){console.error("Failed to fetch orders:",q),e(q.message||"Failed to fetch orders","error"),r([])}finally{s(!1)}},O=I=>{const L={placed:{label:"Placed",color:"text-primary-dark",bgColor:"bg-primary/10"},pending_vendor_response:{label:"Awaiting Vendor",color:"text-yellow-700",bgColor:"bg-yellow-100"},confirmed:{label:"Confirmed",color:"text-green-700",bgColor:"bg-green-100"},packed:{label:"Packed",color:"text-purple-700",bgColor:"bg-purple-100"},out_for_delivery:{label:"Out for Delivery",color:"text-indigo-700",bgColor:"bg-indigo-100"},delivered:{label:"Delivered",color:"text-green-700",bgColor:"bg-green-100"},rejected:{label:"Rejected",color:"text-red-700",bgColor:"bg-red-100"},cancelled:{label:"Cancelled",color:"text-gray-700",bgColor:"bg-gray-100"},no_vendor_available:{label:"No Vendor",color:"text-orange-700",bgColor:"bg-orange-100"}}[I]||{label:I,color:"text-gray-700",bgColor:"bg-gray-100"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L.color} ${L.bgColor}`,children:L.label})},T=I=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I==="online"?"text-green-700 bg-green-100":"text-primary-dark bg-primary/10"}`,children:I==="online"?"Online":"COD"}),U=I=>I?new Date(I).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",M=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(I),z=I=>{u(d===I?null:I)};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor all medicine orders and vendor assignments"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>S(!_),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(Kx,{size:16}),"Columns"]}),n.jsxs("button",{onClick:P,disabled:a,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",children:[n.jsx(mn,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:j.status,onChange:I=>b({...j,status:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"placed",children:"Placed"}),n.jsx("option",{value:"pending_vendor_response",children:"Awaiting Vendor"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"packed",children:"Packed"}),n.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:j.date_from,onChange:I=>b({...j,date_from:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:j.date_to,onChange:I=>b({...j,date_to:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>b({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200",children:"Clear Filters"})})]})}),a?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(rl,{})}):t.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx(Ya,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No orders found"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:Object.values(j).some(I=>I)?"Try adjusting your filters":"Orders will appear here once users place them"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[y.id&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),y.date&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),y.user&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),y.vendor&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),y.medicines&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicines"}),y.amount&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),y.status&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),y.payment&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),y.actions&&n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(I=>n.jsxs(un.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50",children:[y.id&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",I.id]}),y.date&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U(I.created_at)}),y.user&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:I.user_name||`User #${I.user_id}`}),n.jsx("div",{className:"text-gray-500",children:I.user_phone})]})}),y.vendor&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.provider_name?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:I.provider_name}),n.jsx("div",{className:"text-gray-500",children:I.provider_phone})]}):n.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})}),y.medicines&&n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsxs("div",{className:"max-w-xs",children:[I.items.length," item",I.items.length!==1?"s":"",I.items.length>0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[I.items[0].medicine_name,I.items.length>1&&` +${I.items.length-1} more`]})]})}),y.amount&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:M(I.total_amount)}),I.discount>0&&n.jsxs("div",{className:"text-xs text-green-600",children:["-",M(I.discount)]})]}),y.status&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:O(I.status)}),y.payment&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:T(I.payment_method)}),y.actions&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("button",{onClick:()=>z(I.id),className:"text-primary hover:text-primary-dark flex items-center gap-1 ml-auto",children:[n.jsx(Zi,{size:16}),d===I.id?"Hide":"View",d===I.id?n.jsx(ol,{size:16}):n.jsx(oi,{size:16})]})})]}),d===I.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(y).filter(q=>q).length,className:"px-6 py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Order ID"}),n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",I.id]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Status"}),n.jsx("div",{children:O(I.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Payment"}),n.jsx("div",{children:T(I.payment_method)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Total Amount"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:M(I.total_amount)})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Delivery Address"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[I.full_name&&n.jsx("div",{className:"font-medium",children:I.full_name}),n.jsx("div",{children:I.delivery_address}),n.jsxs("div",{children:[I.delivery_city,", ",I.delivery_state||""," - ",I.delivery_pincode]}),I.phone&&n.jsxs("div",{className:"text-gray-500 mt-1",children:["Phone: ",I.phone]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2",children:["Medicines (",I.items.length,")"]}),n.jsx("div",{className:"space-y-2",children:I.items.map(q=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:q.medicine_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",q.quantity,"  ",M(q.price)]})]}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:M(q.price*q.quantity)}),n.jsx("div",{className:"ml-4",children:O(q.status)})]},q.id))})]}),I.provider_name&&n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsx("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Assigned Vendor"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("div",{className:"font-medium",children:I.provider_name}),n.jsx("div",{children:I.provider_phone}),I.pass_on_info&&n.jsxs("div",{className:"mt-2 text-xs text-primary",children:[I.pass_on_info.pass_on_type==="partial"?"Partially":"Fully"," passed on from another vendor"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Timeline"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("div",{children:["Placed: ",U(I.created_at)]}),I.confirmed_at&&n.jsxs("div",{children:["Confirmed: ",U(I.confirmed_at)]}),I.packed_at&&n.jsxs("div",{children:["Packed: ",U(I.packed_at)]}),I.out_for_delivery_at&&n.jsxs("div",{children:["Out for Delivery: ",U(I.out_for_delivery_at)]}),I.delivered_at&&n.jsxs("div",{className:"text-green-600 font-medium",children:["Delivered: ",U(I.delivered_at)]})]})]})]})})})]},I.id))})]})})}),p>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",o," of ",p," (",h," total orders)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>c(I=>Math.max(1,I-1)),disabled:o===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[n.jsx(Ji,{size:16}),"Previous"]}),n.jsxs("button",{onClick:()=>c(I=>Math.min(p,I+1)),disabled:o===p,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next",n.jsx(Ea,{size:16})]})]})]})]})]})},kJ=()=>n.jsx(hr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and track all medicine orders from users"})]}),n.jsxs(He,{children:[n.jsx(ct,{children:n.jsx(dt,{children:"All Orders"})}),n.jsx(Ve,{children:n.jsx(_J,{})})]})]})}),SJ=[{id:1,booking_id:101,complaint_type:"service_quality",description:"The groomer was late and didn't follow the instructions I provided for my dog's haircut.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-15T10:00:00Z",resolved_at:null,user_name:"Sarah Johnson",user_email:"sarah.johnson@example.com",user_phone:"+91 98765 43210",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Grooming",booking_date:"2025-01-14",booking_time:"14:00"},{id:2,booking_id:102,complaint_type:"provider_behavior",description:"The trainer was rude and unprofessional during the training session.",priority:"medium",status:"in_progress",admin_notes:"Contacted provider for their side of the story",created_at:"2025-01-14T15:30:00Z",resolved_at:null,user_name:"Michael Chen",user_email:"michael.chen@example.com",user_phone:"+91 98765 43211",provider_name:"Sarah Trainer",provider_email:"sarah.trainer@example.com",service_name:"Dog Training",booking_date:"2025-01-13",booking_time:"10:00"},{id:3,booking_id:103,complaint_type:"billing_dispute",description:"I was charged extra for services that were not provided.",priority:"high",status:"resolved",admin_notes:"Refund processed. Amount credited to user account.",created_at:"2025-01-12T09:20:00Z",resolved_at:"2025-01-13T11:00:00Z",user_name:"Emily Rodriguez",user_email:"emily.rodriguez@example.com",user_phone:"+91 98765 43212",provider_name:"Mike Handler",provider_email:"mike.handler@example.com",service_name:"Veterinary Care",booking_date:"2025-01-11",booking_time:"16:00"},{id:4,booking_id:104,complaint_type:"safety_concern",description:"The boarding facility didn't have proper safety measures for my pet.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-11T14:15:00Z",resolved_at:null,user_name:"David Wilson",user_email:"david.wilson@example.com",user_phone:"+91 98765 43213",provider_name:"Lisa Coach",provider_email:"lisa.coach@example.com",service_name:"Pet Boarding",booking_date:"2025-01-10",booking_time:"09:00"},{id:5,booking_id:105,complaint_type:"other",description:"General dissatisfaction with the service quality.",priority:"low",status:"closed",admin_notes:"Issue resolved after discussion with provider.",created_at:"2025-01-08T11:00:00Z",resolved_at:"2025-01-09T15:30:00Z",user_name:"Priya Sharma",user_email:"priya.sharma@example.com",user_phone:"+91 98765 43214",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Walking",booking_date:"2025-01-07",booking_time:"18:00"}],PJ={total_complaints:5,pending_complaints:2,in_progress_complaints:1,resolved_complaints:1,closed_complaints:1,high_priority_complaints:3,medium_priority_complaints:1,low_priority_complaints:1},CJ=()=>{const[e,t]=g.useState(SJ),[r,a]=g.useState(PJ),[s,o]=g.useState(!1),[c,d]=g.useState(null),[u,p]=g.useState("all"),[f,h]=g.useState("all"),[v,y]=g.useState(""),[N,j]=g.useState(!1),[b,_]=g.useState(""),[S,C]=g.useState(""),E=(M,z,I)=>{j(!0),setTimeout(()=>{t(e.map(L=>L.id===M?{...L,status:z,admin_notes:I,resolved_at:z==="resolved"||z==="closed"?new Date().toISOString():L.resolved_at}:L));const q=e.map(L=>L.id===M?{...L,status:z}:L);a({total_complaints:q.length,pending_complaints:q.filter(L=>L.status==="pending").length,in_progress_complaints:q.filter(L=>L.status==="in_progress").length,resolved_complaints:q.filter(L=>L.status==="resolved").length,closed_complaints:q.filter(L=>L.status==="closed").length,high_priority_complaints:q.filter(L=>L.priority==="high").length,medium_priority_complaints:q.filter(L=>L.priority==="medium").length,low_priority_complaints:q.filter(L=>L.priority==="low").length}),d(null),_(""),C(""),j(!1)},500)},P=M=>{switch(M){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},O=M=>{switch(M){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"in_progress":return"bg-primary/10 text-primary-dark border-primary/20";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},T=M=>({service_quality:"Service Quality Issue",provider_behavior:"Provider Behavior",billing_dispute:"Billing Dispute",safety_concern:"Safety Concern",equipment_damage:"Equipment Damage",other:"Other"})[M]||M,U=e.filter(M=>{const z=u==="all"||M.status===u,I=f==="all"||M.priority===f,q=v===""||M.user_name.toLowerCase().includes(v.toLowerCase())||M.provider_name.toLowerCase().includes(v.toLowerCase())||M.service_name.toLowerCase().includes(v.toLowerCase())||M.description.toLowerCase().includes(v.toLowerCase());return z&&I&&q});return s?n.jsx(hr,{children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading complaints..."})]})}):n.jsx(hr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complaint Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and resolve customer complaints"})]})}),r&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(He,{className:"border-0 shadow-lg",children:n.jsx(Ve,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Complaints"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.total_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(aa,{size:24,className:"text-primary"})})]})})}),n.jsx(He,{className:"border-0 shadow-lg",children:n.jsx(Ve,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:r.pending_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:n.jsx(Lr,{size:24,className:"text-yellow-600"})})]})})}),n.jsx(He,{className:"border-0 shadow-lg",children:n.jsx(Ve,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-3xl font-bold text-primary",children:r.in_progress_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Ga,{size:24,className:"text-primary"})})]})})}),n.jsx(He,{className:"border-0 shadow-lg",children:n.jsx(Ve,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.resolved_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(fn,{size:24,className:"text-green-600"})})]})})})]}),n.jsx(He,{className:"border-0 shadow-lg",children:n.jsx(Ve,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(An,{size:20,className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search complaints...",value:v,onChange:M=>y(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{value:u,onChange:M=>p(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:f,onChange:M=>h(M.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Priority"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"low",children:"Low"})]})]})]})})}),n.jsx("div",{className:"space-y-4",children:U.length===0?n.jsx(He,{className:"border-0 shadow-lg",children:n.jsxs(Ve,{className:"p-12 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(aa,{size:48,className:"text-gray-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Complaints Found"}),n.jsx("p",{className:"text-gray-600",children:v||u!=="all"||f!=="all"?"No complaints match your filter criteria.":"No complaints have been submitted yet."})]})}):U.map(M=>n.jsx(He,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:n.jsx(Ve,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4",children:[n.jsxs("div",{className:"mb-4 lg:mb-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T(M.complaint_type)}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${P(M.priority)}`,children:M.priority.toUpperCase()}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${O(M.status)}`,children:M.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:"text-gray-600 mb-3",children:M.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lt,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:M.user_name})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qi,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:M.user_phone})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vr,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:new Date(M.booking_date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qa,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:M.service_name})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(he,{size:"sm",variant:"outline",onClick:()=>d(M),className:"border-primary/20 text-primary hover:bg-primary/5",children:[n.jsx(Zi,{size:16,className:"mr-2"}),"View Details"]})})]})})},M.id))}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complaint Details"}),n.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(Qs,{size:20,className:"text-gray-500"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complaint Type"}),n.jsx("p",{className:"text-gray-900",children:T(c.complaint_type)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Priority"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${P(c.priority)}`,children:c.priority.toUpperCase()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${O(c.status)}`,children:c.status.replace("_"," ").toUpperCase()})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(c.created_at).toLocaleString()})]}),c.resolved_at&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Resolved At"}),n.jsx("p",{className:"text-gray-900",children:new Date(c.resolved_at).toLocaleString()})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-gray-50 rounded-lg",children:c.description})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Customer Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",c.user_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",c.user_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",c.user_phone]})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Provider Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",c.provider_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",c.provider_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Service:"})," ",c.service_name]})]})]})]}),c.admin_notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-yellow-50 rounded-lg",children:c.admin_notes})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Update Status"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Status"}),n.jsxs("select",{value:b,onChange:M=>_(M.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("textarea",{value:S,onChange:M=>C(M.target.value),placeholder:"Add notes about the resolution...",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:3})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(he,{onClick:()=>d(null),variant:"outline",className:"flex-1",children:"Cancel"}),n.jsx(he,{onClick:()=>E(c.id,b,S),disabled:!b||N,className:"flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary",children:N?"Updating...":"Update Status"})]})]})]})]})]})})]})})},AJ={},Lo=AJ?.VITE_API_BASE_URL||"/api",Zs={New:{badge:"bg-primary/10 text-primary-dark border border-primary/20",dot:"bg-primary"},Contacted:{badge:"bg-yellow-100 text-yellow-700 border border-yellow-200",dot:"bg-yellow-500"},Converted:{badge:"bg-green-100 text-green-700 border border-green-200",dot:"bg-green-500"},Lost:{badge:"bg-red-100 text-red-700 border border-red-200",dot:"bg-red-500"}},EJ=e=>{let t=[];if(e.cart_items)try{typeof e.cart_items=="string"?t=JSON.parse(e.cart_items):Array.isArray(e.cart_items)&&(t=e.cart_items)}catch(r){console.error("Error parsing cart_items:",r),t=[]}return{id:e.id,userId:e.user_id||null,ownerName:e.owner_name||e.user_full_name||"",email:e.email||e.user_email||"",phone:e.phone||e.user_phone||"",petType:e.pet_type,serviceInterest:e.service_interest,location:e.location||e.user_city||"",createdAt:e.created_at,status:e.status,notes:e.notes||"",assignedTrainer:e.assigned_trainer,assigned_admin_id:e.assigned_admin_id||null,assigned_admin_name:e.assigned_admin_name||null,assigned_admin_username:e.assigned_admin_username||null,scheduled_date:e.scheduled_date||null,scheduled_time:e.scheduled_time||null,cartItems:t,cartTotal:e.cart_total?parseFloat(String(e.cart_total)):null,cartSubtotal:e.cart_subtotal?parseFloat(String(e.cart_subtotal)):null,cartDiscount:e.cart_discount?parseFloat(String(e.cart_discount)):null,cartCreatedAt:e.cart_created_at||null,cartUpdatedAt:e.cart_updated_at||null,leadSource:e.lead_source||"manual",userFullName:e.user_full_name||null,userPhone:e.user_phone||null,userEmail:e.user_email||null,userCity:e.user_city||null,userState:e.user_state||null,status_history:e.status_history||[]}},OJ=({lead:e,onClose:t,onUpdate:r,showHistory:a=!1})=>{const[s,o]=g.useState(e?.status??"New"),[c,d]=g.useState(e?.scheduled_date||""),[u,p]=g.useState(e?.scheduled_time||""),[f,h]=g.useState(!1),[v,y]=g.useState("details");if(g.useEffect(()=>{e&&(o(e.status),d(e.scheduled_date||""),p(e.scheduled_time||""))},[e]),!e)return null;const N=async()=>{h(!0);try{await r(e.id,{status:s,scheduledDate:c||null,scheduledTime:u||null}),t()}catch(b){console.error("Error updating lead:",b)}finally{h(!1)}},j=e;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] rounded-3xl bg-white shadow-2xl flex flex-col",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 z-10 rounded-full bg-secondary p-2 text-primary hover:bg-secondary/80 transition-colors",children:n.jsx(yt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-primary px-8 py-6 text-white flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vo,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Manage status, assignment, and notes"})]})]})}),a&&n.jsx("div",{className:"px-8 pt-6 pb-4 border-b border-primary/20 flex-shrink-0",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>y("details"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${v==="details"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:"Details"}),n.jsx("button",{onClick:()=>y("history"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${v==="history"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(iI,{size:16}),"Status History"]})})]})}),n.jsx("div",{className:"overflow-y-auto flex-1",children:v==="details"?n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(Lt,{className:"text-primary-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-primary-900",children:e.ownerName})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(ti,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Qi,{size:16}),n.jsx("span",{children:e.phone})]}),e.userCity&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Qa,{size:16}),n.jsxs("span",{children:[e.userCity,e.userState?`, ${e.userState}`:""]})]}),e.assigned_admin_name&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(wa,{size:16}),n.jsxs("span",{children:["Assigned to: ",e.assigned_admin_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(i0,{size:16}),n.jsxs("span",{children:["Cart added ",e.cartCreatedAt?new Date(e.cartCreatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),e.cartItems&&e.cartItems.length>0&&n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Cart Items"}),n.jsx("div",{className:"space-y-2",children:e.cartItems.map((b,_)=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary-900",children:b.medicine_name||b.medicineName||"Item"}),n.jsxs("p",{className:"text-xs text-primary-400",children:["Quantity: ",b.quantity||1]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",((b.price||0)*(b.quantity||1)).toFixed(2)]}),n.jsxs("p",{className:"text-xs text-primary-400",children:["",(b.price||0).toFixed(2)," each"]})]})]},_))}),n.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-white/90 p-3 border-t border-primary-100",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Subtotal:"}),n.jsxs("span",{className:"text-sm font-semibold text-primary-900",children:["",e.cartSubtotal?.toFixed(2)||"0.00"]})]}),e.cartDiscount&&e.cartDiscount>0&&n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Discount:"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["-",e.cartDiscount.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-primary-100 p-3",children:[n.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"Total:"}),n.jsxs("span",{className:"text-lg font-bold text-primary-900",children:["",e.cartTotal?.toFixed(2)||"0.00"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500",children:"Lead Status"}),n.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost"].map(b=>n.jsxs("button",{onClick:()=>o(b),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${s===b?"border-primary-500 bg-primary-50 text-primary-700 shadow-sm":"border-primary-100 bg-white text-primary-500 hover:border-primary-200"}`,children:[n.jsx("span",{children:b}),b==="Converted"?n.jsx(Bi,{size:18}):b==="Lost"?n.jsx(aa,{size:18}):n.jsx(MS,{size:18})]},b))})]}),n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Schedule"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Date"}),n.jsx("input",{type:"date",value:c,onChange:b=>d(b.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Time"}),n.jsx("input",{type:"time",value:u,onChange:b=>p(b.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]})]})]})]}):n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Status History"}),j.status_history&&j.status_history.length>0?n.jsx("div",{className:"space-y-3",children:j.status_history.map((b,_)=>n.jsx("div",{className:"rounded-xl border border-primary-100 bg-primary-50/40 p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Zs[b.status]?.badge||Zs.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Zs[b.status]?.dot||Zs.New.dot}`}),b.status]}),n.jsx("span",{className:"text-xs text-primary-600",children:new Date(b.created_at).toLocaleString()})]}),b.notes&&n.jsx("p",{className:"text-sm text-primary-700 mt-2",children:b.notes}),b.updated_by_name&&n.jsxs("p",{className:"text-xs text-primary-500 mt-1",children:["Updated by: ",b.updated_by_name]})]})})},b.id))}):n.jsx("p",{className:"text-sm text-primary-400 text-center py-8",children:"No status history available"})]})}),n.jsxs("div",{className:"px-8 pt-6 pb-8 border-t border-primary-100 bg-white flex-shrink-0",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5 mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Lead Notes"}),n.jsx("p",{className:"text-sm text-primary-900 leading-relaxed",children:e.notes||"No notes available"})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:t,disabled:f,className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:N,disabled:f,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:f?n.jsxs(n.Fragment,{children:[n.jsx(ra,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},TJ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(null),[o,c]=g.useState(""),[d,u]=g.useState("All"),[p,f]=g.useState(!1),[h,v]=g.useState(!1),[y,N]=g.useState(!1),[j,b]=g.useState([]),[_,S]=g.useState({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""}),[C,E]=g.useState({username:"",password:"",full_name:"",email:"",phone:""}),P=(D=!1)=>{const ee=localStorage.getItem("KwikMedi_token"),oe={};return ee&&(oe.Authorization=`Bearer ${ee}`),D&&(oe["Content-Type"]="application/json"),oe},O=async()=>{f(!0);try{const D=d!=="All"?`?status=${d}`:"",oe=await(await fetch(`${Lo}/admin/leads${D}`,{headers:P()})).json();if(oe.success&&Array.isArray(oe.leads)){const ie=oe.leads.map(EJ);r(ie)}else e("Failed to load leads","error")}catch(D){console.error("Error fetching leads:",D),e("Error loading leads","error")}finally{f(!1)}};g.useEffect(()=>{O()},[d]),g.useEffect(()=>{T()},[]);const T=async()=>{try{const ee=await(await fetch(`${Lo}/admin/lead-admins`,{headers:P()})).json();ee.success&&Array.isArray(ee.admins)&&b(ee.admins)}catch(D){console.error("Error fetching lead admins:",D)}},U=async()=>{if(!C.username||!C.password){e("Username and password are required","error");return}try{const D=await fetch(`${Lo}/admin/lead-admins`,{method:"POST",headers:P(!0),body:JSON.stringify(C)}),ee=await D.json();D.ok&&ee.success?(await T(),e("Lead admin created successfully","success"),E({username:"",password:"",full_name:"",email:"",phone:""})):e(ee.error?.message||"Failed to create admin","error")}catch(D){console.error("Error creating admin:",D),e("Error creating admin","error")}},M=g.useMemo(()=>{const D=t.length,ee=t.filter(ue=>ue.status==="New").length,oe=t.filter(ue=>ue.status==="Contacted").length,ie=t.filter(ue=>ue.status==="Converted").length;t.filter(ue=>ue.status==="Lost").length;const W=D===0?0:Math.round(ie/D*100),J=t.filter(ue=>ue.leadSource==="cart").length;return[{label:"New Leads",value:ee,icon:n.jsx(c0,{className:"text-white",size:22}),gradient:"bg-primary",subtitle:"From cart"},{label:"Contacted",value:oe,icon:n.jsx(LS,{className:"text-primary-500",size:22}),gradient:"bg-yellow-500",subtitle:"In follow-up"},{label:"Converted",value:ie,icon:n.jsx(Bi,{className:"text-emerald-600",size:22}),gradient:"bg-green-500",subtitle:`${W}% conversion`},{label:"Total Leads",value:D,icon:n.jsx(s0,{className:"text-primary-500",size:22}),gradient:"bg-primary",subtitle:`${J} from cart`}]},[t]),z=t.filter(D=>{const ee=D.ownerName.toLowerCase().includes(o.toLowerCase())||D.email.toLowerCase().includes(o.toLowerCase())||D.phone.toLowerCase().includes(o.toLowerCase()),oe=d==="All"||D.status===d;return ee&&oe}),I=async(D,ee)=>{try{const oe={};ee.status&&(oe.status=ee.status),ee.assignedTrainer!==void 0&&(oe.assigned_trainer=ee.assignedTrainer),ee.scheduledDate!==void 0&&(oe.scheduled_date=ee.scheduledDate),ee.scheduledTime!==void 0&&(oe.scheduled_time=ee.scheduledTime);const ie=await fetch(`${Lo}/admin/leads/${D}`,{method:"PUT",headers:P(!0),body:JSON.stringify(oe)}),W=await ie.json();if(ie.ok&&W.success)await O(),e("Lead updated successfully","success");else throw e(W.error?.message||"Failed to update lead","error"),new Error(W.error?.message||"Failed to update lead")}catch(oe){throw console.error("Error updating lead:",oe),e("Error updating lead","error"),oe}},q=async()=>{try{const D=await fetch(`${Lo}/admin/leads`,{method:"POST",headers:P(!0),body:JSON.stringify({owner_name:_.ownerName,email:_.email,phone:_.phone,pet_type:_.petType,service_interest:_.serviceInterest,location:_.location||null,notes:_.notes||null,status:_.status,assigned_trainer:_.assignedTrainer,scheduled_date:_.scheduledDate||null,scheduled_time:_.scheduledTime||null})}),ee=await D.json();D.ok&&ee.success?(await O(),e("Lead created successfully","success"),v(!1),S({ownerName:"",email:"",phone:"",petType:"Dog",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""})):e(ee.error?.message||"Failed to create lead","error")}catch(D){console.error("Error creating lead:",D),e("Error creating lead","error")}},L=async D=>{if(confirm("Are you sure you want to delete this lead?"))try{const ee=await fetch(`${Lo}/admin/leads/${D}`,{method:"DELETE",headers:P()}),oe=await ee.json();ee.ok&&oe.success?(await O(),e("Lead deleted successfully","success")):e(oe.error?.message||"Failed to delete lead","error")}catch(ee){console.error("Error deleting lead:",ee),e("Error deleting lead","error")}};return n.jsxs(hr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-primary px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-secondary/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"User Leads Dashboard"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-secondary/80",children:"Track inquiries from users, manage leads, and follow progress across the sales pipeline."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"button",className:"rounded-xl bg-secondary px-5 py-2 text-sm font-semibold text-primary shadow-sm hover:bg-secondary/80 transition-colors flex items-center gap-2",onClick:()=>N(!0),children:[n.jsx(wa,{size:16}),"Manage Admins"]}),n.jsx("button",{type:"button",className:"rounded-xl bg-white px-5 py-2 text-sm font-semibold text-primary-600 shadow-sm hover:bg-primary-50 transition-colors",onClick:()=>console.log("Export leads"),children:"Export Leads"}),n.jsxs("button",{type:"button",className:"rounded-xl bg-primary-600 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 transition-colors flex items-center gap-2",onClick:()=>{},style:{display:"none"},children:[n.jsx(Sn,{size:16}),"New Lead"]})]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:M.map(D=>n.jsx(He,{className:"overflow-hidden rounded-3xl border border-primary-100/60 bg-white/95 shadow-md",children:n.jsxs(Ve,{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${D.gradient} shadow-sm`,children:D.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-primary-500",children:D.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-primary-900",children:D.value}),n.jsx("p",{className:"text-xs text-primary-400",children:D.subtitle})]})]})},D.label))}),n.jsx(He,{className:"rounded-3xl border border-primary-100/60 bg-white/95 shadow-lg",children:n.jsxs(Ve,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-primary-100 bg-primary-50/60 px-4 py-2",children:[n.jsx(An,{size:18,className:"text-primary-400"}),n.jsx("input",{value:o,onChange:D=>c(D.target.value),placeholder:"Search users, email, or phone...",className:"flex-1 border-none bg-transparent text-sm text-primary-900 placeholder-orange-300 outline-none"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["All","New","Contacted","Converted","Lost"].map(D=>n.jsxs("button",{onClick:()=>u(D),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${d===D?"border-primary-500 bg-primary-50 text-primary-600 shadow-sm":"border-primary-100 bg-white text-primary-400 hover:border-primary-200"}`,children:[n.jsx(o0,{size:14}),D==="All"?"All Leads":`${D} Leads`]},D))})]}),n.jsx("div",{className:"overflow-hidden rounded-2xl border border-primary-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-primary-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-primary-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),n.jsx("th",{className:"px-6 py-4",children:"Added Date"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:p?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(ra,{className:"w-8 h-8 animate-spin text-primary-400"})})})}):z.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-primary-400",children:"No leads found for the current filters."})}):z.map(D=>n.jsxs("tr",{className:"transition-colors hover:bg-primary-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(Lt,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-primary-900",children:D.ownerName}),n.jsx("p",{className:"text-xs text-primary-400",children:D.email}),n.jsx("p",{className:"text-xs text-primary-400",children:D.phone})]})]})}),n.jsx("td",{className:"px-6 py-4",children:D.cartItems&&D.cartItems.length>0?n.jsxs("div",{className:"space-y-1",children:[D.cartItems.slice(0,3).map((ee,oe)=>n.jsxs("div",{className:"text-xs text-primary-700",children:[ee.medicine_name||ee.medicineName||"Item",ee.quantity&&` x${ee.quantity}`]},oe)),D.cartItems.length>3&&n.jsxs("div",{className:"text-xs text-primary-400",children:["+",D.cartItems.length-3," more"]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"No items"})}),n.jsx("td",{className:"px-6 py-4",children:D.cartTotal!==null&&D.cartTotal!==void 0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",D.cartTotal.toFixed(2)]}),D.cartDiscount&&D.cartDiscount>0&&n.jsxs("p",{className:"text-xs text-primary-400",children:["Discount: ",D.cartDiscount.toFixed(2)]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-primary-600",children:D.cartCreatedAt?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vr,{size:14}),n.jsx("span",{children:new Date(D.cartCreatedAt).toLocaleDateString()})]}),D.cartUpdatedAt&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-400",children:[n.jsx(Lr,{size:12}),n.jsxs("span",{children:["Updated: ",new Date(D.cartUpdatedAt).toLocaleDateString()]})]})]}):n.jsx("span",{className:"text-primary-300",children:new Date(D.createdAt).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Zs[D.status]?.badge||Zs.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Zs[D.status]?.dot||Zs.New.dot}`}),D.status]}),D.assigned_admin_name&&n.jsxs("div",{className:"text-xs text-primary-500",children:["Assigned to: ",D.assigned_admin_name]})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsxs("button",{onClick:()=>s(D),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(Ea,{size:14})]}),n.jsx("button",{onClick:()=>L(D.id),className:"inline-flex items-center gap-2 rounded-full border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-500 shadow-sm transition-all hover:bg-red-50",children:n.jsx(ds,{size:14})})]})})]},D.id))})]})})]})})]}),n.jsx(OJ,{lead:a,onClose:()=>s(null),onUpdate:I,showHistory:!0}),y&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:()=>N(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(yt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(wa,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Admin Management"}),n.jsx("p",{className:"text-sm text-primary-100/90",children:"Create and manage lead admin users"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Create New Lead Admin"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Username *"}),n.jsx("input",{type:"text",value:C.username,onChange:D=>E({...C,username:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Password *"}),n.jsx("input",{type:"password",value:C.password,onChange:D=>E({...C,password:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Full Name"}),n.jsx("input",{type:"text",value:C.full_name,onChange:D=>E({...C,full_name:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email"}),n.jsx("input",{type:"email",value:C.email,onChange:D=>E({...C,email:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone"}),n.jsx("input",{type:"tel",value:C.phone,onChange:D=>E({...C,phone:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsx("button",{onClick:U,disabled:!C.username||!C.password,className:"mt-4 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Admin"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Existing Lead Admins"}),n.jsx("div",{className:"space-y-2",children:j.map(D=>n.jsxs("div",{className:"rounded-xl border border-primary-100 bg-white p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-primary-900",children:D.username}),D.full_name&&n.jsx("p",{className:"text-sm text-primary-600",children:D.full_name}),D.email&&n.jsx("p",{className:"text-xs text-primary-500",children:D.email})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${D.is_active?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:D.is_active?"Active":"Inactive"})})]},D.id))})]})]})]})}),h&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:()=>v(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(yt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Sn,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Create New Lead"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Add a new user lead"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Owner Name *"}),n.jsx("input",{type:"text",value:_.ownerName,onChange:D=>S({..._,ownerName:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email *"}),n.jsx("input",{type:"email",value:_.email,onChange:D=>S({..._,email:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone *"}),n.jsx("input",{type:"tel",value:_.phone,onChange:D=>S({..._,phone:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Pet Type"}),n.jsxs("select",{value:_.petType,onChange:D=>S({..._,petType:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[n.jsx("option",{children:"Dog"}),n.jsx("option",{children:"Cat"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Service Interest"}),n.jsxs("select",{value:_.serviceInterest,onChange:D=>S({..._,serviceInterest:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Vaccination"}),n.jsx("option",{children:"Healthcare"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Location"}),n.jsx("input",{type:"text",value:_.location,onChange:D=>S({..._,location:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Date"}),n.jsx("input",{type:"date",value:_.scheduledDate,onChange:D=>S({..._,scheduledDate:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Time"}),n.jsx("input",{type:"time",value:_.scheduledTime,onChange:D=>S({..._,scheduledTime:D.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Notes"}),n.jsx("textarea",{value:_.notes,onChange:D=>S({..._,notes:D.target.value}),rows:3,className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{onClick:()=>v(!1),className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:q,disabled:!_.ownerName||!_.email||!_.phone,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Lead"})]})]})]})})]})},Kr="https://kwikmedi.mycartly.in",IJ=()=>{const{addToast:e}=Zt(),{user:t}=Cr(),[r]=M5(),a=r.get("tab")||"overview",[s,o]=g.useState(null),[c,d]=g.useState([]),[u,p]=g.useState([]),[f,h]=g.useState([]),[v,y]=g.useState([]),[N,j]=g.useState([]),[b,_]=g.useState([]),[S,C]=g.useState([]),[E,P]=g.useState(!1),[O,T]=g.useState("30d"),[U,M]=g.useState(!1),[z,I]=g.useState({full_name:"",email:"",phone_number:"",password:""}),[q,L]=g.useState(null),[D,ee]=g.useState(!1),[oe,ie]=g.useState(!1),[W,J]=g.useState(null),[ue,K]=g.useState(null),[te,ve]=g.useState({reference_number:"",notes:""}),[be,Oe]=g.useState(!1),[Me,Ne]=g.useState(!1),[F,Y]=g.useState(null),V=t?.role==="admin",re=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});g.useEffect(()=>{a==="overview"?Q():a==="settlements"?(De(),V&&tt()):a==="payouts"?ze():a==="transactions"?Pe():a==="refunds"?Te():a==="bookings"?Ie():a==="vendors"?st():a==="staff"&&V&&tt()},[a,O,V]);const Q=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const xe=new Date;let me,ot=xe.toISOString().split("T")[0];switch(O){case"7d":me=new Date(xe.setDate(xe.getDate()-7)).toISOString().split("T")[0];break;case"30d":me=new Date(xe.setDate(xe.getDate()-30)).toISOString().split("T")[0];break;case"90d":me=new Date(xe.setDate(xe.getDate()-90)).toISOString().split("T")[0];break;case"1y":me=new Date(xe.setFullYear(xe.getFullYear()-1)).toISOString().split("T")[0];break;default:me=new Date(xe.setDate(xe.getDate()-30)).toISOString().split("T")[0]}const St=await fetch(`${Kr}/api/admin/finance/gmv?date_from=${me}&date_to=${ot}`,{headers:re()});if(St.ok){const sr=await St.json();o({total_gmv:sr.total_gmv||0,period:`${me} to ${ot}`})}else{const sr=await St.json().catch(()=>({}));console.error("GMV fetch error:",St.status,sr),e(`Failed to fetch GMV data: ${sr.error?.message||St.statusText}`,"error")}}catch(R){console.error("GMV fetch exception:",R),e(`Failed to fetch GMV data: ${R instanceof Error?R.message:"Network error"}`,"error")}finally{P(!1)}},De=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const xe=await fetch(`${Kr}/api/admin/finance/settlements/pending`,{headers:re()});if(xe.ok){const me=await xe.json();console.log("Settlements data received:",me),console.log("Settlements array:",me.settlements),me.settlements&&me.settlements.length>0&&(console.log("First settlement:",me.settlements[0]),console.log("Allocation data:",{allocated_to_staff_id:me.settlements[0].allocated_to_staff_id,allocated_staff_name:me.settlements[0].allocated_staff_name,allocated_staff_email:me.settlements[0].allocated_staff_email})),d(me.settlements||[])}else{const me=await xe.json().catch(()=>({}));console.error("Settlements fetch error:",xe.status,me),e(`Failed to fetch settlements: ${me.error?.message||xe.statusText}`,"error")}}catch(R){console.error("Settlements fetch exception:",R),e(`Failed to fetch settlements: ${R instanceof Error?R.message:"Network error"}`,"error")}finally{P(!1)}},Ce=async R=>{try{const xe=await fetch(`${Kr}/api/admin/finance/settlements/vendor/${R}/bank-details`,{headers:re()});if(xe.ok){const me=await xe.json();return K(me),me}else{const me=await xe.json().catch(()=>({}));return e(`Failed to fetch bank details: ${me.error?.message||xe.statusText}`,"error"),null}}catch(xe){return console.error("Bank details fetch exception:",xe),e(`Failed to fetch bank details: ${xe instanceof Error?xe.message:"Network error"}`,"error"),null}},rt=async R=>{J(R),await Ce(R.provider_id)&&ee(!0)},fe=()=>{ee(!1),ie(!0)},de=async()=>{if(W){if(!te.reference_number.trim()){e("Please enter a reference number","error");return}Oe(!0);try{const R=await fetch(`${Kr}/api/admin/finance/settlements/process`,{method:"POST",headers:re(),body:JSON.stringify({provider_id:W.provider_id,reference_number:te.reference_number.trim(),notes:te.notes.trim()||null})});if(R.ok){const xe=await R.json();e("Settlement processed successfully","success"),ie(!1),J(null),ve({reference_number:"",notes:""}),De()}else{const xe=await R.json().catch(()=>({}));e(`Failed to process payment: ${xe.error?.message||R.statusText}`,"error")}}catch(R){console.error("Payment processing exception:",R),e(`Failed to process payment: ${R instanceof Error?R.message:"Network error"}`,"error")}finally{Oe(!1)}}},Je=async(R,xe)=>{if(!R.id){e("Cannot allocate: Settlement ID missing","error");return}try{const me=await fetch(`${Kr}/api/admin/finance/settlements/allocate`,{method:"POST",headers:re(),body:JSON.stringify({settlement_id:R.id,staff_id:xe})});if(me.ok){const ot=await me.json();e(xe?"Settlement allocated successfully":"Settlement unallocated successfully","success"),De()}else{const ot=await me.json().catch(()=>({}));e(`Failed to allocate settlement: ${ot.error?.message||me.statusText}`,"error")}}catch(me){console.error("Allocation exception:",me),e(`Failed to allocate settlement: ${me instanceof Error?me.message:"Network error"}`,"error")}},ze=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const xe=await fetch(`${Kr}/api/admin/finance/payouts`,{headers:re()});if(xe.ok){const me=await xe.json();p(me.payouts||[])}else{const me=await xe.json().catch(()=>({}));console.error("Payouts fetch error:",xe.status,me),e(`Failed to fetch payouts: ${me.error?.message||xe.statusText}`,"error")}}catch(R){console.error("Payouts fetch exception:",R),e(`Failed to fetch payouts: ${R instanceof Error?R.message:"Network error"}`,"error")}finally{P(!1)}},ce=R=>{Y(R),Ne(!0)},Pe=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const xe=await fetch(`${Kr}/api/admin/finance/transactions`,{headers:re()});if(xe.ok){const me=await xe.json();h(me.transactions||[])}else{const me=await xe.json().catch(()=>({}));console.error("Transactions fetch error:",xe.status,me),e(`Failed to fetch transactions: ${me.error?.message||xe.statusText}`,"error")}}catch(R){console.error("Transactions fetch exception:",R),e(`Failed to fetch transactions: ${R instanceof Error?R.message:"Network error"}`,"error")}finally{P(!1)}},Te=async()=>{P(!0);try{const R=await fetch(`${Kr}/api/admin/finance/refunds`,{headers:re()});if(R.ok){const xe=await R.json();y(xe.refunds||[])}}catch{e("Failed to fetch refunds","error")}finally{P(!1)}},Ae=async()=>{De()},Re=async()=>{try{const R=await fetch(`${Kr}/api/admin/finance/gst-reports?period=${O}`,{headers:re()});if(R.ok){const xe=await R.blob(),me=window.URL.createObjectURL(xe),ot=document.createElement("a");ot.href=me,ot.download=`gst-report-${O}.pdf`,document.body.appendChild(ot),ot.click(),window.URL.revokeObjectURL(me),document.body.removeChild(ot),e("GST report downloaded","success")}}catch{e("Failed to download GST report","error")}},tt=async()=>{try{const R=await fetch(`${Kr}/api/admin/finance-staff`,{headers:re()});if(R.ok){const xe=await R.json();j(xe.staff||[])}}catch{e("Failed to fetch financial staff","error")}},kt=async()=>{if(!z.full_name||!z.email||!z.phone_number){e("Please fill all required fields","error");return}P(!0);try{const R=await fetch(`${Kr}/api/admin/finance-staff`,{method:"POST",headers:re(),body:JSON.stringify(z)});if(R.ok)e("Financial staff created successfully","success"),tt(),M(!1),I({full_name:"",email:"",phone_number:"",password:""}),L(null);else{const xe=await R.json().catch(()=>({}));e(xe.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{P(!1)}},$=async()=>{if(!q||!z.email){e("Please fill all fields","error");return}P(!0);try{const R=await fetch(`${Kr}/api/admin/finance-staff/${q.id}`,{method:"PUT",headers:re(),body:JSON.stringify({email:z.email,username:z.full_name})});if(R.ok)e("Staff member updated successfully","success"),tt(),M(!1),I({full_name:"",email:"",phone_number:"",password:""}),L(null);else{const xe=await R.json().catch(()=>({}));e(xe.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{P(!1)}},_e=async R=>{if(confirm("Are you sure you want to deactivate this staff member?")){P(!0);try{const xe=await fetch(`${Kr}/api/admin/finance-staff/${R}`,{method:"DELETE",headers:re()});if(xe.ok)e("Staff member deactivated successfully","success"),tt();else{const me=await xe.json().catch(()=>({}));e(me.error?.message||"Failed to deactivate staff member","error")}}catch{e("Failed to deactivate staff member","error")}finally{P(!1)}}},Ie=async()=>{P(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),P(!1);return}const xe=await fetch(`${Kr}/api/admin/finance/bookings?date_range=${O}`,{headers:re()});if(xe.ok){const ot=(await xe.json()).bookings||[];_(ot),ot.length===0&&e("No bookings found","info")}else{const me=await xe.json().catch(()=>({}));console.error("Bookings fetch error:",xe.status,me),e(`Failed to fetch bookings: ${me.error?.message||xe.statusText}`,"error")}}catch(R){console.error("Bookings fetch exception:",R),e(`Failed to fetch bookings: ${R instanceof Error?R.message:"Network error"}`,"error")}finally{P(!1)}},st=async()=>{P(!0);try{const R=await fetch(`${Kr}/api/admin/providers`,{headers:re()});if(R.ok){const xe=await R.json(),me=xe.data||xe.providers||(Array.isArray(xe)?xe:[]);console.log("Vendors fetched:",me.length);const ot=await Promise.all(me.map(async St=>{try{const sr=await fetch(`${Kr}/api/admin/orders?provider_id=${St.id}&limit=1000`,{headers:re()});let X=0,Se=0,Ze=0;if(sr.ok){const zt=await sr.json(),pt=zt.orders||zt.data||[];console.log(`Provider ${St.id}: Fetched ${pt.length} total orders`);const Rt=["confirmed","packed","out_for_delivery","delivered","shipment"],$r=pt.filter(zr=>Rt.includes(zr.status));console.log(`Provider ${St.id}: Found ${$r.length} completed orders (statuses: ${Rt.join(", ")})`),Se=$r.length,$r.forEach(zr=>{const Or=parseFloat(zr.total_amount||0);!isNaN(Or)&&Or>0&&(X+=Or),(zr.items||[]).forEach(la=>{const Wn=parseInt(la.quantity||0);!isNaN(Wn)&&Wn>0&&(Ze+=Wn)})})}return{...St,total_revenue:X,total_orders:Se,total_products_sold:Ze}}catch(sr){return console.error(`Error fetching sales for provider ${St.id}:`,sr),{...St,total_revenue:0,total_orders:0,total_products_sold:0}}}));C(ot)}else{const xe=await R.json().catch(()=>({}));console.error("Vendors fetch error:",R.status,xe),e(`Failed to fetch vendors: ${xe.error?.message||R.statusText}`,"error")}}catch(R){console.error("Vendors fetch exception:",R),e(`Failed to fetch vendors: ${R instanceof Error?R.message:"Network error"}`,"error")}finally{P(!1)}};return n.jsxs(hr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage GMV, settlements, payouts, GST reports, and financial transactions."})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("select",{value:O,onChange:R=>T(R.target.value),className:"px-3 py-2 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"})]})})]}),E?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[a==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(He,{children:[n.jsx(ct,{children:n.jsxs(dt,{className:"flex items-center gap-2",children:[n.jsx(cs,{className:"text-primary",size:20}),"Total GMV"]})}),n.jsxs(Ve,{children:[n.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",s?.total_gmv?.toLocaleString()||"0"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Period: ",O]})]})]}),n.jsxs(He,{children:[n.jsx(ct,{children:n.jsxs(dt,{className:"flex items-center gap-2",children:[n.jsx(mn,{className:"text-primary",size:20}),"Pending Settlements"]})}),n.jsxs(Ve,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:c.filter(R=>R.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Awaiting processing"})]})]}),n.jsxs(He,{children:[n.jsx(ct,{children:n.jsxs(dt,{className:"flex items-center gap-2",children:[n.jsx(ls,{className:"text-primary",size:20}),"Pending Payouts"]})}),n.jsxs(Ve,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:u.filter(R=>R.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Ready for execution"})]})]})]}),a==="settlements"&&n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[n.jsx(dt,{children:"Settlements"}),n.jsxs("button",{onClick:Ae,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]}),n.jsx(Ve,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),V&&n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Allocated To"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:c.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:V?6:5,className:"px-4 py-8 text-center text-gray-500",children:"No pending settlements found"})}):c.map((R,xe)=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:R.provider_name}),R.orders&&R.orders.length>0&&n.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[R.orders.length," order(s)"]}),R.orders.some(me=>me.order_status==="shipment")&&n.jsxs("span",{className:"text-xs text-primary font-medium",children:[R.orders.filter(me=>me.order_status==="shipment").length," shipped"]}),R.orders.some(me=>me.order_status==="delivered")&&n.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[R.orders.filter(me=>me.order_status==="delivered").length," delivered"]})]})]})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",R.settlement_amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="paid"?"bg-green-100 text-green-800":R.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:R.status})}),V&&n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[n.jsxs("select",{value:R.allocated_to_staff_id||"",onChange:me=>{const ot=me.target.value?parseInt(me.target.value):null;Je(R,ot)},className:"px-2 py-1 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary min-w-[150px]",children:[n.jsx("option",{value:"",children:"Not allocated"}),N.map(me=>n.jsx("option",{value:me.id,children:me.username||me.email},me.id))]}),R.allocated_staff_email&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:R.allocated_staff_email})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:R.period_from?`${new Date(R.period_from).toLocaleDateString()} - ${new Date(R.period_to||R.period_from).toLocaleDateString()}`:new Date(R.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex gap-2",children:[R.status==="pending"&&n.jsx("button",{onClick:()=>rt(R),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"Process Payment"}),R.orders&&R.orders.length>0&&n.jsxs("button",{onClick:()=>{const me=R.orders?.map(ot=>{const St=ot.order_status||"unknown",sr=St==="shipment"?ot.shipped_at:ot.delivered_at,X=St==="shipment"?"Shipped":"Delivered";return`Order #${ot.order_id}: ${ot.order_amount.toLocaleString()}
  Status: ${St}
  ${X} At: ${sr||"N/A"}
  Shipped by: ${ot.shipping_provider_name||"N/A"}
  Settlement: ${ot.settlement_amount.toLocaleString()}`}).join(`

`);alert(`Order Details:

${me}`)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",title:"View order details",children:["View Orders (",R.orders.length,")"]})]})})]},R.id||`settlement-${xe}`))})]})})})]}),a==="payouts"&&n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[n.jsx(dt,{children:"Payouts"}),n.jsxs("button",{onClick:ze,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]}),n.jsx(Ve,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Processed At"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:u.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No payouts found"})}):u.map(R=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:R.vendor_name}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",R.amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="completed"?"bg-green-100 text-green-800":R.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:R.processed_at?new Date(R.processed_at).toLocaleDateString():R.executed_at?new Date(R.executed_at).toLocaleDateString():"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:()=>ce(R),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"View Details"})})]},R.id))})]})})})]}),a==="gst"&&n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[n.jsx(dt,{children:"GST Reports"}),n.jsxs("button",{onClick:Re,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(DS,{size:18}),"Download Report"]})]}),n.jsx(Ve,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ya,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Generate and download GST compliance reports"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Select date range and click Download Report"})]})})]}),a==="transactions"&&n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[n.jsx(dt,{children:"All Transactions"}),n.jsxs("button",{onClick:Pe,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]}),n.jsx(Ve,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Method"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Razorpay Payment ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:f.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No transactions found"})}):f.map(R=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm font-medium capitalize",children:R.transaction_type?.replace("_"," ")||"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:R.user_name||"N/A"}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",R.final_amount?.toLocaleString()||R.amount.toLocaleString(),R.discount_amount&&R.discount_amount>0&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(Discount: ",R.discount_amount.toLocaleString(),")"]})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 capitalize",children:R.payment_method||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 font-mono",children:R.razorpay_payment_id?n.jsx("span",{className:"text-xs",children:R.razorpay_payment_id}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="paid"?"bg-green-100 text-green-800":R.status==="failed"?"bg-red-100 text-red-800":R.status==="requested"?"bg-yellow-100 text-yellow-800":R.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:R.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(R.created_at).toLocaleString()})]},R.id))})]})})})]}),a==="refunds"&&n.jsxs(He,{children:[n.jsx(ct,{children:n.jsx(dt,{children:"Refunds"})}),n.jsx(Ve,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Order ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Reason"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),V&&n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Allocated To"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:v.map(R=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsxs("td",{className:"px-4 py-3",children:["#",R.order_id]}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",R.amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:R.reason}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="processed"?"bg-secondary text-primary":"bg-primary/20 text-primary"}`,children:R.status})}),V&&n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:R.allocated_staff_name?n.jsx("span",{className:"text-primary",children:R.allocated_staff_name}):n.jsx("span",{className:"text-gray-400",children:"Not allocated"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(R.created_at).toLocaleDateString()})]},R.id))})]})})})]}),a==="bookings"&&n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[n.jsx(dt,{children:"All Bookings"}),n.jsxs("button",{onClick:Ie,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]}),n.jsx(Ve,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Shipping Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Settlement"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:b.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No bookings found"})}):b.map(R=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsxs("td",{className:"px-4 py-3",children:["#",R.id]}),n.jsx("td",{className:"px-4 py-3",children:R.user_name||R.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3",children:R.provider_name||"Unassigned"}),n.jsx("td",{className:"px-4 py-3",children:R.shipping_provider_name?n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:R.shipping_provider_name}),R.shipment_status&&n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:R.shipment_status})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",(R.payment_amount||R.total_amount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:R.settlement_amount>0?n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-medium text-green-600",children:["",R.settlement_amount.toLocaleString()]}),R.commission>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Commission: ",R.commission.toLocaleString()]})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.payment_status==="paid"?"bg-green-100 text-green-800":R.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:R.payment_status||"pending"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="completed"||R.status==="delivered"?"bg-green-100 text-green-800":R.status==="shipment"?"bg-blue-100 text-blue-800":R.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status||"pending"}),R.status==="shipment"&&R.shipped_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Shipped: ",new Date(R.shipped_at).toLocaleDateString()]}),R.status==="delivered"&&R.delivered_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Delivered: ",new Date(R.delivered_at).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(R.created_at||R.booking_date).toLocaleDateString()})]},R.id))})]})})})]}),a==="vendors"&&n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between",children:[n.jsx(dt,{children:"Vendors & Sales Data"}),n.jsxs("button",{onClick:st,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]}),n.jsx(Ve,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Phone"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Orders"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Products Sold"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"})]})}),n.jsx("tbody",{children:S.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No vendors found"})}):S.map(R=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3 font-medium",children:R.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:R.email||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:R.phone_number||"N/A"}),n.jsx("td",{className:"px-4 py-3 font-medium",children:R.total_orders||0}),n.jsx("td",{className:"px-4 py-3 font-medium",children:R.total_products_sold||0}),n.jsxs("td",{className:"px-4 py-3 font-medium text-primary",children:["",(R.total_revenue||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R.status==="approved"?"bg-green-100 text-green-800":R.status==="suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:R.status||"pending"})})]},R.id))})]})})})]}),a==="staff"&&V&&n.jsxs(He,{children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(dt,{children:"Financial Staff Management"}),n.jsxs("button",{onClick:()=>{L(null),I({full_name:"",email:"",phone_number:"",password:""}),M(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(Sn,{size:18}),"Add Staff"]})]})}),n.jsx(Ve,{children:N.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No financial staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(R=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",children:R.username||R.email}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:R.status||"active"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:R.email}),n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Created: ",new Date(R.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{L(R),I({full_name:R.username||"",email:R.email,phone_number:"",password:""}),M(!0)},className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>_e(R.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(ds,{size:14})})]})]},R.id))})})]})]})]}),U&&V&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(He,{className:"w-full max-w-md mx-4",children:[n.jsx(ct,{children:n.jsx(dt,{children:q?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:z.full_name,onChange:R=>I({...z,full_name:R.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:z.email,onChange:R=>I({...z,email:R.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:z.phone_number,onChange:R=>I({...z,phone_number:R.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!q&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:z.password||"",onChange:R=>I({...z,password:R.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{M(!1),I({full_name:"",email:"",phone_number:"",password:""}),L(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:q?$:kt,disabled:E||!z.full_name||!z.email||!z.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:E?"Saving...":q?"Update":"Create"})]})]})]})}),D&&ue&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Bank Details"}),n.jsx("button",{onClick:()=>{ee(!1),K(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900",children:ue.vendor_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Holder Name"}),n.jsx("p",{className:"text-gray-900",children:ue.account_holder_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank Name"}),n.jsx("p",{className:"text-gray-900",children:ue.bank_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Number"}),n.jsx("p",{className:"text-gray-900",children:ue.account_number||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IFSC Code"}),n.jsx("p",{className:"text-gray-900",children:ue.ifsc_code||"N/A"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{ee(!1),K(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),n.jsx("button",{onClick:fe,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Payment Complete"})]})]})]})}),oe&&W&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payment Complete"}),n.jsx("button",{onClick:()=>{ie(!1),J(null),ve({reference_number:"",notes:""})},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reference Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:te.reference_number,onChange:R=>ve({...te,reference_number:R.target.value}),placeholder:"Enter payment reference number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:te.notes,onChange:R=>ve({...te,notes:R.target.value}),placeholder:"Add any additional notes (optional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{ie(!1),J(null),ve({reference_number:"",notes:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:be,children:"Cancel"}),n.jsx("button",{onClick:de,disabled:be||!te.reference_number.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:be?"Processing...":"Done"})]})]})]})}),Me&&F&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payout Details"}),n.jsx("button",{onClick:()=>{Ne(!1),Y(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:F.vendor_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payout Amount"}),n.jsxs("p",{className:"text-gray-900 font-semibold text-lg",children:["",F.amount.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${F.status==="completed"?"bg-green-100 text-green-800":F.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:F.status})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Processed At"}),n.jsx("p",{className:"text-gray-900",children:F.processed_at?new Date(F.processed_at).toLocaleString():F.executed_at?new Date(F.executed_at).toLocaleString():"-"})]})]}),F.settlement_amount!==void 0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Settlement Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Settlement Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",F.settlement_amount.toLocaleString()]})]}),F.commission_amount!==void 0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Commission Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",F.commission_amount.toLocaleString()]})]}),F.period_from&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period"}),n.jsxs("p",{className:"text-gray-900",children:[new Date(F.period_from).toLocaleDateString()," - ",new Date(F.period_to||F.period_from).toLocaleDateString()]})]})]})]}),(F.reference_number||F.notes)&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Details"}),n.jsxs("div",{className:"space-y-3",children:[F.reference_number&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reference Number"}),n.jsx("p",{className:"text-gray-900",children:F.reference_number})]}),F.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:F.notes})]}),F.transaction_id&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transaction ID"}),n.jsx("p",{className:"text-gray-900",children:F.transaction_id})]})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(F.created_at).toLocaleString()})]})}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>{Ne(!1),Y(null)},className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Close"})})]})]})})]})},Vu="https://kwikmedi.mycartly.in",MJ=()=>{const{addToast:e}=Zt(),{user:t}=Cr(),[r,a]=g.useState([]),[s,o]=g.useState(!1),[c,d]=g.useState(""),[u,p]=g.useState(!1),[f,h]=g.useState({full_name:"",email:"",phone_number:"",password:""}),[v,y]=g.useState(null),N=t?.role==="admin",j=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});g.useEffect(()=>{b()},[]);const b=async()=>{o(!0);try{const P=await fetch(`${Vu}/api/admin/finance-staff`,{headers:j()});if(P.ok){const O=await P.json();a(O.staff||[])}else e("Failed to fetch financial staff","error")}catch{e("Failed to fetch financial staff","error")}finally{o(!1)}},_=async()=>{if(!f.full_name||!f.email||!f.phone_number){e("Please fill all required fields","error");return}o(!0);try{const P=await fetch(`${Vu}/api/admin/finance-staff`,{method:"POST",headers:j(),body:JSON.stringify(f)});if(P.ok)e("Financial staff created successfully","success"),b(),p(!1),h({full_name:"",email:"",phone_number:"",password:""}),y(null);else{const O=await P.json().catch(()=>({}));e(O.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{o(!1)}},S=async()=>{if(!v||!f.email){e("Please fill all fields","error");return}o(!0);try{const P=await fetch(`${Vu}/api/admin/finance-staff/${v.id}`,{method:"PUT",headers:j(),body:JSON.stringify({email:f.email,username:f.full_name,phone_number:f.phone_number})});if(P.ok)e("Staff member updated successfully","success"),b(),p(!1),h({full_name:"",email:"",phone_number:"",password:""}),y(null);else{const O=await P.json().catch(()=>({}));e(O.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{o(!1)}},C=async P=>{if(confirm("Are you sure you want to deactivate this staff member?")){o(!0);try{const O=await fetch(`${Vu}/api/admin/finance-staff/${P}`,{method:"DELETE",headers:j()});if(O.ok)e("Staff member deactivated successfully","success"),b();else{const T=await O.json().catch(()=>({}));e(T.error?.message||"Failed to deactivate staff member","error")}}catch{e("Failed to deactivate staff member","error")}finally{o(!1)}}},E=r.filter(P=>P.username?.toLowerCase().includes(c.toLowerCase())||P.email?.toLowerCase().includes(c.toLowerCase()));return n.jsx(hr,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Staff Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage finance staff who will handle your finance panel"})]}),N&&n.jsxs("button",{onClick:()=>{y(null),h({full_name:"",email:"",phone_number:"",password:""}),p(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Sn,{size:18}),"Add Finance Staff"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:c,onChange:P=>d(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("button",{onClick:b,className:"px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Staff: ",n.jsx("span",{className:"font-semibold text-primary",children:E.length})]})]}),s&&r.length===0?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):E.length===0?n.jsx(He,{children:n.jsxs(Ve,{className:"py-12 text-center",children:[n.jsx(Lt,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("p",{className:"text-gray-500 text-lg mb-2",children:c?"No staff members found matching your search":"No financial staff members yet"}),N&&!c&&n.jsxs("button",{onClick:()=>{y(null),h({full_name:"",email:"",phone_number:"",password:""}),p(!0)},className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors inline-flex items-center gap-2",children:[n.jsx(Sn,{size:18}),"Add Your First Finance Staff"]})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(P=>n.jsx(He,{className:"hover:shadow-lg transition-shadow",children:n.jsxs(Ve,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Lt,{className:"text-primary",size:24})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",children:P.username||P.email}),n.jsx("p",{className:"text-sm text-gray-600",children:P.email})]})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:P.status||"active"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Role:"}),n.jsx("span",{className:"font-medium",children:P.role_type||"Finance Admin"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:new Date(P.created_at).toLocaleDateString()})]})]}),N&&n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-primary/10",children:[n.jsxs("button",{onClick:()=>{y(P),h({full_name:P.username||"",email:P.email,phone_number:"",password:""}),p(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark transition-colors flex items-center justify-center gap-2",children:[n.jsx($S,{size:14}),"Edit"]}),n.jsx("button",{onClick:()=>C(P.id),className:"px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 transition-colors flex items-center justify-center",children:n.jsx(ds,{size:14})})]})]})},P.id))}),u&&N&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(He,{className:"w-full max-w-md mx-4",children:[n.jsx(ct,{children:n.jsx(dt,{children:v?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",value:f.full_name,onChange:P=>h({...f,full_name:P.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:f.email,onChange:P=>h({...f,email:P.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:f.phone_number,onChange:P=>h({...f,phone_number:P.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!v&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:f.password||"",onChange:P=>h({...f,password:P.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{p(!1),h({full_name:"",email:"",phone_number:"",password:""}),y(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:v?S:_,disabled:s||!f.full_name||!f.email||!f.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:s?"Saving...":v?"Update":"Create"})]})]})]})})]})})},DJ={},rr="https://kwikmedi.mycartly.in",LJ=DJ?.VITE_BACKEND_BASE_URL||"https://kwikmedi.mycartly.in",hc=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${LJ}${r}`},Rx=e=>{if(!e)return null;try{if(Array.isArray(e))return e.length>0?hc(e[0]):null;if(typeof e=="string"&&e.startsWith("[")&&e.endsWith("]")){const t=JSON.parse(e);if(Array.isArray(t)&&t.length>0)return hc(t[0])}if(typeof e=="string"&&e.includes(",")){const t=e.split(",").map(r=>r.trim());if(t.length>0)return hc(t[0])}return hc(e)}catch{return hc(e)}},$J=()=>{const{addToast:e}=Zt(),{user:t}=Cr(),[r,a]=g.useState([]),[s,o]=g.useState([]),[c,d]=g.useState([]),[u,p]=g.useState(!1),[f,h]=g.useState(!1),[v,y]=g.useState("prescriptions"),N=t?.role==="admin",[j,b]=g.useState(""),[_,S]=g.useState("all"),[C,E]=g.useState(null),[P,O]=g.useState(null),[T,U]=g.useState(!1),[M,z]=g.useState(""),[I,q]=g.useState(!1),[L,D]=g.useState(!1),[ee,oe]=g.useState(!1),[ie,W]=g.useState(!1),[J,ue]=g.useState(!1),[K,te]=g.useState([]),[ve,be]=g.useState([]),[Oe,Me]=g.useState(!1),[Ne,F]=g.useState({}),[Y,V]=g.useState(null),[re,Q]=g.useState({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),[De,Ce]=g.useState(null),rt=g.useRef(null),fe=g.useRef(null),de=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});g.useEffect(()=>(v==="prescriptions"?Je():v==="orders"&&st(),N&&ze(),ce(),fe.current=window.setInterval(()=>{ce(!0)},5e3),()=>{fe.current&&window.clearInterval(fe.current)}),[_,N,v]);const Je=async()=>{p(!0);try{const X=t?.role||"",Se=X==="helping_staff"||X==="helping_staff_admin";let Ze;Se?Ze=_==="all"?`${rr}/api/admin/helping-staff/prescriptions`:`${rr}/api/admin/helping-staff/prescriptions?status=${_}`:Ze=_==="all"?`${rr}/api/admin/prescriptions`:`${rr}/api/admin/prescriptions?status=${_}`;const zt=de();console.log("Fetching prescriptions from:",Ze),console.log("User role:",t?.role,"isHelpingStaff:",Se);const pt=await fetch(Ze,{headers:zt});if(console.log("Response status:",pt.status),pt.ok){const Rt=await pt.json();console.log("Fetched prescriptions:",Rt),a(Rt.prescriptions||[])}else if(pt.status===404)if(Se){console.log("Helping staff endpoint not found, trying admin endpoint");const Rt=_==="all"?`${rr}/api/admin/prescriptions`:`${rr}/api/admin/prescriptions?status=${_}`,$r=await fetch(Rt,{headers:zt});if($r.ok){const zr=await $r.json();a(zr.prescriptions||[])}else a([])}else a([]);else if(pt.status===401){const Rt=await pt.json().catch(()=>({}));console.error("Authentication failed:",Rt),e("Authentication failed. Please log in again.","error"),a([])}else{const Rt=await pt.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",pt.status,Rt),e(Rt.error?.message||`Failed to fetch prescriptions (${pt.status})`,"error"),a([])}}catch(X){console.error("Error fetching prescriptions:",X),e(X?.message||"Failed to fetch prescriptions. Please check your connection.","error"),a([])}finally{p(!1)}},ze=async()=>{try{const X=await fetch(`${rr}/api/admin/helping-staff`,{headers:de()});if(X.ok){const Se=await X.json();console.log("Fetched staff members:",Se),o(Se.staff||[])}else{const Se=await X.json().catch(()=>({}));console.error("Failed to fetch staff members:",Se),o([])}}catch(X){console.error("Error fetching staff members:",X),o([])}},ce=async(X=!1,Se=!1)=>{try{const Ze=Se||J?`${rr}/api/admin/helping-staff/notifications`:`${rr}/api/admin/helping-staff/notifications?unread_only=true`,zt=await fetch(Ze,{headers:de()});if(zt.ok){const $r=((await zt.json()).notifications||[]).filter((Or,nn,la)=>nn===la.findIndex(Wn=>Wn.id===Or.id)),zr=K.filter(Or=>Or.status==="sent").length;if(!X){const Or=$r.filter(nn=>nn.status==="sent").length;if(Or>zr){if(rt.current)try{rt.current.currentTime=0,await rt.current.play()}catch(la){console.log("Audio play failed:",la)}const nn=Or-zr;e(`${nn} new notification${nn>1?"s":""}!`,"success")}}te($r)}}catch(Ze){console.error("Failed to fetch notifications",Ze)}},Pe=async(X,Se)=>{try{(await fetch(`${rr}/api/admin/helping-staff/notifications/${X}/read`,{method:"PUT",headers:de()})).ok&&(te(zt=>zt.map(pt=>pt.id===X?{...pt,status:"read",read_at:new Date().toISOString()}:pt)),Se&&(v!=="orders"?(y("orders"),await st()):c.length===0&&await st(),setTimeout(()=>{const zt=document.getElementById(`order-${Se}`);zt?(zt.scrollIntoView({behavior:"smooth",block:"center"}),zt.classList.add("ring-4","ring-primary"),setTimeout(()=>{zt.classList.remove("ring-4","ring-primary")},2e3)):setTimeout(()=>{const pt=document.getElementById(`order-${Se}`);pt&&(pt.scrollIntoView({behavior:"smooth",block:"center"}),pt.classList.add("ring-4","ring-primary"),setTimeout(()=>{pt.classList.remove("ring-4","ring-primary")},2e3))},1e3)},500)))}catch(Ze){console.error("Failed to mark notification as read",Ze),e("Failed to mark notification as read","error")}},Te=async()=>{try{(await fetch(`${rr}/api/admin/helping-staff/notifications/read-all`,{method:"PUT",headers:de()})).ok&&(te(Se=>Se.map(Ze=>({...Ze,status:"read",read_at:Ze.read_at||new Date().toISOString()}))),e("All notifications marked as read","success"))}catch(X){console.error("Failed to mark all notifications as read",X),e("Failed to mark all notifications as read","error")}};g.useEffect(()=>{J&&(async()=>{try{const Se=await fetch(`${rr}/api/admin/helping-staff/notifications`,{headers:de()});if(Se.ok){const pt=((await Se.json()).notifications||[]).filter((Rt,$r,zr)=>$r===zr.findIndex(Or=>Or.id===Rt.id));te(pt)}}catch(Se){console.error("Failed to fetch all notifications",Se)}})()},[J]);const Ae=async()=>{if(!re.full_name||!re.email||!re.phone_number){e("Please fill all required fields","error");return}p(!0);try{const X=await fetch(`${rr}/api/admin/helping-staff`,{method:"POST",headers:de(),body:JSON.stringify(re)});if(X.ok)e("Staff member created successfully","success"),ze(),W(!1),Q({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),Ce(null);else{const Se=await X.json().catch(()=>({}));e(Se.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{p(!1)}},Re=async()=>{if(!De||!re.full_name||!re.email||!re.phone_number){e("Please fill all fields","error");return}p(!0);try{const X=await fetch(`${rr}/api/admin/helping-staff/${De.id}`,{method:"PUT",headers:de(),body:JSON.stringify(re)});if(X.ok)e("Staff member updated successfully","success"),ze(),W(!1),Q({full_name:"",email:"",phone_number:"",drug_license:""}),Ce(null);else{const Se=await X.json().catch(()=>({}));e(Se.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{p(!1)}},tt=async X=>{if(confirm("Are you sure you want to delete this staff member?")){p(!0);try{const Se=await fetch(`${rr}/api/admin/helping-staff/${X}`,{method:"DELETE",headers:de()});if(Se.ok)e("Staff member deleted successfully","success"),ze();else{const Ze=await Se.json().catch(()=>({}));e(Ze.error?.message||"Failed to delete staff member","error")}}catch{e("Failed to delete staff member","error")}finally{p(!1)}}},kt=X=>{X?(Ce(X),Q({full_name:X.full_name,email:X.email,phone_number:X.phone_number||"",drug_license:X.drug_license||"",password:""})):(Ce(null),Q({full_name:"",email:"",phone_number:"",drug_license:"",password:""})),W(!0)},$=async(X,Se)=>{p(!0);try{(await fetch(`${rr}/api/admin/prescription/assign`,{method:"PUT",headers:de(),body:JSON.stringify({prescription_id:X,staff_id:Se})})).ok?(e("Prescription assigned successfully","success"),Je(),oe(!1),E(null)):e("Failed to assign prescription","error")}catch{e("Failed to assign prescription","error")}finally{p(!1)}},_e=async X=>{Me(!0);try{const Se=await fetch(`${rr}/api/admin/prescription/${X}/medicine-list`,{headers:de()});if(Se.ok){const Ze=await Se.json();be(Ze.medicines||[]),F({})}else{const Ze=await Se.json().catch(()=>({}));e(Ze.error?.message||"Failed to fetch medicine list","error")}}catch{e("Failed to fetch medicine list","error")}finally{Me(!1)}},Ie=async X=>{p(!0);try{if(Object.keys(Ne).length!==ve.length){e(`Please approve or reject all ${ve.length} medicines`,"error"),p(!1);return}const Se=await fetch(`${rr}/api/admin/prescription/${X}/approve-medicines`,{method:"POST",headers:de(),body:JSON.stringify({medicine_approvals:Ne})});if(Se.ok)e("Prescription medicines approved and released to vendors","success"),Je(),D(!1),E(null),be([]),F({});else{const Ze=await Se.json().catch(()=>({}));e(Ze.error?.message||"Failed to approve medicines","error")}}catch{e("Failed to approve medicines","error")}finally{p(!1)}},st=async()=>{h(!0);try{const X=await fetch(`${rr}/api/admin/helping-staff/orders/pending-approval`,{headers:de()});if(X.ok){const Se=await X.json();d(Se.orders||[])}else{const Se=await X.json().catch(()=>({}));console.error("Failed to fetch pending orders:",Se),e(Se.error?.message||"Failed to fetch pending orders","error"),d([])}}catch(X){console.error("Error fetching pending orders:",X),e(X?.message||"Failed to fetch pending orders","error"),d([])}finally{h(!1)}},[R,xe]=g.useState({}),me=async X=>{h(!0);try{const Se=await fetch(`${rr}/api/admin/helping-staff/orders/${X}/approve`,{method:"POST",headers:de(),body:JSON.stringify({medicine_approvals:R})});if(Se.ok)e("Order approved successfully","success"),st(),U(!1),O(null),xe({});else{const Ze=await Se.json().catch(()=>({}));e(Ze.error?.message||"Failed to approve order","error")}}catch(Se){console.error("Error approving order:",Se),e("Failed to approve order","error")}finally{h(!1)}},ot=async(X,Se)=>{h(!0);try{const Ze=await fetch(`${rr}/api/admin/helping-staff/orders/${X}/reject`,{method:"POST",headers:de(),body:JSON.stringify({reason:Se})});if(Ze.ok)e("Order rejected successfully","success"),st(),U(!1),q(!1),O(null),z("");else{const zt=await Ze.json().catch(()=>({}));e(zt.error?.message||"Failed to reject order","error")}}catch(Ze){console.error("Error rejecting order:",Ze),e("Failed to reject order","error")}finally{h(!1)}},St=X=>({uploaded:"bg-secondary text-primary border border-primary/20",assigned:"bg-primary/20 text-primary",digitized:"bg-secondary text-primary border border-primary/20",released_to_vendor:"bg-primary/20 text-primary",fulfilled:"bg-secondary text-primary border border-primary/20",rejected:"bg-primary/20 text-primary"})[X]||"bg-primary/20 text-primary",sr=r.filter(X=>X.user_name?.toLowerCase().includes(j.toLowerCase())||X.id.toString().includes(j));return n.jsx(hr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helping Staff Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage prescription processing, assignment, and digitization."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>ue(!J),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2 relative",children:[n.jsx(_c,{size:18}),"Notifications",K.filter(X=>X.status==="sent").length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:K.filter(X=>X.status==="sent").length})]}),N&&n.jsxs("button",{onClick:()=>kt(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(Sn,{size:18}),"Add Staff"]}),n.jsxs("button",{onClick:()=>{v==="prescriptions"?Je():st()},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]})]}),n.jsxs("div",{className:"flex gap-2 border-b border-primary/20",children:[n.jsxs("button",{onClick:()=>y("prescriptions"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${v==="prescriptions"?"border-primary text-primary":"border-transparent text-gray-600 hover:text-primary"}`,children:[n.jsx(ya,{size:18}),"Prescriptions"]}),n.jsxs("button",{onClick:()=>y("orders"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium border-b-2 transition-colors ${v==="orders"?"border-primary text-primary":"border-transparent text-gray-600 hover:text-primary"}`,children:[n.jsx(Ya,{size:18}),"Orders Pending Approval",c.length>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:c.length})]})]}),J&&n.jsxs(He,{className:"mb-6",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(dt,{children:"Notifications"}),K.filter(X=>X.status==="sent").length>0&&n.jsxs("span",{className:"text-sm text-gray-500",children:[K.filter(X=>X.status==="sent").length," unread"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[K.filter(X=>X.status==="sent").length>0&&n.jsx("button",{onClick:Te,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all as read"}),n.jsx("button",{onClick:()=>ue(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(yt,{size:20})})]})]})}),n.jsx(Ve,{children:K.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notifications"}):n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:K.map((X,Se)=>{const Ze=X.status==="sent";return n.jsx("div",{onClick:()=>Pe(X.id,X.order_id),className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ze?"bg-primary/5 border-primary/20 hover:bg-primary/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:X.title}),Ze&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:X.message}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(X.created_at).toLocaleString()})]})})},`notification-${X.id}-${X.created_at||Se}`)})})})]}),N&&n.jsxs(He,{className:"mb-6",children:[n.jsx(ct,{children:n.jsx(dt,{children:"Staff Members"})}),n.jsx(Ve,{children:s.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(X=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",children:X.full_name}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${X.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:X.status||"active"})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:X.email}),X.phone_number&&n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:X.phone_number}),X.pending_prescriptions_count!==void 0&&n.jsxs("p",{className:"text-xs text-primary mb-2",children:["Pending: ",X.pending_prescriptions_count]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>kt(X),className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>tt(X.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(ds,{size:14})})]})]},X.id))})})]}),v==="prescriptions"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user name or prescription ID...",value:j,onChange:X=>b(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:_,onChange:X=>S(X.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:sr.map(X=>n.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(dt,{className:"text-lg",children:["Prescription #",X.id]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${St(X.status)}`,children:X.status==="digitized"?"Approved":X.status.replace("_"," ")})]})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Lt,{size:16,className:"text-primary"}),n.jsx("span",{children:X.user_name||`User #${X.user_id}`})]}),X.assigned_staff_name&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Assigned to: ",X.assigned_staff_name]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Lr,{size:14}),new Date(X.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[X.status==="uploaded"&&n.jsxs("button",{onClick:()=>{E(X),oe(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Lt,{size:14}),"Assign"]}),X.status==="assigned"&&n.jsxs("button",{onClick:()=>{E(X),_e(X.id),D(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Ya,{size:14}),"Medicine List"]}),n.jsxs("button",{onClick:()=>{E(X),window.open(X.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(ya,{size:14}),"View"]})]})]})]},X.id))}),sr.length===0&&!u&&n.jsx(He,{children:n.jsxs(Ve,{className:"text-center py-12",children:[n.jsx(ya,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]}),v==="orders"&&n.jsxs(n.Fragment,{children:[f?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(X=>n.jsxs(He,{id:`order-${X.id}`,className:"hover:shadow-lg transition-shadow",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(dt,{className:"text-lg",children:["Order #",X.id]}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Pending Approval"})]})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Lt,{size:16,className:"text-primary"}),n.jsx("span",{children:X.user_name||`User #${X.user_id}`})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Items:"})," ",X.items_count]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," ",typeof X.total_amount=="number"?X.total_amount.toFixed(2):parseFloat(X.total_amount||0).toFixed(2)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",X.delivery_address,", ",X.delivery_city," - ",X.delivery_pincode]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Lr,{size:14}),new Date(X.created_at).toLocaleDateString()]}),n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>{O(X),xe({}),U(!0)},className:"flex-1 px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(ya,{size:14}),"View Details"]})})]})]},X.id))}),c.length===0&&!f&&n.jsx(He,{children:n.jsxs(Ve,{className:"text-center py-12",children:[n.jsx(Ya,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No orders pending approval"})]})})]}),ee&&C&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(He,{className:"w-full max-w-md mx-4",children:[n.jsx(ct,{children:n.jsx(dt,{children:"Assign Prescription"})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Staff Member"}),n.jsxs("select",{value:Y||"",onChange:X=>V(Number(X.target.value)),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"Select staff member..."}),s.map(X=>n.jsxs("option",{value:X.id,children:[X.full_name," (",X.email,")"]},X.id))]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{oe(!1),E(null),V(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{Y&&$(C.id,Y)},disabled:!Y||u,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:"Assign"})]})]})]})}),L&&C&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(He,{className:"w-full max-w-4xl",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(dt,{children:["Medicine List - Prescription #",C.id]}),n.jsx("button",{onClick:()=>{D(!1),E(null),be([]),F({})},className:"text-gray-500 hover:text-gray-700",children:n.jsx(yt,{size:24})})]})}),n.jsxs(Ve,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Image"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:C.prescription_url?n.jsx("img",{src:C.prescription_url,alt:"Prescription",className:"max-w-full max-h-80 h-auto rounded-lg border border-gray-200 object-contain",onError:X=>{const Se=X.target;Se.style.display="none";const Ze=Se.parentElement;Ze&&(Ze.innerHTML='<p class="text-gray-500">Failed to load prescription image</p>')}}):n.jsx("p",{className:"text-gray-500",children:"Prescription image not available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Approve or Reject"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription image and approve or reject each medicine. Approved medicines will be sent to vendors."})}),Oe?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Manufacturer"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:ve.map(X=>{const Se=Rx(X.images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Se&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Se,alt:X.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ze=>{Ze.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:X.medicine_name}),X.medicine_type&&n.jsx("div",{className:"text-xs text-gray-500",children:X.medicine_type}),!Se&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:X.manufacturer_name||"-"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",parseFloat(X.price||0).toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{F({...Ne,[X.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Ne[X.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(fn,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{F({...Ne,[X.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Ne[X.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx(Qs,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},X.id)})})]})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsx("button",{onClick:()=>{D(!1),E(null),be([]),F({})},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:()=>{C&&Ie(C.id)},disabled:u||Object.keys(Ne).length!==ve.length,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[n.jsx(fn,{size:18}),Object.keys(Ne).length>0?`Approve & Send to Vendors (${Object.keys(Ne).length}/${ve.length})`:"Approve & Send to Vendors"]})]})]})]})}),ie&&N&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(He,{className:"w-full max-w-md mx-4",children:[n.jsx(ct,{children:n.jsx(dt,{children:De?"Edit Staff Member":"Add Staff Member"})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:re.full_name,onChange:X=>Q({...re,full_name:X.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:re.email,onChange:X=>Q({...re,email:X.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:re.phone_number,onChange:X=>Q({...re,phone_number:X.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Drug License"}),n.jsx("input",{type:"text",value:re.drug_license,onChange:X=>Q({...re,drug_license:X.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter drug license number"})]}),!De&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: HelpingStaff@123)"})]}),n.jsx("input",{type:"password",value:re.password||"",onChange:X=>Q({...re,password:X.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (leave empty for default)"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'If left empty, default password "HelpingStaff@123" will be set'})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{W(!1),Q({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),Ce(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:De?Re:Ae,disabled:u,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:De?"Update":"Create"})]})]})]})}),T&&P&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(He,{className:"w-full max-w-4xl",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(dt,{children:["Order #",P.id," - Prescription Verification"]}),n.jsx("button",{onClick:()=>{U(!1),O(null),xe({})},className:"text-gray-500 hover:text-gray-700",children:n.jsx(yt,{size:24})})]})}),n.jsxs(Ve,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",P.full_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",P.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",P.phone]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User ID:"})," ",P.user_id]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsx("p",{children:P.delivery_address}),n.jsxs("p",{children:[P.delivery_city," - ",P.delivery_pincode]})]})]})]}),P.prescription_required_items&&P.prescription_required_items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Verify & Approve"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription and approve or reject each medicine. All medicines must be verified before the order can be released to vendors."})}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:P.prescription_required_items.map(X=>{const Se=Rx(X.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Se&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Se,alt:X.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ze=>{Ze.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:X.medicine_name}),!Se&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:X.quantity}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",X.price.toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{xe({...R,[X.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${R[X.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(fn,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{xe({...R,[X.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${R[X.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx(Qs,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},X.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"All Order Items"}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Total"})]})}),n.jsxs("tbody",{children:[P.items?.map(X=>{const Se=Rx(X.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Se&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Se,alt:X.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ze=>{Ze.target.style.display="none"}}),X.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:X.medicine_name}),!Se&&X.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:X.quantity}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",X.price.toFixed(2)]}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",(X.price*X.quantity).toFixed(2)]})]},X.id)}),n.jsxs("tr",{className:"border-t-2 border-primary/20 font-semibold",children:[n.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Total Amount:"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",typeof P.total_amount=="number"?P.total_amount.toFixed(2):parseFloat(P.total_amount||0).toFixed(2)]})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50",children:P.prescription_url?n.jsx("img",{src:P.prescription_url,alt:"Prescription",className:"max-w-full h-auto rounded-lg border border-gray-200",onError:X=>{const Se=X.target;Se.style.display="none";const Ze=Se.parentElement;Ze&&(Ze.innerHTML='<p class="text-gray-500">Failed to load prescription image</p>')}}):n.jsx("p",{className:"text-gray-500",children:"Prescription image not available"})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsxs("button",{onClick:()=>{q(!0)},className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",disabled:f,children:[n.jsx(Qs,{size:18}),"Reject Order"]}),n.jsxs("button",{onClick:()=>{const X=P.prescription_required_items?.length||0,Se=Object.keys(R).length;if(X>0&&Se!==X){e(`Please approve or reject all ${X} prescription-required medicines`,"error");return}me(P.id)},className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",disabled:f,children:[n.jsx(fn,{size:18}),P.prescription_required_items&&P.prescription_required_items.length>0?`Approve Order (${Object.keys(R).length}/${P.prescription_required_items.length})`:"Approve Order"]})]})]})]})}),I&&P&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(He,{className:"w-full max-w-md mx-4",children:[n.jsx(ct,{children:n.jsxs(dt,{children:["Reject Order #",P.id]})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rejection Reason"}),n.jsx("textarea",{value:M,onChange:X=>z(X.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",rows:4,placeholder:"Enter reason for rejection..."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{q(!1),z("")},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{P&&ot(P.id,M||"Prescription verification failed")},disabled:f,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:"Reject Order"})]})]})]})}),n.jsx("audio",{ref:rt,preload:"auto",children:n.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OSfTQ8MUKfj8LZjHAY4kdfyzHksBSR3x/DdkEAKFF606euoVRQKRp/g8r5sIQUrgc7y2Yk2CBtpvfDkn00PDFCn4/C2YxwGOJHX8sx5LAUkd8fw3ZBAC",type:"audio/wav"})})]})})},lS="https://kwikmedi.mycartly.in",zJ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!1),[o,c]=g.useState(""),[d,u]=g.useState("all"),p=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});g.useEffect(()=>{f()},[d]);const f=async()=>{s(!0);try{const y=d==="all"?`${lS}/api/admin/prescriptions`:`${lS}/api/admin/prescriptions?status=${d}`,N=await fetch(y,{headers:p()});if(N.ok){const j=await N.json();console.log("Fetched prescriptions:",j),r(j.prescriptions||[])}else{const j=await N.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",j),e(j.error?.message||"Failed to fetch prescriptions","error"),r([])}}catch(y){console.error("Error fetching prescriptions:",y),e("Failed to fetch prescriptions","error"),r([])}finally{s(!1)}},h=y=>({uploaded:"bg-yellow-100 text-yellow-800 border border-yellow-300",assigned:"bg-primary/10 text-primary-dark border border-primary/20",digitized:"bg-green-100 text-green-800 border border-green-300",released_to_vendor:"bg-purple-100 text-purple-800 border border-purple-300",fulfilled:"bg-gray-100 text-gray-800 border border-gray-300",rejected:"bg-red-100 text-red-800 border border-red-300"})[y]||"bg-gray-100 text-gray-800 border border-gray-300",v=t.filter(y=>y.user_name?.toLowerCase().includes(o.toLowerCase())||y.id.toString().includes(o)||y.assigned_staff_name?.toLowerCase().includes(o.toLowerCase())||y.assigned_staff_drug_license?.toLowerCase().includes(o.toLowerCase())||y.digitized_by_staff_name?.toLowerCase().includes(o.toLowerCase())||y.digitized_by_staff_drug_license?.toLowerCase().includes(o.toLowerCase())||y.assigned_vendor_name?.toLowerCase().includes(o.toLowerCase()));return n.jsx(hr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"All Prescriptions"}),n.jsx("p",{className:"text-gray-600",children:"View all prescriptions with staff and vendor assignments"})]}),n.jsxs("button",{onClick:f,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(mn,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user, staff, vendor, or prescription ID...",value:o,onChange:y=>c(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:d,onChange:y=>u(y.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:v.map(y=>n.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(dt,{className:"text-lg",children:["Prescription #",y.id]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(y.status)}`,children:y.status==="digitized"?"APPROVED":y.status.replace(/_/g," ").toUpperCase()})]})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Lt,{size:16,className:"text-primary"}),n.jsx("span",{className:"font-medium",children:"User:"}),n.jsx("span",{children:y.user_name||`User #${y.user_id}`})]}),y.assigned_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(zS,{size:16,className:"text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Staff:"}),n.jsx("span",{children:y.assigned_staff_name}),y.assigned_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",y.assigned_staff_drug_license,")"]}),y.assigned_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(y.assigned_at).toLocaleString(),")"]})]}),y.digitized_by_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(fn,{size:16,className:"text-green-500"}),n.jsx("span",{className:"font-medium",children:"Approved By:"}),n.jsx("span",{children:y.digitized_by_staff_name}),y.digitized_by_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",y.digitized_by_staff_drug_license,")"]}),y.digitized_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(y.digitized_at).toLocaleString(),")"]})]}),y.assigned_vendor_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(IS,{size:16,className:"text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Vendor:"}),n.jsx("span",{children:y.assigned_vendor_name}),y.assigned_vendor_email&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",y.assigned_vendor_email,")"]})]}),y.items&&y.items.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Medicine Items:"}),n.jsx("div",{className:"space-y-1",children:y.items.map((N,j)=>n.jsxs("div",{className:"text-xs text-gray-600",children:[" ",N.medicine_name," - Qty: ",N.quantity,", Days: ",N.days,N.dosage&&`, Dosage: ${N.dosage}`]},j))})]}),n.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Lr,{size:12}),n.jsxs("span",{children:["Created: ",new Date(y.created_at).toLocaleString()]})]})}),n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>{window.open(y.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(ya,{size:14}),"View Image"]})})]})]},y.id))}),v.length===0&&!a&&n.jsx(He,{children:n.jsxs(Ve,{className:"text-center py-12",children:[n.jsx(ya,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]})})},RJ=({transaction:e,expandedTransaction:t,onToggleDetails:r,formatDate:a,formatCurrency:s})=>{const o=d=>{switch(d){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},c=d=>{switch(d){case"card":return n.jsx(ls,{size:16,className:"text-gray-500"});case"upi":return n.jsx(_I,{size:16,className:"text-gray-500"});case"net_banking":return n.jsx(X5,{size:16,className:"text-gray-500"});default:return null}};return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.transaction_id}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: ",e.booking_id]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.provider_business_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[e.user_name,"  ",e.provider_name]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:s(e.amount)}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Platform: ",s(e.platform_fee)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${o(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.failure_reason&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:e.failure_reason})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-sm text-gray-600",children:a(e.created_at)}),e.completed_at&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",a(e.completed_at)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[c(e.payment_method),n.jsx("span",{className:"text-sm text-gray-600",children:e.payment_method.split("_").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" ")})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsx("td",{className:"py-4",children:n.jsxs(he,{onClick:()=>r(e.id),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white",children:[n.jsx(Zi,{size:14}),n.jsx("span",{children:"Details"}),t===e.id?n.jsx(ol,{size:14}):n.jsx(oi,{size:14})]})})]})},FJ=({transaction:e,formatDate:t,formatCurrency:r,onRefundClick:a})=>n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(ls,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Transaction Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"#"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transaction ID"})]}),n.jsx("p",{className:"text-sm font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded",children:e.transaction_id})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amount"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:r(e.amount)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.status})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Payment Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.payment_method}),n.jsxs("p",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fees"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-800",children:["Platform: ",r(e.platform_fee)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Gateway: ",r(e.gateway_fee)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Provider: ",r(e.provider_amount)]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"User & Provider"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.user.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.email}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.phone})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-pink-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.provider.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.business_name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.email})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Booking Details"})]}),n.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-orange-100",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:t(e.booking.date)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.booking.time})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-sm text-gray-900",children:r(e.booking.amount)})]})]})})]}),e.refunds&&e.refunds.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 rounded-lg p-4 border border-red-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Refunds"})]}),n.jsxs("div",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.refunds.length," Refund",e.refunds.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-red-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Refund ID"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Reason"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Processed At"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.refunds.map(s=>n.jsxs("tr",{className:"hover:bg-red-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.refund_id})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(s.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:s.reason})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(s.processed_at)})})]},s.id))})]})})})]}),e.wallet_transactions&&e.wallet_transactions.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg p-4 border border-cyan-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Wallet Transactions"})]}),n.jsxs("div",{className:"bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.wallet_transactions.length," Transaction",e.wallet_transactions.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-cyan-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-cyan-50 border-b border-cyan-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Category"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Description"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Balance After"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Date"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.wallet_transactions.map(s=>n.jsxs("tr",{className:"hover:bg-cyan-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:`text-sm font-medium ${s.type==="credit"?"text-green-600":"text-red-600"}`,children:r(s.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.type})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:s.category})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:s.description})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(s.balance_after)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(s.created_at)})})]},s.id))})]})})})]}),e.refunds.length===0&&n.jsx("div",{className:"flex justify-end",children:n.jsxs(he,{onClick:()=>a(e),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(gI,{size:14}),n.jsx("span",{children:"Process Refund"})]})})]})})}),BJ=({searchTerm:e,onSearchChange:t})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(An,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:r=>t(r.target.value)})]}),UJ=({currentPage:e,totalPages:t,startIndex:r,itemsPerPage:a,totalItems:s,onPageChange:o})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",r+1," to ",Math.min(r+a,s)," of ",s," transactions"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(he,{onClick:()=>o(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ji,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",t]}),n.jsx(he,{onClick:()=>o(Math.min(e+1,t)),disabled:e===t,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ea,{size:16})})]})]}),qJ=({isOpen:e,onClose:t,onSubmit:r,transaction:a,isSubmitting:s,formatCurrency:o})=>{const[c,d]=un.useState({amount:a.amount,reason:"",reason_description:""}),u=p=>{p.preventDefault(),r(c)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Process Refund"}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:n.jsx(yt,{size:20})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Amount"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:o(a.amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount *"}),n.jsx("input",{type:"number",required:!0,min:"0",max:a.amount,step:"0.01",value:c.amount,onChange:p=>d({...c,amount:parseFloat(p.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsxs("select",{required:!0,value:c.reason,onChange:p=>d({...c,reason:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"customer_request",children:"Customer Request"}),n.jsx("option",{value:"service_not_provided",children:"Service Not Provided"}),n.jsx("option",{value:"quality_issues",children:"Quality Issues"}),n.jsx("option",{value:"duplicate_payment",children:"Duplicate Payment"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason Description *"}),n.jsx("textarea",{required:!0,value:c.reason_description,onChange:p=>d({...c,reason_description:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Provide additional details about the refund reason..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(he,{type:"button",onClick:t,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(he,{type:"submit",disabled:s,className:"bg-red-600 hover:bg-red-700 text-white",children:s?"Processing...":"Process Refund"})]})]})]})}):null},KJ={},Fx=KJ?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",WJ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!0),[o,c]=g.useState(""),[d,u]=g.useState(1),[p,f]=g.useState(null),[h,v]=g.useState(null),[y,N]=g.useState(!1),[j,b]=g.useState(!1),[_,S]=g.useState(1),[C,E]=g.useState(0),[P,O]=g.useState({status:"",payment_status:"",user_id:"",provider_id:"",booking_id:""}),T=10;g.useEffect(()=>{U()},[d,P]);const U=async()=>{const ie=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!ie){e("Please login to view transactions","error"),s(!1);return}try{s(!0);const W=new URLSearchParams;W.append("page",d.toString()),W.append("limit",T.toString()),o&&W.append("search",o),Object.entries(P).forEach(([te,ve])=>{ve&&W.append(te,ve.toString())});const J=await fetch(`${Fx}/admin/transactions?${W.toString()}`,{headers:{Authorization:`Bearer ${ie}`,"Content-Type":"application/json"}});if(!J.ok){if(J.status===401){e("Authentication failed. Please log in again.","error");return}if(J.status===404){console.warn("Transactions endpoint not found. Backend may not be implemented yet."),r([]),S(1),E(0),s(!1);return}throw new Error(`HTTP error! status: ${J.status}`)}const ue=await J.json(),K=ue.data||ue.transactions||[];Array.isArray(K)?(r(K),S(ue.pagination?.total_pages||Math.ceil(K.length/T)||1),E(ue.pagination?.total||K.length||0)):(r([]),S(1),E(0))}catch(W){console.error("Error fetching transactions:",W),e("Failed to fetch transactions. The backend endpoint may not be implemented yet.","error"),r([]),S(1),E(0)}finally{s(!1)}},M=async ie=>{const W=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!W)return e("Please login to view transaction details","error"),null;try{const J=await fetch(`${Fx}/admin/transactions/${ie}`,{headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"}});if(!J.ok){if(J.status===404)return e("Transaction details not found","error"),null;throw new Error(`HTTP error! status: ${J.status}`)}const ue=await J.json();return ue.transaction||ue.data||null}catch(J){return console.error("Error fetching transaction details:",J),e("Failed to fetch transaction details","error"),null}},z=async ie=>{if(p===ie)f(null),v(null);else{f(ie);const W=await M(ie);v(W)}},I=async ie=>{v(ie),N(!0)},q=async ie=>{if(!h)return;b(!0);const W=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");try{const J=await fetch(`${Fx}/admin/transactions/${h.id}/refund`,{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify(ie)});if(!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const ue=await J.json();e(ue.message||"Refund processed successfully","success"),N(!1),v(null),U()}catch(J){console.error("Error processing refund:",J),e("Failed to process refund","error")}finally{b(!1)}},L=ie=>{if(!ie)return"N/A";try{return new Date(ie).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return ie}},D=ie=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(ie),ee=(ie,W)=>{O(J=>({...J,[ie]:W})),u(1)},oe=t.filter(ie=>{if(!o)return!0;const W=o.toLowerCase();return ie.transaction_id.toLowerCase().includes(W)||ie.user_name.toLowerCase().includes(W)||ie.provider_name.toLowerCase().includes(W)||ie.booking_id.toString().includes(W)});return n.jsx(hr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage all payment transactions"})]}),n.jsxs(He,{children:[n.jsxs(ct,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(dt,{children:"All Transactions"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(BJ,{searchTerm:o,onSearchChange:c})})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[n.jsxs("select",{value:P.status,onChange:ie=>ee("status",ie.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("select",{value:P.payment_status,onChange:ie=>ee("payment_status",ie.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Payment Status"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]})]})]}),n.jsx(Ve,{children:a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):oe.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 text-lg",children:t.length===0?"No transactions found.":"No transactions match your search criteria."}),t.length===0&&n.jsx("p",{className:"text-gray-400 text-sm mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Transaction ID"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"User / Provider"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Amount"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Payment Method"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:oe.map(ie=>n.jsxs(un.Fragment,{children:[n.jsx(RJ,{transaction:ie,expandedTransaction:p,onToggleDetails:z,formatDate:L,formatCurrency:D}),p===ie.id&&h&&n.jsx(FJ,{transaction:h,formatDate:L,formatCurrency:D,onRefundClick:I})]},ie.id))})]})}),n.jsx(UJ,{currentPage:d,totalPages:_,startIndex:(d-1)*T,itemsPerPage:T,totalItems:C,onPageChange:u})]})})]}),y&&h&&n.jsx(qJ,{isOpen:y,transaction:h,onClose:()=>N(!1),onSubmit:q,isSubmitting:j,formatCurrency:D})]})})},Hs=({label:e,error:t,fullWidth:r=!1,className:a="",id:s,...o})=>{const c=s||`input-${Math.random().toString(36).substring(2,9)}`;return n.jsxs("div",{className:`${r?"w-full":""} mb-4`,children:[e&&n.jsx("label",{htmlFor:c,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),n.jsx("input",{id:c,className:`px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary ${t?"border-error":""} ${r?"w-full":""} ${a}`,...o}),t&&n.jsx("p",{className:"mt-1 text-sm text-error",children:t})]})},HJ=({open:e,onClose:t,children:r})=>e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity",onClick:t}),n.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:r})]})}):null,VJ=({children:e})=>n.jsx("div",{className:"mt-3 text-center sm:mt-5",children:e}),GJ=({children:e})=>n.jsx("div",{className:"mb-4",children:e}),YJ=({children:e})=>n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:e}),XJ={},$o=XJ?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",JJ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!1),[o,c]=g.useState(""),[d,u]=g.useState(!1),[p,f]=g.useState("add"),[h,v]=g.useState(null),[y,N]=g.useState(!1),[j,b]=g.useState({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:""}),[_,S]=g.useState({}),C=async()=>{s(!0);try{const L=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),D=await fetch(`${$o}/admin/coupons`,{method:"GET",headers:{"Content-Type":"application/json",...L?{Authorization:`Bearer ${L}`}:{}}}),ee=await D.json();if(D.ok&&ee.coupons&&Array.isArray(ee.coupons))r(ee.coupons);else throw new Error(ee.message||ee.error?.message||"Failed to fetch coupons")}catch(L){console.error("Error fetching coupons:",L);const D=L instanceof Error?L.message:"Failed to fetch coupons";e(D,"error")}finally{s(!1)}};g.useEffect(()=>{C()},[]);const E=()=>{f("add"),v(null),b({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:""}),S({}),u(!0)},P=L=>{f("edit"),v(L),b({coupon_name:L.coupon_name,coupon_title:L.coupon_title,discount_type:"percentage",discount_percentage:L.discount_percentage||0,total_coupons:L.total_coupons,is_active:L.is_active,is_featured:L.is_featured,valid_from:L.valid_from?L.valid_from.split("T")[0]:"",valid_until:L.valid_until?L.valid_until.split("T")[0]:"",min_order_amount:L.min_order_amount||"",max_order_amount:L.max_order_amount||""}),S({}),u(!0)},O=()=>{const L={};return j.coupon_name.trim()?j.coupon_name.trim().length<3&&(L.coupon_name="Coupon code must be at least 3 characters"):L.coupon_name="Coupon code is required",j.coupon_title.trim()||(L.coupon_title="Coupon title is required"),(j.discount_percentage<=0||j.discount_percentage>100)&&(L.discount_percentage="Discount percentage must be between 1 and 100"),(!j.min_order_amount||Number(j.min_order_amount)<=0)&&(L.min_order_amount="Minimum order amount is required and must be greater than 0"),(!j.max_order_amount||Number(j.max_order_amount)<=0)&&(L.max_order_amount="Maximum order amount is required and must be greater than 0"),j.min_order_amount&&j.max_order_amount&&Number(j.min_order_amount)>=Number(j.max_order_amount)&&(L.max_order_amount="Max order amount must be greater than min order amount"),j.total_coupons<=0&&(L.total_coupons="Total coupons must be greater than 0"),j.valid_from&&j.valid_until&&new Date(j.valid_from)>new Date(j.valid_until)&&(L.valid_until="Valid until date must be after valid from date"),S(L),Object.keys(L).length===0},T=async L=>{if(L.preventDefault(),!!O()){N(!0);try{const D=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!D){e("Please login to save coupon","error"),N(!1);return}const ee={coupon_name:j.coupon_name.trim().toUpperCase(),coupon_title:j.coupon_title.trim(),discount_type:"percentage",discount_percentage:j.discount_percentage,total_coupons:j.total_coupons,is_active:j.is_active,is_featured:j.is_featured,min_order_amount:Number(j.min_order_amount),max_order_amount:Number(j.max_order_amount)};j.valid_from&&(ee.valid_from=`${j.valid_from}T00:00:00Z`),j.valid_until&&(ee.valid_until=`${j.valid_until}T23:59:59Z`);const oe=p==="add"?`${$o}/admin/coupons`:`${$o}/admin/coupons/${h?.id}`,ie=await fetch(oe,{method:p==="add"?"POST":"PUT",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify(ee)}),W=await ie.json();if(ie.ok)await C(),e(`Coupon ${p==="add"?"created":"updated"} successfully`,"success"),u(!1);else{const J=W.error?.message||W.message||`Failed to ${p==="add"?"create":"update"} coupon`;throw new Error(J)}}catch(D){console.error(`Error ${p==="add"?"creating":"updating"} coupon:`,D);const ee=D instanceof Error?D.message:`Failed to ${p==="add"?"create":"update"} coupon`;e(ee,"error")}finally{N(!1)}}},U=async L=>{if(confirm(`Are you sure you want to delete coupon "${L.coupon_name}"?`)){N(!0);try{const D=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!D){e("Please login to delete coupon","error"),N(!1);return}const ee=await fetch(`${$o}/admin/coupons/${L.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}}),oe=await ee.json();if(ee.ok)r(ie=>ie.filter(W=>W.id!==L.id)),e("Coupon deleted successfully","success");else throw new Error(oe.error?.message||oe.message||"Failed to delete coupon")}catch(D){console.error("Error deleting coupon:",D);const ee=D instanceof Error?D.message:"Failed to delete coupon";e(ee,"error")}finally{N(!1)}}},M=async L=>{try{const D=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!D){e("Please login to update coupon","error");return}const ee=await fetch(`${$o}/admin/coupons/${L.id}/toggle-active`,{method:"PUT",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}}),oe=await ee.json();if(ee.ok)await C(),e(`Coupon ${L.is_active?"deactivated":"activated"} successfully`,"success");else throw new Error(oe.error?.message||oe.message||"Failed to update coupon")}catch(D){console.error("Error toggling coupon active status:",D);const ee=D instanceof Error?D.message:"Failed to update coupon";e(ee,"error")}},z=async L=>{try{const D=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!D){e("Please login to update coupon","error");return}const ee=await fetch(`${$o}/admin/coupons/${L.id}/toggle-featured`,{method:"PUT",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"}}),oe=await ee.json();if(ee.ok)await C(),e(`Coupon ${L.is_featured?"unfeatured":"featured"} successfully`,"success");else throw new Error(oe.error?.message||oe.message||"Failed to update coupon")}catch(D){console.error("Error toggling coupon featured status:",D);const ee=D instanceof Error?D.message:"Failed to update coupon";e(ee,"error")}},I=t.filter(L=>L.coupon_name.toLowerCase().includes(o.toLowerCase())||L.coupon_title.toLowerCase().includes(o.toLowerCase())),q=L=>L?new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return n.jsxs(hr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coupon Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons for users"})]}),a?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading coupons..."})]}):n.jsxs(He,{children:[n.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(dt,{children:"All Coupons"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search coupons...",value:o,onChange:L=>c(L.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs(he,{onClick:E,className:"flex items-center space-x-2",children:[n.jsx(Sn,{size:16}),n.jsx("span",{children:"Add Coupon"})]})]})]}),n.jsx(Ve,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Code"}),n.jsx("th",{className:"text-left pb-4",children:"Title"}),n.jsx("th",{className:"text-left pb-4",children:"Discount"}),n.jsx("th",{className:"text-left pb-4",children:"Usage"}),n.jsx("th",{className:"text-left pb-4",children:"Status"}),n.jsx("th",{className:"text-left pb-4",children:"Valid Dates"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:I.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 text-center text-gray-500",children:o?"No coupons found matching your search":"No coupons found. Create your first coupon!"})}):I.map(L=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-bold text-primary text-lg",children:L.coupon_name}),L.is_featured&&n.jsx(ri,{className:"text-yellow-500 fill-yellow-500",size:16})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-gray-900 font-medium",children:L.coupon_title})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{children:[n.jsxs("span",{className:"text-lg font-bold text-green-600",children:[L.discount_percentage||0,"%"]}),(L.min_order_amount||L.max_order_amount)&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Order Range: ",L.min_order_amount||0," - ",L.max_order_amount||""]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[L.used_count," / ",L.total_coupons]}),n.jsxs("div",{className:"text-gray-500 text-xs",children:[L.remaining_count||L.total_coupons-L.used_count," remaining"]})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("button",{onClick:()=>M(L),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors ${L.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[L.is_active?n.jsx(wI,{size:14}):n.jsx(Wx,{size:14}),L.is_active?"Active":"Inactive"]})})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{children:["From: ",q(L.valid_from)]}),n.jsxs("div",{children:["Until: ",q(L.valid_until)]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>z(L),className:`p-2 rounded transition-colors ${L.is_featured?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:L.is_featured?"Unfeature":"Feature",children:L.is_featured?n.jsx(ri,{className:"fill-current",size:16}):n.jsx(bI,{size:16})}),n.jsx(he,{onClick:()=>P(L),variant:"outline",size:"sm",children:n.jsx(pI,{size:14})}),n.jsx(he,{onClick:()=>U(L),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:L.used_count>0,title:L.used_count>0?"Cannot delete used coupon":"Delete coupon",children:n.jsx(ds,{size:14})})]})})]},L.id))})]})})})]}),n.jsx(HJ,{open:d,onClose:()=>u(!1),children:n.jsxs(VJ,{children:[n.jsx(GJ,{children:n.jsx(YJ,{children:p==="add"?"Add New Coupon":"Edit Coupon"})}),n.jsxs("form",{onSubmit:T,className:"space-y-4",children:[n.jsx(Hs,{label:"Coupon Code *",type:"text",value:j.coupon_name,onChange:L=>{b({...j,coupon_name:L.target.value.toUpperCase()}),_.coupon_name&&S({..._,coupon_name:""})},error:_.coupon_name,placeholder:"SAVE10",disabled:p==="edit",fullWidth:!0}),n.jsx(Hs,{label:"Coupon Title *",type:"text",value:j.coupon_title,onChange:L=>{b({...j,coupon_title:L.target.value}),_.coupon_title&&S({..._,coupon_title:""})},error:_.coupon_title,placeholder:"Save 10 on booking",fullWidth:!0}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Hs,{label:"Discount Percentage (%) *",type:"number",step:"0.01",min:"0",max:"100",value:j.discount_percentage,onChange:L=>{b({...j,discount_percentage:parseFloat(L.target.value)||0}),_.discount_percentage&&S({..._,discount_percentage:""})},error:_.discount_percentage,placeholder:"e.g., 10",fullWidth:!0}),n.jsx(Hs,{label:"Total Coupons *",type:"number",min:"1",value:j.total_coupons,onChange:L=>{b({...j,total_coupons:parseInt(L.target.value)||1}),_.total_coupons&&S({..._,total_coupons:""})},error:_.total_coupons,fullWidth:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Hs,{label:"Min Order Amount () *",type:"number",step:"0.01",min:"0",value:j.min_order_amount,onChange:L=>{b({...j,min_order_amount:L.target.value?parseFloat(L.target.value):""}),_.min_order_amount&&S({..._,min_order_amount:""})},error:_.min_order_amount,placeholder:"e.g., 200",fullWidth:!0}),n.jsx(Hs,{label:"Max Order Amount () *",type:"number",step:"0.01",min:"0",value:j.max_order_amount,onChange:L=>{b({...j,max_order_amount:L.target.value?parseFloat(L.target.value):""}),_.max_order_amount&&S({..._,max_order_amount:""})},error:_.max_order_amount,placeholder:"e.g., 1000",fullWidth:!0})]}),j.min_order_amount&&j.max_order_amount&&j.discount_percentage>0&&n.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["This coupon will apply ",n.jsxs("strong",{children:[j.discount_percentage,"%"]})," discount on all medicines for orders between ",n.jsxs("strong",{children:["",j.min_order_amount]})," - ",n.jsxs("strong",{children:["",j.max_order_amount]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Hs,{label:"Valid From (Optional)",type:"date",value:j.valid_from,onChange:L=>{b({...j,valid_from:L.target.value}),_.valid_from&&S({..._,valid_from:""})},error:_.valid_from,fullWidth:!0}),n.jsx(Hs,{label:"Valid Until (Optional)",type:"date",value:j.valid_until,onChange:L=>{b({...j,valid_until:L.target.value}),_.valid_until&&S({..._,valid_until:""})},error:_.valid_until,fullWidth:!0})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:j.is_active,onChange:L=>b({...j,is_active:L.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:j.is_featured,onChange:L=>b({...j,is_featured:L.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>u(!1),disabled:y,children:"Cancel"}),n.jsx(he,{type:"submit",disabled:y,isLoading:y,children:p==="add"?"Create Coupon":"Update Coupon"})]})]})]})})]})},cS="https://kwikmedi.mycartly.in",ZJ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState(!1),[o,c]=g.useState(""),[d,u]=g.useState("all"),[p,f]=g.useState("all"),h=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"});g.useEffect(()=>{v()},[d,p]);const v=async()=>{s(!0);try{const b=new URLSearchParams;d!=="all"&&b.append("status",d),p!=="all"&&b.append("type",p);const _=await fetch(`${cS}/api/admin/helpdesk/tickets?${b.toString()}`,{headers:h()});if(_.ok){const S=await _.json();r(S.tickets||[])}else e("Failed to fetch tickets","error"),r([])}catch{e("Failed to fetch tickets","error"),r([])}finally{s(!1)}},y=async(b,_)=>{s(!0);try{(await fetch(`${cS}/api/admin/helpdesk/tickets/${b}/solve?type=${_}`,{method:"PUT",headers:h()})).ok?(e("Ticket marked as solved","success"),v()):e("Failed to mark ticket as solved","error")}catch{e("Failed to mark ticket as solved","error")}finally{s(!1)}},N=b=>({open:"bg-primary/20 text-primary",solved:"bg-secondary text-primary border border-primary/20",closed:"bg-primary/20 text-primary"})[b]||"bg-primary/20 text-primary",j=t.filter(b=>b.subject.toLowerCase().includes(o.toLowerCase())||b.message.toLowerCase().includes(o.toLowerCase())||b.user_name?.toLowerCase().includes(o.toLowerCase())||b.provider_name?.toLowerCase().includes(o.toLowerCase()));return n.jsx(hr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helpdesk Management"}),n.jsx("p",{className:"text-gray-600",children:"View and manage support tickets from users and vendors."})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(An,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by subject, message, or user/vendor name...",value:o,onChange:b=>c(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:d,onChange:b=>u(b.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"solved",children:"Solved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:p,onChange:b=>f(b.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"user",children:"User Tickets"}),n.jsx("option",{value:"vendor",children:"Vendor Tickets"})]})]}),a?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"space-y-4",children:j.map(b=>n.jsxs(He,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(ct,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[b.type==="user"?n.jsx(Lt,{className:"text-primary",size:20}):n.jsx(om,{className:"text-primary",size:20}),n.jsx(dt,{className:"text-lg",children:b.subject})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(b.status)}`,children:b.status}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-secondary text-primary border border-primary/20",children:b.type==="user"?"User":"Vendor"})]})]})}),n.jsxs(Ve,{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-700",children:n.jsx("p",{className:"mb-2",children:b.message})}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[b.type==="user"?n.jsx(n.Fragment,{children:b.user_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lt,{size:14}),n.jsx("span",{children:b.user_name}),b.user_email&&n.jsxs("span",{className:"text-gray-400",children:["(",b.user_email,")"]})]})}):n.jsx(n.Fragment,{children:b.provider_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(om,{size:14}),n.jsx("span",{children:b.provider_name}),b.provider_email&&n.jsxs("span",{className:"text-gray-400",children:["(",b.provider_email,")"]})]})}),b.order_id&&n.jsxs("div",{className:"text-gray-500",children:["Order ID: #",b.order_id]}),n.jsx("div",{className:"text-gray-500",children:new Date(b.created_at).toLocaleDateString()})]}),b.status==="open"&&n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>y(b.id,b.type),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(fn,{size:16}),"Mark as Solved"]})})]})]},`${b.type}-${b.id}`))}),j.length===0&&!a&&n.jsx(He,{children:n.jsxs(Ve,{className:"text-center py-12",children:[n.jsx(Ga,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No tickets found"})]})})]})})},QJ={},Ai=QJ?.VITE_API_BASE_URL||"/api",eZ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState([]),[a,s]=g.useState([]),[o,c]=g.useState(!0),[d,u]=g.useState(!1),[p,f]=g.useState(!1),[h,v]=g.useState(null),[y,N]=g.useState(!1),[j,b]=g.useState(""),[_,S]=g.useState(null),[C,E]=g.useState({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),[P,O]=g.useState({user_id:"",provider_id:"",booking_id:"",payment_status:""}),[T,U]=g.useState(!1),[M,z]=g.useState(null),[I,q]=g.useState(!1),[L,D]=g.useState(""),[ee,oe]=g.useState(!1),ie=g.useRef(null),W=g.useRef(null);g.useEffect(()=>{const V=re=>{W.current&&!W.current.contains(re.target)&&ie.current&&!ie.current.contains(re.target)&&oe(!1)};return document.addEventListener("mousedown",V),()=>{document.removeEventListener("mousedown",V)}},[]),g.useEffect(()=>{J(),ue()},[P]);const J=async()=>{const V=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(V){c(!0);try{const re=new URLSearchParams;Object.entries(P).forEach(([De,Ce])=>{Ce&&re.append(De,Ce)});const Q=await fetch(`${Ai}/admin/bills?${re.toString()}`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(Q.ok){const De=await Q.json();r(De.bills||[])}}catch{e("Failed to load bills","error")}finally{c(!1)}}},ue=async()=>{const V=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(V)try{const re=await fetch(`${Ai}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(re.ok){const Q=await re.json(),De=Q.data||Q.bookings||[];s(De.map(Ce=>({id:Ce.id,user_id:Ce.user_id,provider_id:Ce.provider_id,service_name:Ce.service_name||Ce.service_title||"Service",user_name:Ce.user_name||Ce.user?.full_name||Ce.user?.name||`User #${Ce.user_id}`,provider_name:Ce.provider_name||Ce.provider?.full_name||Ce.provider?.name||(Ce.provider_id?`Provider #${Ce.provider_id}`:"Unassigned"),payment_amount:Ce.payment_amount||Ce.total_amount||0})))}}catch(re){console.error("Failed to load bookings:",re)}},K=async V=>{const re=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(re){q(!0),z(null);try{let Q=null,De=[],Ce={total_amount:0,paid_amount:0,outstanding_amount:0};const rt=a.find(fe=>fe.id===V);rt&&(Q={id:rt.id,user_id:rt.user_id,provider_id:rt.provider_id,service_name:rt.service_name,service_title:rt.service_name,user_name:rt.user_name,provider_name:rt.provider_name,payment_amount:rt.payment_amount||0,user_full_name:rt.user_name,provider_full_name:rt.provider_name});try{const fe=await fetch(`${Ai}/admin/bills/booking/${V}`,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}});if(fe.ok){const de=await fe.json();de.booking&&(Q={id:de.booking.id,user_id:de.booking.user_id,provider_id:de.booking.provider_id,service_name:de.booking.service_title||de.booking.service_name||"Service",service_title:de.booking.service_title,user_name:de.booking.user_full_name||de.booking.user_name||`User #${de.booking.user_id}`,provider_name:de.booking.provider_full_name||de.booking.provider_name||(de.booking.provider_id?`Provider #${de.booking.provider_id}`:"Unassigned"),payment_amount:de.booking.payment_amount||de.booking.service_price_discounted||de.booking.service_price_original||0,user_full_name:de.booking.user_full_name,provider_full_name:de.booking.provider_full_name}),Ce=de.outstanding_info||{total_amount:Q?.payment_amount||0,paid_amount:0,outstanding_amount:Q?.payment_amount||0},De=de.bills||[]}else if(fe.status===404)console.log("Booking not found in bills endpoint, using data from bookings list");else{const de=await fe.json().catch(()=>({}));console.error("Bills endpoint error:",de)}}catch(fe){console.error("Error fetching from bills endpoint:",fe)}if(!Q)try{const fe=await fetch(`${Ai}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}});if(fe.ok){const de=await fe.json(),ze=(de.data||de.bookings||[]).find(ce=>ce.id===V);ze&&(Q={id:ze.id,user_id:ze.user_id,provider_id:ze.provider_id,service_name:ze.service_title||ze.service_name||"Service",service_title:ze.service_title,user_name:ze.user_full_name||ze.user_name||`User #${ze.user_id}`,provider_name:ze.provider_full_name||ze.provider_name||(ze.provider_id?`Provider #${ze.provider_id}`:"Unassigned"),payment_amount:ze.payment_amount||ze.service_price_discounted||ze.service_price_original||0,user_full_name:ze.user_full_name,provider_full_name:ze.provider_full_name})}}catch(fe){console.error("Error fetching from appointments endpoint:",fe)}Q?(Ce.total_amount===0&&Q.payment_amount&&(Ce={total_amount:Q.payment_amount,paid_amount:De.reduce((fe,de)=>fe+de.bill_amount,0),outstanding_amount:Q.payment_amount-De.reduce((fe,de)=>fe+de.bill_amount,0)}),z({booking:Q,outstanding_info:Ce,bills:De}),Ce.outstanding_amount>0&&E(fe=>({...fe,bill_amount:Ce.outstanding_amount.toString()}))):(e(`Booking #${V} not found. Please check the booking ID.`,"error"),z(null))}catch(Q){console.error("Failed to load booking details:",Q),e("Failed to load booking details. Please try again.","error"),z(null)}finally{q(!1)}}},te=V=>{const re=parseInt(V);if(isNaN(re)){e("Please enter a valid booking ID","error");return}E({...C,booking_id:V});const Q=a.find(De=>De.id===re);D(Q?`#${Q.id} - ${Q.service_name} - ${Q.user_name}`:`#${re}`),oe(!1),K(re)},ve=a.filter(V=>{if(!L)return!1;const re=L.toLowerCase();return V.id.toString().includes(re)||V.service_name.toLowerCase().includes(re)||V.user_name.toLowerCase().includes(re)||V.provider_name.toLowerCase().includes(re)}),be=async V=>{V.preventDefault();const re=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(re){if(!M){e("Please select a booking first","error");return}U(!0);try{const Q=await fetch(`${Ai}/admin/bills/generate`,{method:"POST",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},body:JSON.stringify({booking_id:parseInt(C.booking_id),user_id:M.booking.user_id,provider_id:M.booking.provider_id||null,bill_amount:parseFloat(C.bill_amount),generated_by:"Admin",notes:C.notes})});if(Q.ok)e("Bill generated successfully","success"),u(!1),E({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),D(""),z(null),J(),M&&M.booking.id&&K(M.booking.id);else{const De=await Q.json();throw new Error(De.error?.message||"Failed to generate bill")}}catch(Q){e(Q.message||"Failed to generate bill","error")}finally{U(!1)}}},Oe=async V=>{const re=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(re)try{const Q=await fetch(`${Ai}/admin/bills/${V}`,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}});if(Q.ok){const De=await Q.json();v(De.bill),f(!0)}}catch{e("Failed to load bill details","error")}},Me=async(V,re,Q)=>{const De=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(De)try{const Ce={payment_status:re};re==="partial"&&Q!==void 0&&(Ce.paid_amount=Q);const rt=await fetch(`${Ai}/admin/bills/${V}/update-payment-status`,{method:"POST",headers:{Authorization:`Bearer ${De}`,"Content-Type":"application/json"},body:JSON.stringify(Ce)});if(rt.ok){if(e("Payment status updated","success"),J(),h?.id===V){const fe=await rt.json();v(fe.bill)}M&&M.booking.id&&K(M.booking.id)}else{const fe=await rt.json();e(fe.error?.message||"Failed to update payment status","error")}}catch{e("Failed to update payment status","error")}},Ne=()=>{if(!_)return;const V=parseFloat(j);if(isNaN(V)||V<=0){e("Please enter a valid payment amount","error");return}Me(_,"partial",V),N(!1),b(""),S(null)},F=V=>`${V.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,Y=V=>new Date(V).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return n.jsx(hr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bill Management"}),n.jsx("p",{className:"text-gray-600",children:"Generate and manage bills for bookings"})]}),n.jsxs(he,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[n.jsx(Sn,{size:16}),"Generate Bill"]})]}),n.jsx(He,{className:"mb-6",children:n.jsx(Ve,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User ID"}),n.jsx("input",{type:"number",value:P.user_id,onChange:V=>O({...P,user_id:V.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by user"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider ID"}),n.jsx("input",{type:"number",value:P.provider_id,onChange:V=>O({...P,provider_id:V.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by provider"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID"}),n.jsx("input",{type:"number",value:P.booking_id,onChange:V=>O({...P,booking_id:V.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by booking"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),n.jsxs("select",{value:P.payment_status,onChange:V=>O({...P,payment_status:V.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"partial",children:"Partial"})]})]})]})})}),n.jsxs(He,{children:[n.jsx(ct,{children:n.jsx(dt,{children:"All Bills"})}),n.jsx(Ve,{children:o?n.jsx(rl,{}):t.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bills found"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Bill Number"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Outstanding"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Generated"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(V=>{const re=a.find(Q=>Q.id===V.booking_id);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:V.bill_number}),n.jsxs("td",{className:"px-4 py-3 text-sm",children:["#",V.booking_id]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:re?.user_name||`User #${V.user_id}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:F(V.bill_amount)}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:V.current_outstanding_amount!==void 0?F(V.current_outstanding_amount):F(V.outstanding_amount)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${V.payment_status==="paid"?"bg-green-100 text-green-800":V.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:V.payment_status})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:Y(V.generated_at)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(he,{onClick:()=>Oe(V.id),variant:"ghost",size:"sm",children:n.jsx(Zi,{size:16})})})]},V.id)})})]})})})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Generate Bill"}),n.jsx("button",{onClick:()=>u(!1),children:n.jsx(yt,{size:20})})]}),n.jsxs("form",{onSubmit:be,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID / Select Booking"}),n.jsxs("div",{className:"relative",ref:W,children:[n.jsx("input",{ref:ie,type:"text",value:L,onChange:V=>{const re=V.target.value;D(re),oe(re.length>0);const Q=re.match(/^#?(\d+)$/);if(Q){const De=parseInt(Q[1]);E({...C,booking_id:De.toString()})}else re.length===0&&(E({...C,booking_id:""}),z(null))},onKeyDown:V=>{if(V.key==="Enter"){V.preventDefault();const re=L.match(/^#?(\d+)$/);if(re){const Q=parseInt(re[1]);te(Q.toString())}else C.booking_id&&te(C.booking_id)}V.key==="Escape"&&oe(!1)},onFocus:()=>{L&&oe(!0)},placeholder:"Enter booking ID (e.g., 65) or search by service/user name...",className:"w-full px-3 py-2 border rounded-md",required:!0}),ee&&L&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:ve.length>0?ve.slice(0,10).map(V=>n.jsxs("div",{onClick:()=>te(V.id.toString()),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100",children:[n.jsxs("div",{className:"font-medium",children:["#",V.id," - ",V.service_name]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[V.user_name,"  ",V.provider_name]})]},V.id)):n.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No bookings found. You can enter booking ID directly (e.g., 65) and press Enter."})})]}),C.booking_id&&n.jsx("input",{type:"hidden",name:"booking_id",value:C.booking_id})]}),M&&n.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-lg p-5 space-y-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between border-b-2 border-blue-200 pb-3",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900",children:" Booking Details"}),n.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:["ID: #",M.booking.id||C.booking_id]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Service"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:M.booking.service_name||M.booking.service_title||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Booking ID"}),n.jsxs("span",{className:"font-semibold text-gray-900 text-base",children:["#",M.booking.id||C.booking_id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"User"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:M.booking.user_full_name||M.booking.user_name||`User #${M.booking.user_id}`})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Provider"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:M.booking.provider_full_name||M.booking.provider_name||(M.booking.provider_id?`Provider #${M.booking.provider_id}`:"Unassigned")})]})]}),n.jsxs("div",{className:"bg-white rounded p-3 border border-primary/20",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Booking Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-gray-900",children:F(M.outstanding_info.total_amount)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Billed Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-green-600",children:F(M.bills.reduce((V,re)=>V+re.bill_amount,0))}),M.bills.length>0&&n.jsxs("span",{className:"text-xs text-gray-500 block mt-1",children:["(",M.bills.length," ",M.bills.length===1?"bill":"bills",")"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Outstanding Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-red-600",children:F(M.outstanding_info.outstanding_amount)}),n.jsx("span",{className:"text-xs text-gray-500 block mt-1",children:"(Remaining to bill)"})]})]}),n.jsx("div",{className:"border-t pt-2 mt-2 text-xs text-gray-600",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Calculation:"}),n.jsxs("span",{className:"font-medium",children:["Total (",F(M.outstanding_info.total_amount),") - Billed (",F(M.bills.reduce((V,re)=>V+re.bill_amount,0)),") = Outstanding (",F(M.outstanding_info.outstanding_amount),")"]})]})})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-2",children:["Bill History",M.bills.length>0&&n.jsxs("span",{className:"text-gray-500 font-normal",children:["(",M.bills.length," ",M.bills.length===1?"bill":"bills",")"]})]}),M.bills.length>0?n.jsx("div",{className:"bg-white rounded border border-gray-200 max-h-48 overflow-y-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Bill #"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Amount"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Status"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Generated Date"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Paid Date"})]})}),n.jsx("tbody",{children:M.bills.map((V,re)=>n.jsxs("tr",{className:`border-b hover:bg-gray-50 ${re===M.bills.length-1?"border-b-2 border-primary/20":""}`,children:[n.jsx("td",{className:"px-3 py-2 font-medium",children:V.bill_number}),n.jsx("td",{className:"px-3 py-2 font-semibold",children:F(V.bill_amount)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${V.payment_status==="paid"?"bg-green-100 text-green-800":V.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:V.payment_status.charAt(0).toUpperCase()+V.payment_status.slice(1)})}),n.jsx("td",{className:"px-3 py-2",children:Y(V.generated_at)}),n.jsx("td",{className:"px-3 py-2",children:V.paid_at?n.jsx("span",{className:"text-green-600",children:Y(V.paid_at)}):n.jsx("span",{className:"text-gray-400",children:"-"})})]},V.id))}),n.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-primary/20",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:2,className:"px-3 py-2 font-semibold text-right",children:"Total Billed:"}),n.jsx("td",{colSpan:3,className:"px-3 py-2 font-bold text-lg",children:F(M.bills.reduce((V,re)=>V+re.bill_amount,0))})]})})]})}):n.jsx("div",{className:"bg-white rounded border border-gray-200 p-4 text-center text-gray-500 text-sm",children:"No bills generated yet for this booking. The outstanding amount shown above is the total booking amount."})]})]}),I&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading booking details..."}),M&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User"}),n.jsx("input",{type:"text",value:M.booking.user_full_name||M.booking.user_name||`User #${M.booking.user_id}`,readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),n.jsx("input",{type:"hidden",name:"user_id",value:M.booking.user_id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider"}),n.jsx("input",{type:"text",value:M.booking.provider_full_name||M.booking.provider_name||(M.booking.provider_id?`Provider #${M.booking.provider_id}`:"Unassigned"),readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),M.booking.provider_id&&n.jsx("input",{type:"hidden",name:"provider_id",value:M.booking.provider_id})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bill Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:C.bill_amount,onChange:V=>E({...C,bill_amount:V.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes (Optional)"}),n.jsx("textarea",{value:C.notes,onChange:V=>E({...C,notes:V.target.value}),className:"w-full px-3 py-2 border rounded-md",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>{u(!1),E({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),D(""),z(null),oe(!1)},onBlur:()=>setTimeout(()=>oe(!1),200),children:"Cancel"}),n.jsx(he,{type:"submit",disabled:T,children:T?"Generating...":"Generate Bill"})]})]})]})}),y&&_&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Enter Partial Payment Amount"}),n.jsx("button",{onClick:()=>{N(!1),b(""),S(null)},children:n.jsx(yt,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[h&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Bill Amount:"}),n.jsx("div",{className:"text-lg font-semibold",children:F(h.bill_amount)}),h.outstanding_amount>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Outstanding:"}),n.jsx("div",{className:"text-base font-medium text-red-600",children:F(h.outstanding_amount)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Paid ()"}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",max:h?.outstanding_amount||h?.bill_amount||0,value:j,onChange:V=>b(V.target.value),placeholder:"Enter amount being paid",className:"w-full px-3 py-2 border rounded-md",autoFocus:!0,onKeyDown:V=>{V.key==="Enter"&&(V.preventDefault(),Ne())}}),h&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",F(h.outstanding_amount||h.bill_amount)]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(he,{type:"button",variant:"outline",onClick:()=>{N(!1),b(""),S(null)},children:"Cancel"}),n.jsx(he,{onClick:Ne,disabled:!j||parseFloat(j)<=0,children:"Confirm Partial Payment"})]})]})]})}),p&&h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Bill Details - ",h.bill_number]}),n.jsx("button",{onClick:()=>f(!1),children:n.jsx(yt,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bill Number"}),n.jsx("p",{className:"text-lg font-semibold",children:h.bill_number})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:F(h.bill_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),n.jsx("p",{className:"text-lg font-semibold",children:F(h.outstanding_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("p",{className:"text-lg",children:n.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${h.payment_status==="paid"?"bg-green-100 text-green-800":h.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:h.payment_status})})]})]}),h.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Notes"}),n.jsx("p",{className:"text-sm",children:h.notes})]}),n.jsx("div",{className:"flex gap-3 pt-4 border-t",children:n.jsx(he,{onClick:()=>Me(h.id,"paid"),className:"bg-green-600 hover:bg-green-700",disabled:h.payment_status==="paid",children:"Mark as Paid"})})]})]})})]})})},dO={},ha=dO?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",tZ=dO?.VITE_BACKEND_BASE_URL||"https://kwikmedi.mycartly.in",Gu=e=>{const t=typeof e=="string"?e.trim():"";if(!t)return"";if(/^https?:\/\//i.test(t))return t;let r=t.replace(/\\/g,"/");return r.startsWith("public/")?r=r.slice(7):r.startsWith("/public/")&&(r=r.slice(8)),r=r.startsWith("/")?r:`/${r}`,`${tZ}${r}`},rZ={Draft:"bg-amber-100 text-amber-700 border border-amber-200",Published:"bg-emerald-100 text-emerald-700 border border-emerald-200",Active:"bg-orange-100 text-orange-700 border border-orange-200",Inactive:"bg-rose-100 text-rose-500 border border-rose-200"},nZ=()=>{const{addToast:e}=Zt(),[t,r]=g.useState("blogs"),[a,s]=g.useState([]),[o,c]=g.useState([]),[d,u]=g.useState([]),[p,f]=g.useState([]),[h,v]=g.useState(!1),[y,N]=g.useState(!1),[j,b]=g.useState(!1),[_,S]=g.useState(!1),[C,E]=g.useState(null),[P,O]=g.useState(null),[T,U]=g.useState({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),[M,z]=g.useState({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),[I,q]=g.useState(null),L=(F=!1)=>{const Y=localStorage.getItem("KwikMedi_token"),V={};return Y&&(V.Authorization=`Bearer ${Y}`),F&&(V["Content-Type"]="application/json"),V},D=async()=>{v(!0);try{const F=await fetch(`${ha}/admin/blogs`,{headers:L()});if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const Y=await F.json();Y.success&&Array.isArray(Y.blogs)?s(Y.blogs):e("Failed to load blogs","error")}catch(F){console.error("Error fetching blogs:",F),e(`Error loading blogs: ${F instanceof Error?F.message:"Unknown error"}`,"error")}finally{v(!1)}},ee=async()=>{v(!0);try{const F=await fetch(`${ha}/admin/banners`,{headers:L()});if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const Y=await F.json();Y.success&&Array.isArray(Y.banners)?c(Y.banners):e("Failed to load banners","error")}catch(F){console.error("Error fetching banners:",F),e(`Error loading banners: ${F instanceof Error?F.message:"Unknown error"}`,"error")}finally{v(!1)}},oe=async()=>{try{const F=await fetch(`${ha}/admin/categories`,{headers:L()});if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const Y=await F.json();Array.isArray(Y.categories)&&u(Y.categories)}catch(F){console.error("Error fetching categories:",F)}},ie=async()=>{try{const F=await fetch(`${ha}/admin/inventory?is_discontinued=0`,{headers:L()});if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const Y=await F.json();if(Array.isArray(Y.inventory)){const V=Y.inventory.filter(re=>!re.is_discontinued&&re.stock_quantity>0);f(V)}}catch(F){console.error("Error fetching products:",F)}};g.useEffect(()=>{D(),ee(),oe(),ie()},[]);const W=g.useMemo(()=>{const F=a.length,Y=a.filter(re=>re.status==="Published").length,V=a.filter(re=>re.status==="Draft").length;return[{label:"Total Posts",value:F,subtitle:"Across pet care categories",icon:n.jsx(Jh,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Published",value:Y,subtitle:"Live on the site",icon:n.jsx(Bi,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Drafts",value:V,subtitle:"Ready for review",icon:n.jsx(Lr,{className:"text-amber-500",size:22}),gradient:"from-amber-100 to-orange-50"}]},[]),J=g.useMemo(()=>{const F=o.length,Y=o.filter(re=>re.status==="Active").length,V=o.filter(re=>re.status==="Inactive").length;return[{label:"Total Banners",value:F,subtitle:"Displayed across pages",icon:n.jsx(fI,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Active",value:Y,subtitle:"Currently visible",icon:n.jsx(Qh,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Inactive",value:V,subtitle:"Hidden banners",icon:n.jsx(Wx,{className:"text-rose-500",size:22}),gradient:"from-rose-100 to-rose-50"}]},[]),ue=async F=>{F.preventDefault(),N(!0);try{const Y=localStorage.getItem("KwikMedi_token");let V;if(T.image instanceof File){const Q=new FormData;Q.append("title",T.title),Q.append("category",T.category),Q.append("status",T.status),T.author&&Q.append("author",T.author),T.excerpt&&Q.append("excerpt",T.excerpt),T.content&&Q.append("content",T.content),Q.append("image",T.image),V=await fetch(`${ha}/admin/blogs${C?`/${C.id}`:""}`,{method:C?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`},body:Q})}else{const Q={title:T.title,category:T.category,status:T.status};T.author&&(Q.author=T.author),T.excerpt&&(Q.excerpt=T.excerpt),T.content&&(Q.content=T.content),typeof T.image=="string"&&T.image&&(Q.image=T.image),V=await fetch(`${ha}/admin/blogs${C?`/${C.id}`:""}`,{method:C?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(Q)})}const re=await V.json();V.ok&&re.success?(await D(),e(C?"Blog updated successfully":"Blog created successfully","success"),b(!1),be()):e(re.error?.message||"Failed to save blog","error")}catch(Y){console.error("Error saving blog:",Y),e("Error saving blog","error")}finally{N(!1)}},K=async F=>{if(F.preventDefault(),M.link_type==="category"){if(!M.category_id||M.category_id===0){e("Please select a category","error");return}}else if(M.link_type==="product"&&(!M.product_id||M.product_id===0)){e("Please select a product","error");return}N(!0);try{const Y=localStorage.getItem("KwikMedi_token");let V;if(M.image instanceof File){const Q=new FormData;Q.append("link_type",M.link_type),M.link_type==="category"?Q.append("category_id",M.category_id.toString()):M.link_type==="product"&&Q.append("product_id",M.product_id.toString()),Q.append("sequence",M.sequence.toString()),Q.append("image",M.image),V=await fetch(`${ha}/admin/banners${P?`/${P.id}`:""}`,{method:P?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`},body:Q})}else{const Q={link_type:M.link_type,sequence:M.sequence};M.link_type==="category"?Q.category_id=M.category_id:M.link_type==="product"&&(Q.product_id=M.product_id),typeof M.image=="string"&&M.image&&(Q.image=M.image),V=await fetch(`${ha}/admin/banners${P?`/${P.id}`:""}`,{method:P?"PUT":"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(Q)})}const re=await V.json();V.ok&&re.success?(await ee(),e(P?"Banner updated successfully":"Banner created successfully","success"),S(!1),Oe()):e(re.error?.message||"Failed to save banner","error")}catch(Y){console.error("Error saving banner:",Y),e("Error saving banner","error")}finally{N(!1)}},te=async F=>{if(confirm("Are you sure you want to delete this blog post?"))try{const Y=localStorage.getItem("KwikMedi_token"),V=await fetch(`${ha}/admin/blogs/${F}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}}),re=await V.json();V.ok&&re.success?(await D(),e("Blog deleted successfully","success")):e(re.error?.message||"Failed to delete blog","error")}catch(Y){console.error("Error deleting blog:",Y),e("Error deleting blog","error")}},ve=async F=>{if(confirm("Are you sure you want to delete this banner?"))try{const Y=localStorage.getItem("KwikMedi_token"),V=await fetch(`${ha}/admin/banners/${F}`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`}}),re=await V.json();V.ok&&re.success?(await ee(),e("Banner deleted successfully","success")):e(re.error?.message||"Failed to delete banner","error")}catch(Y){console.error("Error deleting banner:",Y),e("Error deleting banner","error")}},be=()=>{U({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),E(null),q(null)},Oe=()=>{z({link_type:"category",category_id:0,product_id:0,sequence:0,image:null}),O(null),q(null)},Me=F=>{E(F),U({title:F.title,category:F.category,status:F.status,author:F.author||"",excerpt:F.excerpt||"",content:F.content||"",image:F.image_url}),q(F.image_url?Gu(F.image_url):null),b(!0)},Ne=F=>{O(F);const Y=F.link_type||(F.category_id?"category":F.product_id?"product":"category");z({link_type:Y,category_id:F.category_id||0,product_id:F.product_id||0,sequence:F.sequence||0,image:F.image_url}),q(F.image_url?Gu(F.image_url):null),S(!0)};return n.jsx(hr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Site Experience"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"Site Management Studio"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:"Manage the KwikMedi story with fresh blog posts, vibrant banners, and curated experiences for pet parents exploring training, grooming, healthcare, and nutrition."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx("button",{type:"button",className:"rounded-xl bg-white px-5 py-2 text-sm font-semibold text-orange-600 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>console.log("Preview site"),children:"Preview Site"}),n.jsx("button",{type:"button",className:"rounded-xl bg-orange-600 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-orange-700",onClick:()=>console.log("Create content"),children:"Create Content"})]})]})}),n.jsx(He,{className:"rounded-3xl border border-orange-100/70 bg-white/95 shadow-lg",children:n.jsxs(Ve,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Manage"}),n.jsx("h2",{className:"mt-1 text-2xl font-semibold text-orange-900",children:"Content Hubs"})]}),n.jsx(ub,{value:t,onValueChange:F=>r(F),children:n.jsxs(mb,{className:"inline-flex items-center rounded-full bg-orange-50/70 p-1 text-orange-400",children:[n.jsx(Js,{value:"blogs",className:`rounded-full px-5 py-2 text-sm font-semibold transition-all ${t==="blogs"?"bg-white text-orange-600 shadow-sm":"hover:text-orange-500"}`,children:"Blog Management"}),n.jsx(Js,{value:"banners",className:`rounded-full px-5 py-2 text-sm font-semibold transition-all ${t==="banners"?"bg-white text-orange-600 shadow-sm":"hover:text-orange-500"}`,children:"Banner Management"})]})})]}),t==="blogs"?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:W.map(F=>n.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ve,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${F.gradient}`,children:F.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:F.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:F.value}),n.jsx("p",{className:"text-xs text-orange-400",children:F.subtitle})]})]})},F.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[n.jsx(He,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(Ve,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(Jh,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Create New Blog Post"}),n.jsx("p",{className:"text-sm text-orange-500",children:"Draft insights, publish stories, and keep pet parents inspired."})]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:ue,children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Title"}),n.jsx("input",{type:"text",placeholder:"Enter engaging headline",value:T.title,onChange:F=>U({...T,title:F.target.value}),required:!0,className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(xa,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:T.category,onChange:F=>U({...T,category:F.target.value}),className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Healthcare"}),n.jsx("option",{children:"Nutrition"})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Featured Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(xc,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx(kc,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:F=>{const Y=F.target.files?.[0];if(Y){const V=URL.createObjectURL(Y);q(V),U({...T,image:Y})}}})]})]}),n.jsx("input",{type:"url",value:typeof T.image=="string"?T.image:"",onChange:F=>{U({...T,image:F.target.value}),q(F.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),I&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:I,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Status"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900",children:[n.jsx(Wx,{size:18,className:"text-orange-400"}),n.jsxs("select",{value:T.status,onChange:F=>U({...T,status:F.target.value}),className:"flex-1 bg-transparent outline-none",children:[n.jsx("option",{children:"Draft"}),n.jsx("option",{children:"Published"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Excerpt"}),n.jsx("textarea",{rows:3,placeholder:"Short summary for preview cards...",value:T.excerpt,onChange:F=>U({...T,excerpt:F.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Content (optional)"}),n.jsx("textarea",{rows:5,placeholder:"Full blog content...",value:T.content,onChange:F=>U({...T,content:F.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Author (optional)"}),n.jsx("input",{type:"text",placeholder:"Author name",value:T.author,onChange:F=>U({...T,author:F.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>b(!1),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:y,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:y?"Saving...":C?"Update Post":"Publish Post"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:h?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(ra,{className:"w-8 h-8 animate-spin text-orange-400"})}):a.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(Jh,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No blog posts yet. Create your first post!"})]}):a.map(F=>n.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ve,{className:"flex flex-col gap-4 p-5 sm:flex-row sm:gap-5",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 sm:w-44",children:F.image_url?n.jsx("img",{src:Gu(F.image_url),alt:F.title,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(xc,{className:"text-orange-300",size:32})})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[n.jsx(Q5,{size:14}),F.category]}),n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${rZ[F.status]}`,children:F.status})]}),n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:F.title}),n.jsx("p",{className:"text-sm text-orange-500",children:F.excerpt||"No excerpt"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-orange-400",children:[F.author&&n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Lt,{size:14}),F.author]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Vr,{size:14}),F.published_at?new Date(F.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not published"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 self-end sm:flex-col sm:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>Me(F),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(eg,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>te(F.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(ds,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},F.id))})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-orange-900",children:"Banner Management"}),n.jsx("p",{className:"mt-1 text-sm text-orange-500",children:"Create and manage site banners"})]}),n.jsxs("button",{type:"button",onClick:()=>{Oe()},className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500",children:[n.jsx(Sn,{size:18}),"Add New Banner"]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:J.map(F=>n.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ve,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${F.gradient}`,children:F.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:F.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:F.value}),n.jsx("p",{className:"text-xs text-orange-400",children:F.subtitle})]})]})},F.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[0.9fr,1.1fr]",children:[n.jsx(He,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(Ve,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(Qh,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:P?"Edit Banner":"Create New Banner"}),n.jsx("p",{className:"text-sm text-orange-500",children:P?"Update banner details and settings":"Craft hero banners with tailored CTAs for each section."})]})]}),P&&n.jsxs("button",{type:"button",onClick:()=>Oe(),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(yt,{size:14,className:"inline mr-1"}),"Cancel Edit"]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:K,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Link Type"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(dI,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.link_type,onChange:F=>{const Y=F.target.value;z({...M,link_type:Y,category_id:Y==="category"?M.category_id:0,product_id:Y==="product"?M.product_id:0})},className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"category",children:"Category"}),n.jsx("option",{value:"product",children:"Product"})]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Choose what the banner should link to"})]}),M.link_type==="category"?n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(xa,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.category_id,onChange:F=>z({...M,category_id:parseInt(F.target.value)||0}),required:M.link_type==="category",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a category"}),d.map(F=>n.jsx("option",{value:F.id,children:F.name},F.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link to services in this category"})]}):n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Product"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(xa,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.product_id,onChange:F=>z({...M,product_id:parseInt(F.target.value)||0}),required:M.link_type==="product",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a product"}),p.map(F=>n.jsxs("option",{value:F.id,children:[F.medicine_name," (",F.price,")"]},F.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link directly to this product"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Sequence"}),n.jsx("input",{type:"number",min:"0",placeholder:"0",value:M.sequence,onChange:F=>z({...M,sequence:parseInt(F.target.value)||0}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Lower numbers appear first"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Banner Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(xc,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx(kc,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:F=>{const Y=F.target.files?.[0];if(Y){const V=URL.createObjectURL(Y);q(V),z({...M,image:Y})}}})]})]}),n.jsx("input",{type:"url",value:typeof M.image=="string"?M.image:"",onChange:F=>{z({...M,image:F.target.value}),q(F.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),I&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:I,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[P&&n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>Oe(),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:y,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:y?"Saving...":P?"Update Banner":"Create Banner"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:h?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(ra,{className:"w-8 h-8 animate-spin text-orange-400"})}):o.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(Qh,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No banners yet. Create your first banner!"})]}):o.map(F=>n.jsx(He,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Ve,{className:"flex flex-col gap-4 p-5 md:flex-row md:items-center md:gap-6",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 md:w-48",children:F.image_url?n.jsx("img",{src:Gu(F.image_url),alt:F.category_name||`Banner ${F.id}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(xc,{className:"text-orange-300",size:32})})}),n.jsx("div",{className:"flex-1 space-y-3",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[F.link_type==="product"&&F.product_id?n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-purple-50 px-3 py-1 text-xs font-semibold text-purple-600",children:[n.jsx(xa,{size:14}),"Product: ",F.product_name||`ID: ${F.product_id}`]}):n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold text-orange-600",children:[n.jsx(xa,{size:14}),"Category: ",F.category_name||`ID: ${F.category_id}`]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/5 px-3 py-1 text-xs font-semibold text-primary",children:["Sequence: ",F.sequence||0]})]})}),n.jsxs("div",{className:"flex items-center gap-2 self-end md:flex-col md:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>Ne(F),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(eg,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>ve(F.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(ds,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},F.id))})]})]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Style Guides"}),n.jsx("h3",{className:"text-xl font-semibold text-orange-900",children:"KwikMedi Content Principles"}),n.jsx("p",{className:"mt-2 max-w-2xl text-sm text-orange-500",children:"Gilroy for headings, Inter for supporting text, and a warm orange-to-amber palette create a playful yet professional brand for pet parents and trainers."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 text-sm font-semibold text-orange-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx(c0,{size:16}),"Brand Ready"]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx(eg,{size:16}),"Copywriting Polished"]})]})]})})]})})},aZ={},sZ=aZ?.VITE_API_BASE_URL||"/api",iZ=()=>{const[e,t]=g.useState(""),[r,a]=g.useState(""),[s,o]=g.useState(!1),c=ia(),{addToast:d}=Zt(),u=async p=>{p.preventDefault(),o(!0);try{const f=await fetch(`${sZ}/lead-admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),h=await f.json();f.ok&&h.success?(localStorage.setItem("lead_admin_token",h.token),localStorage.setItem("lead_admin_user",JSON.stringify(h.admin)),d("Login successful!","success"),c("/lead-admin/dashboard",{replace:!0})):d(h.error?.message||"Invalid username or password","error")}catch(f){console.error("Login error:",f),d("Login failed. Please try again.","error")}finally{o(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 px-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-orange-500 to-amber-400 mb-4",children:n.jsx(Vo,{className:"text-white",size:32})}),n.jsx("h1",{className:"text-3xl font-bold text-orange-900 mb-2",children:"Lead Admin Login"}),n.jsx("p",{className:"text-sm text-orange-600",children:"Access your lead management dashboard"})]}),n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your username",required:!0,disabled:s})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:r,onChange:p=>a(p.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your password",required:!0,disabled:s})]}),n.jsx("button",{type:"submit",disabled:s||!e||!r,className:"w-full rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-3 text-white font-semibold shadow-lg hover:from-orange-600 hover:to-amber-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?n.jsxs(n.Fragment,{children:[n.jsx(ra,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Login"})]})]})})})},oZ={},gc=oZ?.VITE_API_BASE_URL||"/api",Yu={New:{badge:"bg-orange-100 text-orange-700 border border-orange-200",dot:"bg-orange-500"},Contacted:{badge:"bg-amber-100 text-amber-700 border border-amber-200",dot:"bg-amber-500"},Converted:{badge:"bg-emerald-100 text-emerald-700 border border-emerald-200",dot:"bg-emerald-500"},Lost:{badge:"bg-rose-100 text-rose-600 border border-rose-200",dot:"bg-rose-500"},Available:{badge:"bg-secondary text-primary border border-primary/20",dot:"bg-primary"},"Not connected":{badge:"bg-gray-100 text-gray-700 border border-gray-200",dot:"bg-gray-500"}},Xu=(e=!1)=>{const t=localStorage.getItem("lead_admin_token"),r={};return t&&(r.Authorization=`Bearer ${t}`),e&&(r["Content-Type"]="application/json"),r},lZ=({lead:e,onClose:t,onUpdate:r})=>{const[a,s]=g.useState(e?.status??"New"),[o,c]=g.useState(e?.notes||""),[d,u]=g.useState(!1);if(g.useEffect(()=>{e&&(s(e.status),c(e.notes||""))},[e]),!e)return null;const p=async()=>{u(!0);try{await r(e.id,{status:a,notes:o}),t()}catch(f){console.error("Error updating lead:",f)}finally{u(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-orange-100 p-2 text-orange-600 hover:bg-orange-200 transition-colors z-10",children:n.jsx(yt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white sticky top-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Vo,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-orange-100/90",children:"Update status and add notes"})]})]})}),n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(Lt,{className:"text-orange-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-orange-900",children:e.owner_name})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(ti,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Qi,{size:16}),n.jsx("span",{children:e.phone})]}),e.location&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Qa,{size:16}),n.jsx("span",{children:e.location})]}),e.scheduled_date&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(i0,{size:16}),n.jsxs("span",{children:["Scheduled: ",new Date(e.scheduled_date).toLocaleDateString(),e.scheduled_time&&` at ${e.scheduled_time}`]})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"rounded-2xl border border-orange-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Lead Status"}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost","Available","Not connected"].map(f=>n.jsxs("button",{onClick:()=>s(f),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${a===f?"border-orange-500 bg-orange-50 text-orange-700 shadow-sm":"border-orange-100 bg-white text-orange-500 hover:border-orange-200"}`,children:[n.jsx("span",{children:f}),f==="Converted"?n.jsx(Bi,{size:18}):f==="Lost"?n.jsx(aa,{size:18}):n.jsx(MS,{size:18})]},f))})]})})]}),n.jsxs("div",{className:"px-8 pb-8",children:[n.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Notes"}),n.jsx("textarea",{value:o,onChange:f=>c(f.target.value),rows:4,className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-2 text-sm text-orange-900 outline-none focus:border-orange-400",placeholder:"Add notes about this lead..."})]}),n.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:t,disabled:d,className:"rounded-xl border border-orange-200 px-5 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:p,disabled:d,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:d?n.jsxs(n.Fragment,{children:[n.jsx(ra,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},cZ=({leads:e,onClose:t,onViewLead:r})=>n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-full bg-red-100 p-2 text-red-600 hover:bg-red-200 transition-colors",children:n.jsx(yt,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_c,{size:28,className:"animate-pulse"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Alarm: Upcoming Calls"}),n.jsxs("p",{className:"text-sm text-red-100/90",children:["You have ",e.length," lead(s) scheduled within 10 minutes"]})]})]})}),n.jsx("div",{className:"px-8 py-6 max-h-96 overflow-y-auto",children:e.length===0?n.jsx("p",{className:"text-center text-gray-500 py-8",children:"No upcoming calls"}):n.jsx("div",{className:"space-y-3",children:e.map(a=>n.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50/50 p-4 hover:bg-red-50 transition-colors cursor-pointer",onClick:()=>{r(a),t()},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-red-900",children:a.owner_name}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.phone}),a.scheduled_date&&a.scheduled_time&&n.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[n.jsx(Lr,{size:12}),new Date(a.scheduled_date).toLocaleDateString()," at ",a.scheduled_time]})]}),n.jsx(Ea,{className:"text-red-500",size:20})]})},a.id))})})]})}),dZ=()=>{const e=ia(),{addToast:t}=Zt(),[r,a]=g.useState([]),[s,o]=g.useState(null),[c,d]=g.useState(""),[u,p]=g.useState("All"),[f,h]=g.useState(!1),[v,y]=g.useState(""),[N,j]=g.useState([]),[b,_]=g.useState(!1);g.useEffect(()=>{if(!localStorage.getItem("lead_admin_token")){e("/lead-admin/login",{replace:!0});return}S(),C();const I=setInterval(C,6e4);return()=>clearInterval(I)},[e]);const S=async()=>{h(!0);try{const z=v?`${gc}/lead-admin/leads/by-date?date=${v}`:`${gc}/lead-admin/leads${u!=="All"?`?status=${u}`:""}`,q=await(await fetch(z,{headers:Xu()})).json();q.success&&Array.isArray(q.leads)?a(q.leads):t("Failed to load leads","error")}catch(z){console.error("Error fetching leads:",z),t("Error loading leads","error")}finally{h(!1)}},C=async()=>{try{const I=await(await fetch(`${gc}/lead-admin/alarms`,{headers:Xu()})).json();I.success&&Array.isArray(I.leads)&&I.leads.length>0&&(j(I.leads),_(!0))}catch(z){console.error("Error checking alarms:",z)}};g.useEffect(()=>{S()},[u,v]);const E=()=>{localStorage.removeItem("lead_admin_token"),localStorage.removeItem("lead_admin_user"),e("/lead-admin/login",{replace:!0})},P=async(z,I)=>{try{const q=await fetch(`${gc}/lead-admin/leads/${z}/update-status`,{method:"PUT",headers:Xu(!0),body:JSON.stringify(I)}),L=await q.json();if(q.ok&&L.success)await S(),t("Lead updated successfully","success");else throw t(L.error?.message||"Failed to update lead","error"),new Error(L.error?.message||"Failed to update lead")}catch(q){throw console.error("Error updating lead:",q),t("Error updating lead","error"),q}},O=async z=>{try{const I=await fetch(`${gc}/lead-admin/leads/${z}/set-available`,{method:"PUT",headers:Xu()}),q=await I.json();I.ok&&q.success?(await S(),t("Lead marked as available","success")):t(q.error?.message||"Failed to update lead","error")}catch(I){console.error("Error updating lead:",I),t("Error updating lead","error")}},T=g.useMemo(()=>{r.length;const z=r.filter(D=>D.status==="New").length,I=r.filter(D=>D.status==="Contacted").length,q=r.filter(D=>D.status==="Converted").length,L=r.filter(D=>D.status==="Available").length;return[{label:"New Leads",value:z,icon:n.jsx(c0,{className:"text-white",size:22}),gradient:"from-orange-500 to-amber-400"},{label:"Contacted",value:I,icon:n.jsx(LS,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Converted",value:q,icon:n.jsx(Bi,{className:"text-emerald-600",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Available",value:L,icon:n.jsx(s0,{className:"text-primary",size:22}),gradient:"bg-secondary"}]},[r]),U=r.filter(z=>z.owner_name.toLowerCase().includes(c.toLowerCase())||z.email.toLowerCase().includes(c.toLowerCase())||z.phone.toLowerCase().includes(c.toLowerCase())),M=JSON.parse(localStorage.getItem("lead_admin_user")||"{}");return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100",children:[n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"My Leads Dashboard"}),n.jsxs("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:["Welcome, ",M.full_name||M.username]})]}),n.jsxs("button",{onClick:E,className:"flex items-center gap-2 rounded-xl bg-white px-5 py-2 text-sm font-semibold text-orange-600 shadow-sm hover:bg-orange-50 transition-colors",children:[n.jsx(l0,{size:16}),"Logout"]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:T.map(z=>n.jsx("div",{className:"overflow-hidden rounded-3xl border border-orange-100/60 bg-white/95 shadow-md",children:n.jsxs("div",{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${z.gradient} shadow-sm`,children:z.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-orange-500",children:z.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:z.value})]})]})},z.label))}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-orange-100 bg-orange-50/60 px-4 py-2",children:[n.jsx(An,{size:18,className:"text-orange-400"}),n.jsx("input",{value:c,onChange:z=>d(z.target.value),placeholder:"Search leads...",className:"flex-1 border-none bg-transparent text-sm text-orange-900 placeholder-orange-300 outline-none"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-orange-100 bg-white px-4 py-2",children:[n.jsx(Vr,{size:16,className:"text-orange-500"}),n.jsx("input",{type:"date",value:v,onChange:z=>y(z.target.value),className:"text-sm text-orange-900 outline-none"}),v&&n.jsx("button",{onClick:()=>y(""),className:"text-orange-400 hover:text-orange-600",children:n.jsx(yt,{size:14})})]}),["All","New","Contacted","Converted","Lost","Available","Not connected"].map(z=>n.jsxs("button",{onClick:()=>p(z),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${u===z?"border-orange-500 bg-orange-50 text-orange-600 shadow-sm":"border-orange-100 bg-white text-orange-400 hover:border-orange-200"}`,children:[n.jsx(o0,{size:14}),z]},z))]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg",children:n.jsx("div",{className:"overflow-hidden rounded-2xl border border-orange-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-orange-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-orange-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Pet Type"}),n.jsx("th",{className:"px-6 py-4",children:"Service Interest"}),n.jsx("th",{className:"px-6 py-4",children:"Scheduled"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:f?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(ra,{className:"w-8 h-8 animate-spin text-orange-400"})})})}):U.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-orange-400",children:"No leads found for the current filters."})}):U.map(z=>n.jsxs("tr",{className:"transition-colors hover:bg-orange-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(Vo,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-orange-900",children:z.owner_name}),n.jsx("p",{className:"text-xs text-orange-400",children:z.email})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:z.pet_type})}),n.jsx("td",{className:"px-6 py-4 text-sm font-medium text-orange-700",children:z.service_interest}),n.jsx("td",{className:"px-6 py-4 text-sm text-orange-600",children:z.scheduled_date?n.jsxs("div",{children:[n.jsx("div",{children:new Date(z.scheduled_date).toLocaleDateString()}),z.scheduled_time&&n.jsx("div",{className:"text-xs",children:z.scheduled_time})]}):n.jsx("span",{className:"text-orange-300",children:"Not scheduled"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Yu[z.status]?.badge||Yu.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Yu[z.status]?.dot||Yu.New.dot}`}),z.status]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[z.scheduled_date&&n.jsx("button",{onClick:()=>O(z.id),className:"inline-flex items-center gap-2 rounded-full bg-primary px-3 py-1 text-xs font-semibold text-white shadow-sm hover:bg-primary-dark transition-colors",children:"Mark Available"}),n.jsxs("button",{onClick:()=>o(z),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(Ea,{size:14})]})]})})]},z.id))})]})})})]}),n.jsx(lZ,{lead:s,onClose:()=>o(null),onUpdate:P}),b&&n.jsx(cZ,{leads:N,onClose:()=>_(!1),onViewLead:z=>o(z)})]})},uZ="https://kwikmedi.mycartly.in",mZ=()=>{const[e,t]=g.useState(""),[r,a]=g.useState(""),[s,o]=g.useState(!1),c=ia(),{addToast:d}=Zt(),{isAuthenticated:u,user:p}=Cr();g.useEffect(()=>{console.log("HelpingStaffLogin component mounted"),console.log("Current path:",window.location.pathname),console.log("isAuthenticated:",u),console.log("user:",p)},[u,p]),g.useEffect(()=>{u&&(p?.role==="helping_staff"||p?.role==="helping_staff_admin")&&c("/admin/helping-staff-panel",{replace:!0})},[u,p,c]);const f=async h=>{h.preventDefault(),o(!0);try{const v=await fetch(`${uZ}/api/helping-staff/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),y=await v.json();if(v.ok&&y.success){const N=y.staff||y.admin;if(N)N.role="helping_staff";else{const j=y.admin||{};j.role="helping_staff",localStorage.setItem("KwikMedi_user",JSON.stringify(j))}localStorage.setItem("KwikMedi_token",y.token),N&&localStorage.setItem("KwikMedi_user",JSON.stringify(N)),localStorage.setItem("KwikMedi_role","helping_staff"),d("Login successful!","success"),setTimeout(()=>{window.location.href="/admin/helping-staff-panel"},500)}else{const N=y.error?.message||"Login failed. Please check your credentials.";d(N,"error")}}catch(v){console.error("Helping staff login error:",v),d("Login failed. Please try again.","error")}finally{o(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>c("/"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(a0,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(Lt,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Helping Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the prescription processing panel"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Email or Phone"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Email or Phone Number",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:h=>a(h.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},fZ="https://kwikmedi.mycartly.in",pZ=()=>{const[e,t]=g.useState(""),[r,a]=g.useState(""),[s,o]=g.useState(!1),c=ia(),{addToast:d}=Zt(),{isAuthenticated:u,user:p}=Cr();g.useEffect(()=>{u&&(p?.role==="finance_admin"||p?.role==="admin")&&c("/admin/finance-panel",{replace:!0})},[u,p,c]);const f=async h=>{h.preventDefault(),o(!0);try{const v=await fetch(`${fZ}/api/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:r})}),y=await v.json();if(v.ok&&y.token){const N=y.admin?.role||"";if(N!=="finance_admin"&&N!=="super_admin"){d("Access denied. This login is for financial staff only.","error"),o(!1);return}const j=y.admin;j&&(j.role=N==="super_admin"?"admin":N),localStorage.setItem("KwikMedi_token",y.token),localStorage.setItem("KwikMedi_user",JSON.stringify(j)),localStorage.setItem("KwikMedi_role",j.role),d("Login successful!","success"),window.location.href="/admin/finance-panel"}else{const N=y.error?.message||"Login failed. Please check your credentials.";d(N,"error")}}catch(v){console.error("Financial staff login error:",v),d("Login failed. Please try again.","error")}finally{o(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>c("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(a0,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(cs,{className:"h-8 w-8 text-green-600"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Financial Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the finance panel and payment management"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username or Email"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Username or Email",value:e,onChange:h=>t(h.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r,onChange:h=>a(h.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:s?"Logging in...":"Sign in"})})]})]})})},dS=()=>{ia();const e=[{id:"super_admin",title:"Super Admin",description:"Full system access and management",icon:ja,route:"/admin/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"},{id:"helping_staff",title:"Helping Staff",description:"Prescription processing and digitization",icon:wa,route:"/helping-staff/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"},{id:"financial_staff",title:"Financial Staff",description:"Finance panel and payment management",icon:cs,route:"/financial-staff/login",color:"bg-green-600 hover:bg-green-700",iconColor:"text-green-600"}];return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl w-full",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"KwikMedi Admin Portal"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Select your role to continue"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map(t=>{const r=t.icon;return n.jsxs(t0,{to:t.route,onClick:()=>{console.log("Navigating to:",t.route,"from LoginSelection")},className:`${t.color} text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 p-8 flex flex-col items-center space-y-4 no-underline`,children:[n.jsx("div",{className:"bg-white/20 rounded-full p-4",children:n.jsx(r,{className:"h-10 w-10"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),n.jsx("p",{className:"text-sm text-white/90",children:t.description})]})]},t.id)})}),n.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:n.jsx("p",{children:"Choose the appropriate login option based on your role"})})]})})},hZ=({children:e,allowedRoles:t=[]})=>{const{user:r,isAuthenticated:a,isLoading:s}=Cr();if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const o=localStorage.getItem("KwikMedi_token"),c=localStorage.getItem("KwikMedi_role"),d=o&&!o.startsWith("mock_token_"),u=r?.role||c||"",p=t.length===0||t.includes(u)||c&&t.includes(c);return!a&&!d?n.jsx(Fo,{to:"/",replace:!0}):d&&p&&!a&&s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!a&&d&&s?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t.length>0&&!p?(console.log("ProtectedRoute: Role mismatch",{user:r,allowedRole:r?.role,allowedRoles:t,storedRole:c,currentPath:window.location.pathname}),u==="helping_staff"||u==="helping_staff_admin"||c==="helping_staff"?n.jsx(Fo,{to:"/admin/helping-staff-panel",replace:!0}):u==="finance_admin"||c==="finance_admin"?n.jsx(Fo,{to:"/admin/finance-panel",replace:!0}):n.jsx(Fo,{to:"/admin/dashboard",replace:!0})):n.jsx(n.Fragment,{children:e})},gZ=()=>n.jsxs(Qw,{children:[n.jsx(Nt,{path:"/",element:n.jsx(dS,{})}),n.jsx(Nt,{path:"/login",element:n.jsx(dS,{})}),n.jsx(Nt,{path:"/admin/login",element:n.jsx(SI,{})}),n.jsx(Nt,{path:"/lead-admin/login",element:n.jsx(iZ,{})}),n.jsx(Nt,{path:"/lead-admin/dashboard",element:n.jsx(dZ,{})}),n.jsx(Nt,{path:"/helping-staff/login",element:n.jsx(mZ,{})}),n.jsx(Nt,{path:"/financial-staff/login",element:n.jsx(pZ,{})}),n.jsx(Nt,{path:"/admin/*",element:n.jsx(hZ,{allowedRoles:["admin","helping_staff","helping_staff_admin","finance_admin"],children:n.jsxs(Qw,{children:[n.jsx(Nt,{path:"/dashboard",element:n.jsx(RY,{})}),n.jsx(Nt,{path:"/providers",element:n.jsx(XX,{})}),n.jsx(Nt,{path:"/users",element:n.jsx(aJ,{})}),n.jsx(Nt,{path:"/categories",element:n.jsx(uJ,{})}),n.jsx(Nt,{path:"/prescriptions",element:n.jsx(zJ,{})}),n.jsx(Nt,{path:"/leads",element:n.jsx(TJ,{})}),n.jsx(Nt,{path:"/finance-panel",element:n.jsx(IJ,{})}),n.jsx(Nt,{path:"/finance",element:n.jsx(MJ,{})}),n.jsx(Nt,{path:"/helping-staff-panel",element:n.jsx($J,{})}),n.jsx(Nt,{path:"/disputes",element:n.jsx(xJ,{})}),n.jsx(Nt,{path:"/bookings",element:n.jsx(jJ,{})}),n.jsx(Nt,{path:"/orders",element:n.jsx(kJ,{})}),n.jsx(Nt,{path:"/transactions",element:n.jsx(WJ,{})}),n.jsx(Nt,{path:"/coupons",element:n.jsx(JJ,{})}),n.jsx(Nt,{path:"/helpdesk",element:n.jsx(ZJ,{})}),n.jsx(Nt,{path:"/site-management",element:n.jsx(nZ,{})}),n.jsx(Nt,{path:"/complaints",element:n.jsx(CJ,{})}),n.jsx(Nt,{path:"/bills",element:n.jsx(eZ,{})}),n.jsx(Nt,{path:"*",element:n.jsx(Fo,{to:"/admin/dashboard",replace:!0})})]})})}),n.jsx(Nt,{path:"*",element:n.jsx(Fo,{to:"/",replace:!0})})]});function xZ(){return n.jsx(E5,{children:n.jsx(q5,{children:n.jsxs(K5,{children:[" ",n.jsx(gZ,{}),n.jsx(W5,{})]})})})}cT.createRoot(document.getElementById("root")).render(n.jsx(g.StrictMode,{children:n.jsx(xZ,{})}));
