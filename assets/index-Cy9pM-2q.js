function J9(e,r){for(var t=0;t<r.length;t++){const s=r[t];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const i=Object.getOwnPropertyDescriptor(s,l);i&&Object.defineProperty(e,l,i.get?i:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(l){if(l.ep)return;l.ep=!0;const i=t(l);fetch(l.href,i)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s0={exports:{}},Mc={},i0={exports:{}},Zt={};var G2;function Q9(){if(G2)return Zt;G2=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),a=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function h(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function p(L,I,G){this.props=L,this.context=I,this.refs=y,this.updater=G||m}p.prototype.isReactComponent={},p.prototype.setState=function(L,I){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,I,"setState")},p.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function b(){}b.prototype=p.prototype;function v(L,I,G){this.props=L,this.context=I,this.refs=y,this.updater=G||m}var j=v.prototype=new b;j.constructor=v,g(j,p.prototype),j.isPureReactComponent=!0;var C=Array.isArray,T=Object.prototype.hasOwnProperty,D={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function z(L,I,G){var Y,te={},U=null,J=null;if(I!=null)for(Y in I.ref!==void 0&&(J=I.ref),I.key!==void 0&&(U=""+I.key),I)T.call(I,Y)&&!q.hasOwnProperty(Y)&&(te[Y]=I[Y]);var $=arguments.length-2;if($===1)te.children=G;else if(1<$){for(var R=Array($),K=0;K<$;K++)R[K]=arguments[K+2];te.children=R}if(L&&L.defaultProps)for(Y in $=L.defaultProps,$)te[Y]===void 0&&(te[Y]=$[Y]);return{$$typeof:e,type:L,key:U,ref:J,props:te,_owner:D.current}}function B(L,I){return{$$typeof:e,type:L.type,key:I,ref:L.ref,props:L.props,_owner:L._owner}}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function X(L){var I={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(G){return I[G]})}var W=/\/+/g;function P(L,I){return typeof L=="object"&&L!==null&&L.key!=null?X(""+L.key):I.toString(36)}function M(L,I,G,Y,te){var U=typeof L;(U==="undefined"||U==="boolean")&&(L=null);var J=!1;if(L===null)J=!0;else switch(U){case"string":case"number":J=!0;break;case"object":switch(L.$$typeof){case e:case r:J=!0}}if(J)return J=L,te=te(J),L=Y===""?"."+P(J,0):Y,C(te)?(G="",L!=null&&(G=L.replace(W,"$&/")+"/"),M(te,I,G,"",function(K){return K})):te!=null&&(V(te)&&(te=B(te,G+(!te.key||J&&J.key===te.key?"":(""+te.key).replace(W,"$&/")+"/")+L)),I.push(te)),1;if(J=0,Y=Y===""?".":Y+":",C(L))for(var $=0;$<L.length;$++){U=L[$];var R=Y+P(U,$);J+=M(U,I,G,R,te)}else if(R=h(L),typeof R=="function")for(L=R.call(L),$=0;!(U=L.next()).done;)U=U.value,R=Y+P(U,$++),J+=M(U,I,G,R,te);else if(U==="object")throw I=String(L),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.");return J}function E(L,I,G){if(L==null)return L;var Y=[],te=0;return M(L,Y,"","",function(U){return I.call(G,U,te++)}),Y}function _(L){if(L._status===-1){var I=L._result;I=I(),I.then(function(G){(L._status===0||L._status===-1)&&(L._status=1,L._result=G)},function(G){(L._status===0||L._status===-1)&&(L._status=2,L._result=G)}),L._status===-1&&(L._status=0,L._result=I)}if(L._status===1)return L._result.default;throw L._result}var k={current:null},N={transition:null},S={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:N,ReactCurrentOwner:D};function O(){throw Error("act(...) is not supported in production builds of React.")}return Zt.Children={map:E,forEach:function(L,I,G){E(L,function(){I.apply(this,arguments)},G)},count:function(L){var I=0;return E(L,function(){I++}),I},toArray:function(L){return E(L,function(I){return I})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Zt.Component=p,Zt.Fragment=t,Zt.Profiler=l,Zt.PureComponent=v,Zt.StrictMode=s,Zt.Suspense=c,Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S,Zt.act=O,Zt.cloneElement=function(L,I,G){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Y=g({},L.props),te=L.key,U=L.ref,J=L._owner;if(I!=null){if(I.ref!==void 0&&(U=I.ref,J=D.current),I.key!==void 0&&(te=""+I.key),L.type&&L.type.defaultProps)var $=L.type.defaultProps;for(R in I)T.call(I,R)&&!q.hasOwnProperty(R)&&(Y[R]=I[R]===void 0&&$!==void 0?$[R]:I[R])}var R=arguments.length-2;if(R===1)Y.children=G;else if(1<R){$=Array(R);for(var K=0;K<R;K++)$[K]=arguments[K+2];Y.children=$}return{$$typeof:e,type:L.type,key:te,ref:U,props:Y,_owner:J}},Zt.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:i,_context:L},L.Consumer=L},Zt.createElement=z,Zt.createFactory=function(L){var I=z.bind(null,L);return I.type=L,I},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(L){return{$$typeof:d,render:L}},Zt.isValidElement=V,Zt.lazy=function(L){return{$$typeof:u,_payload:{_status:-1,_result:L},_init:_}},Zt.memo=function(L,I){return{$$typeof:a,type:L,compare:I===void 0?null:I}},Zt.startTransition=function(L){var I=N.transition;N.transition={};try{L()}finally{N.transition=I}},Zt.unstable_act=O,Zt.useCallback=function(L,I){return k.current.useCallback(L,I)},Zt.useContext=function(L){return k.current.useContext(L)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(L){return k.current.useDeferredValue(L)},Zt.useEffect=function(L,I){return k.current.useEffect(L,I)},Zt.useId=function(){return k.current.useId()},Zt.useImperativeHandle=function(L,I,G){return k.current.useImperativeHandle(L,I,G)},Zt.useInsertionEffect=function(L,I){return k.current.useInsertionEffect(L,I)},Zt.useLayoutEffect=function(L,I){return k.current.useLayoutEffect(L,I)},Zt.useMemo=function(L,I){return k.current.useMemo(L,I)},Zt.useReducer=function(L,I,G){return k.current.useReducer(L,I,G)},Zt.useRef=function(L){return k.current.useRef(L)},Zt.useState=function(L){return k.current.useState(L)},Zt.useSyncExternalStore=function(L,I,G){return k.current.useSyncExternalStore(L,I,G)},Zt.useTransition=function(){return k.current.useTransition()},Zt.version="18.3.1",Zt}var Y2;function zl(){return Y2||(Y2=1,i0.exports=Q9()),i0.exports}var Z2;function eC(){if(Z2)return Mc;Z2=1;var e=zl(),r=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(d,c,a){var u,f={},h=null,m=null;a!==void 0&&(h=""+a),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(m=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(f[u]=c[u]);if(d&&d.defaultProps)for(u in c=d.defaultProps,c)f[u]===void 0&&(f[u]=c[u]);return{$$typeof:r,type:d,key:h,ref:m,props:f,_owner:l.current}}return Mc.Fragment=t,Mc.jsx=o,Mc.jsxs=o,Mc}var J2;function tC(){return J2||(J2=1,s0.exports=eC()),s0.exports}var n=tC(),F=zl();const cs=gi(F),rC=J9({__proto__:null,default:cs},[F]);var qd={},a0={exports:{}},Yn={},o0={exports:{}},l0={};var Q2;function nC(){return Q2||(Q2=1,(function(e){function r(N,S){var O=N.length;N.push(S);e:for(;0<O;){var L=O-1>>>1,I=N[L];if(0<l(I,S))N[L]=S,N[O]=I,O=L;else break e}}function t(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var S=N[0],O=N.pop();if(O!==S){N[0]=O;e:for(var L=0,I=N.length,G=I>>>1;L<G;){var Y=2*(L+1)-1,te=N[Y],U=Y+1,J=N[U];if(0>l(te,O))U<I&&0>l(J,te)?(N[L]=J,N[U]=O,L=U):(N[L]=te,N[Y]=O,L=Y);else if(U<I&&0>l(J,O))N[L]=J,N[U]=O,L=U;else break e}}return S}function l(N,S){var O=N.sortIndex-S.sortIndex;return O!==0?O:N.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,d=o.now();e.unstable_now=function(){return o.now()-d}}var c=[],a=[],u=1,f=null,h=3,m=!1,g=!1,y=!1,p=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(N){for(var S=t(a);S!==null;){if(S.callback===null)s(a);else if(S.startTime<=N)s(a),S.sortIndex=S.expirationTime,r(c,S);else break;S=t(a)}}function C(N){if(y=!1,j(N),!g)if(t(c)!==null)g=!0,_(T);else{var S=t(a);S!==null&&k(C,S.startTime-N)}}function T(N,S){g=!1,y&&(y=!1,b(z),z=-1),m=!0;var O=h;try{for(j(S),f=t(c);f!==null&&(!(f.expirationTime>S)||N&&!X());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var I=L(f.expirationTime<=S);S=e.unstable_now(),typeof I=="function"?f.callback=I:f===t(c)&&s(c),j(S)}else s(c);f=t(c)}if(f!==null)var G=!0;else{var Y=t(a);Y!==null&&k(C,Y.startTime-S),G=!1}return G}finally{f=null,h=O,m=!1}}var D=!1,q=null,z=-1,B=5,V=-1;function X(){return!(e.unstable_now()-V<B)}function W(){if(q!==null){var N=e.unstable_now();V=N;var S=!0;try{S=q(!0,N)}finally{S?P():(D=!1,q=null)}}else D=!1}var P;if(typeof v=="function")P=function(){v(W)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,E=M.port2;M.port1.onmessage=W,P=function(){E.postMessage(null)}}else P=function(){p(W,0)};function _(N){q=N,D||(D=!0,P())}function k(N,S){z=p(function(){N(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,_(T))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return t(c)},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var S=3;break;default:S=h}var O=h;h=S;try{return N()}finally{h=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,S){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var O=h;h=N;try{return S()}finally{h=O}},e.unstable_scheduleCallback=function(N,S,O){var L=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?L+O:L):O=L,N){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=O+I,N={id:u++,callback:S,priorityLevel:N,startTime:O,expirationTime:I,sortIndex:-1},O>L?(N.sortIndex=O,r(a,N),t(c)===null&&N===t(a)&&(y?(b(z),z=-1):y=!0,k(C,O-L))):(N.sortIndex=I,r(c,N),g||m||(g=!0,_(T))),N},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(N){var S=h;return function(){var O=h;h=S;try{return N.apply(this,arguments)}finally{h=O}}}})(l0)),l0}var ew;function sC(){return ew||(ew=1,o0.exports=nC()),o0.exports}var tw;function iC(){if(tw)return Yn;tw=1;var e=zl(),r=sC();function t(x){for(var w="https://reactjs.org/docs/error-decoder.html?invariant="+x,A=1;A<arguments.length;A++)w+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+x+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function i(x,w){o(x,w),o(x+"Capture",w)}function o(x,w){for(l[x]=w,x=0;x<w.length;x++)s.add(w[x])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,a=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function h(x){return c.call(f,x)?!0:c.call(u,x)?!1:a.test(x)?f[x]=!0:(u[x]=!0,!1)}function m(x,w,A,H){if(A!==null&&A.type===0)return!1;switch(typeof w){case"function":case"symbol":return!0;case"boolean":return H?!1:A!==null?!A.acceptsBooleans:(x=x.toLowerCase().slice(0,5),x!=="data-"&&x!=="aria-");default:return!1}}function g(x,w,A,H){if(w===null||typeof w>"u"||m(x,w,A,H))return!0;if(H)return!1;if(A!==null)switch(A.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}function y(x,w,A,H,Z,Q,oe){this.acceptsBooleans=w===2||w===3||w===4,this.attributeName=H,this.attributeNamespace=Z,this.mustUseProperty=A,this.propertyName=x,this.type=w,this.sanitizeURL=Q,this.removeEmptyString=oe}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){p[x]=new y(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var w=x[0];p[w]=new y(w,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){p[x]=new y(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){p[x]=new y(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){p[x]=new y(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){p[x]=new y(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){p[x]=new y(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){p[x]=new y(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){p[x]=new y(x,5,!1,x.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function v(x){return x[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var w=x.replace(b,v);p[w]=new y(w,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var w=x.replace(b,v);p[w]=new y(w,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var w=x.replace(b,v);p[w]=new y(w,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){p[x]=new y(x,1,!1,x.toLowerCase(),null,!1,!1)}),p.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){p[x]=new y(x,1,!1,x.toLowerCase(),null,!0,!0)});function j(x,w,A,H){var Z=p.hasOwnProperty(w)?p[w]:null;(Z!==null?Z.type!==0:H||!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(g(w,A,Z,H)&&(A=null),H||Z===null?h(w)&&(A===null?x.removeAttribute(w):x.setAttribute(w,""+A)):Z.mustUseProperty?x[Z.propertyName]=A===null?Z.type===3?!1:"":A:(w=Z.attributeName,H=Z.attributeNamespace,A===null?x.removeAttribute(w):(Z=Z.type,A=Z===3||Z===4&&A===!0?"":""+A,H?x.setAttributeNS(H,w,A):x.setAttribute(w,A))))}var C=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),D=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),X=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),N=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var O=Object.assign,L;function I(x){if(L===void 0)try{throw Error()}catch(A){var w=A.stack.trim().match(/\n( *(at )?)/);L=w&&w[1]||""}return`
`+L+x}var G=!1;function Y(x,w){if(!x||G)return"";G=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(w)if(w=function(){throw Error()},Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(Me){var H=Me}Reflect.construct(x,[],w)}else{try{w.call()}catch(Me){H=Me}x.call(w.prototype)}else{try{throw Error()}catch(Me){H=Me}x()}}catch(Me){if(Me&&H&&typeof Me.stack=="string"){for(var Z=Me.stack.split(`
`),Q=H.stack.split(`
`),oe=Z.length-1,pe=Q.length-1;1<=oe&&0<=pe&&Z[oe]!==Q[pe];)pe--;for(;1<=oe&&0<=pe;oe--,pe--)if(Z[oe]!==Q[pe]){if(oe!==1||pe!==1)do if(oe--,pe--,0>pe||Z[oe]!==Q[pe]){var we=`
`+Z[oe].replace(" at new "," at ");return x.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",x.displayName)),we}while(1<=oe&&0<=pe);break}}}finally{G=!1,Error.prepareStackTrace=A}return(x=x?x.displayName||x.name:"")?I(x):""}function te(x){switch(x.tag){case 5:return I(x.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 2:case 15:return x=Y(x.type,!1),x;case 11:return x=Y(x.type.render,!1),x;case 1:return x=Y(x.type,!0),x;default:return""}}function U(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case q:return"Fragment";case D:return"Portal";case B:return"Profiler";case z:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case X:return(x.displayName||"Context")+".Consumer";case V:return(x._context.displayName||"Context")+".Provider";case W:var w=x.render;return x=x.displayName,x||(x=w.displayName||w.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case E:return w=x.displayName||null,w!==null?w:U(x.type)||"Memo";case _:w=x._payload,x=x._init;try{return U(x(w))}catch{}}return null}function J(x){var w=x.type;switch(x.tag){case 24:return"Cache";case 9:return(w.displayName||"Context")+".Consumer";case 10:return(w._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=w.render,x=x.displayName||x.name||"",w.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return w;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(w);case 8:return w===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w}return null}function $(x){switch(typeof x){case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function R(x){var w=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(w==="checkbox"||w==="radio")}function K(x){var w=R(x)?"checked":"value",A=Object.getOwnPropertyDescriptor(x.constructor.prototype,w),H=""+x[w];if(!x.hasOwnProperty(w)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var Z=A.get,Q=A.set;return Object.defineProperty(x,w,{configurable:!0,get:function(){return Z.call(this)},set:function(oe){H=""+oe,Q.call(this,oe)}}),Object.defineProperty(x,w,{enumerable:A.enumerable}),{getValue:function(){return H},setValue:function(oe){H=""+oe},stopTracking:function(){x._valueTracker=null,delete x[w]}}}}function ee(x){x._valueTracker||(x._valueTracker=K(x))}function se(x){if(!x)return!1;var w=x._valueTracker;if(!w)return!0;var A=w.getValue(),H="";return x&&(H=R(x)?x.checked?"true":"false":x.value),x=H,x!==A?(w.setValue(x),!0):!1}function ie(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}function ae(x,w){var A=w.checked;return O({},w,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??x._wrapperState.initialChecked})}function re(x,w){var A=w.defaultValue==null?"":w.defaultValue,H=w.checked!=null?w.checked:w.defaultChecked;A=$(w.value!=null?w.value:A),x._wrapperState={initialChecked:H,initialValue:A,controlled:w.type==="checkbox"||w.type==="radio"?w.checked!=null:w.value!=null}}function le(x,w){w=w.checked,w!=null&&j(x,"checked",w,!1)}function ne(x,w){le(x,w);var A=$(w.value),H=w.type;if(A!=null)H==="number"?(A===0&&x.value===""||x.value!=A)&&(x.value=""+A):x.value!==""+A&&(x.value=""+A);else if(H==="submit"||H==="reset"){x.removeAttribute("value");return}w.hasOwnProperty("value")?ue(x,w.type,A):w.hasOwnProperty("defaultValue")&&ue(x,w.type,$(w.defaultValue)),w.checked==null&&w.defaultChecked!=null&&(x.defaultChecked=!!w.defaultChecked)}function fe(x,w,A){if(w.hasOwnProperty("value")||w.hasOwnProperty("defaultValue")){var H=w.type;if(!(H!=="submit"&&H!=="reset"||w.value!==void 0&&w.value!==null))return;w=""+x._wrapperState.initialValue,A||w===x.value||(x.value=w),x.defaultValue=w}A=x.name,A!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,A!==""&&(x.name=A)}function ue(x,w,A){(w!=="number"||ie(x.ownerDocument)!==x)&&(A==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+A&&(x.defaultValue=""+A))}var xe=Array.isArray;function ge(x,w,A,H){if(x=x.options,w){w={};for(var Z=0;Z<A.length;Z++)w["$"+A[Z]]=!0;for(A=0;A<x.length;A++)Z=w.hasOwnProperty("$"+x[A].value),x[A].selected!==Z&&(x[A].selected=Z),Z&&H&&(x[A].defaultSelected=!0)}else{for(A=""+$(A),w=null,Z=0;Z<x.length;Z++){if(x[Z].value===A){x[Z].selected=!0,H&&(x[Z].defaultSelected=!0);return}w!==null||x[Z].disabled||(w=x[Z])}w!==null&&(w.selected=!0)}}function be(x,w){if(w.dangerouslySetInnerHTML!=null)throw Error(t(91));return O({},w,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function ke(x,w){var A=w.value;if(A==null){if(A=w.children,w=w.defaultValue,A!=null){if(w!=null)throw Error(t(92));if(xe(A)){if(1<A.length)throw Error(t(93));A=A[0]}w=A}w==null&&(w=""),A=w}x._wrapperState={initialValue:$(A)}}function Ee(x,w){var A=$(w.value),H=$(w.defaultValue);A!=null&&(A=""+A,A!==x.value&&(x.value=A),w.defaultValue==null&&x.defaultValue!==A&&(x.defaultValue=A)),H!=null&&(x.defaultValue=""+H)}function ze(x){var w=x.textContent;w===x._wrapperState.initialValue&&w!==""&&w!==null&&(x.value=w)}function Fe(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(x,w){return x==null||x==="http://www.w3.org/1999/xhtml"?Fe(w):x==="http://www.w3.org/2000/svg"&&w==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var ce,je=(function(x){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(w,A,H,Z){MSApp.execUnsafeLocalFunction(function(){return x(w,A,H,Z)})}:x})(function(x,w){if(x.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in x)x.innerHTML=w;else{for(ce=ce||document.createElement("div"),ce.innerHTML="<svg>"+w.valueOf().toString()+"</svg>",w=ce.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;w.firstChild;)x.appendChild(w.firstChild)}});function Ce(x,w){if(w){var A=x.firstChild;if(A&&A===x.lastChild&&A.nodeType===3){A.nodeValue=w;return}}x.textContent=w}var Ue={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ye=["Webkit","ms","Moz","O"];Object.keys(Ue).forEach(function(x){Ye.forEach(function(w){w=w+x.charAt(0).toUpperCase()+x.substring(1),Ue[w]=Ue[x]})});function Oe(x,w,A){return w==null||typeof w=="boolean"||w===""?"":A||typeof w!="number"||w===0||Ue.hasOwnProperty(x)&&Ue[x]?(""+w).trim():w+"px"}function qe(x,w){x=x.style;for(var A in w)if(w.hasOwnProperty(A)){var H=A.indexOf("--")===0,Z=Oe(A,w[A],H);A==="float"&&(A="cssFloat"),H?x.setProperty(A,Z):x[A]=Z}}var Qe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function it(x,w){if(w){if(Qe[x]&&(w.children!=null||w.dangerouslySetInnerHTML!=null))throw Error(t(137,x));if(w.dangerouslySetInnerHTML!=null){if(w.children!=null)throw Error(t(60));if(typeof w.dangerouslySetInnerHTML!="object"||!("__html"in w.dangerouslySetInnerHTML))throw Error(t(61))}if(w.style!=null&&typeof w.style!="object")throw Error(t(62))}}function at(x,w){if(x.indexOf("-")===-1)return typeof w.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function Ht(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var dt=null,ye=null,Le=null;function Ke(x){if(x=xc(x)){if(typeof dt!="function")throw Error(t(280));var w=x.stateNode;w&&(w=sd(w),dt(x.stateNode,x.type,w))}}function It(x){ye?Le?Le.push(x):Le=[x]:ye=x}function gt(){if(ye){var x=ye,w=Le;if(Le=ye=null,Ke(x),w)for(x=0;x<w.length;x++)Ke(w[x])}}function lt(x,w){return x(w)}function Dt(){}var Wt=!1;function wt(x,w,A){if(Wt)return x(w,A);Wt=!0;try{return lt(x,w,A)}finally{Wt=!1,(ye!==null||Le!==null)&&(Dt(),gt())}}function zt(x,w){var A=x.stateNode;if(A===null)return null;var H=sd(A);if(H===null)return null;A=H[w];e:switch(w){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(x=x.type,H=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!H;break e;default:x=!1}if(x)return null;if(A&&typeof A!="function")throw Error(t(231,w,typeof A));return A}var Kt=!1;if(d)try{var At={};Object.defineProperty(At,"passive",{get:function(){Kt=!0}}),window.addEventListener("test",At,At),window.removeEventListener("test",At,At)}catch{Kt=!1}function ve(x,w,A,H,Z,Q,oe,pe,we){var Me=Array.prototype.slice.call(arguments,3);try{w.apply(A,Me)}catch(Ve){this.onError(Ve)}}var Se=!1,De=null,et=!1,Ct=null,Ze={onError:function(x){Se=!0,De=x}};function Pt(x,w,A,H,Z,Q,oe,pe,we){Se=!1,De=null,ve.apply(Ze,arguments)}function kt(x,w,A,H,Z,Q,oe,pe,we){if(Pt.apply(this,arguments),Se){if(Se){var Me=De;Se=!1,De=null}else throw Error(t(198));et||(et=!0,Ct=Me)}}function ft(x){var w=x,A=x;if(x.alternate)for(;w.return;)w=w.return;else{x=w;do w=x,(w.flags&4098)!==0&&(A=w.return),x=w.return;while(x)}return w.tag===3?A:null}function me(x){if(x.tag===13){var w=x.memoizedState;if(w===null&&(x=x.alternate,x!==null&&(w=x.memoizedState)),w!==null)return w.dehydrated}return null}function Re(x){if(ft(x)!==x)throw Error(t(188))}function $e(x){var w=x.alternate;if(!w){if(w=ft(x),w===null)throw Error(t(188));return w!==x?null:x}for(var A=x,H=w;;){var Z=A.return;if(Z===null)break;var Q=Z.alternate;if(Q===null){if(H=Z.return,H!==null){A=H;continue}break}if(Z.child===Q.child){for(Q=Z.child;Q;){if(Q===A)return Re(Z),x;if(Q===H)return Re(Z),w;Q=Q.sibling}throw Error(t(188))}if(A.return!==H.return)A=Z,H=Q;else{for(var oe=!1,pe=Z.child;pe;){if(pe===A){oe=!0,A=Z,H=Q;break}if(pe===H){oe=!0,H=Z,A=Q;break}pe=pe.sibling}if(!oe){for(pe=Q.child;pe;){if(pe===A){oe=!0,A=Q,H=Z;break}if(pe===H){oe=!0,H=Q,A=Z;break}pe=pe.sibling}if(!oe)throw Error(t(189))}}if(A.alternate!==H)throw Error(t(190))}if(A.tag!==3)throw Error(t(188));return A.stateNode.current===A?x:w}function st(x){return x=$e(x),x!==null?ct(x):null}function ct(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var w=ct(x);if(w!==null)return w;x=x.sibling}return null}var Et=r.unstable_scheduleCallback,Bt=r.unstable_cancelCallback,Nn=r.unstable_shouldYield,he=r.unstable_requestPaint,Ne=r.unstable_now,Be=r.unstable_getCurrentPriorityLevel,He=r.unstable_ImmediatePriority,yt=r.unstable_UserBlockingPriority,Je=r.unstable_NormalPriority,nt=r.unstable_LowPriority,Xt=r.unstable_IdlePriority,Ft=null,Rt=null;function Tt(x){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ft,x,void 0,(x.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:br,ir=Math.log,lr=Math.LN2;function br(x){return x>>>=0,x===0?32:31-(ir(x)/lr|0)|0}var Pr=64,Hr=4194304;function vn(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function gs(x,w){var A=x.pendingLanes;if(A===0)return 0;var H=0,Z=x.suspendedLanes,Q=x.pingedLanes,oe=A&268435455;if(oe!==0){var pe=oe&~Z;pe!==0?H=vn(pe):(Q&=oe,Q!==0&&(H=vn(Q)))}else oe=A&~Z,oe!==0?H=vn(oe):Q!==0&&(H=vn(Q));if(H===0)return 0;if(w!==0&&w!==H&&(w&Z)===0&&(Z=H&-H,Q=w&-w,Z>=Q||Z===16&&(Q&4194240)!==0))return w;if((H&4)!==0&&(H|=A&16),w=x.entangledLanes,w!==0)for(x=x.entanglements,w&=H;0<w;)A=31-Vt(w),Z=1<<A,H|=x[A],w&=~Z;return H}function ha(x,w){switch(x){case 1:case 2:case 4:return w+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(x,w){for(var A=x.suspendedLanes,H=x.pingedLanes,Z=x.expirationTimes,Q=x.pendingLanes;0<Q;){var oe=31-Vt(Q),pe=1<<oe,we=Z[oe];we===-1?((pe&A)===0||(pe&H)!==0)&&(Z[oe]=ha(pe,w)):we<=w&&(x.expiredLanes|=pe),Q&=~pe}}function Js(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function nr(){var x=Pr;return Pr<<=1,(Pr&4194240)===0&&(Pr=64),x}function Yt(x){for(var w=[],A=0;31>A;A++)w.push(x);return w}function Hn(x,w,A){x.pendingLanes|=w,w!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,w=31-Vt(w),x[w]=A}function wi(x,w){var A=x.pendingLanes&~w;x.pendingLanes=w,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=w,x.mutableReadLanes&=w,x.entangledLanes&=w,w=x.entanglements;var H=x.eventTimes;for(x=x.expirationTimes;0<A;){var Z=31-Vt(A),Q=1<<Z;w[Z]=0,H[Z]=-1,x[Z]=-1,A&=~Q}}function pa(x,w){var A=x.entangledLanes|=w;for(x=x.entanglements;A;){var H=31-Vt(A),Z=1<<H;Z&w|x[H]&w&&(x[H]|=w),A&=~Z}}var Ut=0;function ys(x){return x&=-x,1<x?4<x?(x&268435455)!==0?16:536870912:4:1}var Is,_i,Qa,ji,Rs,qo=!1,Ni=[],xs=null,ts=null,rs=null,ga=new Map,Qs=new Map,ns=[],b7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ob(x,w){switch(x){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":ga.delete(w.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(w.pointerId)}}function sc(x,w,A,H,Z,Q){return x===null||x.nativeEvent!==Q?(x={blockedOn:w,domEventName:A,eventSystemFlags:H,nativeEvent:Q,targetContainers:[Z]},w!==null&&(w=xc(w),w!==null&&_i(w)),x):(x.eventSystemFlags|=H,w=x.targetContainers,Z!==null&&w.indexOf(Z)===-1&&w.push(Z),x)}function w7(x,w,A,H,Z){switch(w){case"focusin":return xs=sc(xs,x,w,A,H,Z),!0;case"dragenter":return ts=sc(ts,x,w,A,H,Z),!0;case"mouseover":return rs=sc(rs,x,w,A,H,Z),!0;case"pointerover":var Q=Z.pointerId;return ga.set(Q,sc(ga.get(Q)||null,x,w,A,H,Z)),!0;case"gotpointercapture":return Q=Z.pointerId,Qs.set(Q,sc(Qs.get(Q)||null,x,w,A,H,Z)),!0}return!1}function Mb(x){var w=eo(x.target);if(w!==null){var A=ft(w);if(A!==null){if(w=A.tag,w===13){if(w=me(A),w!==null){x.blockedOn=w,Rs(x.priority,function(){Qa(A)});return}}else if(w===3&&A.stateNode.current.memoizedState.isDehydrated){x.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}x.blockedOn=null}function Hu(x){if(x.blockedOn!==null)return!1;for(var w=x.targetContainers;0<w.length;){var A=Tm(x.domEventName,x.eventSystemFlags,w[0],x.nativeEvent);if(A===null){A=x.nativeEvent;var H=new A.constructor(A.type,A);Lt=H,A.target.dispatchEvent(H),Lt=null}else return w=xc(A),w!==null&&_i(w),x.blockedOn=A,!1;w.shift()}return!0}function Ib(x,w,A){Hu(x)&&A.delete(w)}function _7(){qo=!1,xs!==null&&Hu(xs)&&(xs=null),ts!==null&&Hu(ts)&&(ts=null),rs!==null&&Hu(rs)&&(rs=null),ga.forEach(Ib),Qs.forEach(Ib)}function ic(x,w){x.blockedOn===w&&(x.blockedOn=null,qo||(qo=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_7)))}function ac(x){function w(Z){return ic(Z,x)}if(0<Ni.length){ic(Ni[0],x);for(var A=1;A<Ni.length;A++){var H=Ni[A];H.blockedOn===x&&(H.blockedOn=null)}}for(xs!==null&&ic(xs,x),ts!==null&&ic(ts,x),rs!==null&&ic(rs,x),ga.forEach(w),Qs.forEach(w),A=0;A<ns.length;A++)H=ns[A],H.blockedOn===x&&(H.blockedOn=null);for(;0<ns.length&&(A=ns[0],A.blockedOn===null);)Mb(A),A.blockedOn===null&&ns.shift()}var Ho=C.ReactCurrentBatchConfig,Wu=!0;function j7(x,w,A,H){var Z=Ut,Q=Ho.transition;Ho.transition=null;try{Ut=1,Pm(x,w,A,H)}finally{Ut=Z,Ho.transition=Q}}function N7(x,w,A,H){var Z=Ut,Q=Ho.transition;Ho.transition=null;try{Ut=4,Pm(x,w,A,H)}finally{Ut=Z,Ho.transition=Q}}function Pm(x,w,A,H){if(Wu){var Z=Tm(x,w,A,H);if(Z===null)Xm(x,w,H,Vu,A),Ob(x,H);else if(w7(Z,x,w,A,H))H.stopPropagation();else if(Ob(x,H),w&4&&-1<b7.indexOf(x)){for(;Z!==null;){var Q=xc(Z);if(Q!==null&&Is(Q),Q=Tm(x,w,A,H),Q===null&&Xm(x,w,H,Vu,A),Q===Z)break;Z=Q}Z!==null&&H.stopPropagation()}else Xm(x,w,H,null,A)}}var Vu=null;function Tm(x,w,A,H){if(Vu=null,x=Ht(H),x=eo(x),x!==null)if(w=ft(x),w===null)x=null;else if(A=w.tag,A===13){if(x=me(w),x!==null)return x;x=null}else if(A===3){if(w.stateNode.current.memoizedState.isDehydrated)return w.tag===3?w.stateNode.containerInfo:null;x=null}else w!==x&&(x=null);return Vu=x,null}function Rb(x){switch(x){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Be()){case He:return 1;case yt:return 4;case Je:case nt:return 16;case Xt:return 536870912;default:return 16}default:return 16}}var ya=null,Om=null,Ku=null;function Db(){if(Ku)return Ku;var x,w=Om,A=w.length,H,Z="value"in ya?ya.value:ya.textContent,Q=Z.length;for(x=0;x<A&&w[x]===Z[x];x++);var oe=A-x;for(H=1;H<=oe&&w[A-H]===Z[Q-H];H++);return Ku=Z.slice(x,1<H?1-H:void 0)}function Xu(x){var w=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&w===13&&(x=13)):x=w,x===10&&(x=13),32<=x||x===13?x:0}function Gu(){return!0}function Lb(){return!1}function ss(x){function w(A,H,Z,Q,oe){this._reactName=A,this._targetInst=Z,this.type=H,this.nativeEvent=Q,this.target=oe,this.currentTarget=null;for(var pe in x)x.hasOwnProperty(pe)&&(A=x[pe],this[pe]=A?A(Q):Q[pe]);return this.isDefaultPrevented=(Q.defaultPrevented!=null?Q.defaultPrevented:Q.returnValue===!1)?Gu:Lb,this.isPropagationStopped=Lb,this}return O(w.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),w}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=ss(Wo),oc=O({},Wo,{view:0,detail:0}),k7=ss(oc),Im,Rm,lc,Yu=O({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==lc&&(lc&&x.type==="mousemove"?(Im=x.screenX-lc.screenX,Rm=x.screenY-lc.screenY):Rm=Im=0,lc=x),Im)},movementY:function(x){return"movementY"in x?x.movementY:Rm}}),zb=ss(Yu),S7=O({},Yu,{dataTransfer:0}),C7=ss(S7),E7=O({},oc,{relatedTarget:0}),Dm=ss(E7),A7=O({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),P7=ss(A7),T7=O({},Wo,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),O7=ss(T7),M7=O({},Wo,{data:0}),Fb=ss(M7),I7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L7(x){var w=this.nativeEvent;return w.getModifierState?w.getModifierState(x):(x=D7[x])?!!w[x]:!1}function Lm(){return L7}var z7=O({},oc,{key:function(x){if(x.key){var w=I7[x.key]||x.key;if(w!=="Unidentified")return w}return x.type==="keypress"?(x=Xu(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?R7[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(x){return x.type==="keypress"?Xu(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?Xu(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),F7=ss(z7),$7=O({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$b=ss($7),B7=O({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),U7=ss(B7),q7=O({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),H7=ss(q7),W7=O({},Yu,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),V7=ss(W7),K7=[9,13,27,32],zm=d&&"CompositionEvent"in window,cc=null;d&&"documentMode"in document&&(cc=document.documentMode);var X7=d&&"TextEvent"in window&&!cc,Bb=d&&(!zm||cc&&8<cc&&11>=cc),Ub=" ",qb=!1;function Hb(x,w){switch(x){case"keyup":return K7.indexOf(w.keyCode)!==-1;case"keydown":return w.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wb(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var Vo=!1;function G7(x,w){switch(x){case"compositionend":return Wb(w);case"keypress":return w.which!==32?null:(qb=!0,Ub);case"textInput":return x=w.data,x===Ub&&qb?null:x;default:return null}}function Y7(x,w){if(Vo)return x==="compositionend"||!zm&&Hb(x,w)?(x=Db(),Ku=Om=ya=null,Vo=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(w.ctrlKey||w.altKey||w.metaKey)||w.ctrlKey&&w.altKey){if(w.char&&1<w.char.length)return w.char;if(w.which)return String.fromCharCode(w.which)}return null;case"compositionend":return Bb&&w.locale!=="ko"?null:w.data;default:return null}}var Z7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vb(x){var w=x&&x.nodeName&&x.nodeName.toLowerCase();return w==="input"?!!Z7[x.type]:w==="textarea"}function Kb(x,w,A,H){It(H),w=td(w,"onChange"),0<w.length&&(A=new Mm("onChange","change",null,A,H),x.push({event:A,listeners:w}))}var uc=null,dc=null;function J7(x){d1(x,0)}function Zu(x){var w=Zo(x);if(se(w))return x}function Q7(x,w){if(x==="change")return w}var Xb=!1;if(d){var Fm;if(d){var $m="oninput"in document;if(!$m){var Gb=document.createElement("div");Gb.setAttribute("oninput","return;"),$m=typeof Gb.oninput=="function"}Fm=$m}else Fm=!1;Xb=Fm&&(!document.documentMode||9<document.documentMode)}function Yb(){uc&&(uc.detachEvent("onpropertychange",Zb),dc=uc=null)}function Zb(x){if(x.propertyName==="value"&&Zu(dc)){var w=[];Kb(w,dc,x,Ht(x)),wt(J7,w)}}function e9(x,w,A){x==="focusin"?(Yb(),uc=w,dc=A,uc.attachEvent("onpropertychange",Zb)):x==="focusout"&&Yb()}function t9(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return Zu(dc)}function r9(x,w){if(x==="click")return Zu(w)}function n9(x,w){if(x==="input"||x==="change")return Zu(w)}function s9(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var Ds=typeof Object.is=="function"?Object.is:s9;function fc(x,w){if(Ds(x,w))return!0;if(typeof x!="object"||x===null||typeof w!="object"||w===null)return!1;var A=Object.keys(x),H=Object.keys(w);if(A.length!==H.length)return!1;for(H=0;H<A.length;H++){var Z=A[H];if(!c.call(w,Z)||!Ds(x[Z],w[Z]))return!1}return!0}function Jb(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function Qb(x,w){var A=Jb(x);x=0;for(var H;A;){if(A.nodeType===3){if(H=x+A.textContent.length,x<=w&&H>=w)return{node:A,offset:w-x};x=H}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=Jb(A)}}function e1(x,w){return x&&w?x===w?!0:x&&x.nodeType===3?!1:w&&w.nodeType===3?e1(x,w.parentNode):"contains"in x?x.contains(w):x.compareDocumentPosition?!!(x.compareDocumentPosition(w)&16):!1:!1}function t1(){for(var x=window,w=ie();w instanceof x.HTMLIFrameElement;){try{var A=typeof w.contentWindow.location.href=="string"}catch{A=!1}if(A)x=w.contentWindow;else break;w=ie(x.document)}return w}function Bm(x){var w=x&&x.nodeName&&x.nodeName.toLowerCase();return w&&(w==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||w==="textarea"||x.contentEditable==="true")}function i9(x){var w=t1(),A=x.focusedElem,H=x.selectionRange;if(w!==A&&A&&A.ownerDocument&&e1(A.ownerDocument.documentElement,A)){if(H!==null&&Bm(A)){if(w=H.start,x=H.end,x===void 0&&(x=w),"selectionStart"in A)A.selectionStart=w,A.selectionEnd=Math.min(x,A.value.length);else if(x=(w=A.ownerDocument||document)&&w.defaultView||window,x.getSelection){x=x.getSelection();var Z=A.textContent.length,Q=Math.min(H.start,Z);H=H.end===void 0?Q:Math.min(H.end,Z),!x.extend&&Q>H&&(Z=H,H=Q,Q=Z),Z=Qb(A,Q);var oe=Qb(A,H);Z&&oe&&(x.rangeCount!==1||x.anchorNode!==Z.node||x.anchorOffset!==Z.offset||x.focusNode!==oe.node||x.focusOffset!==oe.offset)&&(w=w.createRange(),w.setStart(Z.node,Z.offset),x.removeAllRanges(),Q>H?(x.addRange(w),x.extend(oe.node,oe.offset)):(w.setEnd(oe.node,oe.offset),x.addRange(w)))}}for(w=[],x=A;x=x.parentNode;)x.nodeType===1&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<w.length;A++)x=w[A],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var a9=d&&"documentMode"in document&&11>=document.documentMode,Ko=null,Um=null,hc=null,qm=!1;function r1(x,w,A){var H=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;qm||Ko==null||Ko!==ie(H)||(H=Ko,"selectionStart"in H&&Bm(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),hc&&fc(hc,H)||(hc=H,H=td(Um,"onSelect"),0<H.length&&(w=new Mm("onSelect","select",null,w,A),x.push({event:w,listeners:H}),w.target=Ko)))}function Ju(x,w){var A={};return A[x.toLowerCase()]=w.toLowerCase(),A["Webkit"+x]="webkit"+w,A["Moz"+x]="moz"+w,A}var Xo={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},Hm={},n1={};d&&(n1=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Qu(x){if(Hm[x])return Hm[x];if(!Xo[x])return x;var w=Xo[x],A;for(A in w)if(w.hasOwnProperty(A)&&A in n1)return Hm[x]=w[A];return x}var s1=Qu("animationend"),i1=Qu("animationiteration"),a1=Qu("animationstart"),o1=Qu("transitionend"),l1=new Map,c1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(x,w){l1.set(x,w),i(w,[x])}for(var Wm=0;Wm<c1.length;Wm++){var Vm=c1[Wm],o9=Vm.toLowerCase(),l9=Vm[0].toUpperCase()+Vm.slice(1);xa(o9,"on"+l9)}xa(s1,"onAnimationEnd"),xa(i1,"onAnimationIteration"),xa(a1,"onAnimationStart"),xa("dblclick","onDoubleClick"),xa("focusin","onFocus"),xa("focusout","onBlur"),xa(o1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c9=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function u1(x,w,A){var H=x.type||"unknown-event";x.currentTarget=A,kt(H,w,void 0,x),x.currentTarget=null}function d1(x,w){w=(w&4)!==0;for(var A=0;A<x.length;A++){var H=x[A],Z=H.event;H=H.listeners;e:{var Q=void 0;if(w)for(var oe=H.length-1;0<=oe;oe--){var pe=H[oe],we=pe.instance,Me=pe.currentTarget;if(pe=pe.listener,we!==Q&&Z.isPropagationStopped())break e;u1(Z,pe,Me),Q=we}else for(oe=0;oe<H.length;oe++){if(pe=H[oe],we=pe.instance,Me=pe.currentTarget,pe=pe.listener,we!==Q&&Z.isPropagationStopped())break e;u1(Z,pe,Me),Q=we}}}if(et)throw x=Ct,et=!1,Ct=null,x}function wr(x,w){var A=w[ep];A===void 0&&(A=w[ep]=new Set);var H=x+"__bubble";A.has(H)||(f1(w,x,2,!1),A.add(H))}function Km(x,w,A){var H=0;w&&(H|=4),f1(A,x,H,w)}var ed="_reactListening"+Math.random().toString(36).slice(2);function pc(x){if(!x[ed]){x[ed]=!0,s.forEach(function(A){A!=="selectionchange"&&(c9.has(A)||Km(A,!1,x),Km(A,!0,x))});var w=x.nodeType===9?x:x.ownerDocument;w===null||w[ed]||(w[ed]=!0,Km("selectionchange",!1,w))}}function f1(x,w,A,H){switch(Rb(w)){case 1:var Z=j7;break;case 4:Z=N7;break;default:Z=Pm}A=Z.bind(null,w,A,x),Z=void 0,!Kt||w!=="touchstart"&&w!=="touchmove"&&w!=="wheel"||(Z=!0),H?Z!==void 0?x.addEventListener(w,A,{capture:!0,passive:Z}):x.addEventListener(w,A,!0):Z!==void 0?x.addEventListener(w,A,{passive:Z}):x.addEventListener(w,A,!1)}function Xm(x,w,A,H,Z){var Q=H;if((w&1)===0&&(w&2)===0&&H!==null)e:for(;;){if(H===null)return;var oe=H.tag;if(oe===3||oe===4){var pe=H.stateNode.containerInfo;if(pe===Z||pe.nodeType===8&&pe.parentNode===Z)break;if(oe===4)for(oe=H.return;oe!==null;){var we=oe.tag;if((we===3||we===4)&&(we=oe.stateNode.containerInfo,we===Z||we.nodeType===8&&we.parentNode===Z))return;oe=oe.return}for(;pe!==null;){if(oe=eo(pe),oe===null)return;if(we=oe.tag,we===5||we===6){H=Q=oe;continue e}pe=pe.parentNode}}H=H.return}wt(function(){var Me=Q,Ve=Ht(A),Xe=[];e:{var We=l1.get(x);if(We!==void 0){var ut=Mm,xt=x;switch(x){case"keypress":if(Xu(A)===0)break e;case"keydown":case"keyup":ut=F7;break;case"focusin":xt="focus",ut=Dm;break;case"focusout":xt="blur",ut=Dm;break;case"beforeblur":case"afterblur":ut=Dm;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=zb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=C7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=U7;break;case s1:case i1:case a1:ut=P7;break;case o1:ut=H7;break;case"scroll":ut=k7;break;case"wheel":ut=V7;break;case"copy":case"cut":case"paste":ut=O7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=$b}var _t=(w&4)!==0,Br=!_t&&x==="scroll",Ae=_t?We!==null?We+"Capture":null:We;_t=[];for(var _e=Me,Te;_e!==null;){Te=_e;var tt=Te.stateNode;if(Te.tag===5&&tt!==null&&(Te=tt,Ae!==null&&(tt=zt(_e,Ae),tt!=null&&_t.push(gc(_e,tt,Te)))),Br)break;_e=_e.return}0<_t.length&&(We=new ut(We,xt,null,A,Ve),Xe.push({event:We,listeners:_t}))}}if((w&7)===0){e:{if(We=x==="mouseover"||x==="pointerover",ut=x==="mouseout"||x==="pointerout",We&&A!==Lt&&(xt=A.relatedTarget||A.fromElement)&&(eo(xt)||xt[ki]))break e;if((ut||We)&&(We=Ve.window===Ve?Ve:(We=Ve.ownerDocument)?We.defaultView||We.parentWindow:window,ut?(xt=A.relatedTarget||A.toElement,ut=Me,xt=xt?eo(xt):null,xt!==null&&(Br=ft(xt),xt!==Br||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(ut=null,xt=Me),ut!==xt)){if(_t=zb,tt="onMouseLeave",Ae="onMouseEnter",_e="mouse",(x==="pointerout"||x==="pointerover")&&(_t=$b,tt="onPointerLeave",Ae="onPointerEnter",_e="pointer"),Br=ut==null?We:Zo(ut),Te=xt==null?We:Zo(xt),We=new _t(tt,_e+"leave",ut,A,Ve),We.target=Br,We.relatedTarget=Te,tt=null,eo(Ve)===Me&&(_t=new _t(Ae,_e+"enter",xt,A,Ve),_t.target=Te,_t.relatedTarget=Br,tt=_t),Br=tt,ut&&xt)t:{for(_t=ut,Ae=xt,_e=0,Te=_t;Te;Te=Go(Te))_e++;for(Te=0,tt=Ae;tt;tt=Go(tt))Te++;for(;0<_e-Te;)_t=Go(_t),_e--;for(;0<Te-_e;)Ae=Go(Ae),Te--;for(;_e--;){if(_t===Ae||Ae!==null&&_t===Ae.alternate)break t;_t=Go(_t),Ae=Go(Ae)}_t=null}else _t=null;ut!==null&&h1(Xe,We,ut,_t,!1),xt!==null&&Br!==null&&h1(Xe,Br,xt,_t,!0)}}e:{if(We=Me?Zo(Me):window,ut=We.nodeName&&We.nodeName.toLowerCase(),ut==="select"||ut==="input"&&We.type==="file")var St=Q7;else if(Vb(We))if(Xb)St=n9;else{St=t9;var Ot=e9}else(ut=We.nodeName)&&ut.toLowerCase()==="input"&&(We.type==="checkbox"||We.type==="radio")&&(St=r9);if(St&&(St=St(x,Me))){Kb(Xe,St,A,Ve);break e}Ot&&Ot(x,We,Me),x==="focusout"&&(Ot=We._wrapperState)&&Ot.controlled&&We.type==="number"&&ue(We,"number",We.value)}switch(Ot=Me?Zo(Me):window,x){case"focusin":(Vb(Ot)||Ot.contentEditable==="true")&&(Ko=Ot,Um=Me,hc=null);break;case"focusout":hc=Um=Ko=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,r1(Xe,A,Ve);break;case"selectionchange":if(a9)break;case"keydown":case"keyup":r1(Xe,A,Ve)}var Mt;if(zm)e:{switch(x){case"compositionstart":var $t="onCompositionStart";break e;case"compositionend":$t="onCompositionEnd";break e;case"compositionupdate":$t="onCompositionUpdate";break e}$t=void 0}else Vo?Hb(x,A)&&($t="onCompositionEnd"):x==="keydown"&&A.keyCode===229&&($t="onCompositionStart");$t&&(Bb&&A.locale!=="ko"&&(Vo||$t!=="onCompositionStart"?$t==="onCompositionEnd"&&Vo&&(Mt=Db()):(ya=Ve,Om="value"in ya?ya.value:ya.textContent,Vo=!0)),Ot=td(Me,$t),0<Ot.length&&($t=new Fb($t,x,null,A,Ve),Xe.push({event:$t,listeners:Ot}),Mt?$t.data=Mt:(Mt=Wb(A),Mt!==null&&($t.data=Mt)))),(Mt=X7?G7(x,A):Y7(x,A))&&(Me=td(Me,"onBeforeInput"),0<Me.length&&(Ve=new Fb("onBeforeInput","beforeinput",null,A,Ve),Xe.push({event:Ve,listeners:Me}),Ve.data=Mt))}d1(Xe,w)})}function gc(x,w,A){return{instance:x,listener:w,currentTarget:A}}function td(x,w){for(var A=w+"Capture",H=[];x!==null;){var Z=x,Q=Z.stateNode;Z.tag===5&&Q!==null&&(Z=Q,Q=zt(x,A),Q!=null&&H.unshift(gc(x,Q,Z)),Q=zt(x,w),Q!=null&&H.push(gc(x,Q,Z))),x=x.return}return H}function Go(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function h1(x,w,A,H,Z){for(var Q=w._reactName,oe=[];A!==null&&A!==H;){var pe=A,we=pe.alternate,Me=pe.stateNode;if(we!==null&&we===H)break;pe.tag===5&&Me!==null&&(pe=Me,Z?(we=zt(A,Q),we!=null&&oe.unshift(gc(A,we,pe))):Z||(we=zt(A,Q),we!=null&&oe.push(gc(A,we,pe)))),A=A.return}oe.length!==0&&x.push({event:w,listeners:oe})}var u9=/\r\n?/g,d9=/\u0000|\uFFFD/g;function m1(x){return(typeof x=="string"?x:""+x).replace(u9,`
`).replace(d9,"")}function rd(x,w,A){if(w=m1(w),m1(x)!==w&&A)throw Error(t(425))}function nd(){}var Gm=null,Ym=null;function Zm(x,w){return x==="textarea"||x==="noscript"||typeof w.children=="string"||typeof w.children=="number"||typeof w.dangerouslySetInnerHTML=="object"&&w.dangerouslySetInnerHTML!==null&&w.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,f9=typeof clearTimeout=="function"?clearTimeout:void 0,p1=typeof Promise=="function"?Promise:void 0,h9=typeof queueMicrotask=="function"?queueMicrotask:typeof p1<"u"?function(x){return p1.resolve(null).then(x).catch(m9)}:Jm;function m9(x){setTimeout(function(){throw x})}function Qm(x,w){var A=w,H=0;do{var Z=A.nextSibling;if(x.removeChild(A),Z&&Z.nodeType===8)if(A=Z.data,A==="/$"){if(H===0){x.removeChild(Z),ac(w);return}H--}else A!=="$"&&A!=="$?"&&A!=="$!"||H++;A=Z}while(A);ac(w)}function va(x){for(;x!=null;x=x.nextSibling){var w=x.nodeType;if(w===1||w===3)break;if(w===8){if(w=x.data,w==="$"||w==="$!"||w==="$?")break;if(w==="/$")return null}}return x}function g1(x){x=x.previousSibling;for(var w=0;x;){if(x.nodeType===8){var A=x.data;if(A==="$"||A==="$!"||A==="$?"){if(w===0)return x;w--}else A==="/$"&&w++}x=x.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),ei="__reactFiber$"+Yo,yc="__reactProps$"+Yo,ki="__reactContainer$"+Yo,ep="__reactEvents$"+Yo,p9="__reactListeners$"+Yo,g9="__reactHandles$"+Yo;function eo(x){var w=x[ei];if(w)return w;for(var A=x.parentNode;A;){if(w=A[ki]||A[ei]){if(A=w.alternate,w.child!==null||A!==null&&A.child!==null)for(x=g1(x);x!==null;){if(A=x[ei])return A;x=g1(x)}return w}x=A,A=x.parentNode}return null}function xc(x){return x=x[ei]||x[ki],!x||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function Zo(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(t(33))}function sd(x){return x[yc]||null}var tp=[],Jo=-1;function ba(x){return{current:x}}function _r(x){0>Jo||(x.current=tp[Jo],tp[Jo]=null,Jo--)}function yr(x,w){Jo++,tp[Jo]=x.current,x.current=w}var wa={},kn=ba(wa),Wn=ba(!1),to=wa;function Qo(x,w){var A=x.type.contextTypes;if(!A)return wa;var H=x.stateNode;if(H&&H.__reactInternalMemoizedUnmaskedChildContext===w)return H.__reactInternalMemoizedMaskedChildContext;var Z={},Q;for(Q in A)Z[Q]=w[Q];return H&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=w,x.__reactInternalMemoizedMaskedChildContext=Z),Z}function Vn(x){return x=x.childContextTypes,x!=null}function id(){_r(Wn),_r(kn)}function y1(x,w,A){if(kn.current!==wa)throw Error(t(168));yr(kn,w),yr(Wn,A)}function x1(x,w,A){var H=x.stateNode;if(w=w.childContextTypes,typeof H.getChildContext!="function")return A;H=H.getChildContext();for(var Z in H)if(!(Z in w))throw Error(t(108,J(x)||"Unknown",Z));return O({},A,H)}function ad(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||wa,to=kn.current,yr(kn,x),yr(Wn,Wn.current),!0}function v1(x,w,A){var H=x.stateNode;if(!H)throw Error(t(169));A?(x=x1(x,w,to),H.__reactInternalMemoizedMergedChildContext=x,_r(Wn),_r(kn),yr(kn,x)):_r(Wn),yr(Wn,A)}var Si=null,od=!1,rp=!1;function b1(x){Si===null?Si=[x]:Si.push(x)}function y9(x){od=!0,b1(x)}function _a(){if(!rp&&Si!==null){rp=!0;var x=0,w=Ut;try{var A=Si;for(Ut=1;x<A.length;x++){var H=A[x];do H=H(!0);while(H!==null)}Si=null,od=!1}catch(Z){throw Si!==null&&(Si=Si.slice(x+1)),Et(He,_a),Z}finally{Ut=w,rp=!1}}return null}var el=[],tl=0,ld=null,cd=0,vs=[],bs=0,ro=null,Ci=1,Ei="";function no(x,w){el[tl++]=cd,el[tl++]=ld,ld=x,cd=w}function w1(x,w,A){vs[bs++]=Ci,vs[bs++]=Ei,vs[bs++]=ro,ro=x;var H=Ci;x=Ei;var Z=32-Vt(H)-1;H&=~(1<<Z),A+=1;var Q=32-Vt(w)+Z;if(30<Q){var oe=Z-Z%5;Q=(H&(1<<oe)-1).toString(32),H>>=oe,Z-=oe,Ci=1<<32-Vt(w)+Z|A<<Z|H,Ei=Q+x}else Ci=1<<Q|A<<Z|H,Ei=x}function np(x){x.return!==null&&(no(x,1),w1(x,1,0))}function sp(x){for(;x===ld;)ld=el[--tl],el[tl]=null,cd=el[--tl],el[tl]=null;for(;x===ro;)ro=vs[--bs],vs[bs]=null,Ei=vs[--bs],vs[bs]=null,Ci=vs[--bs],vs[bs]=null}var is=null,as=null,kr=!1,Ls=null;function _1(x,w){var A=Ns(5,null,null,0);A.elementType="DELETED",A.stateNode=w,A.return=x,w=x.deletions,w===null?(x.deletions=[A],x.flags|=16):w.push(A)}function j1(x,w){switch(x.tag){case 5:var A=x.type;return w=w.nodeType!==1||A.toLowerCase()!==w.nodeName.toLowerCase()?null:w,w!==null?(x.stateNode=w,is=x,as=va(w.firstChild),!0):!1;case 6:return w=x.pendingProps===""||w.nodeType!==3?null:w,w!==null?(x.stateNode=w,is=x,as=null,!0):!1;case 13:return w=w.nodeType!==8?null:w,w!==null?(A=ro!==null?{id:Ci,overflow:Ei}:null,x.memoizedState={dehydrated:w,treeContext:A,retryLane:1073741824},A=Ns(18,null,null,0),A.stateNode=w,A.return=x,x.child=A,is=x,as=null,!0):!1;default:return!1}}function ip(x){return(x.mode&1)!==0&&(x.flags&128)===0}function ap(x){if(kr){var w=as;if(w){var A=w;if(!j1(x,w)){if(ip(x))throw Error(t(418));w=va(A.nextSibling);var H=is;w&&j1(x,w)?_1(H,A):(x.flags=x.flags&-4097|2,kr=!1,is=x)}}else{if(ip(x))throw Error(t(418));x.flags=x.flags&-4097|2,kr=!1,is=x}}}function N1(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;is=x}function ud(x){if(x!==is)return!1;if(!kr)return N1(x),kr=!0,!1;var w;if((w=x.tag!==3)&&!(w=x.tag!==5)&&(w=x.type,w=w!=="head"&&w!=="body"&&!Zm(x.type,x.memoizedProps)),w&&(w=as)){if(ip(x))throw k1(),Error(t(418));for(;w;)_1(x,w),w=va(w.nextSibling)}if(N1(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));e:{for(x=x.nextSibling,w=0;x;){if(x.nodeType===8){var A=x.data;if(A==="/$"){if(w===0){as=va(x.nextSibling);break e}w--}else A!=="$"&&A!=="$!"&&A!=="$?"||w++}x=x.nextSibling}as=null}}else as=is?va(x.stateNode.nextSibling):null;return!0}function k1(){for(var x=as;x;)x=va(x.nextSibling)}function rl(){as=is=null,kr=!1}function op(x){Ls===null?Ls=[x]:Ls.push(x)}var x9=C.ReactCurrentBatchConfig;function vc(x,w,A){if(x=A.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(t(309));var H=A.stateNode}if(!H)throw Error(t(147,x));var Z=H,Q=""+x;return w!==null&&w.ref!==null&&typeof w.ref=="function"&&w.ref._stringRef===Q?w.ref:(w=function(oe){var pe=Z.refs;oe===null?delete pe[Q]:pe[Q]=oe},w._stringRef=Q,w)}if(typeof x!="string")throw Error(t(284));if(!A._owner)throw Error(t(290,x))}return x}function dd(x,w){throw x=Object.prototype.toString.call(w),Error(t(31,x==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":x))}function S1(x){var w=x._init;return w(x._payload)}function C1(x){function w(Ae,_e){if(x){var Te=Ae.deletions;Te===null?(Ae.deletions=[_e],Ae.flags|=16):Te.push(_e)}}function A(Ae,_e){if(!x)return null;for(;_e!==null;)w(Ae,_e),_e=_e.sibling;return null}function H(Ae,_e){for(Ae=new Map;_e!==null;)_e.key!==null?Ae.set(_e.key,_e):Ae.set(_e.index,_e),_e=_e.sibling;return Ae}function Z(Ae,_e){return Ae=Pa(Ae,_e),Ae.index=0,Ae.sibling=null,Ae}function Q(Ae,_e,Te){return Ae.index=Te,x?(Te=Ae.alternate,Te!==null?(Te=Te.index,Te<_e?(Ae.flags|=2,_e):Te):(Ae.flags|=2,_e)):(Ae.flags|=1048576,_e)}function oe(Ae){return x&&Ae.alternate===null&&(Ae.flags|=2),Ae}function pe(Ae,_e,Te,tt){return _e===null||_e.tag!==6?(_e=Jp(Te,Ae.mode,tt),_e.return=Ae,_e):(_e=Z(_e,Te),_e.return=Ae,_e)}function we(Ae,_e,Te,tt){var St=Te.type;return St===q?Ve(Ae,_e,Te.props.children,tt,Te.key):_e!==null&&(_e.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===_&&S1(St)===_e.type)?(tt=Z(_e,Te.props),tt.ref=vc(Ae,_e,Te),tt.return=Ae,tt):(tt=Rd(Te.type,Te.key,Te.props,null,Ae.mode,tt),tt.ref=vc(Ae,_e,Te),tt.return=Ae,tt)}function Me(Ae,_e,Te,tt){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Te.containerInfo||_e.stateNode.implementation!==Te.implementation?(_e=Qp(Te,Ae.mode,tt),_e.return=Ae,_e):(_e=Z(_e,Te.children||[]),_e.return=Ae,_e)}function Ve(Ae,_e,Te,tt,St){return _e===null||_e.tag!==7?(_e=fo(Te,Ae.mode,tt,St),_e.return=Ae,_e):(_e=Z(_e,Te),_e.return=Ae,_e)}function Xe(Ae,_e,Te){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=Jp(""+_e,Ae.mode,Te),_e.return=Ae,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case T:return Te=Rd(_e.type,_e.key,_e.props,null,Ae.mode,Te),Te.ref=vc(Ae,null,_e),Te.return=Ae,Te;case D:return _e=Qp(_e,Ae.mode,Te),_e.return=Ae,_e;case _:var tt=_e._init;return Xe(Ae,tt(_e._payload),Te)}if(xe(_e)||S(_e))return _e=fo(_e,Ae.mode,Te,null),_e.return=Ae,_e;dd(Ae,_e)}return null}function We(Ae,_e,Te,tt){var St=_e!==null?_e.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return St!==null?null:pe(Ae,_e,""+Te,tt);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:return Te.key===St?we(Ae,_e,Te,tt):null;case D:return Te.key===St?Me(Ae,_e,Te,tt):null;case _:return St=Te._init,We(Ae,_e,St(Te._payload),tt)}if(xe(Te)||S(Te))return St!==null?null:Ve(Ae,_e,Te,tt,null);dd(Ae,Te)}return null}function ut(Ae,_e,Te,tt,St){if(typeof tt=="string"&&tt!==""||typeof tt=="number")return Ae=Ae.get(Te)||null,pe(_e,Ae,""+tt,St);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case T:return Ae=Ae.get(tt.key===null?Te:tt.key)||null,we(_e,Ae,tt,St);case D:return Ae=Ae.get(tt.key===null?Te:tt.key)||null,Me(_e,Ae,tt,St);case _:var Ot=tt._init;return ut(Ae,_e,Te,Ot(tt._payload),St)}if(xe(tt)||S(tt))return Ae=Ae.get(Te)||null,Ve(_e,Ae,tt,St,null);dd(_e,tt)}return null}function xt(Ae,_e,Te,tt){for(var St=null,Ot=null,Mt=_e,$t=_e=0,on=null;Mt!==null&&$t<Te.length;$t++){Mt.index>$t?(on=Mt,Mt=null):on=Mt.sibling;var ar=We(Ae,Mt,Te[$t],tt);if(ar===null){Mt===null&&(Mt=on);break}x&&Mt&&ar.alternate===null&&w(Ae,Mt),_e=Q(ar,_e,$t),Ot===null?St=ar:Ot.sibling=ar,Ot=ar,Mt=on}if($t===Te.length)return A(Ae,Mt),kr&&no(Ae,$t),St;if(Mt===null){for(;$t<Te.length;$t++)Mt=Xe(Ae,Te[$t],tt),Mt!==null&&(_e=Q(Mt,_e,$t),Ot===null?St=Mt:Ot.sibling=Mt,Ot=Mt);return kr&&no(Ae,$t),St}for(Mt=H(Ae,Mt);$t<Te.length;$t++)on=ut(Mt,Ae,$t,Te[$t],tt),on!==null&&(x&&on.alternate!==null&&Mt.delete(on.key===null?$t:on.key),_e=Q(on,_e,$t),Ot===null?St=on:Ot.sibling=on,Ot=on);return x&&Mt.forEach(function(Ta){return w(Ae,Ta)}),kr&&no(Ae,$t),St}function _t(Ae,_e,Te,tt){var St=S(Te);if(typeof St!="function")throw Error(t(150));if(Te=St.call(Te),Te==null)throw Error(t(151));for(var Ot=St=null,Mt=_e,$t=_e=0,on=null,ar=Te.next();Mt!==null&&!ar.done;$t++,ar=Te.next()){Mt.index>$t?(on=Mt,Mt=null):on=Mt.sibling;var Ta=We(Ae,Mt,ar.value,tt);if(Ta===null){Mt===null&&(Mt=on);break}x&&Mt&&Ta.alternate===null&&w(Ae,Mt),_e=Q(Ta,_e,$t),Ot===null?St=Ta:Ot.sibling=Ta,Ot=Ta,Mt=on}if(ar.done)return A(Ae,Mt),kr&&no(Ae,$t),St;if(Mt===null){for(;!ar.done;$t++,ar=Te.next())ar=Xe(Ae,ar.value,tt),ar!==null&&(_e=Q(ar,_e,$t),Ot===null?St=ar:Ot.sibling=ar,Ot=ar);return kr&&no(Ae,$t),St}for(Mt=H(Ae,Mt);!ar.done;$t++,ar=Te.next())ar=ut(Mt,Ae,$t,ar.value,tt),ar!==null&&(x&&ar.alternate!==null&&Mt.delete(ar.key===null?$t:ar.key),_e=Q(ar,_e,$t),Ot===null?St=ar:Ot.sibling=ar,Ot=ar);return x&&Mt.forEach(function(Z9){return w(Ae,Z9)}),kr&&no(Ae,$t),St}function Br(Ae,_e,Te,tt){if(typeof Te=="object"&&Te!==null&&Te.type===q&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case T:e:{for(var St=Te.key,Ot=_e;Ot!==null;){if(Ot.key===St){if(St=Te.type,St===q){if(Ot.tag===7){A(Ae,Ot.sibling),_e=Z(Ot,Te.props.children),_e.return=Ae,Ae=_e;break e}}else if(Ot.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===_&&S1(St)===Ot.type){A(Ae,Ot.sibling),_e=Z(Ot,Te.props),_e.ref=vc(Ae,Ot,Te),_e.return=Ae,Ae=_e;break e}A(Ae,Ot);break}else w(Ae,Ot);Ot=Ot.sibling}Te.type===q?(_e=fo(Te.props.children,Ae.mode,tt,Te.key),_e.return=Ae,Ae=_e):(tt=Rd(Te.type,Te.key,Te.props,null,Ae.mode,tt),tt.ref=vc(Ae,_e,Te),tt.return=Ae,Ae=tt)}return oe(Ae);case D:e:{for(Ot=Te.key;_e!==null;){if(_e.key===Ot)if(_e.tag===4&&_e.stateNode.containerInfo===Te.containerInfo&&_e.stateNode.implementation===Te.implementation){A(Ae,_e.sibling),_e=Z(_e,Te.children||[]),_e.return=Ae,Ae=_e;break e}else{A(Ae,_e);break}else w(Ae,_e);_e=_e.sibling}_e=Qp(Te,Ae.mode,tt),_e.return=Ae,Ae=_e}return oe(Ae);case _:return Ot=Te._init,Br(Ae,_e,Ot(Te._payload),tt)}if(xe(Te))return xt(Ae,_e,Te,tt);if(S(Te))return _t(Ae,_e,Te,tt);dd(Ae,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,_e!==null&&_e.tag===6?(A(Ae,_e.sibling),_e=Z(_e,Te),_e.return=Ae,Ae=_e):(A(Ae,_e),_e=Jp(Te,Ae.mode,tt),_e.return=Ae,Ae=_e),oe(Ae)):A(Ae,_e)}return Br}var nl=C1(!0),E1=C1(!1),fd=ba(null),hd=null,sl=null,lp=null;function cp(){lp=sl=hd=null}function up(x){var w=fd.current;_r(fd),x._currentValue=w}function dp(x,w,A){for(;x!==null;){var H=x.alternate;if((x.childLanes&w)!==w?(x.childLanes|=w,H!==null&&(H.childLanes|=w)):H!==null&&(H.childLanes&w)!==w&&(H.childLanes|=w),x===A)break;x=x.return}}function il(x,w){hd=x,lp=sl=null,x=x.dependencies,x!==null&&x.firstContext!==null&&((x.lanes&w)!==0&&(Kn=!0),x.firstContext=null)}function ws(x){var w=x._currentValue;if(lp!==x)if(x={context:x,memoizedValue:w,next:null},sl===null){if(hd===null)throw Error(t(308));sl=x,hd.dependencies={lanes:0,firstContext:x}}else sl=sl.next=x;return w}var so=null;function fp(x){so===null?so=[x]:so.push(x)}function A1(x,w,A,H){var Z=w.interleaved;return Z===null?(A.next=A,fp(w)):(A.next=Z.next,Z.next=A),w.interleaved=A,Ai(x,H)}function Ai(x,w){x.lanes|=w;var A=x.alternate;for(A!==null&&(A.lanes|=w),A=x,x=x.return;x!==null;)x.childLanes|=w,A=x.alternate,A!==null&&(A.childLanes|=w),A=x,x=x.return;return A.tag===3?A.stateNode:null}var ja=!1;function hp(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P1(x,w){x=x.updateQueue,w.updateQueue===x&&(w.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Pi(x,w){return{eventTime:x,lane:w,tag:0,payload:null,callback:null,next:null}}function Na(x,w,A){var H=x.updateQueue;if(H===null)return null;if(H=H.shared,(sr&2)!==0){var Z=H.pending;return Z===null?w.next=w:(w.next=Z.next,Z.next=w),H.pending=w,Ai(x,A)}return Z=H.interleaved,Z===null?(w.next=w,fp(H)):(w.next=Z.next,Z.next=w),H.interleaved=w,Ai(x,A)}function md(x,w,A){if(w=w.updateQueue,w!==null&&(w=w.shared,(A&4194240)!==0)){var H=w.lanes;H&=x.pendingLanes,A|=H,w.lanes=A,pa(x,A)}}function T1(x,w){var A=x.updateQueue,H=x.alternate;if(H!==null&&(H=H.updateQueue,A===H)){var Z=null,Q=null;if(A=A.firstBaseUpdate,A!==null){do{var oe={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};Q===null?Z=Q=oe:Q=Q.next=oe,A=A.next}while(A!==null);Q===null?Z=Q=w:Q=Q.next=w}else Z=Q=w;A={baseState:H.baseState,firstBaseUpdate:Z,lastBaseUpdate:Q,shared:H.shared,effects:H.effects},x.updateQueue=A;return}x=A.lastBaseUpdate,x===null?A.firstBaseUpdate=w:x.next=w,A.lastBaseUpdate=w}function pd(x,w,A,H){var Z=x.updateQueue;ja=!1;var Q=Z.firstBaseUpdate,oe=Z.lastBaseUpdate,pe=Z.shared.pending;if(pe!==null){Z.shared.pending=null;var we=pe,Me=we.next;we.next=null,oe===null?Q=Me:oe.next=Me,oe=we;var Ve=x.alternate;Ve!==null&&(Ve=Ve.updateQueue,pe=Ve.lastBaseUpdate,pe!==oe&&(pe===null?Ve.firstBaseUpdate=Me:pe.next=Me,Ve.lastBaseUpdate=we))}if(Q!==null){var Xe=Z.baseState;oe=0,Ve=Me=we=null,pe=Q;do{var We=pe.lane,ut=pe.eventTime;if((H&We)===We){Ve!==null&&(Ve=Ve.next={eventTime:ut,lane:0,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null});e:{var xt=x,_t=pe;switch(We=w,ut=A,_t.tag){case 1:if(xt=_t.payload,typeof xt=="function"){Xe=xt.call(ut,Xe,We);break e}Xe=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=_t.payload,We=typeof xt=="function"?xt.call(ut,Xe,We):xt,We==null)break e;Xe=O({},Xe,We);break e;case 2:ja=!0}}pe.callback!==null&&pe.lane!==0&&(x.flags|=64,We=Z.effects,We===null?Z.effects=[pe]:We.push(pe))}else ut={eventTime:ut,lane:We,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},Ve===null?(Me=Ve=ut,we=Xe):Ve=Ve.next=ut,oe|=We;if(pe=pe.next,pe===null){if(pe=Z.shared.pending,pe===null)break;We=pe,pe=We.next,We.next=null,Z.lastBaseUpdate=We,Z.shared.pending=null}}while(!0);if(Ve===null&&(we=Xe),Z.baseState=we,Z.firstBaseUpdate=Me,Z.lastBaseUpdate=Ve,w=Z.shared.interleaved,w!==null){Z=w;do oe|=Z.lane,Z=Z.next;while(Z!==w)}else Q===null&&(Z.shared.lanes=0);oo|=oe,x.lanes=oe,x.memoizedState=Xe}}function O1(x,w,A){if(x=w.effects,w.effects=null,x!==null)for(w=0;w<x.length;w++){var H=x[w],Z=H.callback;if(Z!==null){if(H.callback=null,H=A,typeof Z!="function")throw Error(t(191,Z));Z.call(H)}}}var bc={},ti=ba(bc),wc=ba(bc),_c=ba(bc);function io(x){if(x===bc)throw Error(t(174));return x}function mp(x,w){switch(yr(_c,w),yr(wc,x),yr(ti,bc),x=w.nodeType,x){case 9:case 11:w=(w=w.documentElement)?w.namespaceURI:de(null,"");break;default:x=x===8?w.parentNode:w,w=x.namespaceURI||null,x=x.tagName,w=de(w,x)}_r(ti),yr(ti,w)}function al(){_r(ti),_r(wc),_r(_c)}function M1(x){io(_c.current);var w=io(ti.current),A=de(w,x.type);w!==A&&(yr(wc,x),yr(ti,A))}function pp(x){wc.current===x&&(_r(ti),_r(wc))}var Tr=ba(0);function gd(x){for(var w=x;w!==null;){if(w.tag===13){var A=w.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return w}else if(w.tag===19&&w.memoizedProps.revealOrder!==void 0){if((w.flags&128)!==0)return w}else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return null;w=w.return}w.sibling.return=w.return,w=w.sibling}return null}var gp=[];function yp(){for(var x=0;x<gp.length;x++)gp[x]._workInProgressVersionPrimary=null;gp.length=0}var yd=C.ReactCurrentDispatcher,xp=C.ReactCurrentBatchConfig,ao=0,Or=null,Yr=null,sn=null,xd=!1,jc=!1,Nc=0,v9=0;function Sn(){throw Error(t(321))}function vp(x,w){if(w===null)return!1;for(var A=0;A<w.length&&A<x.length;A++)if(!Ds(x[A],w[A]))return!1;return!0}function bp(x,w,A,H,Z,Q){if(ao=Q,Or=w,w.memoizedState=null,w.updateQueue=null,w.lanes=0,yd.current=x===null||x.memoizedState===null?j9:N9,x=A(H,Z),jc){Q=0;do{if(jc=!1,Nc=0,25<=Q)throw Error(t(301));Q+=1,sn=Yr=null,w.updateQueue=null,yd.current=k9,x=A(H,Z)}while(jc)}if(yd.current=wd,w=Yr!==null&&Yr.next!==null,ao=0,sn=Yr=Or=null,xd=!1,w)throw Error(t(300));return x}function wp(){var x=Nc!==0;return Nc=0,x}function ri(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Or.memoizedState=sn=x:sn=sn.next=x,sn}function _s(){if(Yr===null){var x=Or.alternate;x=x!==null?x.memoizedState:null}else x=Yr.next;var w=sn===null?Or.memoizedState:sn.next;if(w!==null)sn=w,Yr=x;else{if(x===null)throw Error(t(310));Yr=x,x={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},sn===null?Or.memoizedState=sn=x:sn=sn.next=x}return sn}function kc(x,w){return typeof w=="function"?w(x):w}function _p(x){var w=_s(),A=w.queue;if(A===null)throw Error(t(311));A.lastRenderedReducer=x;var H=Yr,Z=H.baseQueue,Q=A.pending;if(Q!==null){if(Z!==null){var oe=Z.next;Z.next=Q.next,Q.next=oe}H.baseQueue=Z=Q,A.pending=null}if(Z!==null){Q=Z.next,H=H.baseState;var pe=oe=null,we=null,Me=Q;do{var Ve=Me.lane;if((ao&Ve)===Ve)we!==null&&(we=we.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),H=Me.hasEagerState?Me.eagerState:x(H,Me.action);else{var Xe={lane:Ve,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};we===null?(pe=we=Xe,oe=H):we=we.next=Xe,Or.lanes|=Ve,oo|=Ve}Me=Me.next}while(Me!==null&&Me!==Q);we===null?oe=H:we.next=pe,Ds(H,w.memoizedState)||(Kn=!0),w.memoizedState=H,w.baseState=oe,w.baseQueue=we,A.lastRenderedState=H}if(x=A.interleaved,x!==null){Z=x;do Q=Z.lane,Or.lanes|=Q,oo|=Q,Z=Z.next;while(Z!==x)}else Z===null&&(A.lanes=0);return[w.memoizedState,A.dispatch]}function jp(x){var w=_s(),A=w.queue;if(A===null)throw Error(t(311));A.lastRenderedReducer=x;var H=A.dispatch,Z=A.pending,Q=w.memoizedState;if(Z!==null){A.pending=null;var oe=Z=Z.next;do Q=x(Q,oe.action),oe=oe.next;while(oe!==Z);Ds(Q,w.memoizedState)||(Kn=!0),w.memoizedState=Q,w.baseQueue===null&&(w.baseState=Q),A.lastRenderedState=Q}return[Q,H]}function I1(){}function R1(x,w){var A=Or,H=_s(),Z=w(),Q=!Ds(H.memoizedState,Z);if(Q&&(H.memoizedState=Z,Kn=!0),H=H.queue,Np(z1.bind(null,A,H,x),[x]),H.getSnapshot!==w||Q||sn!==null&&sn.memoizedState.tag&1){if(A.flags|=2048,Sc(9,L1.bind(null,A,H,Z,w),void 0,null),an===null)throw Error(t(349));(ao&30)!==0||D1(A,w,Z)}return Z}function D1(x,w,A){x.flags|=16384,x={getSnapshot:w,value:A},w=Or.updateQueue,w===null?(w={lastEffect:null,stores:null},Or.updateQueue=w,w.stores=[x]):(A=w.stores,A===null?w.stores=[x]:A.push(x))}function L1(x,w,A,H){w.value=A,w.getSnapshot=H,F1(w)&&$1(x)}function z1(x,w,A){return A(function(){F1(w)&&$1(x)})}function F1(x){var w=x.getSnapshot;x=x.value;try{var A=w();return!Ds(x,A)}catch{return!0}}function $1(x){var w=Ai(x,1);w!==null&&Bs(w,x,1,-1)}function B1(x){var w=ri();return typeof x=="function"&&(x=x()),w.memoizedState=w.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kc,lastRenderedState:x},w.queue=x,x=x.dispatch=_9.bind(null,Or,x),[w.memoizedState,x]}function Sc(x,w,A,H){return x={tag:x,create:w,destroy:A,deps:H,next:null},w=Or.updateQueue,w===null?(w={lastEffect:null,stores:null},Or.updateQueue=w,w.lastEffect=x.next=x):(A=w.lastEffect,A===null?w.lastEffect=x.next=x:(H=A.next,A.next=x,x.next=H,w.lastEffect=x)),x}function U1(){return _s().memoizedState}function vd(x,w,A,H){var Z=ri();Or.flags|=x,Z.memoizedState=Sc(1|w,A,void 0,H===void 0?null:H)}function bd(x,w,A,H){var Z=_s();H=H===void 0?null:H;var Q=void 0;if(Yr!==null){var oe=Yr.memoizedState;if(Q=oe.destroy,H!==null&&vp(H,oe.deps)){Z.memoizedState=Sc(w,A,Q,H);return}}Or.flags|=x,Z.memoizedState=Sc(1|w,A,Q,H)}function q1(x,w){return vd(8390656,8,x,w)}function Np(x,w){return bd(2048,8,x,w)}function H1(x,w){return bd(4,2,x,w)}function W1(x,w){return bd(4,4,x,w)}function V1(x,w){if(typeof w=="function")return x=x(),w(x),function(){w(null)};if(w!=null)return x=x(),w.current=x,function(){w.current=null}}function K1(x,w,A){return A=A!=null?A.concat([x]):null,bd(4,4,V1.bind(null,w,x),A)}function kp(){}function X1(x,w){var A=_s();w=w===void 0?null:w;var H=A.memoizedState;return H!==null&&w!==null&&vp(w,H[1])?H[0]:(A.memoizedState=[x,w],x)}function G1(x,w){var A=_s();w=w===void 0?null:w;var H=A.memoizedState;return H!==null&&w!==null&&vp(w,H[1])?H[0]:(x=x(),A.memoizedState=[x,w],x)}function Y1(x,w,A){return(ao&21)===0?(x.baseState&&(x.baseState=!1,Kn=!0),x.memoizedState=A):(Ds(A,w)||(A=nr(),Or.lanes|=A,oo|=A,x.baseState=!0),w)}function b9(x,w){var A=Ut;Ut=A!==0&&4>A?A:4,x(!0);var H=xp.transition;xp.transition={};try{x(!1),w()}finally{Ut=A,xp.transition=H}}function Z1(){return _s().memoizedState}function w9(x,w,A){var H=Ea(x);if(A={lane:H,action:A,hasEagerState:!1,eagerState:null,next:null},J1(x))Q1(w,A);else if(A=A1(x,w,A,H),A!==null){var Z=Rn();Bs(A,x,H,Z),e2(A,w,H)}}function _9(x,w,A){var H=Ea(x),Z={lane:H,action:A,hasEagerState:!1,eagerState:null,next:null};if(J1(x))Q1(w,Z);else{var Q=x.alternate;if(x.lanes===0&&(Q===null||Q.lanes===0)&&(Q=w.lastRenderedReducer,Q!==null))try{var oe=w.lastRenderedState,pe=Q(oe,A);if(Z.hasEagerState=!0,Z.eagerState=pe,Ds(pe,oe)){var we=w.interleaved;we===null?(Z.next=Z,fp(w)):(Z.next=we.next,we.next=Z),w.interleaved=Z;return}}catch{}A=A1(x,w,Z,H),A!==null&&(Z=Rn(),Bs(A,x,H,Z),e2(A,w,H))}}function J1(x){var w=x.alternate;return x===Or||w!==null&&w===Or}function Q1(x,w){jc=xd=!0;var A=x.pending;A===null?w.next=w:(w.next=A.next,A.next=w),x.pending=w}function e2(x,w,A){if((A&4194240)!==0){var H=w.lanes;H&=x.pendingLanes,A|=H,w.lanes=A,pa(x,A)}}var wd={readContext:ws,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},j9={readContext:ws,useCallback:function(x,w){return ri().memoizedState=[x,w===void 0?null:w],x},useContext:ws,useEffect:q1,useImperativeHandle:function(x,w,A){return A=A!=null?A.concat([x]):null,vd(4194308,4,V1.bind(null,w,x),A)},useLayoutEffect:function(x,w){return vd(4194308,4,x,w)},useInsertionEffect:function(x,w){return vd(4,2,x,w)},useMemo:function(x,w){var A=ri();return w=w===void 0?null:w,x=x(),A.memoizedState=[x,w],x},useReducer:function(x,w,A){var H=ri();return w=A!==void 0?A(w):w,H.memoizedState=H.baseState=w,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:w},H.queue=x,x=x.dispatch=w9.bind(null,Or,x),[H.memoizedState,x]},useRef:function(x){var w=ri();return x={current:x},w.memoizedState=x},useState:B1,useDebugValue:kp,useDeferredValue:function(x){return ri().memoizedState=x},useTransition:function(){var x=B1(!1),w=x[0];return x=b9.bind(null,x[1]),ri().memoizedState=x,[w,x]},useMutableSource:function(){},useSyncExternalStore:function(x,w,A){var H=Or,Z=ri();if(kr){if(A===void 0)throw Error(t(407));A=A()}else{if(A=w(),an===null)throw Error(t(349));(ao&30)!==0||D1(H,w,A)}Z.memoizedState=A;var Q={value:A,getSnapshot:w};return Z.queue=Q,q1(z1.bind(null,H,Q,x),[x]),H.flags|=2048,Sc(9,L1.bind(null,H,Q,A,w),void 0,null),A},useId:function(){var x=ri(),w=an.identifierPrefix;if(kr){var A=Ei,H=Ci;A=(H&~(1<<32-Vt(H)-1)).toString(32)+A,w=":"+w+"R"+A,A=Nc++,0<A&&(w+="H"+A.toString(32)),w+=":"}else A=v9++,w=":"+w+"r"+A.toString(32)+":";return x.memoizedState=w},unstable_isNewReconciler:!1},N9={readContext:ws,useCallback:X1,useContext:ws,useEffect:Np,useImperativeHandle:K1,useInsertionEffect:H1,useLayoutEffect:W1,useMemo:G1,useReducer:_p,useRef:U1,useState:function(){return _p(kc)},useDebugValue:kp,useDeferredValue:function(x){var w=_s();return Y1(w,Yr.memoizedState,x)},useTransition:function(){var x=_p(kc)[0],w=_s().memoizedState;return[x,w]},useMutableSource:I1,useSyncExternalStore:R1,useId:Z1,unstable_isNewReconciler:!1},k9={readContext:ws,useCallback:X1,useContext:ws,useEffect:Np,useImperativeHandle:K1,useInsertionEffect:H1,useLayoutEffect:W1,useMemo:G1,useReducer:jp,useRef:U1,useState:function(){return jp(kc)},useDebugValue:kp,useDeferredValue:function(x){var w=_s();return Yr===null?w.memoizedState=x:Y1(w,Yr.memoizedState,x)},useTransition:function(){var x=jp(kc)[0],w=_s().memoizedState;return[x,w]},useMutableSource:I1,useSyncExternalStore:R1,useId:Z1,unstable_isNewReconciler:!1};function zs(x,w){if(x&&x.defaultProps){w=O({},w),x=x.defaultProps;for(var A in x)w[A]===void 0&&(w[A]=x[A]);return w}return w}function Sp(x,w,A,H){w=x.memoizedState,A=A(H,w),A=A==null?w:O({},w,A),x.memoizedState=A,x.lanes===0&&(x.updateQueue.baseState=A)}var _d={isMounted:function(x){return(x=x._reactInternals)?ft(x)===x:!1},enqueueSetState:function(x,w,A){x=x._reactInternals;var H=Rn(),Z=Ea(x),Q=Pi(H,Z);Q.payload=w,A!=null&&(Q.callback=A),w=Na(x,Q,Z),w!==null&&(Bs(w,x,Z,H),md(w,x,Z))},enqueueReplaceState:function(x,w,A){x=x._reactInternals;var H=Rn(),Z=Ea(x),Q=Pi(H,Z);Q.tag=1,Q.payload=w,A!=null&&(Q.callback=A),w=Na(x,Q,Z),w!==null&&(Bs(w,x,Z,H),md(w,x,Z))},enqueueForceUpdate:function(x,w){x=x._reactInternals;var A=Rn(),H=Ea(x),Z=Pi(A,H);Z.tag=2,w!=null&&(Z.callback=w),w=Na(x,Z,H),w!==null&&(Bs(w,x,H,A),md(w,x,H))}};function t2(x,w,A,H,Z,Q,oe){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(H,Q,oe):w.prototype&&w.prototype.isPureReactComponent?!fc(A,H)||!fc(Z,Q):!0}function r2(x,w,A){var H=!1,Z=wa,Q=w.contextType;return typeof Q=="object"&&Q!==null?Q=ws(Q):(Z=Vn(w)?to:kn.current,H=w.contextTypes,Q=(H=H!=null)?Qo(x,Z):wa),w=new w(A,Q),x.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=_d,x.stateNode=w,w._reactInternals=x,H&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=Z,x.__reactInternalMemoizedMaskedChildContext=Q),w}function n2(x,w,A,H){x=w.state,typeof w.componentWillReceiveProps=="function"&&w.componentWillReceiveProps(A,H),typeof w.UNSAFE_componentWillReceiveProps=="function"&&w.UNSAFE_componentWillReceiveProps(A,H),w.state!==x&&_d.enqueueReplaceState(w,w.state,null)}function Cp(x,w,A,H){var Z=x.stateNode;Z.props=A,Z.state=x.memoizedState,Z.refs={},hp(x);var Q=w.contextType;typeof Q=="object"&&Q!==null?Z.context=ws(Q):(Q=Vn(w)?to:kn.current,Z.context=Qo(x,Q)),Z.state=x.memoizedState,Q=w.getDerivedStateFromProps,typeof Q=="function"&&(Sp(x,w,Q,A),Z.state=x.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof Z.getSnapshotBeforeUpdate=="function"||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(w=Z.state,typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount(),w!==Z.state&&_d.enqueueReplaceState(Z,Z.state,null),pd(x,A,Z,H),Z.state=x.memoizedState),typeof Z.componentDidMount=="function"&&(x.flags|=4194308)}function ol(x,w){try{var A="",H=w;do A+=te(H),H=H.return;while(H);var Z=A}catch(Q){Z=`
Error generating stack: `+Q.message+`
`+Q.stack}return{value:x,source:w,stack:Z,digest:null}}function Ep(x,w,A){return{value:x,source:null,stack:A??null,digest:w??null}}function Ap(x,w){try{console.error(w.value)}catch(A){setTimeout(function(){throw A})}}var S9=typeof WeakMap=="function"?WeakMap:Map;function s2(x,w,A){A=Pi(-1,A),A.tag=3,A.payload={element:null};var H=w.value;return A.callback=function(){Ad||(Ad=!0,Hp=H),Ap(x,w)},A}function i2(x,w,A){A=Pi(-1,A),A.tag=3;var H=x.type.getDerivedStateFromError;if(typeof H=="function"){var Z=w.value;A.payload=function(){return H(Z)},A.callback=function(){Ap(x,w)}}var Q=x.stateNode;return Q!==null&&typeof Q.componentDidCatch=="function"&&(A.callback=function(){Ap(x,w),typeof H!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var oe=w.stack;this.componentDidCatch(w.value,{componentStack:oe!==null?oe:""})}),A}function a2(x,w,A){var H=x.pingCache;if(H===null){H=x.pingCache=new S9;var Z=new Set;H.set(w,Z)}else Z=H.get(w),Z===void 0&&(Z=new Set,H.set(w,Z));Z.has(A)||(Z.add(A),x=$9.bind(null,x,w,A),w.then(x,x))}function o2(x){do{var w;if((w=x.tag===13)&&(w=x.memoizedState,w=w!==null?w.dehydrated!==null:!0),w)return x;x=x.return}while(x!==null);return null}function l2(x,w,A,H,Z){return(x.mode&1)===0?(x===w?x.flags|=65536:(x.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(w=Pi(-1,1),w.tag=2,Na(A,w,1))),A.lanes|=1),x):(x.flags|=65536,x.lanes=Z,x)}var C9=C.ReactCurrentOwner,Kn=!1;function In(x,w,A,H){w.child=x===null?E1(w,null,A,H):nl(w,x.child,A,H)}function c2(x,w,A,H,Z){A=A.render;var Q=w.ref;return il(w,Z),H=bp(x,w,A,H,Q,Z),A=wp(),x!==null&&!Kn?(w.updateQueue=x.updateQueue,w.flags&=-2053,x.lanes&=~Z,Ti(x,w,Z)):(kr&&A&&np(w),w.flags|=1,In(x,w,H,Z),w.child)}function u2(x,w,A,H,Z){if(x===null){var Q=A.type;return typeof Q=="function"&&!Zp(Q)&&Q.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(w.tag=15,w.type=Q,d2(x,w,Q,H,Z)):(x=Rd(A.type,null,H,w,w.mode,Z),x.ref=w.ref,x.return=w,w.child=x)}if(Q=x.child,(x.lanes&Z)===0){var oe=Q.memoizedProps;if(A=A.compare,A=A!==null?A:fc,A(oe,H)&&x.ref===w.ref)return Ti(x,w,Z)}return w.flags|=1,x=Pa(Q,H),x.ref=w.ref,x.return=w,w.child=x}function d2(x,w,A,H,Z){if(x!==null){var Q=x.memoizedProps;if(fc(Q,H)&&x.ref===w.ref)if(Kn=!1,w.pendingProps=H=Q,(x.lanes&Z)!==0)(x.flags&131072)!==0&&(Kn=!0);else return w.lanes=x.lanes,Ti(x,w,Z)}return Pp(x,w,A,H,Z)}function f2(x,w,A){var H=w.pendingProps,Z=H.children,Q=x!==null?x.memoizedState:null;if(H.mode==="hidden")if((w.mode&1)===0)w.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(cl,os),os|=A;else{if((A&1073741824)===0)return x=Q!==null?Q.baseLanes|A:A,w.lanes=w.childLanes=1073741824,w.memoizedState={baseLanes:x,cachePool:null,transitions:null},w.updateQueue=null,yr(cl,os),os|=x,null;w.memoizedState={baseLanes:0,cachePool:null,transitions:null},H=Q!==null?Q.baseLanes:A,yr(cl,os),os|=H}else Q!==null?(H=Q.baseLanes|A,w.memoizedState=null):H=A,yr(cl,os),os|=H;return In(x,w,Z,A),w.child}function h2(x,w){var A=w.ref;(x===null&&A!==null||x!==null&&x.ref!==A)&&(w.flags|=512,w.flags|=2097152)}function Pp(x,w,A,H,Z){var Q=Vn(A)?to:kn.current;return Q=Qo(w,Q),il(w,Z),A=bp(x,w,A,H,Q,Z),H=wp(),x!==null&&!Kn?(w.updateQueue=x.updateQueue,w.flags&=-2053,x.lanes&=~Z,Ti(x,w,Z)):(kr&&H&&np(w),w.flags|=1,In(x,w,A,Z),w.child)}function m2(x,w,A,H,Z){if(Vn(A)){var Q=!0;ad(w)}else Q=!1;if(il(w,Z),w.stateNode===null)Nd(x,w),r2(w,A,H),Cp(w,A,H,Z),H=!0;else if(x===null){var oe=w.stateNode,pe=w.memoizedProps;oe.props=pe;var we=oe.context,Me=A.contextType;typeof Me=="object"&&Me!==null?Me=ws(Me):(Me=Vn(A)?to:kn.current,Me=Qo(w,Me));var Ve=A.getDerivedStateFromProps,Xe=typeof Ve=="function"||typeof oe.getSnapshotBeforeUpdate=="function";Xe||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(pe!==H||we!==Me)&&n2(w,oe,H,Me),ja=!1;var We=w.memoizedState;oe.state=We,pd(w,H,oe,Z),we=w.memoizedState,pe!==H||We!==we||Wn.current||ja?(typeof Ve=="function"&&(Sp(w,A,Ve,H),we=w.memoizedState),(pe=ja||t2(w,A,pe,H,We,we,Me))?(Xe||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(w.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(w.flags|=4194308),w.memoizedProps=H,w.memoizedState=we),oe.props=H,oe.state=we,oe.context=Me,H=pe):(typeof oe.componentDidMount=="function"&&(w.flags|=4194308),H=!1)}else{oe=w.stateNode,P1(x,w),pe=w.memoizedProps,Me=w.type===w.elementType?pe:zs(w.type,pe),oe.props=Me,Xe=w.pendingProps,We=oe.context,we=A.contextType,typeof we=="object"&&we!==null?we=ws(we):(we=Vn(A)?to:kn.current,we=Qo(w,we));var ut=A.getDerivedStateFromProps;(Ve=typeof ut=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(pe!==Xe||We!==we)&&n2(w,oe,H,we),ja=!1,We=w.memoizedState,oe.state=We,pd(w,H,oe,Z);var xt=w.memoizedState;pe!==Xe||We!==xt||Wn.current||ja?(typeof ut=="function"&&(Sp(w,A,ut,H),xt=w.memoizedState),(Me=ja||t2(w,A,Me,H,We,xt,we)||!1)?(Ve||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(H,xt,we),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(H,xt,we)),typeof oe.componentDidUpdate=="function"&&(w.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(w.flags|=1024)):(typeof oe.componentDidUpdate!="function"||pe===x.memoizedProps&&We===x.memoizedState||(w.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||pe===x.memoizedProps&&We===x.memoizedState||(w.flags|=1024),w.memoizedProps=H,w.memoizedState=xt),oe.props=H,oe.state=xt,oe.context=we,H=Me):(typeof oe.componentDidUpdate!="function"||pe===x.memoizedProps&&We===x.memoizedState||(w.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||pe===x.memoizedProps&&We===x.memoizedState||(w.flags|=1024),H=!1)}return Tp(x,w,A,H,Q,Z)}function Tp(x,w,A,H,Z,Q){h2(x,w);var oe=(w.flags&128)!==0;if(!H&&!oe)return Z&&v1(w,A,!1),Ti(x,w,Q);H=w.stateNode,C9.current=w;var pe=oe&&typeof A.getDerivedStateFromError!="function"?null:H.render();return w.flags|=1,x!==null&&oe?(w.child=nl(w,x.child,null,Q),w.child=nl(w,null,pe,Q)):In(x,w,pe,Q),w.memoizedState=H.state,Z&&v1(w,A,!0),w.child}function p2(x){var w=x.stateNode;w.pendingContext?y1(x,w.pendingContext,w.pendingContext!==w.context):w.context&&y1(x,w.context,!1),mp(x,w.containerInfo)}function g2(x,w,A,H,Z){return rl(),op(Z),w.flags|=256,In(x,w,A,H),w.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Mp(x){return{baseLanes:x,cachePool:null,transitions:null}}function y2(x,w,A){var H=w.pendingProps,Z=Tr.current,Q=!1,oe=(w.flags&128)!==0,pe;if((pe=oe)||(pe=x!==null&&x.memoizedState===null?!1:(Z&2)!==0),pe?(Q=!0,w.flags&=-129):(x===null||x.memoizedState!==null)&&(Z|=1),yr(Tr,Z&1),x===null)return ap(w),x=w.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?((w.mode&1)===0?w.lanes=1:x.data==="$!"?w.lanes=8:w.lanes=1073741824,null):(oe=H.children,x=H.fallback,Q?(H=w.mode,Q=w.child,oe={mode:"hidden",children:oe},(H&1)===0&&Q!==null?(Q.childLanes=0,Q.pendingProps=oe):Q=Dd(oe,H,0,null),x=fo(x,H,A,null),Q.return=w,x.return=w,Q.sibling=x,w.child=Q,w.child.memoizedState=Mp(A),w.memoizedState=Op,x):Ip(w,oe));if(Z=x.memoizedState,Z!==null&&(pe=Z.dehydrated,pe!==null))return E9(x,w,oe,H,pe,Z,A);if(Q){Q=H.fallback,oe=w.mode,Z=x.child,pe=Z.sibling;var we={mode:"hidden",children:H.children};return(oe&1)===0&&w.child!==Z?(H=w.child,H.childLanes=0,H.pendingProps=we,w.deletions=null):(H=Pa(Z,we),H.subtreeFlags=Z.subtreeFlags&14680064),pe!==null?Q=Pa(pe,Q):(Q=fo(Q,oe,A,null),Q.flags|=2),Q.return=w,H.return=w,H.sibling=Q,w.child=H,H=Q,Q=w.child,oe=x.child.memoizedState,oe=oe===null?Mp(A):{baseLanes:oe.baseLanes|A,cachePool:null,transitions:oe.transitions},Q.memoizedState=oe,Q.childLanes=x.childLanes&~A,w.memoizedState=Op,H}return Q=x.child,x=Q.sibling,H=Pa(Q,{mode:"visible",children:H.children}),(w.mode&1)===0&&(H.lanes=A),H.return=w,H.sibling=null,x!==null&&(A=w.deletions,A===null?(w.deletions=[x],w.flags|=16):A.push(x)),w.child=H,w.memoizedState=null,H}function Ip(x,w){return w=Dd({mode:"visible",children:w},x.mode,0,null),w.return=x,x.child=w}function jd(x,w,A,H){return H!==null&&op(H),nl(w,x.child,null,A),x=Ip(w,w.pendingProps.children),x.flags|=2,w.memoizedState=null,x}function E9(x,w,A,H,Z,Q,oe){if(A)return w.flags&256?(w.flags&=-257,H=Ep(Error(t(422))),jd(x,w,oe,H)):w.memoizedState!==null?(w.child=x.child,w.flags|=128,null):(Q=H.fallback,Z=w.mode,H=Dd({mode:"visible",children:H.children},Z,0,null),Q=fo(Q,Z,oe,null),Q.flags|=2,H.return=w,Q.return=w,H.sibling=Q,w.child=H,(w.mode&1)!==0&&nl(w,x.child,null,oe),w.child.memoizedState=Mp(oe),w.memoizedState=Op,Q);if((w.mode&1)===0)return jd(x,w,oe,null);if(Z.data==="$!"){if(H=Z.nextSibling&&Z.nextSibling.dataset,H)var pe=H.dgst;return H=pe,Q=Error(t(419)),H=Ep(Q,H,void 0),jd(x,w,oe,H)}if(pe=(oe&x.childLanes)!==0,Kn||pe){if(H=an,H!==null){switch(oe&-oe){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}Z=(Z&(H.suspendedLanes|oe))!==0?0:Z,Z!==0&&Z!==Q.retryLane&&(Q.retryLane=Z,Ai(x,Z),Bs(H,x,Z,-1))}return Yp(),H=Ep(Error(t(421))),jd(x,w,oe,H)}return Z.data==="$?"?(w.flags|=128,w.child=x.child,w=B9.bind(null,x),Z._reactRetry=w,null):(x=Q.treeContext,as=va(Z.nextSibling),is=w,kr=!0,Ls=null,x!==null&&(vs[bs++]=Ci,vs[bs++]=Ei,vs[bs++]=ro,Ci=x.id,Ei=x.overflow,ro=w),w=Ip(w,H.children),w.flags|=4096,w)}function x2(x,w,A){x.lanes|=w;var H=x.alternate;H!==null&&(H.lanes|=w),dp(x.return,w,A)}function Rp(x,w,A,H,Z){var Q=x.memoizedState;Q===null?x.memoizedState={isBackwards:w,rendering:null,renderingStartTime:0,last:H,tail:A,tailMode:Z}:(Q.isBackwards=w,Q.rendering=null,Q.renderingStartTime=0,Q.last=H,Q.tail=A,Q.tailMode=Z)}function v2(x,w,A){var H=w.pendingProps,Z=H.revealOrder,Q=H.tail;if(In(x,w,H.children,A),H=Tr.current,(H&2)!==0)H=H&1|2,w.flags|=128;else{if(x!==null&&(x.flags&128)!==0)e:for(x=w.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&x2(x,A,w);else if(x.tag===19)x2(x,A,w);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===w)break e;for(;x.sibling===null;){if(x.return===null||x.return===w)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}H&=1}if(yr(Tr,H),(w.mode&1)===0)w.memoizedState=null;else switch(Z){case"forwards":for(A=w.child,Z=null;A!==null;)x=A.alternate,x!==null&&gd(x)===null&&(Z=A),A=A.sibling;A=Z,A===null?(Z=w.child,w.child=null):(Z=A.sibling,A.sibling=null),Rp(w,!1,Z,A,Q);break;case"backwards":for(A=null,Z=w.child,w.child=null;Z!==null;){if(x=Z.alternate,x!==null&&gd(x)===null){w.child=Z;break}x=Z.sibling,Z.sibling=A,A=Z,Z=x}Rp(w,!0,A,null,Q);break;case"together":Rp(w,!1,null,null,void 0);break;default:w.memoizedState=null}return w.child}function Nd(x,w){(w.mode&1)===0&&x!==null&&(x.alternate=null,w.alternate=null,w.flags|=2)}function Ti(x,w,A){if(x!==null&&(w.dependencies=x.dependencies),oo|=w.lanes,(A&w.childLanes)===0)return null;if(x!==null&&w.child!==x.child)throw Error(t(153));if(w.child!==null){for(x=w.child,A=Pa(x,x.pendingProps),w.child=A,A.return=w;x.sibling!==null;)x=x.sibling,A=A.sibling=Pa(x,x.pendingProps),A.return=w;A.sibling=null}return w.child}function A9(x,w,A){switch(w.tag){case 3:p2(w),rl();break;case 5:M1(w);break;case 1:Vn(w.type)&&ad(w);break;case 4:mp(w,w.stateNode.containerInfo);break;case 10:var H=w.type._context,Z=w.memoizedProps.value;yr(fd,H._currentValue),H._currentValue=Z;break;case 13:if(H=w.memoizedState,H!==null)return H.dehydrated!==null?(yr(Tr,Tr.current&1),w.flags|=128,null):(A&w.child.childLanes)!==0?y2(x,w,A):(yr(Tr,Tr.current&1),x=Ti(x,w,A),x!==null?x.sibling:null);yr(Tr,Tr.current&1);break;case 19:if(H=(A&w.childLanes)!==0,(x.flags&128)!==0){if(H)return v2(x,w,A);w.flags|=128}if(Z=w.memoizedState,Z!==null&&(Z.rendering=null,Z.tail=null,Z.lastEffect=null),yr(Tr,Tr.current),H)break;return null;case 22:case 23:return w.lanes=0,f2(x,w,A)}return Ti(x,w,A)}var b2,Dp,w2,_2;b2=function(x,w){for(var A=w.child;A!==null;){if(A.tag===5||A.tag===6)x.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===w)break;for(;A.sibling===null;){if(A.return===null||A.return===w)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},Dp=function(){},w2=function(x,w,A,H){var Z=x.memoizedProps;if(Z!==H){x=w.stateNode,io(ti.current);var Q=null;switch(A){case"input":Z=ae(x,Z),H=ae(x,H),Q=[];break;case"select":Z=O({},Z,{value:void 0}),H=O({},H,{value:void 0}),Q=[];break;case"textarea":Z=be(x,Z),H=be(x,H),Q=[];break;default:typeof Z.onClick!="function"&&typeof H.onClick=="function"&&(x.onclick=nd)}it(A,H);var oe;A=null;for(Me in Z)if(!H.hasOwnProperty(Me)&&Z.hasOwnProperty(Me)&&Z[Me]!=null)if(Me==="style"){var pe=Z[Me];for(oe in pe)pe.hasOwnProperty(oe)&&(A||(A={}),A[oe]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(l.hasOwnProperty(Me)?Q||(Q=[]):(Q=Q||[]).push(Me,null));for(Me in H){var we=H[Me];if(pe=Z?.[Me],H.hasOwnProperty(Me)&&we!==pe&&(we!=null||pe!=null))if(Me==="style")if(pe){for(oe in pe)!pe.hasOwnProperty(oe)||we&&we.hasOwnProperty(oe)||(A||(A={}),A[oe]="");for(oe in we)we.hasOwnProperty(oe)&&pe[oe]!==we[oe]&&(A||(A={}),A[oe]=we[oe])}else A||(Q||(Q=[]),Q.push(Me,A)),A=we;else Me==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,pe=pe?pe.__html:void 0,we!=null&&pe!==we&&(Q=Q||[]).push(Me,we)):Me==="children"?typeof we!="string"&&typeof we!="number"||(Q=Q||[]).push(Me,""+we):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(l.hasOwnProperty(Me)?(we!=null&&Me==="onScroll"&&wr("scroll",x),Q||pe===we||(Q=[])):(Q=Q||[]).push(Me,we))}A&&(Q=Q||[]).push("style",A);var Me=Q;(w.updateQueue=Me)&&(w.flags|=4)}},_2=function(x,w,A,H){A!==H&&(w.flags|=4)};function Cc(x,w){if(!kr)switch(x.tailMode){case"hidden":w=x.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?x.tail=null:A.sibling=null;break;case"collapsed":A=x.tail;for(var H=null;A!==null;)A.alternate!==null&&(H=A),A=A.sibling;H===null?w||x.tail===null?x.tail=null:x.tail.sibling=null:H.sibling=null}}function Cn(x){var w=x.alternate!==null&&x.alternate.child===x.child,A=0,H=0;if(w)for(var Z=x.child;Z!==null;)A|=Z.lanes|Z.childLanes,H|=Z.subtreeFlags&14680064,H|=Z.flags&14680064,Z.return=x,Z=Z.sibling;else for(Z=x.child;Z!==null;)A|=Z.lanes|Z.childLanes,H|=Z.subtreeFlags,H|=Z.flags,Z.return=x,Z=Z.sibling;return x.subtreeFlags|=H,x.childLanes=A,w}function P9(x,w,A){var H=w.pendingProps;switch(sp(w),w.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(w),null;case 1:return Vn(w.type)&&id(),Cn(w),null;case 3:return H=w.stateNode,al(),_r(Wn),_r(kn),yp(),H.pendingContext&&(H.context=H.pendingContext,H.pendingContext=null),(x===null||x.child===null)&&(ud(w)?w.flags|=4:x===null||x.memoizedState.isDehydrated&&(w.flags&256)===0||(w.flags|=1024,Ls!==null&&(Kp(Ls),Ls=null))),Dp(x,w),Cn(w),null;case 5:pp(w);var Z=io(_c.current);if(A=w.type,x!==null&&w.stateNode!=null)w2(x,w,A,H,Z),x.ref!==w.ref&&(w.flags|=512,w.flags|=2097152);else{if(!H){if(w.stateNode===null)throw Error(t(166));return Cn(w),null}if(x=io(ti.current),ud(w)){H=w.stateNode,A=w.type;var Q=w.memoizedProps;switch(H[ei]=w,H[yc]=Q,x=(w.mode&1)!==0,A){case"dialog":wr("cancel",H),wr("close",H);break;case"iframe":case"object":case"embed":wr("load",H);break;case"video":case"audio":for(Z=0;Z<mc.length;Z++)wr(mc[Z],H);break;case"source":wr("error",H);break;case"img":case"image":case"link":wr("error",H),wr("load",H);break;case"details":wr("toggle",H);break;case"input":re(H,Q),wr("invalid",H);break;case"select":H._wrapperState={wasMultiple:!!Q.multiple},wr("invalid",H);break;case"textarea":ke(H,Q),wr("invalid",H)}it(A,Q),Z=null;for(var oe in Q)if(Q.hasOwnProperty(oe)){var pe=Q[oe];oe==="children"?typeof pe=="string"?H.textContent!==pe&&(Q.suppressHydrationWarning!==!0&&rd(H.textContent,pe,x),Z=["children",pe]):typeof pe=="number"&&H.textContent!==""+pe&&(Q.suppressHydrationWarning!==!0&&rd(H.textContent,pe,x),Z=["children",""+pe]):l.hasOwnProperty(oe)&&pe!=null&&oe==="onScroll"&&wr("scroll",H)}switch(A){case"input":ee(H),fe(H,Q,!0);break;case"textarea":ee(H),ze(H);break;case"select":case"option":break;default:typeof Q.onClick=="function"&&(H.onclick=nd)}H=Z,w.updateQueue=H,H!==null&&(w.flags|=4)}else{oe=Z.nodeType===9?Z:Z.ownerDocument,x==="http://www.w3.org/1999/xhtml"&&(x=Fe(A)),x==="http://www.w3.org/1999/xhtml"?A==="script"?(x=oe.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof H.is=="string"?x=oe.createElement(A,{is:H.is}):(x=oe.createElement(A),A==="select"&&(oe=x,H.multiple?oe.multiple=!0:H.size&&(oe.size=H.size))):x=oe.createElementNS(x,A),x[ei]=w,x[yc]=H,b2(x,w,!1,!1),w.stateNode=x;e:{switch(oe=at(A,H),A){case"dialog":wr("cancel",x),wr("close",x),Z=H;break;case"iframe":case"object":case"embed":wr("load",x),Z=H;break;case"video":case"audio":for(Z=0;Z<mc.length;Z++)wr(mc[Z],x);Z=H;break;case"source":wr("error",x),Z=H;break;case"img":case"image":case"link":wr("error",x),wr("load",x),Z=H;break;case"details":wr("toggle",x),Z=H;break;case"input":re(x,H),Z=ae(x,H),wr("invalid",x);break;case"option":Z=H;break;case"select":x._wrapperState={wasMultiple:!!H.multiple},Z=O({},H,{value:void 0}),wr("invalid",x);break;case"textarea":ke(x,H),Z=be(x,H),wr("invalid",x);break;default:Z=H}it(A,Z),pe=Z;for(Q in pe)if(pe.hasOwnProperty(Q)){var we=pe[Q];Q==="style"?qe(x,we):Q==="dangerouslySetInnerHTML"?(we=we?we.__html:void 0,we!=null&&je(x,we)):Q==="children"?typeof we=="string"?(A!=="textarea"||we!=="")&&Ce(x,we):typeof we=="number"&&Ce(x,""+we):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(l.hasOwnProperty(Q)?we!=null&&Q==="onScroll"&&wr("scroll",x):we!=null&&j(x,Q,we,oe))}switch(A){case"input":ee(x),fe(x,H,!1);break;case"textarea":ee(x),ze(x);break;case"option":H.value!=null&&x.setAttribute("value",""+$(H.value));break;case"select":x.multiple=!!H.multiple,Q=H.value,Q!=null?ge(x,!!H.multiple,Q,!1):H.defaultValue!=null&&ge(x,!!H.multiple,H.defaultValue,!0);break;default:typeof Z.onClick=="function"&&(x.onclick=nd)}switch(A){case"button":case"input":case"select":case"textarea":H=!!H.autoFocus;break e;case"img":H=!0;break e;default:H=!1}}H&&(w.flags|=4)}w.ref!==null&&(w.flags|=512,w.flags|=2097152)}return Cn(w),null;case 6:if(x&&w.stateNode!=null)_2(x,w,x.memoizedProps,H);else{if(typeof H!="string"&&w.stateNode===null)throw Error(t(166));if(A=io(_c.current),io(ti.current),ud(w)){if(H=w.stateNode,A=w.memoizedProps,H[ei]=w,(Q=H.nodeValue!==A)&&(x=is,x!==null))switch(x.tag){case 3:rd(H.nodeValue,A,(x.mode&1)!==0);break;case 5:x.memoizedProps.suppressHydrationWarning!==!0&&rd(H.nodeValue,A,(x.mode&1)!==0)}Q&&(w.flags|=4)}else H=(A.nodeType===9?A:A.ownerDocument).createTextNode(H),H[ei]=w,w.stateNode=H}return Cn(w),null;case 13:if(_r(Tr),H=w.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(kr&&as!==null&&(w.mode&1)!==0&&(w.flags&128)===0)k1(),rl(),w.flags|=98560,Q=!1;else if(Q=ud(w),H!==null&&H.dehydrated!==null){if(x===null){if(!Q)throw Error(t(318));if(Q=w.memoizedState,Q=Q!==null?Q.dehydrated:null,!Q)throw Error(t(317));Q[ei]=w}else rl(),(w.flags&128)===0&&(w.memoizedState=null),w.flags|=4;Cn(w),Q=!1}else Ls!==null&&(Kp(Ls),Ls=null),Q=!0;if(!Q)return w.flags&65536?w:null}return(w.flags&128)!==0?(w.lanes=A,w):(H=H!==null,H!==(x!==null&&x.memoizedState!==null)&&H&&(w.child.flags|=8192,(w.mode&1)!==0&&(x===null||(Tr.current&1)!==0?Zr===0&&(Zr=3):Yp())),w.updateQueue!==null&&(w.flags|=4),Cn(w),null);case 4:return al(),Dp(x,w),x===null&&pc(w.stateNode.containerInfo),Cn(w),null;case 10:return up(w.type._context),Cn(w),null;case 17:return Vn(w.type)&&id(),Cn(w),null;case 19:if(_r(Tr),Q=w.memoizedState,Q===null)return Cn(w),null;if(H=(w.flags&128)!==0,oe=Q.rendering,oe===null)if(H)Cc(Q,!1);else{if(Zr!==0||x!==null&&(x.flags&128)!==0)for(x=w.child;x!==null;){if(oe=gd(x),oe!==null){for(w.flags|=128,Cc(Q,!1),H=oe.updateQueue,H!==null&&(w.updateQueue=H,w.flags|=4),w.subtreeFlags=0,H=A,A=w.child;A!==null;)Q=A,x=H,Q.flags&=14680066,oe=Q.alternate,oe===null?(Q.childLanes=0,Q.lanes=x,Q.child=null,Q.subtreeFlags=0,Q.memoizedProps=null,Q.memoizedState=null,Q.updateQueue=null,Q.dependencies=null,Q.stateNode=null):(Q.childLanes=oe.childLanes,Q.lanes=oe.lanes,Q.child=oe.child,Q.subtreeFlags=0,Q.deletions=null,Q.memoizedProps=oe.memoizedProps,Q.memoizedState=oe.memoizedState,Q.updateQueue=oe.updateQueue,Q.type=oe.type,x=oe.dependencies,Q.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),A=A.sibling;return yr(Tr,Tr.current&1|2),w.child}x=x.sibling}Q.tail!==null&&Ne()>ul&&(w.flags|=128,H=!0,Cc(Q,!1),w.lanes=4194304)}else{if(!H)if(x=gd(oe),x!==null){if(w.flags|=128,H=!0,A=x.updateQueue,A!==null&&(w.updateQueue=A,w.flags|=4),Cc(Q,!0),Q.tail===null&&Q.tailMode==="hidden"&&!oe.alternate&&!kr)return Cn(w),null}else 2*Ne()-Q.renderingStartTime>ul&&A!==1073741824&&(w.flags|=128,H=!0,Cc(Q,!1),w.lanes=4194304);Q.isBackwards?(oe.sibling=w.child,w.child=oe):(A=Q.last,A!==null?A.sibling=oe:w.child=oe,Q.last=oe)}return Q.tail!==null?(w=Q.tail,Q.rendering=w,Q.tail=w.sibling,Q.renderingStartTime=Ne(),w.sibling=null,A=Tr.current,yr(Tr,H?A&1|2:A&1),w):(Cn(w),null);case 22:case 23:return Gp(),H=w.memoizedState!==null,x!==null&&x.memoizedState!==null!==H&&(w.flags|=8192),H&&(w.mode&1)!==0?(os&1073741824)!==0&&(Cn(w),w.subtreeFlags&6&&(w.flags|=8192)):Cn(w),null;case 24:return null;case 25:return null}throw Error(t(156,w.tag))}function T9(x,w){switch(sp(w),w.tag){case 1:return Vn(w.type)&&id(),x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 3:return al(),_r(Wn),_r(kn),yp(),x=w.flags,(x&65536)!==0&&(x&128)===0?(w.flags=x&-65537|128,w):null;case 5:return pp(w),null;case 13:if(_r(Tr),x=w.memoizedState,x!==null&&x.dehydrated!==null){if(w.alternate===null)throw Error(t(340));rl()}return x=w.flags,x&65536?(w.flags=x&-65537|128,w):null;case 19:return _r(Tr),null;case 4:return al(),null;case 10:return up(w.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var kd=!1,En=!1,O9=typeof WeakSet=="function"?WeakSet:Set,ht=null;function ll(x,w){var A=x.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(H){Ir(x,w,H)}else A.current=null}function Lp(x,w,A){try{A()}catch(H){Ir(x,w,H)}}var j2=!1;function M9(x,w){if(Gm=Wu,x=t1(),Bm(x)){if("selectionStart"in x)var A={start:x.selectionStart,end:x.selectionEnd};else e:{A=(A=x.ownerDocument)&&A.defaultView||window;var H=A.getSelection&&A.getSelection();if(H&&H.rangeCount!==0){A=H.anchorNode;var Z=H.anchorOffset,Q=H.focusNode;H=H.focusOffset;try{A.nodeType,Q.nodeType}catch{A=null;break e}var oe=0,pe=-1,we=-1,Me=0,Ve=0,Xe=x,We=null;t:for(;;){for(var ut;Xe!==A||Z!==0&&Xe.nodeType!==3||(pe=oe+Z),Xe!==Q||H!==0&&Xe.nodeType!==3||(we=oe+H),Xe.nodeType===3&&(oe+=Xe.nodeValue.length),(ut=Xe.firstChild)!==null;)We=Xe,Xe=ut;for(;;){if(Xe===x)break t;if(We===A&&++Me===Z&&(pe=oe),We===Q&&++Ve===H&&(we=oe),(ut=Xe.nextSibling)!==null)break;Xe=We,We=Xe.parentNode}Xe=ut}A=pe===-1||we===-1?null:{start:pe,end:we}}else A=null}A=A||{start:0,end:0}}else A=null;for(Ym={focusedElem:x,selectionRange:A},Wu=!1,ht=w;ht!==null;)if(w=ht,x=w.child,(w.subtreeFlags&1028)!==0&&x!==null)x.return=w,ht=x;else for(;ht!==null;){w=ht;try{var xt=w.alternate;if((w.flags&1024)!==0)switch(w.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var _t=xt.memoizedProps,Br=xt.memoizedState,Ae=w.stateNode,_e=Ae.getSnapshotBeforeUpdate(w.elementType===w.type?_t:zs(w.type,_t),Br);Ae.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Te=w.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(tt){Ir(w,w.return,tt)}if(x=w.sibling,x!==null){x.return=w.return,ht=x;break}ht=w.return}return xt=j2,j2=!1,xt}function Ec(x,w,A){var H=w.updateQueue;if(H=H!==null?H.lastEffect:null,H!==null){var Z=H=H.next;do{if((Z.tag&x)===x){var Q=Z.destroy;Z.destroy=void 0,Q!==void 0&&Lp(w,A,Q)}Z=Z.next}while(Z!==H)}}function Sd(x,w){if(w=w.updateQueue,w=w!==null?w.lastEffect:null,w!==null){var A=w=w.next;do{if((A.tag&x)===x){var H=A.create;A.destroy=H()}A=A.next}while(A!==w)}}function zp(x){var w=x.ref;if(w!==null){var A=x.stateNode;x.tag,x=A,typeof w=="function"?w(x):w.current=x}}function N2(x){var w=x.alternate;w!==null&&(x.alternate=null,N2(w)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(w=x.stateNode,w!==null&&(delete w[ei],delete w[yc],delete w[ep],delete w[p9],delete w[g9])),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function k2(x){return x.tag===5||x.tag===3||x.tag===4}function S2(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||k2(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Fp(x,w,A){var H=x.tag;if(H===5||H===6)x=x.stateNode,w?A.nodeType===8?A.parentNode.insertBefore(x,w):A.insertBefore(x,w):(A.nodeType===8?(w=A.parentNode,w.insertBefore(x,A)):(w=A,w.appendChild(x)),A=A._reactRootContainer,A!=null||w.onclick!==null||(w.onclick=nd));else if(H!==4&&(x=x.child,x!==null))for(Fp(x,w,A),x=x.sibling;x!==null;)Fp(x,w,A),x=x.sibling}function $p(x,w,A){var H=x.tag;if(H===5||H===6)x=x.stateNode,w?A.insertBefore(x,w):A.appendChild(x);else if(H!==4&&(x=x.child,x!==null))for($p(x,w,A),x=x.sibling;x!==null;)$p(x,w,A),x=x.sibling}var bn=null,Fs=!1;function ka(x,w,A){for(A=A.child;A!==null;)C2(x,w,A),A=A.sibling}function C2(x,w,A){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ft,A)}catch{}switch(A.tag){case 5:En||ll(A,w);case 6:var H=bn,Z=Fs;bn=null,ka(x,w,A),bn=H,Fs=Z,bn!==null&&(Fs?(x=bn,A=A.stateNode,x.nodeType===8?x.parentNode.removeChild(A):x.removeChild(A)):bn.removeChild(A.stateNode));break;case 18:bn!==null&&(Fs?(x=bn,A=A.stateNode,x.nodeType===8?Qm(x.parentNode,A):x.nodeType===1&&Qm(x,A),ac(x)):Qm(bn,A.stateNode));break;case 4:H=bn,Z=Fs,bn=A.stateNode.containerInfo,Fs=!0,ka(x,w,A),bn=H,Fs=Z;break;case 0:case 11:case 14:case 15:if(!En&&(H=A.updateQueue,H!==null&&(H=H.lastEffect,H!==null))){Z=H=H.next;do{var Q=Z,oe=Q.destroy;Q=Q.tag,oe!==void 0&&((Q&2)!==0||(Q&4)!==0)&&Lp(A,w,oe),Z=Z.next}while(Z!==H)}ka(x,w,A);break;case 1:if(!En&&(ll(A,w),H=A.stateNode,typeof H.componentWillUnmount=="function"))try{H.props=A.memoizedProps,H.state=A.memoizedState,H.componentWillUnmount()}catch(pe){Ir(A,w,pe)}ka(x,w,A);break;case 21:ka(x,w,A);break;case 22:A.mode&1?(En=(H=En)||A.memoizedState!==null,ka(x,w,A),En=H):ka(x,w,A);break;default:ka(x,w,A)}}function E2(x){var w=x.updateQueue;if(w!==null){x.updateQueue=null;var A=x.stateNode;A===null&&(A=x.stateNode=new O9),w.forEach(function(H){var Z=U9.bind(null,x,H);A.has(H)||(A.add(H),H.then(Z,Z))})}}function $s(x,w){var A=w.deletions;if(A!==null)for(var H=0;H<A.length;H++){var Z=A[H];try{var Q=x,oe=w,pe=oe;e:for(;pe!==null;){switch(pe.tag){case 5:bn=pe.stateNode,Fs=!1;break e;case 3:bn=pe.stateNode.containerInfo,Fs=!0;break e;case 4:bn=pe.stateNode.containerInfo,Fs=!0;break e}pe=pe.return}if(bn===null)throw Error(t(160));C2(Q,oe,Z),bn=null,Fs=!1;var we=Z.alternate;we!==null&&(we.return=null),Z.return=null}catch(Me){Ir(Z,w,Me)}}if(w.subtreeFlags&12854)for(w=w.child;w!==null;)A2(w,x),w=w.sibling}function A2(x,w){var A=x.alternate,H=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:if($s(w,x),ni(x),H&4){try{Ec(3,x,x.return),Sd(3,x)}catch(_t){Ir(x,x.return,_t)}try{Ec(5,x,x.return)}catch(_t){Ir(x,x.return,_t)}}break;case 1:$s(w,x),ni(x),H&512&&A!==null&&ll(A,A.return);break;case 5:if($s(w,x),ni(x),H&512&&A!==null&&ll(A,A.return),x.flags&32){var Z=x.stateNode;try{Ce(Z,"")}catch(_t){Ir(x,x.return,_t)}}if(H&4&&(Z=x.stateNode,Z!=null)){var Q=x.memoizedProps,oe=A!==null?A.memoizedProps:Q,pe=x.type,we=x.updateQueue;if(x.updateQueue=null,we!==null)try{pe==="input"&&Q.type==="radio"&&Q.name!=null&&le(Z,Q),at(pe,oe);var Me=at(pe,Q);for(oe=0;oe<we.length;oe+=2){var Ve=we[oe],Xe=we[oe+1];Ve==="style"?qe(Z,Xe):Ve==="dangerouslySetInnerHTML"?je(Z,Xe):Ve==="children"?Ce(Z,Xe):j(Z,Ve,Xe,Me)}switch(pe){case"input":ne(Z,Q);break;case"textarea":Ee(Z,Q);break;case"select":var We=Z._wrapperState.wasMultiple;Z._wrapperState.wasMultiple=!!Q.multiple;var ut=Q.value;ut!=null?ge(Z,!!Q.multiple,ut,!1):We!==!!Q.multiple&&(Q.defaultValue!=null?ge(Z,!!Q.multiple,Q.defaultValue,!0):ge(Z,!!Q.multiple,Q.multiple?[]:"",!1))}Z[yc]=Q}catch(_t){Ir(x,x.return,_t)}}break;case 6:if($s(w,x),ni(x),H&4){if(x.stateNode===null)throw Error(t(162));Z=x.stateNode,Q=x.memoizedProps;try{Z.nodeValue=Q}catch(_t){Ir(x,x.return,_t)}}break;case 3:if($s(w,x),ni(x),H&4&&A!==null&&A.memoizedState.isDehydrated)try{ac(w.containerInfo)}catch(_t){Ir(x,x.return,_t)}break;case 4:$s(w,x),ni(x);break;case 13:$s(w,x),ni(x),Z=x.child,Z.flags&8192&&(Q=Z.memoizedState!==null,Z.stateNode.isHidden=Q,!Q||Z.alternate!==null&&Z.alternate.memoizedState!==null||(qp=Ne())),H&4&&E2(x);break;case 22:if(Ve=A!==null&&A.memoizedState!==null,x.mode&1?(En=(Me=En)||Ve,$s(w,x),En=Me):$s(w,x),ni(x),H&8192){if(Me=x.memoizedState!==null,(x.stateNode.isHidden=Me)&&!Ve&&(x.mode&1)!==0)for(ht=x,Ve=x.child;Ve!==null;){for(Xe=ht=Ve;ht!==null;){switch(We=ht,ut=We.child,We.tag){case 0:case 11:case 14:case 15:Ec(4,We,We.return);break;case 1:ll(We,We.return);var xt=We.stateNode;if(typeof xt.componentWillUnmount=="function"){H=We,A=We.return;try{w=H,xt.props=w.memoizedProps,xt.state=w.memoizedState,xt.componentWillUnmount()}catch(_t){Ir(H,A,_t)}}break;case 5:ll(We,We.return);break;case 22:if(We.memoizedState!==null){O2(Xe);continue}}ut!==null?(ut.return=We,ht=ut):O2(Xe)}Ve=Ve.sibling}e:for(Ve=null,Xe=x;;){if(Xe.tag===5){if(Ve===null){Ve=Xe;try{Z=Xe.stateNode,Me?(Q=Z.style,typeof Q.setProperty=="function"?Q.setProperty("display","none","important"):Q.display="none"):(pe=Xe.stateNode,we=Xe.memoizedProps.style,oe=we!=null&&we.hasOwnProperty("display")?we.display:null,pe.style.display=Oe("display",oe))}catch(_t){Ir(x,x.return,_t)}}}else if(Xe.tag===6){if(Ve===null)try{Xe.stateNode.nodeValue=Me?"":Xe.memoizedProps}catch(_t){Ir(x,x.return,_t)}}else if((Xe.tag!==22&&Xe.tag!==23||Xe.memoizedState===null||Xe===x)&&Xe.child!==null){Xe.child.return=Xe,Xe=Xe.child;continue}if(Xe===x)break e;for(;Xe.sibling===null;){if(Xe.return===null||Xe.return===x)break e;Ve===Xe&&(Ve=null),Xe=Xe.return}Ve===Xe&&(Ve=null),Xe.sibling.return=Xe.return,Xe=Xe.sibling}}break;case 19:$s(w,x),ni(x),H&4&&E2(x);break;case 21:break;default:$s(w,x),ni(x)}}function ni(x){var w=x.flags;if(w&2){try{e:{for(var A=x.return;A!==null;){if(k2(A)){var H=A;break e}A=A.return}throw Error(t(160))}switch(H.tag){case 5:var Z=H.stateNode;H.flags&32&&(Ce(Z,""),H.flags&=-33);var Q=S2(x);$p(x,Q,Z);break;case 3:case 4:var oe=H.stateNode.containerInfo,pe=S2(x);Fp(x,pe,oe);break;default:throw Error(t(161))}}catch(we){Ir(x,x.return,we)}x.flags&=-3}w&4096&&(x.flags&=-4097)}function I9(x,w,A){ht=x,P2(x)}function P2(x,w,A){for(var H=(x.mode&1)!==0;ht!==null;){var Z=ht,Q=Z.child;if(Z.tag===22&&H){var oe=Z.memoizedState!==null||kd;if(!oe){var pe=Z.alternate,we=pe!==null&&pe.memoizedState!==null||En;pe=kd;var Me=En;if(kd=oe,(En=we)&&!Me)for(ht=Z;ht!==null;)oe=ht,we=oe.child,oe.tag===22&&oe.memoizedState!==null?M2(Z):we!==null?(we.return=oe,ht=we):M2(Z);for(;Q!==null;)ht=Q,P2(Q),Q=Q.sibling;ht=Z,kd=pe,En=Me}T2(x)}else(Z.subtreeFlags&8772)!==0&&Q!==null?(Q.return=Z,ht=Q):T2(x)}}function T2(x){for(;ht!==null;){var w=ht;if((w.flags&8772)!==0){var A=w.alternate;try{if((w.flags&8772)!==0)switch(w.tag){case 0:case 11:case 15:En||Sd(5,w);break;case 1:var H=w.stateNode;if(w.flags&4&&!En)if(A===null)H.componentDidMount();else{var Z=w.elementType===w.type?A.memoizedProps:zs(w.type,A.memoizedProps);H.componentDidUpdate(Z,A.memoizedState,H.__reactInternalSnapshotBeforeUpdate)}var Q=w.updateQueue;Q!==null&&O1(w,Q,H);break;case 3:var oe=w.updateQueue;if(oe!==null){if(A=null,w.child!==null)switch(w.child.tag){case 5:A=w.child.stateNode;break;case 1:A=w.child.stateNode}O1(w,oe,A)}break;case 5:var pe=w.stateNode;if(A===null&&w.flags&4){A=pe;var we=w.memoizedProps;switch(w.type){case"button":case"input":case"select":case"textarea":we.autoFocus&&A.focus();break;case"img":we.src&&(A.src=we.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(w.memoizedState===null){var Me=w.alternate;if(Me!==null){var Ve=Me.memoizedState;if(Ve!==null){var Xe=Ve.dehydrated;Xe!==null&&ac(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}En||w.flags&512&&zp(w)}catch(We){Ir(w,w.return,We)}}if(w===x){ht=null;break}if(A=w.sibling,A!==null){A.return=w.return,ht=A;break}ht=w.return}}function O2(x){for(;ht!==null;){var w=ht;if(w===x){ht=null;break}var A=w.sibling;if(A!==null){A.return=w.return,ht=A;break}ht=w.return}}function M2(x){for(;ht!==null;){var w=ht;try{switch(w.tag){case 0:case 11:case 15:var A=w.return;try{Sd(4,w)}catch(we){Ir(w,A,we)}break;case 1:var H=w.stateNode;if(typeof H.componentDidMount=="function"){var Z=w.return;try{H.componentDidMount()}catch(we){Ir(w,Z,we)}}var Q=w.return;try{zp(w)}catch(we){Ir(w,Q,we)}break;case 5:var oe=w.return;try{zp(w)}catch(we){Ir(w,oe,we)}}}catch(we){Ir(w,w.return,we)}if(w===x){ht=null;break}var pe=w.sibling;if(pe!==null){pe.return=w.return,ht=pe;break}ht=w.return}}var R9=Math.ceil,Cd=C.ReactCurrentDispatcher,Bp=C.ReactCurrentOwner,js=C.ReactCurrentBatchConfig,sr=0,an=null,Wr=null,wn=0,os=0,cl=ba(0),Zr=0,Ac=null,oo=0,Ed=0,Up=0,Pc=null,Xn=null,qp=0,ul=1/0,Oi=null,Ad=!1,Hp=null,Sa=null,Pd=!1,Ca=null,Td=0,Tc=0,Wp=null,Od=-1,Md=0;function Rn(){return(sr&6)!==0?Ne():Od!==-1?Od:Od=Ne()}function Ea(x){return(x.mode&1)===0?1:(sr&2)!==0&&wn!==0?wn&-wn:x9.transition!==null?(Md===0&&(Md=nr()),Md):(x=Ut,x!==0||(x=window.event,x=x===void 0?16:Rb(x.type)),x)}function Bs(x,w,A,H){if(50<Tc)throw Tc=0,Wp=null,Error(t(185));Hn(x,A,H),((sr&2)===0||x!==an)&&(x===an&&((sr&2)===0&&(Ed|=A),Zr===4&&Aa(x,wn)),Gn(x,H),A===1&&sr===0&&(w.mode&1)===0&&(ul=Ne()+500,od&&_a()))}function Gn(x,w){var A=x.callbackNode;ma(x,w);var H=gs(x,x===an?wn:0);if(H===0)A!==null&&Bt(A),x.callbackNode=null,x.callbackPriority=0;else if(w=H&-H,x.callbackPriority!==w){if(A!=null&&Bt(A),w===1)x.tag===0?y9(R2.bind(null,x)):b1(R2.bind(null,x)),h9(function(){(sr&6)===0&&_a()}),A=null;else{switch(ys(H)){case 1:A=He;break;case 4:A=yt;break;case 16:A=Je;break;case 536870912:A=Xt;break;default:A=Je}A=q2(A,I2.bind(null,x))}x.callbackPriority=w,x.callbackNode=A}}function I2(x,w){if(Od=-1,Md=0,(sr&6)!==0)throw Error(t(327));var A=x.callbackNode;if(dl()&&x.callbackNode!==A)return null;var H=gs(x,x===an?wn:0);if(H===0)return null;if((H&30)!==0||(H&x.expiredLanes)!==0||w)w=Id(x,H);else{w=H;var Z=sr;sr|=2;var Q=L2();(an!==x||wn!==w)&&(Oi=null,ul=Ne()+500,co(x,w));do try{z9();break}catch(pe){D2(x,pe)}while(!0);cp(),Cd.current=Q,sr=Z,Wr!==null?w=0:(an=null,wn=0,w=Zr)}if(w!==0){if(w===2&&(Z=Js(x),Z!==0&&(H=Z,w=Vp(x,Z))),w===1)throw A=Ac,co(x,0),Aa(x,H),Gn(x,Ne()),A;if(w===6)Aa(x,H);else{if(Z=x.current.alternate,(H&30)===0&&!D9(Z)&&(w=Id(x,H),w===2&&(Q=Js(x),Q!==0&&(H=Q,w=Vp(x,Q))),w===1))throw A=Ac,co(x,0),Aa(x,H),Gn(x,Ne()),A;switch(x.finishedWork=Z,x.finishedLanes=H,w){case 0:case 1:throw Error(t(345));case 2:uo(x,Xn,Oi);break;case 3:if(Aa(x,H),(H&130023424)===H&&(w=qp+500-Ne(),10<w)){if(gs(x,0)!==0)break;if(Z=x.suspendedLanes,(Z&H)!==H){Rn(),x.pingedLanes|=x.suspendedLanes&Z;break}x.timeoutHandle=Jm(uo.bind(null,x,Xn,Oi),w);break}uo(x,Xn,Oi);break;case 4:if(Aa(x,H),(H&4194240)===H)break;for(w=x.eventTimes,Z=-1;0<H;){var oe=31-Vt(H);Q=1<<oe,oe=w[oe],oe>Z&&(Z=oe),H&=~Q}if(H=Z,H=Ne()-H,H=(120>H?120:480>H?480:1080>H?1080:1920>H?1920:3e3>H?3e3:4320>H?4320:1960*R9(H/1960))-H,10<H){x.timeoutHandle=Jm(uo.bind(null,x,Xn,Oi),H);break}uo(x,Xn,Oi);break;case 5:uo(x,Xn,Oi);break;default:throw Error(t(329))}}}return Gn(x,Ne()),x.callbackNode===A?I2.bind(null,x):null}function Vp(x,w){var A=Pc;return x.current.memoizedState.isDehydrated&&(co(x,w).flags|=256),x=Id(x,w),x!==2&&(w=Xn,Xn=A,w!==null&&Kp(w)),x}function Kp(x){Xn===null?Xn=x:Xn.push.apply(Xn,x)}function D9(x){for(var w=x;;){if(w.flags&16384){var A=w.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var H=0;H<A.length;H++){var Z=A[H],Q=Z.getSnapshot;Z=Z.value;try{if(!Ds(Q(),Z))return!1}catch{return!1}}}if(A=w.child,w.subtreeFlags&16384&&A!==null)A.return=w,w=A;else{if(w===x)break;for(;w.sibling===null;){if(w.return===null||w.return===x)return!0;w=w.return}w.sibling.return=w.return,w=w.sibling}}return!0}function Aa(x,w){for(w&=~Up,w&=~Ed,x.suspendedLanes|=w,x.pingedLanes&=~w,x=x.expirationTimes;0<w;){var A=31-Vt(w),H=1<<A;x[A]=-1,w&=~H}}function R2(x){if((sr&6)!==0)throw Error(t(327));dl();var w=gs(x,0);if((w&1)===0)return Gn(x,Ne()),null;var A=Id(x,w);if(x.tag!==0&&A===2){var H=Js(x);H!==0&&(w=H,A=Vp(x,H))}if(A===1)throw A=Ac,co(x,0),Aa(x,w),Gn(x,Ne()),A;if(A===6)throw Error(t(345));return x.finishedWork=x.current.alternate,x.finishedLanes=w,uo(x,Xn,Oi),Gn(x,Ne()),null}function Xp(x,w){var A=sr;sr|=1;try{return x(w)}finally{sr=A,sr===0&&(ul=Ne()+500,od&&_a())}}function lo(x){Ca!==null&&Ca.tag===0&&(sr&6)===0&&dl();var w=sr;sr|=1;var A=js.transition,H=Ut;try{if(js.transition=null,Ut=1,x)return x()}finally{Ut=H,js.transition=A,sr=w,(sr&6)===0&&_a()}}function Gp(){os=cl.current,_r(cl)}function co(x,w){x.finishedWork=null,x.finishedLanes=0;var A=x.timeoutHandle;if(A!==-1&&(x.timeoutHandle=-1,f9(A)),Wr!==null)for(A=Wr.return;A!==null;){var H=A;switch(sp(H),H.tag){case 1:H=H.type.childContextTypes,H!=null&&id();break;case 3:al(),_r(Wn),_r(kn),yp();break;case 5:pp(H);break;case 4:al();break;case 13:_r(Tr);break;case 19:_r(Tr);break;case 10:up(H.type._context);break;case 22:case 23:Gp()}A=A.return}if(an=x,Wr=x=Pa(x.current,null),wn=os=w,Zr=0,Ac=null,Up=Ed=oo=0,Xn=Pc=null,so!==null){for(w=0;w<so.length;w++)if(A=so[w],H=A.interleaved,H!==null){A.interleaved=null;var Z=H.next,Q=A.pending;if(Q!==null){var oe=Q.next;Q.next=Z,H.next=oe}A.pending=H}so=null}return x}function D2(x,w){do{var A=Wr;try{if(cp(),yd.current=wd,xd){for(var H=Or.memoizedState;H!==null;){var Z=H.queue;Z!==null&&(Z.pending=null),H=H.next}xd=!1}if(ao=0,sn=Yr=Or=null,jc=!1,Nc=0,Bp.current=null,A===null||A.return===null){Zr=1,Ac=w,Wr=null;break}e:{var Q=x,oe=A.return,pe=A,we=w;if(w=wn,pe.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var Me=we,Ve=pe,Xe=Ve.tag;if((Ve.mode&1)===0&&(Xe===0||Xe===11||Xe===15)){var We=Ve.alternate;We?(Ve.updateQueue=We.updateQueue,Ve.memoizedState=We.memoizedState,Ve.lanes=We.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var ut=o2(oe);if(ut!==null){ut.flags&=-257,l2(ut,oe,pe,Q,w),ut.mode&1&&a2(Q,Me,w),w=ut,we=Me;var xt=w.updateQueue;if(xt===null){var _t=new Set;_t.add(we),w.updateQueue=_t}else xt.add(we);break e}else{if((w&1)===0){a2(Q,Me,w),Yp();break e}we=Error(t(426))}}else if(kr&&pe.mode&1){var Br=o2(oe);if(Br!==null){(Br.flags&65536)===0&&(Br.flags|=256),l2(Br,oe,pe,Q,w),op(ol(we,pe));break e}}Q=we=ol(we,pe),Zr!==4&&(Zr=2),Pc===null?Pc=[Q]:Pc.push(Q),Q=oe;do{switch(Q.tag){case 3:Q.flags|=65536,w&=-w,Q.lanes|=w;var Ae=s2(Q,we,w);T1(Q,Ae);break e;case 1:pe=we;var _e=Q.type,Te=Q.stateNode;if((Q.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(Sa===null||!Sa.has(Te)))){Q.flags|=65536,w&=-w,Q.lanes|=w;var tt=i2(Q,pe,w);T1(Q,tt);break e}}Q=Q.return}while(Q!==null)}F2(A)}catch(St){w=St,Wr===A&&A!==null&&(Wr=A=A.return);continue}break}while(!0)}function L2(){var x=Cd.current;return Cd.current=wd,x===null?wd:x}function Yp(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),an===null||(oo&268435455)===0&&(Ed&268435455)===0||Aa(an,wn)}function Id(x,w){var A=sr;sr|=2;var H=L2();(an!==x||wn!==w)&&(Oi=null,co(x,w));do try{L9();break}catch(Z){D2(x,Z)}while(!0);if(cp(),sr=A,Cd.current=H,Wr!==null)throw Error(t(261));return an=null,wn=0,Zr}function L9(){for(;Wr!==null;)z2(Wr)}function z9(){for(;Wr!==null&&!Nn();)z2(Wr)}function z2(x){var w=U2(x.alternate,x,os);x.memoizedProps=x.pendingProps,w===null?F2(x):Wr=w,Bp.current=null}function F2(x){var w=x;do{var A=w.alternate;if(x=w.return,(w.flags&32768)===0){if(A=P9(A,w,os),A!==null){Wr=A;return}}else{if(A=T9(A,w),A!==null){A.flags&=32767,Wr=A;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{Zr=6,Wr=null;return}}if(w=w.sibling,w!==null){Wr=w;return}Wr=w=x}while(w!==null);Zr===0&&(Zr=5)}function uo(x,w,A){var H=Ut,Z=js.transition;try{js.transition=null,Ut=1,F9(x,w,A,H)}finally{js.transition=Z,Ut=H}return null}function F9(x,w,A,H){do dl();while(Ca!==null);if((sr&6)!==0)throw Error(t(327));A=x.finishedWork;var Z=x.finishedLanes;if(A===null)return null;if(x.finishedWork=null,x.finishedLanes=0,A===x.current)throw Error(t(177));x.callbackNode=null,x.callbackPriority=0;var Q=A.lanes|A.childLanes;if(wi(x,Q),x===an&&(Wr=an=null,wn=0),(A.subtreeFlags&2064)===0&&(A.flags&2064)===0||Pd||(Pd=!0,q2(Je,function(){return dl(),null})),Q=(A.flags&15990)!==0,(A.subtreeFlags&15990)!==0||Q){Q=js.transition,js.transition=null;var oe=Ut;Ut=1;var pe=sr;sr|=4,Bp.current=null,M9(x,A),A2(A,x),i9(Ym),Wu=!!Gm,Ym=Gm=null,x.current=A,I9(A),he(),sr=pe,Ut=oe,js.transition=Q}else x.current=A;if(Pd&&(Pd=!1,Ca=x,Td=Z),Q=x.pendingLanes,Q===0&&(Sa=null),Tt(A.stateNode),Gn(x,Ne()),w!==null)for(H=x.onRecoverableError,A=0;A<w.length;A++)Z=w[A],H(Z.value,{componentStack:Z.stack,digest:Z.digest});if(Ad)throw Ad=!1,x=Hp,Hp=null,x;return(Td&1)!==0&&x.tag!==0&&dl(),Q=x.pendingLanes,(Q&1)!==0?x===Wp?Tc++:(Tc=0,Wp=x):Tc=0,_a(),null}function dl(){if(Ca!==null){var x=ys(Td),w=js.transition,A=Ut;try{if(js.transition=null,Ut=16>x?16:x,Ca===null)var H=!1;else{if(x=Ca,Ca=null,Td=0,(sr&6)!==0)throw Error(t(331));var Z=sr;for(sr|=4,ht=x.current;ht!==null;){var Q=ht,oe=Q.child;if((ht.flags&16)!==0){var pe=Q.deletions;if(pe!==null){for(var we=0;we<pe.length;we++){var Me=pe[we];for(ht=Me;ht!==null;){var Ve=ht;switch(Ve.tag){case 0:case 11:case 15:Ec(8,Ve,Q)}var Xe=Ve.child;if(Xe!==null)Xe.return=Ve,ht=Xe;else for(;ht!==null;){Ve=ht;var We=Ve.sibling,ut=Ve.return;if(N2(Ve),Ve===Me){ht=null;break}if(We!==null){We.return=ut,ht=We;break}ht=ut}}}var xt=Q.alternate;if(xt!==null){var _t=xt.child;if(_t!==null){xt.child=null;do{var Br=_t.sibling;_t.sibling=null,_t=Br}while(_t!==null)}}ht=Q}}if((Q.subtreeFlags&2064)!==0&&oe!==null)oe.return=Q,ht=oe;else e:for(;ht!==null;){if(Q=ht,(Q.flags&2048)!==0)switch(Q.tag){case 0:case 11:case 15:Ec(9,Q,Q.return)}var Ae=Q.sibling;if(Ae!==null){Ae.return=Q.return,ht=Ae;break e}ht=Q.return}}var _e=x.current;for(ht=_e;ht!==null;){oe=ht;var Te=oe.child;if((oe.subtreeFlags&2064)!==0&&Te!==null)Te.return=oe,ht=Te;else e:for(oe=_e;ht!==null;){if(pe=ht,(pe.flags&2048)!==0)try{switch(pe.tag){case 0:case 11:case 15:Sd(9,pe)}}catch(St){Ir(pe,pe.return,St)}if(pe===oe){ht=null;break e}var tt=pe.sibling;if(tt!==null){tt.return=pe.return,ht=tt;break e}ht=pe.return}}if(sr=Z,_a(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ft,x)}catch{}H=!0}return H}finally{Ut=A,js.transition=w}}return!1}function $2(x,w,A){w=ol(A,w),w=s2(x,w,1),x=Na(x,w,1),w=Rn(),x!==null&&(Hn(x,1,w),Gn(x,w))}function Ir(x,w,A){if(x.tag===3)$2(x,x,A);else for(;w!==null;){if(w.tag===3){$2(w,x,A);break}else if(w.tag===1){var H=w.stateNode;if(typeof w.type.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&(Sa===null||!Sa.has(H))){x=ol(A,x),x=i2(w,x,1),w=Na(w,x,1),x=Rn(),w!==null&&(Hn(w,1,x),Gn(w,x));break}}w=w.return}}function $9(x,w,A){var H=x.pingCache;H!==null&&H.delete(w),w=Rn(),x.pingedLanes|=x.suspendedLanes&A,an===x&&(wn&A)===A&&(Zr===4||Zr===3&&(wn&130023424)===wn&&500>Ne()-qp?co(x,0):Up|=A),Gn(x,w)}function B2(x,w){w===0&&((x.mode&1)===0?w=1:(w=Hr,Hr<<=1,(Hr&130023424)===0&&(Hr=4194304)));var A=Rn();x=Ai(x,w),x!==null&&(Hn(x,w,A),Gn(x,A))}function B9(x){var w=x.memoizedState,A=0;w!==null&&(A=w.retryLane),B2(x,A)}function U9(x,w){var A=0;switch(x.tag){case 13:var H=x.stateNode,Z=x.memoizedState;Z!==null&&(A=Z.retryLane);break;case 19:H=x.stateNode;break;default:throw Error(t(314))}H!==null&&H.delete(w),B2(x,A)}var U2;U2=function(x,w,A){if(x!==null)if(x.memoizedProps!==w.pendingProps||Wn.current)Kn=!0;else{if((x.lanes&A)===0&&(w.flags&128)===0)return Kn=!1,A9(x,w,A);Kn=(x.flags&131072)!==0}else Kn=!1,kr&&(w.flags&1048576)!==0&&w1(w,cd,w.index);switch(w.lanes=0,w.tag){case 2:var H=w.type;Nd(x,w),x=w.pendingProps;var Z=Qo(w,kn.current);il(w,A),Z=bp(null,w,H,x,Z,A);var Q=wp();return w.flags|=1,typeof Z=="object"&&Z!==null&&typeof Z.render=="function"&&Z.$$typeof===void 0?(w.tag=1,w.memoizedState=null,w.updateQueue=null,Vn(H)?(Q=!0,ad(w)):Q=!1,w.memoizedState=Z.state!==null&&Z.state!==void 0?Z.state:null,hp(w),Z.updater=_d,w.stateNode=Z,Z._reactInternals=w,Cp(w,H,x,A),w=Tp(null,w,H,!0,Q,A)):(w.tag=0,kr&&Q&&np(w),In(null,w,Z,A),w=w.child),w;case 16:H=w.elementType;e:{switch(Nd(x,w),x=w.pendingProps,Z=H._init,H=Z(H._payload),w.type=H,Z=w.tag=H9(H),x=zs(H,x),Z){case 0:w=Pp(null,w,H,x,A);break e;case 1:w=m2(null,w,H,x,A);break e;case 11:w=c2(null,w,H,x,A);break e;case 14:w=u2(null,w,H,zs(H.type,x),A);break e}throw Error(t(306,H,""))}return w;case 0:return H=w.type,Z=w.pendingProps,Z=w.elementType===H?Z:zs(H,Z),Pp(x,w,H,Z,A);case 1:return H=w.type,Z=w.pendingProps,Z=w.elementType===H?Z:zs(H,Z),m2(x,w,H,Z,A);case 3:e:{if(p2(w),x===null)throw Error(t(387));H=w.pendingProps,Q=w.memoizedState,Z=Q.element,P1(x,w),pd(w,H,null,A);var oe=w.memoizedState;if(H=oe.element,Q.isDehydrated)if(Q={element:H,isDehydrated:!1,cache:oe.cache,pendingSuspenseBoundaries:oe.pendingSuspenseBoundaries,transitions:oe.transitions},w.updateQueue.baseState=Q,w.memoizedState=Q,w.flags&256){Z=ol(Error(t(423)),w),w=g2(x,w,H,A,Z);break e}else if(H!==Z){Z=ol(Error(t(424)),w),w=g2(x,w,H,A,Z);break e}else for(as=va(w.stateNode.containerInfo.firstChild),is=w,kr=!0,Ls=null,A=E1(w,null,H,A),w.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(rl(),H===Z){w=Ti(x,w,A);break e}In(x,w,H,A)}w=w.child}return w;case 5:return M1(w),x===null&&ap(w),H=w.type,Z=w.pendingProps,Q=x!==null?x.memoizedProps:null,oe=Z.children,Zm(H,Z)?oe=null:Q!==null&&Zm(H,Q)&&(w.flags|=32),h2(x,w),In(x,w,oe,A),w.child;case 6:return x===null&&ap(w),null;case 13:return y2(x,w,A);case 4:return mp(w,w.stateNode.containerInfo),H=w.pendingProps,x===null?w.child=nl(w,null,H,A):In(x,w,H,A),w.child;case 11:return H=w.type,Z=w.pendingProps,Z=w.elementType===H?Z:zs(H,Z),c2(x,w,H,Z,A);case 7:return In(x,w,w.pendingProps,A),w.child;case 8:return In(x,w,w.pendingProps.children,A),w.child;case 12:return In(x,w,w.pendingProps.children,A),w.child;case 10:e:{if(H=w.type._context,Z=w.pendingProps,Q=w.memoizedProps,oe=Z.value,yr(fd,H._currentValue),H._currentValue=oe,Q!==null)if(Ds(Q.value,oe)){if(Q.children===Z.children&&!Wn.current){w=Ti(x,w,A);break e}}else for(Q=w.child,Q!==null&&(Q.return=w);Q!==null;){var pe=Q.dependencies;if(pe!==null){oe=Q.child;for(var we=pe.firstContext;we!==null;){if(we.context===H){if(Q.tag===1){we=Pi(-1,A&-A),we.tag=2;var Me=Q.updateQueue;if(Me!==null){Me=Me.shared;var Ve=Me.pending;Ve===null?we.next=we:(we.next=Ve.next,Ve.next=we),Me.pending=we}}Q.lanes|=A,we=Q.alternate,we!==null&&(we.lanes|=A),dp(Q.return,A,w),pe.lanes|=A;break}we=we.next}}else if(Q.tag===10)oe=Q.type===w.type?null:Q.child;else if(Q.tag===18){if(oe=Q.return,oe===null)throw Error(t(341));oe.lanes|=A,pe=oe.alternate,pe!==null&&(pe.lanes|=A),dp(oe,A,w),oe=Q.sibling}else oe=Q.child;if(oe!==null)oe.return=Q;else for(oe=Q;oe!==null;){if(oe===w){oe=null;break}if(Q=oe.sibling,Q!==null){Q.return=oe.return,oe=Q;break}oe=oe.return}Q=oe}In(x,w,Z.children,A),w=w.child}return w;case 9:return Z=w.type,H=w.pendingProps.children,il(w,A),Z=ws(Z),H=H(Z),w.flags|=1,In(x,w,H,A),w.child;case 14:return H=w.type,Z=zs(H,w.pendingProps),Z=zs(H.type,Z),u2(x,w,H,Z,A);case 15:return d2(x,w,w.type,w.pendingProps,A);case 17:return H=w.type,Z=w.pendingProps,Z=w.elementType===H?Z:zs(H,Z),Nd(x,w),w.tag=1,Vn(H)?(x=!0,ad(w)):x=!1,il(w,A),r2(w,H,Z),Cp(w,H,Z,A),Tp(null,w,H,!0,x,A);case 19:return v2(x,w,A);case 22:return f2(x,w,A)}throw Error(t(156,w.tag))};function q2(x,w){return Et(x,w)}function q9(x,w,A,H){this.tag=x,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=w,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ns(x,w,A,H){return new q9(x,w,A,H)}function Zp(x){return x=x.prototype,!(!x||!x.isReactComponent)}function H9(x){if(typeof x=="function")return Zp(x)?1:0;if(x!=null){if(x=x.$$typeof,x===W)return 11;if(x===E)return 14}return 2}function Pa(x,w){var A=x.alternate;return A===null?(A=Ns(x.tag,w,x.key,x.mode),A.elementType=x.elementType,A.type=x.type,A.stateNode=x.stateNode,A.alternate=x,x.alternate=A):(A.pendingProps=w,A.type=x.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=x.flags&14680064,A.childLanes=x.childLanes,A.lanes=x.lanes,A.child=x.child,A.memoizedProps=x.memoizedProps,A.memoizedState=x.memoizedState,A.updateQueue=x.updateQueue,w=x.dependencies,A.dependencies=w===null?null:{lanes:w.lanes,firstContext:w.firstContext},A.sibling=x.sibling,A.index=x.index,A.ref=x.ref,A}function Rd(x,w,A,H,Z,Q){var oe=2;if(H=x,typeof x=="function")Zp(x)&&(oe=1);else if(typeof x=="string")oe=5;else e:switch(x){case q:return fo(A.children,Z,Q,w);case z:oe=8,Z|=8;break;case B:return x=Ns(12,A,w,Z|2),x.elementType=B,x.lanes=Q,x;case P:return x=Ns(13,A,w,Z),x.elementType=P,x.lanes=Q,x;case M:return x=Ns(19,A,w,Z),x.elementType=M,x.lanes=Q,x;case k:return Dd(A,Z,Q,w);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case V:oe=10;break e;case X:oe=9;break e;case W:oe=11;break e;case E:oe=14;break e;case _:oe=16,H=null;break e}throw Error(t(130,x==null?x:typeof x,""))}return w=Ns(oe,A,w,Z),w.elementType=x,w.type=H,w.lanes=Q,w}function fo(x,w,A,H){return x=Ns(7,x,H,w),x.lanes=A,x}function Dd(x,w,A,H){return x=Ns(22,x,H,w),x.elementType=k,x.lanes=A,x.stateNode={isHidden:!1},x}function Jp(x,w,A){return x=Ns(6,x,null,w),x.lanes=A,x}function Qp(x,w,A){return w=Ns(4,x.children!==null?x.children:[],x.key,w),w.lanes=A,w.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},w}function W9(x,w,A,H,Z){this.tag=w,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yt(0),this.expirationTimes=Yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yt(0),this.identifierPrefix=H,this.onRecoverableError=Z,this.mutableSourceEagerHydrationData=null}function e0(x,w,A,H,Z,Q,oe,pe,we){return x=new W9(x,w,A,pe,we),w===1?(w=1,Q===!0&&(w|=8)):w=0,Q=Ns(3,null,null,w),x.current=Q,Q.stateNode=x,Q.memoizedState={element:H,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},hp(Q),x}function V9(x,w,A){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:H==null?null:""+H,children:x,containerInfo:w,implementation:A}}function H2(x){if(!x)return wa;x=x._reactInternals;e:{if(ft(x)!==x||x.tag!==1)throw Error(t(170));var w=x;do{switch(w.tag){case 3:w=w.stateNode.context;break e;case 1:if(Vn(w.type)){w=w.stateNode.__reactInternalMemoizedMergedChildContext;break e}}w=w.return}while(w!==null);throw Error(t(171))}if(x.tag===1){var A=x.type;if(Vn(A))return x1(x,A,w)}return w}function W2(x,w,A,H,Z,Q,oe,pe,we){return x=e0(A,H,!0,x,Z,Q,oe,pe,we),x.context=H2(null),A=x.current,H=Rn(),Z=Ea(A),Q=Pi(H,Z),Q.callback=w??null,Na(A,Q,Z),x.current.lanes=Z,Hn(x,Z,H),Gn(x,H),x}function Ld(x,w,A,H){var Z=w.current,Q=Rn(),oe=Ea(Z);return A=H2(A),w.context===null?w.context=A:w.pendingContext=A,w=Pi(Q,oe),w.payload={element:x},H=H===void 0?null:H,H!==null&&(w.callback=H),x=Na(Z,w,oe),x!==null&&(Bs(x,Z,oe,Q),md(x,Z,oe)),oe}function zd(x){return x=x.current,x.child?(x.child.tag===5,x.child.stateNode):null}function V2(x,w){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var A=x.retryLane;x.retryLane=A!==0&&A<w?A:w}}function t0(x,w){V2(x,w),(x=x.alternate)&&V2(x,w)}function K9(){return null}var K2=typeof reportError=="function"?reportError:function(x){console.error(x)};function r0(x){this._internalRoot=x}Fd.prototype.render=r0.prototype.render=function(x){var w=this._internalRoot;if(w===null)throw Error(t(409));Ld(x,w,null,null)},Fd.prototype.unmount=r0.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var w=x.containerInfo;lo(function(){Ld(null,x,null,null)}),w[ki]=null}};function Fd(x){this._internalRoot=x}Fd.prototype.unstable_scheduleHydration=function(x){if(x){var w=ji();x={blockedOn:null,target:x,priority:w};for(var A=0;A<ns.length&&w!==0&&w<ns[A].priority;A++);ns.splice(A,0,x),A===0&&Mb(x)}};function n0(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function $d(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function X2(){}function X9(x,w,A,H,Z){if(Z){if(typeof H=="function"){var Q=H;H=function(){var Me=zd(oe);Q.call(Me)}}var oe=W2(w,H,x,0,null,!1,!1,"",X2);return x._reactRootContainer=oe,x[ki]=oe.current,pc(x.nodeType===8?x.parentNode:x),lo(),oe}for(;Z=x.lastChild;)x.removeChild(Z);if(typeof H=="function"){var pe=H;H=function(){var Me=zd(we);pe.call(Me)}}var we=e0(x,0,!1,null,null,!1,!1,"",X2);return x._reactRootContainer=we,x[ki]=we.current,pc(x.nodeType===8?x.parentNode:x),lo(function(){Ld(w,we,A,H)}),we}function Bd(x,w,A,H,Z){var Q=A._reactRootContainer;if(Q){var oe=Q;if(typeof Z=="function"){var pe=Z;Z=function(){var we=zd(oe);pe.call(we)}}Ld(w,oe,x,Z)}else oe=X9(A,w,x,Z,H);return zd(oe)}Is=function(x){switch(x.tag){case 3:var w=x.stateNode;if(w.current.memoizedState.isDehydrated){var A=vn(w.pendingLanes);A!==0&&(pa(w,A|1),Gn(w,Ne()),(sr&6)===0&&(ul=Ne()+500,_a()))}break;case 13:lo(function(){var H=Ai(x,1);if(H!==null){var Z=Rn();Bs(H,x,1,Z)}}),t0(x,1)}},_i=function(x){if(x.tag===13){var w=Ai(x,134217728);if(w!==null){var A=Rn();Bs(w,x,134217728,A)}t0(x,134217728)}},Qa=function(x){if(x.tag===13){var w=Ea(x),A=Ai(x,w);if(A!==null){var H=Rn();Bs(A,x,w,H)}t0(x,w)}},ji=function(){return Ut},Rs=function(x,w){var A=Ut;try{return Ut=x,w()}finally{Ut=A}},dt=function(x,w,A){switch(w){case"input":if(ne(x,A),w=A.name,A.type==="radio"&&w!=null){for(A=x;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+w)+'][type="radio"]'),w=0;w<A.length;w++){var H=A[w];if(H!==x&&H.form===x.form){var Z=sd(H);if(!Z)throw Error(t(90));se(H),ne(H,Z)}}}break;case"textarea":Ee(x,A);break;case"select":w=A.value,w!=null&&ge(x,!!A.multiple,w,!1)}},lt=Xp,Dt=lo;var G9={usingClientEntryPoint:!1,Events:[xc,Zo,sd,It,gt,Xp]},Oc={findFiberByHostInstance:eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y9={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return x=st(x),x===null?null:x.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||K9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{Ft=Ud.inject(Y9),Rt=Ud}catch{}}return Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G9,Yn.createPortal=function(x,w){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n0(w))throw Error(t(200));return V9(x,w,null,A)},Yn.createRoot=function(x,w){if(!n0(x))throw Error(t(299));var A=!1,H="",Z=K2;return w!=null&&(w.unstable_strictMode===!0&&(A=!0),w.identifierPrefix!==void 0&&(H=w.identifierPrefix),w.onRecoverableError!==void 0&&(Z=w.onRecoverableError)),w=e0(x,1,!1,null,null,A,!1,H,Z),x[ki]=w.current,pc(x.nodeType===8?x.parentNode:x),new r0(w)},Yn.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var w=x._reactInternals;if(w===void 0)throw typeof x.render=="function"?Error(t(188)):(x=Object.keys(x).join(","),Error(t(268,x)));return x=st(w),x=x===null?null:x.stateNode,x},Yn.flushSync=function(x){return lo(x)},Yn.hydrate=function(x,w,A){if(!$d(w))throw Error(t(200));return Bd(null,x,w,!0,A)},Yn.hydrateRoot=function(x,w,A){if(!n0(x))throw Error(t(405));var H=A!=null&&A.hydratedSources||null,Z=!1,Q="",oe=K2;if(A!=null&&(A.unstable_strictMode===!0&&(Z=!0),A.identifierPrefix!==void 0&&(Q=A.identifierPrefix),A.onRecoverableError!==void 0&&(oe=A.onRecoverableError)),w=W2(w,null,x,1,A??null,Z,!1,Q,oe),x[ki]=w.current,pc(x),H)for(x=0;x<H.length;x++)A=H[x],Z=A._getVersion,Z=Z(A._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[A,Z]:w.mutableSourceEagerHydrationData.push(A,Z);return new Fd(w)},Yn.render=function(x,w,A){if(!$d(w))throw Error(t(200));return Bd(null,x,w,!1,A)},Yn.unmountComponentAtNode=function(x){if(!$d(x))throw Error(t(40));return x._reactRootContainer?(lo(function(){Bd(null,null,x,!1,function(){x._reactRootContainer=null,x[ki]=null})}),!0):!1},Yn.unstable_batchedUpdates=Xp,Yn.unstable_renderSubtreeIntoContainer=function(x,w,A,H){if(!$d(A))throw Error(t(200));if(x==null||x._reactInternals===void 0)throw Error(t(38));return Bd(x,w,A,!1,H)},Yn.version="18.3.1-next-f1338f8080-20240426",Yn}var rw;function k6(){if(rw)return a0.exports;rw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),a0.exports=iC(),a0.exports}var nw;function aC(){if(nw)return qd;nw=1;var e=k6();return qd.createRoot=e.createRoot,qd.hydrateRoot=e.hydrateRoot,qd}var oC=aC();var sw="popstate";function lC(e={}){function r(s,l){let{pathname:i,search:o,hash:d}=s.location;return iy("",{pathname:i,search:o,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){return typeof l=="string"?l:Zc(l)}return uC(r,t,null,e)}function Er(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function hs(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function cC(){return Math.random().toString(36).substring(2,10)}function iw(e,r){return{usr:e.state,key:e.key,idx:r}}function iy(e,r,t=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?Fl(r):r,state:t,key:r&&r.key||s||cC()}}function Zc({pathname:e="/",search:r="",hash:t=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function Fl(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substring(t),e=e.substring(0,t));let s=e.indexOf("?");s>=0&&(r.search=e.substring(s),e=e.substring(0,s)),e&&(r.pathname=e)}return r}function uC(e,r,t,s={}){let{window:l=document.defaultView,v5Compat:i=!1}=s,o=l.history,d="POP",c=null,a=u();a==null&&(a=0,o.replaceState({...o.state,idx:a},""));function u(){return(o.state||{idx:null}).idx}function f(){d="POP";let p=u(),b=p==null?null:p-a;a=p,c&&c({action:d,location:y.location,delta:b})}function h(p,b){d="PUSH";let v=iy(y.location,p,b);a=u()+1;let j=iw(v,a),C=y.createHref(v);try{o.pushState(j,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(C)}i&&c&&c({action:d,location:y.location,delta:1})}function m(p,b){d="REPLACE";let v=iy(y.location,p,b);a=u();let j=iw(v,a),C=y.createHref(v);o.replaceState(j,"",C),i&&c&&c({action:d,location:y.location,delta:0})}function g(p){return dC(p)}let y={get action(){return d},get location(){return e(l,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(sw,f),c=p,()=>{l.removeEventListener(sw,f),c=null}},createHref(p){return r(l,p)},createURL:g,encodeLocation(p){let b=g(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(p){return o.go(p)}};return y}function dC(e,r=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Er(t,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:Zc(e);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function S6(e,r,t="/"){return fC(e,r,t,!1)}function fC(e,r,t,s){let l=typeof r=="string"?Fl(r):r,i=Xi(l.pathname||"/",t);if(i==null)return null;let o=C6(e);hC(o);let d=null;for(let c=0;d==null&&c<o.length;++c){let a=NC(i);d=_C(o[c],a,s)}return d}function C6(e,r=[],t=[],s="",l=!1){let i=(o,d,c=l,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(s)&&c)return;Er(u.relativePath.startsWith(s),`Absolute route path "${u.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(s.length)}let f=Fi([s,u.relativePath]),h=t.concat(u);o.children&&o.children.length>0&&(Er(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),C6(o.children,r,h,f,c)),!(o.path==null&&!o.index)&&r.push({path:f,score:bC(f,o.index),routesMeta:h})};return e.forEach((o,d)=>{if(o.path===""||!o.path?.includes("?"))i(o,d);else for(let c of E6(o.path))i(o,d,!0,c)}),r}function E6(e){let r=e.split("/");if(r.length===0)return[];let[t,...s]=r,l=t.endsWith("?"),i=t.replace(/\?$/,"");if(s.length===0)return l?[i,""]:[i];let o=E6(s.join("/")),d=[];return d.push(...o.map(c=>c===""?i:[i,c].join("/"))),l&&d.push(...o),d.map(c=>e.startsWith("/")&&c===""?"/":c)}function hC(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:wC(r.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var mC=/^:[\w-]+$/,pC=3,gC=2,yC=1,xC=10,vC=-2,aw=e=>e==="*";function bC(e,r){let t=e.split("/"),s=t.length;return t.some(aw)&&(s+=vC),r&&(s+=gC),t.filter(l=>!aw(l)).reduce((l,i)=>l+(mC.test(i)?pC:i===""?yC:xC),s)}function wC(e,r){return e.length===r.length&&e.slice(0,-1).every((s,l)=>s===r[l])?e[e.length-1]-r[r.length-1]:0}function _C(e,r,t=!1){let{routesMeta:s}=e,l={},i="/",o=[];for(let d=0;d<s.length;++d){let c=s[d],a=d===s.length-1,u=i==="/"?r:r.slice(i.length)||"/",f=Cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:a},u),h=c.route;if(!f&&a&&t&&!s[s.length-1].route.index&&(f=Cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(l,f.params),o.push({params:l,pathname:Fi([i,f.pathname]),pathnameBase:EC(Fi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Fi([i,f.pathnameBase]))}return o}function Cf(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,s]=jC(e.path,e.caseSensitive,e.end),l=r.match(t);if(!l)return null;let i=l[0],o=i.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:s.reduce((a,{paramName:u,isOptional:f},h)=>{if(u==="*"){let g=d[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=d[h];return f&&!m?a[u]=void 0:a[u]=(m||"").replace(/%2F/g,"/"),a},{}),pathname:i,pathnameBase:o,pattern:e}}function jC(e,r=!1,t=!0){hs(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,c)=>(s.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),s]}function NC(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return hs(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function Xi(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,s=e.charAt(t);return s&&s!=="/"?null:e.slice(t)||"/"}var A6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kC=e=>A6.test(e);function SC(e,r="/"){let{pathname:t,search:s="",hash:l=""}=typeof e=="string"?Fl(e):e,i;if(t)if(kC(t))i=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),hs(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?i=ow(t.substring(1),"/"):i=ow(t,r)}else i=r;return{pathname:i,search:AC(s),hash:PC(l)}}function ow(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function c0(e,r,t,s){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CC(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function hx(e){let r=CC(e);return r.map((t,s)=>s===r.length-1?t.pathname:t.pathnameBase)}function mx(e,r,t,s=!1){let l;typeof e=="string"?l=Fl(e):(l={...e},Er(!l.pathname||!l.pathname.includes("?"),c0("?","pathname","search",l)),Er(!l.pathname||!l.pathname.includes("#"),c0("#","pathname","hash",l)),Er(!l.search||!l.search.includes("#"),c0("#","search","hash",l)));let i=e===""||l.pathname==="",o=i?"/":l.pathname,d;if(o==null)d=t;else{let f=r.length-1;if(!s&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}d=f>=0?r[f]:"/"}let c=SC(l,d),a=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(a||u)&&(c.pathname+="/"),c}var Fi=e=>e.join("/").replace(/\/\/+/g,"/"),EC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),AC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,TC=class{constructor(e,r,t,s=!1){this.status=e,this.statusText=r||"",this.internal=s,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function OC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function MC(e){return e.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var P6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function T6(e,r){let t=e;if(typeof t!="string"||!A6.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let s=t,l=!1;if(P6)try{let i=new URL(window.location.href),o=t.startsWith("//")?new URL(i.protocol+t):new URL(t),d=Xi(o.pathname,r);o.origin===i.origin&&d!=null?t=d+o.search+o.hash:l=!0}catch{hs(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O6=["POST","PUT","PATCH","DELETE"];new Set(O6);var IC=["GET",...O6];new Set(IC);var $l=F.createContext(null);$l.displayName="DataRouter";var Ph=F.createContext(null);Ph.displayName="DataRouterState";var RC=F.createContext(!1),M6=F.createContext({isTransitioning:!1});M6.displayName="ViewTransition";var DC=F.createContext(new Map);DC.displayName="Fetchers";var LC=F.createContext(null);LC.displayName="Await";var ps=F.createContext(null);ps.displayName="Navigation";var gu=F.createContext(null);gu.displayName="Location";var yi=F.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var px=F.createContext(null);px.displayName="RouteError";var I6="REACT_ROUTER_ERROR",zC="REDIRECT",FC="ROUTE_ERROR_RESPONSE";function $C(e){if(e.startsWith(`${I6}:${zC}:{`))try{let r=JSON.parse(e.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function BC(e){if(e.startsWith(`${I6}:${FC}:{`))try{let r=JSON.parse(e.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new TC(r.status,r.statusText,r.data)}catch{}}function UC(e,{relative:r}={}){Er(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(ps),{hash:l,pathname:i,search:o}=yu(e,{relative:r}),d=i;return t!=="/"&&(d=i==="/"?t:Fi([t,i])),s.createHref({pathname:d,search:o,hash:l})}function Bl(){return F.useContext(gu)!=null}function Bn(){return Er(Bl(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(gu).location}var R6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function D6(e){F.useContext(ps).static||F.useLayoutEffect(e)}function Qn(){let{isDataRoute:e}=F.useContext(yi);return e?tE():qC()}function qC(){Er(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let e=F.useContext($l),{basename:r,navigator:t}=F.useContext(ps),{matches:s}=F.useContext(yi),{pathname:l}=Bn(),i=JSON.stringify(hx(s)),o=F.useRef(!1);return D6(()=>{o.current=!0}),F.useCallback((c,a={})=>{if(hs(o.current,R6),!o.current)return;if(typeof c=="number"){t.go(c);return}let u=mx(c,JSON.parse(i),l,a.relative==="path");e==null&&r!=="/"&&(u.pathname=u.pathname==="/"?r:Fi([r,u.pathname])),(a.replace?t.replace:t.push)(u,a.state,a)},[r,t,i,l,e])}F.createContext(null);function yu(e,{relative:r}={}){let{matches:t}=F.useContext(yi),{pathname:s}=Bn(),l=JSON.stringify(hx(t));return F.useMemo(()=>mx(e,JSON.parse(l),s,r==="path"),[e,l,s,r])}function HC(e,r){return L6(e,r)}function L6(e,r,t,s,l){Er(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=F.useContext(ps),{matches:o}=F.useContext(yi),d=o[o.length-1],c=d?d.params:{},a=d?d.pathname:"/",u=d?d.pathnameBase:"/",f=d&&d.route;{let v=f&&f.path||"";F6(a,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${a}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=Bn(),m;if(r){let v=typeof r=="string"?Fl(r):r;Er(u==="/"||v.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${v.pathname}" was given in the \`location\` prop.`),m=v}else m=h;let g=m.pathname||"/",y=g;if(u!=="/"){let v=u.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=S6(e,{pathname:y});hs(f||p!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),hs(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=GC(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Fi([u,i.encodeLocation?i.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Fi([u,i.encodeLocation?i.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),o,t,s,l);return r&&b?F.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},b):b}function WC(){let e=eE(),r=OC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:i},"ErrorBoundary")," or"," ",F.createElement("code",{style:i},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},r),t?F.createElement("pre",{style:l},t):null,o)}var VC=F.createElement(WC,null),z6=class extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){this.props.onError?this.props.onError(e,r):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const t=BC(e.digest);t&&(e=t)}let r=e!==void 0?F.createElement(yi.Provider,{value:this.props.routeContext},F.createElement(px.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?F.createElement(KC,{error:e},r):r}};z6.contextType=RC;var u0=new WeakMap;function KC({children:e,error:r}){let{basename:t}=F.useContext(ps);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let s=$C(r.digest);if(s){let l=u0.get(r);if(l)throw l;let i=T6(s.location,t);if(P6&&!u0.get(r))if(i.isExternal||s.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:s.replace}));throw u0.set(r,o),o}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function XC({routeContext:e,match:r,children:t}){let s=F.useContext($l);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(yi.Provider,{value:e},t)}function GC(e,r=[],t=null,s=null,l=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let i=e,o=t?.errors;if(o!=null){let u=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Er(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,c=-1;if(t)for(let u=0;u<i.length;u++){let f=i[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=t,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let a=t&&s?(u,f)=>{s(u,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:MC(t.matches),errorInfo:f})}:void 0;return i.reduceRight((u,f,h)=>{let m,g=!1,y=null,p=null;t&&(m=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||VC,d&&(c<0&&h===0?(F6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,p=null):c===h&&(g=!0,p=f.route.hydrateFallbackElement||null)));let b=r.concat(i.slice(0,h+1)),v=()=>{let j;return m?j=y:g?j=p:f.route.Component?j=F.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,F.createElement(XC,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:t!=null},children:j})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?F.createElement(z6,{location:t.location,revalidation:t.revalidation,component:y,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:a}):v()},null)}function gx(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YC(e){let r=F.useContext($l);return Er(r,gx(e)),r}function ZC(e){let r=F.useContext(Ph);return Er(r,gx(e)),r}function JC(e){let r=F.useContext(yi);return Er(r,gx(e)),r}function yx(e){let r=JC(e),t=r.matches[r.matches.length-1];return Er(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function QC(){return yx("useRouteId")}function eE(){let e=F.useContext(px),r=ZC("useRouteError"),t=yx("useRouteError");return e!==void 0?e:r.errors?.[t]}function tE(){let{router:e}=YC("useNavigate"),r=yx("useNavigate"),t=F.useRef(!1);return D6(()=>{t.current=!0}),F.useCallback(async(l,i={})=>{hs(t.current,R6),t.current&&(typeof l=="number"?await e.navigate(l):await e.navigate(l,{fromRouteId:r,...i}))},[e,r])}var lw={};function F6(e,r,t){!r&&!lw[e]&&(lw[e]=!0,hs(!1,t))}F.memo(rE);function rE({routes:e,future:r,state:t,onError:s}){return L6(e,void 0,t,s,r)}function vo({to:e,replace:r,state:t,relative:s}){Er(Bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=F.useContext(ps);hs(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=F.useContext(yi),{pathname:o}=Bn(),d=Qn(),c=mx(e,hx(i),o,s==="path"),a=JSON.stringify(c);return F.useEffect(()=>{d(JSON.parse(a),{replace:r,state:t,relative:s})},[d,a,s,r,t]),null}function qt(e){Er(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nE({basename:e="/",children:r=null,location:t,navigationType:s="POP",navigator:l,static:i=!1,unstable_useTransitions:o}){Er(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:d,navigator:l,static:i,unstable_useTransitions:o,future:{}}),[d,l,i,o]);typeof t=="string"&&(t=Fl(t));let{pathname:a="/",search:u="",hash:f="",state:h=null,key:m="default"}=t,g=F.useMemo(()=>{let y=Xi(a,d);return y==null?null:{location:{pathname:y,search:u,hash:f,state:h,key:m},navigationType:s}},[d,a,u,f,h,m,s]);return hs(g!=null,`<Router basename="${d}"> is not able to match the URL "${a}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:F.createElement(ps.Provider,{value:c},F.createElement(gu.Provider,{children:r,value:g}))}function cw({children:e,location:r}){return HC(ay(e),r)}function ay(e,r=[]){let t=[];return F.Children.forEach(e,(s,l)=>{if(!F.isValidElement(s))return;let i=[...r,l];if(s.type===F.Fragment){t.push.apply(t,ay(s.props.children,i));return}Er(s.type===qt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Er(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=ay(s.props.children,i)),t.push(o)}),t}var bf="get",wf="application/x-www-form-urlencoded";function Th(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function sE(e){return Th(e)&&e.tagName.toLowerCase()==="button"}function iE(e){return Th(e)&&e.tagName.toLowerCase()==="form"}function aE(e){return Th(e)&&e.tagName.toLowerCase()==="input"}function oE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lE(e,r){return e.button===0&&(!r||r==="_self")&&!oE(e)}function oy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((r,t)=>{let s=e[t];return r.concat(Array.isArray(s)?s.map(l=>[t,l]):[[t,s]])},[]))}function cE(e,r){let t=oy(e);return r&&r.forEach((s,l)=>{t.has(l)||r.getAll(l).forEach(i=>{t.append(l,i)})}),t}var Hd=null;function uE(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var dE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function d0(e){return e!=null&&!dE.has(e)?(hs(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wf}"`),null):e}function fE(e,r){let t,s,l,i,o;if(iE(e)){let d=e.getAttribute("action");s=d?Xi(d,r):null,t=e.getAttribute("method")||bf,l=d0(e.getAttribute("enctype"))||wf,i=new FormData(e)}else if(sE(e)||aE(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||d.getAttribute("action");if(s=c?Xi(c,r):null,t=e.getAttribute("formmethod")||d.getAttribute("method")||bf,l=d0(e.getAttribute("formenctype"))||d0(d.getAttribute("enctype"))||wf,i=new FormData(d,e),!uE()){let{name:a,type:u,value:f}=e;if(u==="image"){let h=a?`${a}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else a&&i.append(a,f)}}else{if(Th(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=bf,s=null,l=wf,o=e}return i&&l==="text/plain"&&(o=i,i=void 0),{action:s,method:t.toLowerCase(),encType:l,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xx(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function hE(e,r,t,s){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:r&&Xi(l.pathname,r)==="/"?l.pathname=`${r.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function mE(e,r){if(e.id in r)return r[e.id];try{let t=await import(e.module);return r[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pE(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gE(e,r,t){let s=await Promise.all(e.map(async l=>{let i=r.routes[l.route.id];if(i){let o=await mE(i,t);return o.links?o.links():[]}return[]}));return bE(s.flat(1).filter(pE).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function uw(e,r,t,s,l,i){let o=(c,a)=>t[a]?c.route.id!==t[a].route.id:!0,d=(c,a)=>t[a].pathname!==c.pathname||t[a].route.path?.endsWith("*")&&t[a].params["*"]!==c.params["*"];return i==="assets"?r.filter((c,a)=>o(c,a)||d(c,a)):i==="data"?r.filter((c,a)=>{let u=s.routes[c.route.id];if(!u||!u.hasLoader)return!1;if(o(c,a)||d(c,a))return!0;if(c.route.shouldRevalidate){let f=c.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function yE(e,r,{includeHydrateFallback:t}={}){return xE(e.map(s=>{let l=r.routes[s.route.id];if(!l)return[];let i=[l.module];return l.clientActionModule&&(i=i.concat(l.clientActionModule)),l.clientLoaderModule&&(i=i.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(i=i.concat(l.hydrateFallbackModule)),l.imports&&(i=i.concat(l.imports)),i}).flat(1))}function xE(e){return[...new Set(e)]}function vE(e){let r={},t=Object.keys(e).sort();for(let s of t)r[s]=e[s];return r}function bE(e,r){let t=new Set;return new Set(r),e.reduce((s,l)=>{let i=JSON.stringify(vE(l));return t.has(i)||(t.add(i),s.push({key:i,link:l})),s},[])}function $6(){let e=F.useContext($l);return xx(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function wE(){let e=F.useContext(Ph);return xx(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vx=F.createContext(void 0);vx.displayName="FrameworkContext";function B6(){let e=F.useContext(vx);return xx(e,"You must render this element inside a <HydratedRouter> element"),e}function _E(e,r){let t=F.useContext(vx),[s,l]=F.useState(!1),[i,o]=F.useState(!1),{onFocus:d,onBlur:c,onMouseEnter:a,onMouseLeave:u,onTouchStart:f}=r,h=F.useRef(null);F.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let y=b=>{b.forEach(v=>{o(v.isIntersecting)})},p=new IntersectionObserver(y,{threshold:.5});return h.current&&p.observe(h.current),()=>{p.disconnect()}}},[e]),F.useEffect(()=>{if(s){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[s]);let m=()=>{l(!0)},g=()=>{l(!1),o(!1)};return t?e!=="intent"?[i,h,{}]:[i,h,{onFocus:Ic(d,m),onBlur:Ic(c,g),onMouseEnter:Ic(a,m),onMouseLeave:Ic(u,g),onTouchStart:Ic(f,m)}]:[!1,h,{}]}function Ic(e,r){return t=>{e&&e(t),t.defaultPrevented||r(t)}}function jE({page:e,...r}){let{router:t}=$6(),s=F.useMemo(()=>S6(t.routes,e,t.basename),[t.routes,e,t.basename]);return s?F.createElement(kE,{page:e,matches:s,...r}):null}function NE(e){let{manifest:r,routeModules:t}=B6(),[s,l]=F.useState([]);return F.useEffect(()=>{let i=!1;return gE(e,r,t).then(o=>{i||l(o)}),()=>{i=!0}},[e,r,t]),s}function kE({page:e,matches:r,...t}){let s=Bn(),{future:l,manifest:i,routeModules:o}=B6(),{basename:d}=$6(),{loaderData:c,matches:a}=wE(),u=F.useMemo(()=>uw(e,r,a,i,s,"data"),[e,r,a,i,s]),f=F.useMemo(()=>uw(e,r,a,i,s,"assets"),[e,r,a,i,s]),h=F.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let y=new Set,p=!1;if(r.forEach(v=>{let j=i.routes[v.route.id];!j||!j.hasLoader||(!u.some(C=>C.route.id===v.route.id)&&v.route.id in c&&o[v.route.id]?.shouldRevalidate||j.hasClientLoader?p=!0:y.add(v.route.id))}),y.size===0)return[];let b=hE(e,d,l.unstable_trailingSlashAwareDataRequests,"data");return p&&y.size>0&&b.searchParams.set("_routes",r.filter(v=>y.has(v.route.id)).map(v=>v.route.id).join(",")),[b.pathname+b.search]},[d,l.unstable_trailingSlashAwareDataRequests,c,s,i,u,r,e,o]),m=F.useMemo(()=>yE(f,i),[f,i]),g=NE(f);return F.createElement(F.Fragment,null,h.map(y=>F.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),m.map(y=>F.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),g.map(({key:y,link:p})=>F.createElement("link",{key:y,nonce:t.nonce,...p})))}function SE(...e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.12.0")}catch{}function EE({basename:e,children:r,unstable_useTransitions:t,window:s}){let l=F.useRef();l.current==null&&(l.current=lC({window:s,v5Compat:!0}));let i=l.current,[o,d]=F.useState({action:i.action,location:i.location}),c=F.useCallback(a=>{t===!1?d(a):F.startTransition(()=>d(a))},[t]);return F.useLayoutEffect(()=>i.listen(c),[i,c]),F.createElement(nE,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:t})}var U6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bx=F.forwardRef(function({onClick:r,discover:t="render",prefetch:s="none",relative:l,reloadDocument:i,replace:o,state:d,target:c,to:a,preventScrollReset:u,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g){let{basename:y,unstable_useTransitions:p}=F.useContext(ps),b=typeof a=="string"&&U6.test(a),v=T6(a,y);a=v.to;let j=UC(a,{relative:l}),[C,T,D]=_E(s,m),q=TE(a,{replace:o,state:d,target:c,preventScrollReset:u,relative:l,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:p});function z(V){r&&r(V),V.defaultPrevented||q(V)}let B=F.createElement("a",{...m,...D,href:v.absoluteURL||j,onClick:v.isExternal||i?r:z,ref:SE(g,T),target:c,"data-discover":!b&&t==="render"?"true":void 0});return C&&!b?F.createElement(F.Fragment,null,B,F.createElement(jE,{page:j})):B});bx.displayName="Link";var vl=F.forwardRef(function({"aria-current":r="page",caseSensitive:t=!1,className:s="",end:l=!1,style:i,to:o,viewTransition:d,children:c,...a},u){let f=yu(o,{relative:a.relative}),h=Bn(),m=F.useContext(Ph),{navigator:g,basename:y}=F.useContext(ps),p=m!=null&&LE(f)&&d===!0,b=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,v=h.pathname,j=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(v=v.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&y&&(j=Xi(j,y)||j);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let T=v===b||!l&&v.startsWith(b)&&v.charAt(C)==="/",D=j!=null&&(j===b||!l&&j.startsWith(b)&&j.charAt(b.length)==="/"),q={isActive:T,isPending:D,isTransitioning:p},z=T?r:void 0,B;typeof s=="function"?B=s(q):B=[s,T?"active":null,D?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let V=typeof i=="function"?i(q):i;return F.createElement(bx,{...a,"aria-current":z,className:B,ref:u,style:V,to:o,viewTransition:d},typeof c=="function"?c(q):c)});vl.displayName="NavLink";var AE=F.forwardRef(({discover:e="render",fetcherKey:r,navigate:t,reloadDocument:s,replace:l,state:i,method:o=bf,action:d,onSubmit:c,relative:a,preventScrollReset:u,viewTransition:f,unstable_defaultShouldRevalidate:h,...m},g)=>{let{unstable_useTransitions:y}=F.useContext(ps),p=RE(),b=DE(d,{relative:a}),v=o.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&U6.test(d),C=T=>{if(c&&c(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,q=D?.getAttribute("formmethod")||o,z=()=>p(D||T.currentTarget,{fetcherKey:r,method:q,navigate:t,replace:l,state:i,relative:a,preventScrollReset:u,viewTransition:f,unstable_defaultShouldRevalidate:h});y&&t!==!1?F.startTransition(()=>z()):z()};return F.createElement("form",{ref:g,method:v,action:b,onSubmit:s?c:C,...m,"data-discover":!j&&e==="render"?"true":void 0})});AE.displayName="Form";function PE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q6(e){let r=F.useContext($l);return Er(r,PE(e)),r}function TE(e,{target:r,replace:t,state:s,preventScrollReset:l,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:d,unstable_useTransitions:c}={}){let a=Qn(),u=Bn(),f=yu(e,{relative:i});return F.useCallback(h=>{if(lE(h,r)){h.preventDefault();let m=t!==void 0?t:Zc(u)===Zc(f),g=()=>a(e,{replace:m,state:s,preventScrollReset:l,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:d});c?F.startTransition(()=>g()):g()}},[u,a,f,t,s,r,e,l,i,o,d,c])}function OE(e){hs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=F.useRef(oy(e)),t=F.useRef(!1),s=Bn(),l=F.useMemo(()=>cE(s.search,t.current?null:r.current),[s.search]),i=Qn(),o=F.useCallback((d,c)=>{const a=oy(typeof d=="function"?d(new URLSearchParams(l)):d);t.current=!0,i("?"+a,c)},[i,l]);return[l,o]}var ME=0,IE=()=>`__${String(++ME)}__`;function RE(){let{router:e}=q6("useSubmit"),{basename:r}=F.useContext(ps),t=QC(),s=e.fetch,l=e.navigate;return F.useCallback(async(i,o={})=>{let{action:d,method:c,encType:a,formData:u,body:f}=fE(i,r);if(o.navigate===!1){let h=o.fetcherKey||IE();await s(h,t,o.action||d,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:f,formMethod:o.method||c,formEncType:o.encType||a,flushSync:o.flushSync})}else await l(o.action||d,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:f,formMethod:o.method||c,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,l,r,t])}function DE(e,{relative:r}={}){let{basename:t}=F.useContext(ps),s=F.useContext(yi);Er(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),i={...yu(e||".",{relative:r})},o=Bn();if(e==null){i.search=o.search;let d=new URLSearchParams(i.search),c=d.getAll("index");if(c.some(u=>u==="")){d.delete("index"),c.filter(f=>f).forEach(f=>d.append("index",f));let u=d.toString();i.search=u?`?${u}`:""}}return(!e||e===".")&&l.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(i.pathname=i.pathname==="/"?t:Fi([t,i.pathname])),Zc(i)}function LE(e,{relative:r}={}){let t=F.useContext(M6);Er(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=q6("useViewTransitionState"),l=yu(e,{relative:r});if(!t.isTransitioning)return!1;let i=Xi(t.currentLocation.pathname,s)||t.currentLocation.pathname,o=Xi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Cf(l.pathname,o)!=null||Cf(l.pathname,i)!=null}var wx=k6();const zE=[{id:"1",name:"Service Provider",email:"manglaaryan05@gmail.com",phone:"9876543210",status:"approved",specialization:["AC Repair","Electrician Services"],rating:4.8,totalJobs:120},{id:"2",name:"Jane Smith",email:"jane@example.com",phone:"8765432109",status:"approved",specialization:["Salon at Home","Massage Therapy"],rating:4.9,totalJobs:85},{id:"3",name:"Bob Johnson",email:"bob@example.com",phone:"7654321098",status:"pending",specialization:["Plumbing Services","Home Cleaning"],rating:0,totalJobs:0}],H6=[{id:"1",name:"Regular User",email:"user@KwikMedi.com",role:"user",status:"active",phone:"9876543210",address:"123 Main St, Apt 4B"},{id:"2",name:"Service Provider",email:"provider@KwikMedi.com",role:"provider",status:"active",phone:"8765432109",address:"456 Park Ave, Suite 10"},{id:"3",name:"Admin User",email:"admin@kwikmedi.com",role:"admin",status:"active",phone:"7654321098"}],W6={},Ie=W6?.VITE_API_BASE_URL||"https://kwikmedi.mycartly.in/api",_x=W6?.VITE_BACKEND_BASE_URL||"https://kwikmedi.mycartly.in";let fl=H6.filter(e=>e.role==="user"&&e.id).map(e=>({id:e.id,name:e.name||"",email:e.email,phone:e.phone||"",password:e.role==="user"?"Neighshop#user":"Neighshop#admin",role:"user",status:e.status,createdAt:new Date().toISOString()})),ho=zE.map(e=>({id:e.id,name:e.name,email:e.email,phone:e.phone,password:"Neighshop#provider",service:e.specialization[0],pincode:"400001",address:"",documentUrl:"/documents/provider.pdf",role:"provider",status:e.status,createdAt:new Date().toISOString()}));const hl=e=>new Promise(r=>setTimeout(r,e)),mo=e=>({id:e.id,name:e.name,email:e.email,role:e.role,status:e.status,phone:e.phone}),dw=e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(e),f0=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),fw=e=>/^\d{10}$/.test(e),Wd={login:async(e,r,t)=>{if(await hl(1e3),!f0(e))return{success:!1,message:"Invalid email format"};if(t==="admin"){if(e==="admin@kwikmedi.com"&&r==="Neighshop#admin"){const s=H6.find(l=>l.role==="admin");if(s)return{success:!0,message:"Admin login successful",user:s}}return{success:!1,message:"Invalid admin credentials"}}if(t==="user"){const s=fl.find(l=>l.email===e);if(s&&s.password===r)return s.status!=="active"?{success:!1,message:"Your account is inactive"}:{success:!0,message:"Login successful",user:mo(s)}}if(t==="provider"){const s=ho.find(l=>l.email===e);if(s&&s.password===r)return s.status!=="approved"?{success:!1,message:"Your account is pending approval"}:{success:!0,message:"Login successful",user:mo(s)}}return{success:!1,message:"Invalid credentials"}},registerUser:async e=>{if(await hl(1e3),!f0(e.email))return{success:!1,message:"Invalid email format"};if(!fw(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!dw(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(fl.some(t=>t.email===e.email)||ho.some(t=>t.email===e.email))return{success:!1,message:"Email already registered"};const r={...e,id:(fl.length+1).toString(),role:"user",status:"active",createdAt:new Date().toISOString()};return fl.push(r),{success:!0,message:"Registration successful",user:mo(r)}},registerProvider:async(e,r)=>{if(await hl(1e3),!f0(e.email))return{success:!1,message:"Invalid email format"};if(!fw(e.phone))return{success:!1,message:"Invalid phone number format (10 digits required)"};if(!dw(e.password))return{success:!1,message:"Password must be at least 8 characters long and contain uppercase, lowercase, number and special character"};if(!e.service)return{success:!1,message:"Service selection is required"};if(!e.pincode||!/^\d{6}$/.test(e.pincode))return{success:!1,message:"Invalid pincode format (6 digits required)"};if(fl.some(i=>i.email===e.email)||ho.some(i=>i.email===e.email))return{success:!1,message:"Email already registered"};if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/png"].includes(r.type))return{success:!1,message:"Invalid document format"};if(r.size>5*1024*1024)return{success:!1,message:"Document size should be less than 5MB"};const s=URL.createObjectURL(r),l={...e,id:(ho.length+1).toString(),role:"provider",status:"pending",documentUrl:s,createdAt:new Date().toISOString()};return ho.push(l),{success:!0,message:"Registration submitted for approval. You will be notified once approved.",user:mo(l)}},getRegisteredUsers:async()=>(await hl(500),fl.map(mo)),getRegisteredProviders:async()=>(await hl(500),ho.map(mo)),updateProviderStatus:async(e,r)=>{await hl(500);const t=ho.find(s=>s.id===e);return t?(t.status=r,{success:!0,message:`Provider ${r} successfully`,user:mo(t)}):{success:!1,message:"Provider not found"}},sendOTP:async e=>{const r=await fetch(`${Ie}/provider/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!r.ok)throw new Error("Failed to send OTP");return r.json()},verifyOTP:async(e,r)=>{const t=await fetch(`${Ie}/provider/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,otp:r})});if(!t.ok)throw new Error("Failed to verify OTP");return t.json()},getServiceProviderInfo:async e=>{const r=await fetch(`${Ie}/create_account_service_provider`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Failed to get service provider info");return r.json()},createServiceProviderAccount:async(e,r)=>{const t=new FormData;t.append("name",r.name),t.append("service_type",r.service_type),t.append("phone_number",r.phone_number),t.append("address",r.address),t.append("pincode",r.pincode),t.append("document",r.document),r.referral&&t.append("referral",r.referral);const s=await fetch(`${Ie}/create_account_service_provider`,{method:"POST",headers:{Authorization:`Bearer ${e}`},body:t});if(!s.ok)throw new Error("Failed to create service provider account");return s.json()}},V6=F.createContext(void 0),gn=()=>{const e=F.useContext(V6);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},FE=({children:e})=>{const[r,t]=F.useState(null),[s,l]=F.useState(null),[i,o]=F.useState(!0),d=()=>{const p=localStorage.getItem("KwikMedi_user"),b=localStorage.getItem("KwikMedi_token"),v=localStorage.getItem("KwikMedi_role");if(b&&p)try{const j=JSON.parse(p);if(console.log("AuthContext: Restoring user data",{storedRole:v,userData:j}),v==="admin"||v==="helping_staff"||v==="finance_admin"||j.role==="admin"||j.role==="super_admin"||j.role==="helping_staff"||j.role==="helping_staff_admin"||j.role==="finance_admin"){if(b.startsWith("mock_token_")){console.log("AuthContext: Rejecting mock token, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),l(null),t(null),o(!1);return}fetch(`${Ie}/admin/me`,{headers:{Authorization:`Bearer ${b}`}}).then(C=>{if(C.ok)return C.json();throw new Error("Token validation failed")}).then(C=>{if(C.admin){l(b);let T=C.admin.role;T==="super_admin"?T="admin":T==="helping_staff_admin"&&(T="helping_staff");const D={...C.admin,role:T};console.log("AuthContext: Setting user data after validation",D),t(D),localStorage.setItem("KwikMedi_user",JSON.stringify(D)),localStorage.setItem("KwikMedi_role",T)}else{if((v==="helping_staff"||v==="finance_admin")&&j){console.log(`AuthContext: Using stored ${v} data (admin_me returned no admin)`),l(b);const T={...j,role:v};t(T),localStorage.setItem("KwikMedi_user",JSON.stringify(T)),localStorage.setItem("KwikMedi_role",v),o(!1);return}throw new Error("Invalid response")}}).catch(()=>{console.log("AuthContext: Token validation failed, clearing storage"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),l(null),t(null)}).finally(()=>{o(!1)})}else v==="provider"||j.role==="provider"?(l(b),t(j),o(!1)):fetch(`${Ie}/user/profile`,{headers:{Authorization:`Bearer ${b}`}}).then(C=>{C.ok?(l(b),t(j)):(localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),l(null),t(null))}).catch(()=>{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),l(null),t(null)}).finally(()=>{o(!1)})}catch{localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_role"),l(null),t(null),o(!1)}else o(!1)};F.useEffect(()=>{d();const p=v=>{(v.key==="KwikMedi_token"||v.key==="KwikMedi_user"||v.key==="KwikMedi_role")&&d()},b=()=>{d()};return window.addEventListener("storage",p),window.addEventListener("authUpdate",b),()=>{window.removeEventListener("storage",p),window.removeEventListener("authUpdate",b)}},[]);const y={user:r,isAuthenticated:!!s,isLoading:i,token:s,sendOTP:async p=>{try{await Wd.sendOTP(p)}catch(b){throw console.error("Failed to send OTP:",b),b}},verifyOTP:async(p,b)=>{try{const v=await Wd.verifyOTP(p,b);if(v.is_existing&&v.token&&v.provider){l(v.token),localStorage.setItem("KwikMedi_token",v.token);const j={id:v.provider.id.toString(),email:v.provider.email,role:"provider",status:v.provider.status||"pending",name:v.provider.name||"",phone:v.provider.phone||""};return t(j),localStorage.setItem("KwikMedi_user",JSON.stringify(j)),localStorage.setItem("KwikMedi_role","provider"),{token:v.token,user:j,isNewUser:!1}}else return{token:null,user:null,isNewUser:!0}}catch(v){throw console.error("OTP verification failed:",v),v}},createServiceProviderAccount:async p=>{if(!s)throw new Error("No authentication token found");try{await Wd.createServiceProviderAccount(s,p);const v={email:(await Wd.getServiceProviderInfo(s)).email,role:"provider",name:p.name,phone:p.phone_number,status:"pending"};t(v),localStorage.setItem("KwikMedi_user",JSON.stringify(v))}catch(b){throw console.error("Failed to create service provider account:",b),b}},adminLogin:async(p,b)=>{try{const v=`${Ie}/admin/login`;console.log("Admin login URL:",v);const j=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:p,password:b})});console.log("Admin login response status:",j.status,j.statusText,j.url);let C;try{C=await j.json()}catch{const D=await j.text();throw console.error("Non-JSON response:",D),new Error(`Server error: ${j.status} ${j.statusText}. ${D.substring(0,100)}`)}if(!j.ok){const T=C.message||C.error?.message||`Login failed: ${j.status} ${j.statusText}`;throw new Error(T)}if(C.token){l(C.token);const T=C.admin.role==="super_admin"?"admin":C.admin.role,D={...C.admin,role:T};t(D),localStorage.setItem("KwikMedi_token",C.token),localStorage.setItem("KwikMedi_user",JSON.stringify(D)),localStorage.setItem("KwikMedi_role","admin")}else throw new Error("No token received")}catch(v){throw console.error("Admin login failed:",v),v}},login:async(p,b,v="user")=>{try{const j=await fetch(`${Ie}/user/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:b})}),C=await j.json();if(!j.ok)throw new Error(C.message||"Login failed");if(C.token&&C.user){l(C.token);const T={id:C.user.id,email:C.user.email,role:v,status:C.user.status||"active",name:C.user.name||"",phone:C.user.phone||""};t(T),localStorage.setItem("KwikMedi_token",C.token),localStorage.setItem("KwikMedi_user",JSON.stringify(T)),localStorage.setItem("KwikMedi_role",v);const D=localStorage.getItem("selectedService"),q=localStorage.getItem("selectedCategory");D?localStorage.removeItem("selectedService"):q&&localStorage.removeItem("selectedCategory")}else throw new Error("No token or user data received")}catch(j){throw console.error("Login failed:",j),j}},logout:()=>{t(null),l(null),localStorage.removeItem("KwikMedi_user"),localStorage.removeItem("KwikMedi_token"),localStorage.removeItem("KwikMedi_role")},refreshUserData:async()=>{try{const p=localStorage.getItem("KwikMedi_token"),b=localStorage.getItem("KwikMedi_role");if(p&&b)if(b==="admin"||b==="helping_staff"||b==="finance_admin")try{const v=await fetch(`${Ie}/admin/me`,{headers:{Authorization:`Bearer ${p}`}});if(v.ok){const j=await v.json(),C={...j.admin,role:j.admin.role==="super_admin"?"admin":j.admin.role};t(C),localStorage.setItem("KwikMedi_user",JSON.stringify(C)),console.log("Admin data refreshed:",C)}else v.status===404&&console.log("Admin /me endpoint not found, using stored user data")}catch(v){console.log("Admin /me endpoint error, using stored user data:",v)}else if(b==="provider")console.log("Service provider session maintained - no auto-refresh");else{const v=await fetch(`${Ie}/user/profile`,{headers:{Authorization:`Bearer ${p}`}});if(v.ok){const C=(await v.json()).profile,T={id:C.id,email:C.email,role:b,status:C.status||"active",name:C.name||"",phone:C.phone||""};console.log("Refreshing user data:",T),t(T),localStorage.setItem("KwikMedi_user",JSON.stringify(T)),console.log("User data updated in context and localStorage")}else console.error("Failed to refresh user data:",v.status)}}catch(p){console.error("Error refreshing user data:",p)}}};return n.jsx(V6.Provider,{value:y,children:e})},K6=F.createContext(void 0),Fr=()=>{const e=F.useContext(K6);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},$E=({children:e})=>{const[r,t]=F.useState([]),s=F.useCallback((i,o)=>{const d=Math.random().toString(36).substring(2,9);t(c=>[...c,{id:d,message:i,type:o}]),setTimeout(()=>{t(c=>c.filter(a=>a.id!==d))},2500)},[]),l=F.useCallback(i=>{t(o=>o.filter(d=>d.id!==i))},[]);return n.jsx(K6.Provider,{value:{toasts:r,addToast:s,removeToast:l},children:e})},BE=()=>{const{toasts:e,removeToast:r}=Fr();return e.length===0?null:n.jsx("div",{className:"fixed bottom-0 right-0 p-4 z-50 max-w-md w-full",children:n.jsx("div",{className:"space-y-2",children:e.map(t=>n.jsxs("div",{className:`p-4 rounded-lg shadow-lg flex items-start justify-between transition-all duration-300 animate-slide-up
              ${t.type==="success"?"bg-success text-white":t.type==="error"?"bg-error text-white":t.type==="warning"?"bg-warning text-white":"bg-primary text-secondary-dark"}
            `,children:[n.jsx("p",{children:t.message}),n.jsx("button",{onClick:()=>r(t.id),className:"ml-4 text-sm hover:opacity-70",children:""})]},t.id))})})};var UE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ge=(e,r)=>{const t=F.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,...a},u)=>F.createElement("svg",{ref:u,...UE,width:l,height:l,stroke:s,strokeWidth:o?Number(i)*24/Number(l):i,className:["lucide",`lucide-${qE(e)}`,d].join(" "),...a},[...r.map(([f,h])=>F.createElement(f,h)),...Array.isArray(c)?c:[c]]));return t.displayName=`${e}`,t};const HE=Ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const xu=Ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ba=Ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const jx=Ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Nx=Ge("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const WE=Ge("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);const VE=Ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Eo=Ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const hw=Ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const KE=Ge("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);const XE=Ge("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);const GE=Ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const YE=Ge("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);const kx=Ge("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);const mn=Ge("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Vs=Ge("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const fn=Ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const ZE=Ge("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);const Ka=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Ul=Ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const ia=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const vu=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const X6=Ge("CircleDashed",[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.721a10 10 0 0 1 2.69 2.7",key:"1iw5b2"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.279 17.609a10 10 0 0 1-2.7 2.69",key:"1ruxm7"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"M6.391 20.279a10 10 0 0 1-2.69-2.7",key:"1fvljs"}]]);const JE=Ge("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const pn=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const ly=Ge("Columns3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);const QE=Ge("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);const Gi=Ge("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const eA=Ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Fo=Ge("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const Sx=Ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const $o=Ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const h0=Ge("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);const m0=Ge("FilePen",[["path",{d:"M12 22h6a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v10",key:"x7tsz2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10.4 12.6a2 2 0 1 1 3 3L8 21l-4 1 1-4Z",key:"o3xyfb"}]]);const li=Ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Oh=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const mw=Ge("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);const pw=Ge("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const tA=Ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const rA=Ge("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);const nA=Ge("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const sA=Ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const _l=Ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const iA=Ge("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);const aA=Ge("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);const oA=Ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Kc=Ge("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);const ui=Ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Cx=Ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Yi=Ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const $i=Ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const p0=Ge("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);const lA=Ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Ex=Ge("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const G6=Ge("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M18.4 2.6a2.17 2.17 0 0 1 3 3L16 11l-4 1 1-4Z",key:"1dba1m"}]]);const Tn=Ge("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const cA=Ge("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);const g0=Ge("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);const uA=Ge("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Xa=Ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const dA=Ge("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const Ao=Ge("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);const Jn=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const gw=Ge("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const Dn=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const fA=Ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);const Un=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const hA=Ge("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const mA=Ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);const cy=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Ua=Ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const pA=Ge("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);const Ax=Ge("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const Px=Ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);const gA=Ge("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Zi=Ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Ef=Ge("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);const Us=Ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);const Af=Ge("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5h0c-1.4 0-2.5-1.1-2.5-2.5V2",key:"187lwq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);const yA=Ge("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);const uy=Ge("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);const xA=Ge("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);const Xs=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Xc=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Al=Ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Y6=Ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Pf=Ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const vA=Ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);const Lr=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Gs=Ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const bA=Ge("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);const ai=Ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const hr=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const wA=Ge("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),_A=()=>{const[e,r]=F.useState(""),[t,s]=F.useState(""),[l,i]=F.useState(!1),[o,d]=F.useState(!1),[c,a]=F.useState(1),[u,f]=F.useState(""),[h,m]=F.useState(""),[g,y]=F.useState(""),[p,b]=F.useState(""),[v,j]=F.useState({mobile:"",email:""}),C=Qn(),{adminLogin:T,isAuthenticated:D,user:q,isLoading:z}=gn(),{addToast:B}=Fr();F.useEffect(()=>{!z&&D&&q?.role==="admin"&&C("/admin/dashboard",{replace:!0})},[D,q,z,C]);const V=async P=>{P.preventDefault(),i(!0);try{await T(e,t);const M=localStorage.getItem("KwikMedi_user");if(M){const k=JSON.parse(M).role||"";if(k==="finance_admin"){B("Please use Financial Staff login","error"),i(!1);return}if(k==="helping_staff"||k==="helping_staff_admin"){B("Please use Helping Staff login","error"),i(!1);return}}B("Login successful!","success");const E=()=>{D&&q?.role==="admin"?C("/admin/dashboard",{replace:!0}):setTimeout(E,50)};setTimeout(E,100)}catch(M){const E=M?.message||"Login failed. Please check your credentials.";B(E,"error")}finally{i(!1)}},X=async()=>{i(!0);try{const M=await(await fetch(`${Ie}/super-admin/forgot-request`,{method:"POST",headers:{"Content-Type":"application/json"}})).json();M.success?(j({mobile:M.mobile_hint,email:M.email_hint}),a(2),B("Verification codes sent!","success")):B(M.error?.message||"Failed to send OTPs","error")}catch{B("Connection error. Please try again.","error")}finally{i(!1)}},W=async P=>{if(P.preventDefault(),!u||!h||!g||!p){B("All fields are required","error");return}i(!0);try{const E=await(await fetch(`${Ie}/super-admin/forgot-reset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sms_otp:u,email_otp:h,new_username:g,new_password:p})})).json();E.success?(B("Credentials reset successfully! Please login.","success"),d(!1),a(1),r(g)):B(E.error?.message||"Reset failed","error")}catch{B("Connection error. Please try again.","error")}finally{i(!1)}};return z?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o?d(!1):C("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(jx,{className:"h-5 w-5 mr-2"}),o?"Back to Login":"Back to Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(Ua,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:o?"Reset Credentials":"Super Admin Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:o?"Verify identity via Dual OTP":"Full system access and management"})]}),o?n.jsx("div",{className:"mt-8 space-y-6",children:c===1?n.jsxs("div",{className:"text-center space-y-4",children:[n.jsxs("p",{className:"text-sm text-gray-500",children:["Verification codes will be sent to your registered mobile ending in ",n.jsx("strong",{children:"90"})," and email at ",n.jsx("strong",{children:"gmail.com"}),"."]}),n.jsx("button",{onClick:X,disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark",children:l?"Requesting...":"Send Verification Codes"})]}):n.jsxs("form",{onSubmit:W,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-700",children:["SMS OTP (",v.mobile,")"]}),n.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary sm:text-sm",value:u,onChange:P=>f(P.target.value)})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-xs font-medium text-gray-700",children:["Email OTP (",v.email,")"]}),n.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary sm:text-sm",value:h,onChange:P=>m(P.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"New Username"}),n.jsx("input",{type:"text",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary sm:text-sm",value:g,onChange:P=>y(P.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"New Password"}),n.jsx("input",{type:"password",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-primary sm:text-sm",value:p,onChange:P=>b(P.target.value)})]}),n.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark",children:l?"Resetting...":"Verify & Reset Credentials"})]})}):n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:V,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsx("input",{type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Username",value:e,onChange:P=>r(P.target.value)}),n.jsx("input",{type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:P=>s(P.target.value)})]}),n.jsx("div",{className:"flex items-center justify-end",children:n.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-sm font-medium text-primary hover:text-primary-dark",children:"Forgot credentials?"})}),n.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary",children:l?"Logging in...":"Sign in"})]})]})})},jA=e=>{const r=new Date,t=r.toISOString().split("T")[0];let s;switch(e){case"7d":s=new Date(r.setDate(r.getDate()-7)).toISOString().split("T")[0];break;case"30d":s=new Date(r.setDate(r.getDate()-30)).toISOString().split("T")[0];break;case"90d":s=new Date(r.setDate(r.getDate()-90)).toISOString().split("T")[0];break;case"1y":s=new Date(r.setFullYear(r.getFullYear()-1)).toISOString().split("T")[0];break;default:s=new Date(r.setDate(r.getDate()-7)).toISOString().split("T")[0]}return{from:s,to:t}},NA=({dateFrom:e,dateTo:r,onDateRangeChange:t,onExport:s})=>{const l=d=>{const{from:c,to:a}=jA(d);t(c,a)},i=(d,c)=>{d==="from"?t(c,r):t(e,c)},o=()=>{const c=new Date().toISOString().split("T")[0];if(r===c){const a=Math.ceil((new Date(r).getTime()-new Date(e).getTime())/864e5);if(a<=7)return"7d";if(a<=30)return"30d";if(a<=90)return"90d";if(a<=365)return"1y"}return"custom"};return n.jsx("div",{className:"bg-white/95 backdrop-blur-md border-b border-gray-200/50 z-50 shadow-sm",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"h-16 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-xl shadow-lg",children:n.jsx(VE,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Platform Analytics & Management"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"hidden sm:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx(mn,{className:"w-4 h-4 text-gray-400"}),n.jsxs("select",{value:o(),onChange:d=>{d.target.value!=="custom"&&l(d.target.value)},className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700 font-medium",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"}),n.jsx("option",{value:"custom",children:"Custom Range"})]})]}),o()==="custom"&&n.jsxs("div",{className:"hidden md:flex items-center space-x-2 bg-gray-50 rounded-lg px-3 py-2",children:[n.jsx("input",{type:"date",value:e,onChange:d=>i("from",d.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",max:r}),n.jsx("span",{className:"text-gray-400",children:"to"}),n.jsx("input",{type:"date",value:r,onChange:d=>i("to",d.target.value),className:"bg-transparent border-none text-sm focus:outline-none focus:ring-0 text-gray-700",min:e,max:new Date().toISOString().split("T")[0]})]}),s&&n.jsxs("button",{onClick:s,className:"flex items-center space-x-2 bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary-dark transition-all duration-200 shadow-md hover:shadow-lg",children:[n.jsx(Sx,{className:"w-4 h-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Export CSV"})]})]})]})})})},ql=Ie,kA=(e,r)=>({metrics:{total_revenue:245678.5,total_bookings:1234,completed_bookings:1156,active_users:856,active_providers:234,pending_disputes:12,platform_revenue:24567.85,new_users_today:23,new_providers_today:5,total_lab_test_bookings:456,completed_lab_tests:389,pending_lab_tests:45},growth_rates:{revenue_growth:15.5,booking_growth:22.3,user_growth:18.7},recent_activity:{new_bookings:45,completed_bookings:38,new_disputes:2,payments_received:42},date_range:{from:e,to:r}}),Z6=(e,r)=>{const[t,s]=F.useState(null),[l,i]=F.useState(!0),[o,d]=F.useState(null),{token:c}=gn();return F.useEffect(()=>{(async()=>{if(!e||!r){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{s(kA(e,r)),i(!1)},500);return}try{const f=await fetch(`${ql}/admin/analytics/dashboard?date_from=${e}&date_to=${r}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!f.ok)throw f.status===401?new Error("Unauthorized: Please log in again"):f.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${f.status}`);const h=await f.json();if(!h.success)throw new Error(h.message||"Failed to fetch dashboard data");s({metrics:{...h.metrics,total_lab_test_bookings:h.metrics.total_lab_test_bookings||0,completed_lab_tests:h.metrics.completed_lab_tests||0,pending_lab_tests:h.metrics.pending_lab_tests||0},growth_rates:h.growth_rates,recent_activity:h.recent_activity,date_range:h.date_range})}catch(f){console.error("Error fetching dashboard data:",f),d(f.message||"Failed to fetch dashboard data"),s(null)}finally{i(!1)}})()},[e,r,c]),{data:t,loading:l,error:o}},SA=()=>({trend:[{period:"2024-01-01",total_revenue:12500,platform_revenue:1250,transaction_count:45,avg_transaction_value:277.78},{period:"2024-01-02",total_revenue:13800,platform_revenue:1380,transaction_count:52,avg_transaction_value:265.38},{period:"2024-01-03",total_revenue:15200,platform_revenue:1520,transaction_count:58,avg_transaction_value:262.07},{period:"2024-01-04",total_revenue:14100,platform_revenue:1410,transaction_count:54,avg_transaction_value:261.11},{period:"2024-01-05",total_revenue:16700,platform_revenue:1670,transaction_count:63,avg_transaction_value:265.08}],payment_methods:[{method:"Credit Card",total_amount:145678,transaction_count:523},{method:"Debit Card",total_amount:67890,transaction_count:312},{method:"UPI",total_amount:32110,transaction_count:399}],category_revenue:[{category:"Plumbing",total_revenue:45678,booking_count:234,avg_booking_value:195.21},{category:"Electrical",total_revenue:38900,booking_count:198,avg_booking_value:196.46},{category:"Cleaning",total_revenue:32100,booking_count:267,avg_booking_value:120.34},{category:"Carpentry",total_revenue:28900,booking_count:145,avg_booking_value:199.31}],top_providers:[{name:"John Smith",business_name:"Smith Services",total_earnings:12345,booking_count:67},{name:"Sarah Johnson",business_name:"Johnson Pro",total_earnings:11234,booking_count:58},{name:"Mike Williams",business_name:"Williams Solutions",total_earnings:9876,booking_count:52}]}),CA=(e,r)=>{const[t,s]=F.useState(null),[l,i]=F.useState(!0),[o,d]=F.useState(null),{token:c}=gn();return F.useEffect(()=>{(async()=>{if(!e||!r){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{s(SA()),i(!1)},500);return}try{const f=await fetch(`${ql}/admin/analytics/revenue?date_from=${e}&date_to=${r}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!f.ok)throw f.status===401?new Error("Unauthorized: Please log in again"):f.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${f.status}`);const h=await f.json();if(!h.success)throw new Error(h.message||"Failed to fetch revenue data");s(h.revenue_data)}catch(f){console.error("Error fetching revenue data:",f),d(f.message||"Failed to fetch revenue data"),s(null)}finally{i(!1)}})()},[e,r,c]),{data:t,loading:l,error:o}},EA=()=>({registration_trend:[{date:"2024-01-01",new_users:12},{date:"2024-01-02",new_users:18},{date:"2024-01-03",new_users:15},{date:"2024-01-04",new_users:22},{date:"2024-01-05",new_users:19}],activity_metrics:{total_users:856,active_users_30d:623,verified_users:712,users_with_bookings:534},geographic_distribution:[{city:"Mumbai",state:"Maharashtra",user_count:234,active_users:189},{city:"Delhi",state:"Delhi",user_count:198,active_users:156},{city:"Bangalore",state:"Karnataka",user_count:167,active_users:134},{city:"Pune",state:"Maharashtra",user_count:123,active_users:98}],engagement_metrics:{avg_bookings_per_user:2.3,avg_spent_per_user:456.78,repeat_user_rate:68.5},cohort_analysis:[{month:"2024-01",users_count:234,retention_rate:85.2},{month:"2023-12",users_count:198,retention_rate:82.3},{month:"2023-11",users_count:167,retention_rate:79.6}]}),AA=(e,r)=>{const[t,s]=F.useState(null),[l,i]=F.useState(!0),[o,d]=F.useState(null),{token:c}=gn();return F.useEffect(()=>{(async()=>{if(!e||!r){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{s(EA()),i(!1)},500);return}try{const f=await fetch(`${ql}/admin/analytics/users?date_from=${e}&date_to=${r}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!f.ok)throw f.status===401?new Error("Unauthorized: Please log in again"):f.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${f.status}`);const h=await f.json();if(!h.success)throw new Error(h.message||"Failed to fetch user analytics");s(h.user_analytics)}catch(f){console.error("Error fetching user analytics:",f),d(f.message||"Failed to fetch user analytics"),s(null)}finally{i(!1)}})()},[e,r,c]),{data:t,loading:l,error:o}},PA=()=>({booking_trend:[{date:"2024-01-01",total_bookings:45,completed_bookings:42,cancelled_bookings:3,completion_rate:93.3},{date:"2024-01-02",total_bookings:52,completed_bookings:48,cancelled_bookings:4,completion_rate:92.3},{date:"2024-01-03",total_bookings:58,completed_bookings:55,cancelled_bookings:3,completion_rate:94.8},{date:"2024-01-04",total_bookings:54,completed_bookings:51,cancelled_bookings:3,completion_rate:94.4},{date:"2024-01-05",total_bookings:63,completed_bookings:60,cancelled_bookings:3,completion_rate:95.2}],status_distribution:[{status:"completed",count:1156},{status:"pending",count:45},{status:"in_progress",count:23},{status:"cancelled",count:10}],peak_booking_times:[{hour:9,booking_count:45},{hour:10,booking_count:67},{hour:11,booking_count:89},{hour:14,booking_count:78},{hour:15,booking_count:92},{hour:16,booking_count:85}],category_performance:[{category:"Plumbing",total_bookings:234,completed_bookings:221,completion_rate:94.4,avg_booking_value:195.21,avg_rating:4.6},{category:"Electrical",total_bookings:198,completed_bookings:187,completion_rate:94.4,avg_booking_value:196.46,avg_rating:4.7},{category:"Cleaning",total_bookings:267,completed_bookings:254,completion_rate:95.1,avg_booking_value:120.34,avg_rating:4.5}],conversion_funnel:{searches:5678,profile_views:3456,bookings:1234,completed_bookings:1156,search_to_booking_rate:21.7,booking_completion_rate:93.7}}),TA=(e,r)=>{const[t,s]=F.useState(null),[l,i]=F.useState(!0),[o,d]=F.useState(null),{token:c}=gn();return F.useEffect(()=>{(async()=>{if(!e||!r){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{s(PA()),i(!1)},500);return}try{const f=await fetch(`${ql}/admin/analytics/bookings?date_from=${e}&date_to=${r}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!f.ok)throw f.status===401?new Error("Unauthorized: Please log in again"):f.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${f.status}`);const h=await f.json();if(!h.success)throw new Error(h.message||"Failed to fetch booking analytics");s(h.booking_analytics)}catch(f){console.error("Error fetching booking analytics:",f),d(f.message||"Failed to fetch booking analytics"),s(null)}finally{i(!1)}})()},[e,r,c]),{data:t,loading:l,error:o}},OA=()=>({registration_trend:[{date:"2024-01-01",new_providers:3},{date:"2024-01-02",new_providers:5},{date:"2024-01-03",new_providers:4},{date:"2024-01-04",new_providers:6},{date:"2024-01-05",new_providers:5}],status_distribution:[{status:"approved",verification_status:"verified",count:189},{status:"approved",verification_status:"pending",count:45},{status:"pending",verification_status:"pending",count:23},{status:"rejected",verification_status:"rejected",count:12}],top_performers:[{name:"John Smith",business_name:"Smith Services",rating:4.8,total_bookings:67,completed_bookings:65,completion_rate:97,total_earnings:12345},{name:"Sarah Johnson",business_name:"Johnson Pro",rating:4.7,total_bookings:58,completed_bookings:56,completion_rate:96.6,total_earnings:11234},{name:"Mike Williams",business_name:"Williams Solutions",rating:4.6,total_bookings:52,completed_bookings:50,completion_rate:96.2,total_earnings:9876}],performance_metrics:{avg_platform_rating:4.5,active_providers:234,verified_providers:189,avg_completion_rate:94.2},category_distribution:[{category:"Plumbing",provider_count:67,avg_rating:4.6},{category:"Electrical",provider_count:54,avg_rating:4.7},{category:"Cleaning",provider_count:78,avg_rating:4.5},{category:"Carpentry",provider_count:35,avg_rating:4.6}]}),MA=(e,r)=>{const[t,s]=F.useState(null),[l,i]=F.useState(!0),[o,d]=F.useState(null),{token:c}=gn();return F.useEffect(()=>{(async()=>{if(!e||!r){i(!1);return}const u=c&&c.startsWith("mock_token_");if(!c||u){setTimeout(()=>{s(OA()),i(!1)},500);return}try{const f=await fetch(`${ql}/admin/analytics/providers?date_from=${e}&date_to=${r}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!f.ok)throw f.status===401?new Error("Unauthorized: Please log in again"):f.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${f.status}`);const h=await f.json();if(!h.success)throw new Error(h.message||"Failed to fetch provider analytics");s(h.provider_analytics)}catch(f){console.error("Error fetching provider analytics:",f),d(f.message||"Failed to fetch provider analytics"),s(null)}finally{i(!1)}})()},[e,r,c]),{data:t,loading:l,error:o}},IA=()=>({current_metrics:{avg_response_time_ms:145,avg_db_query_time_ms:23,avg_server_load:45.6,avg_memory_usage:62.3,avg_error_rate:.12,avg_uptime:99.8},time_series:[{timestamp:"2024-01-05T00:00:00Z",response_time:142,db_query_time:21,active_sessions:234,server_load:43.2,memory_usage:60.1,error_rate:.1},{timestamp:"2024-01-05T01:00:00Z",response_time:145,db_query_time:23,active_sessions:256,server_load:45.6,memory_usage:62.3,error_rate:.12},{timestamp:"2024-01-05T02:00:00Z",response_time:148,db_query_time:24,active_sessions:278,server_load:47.8,memory_usage:64.5,error_rate:.14},{timestamp:"2024-01-05T03:00:00Z",response_time:143,db_query_time:22,active_sessions:245,server_load:44.1,memory_usage:61.2,error_rate:.11}]}),RA=()=>{const[e,r]=F.useState(null),[t,s]=F.useState(!0),[l,i]=F.useState(null),{token:o}=gn();return F.useEffect(()=>{(async()=>{const c=o&&o.startsWith("mock_token_");if(!o||c){setTimeout(()=>{r(IA()),s(!1)},500);return}try{const a=await fetch(`${ql}/admin/analytics/system-performance`,{headers:{Authorization:`Bearer ${o}`,"Content-Type":"application/json"}});if(!a.ok)throw a.status===401?new Error("Unauthorized: Please log in again"):a.status===500?new Error("Server error: Please try again later"):new Error(`HTTP error! status: ${a.status}`);const u=await a.json();if(!u.success)throw new Error(u.message||"Failed to fetch system performance data");r(u.performance_data)}catch(a){console.error("Error fetching system performance data:",a),i(a.message||"Failed to fetch system performance data"),r(null)}finally{s(!1)}})()},[o]),{data:e,loading:t,error:l}},DA=({dateFrom:e,dateTo:r})=>{const{data:t,loading:s,error:l}=Z6(e,r),i=Qn();if(s)return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(11)].map((c,a)=>n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-20 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"w-24 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},a))});if(l||!t)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:l||"Failed to load metrics"});const o=[{name:"Total Revenue",value:`${t.metrics.total_revenue.toLocaleString("en-IN")}`,change:`${t.growth_rates.revenue_growth>0?"+":""}${t.growth_rates.revenue_growth}%`,changeType:t.growth_rates.revenue_growth>=0?"positive":"negative",icon:Fo,gradient:"bg-primary"},{name:"Total Orders",value:t.metrics.total_bookings.toLocaleString("en-IN"),change:`${t.growth_rates.booking_growth>0?"+":""}${t.growth_rates.booking_growth}%`,changeType:t.growth_rates.booking_growth>=0?"positive":"negative",icon:mn,gradient:"bg-primary",route:"/admin/orders"},{name:"Completed Orders",value:t.metrics.completed_bookings.toLocaleString("en-IN"),change:`${(t.metrics.completed_bookings/t.metrics.total_bookings*100).toFixed(1)}%`,changeType:"positive",icon:fn,gradient:"bg-primary",route:"/admin/orders"},{name:"Active Users",value:t.metrics.active_users.toLocaleString("en-IN"),change:`${t.growth_rates.user_growth>0?"+":""}${t.growth_rates.user_growth}%`,changeType:t.growth_rates.user_growth>=0?"positive":"negative",icon:Gs,gradient:"bg-primary",route:"/admin/users"},{name:"Active Vendors",value:t.metrics.active_providers.toLocaleString("en-IN"),change:`${t.metrics.new_providers_today>0?"+":""}${t.metrics.new_providers_today}`,changeType:"positive",icon:Ef,gradient:"bg-primary",route:"/admin/providers"},{name:"Platform Revenue",value:`${t.metrics.platform_revenue.toLocaleString("en-IN")}`,change:`${(t.metrics.platform_revenue/t.metrics.total_revenue*100).toFixed(1)}% of total`,changeType:"positive",icon:YE,gradient:"bg-primary"},{name:"New Users Today",value:t.metrics.new_users_today.toLocaleString(),change:"Today",changeType:"positive",icon:Pf,gradient:"bg-primary",route:"/admin/users"},{name:"Pending Disputes",value:t.metrics.pending_disputes.toLocaleString("en-IN"),change:"Active",changeType:"negative",icon:xu,gradient:"bg-primary",route:"/admin/helpdesk"},{name:"Lab Test Bookings",value:t.metrics.total_lab_test_bookings.toLocaleString("en-IN"),change:t.metrics.total_lab_test_bookings>0?`${(t.metrics.completed_lab_tests/t.metrics.total_lab_test_bookings*100).toFixed(1)}% completed`:"0% completed",changeType:"positive",icon:Af,gradient:"bg-primary",route:"/admin/lab-tests/bookings"},{name:"Completed Lab Tests",value:t.metrics.completed_lab_tests.toLocaleString("en-IN"),change:t.metrics.total_lab_test_bookings>0?`${(t.metrics.completed_lab_tests/t.metrics.total_lab_test_bookings*100).toFixed(1)}%`:"0%",changeType:"positive",icon:fn,gradient:"bg-primary",route:"/admin/lab-tests/bookings"},{name:"Pending Lab Tests",value:t.metrics.pending_lab_tests.toLocaleString("en-IN"),change:"Pending",changeType:"negative",icon:pn,gradient:"bg-primary",route:"/admin/lab-tests/bookings"}],d=c=>{i(c)};return n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:o.map((c,a)=>{const u=c.icon,f="route"in c&&c.route,h=f?c.route:null;return n.jsxs("div",{onClick:f&&h?()=>d(h):void 0,className:`bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 border border-white/20 hover:scale-105 hover:bg-white/90 ${f?"cursor-pointer":""}`,style:{animationDelay:`${a*50}ms`},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 ${c.gradient} rounded-xl shadow-md`,children:n.jsx(u,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:`text-sm font-semibold px-3 py-1 rounded-full ${c.changeType==="positive","text-primary bg-secondary border border-primary/20"}`,children:c.change})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:c.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:c.name})]})]},c.name)})})};function J6(e){var r,t,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(t=J6(e[r]))&&(s&&(s+=" "),s+=t)}else for(t in e)e[t]&&(s&&(s+=" "),s+=t);return s}function rr(){for(var e,r,t=0,s="",l=arguments.length;t<l;t++)(e=arguments[t])&&(r=J6(e))&&(s&&(s+=" "),s+=r);return s}var LA=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Tx(e){if(typeof e!="string")return!1;var r=LA;return r.includes(e)}var zA=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],FA=new Set(zA);function Q6(e){return typeof e!="string"?!1:FA.has(e)}function e5(e){return typeof e=="string"&&e.startsWith("data-")}function Fn(e){if(typeof e!="object"||e===null)return{};var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Q6(t)||e5(t))&&(r[t]=e[t]);return r}function Po(e){if(e==null)return null;if(F.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var r=e.props;return Fn(r)}return typeof e=="object"&&!Array.isArray(e)?Fn(e):null}function Mn(e){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(Q6(t)||e5(t)||Tx(t))&&(r[t]=e[t]);return r}function $A(e){return e==null?null:F.isValidElement(e)?Mn(e.props):typeof e=="object"&&!Array.isArray(e)?Mn(e):null}var BA=["children","width","height","viewBox","className","style","title","desc"];function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},dy.apply(null,arguments)}function UA(e,r){if(e==null)return{};var t,s,l=qA(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function qA(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var Ox=F.forwardRef((e,r)=>{var{children:t,width:s,height:l,viewBox:i,className:o,style:d,title:c,desc:a}=e,u=UA(e,BA),f=i||{width:s,height:l,x:0,y:0},h=rr("recharts-surface",o);return F.createElement("svg",dy({},Mn(u),{className:h,width:s,height:l,style:d,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:r}),F.createElement("title",null,c),F.createElement("desc",null,a),t)}),HA=["children","className"];function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},fy.apply(null,arguments)}function WA(e,r){if(e==null)return{};var t,s,l=VA(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function VA(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var zr=F.forwardRef((e,r)=>{var{children:t,className:s}=e,l=WA(e,HA),i=rr("recharts-layer",s);return F.createElement("g",fy({className:i},Mn(l),{ref:r}),t)}),t5=F.createContext(null),KA=()=>F.useContext(t5);function xr(e){return function(){return e}}const r5=Math.cos,Tf=Math.sin,Zs=Math.sqrt,Of=Math.PI,Mh=2*Of,hy=Math.PI,my=2*hy,go=1e-6,XA=my-go;function n5(e){this._+=e[0];for(let r=1,t=e.length;r<t;++r)this._+=arguments[r]+e[r]}function GA(e){let r=Math.floor(e);if(!(r>=0))throw new Error(`invalid digits: ${e}`);if(r>15)return n5;const t=10**r;return function(s){this._+=s[0];for(let l=1,i=s.length;l<i;++l)this._+=Math.round(arguments[l]*t)/t+s[l]}}class YA{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?n5:GA(r)}moveTo(r,t){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,t){this._append`L${this._x1=+r},${this._y1=+t}`}quadraticCurveTo(r,t,s,l){this._append`Q${+r},${+t},${this._x1=+s},${this._y1=+l}`}bezierCurveTo(r,t,s,l,i,o){this._append`C${+r},${+t},${+s},${+l},${this._x1=+i},${this._y1=+o}`}arcTo(r,t,s,l,i){if(r=+r,t=+t,s=+s,l=+l,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,d=this._y1,c=s-r,a=l-t,u=o-r,f=d-t,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=t}`;else if(h>go)if(!(Math.abs(f*c-a*u)>go)||!i)this._append`L${this._x1=r},${this._y1=t}`;else{let m=s-o,g=l-d,y=c*c+a*a,p=m*m+g*g,b=Math.sqrt(y),v=Math.sqrt(h),j=i*Math.tan((hy-Math.acos((y+h-p)/(2*b*v)))/2),C=j/v,T=j/b;Math.abs(C-1)>go&&this._append`L${r+C*u},${t+C*f}`,this._append`A${i},${i},0,0,${+(f*m>u*g)},${this._x1=r+T*c},${this._y1=t+T*a}`}}arc(r,t,s,l,i,o){if(r=+r,t=+t,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let d=s*Math.cos(l),c=s*Math.sin(l),a=r+d,u=t+c,f=1^o,h=o?l-i:i-l;this._x1===null?this._append`M${a},${u}`:(Math.abs(this._x1-a)>go||Math.abs(this._y1-u)>go)&&this._append`L${a},${u}`,s&&(h<0&&(h=h%my+my),h>XA?this._append`A${s},${s},0,1,${f},${r-d},${t-c}A${s},${s},0,1,${f},${this._x1=a},${this._y1=u}`:h>go&&this._append`A${s},${s},0,${+(h>=hy)},${f},${this._x1=r+s*Math.cos(i)},${this._y1=t+s*Math.sin(i)}`)}rect(r,t,s,l){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+t}h${s=+s}v${+l}h${-s}Z`}toString(){return this._}}function Mx(e){let r=3;return e.digits=function(t){if(!arguments.length)return r;if(t==null)r=null;else{const s=Math.floor(t);if(!(s>=0))throw new RangeError(`invalid digits: ${t}`);r=s}return e},()=>new YA(r)}function Ix(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function s5(e){this._context=e}s5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:this._context.lineTo(e,r);break}}};function Ih(e){return new s5(e)}function i5(e){return e[0]}function a5(e){return e[1]}function o5(e,r){var t=xr(!0),s=null,l=Ih,i=null,o=Mx(d);e=typeof e=="function"?e:e===void 0?i5:xr(e),r=typeof r=="function"?r:r===void 0?a5:xr(r);function d(c){var a,u=(c=Ix(c)).length,f,h=!1,m;for(s==null&&(i=l(m=o())),a=0;a<=u;++a)!(a<u&&t(f=c[a],a,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,a,c),+r(f,a,c));if(m)return i=null,m+""||null}return d.x=function(c){return arguments.length?(e=typeof c=="function"?c:xr(+c),d):e},d.y=function(c){return arguments.length?(r=typeof c=="function"?c:xr(+c),d):r},d.defined=function(c){return arguments.length?(t=typeof c=="function"?c:xr(!!c),d):t},d.curve=function(c){return arguments.length?(l=c,s!=null&&(i=l(s)),d):l},d.context=function(c){return arguments.length?(c==null?s=i=null:i=l(s=c),d):s},d}function Vd(e,r,t){var s=null,l=xr(!0),i=null,o=Ih,d=null,c=Mx(a);e=typeof e=="function"?e:e===void 0?i5:xr(+e),r=typeof r=="function"?r:xr(r===void 0?0:+r),t=typeof t=="function"?t:t===void 0?a5:xr(+t);function a(f){var h,m,g,y=(f=Ix(f)).length,p,b=!1,v,j=new Array(y),C=new Array(y);for(i==null&&(d=o(v=c())),h=0;h<=y;++h){if(!(h<y&&l(p=f[h],h,f))===b)if(b=!b)m=h,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),g=h-1;g>=m;--g)d.point(j[g],C[g]);d.lineEnd(),d.areaEnd()}b&&(j[h]=+e(p,h,f),C[h]=+r(p,h,f),d.point(s?+s(p,h,f):j[h],t?+t(p,h,f):C[h]))}if(v)return d=null,v+""||null}function u(){return o5().defined(l).curve(o).context(i)}return a.x=function(f){return arguments.length?(e=typeof f=="function"?f:xr(+f),s=null,a):e},a.x0=function(f){return arguments.length?(e=typeof f=="function"?f:xr(+f),a):e},a.x1=function(f){return arguments.length?(s=f==null?null:typeof f=="function"?f:xr(+f),a):s},a.y=function(f){return arguments.length?(r=typeof f=="function"?f:xr(+f),t=null,a):r},a.y0=function(f){return arguments.length?(r=typeof f=="function"?f:xr(+f),a):r},a.y1=function(f){return arguments.length?(t=f==null?null:typeof f=="function"?f:xr(+f),a):t},a.lineX0=a.lineY0=function(){return u().x(e).y(r)},a.lineY1=function(){return u().x(e).y(t)},a.lineX1=function(){return u().x(s).y(r)},a.defined=function(f){return arguments.length?(l=typeof f=="function"?f:xr(!!f),a):l},a.curve=function(f){return arguments.length?(o=f,i!=null&&(d=o(i)),a):o},a.context=function(f){return arguments.length?(f==null?i=d=null:d=o(i=f),a):i},a}class l5{constructor(r,t){this._context=r,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,t){switch(r=+r,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,t):this._context.moveTo(r,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,t,r,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,r,this._y0,r,t);break}}this._x0=r,this._y0=t}}function ZA(e){return new l5(e,!0)}function JA(e){return new l5(e,!1)}const Rx={draw(e,r){const t=Zs(r/Of);e.moveTo(t,0),e.arc(0,0,t,0,Mh)}},QA={draw(e,r){const t=Zs(r/5)/2;e.moveTo(-3*t,-t),e.lineTo(-t,-t),e.lineTo(-t,-3*t),e.lineTo(t,-3*t),e.lineTo(t,-t),e.lineTo(3*t,-t),e.lineTo(3*t,t),e.lineTo(t,t),e.lineTo(t,3*t),e.lineTo(-t,3*t),e.lineTo(-t,t),e.lineTo(-3*t,t),e.closePath()}},c5=Zs(1/3),eP=c5*2,tP={draw(e,r){const t=Zs(r/eP),s=t*c5;e.moveTo(0,-t),e.lineTo(s,0),e.lineTo(0,t),e.lineTo(-s,0),e.closePath()}},rP={draw(e,r){const t=Zs(r),s=-t/2;e.rect(s,s,t,t)}},nP=.8908130915292852,u5=Tf(Of/10)/Tf(7*Of/10),sP=Tf(Mh/10)*u5,iP=-r5(Mh/10)*u5,aP={draw(e,r){const t=Zs(r*nP),s=sP*t,l=iP*t;e.moveTo(0,-t),e.lineTo(s,l);for(let i=1;i<5;++i){const o=Mh*i/5,d=r5(o),c=Tf(o);e.lineTo(c*t,-d*t),e.lineTo(d*s-c*l,c*s+d*l)}e.closePath()}},y0=Zs(3),oP={draw(e,r){const t=-Zs(r/(y0*3));e.moveTo(0,t*2),e.lineTo(-y0*t,-t),e.lineTo(y0*t,-t),e.closePath()}},ks=-.5,Ss=Zs(3)/2,py=1/Zs(12),lP=(py/2+1)*3,cP={draw(e,r){const t=Zs(r/lP),s=t/2,l=t*py,i=s,o=t*py+t,d=-i,c=o;e.moveTo(s,l),e.lineTo(i,o),e.lineTo(d,c),e.lineTo(ks*s-Ss*l,Ss*s+ks*l),e.lineTo(ks*i-Ss*o,Ss*i+ks*o),e.lineTo(ks*d-Ss*c,Ss*d+ks*c),e.lineTo(ks*s+Ss*l,ks*l-Ss*s),e.lineTo(ks*i+Ss*o,ks*o-Ss*i),e.lineTo(ks*d+Ss*c,ks*c-Ss*d),e.closePath()}};function uP(e,r){let t=null,s=Mx(l);e=typeof e=="function"?e:xr(e||Rx),r=typeof r=="function"?r:xr(r===void 0?64:+r);function l(){let i;if(t||(t=i=s()),e.apply(this,arguments).draw(t,+r.apply(this,arguments)),i)return t=null,i+""||null}return l.type=function(i){return arguments.length?(e=typeof i=="function"?i:xr(i),l):e},l.size=function(i){return arguments.length?(r=typeof i=="function"?i:xr(+i),l):r},l.context=function(i){return arguments.length?(t=i??null,l):t},l}function Mf(){}function If(e,r,t){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+r)/6,(e._y0+4*e._y1+t)/6)}function d5(e){this._context=e}d5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:If(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:If(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function dP(e){return new d5(e)}function f5(e){this._context=e}f5.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._x2=e,this._y2=r;break;case 1:this._point=2,this._x3=e,this._y3=r;break;case 2:this._point=3,this._x4=e,this._y4=r,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+r)/6);break;default:If(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function fP(e){return new f5(e)}function h5(e){this._context=e}h5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+e)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(t,s):this._context.moveTo(t,s);break;case 3:this._point=4;default:If(this,e,r);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r}};function hP(e){return new h5(e)}function m5(e){this._context=e}m5.prototype={areaStart:Mf,areaEnd:Mf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,r){e=+e,r=+r,this._point?this._context.lineTo(e,r):(this._point=1,this._context.moveTo(e,r))}};function mP(e){return new m5(e)}function yw(e){return e<0?-1:1}function xw(e,r,t){var s=e._x1-e._x0,l=r-e._x1,i=(e._y1-e._y0)/(s||l<0&&-0),o=(t-e._y1)/(l||s<0&&-0),d=(i*l+o*s)/(s+l);return(yw(i)+yw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(d))||0}function vw(e,r){var t=e._x1-e._x0;return t?(3*(e._y1-e._y0)/t-r)/2:r}function x0(e,r,t){var s=e._x0,l=e._y0,i=e._x1,o=e._y1,d=(i-s)/3;e._context.bezierCurveTo(s+d,l+d*r,i-d,o-d*t,i,o)}function Rf(e){this._context=e}Rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:x0(this,this._t0,vw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,r){var t=NaN;if(e=+e,r=+r,!(e===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;break;case 2:this._point=3,x0(this,vw(this,t=xw(this,e,r)),t);break;default:x0(this,this._t0,t=xw(this,e,r));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=r,this._t0=t}}};function p5(e){this._context=new g5(e)}(p5.prototype=Object.create(Rf.prototype)).point=function(e,r){Rf.prototype.point.call(this,r,e)};function g5(e){this._context=e}g5.prototype={moveTo:function(e,r){this._context.moveTo(r,e)},closePath:function(){this._context.closePath()},lineTo:function(e,r){this._context.lineTo(r,e)},bezierCurveTo:function(e,r,t,s,l,i){this._context.bezierCurveTo(r,e,s,t,i,l)}};function pP(e){return new Rf(e)}function gP(e){return new p5(e)}function y5(e){this._context=e}y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,r=this._y,t=e.length;if(t)if(this._line?this._context.lineTo(e[0],r[0]):this._context.moveTo(e[0],r[0]),t===2)this._context.lineTo(e[1],r[1]);else for(var s=bw(e),l=bw(r),i=0,o=1;o<t;++i,++o)this._context.bezierCurveTo(s[0][i],l[0][i],s[1][i],l[1][i],e[o],r[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,r){this._x.push(+e),this._y.push(+r)}};function bw(e){var r,t=e.length-1,s,l=new Array(t),i=new Array(t),o=new Array(t);for(l[0]=0,i[0]=2,o[0]=e[0]+2*e[1],r=1;r<t-1;++r)l[r]=1,i[r]=4,o[r]=4*e[r]+2*e[r+1];for(l[t-1]=2,i[t-1]=7,o[t-1]=8*e[t-1]+e[t],r=1;r<t;++r)s=l[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(l[t-1]=o[t-1]/i[t-1],r=t-2;r>=0;--r)l[r]=(o[r]-l[r+1])/i[r];for(i[t-1]=(e[t]+l[t-1])/2,r=0;r<t-1;++r)i[r]=2*e[r+1]-l[r+1];return[l,i]}function yP(e){return new y5(e)}function Rh(e,r){this._context=e,this._t=r}Rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,r){switch(e=+e,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(e,r);else{var t=this._x*(1-this._t)+e*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,r)}break}}this._x=e,this._y=r}};function xP(e){return new Rh(e,.5)}function vP(e){return new Rh(e,0)}function bP(e){return new Rh(e,1)}function To(e,r){if((o=e.length)>1)for(var t=1,s,l,i=e[r[0]],o,d=i.length;t<o;++t)for(l=i,i=e[r[t]],s=0;s<d;++s)i[s][1]+=i[s][0]=isNaN(l[s][1])?l[s][0]:l[s][1]}function gy(e){for(var r=e.length,t=new Array(r);--r>=0;)t[r]=r;return t}function wP(e,r){return e[r]}function _P(e){const r=[];return r.key=e,r}function jP(){var e=xr([]),r=gy,t=To,s=wP;function l(i){var o=Array.from(e.apply(this,arguments),_P),d,c=o.length,a=-1,u;for(const f of i)for(d=0,++a;d<c;++d)(o[d][a]=[0,+s(f,o[d].key,a,i)]).data=f;for(d=0,u=Ix(r(o));d<c;++d)o[u[d]].index=d;return t(o,u),o}return l.keys=function(i){return arguments.length?(e=typeof i=="function"?i:xr(Array.from(i)),l):e},l.value=function(i){return arguments.length?(s=typeof i=="function"?i:xr(+i),l):s},l.order=function(i){return arguments.length?(r=i==null?gy:typeof i=="function"?i:xr(Array.from(i)),l):r},l.offset=function(i){return arguments.length?(t=i??To,l):t},l}function NP(e,r){if((s=e.length)>0){for(var t,s,l=0,i=e[0].length,o;l<i;++l){for(o=t=0;t<s;++t)o+=e[t][l][1]||0;if(o)for(t=0;t<s;++t)e[t][l][1]/=o}To(e,r)}}function kP(e,r){if((l=e.length)>0){for(var t=0,s=e[r[0]],l,i=s.length;t<i;++t){for(var o=0,d=0;o<l;++o)d+=e[o][t][1]||0;s[t][1]+=s[t][0]=-d/2}To(e,r)}}function SP(e,r){if(!(!((o=e.length)>0)||!((i=(l=e[r[0]]).length)>0))){for(var t=0,s=1,l,i,o;s<i;++s){for(var d=0,c=0,a=0;d<o;++d){for(var u=e[r[d]],f=u[s][1]||0,h=u[s-1][1]||0,m=(f-h)/2,g=0;g<d;++g){var y=e[r[g]],p=y[s][1]||0,b=y[s-1][1]||0;m+=p-b}c+=f,a+=m*f}l[s-1][1]+=l[s-1][0]=t,c&&(t-=a/c)}l[s-1][1]+=l[s-1][0]=t,To(e,r)}}var v0={},b0={},ww;function CP(){return ww||(ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return t==="__proto__"}e.isUnsafeProperty=r})(b0)),b0}var w0={},_w;function x5(){return _w||(_w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}e.isDeepKey=r})(w0)),w0}var _0={},jw;function Dx(){return jw||(jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}e.toKey=r})(_0)),_0}var j0={},N0={},Nw;function EP(){return Nw||(Nw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(r).join(",");const s=String(t);return s==="0"&&Object.is(Number(t),-0)?"-0":s}e.toString=r})(N0)),N0}var kw;function Lx(){return kw||(kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=EP(),t=Dx();function s(l){if(Array.isArray(l))return l.map(t.toKey);if(typeof l=="symbol")return[l];l=r.toString(l);const i=[],o=l.length;if(o===0)return i;let d=0,c="",a="",u=!1;for(l.charCodeAt(0)===46&&(i.push(""),d++);d<o;){const f=l[d];a?f==="\\"&&d+1<o?(d++,c+=l[d]):f===a?a="":c+=f:u?f==='"'||f==="'"?a=f:f==="]"?(u=!1,i.push(c),c=""):c+=f:f==="["?(u=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,d++}return c&&i.push(c),i}e.toPath=s})(j0)),j0}var Sw;function zx(){return Sw||(Sw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=CP(),t=x5(),s=Dx(),l=Lx();function i(d,c,a){if(d==null)return a;switch(typeof c){case"string":{if(r.isUnsafeProperty(c))return a;const u=d[c];return u===void 0?t.isDeepKey(c)?i(d,l.toPath(c),a):a:u}case"number":case"symbol":{typeof c=="number"&&(c=s.toKey(c));const u=d[c];return u===void 0?a:u}default:{if(Array.isArray(c))return o(d,c,a);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),r.isUnsafeProperty(c))return a;const u=d[c];return u===void 0?a:u}}}function o(d,c,a){if(c.length===0)return a;let u=d;for(let f=0;f<c.length;f++){if(u==null||r.isUnsafeProperty(c[f]))return a;u=u[c[f]]}return u===void 0?a:u}e.get=i})(v0)),v0}var k0,Cw;function AP(){return Cw||(Cw=1,k0=zx().get),k0}var PP=AP();const Oo=gi(PP);var TP=4;function za(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TP,t=10**r,s=Math.round(e*t)/t;return Object.is(s,-0)?0:s}function Rr(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),s=1;s<r;s++)t[s-1]=arguments[s];return e.reduce((l,i,o)=>{var d=t[o-1];return typeof d=="string"?l+d+i:d!==void 0?l+za(d)+i:l+i},"")}var hn=e=>e===0?0:e>0?1:-1,Ps=e=>typeof e=="number"&&e!=+e,Ji=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ot=e=>(typeof e=="number"||e instanceof Number)&&!Ps(e),di=e=>ot(e)||typeof e=="string",OP=0,Jc=e=>{var r=++OP;return"".concat(e||"").concat(r)},On=function(r,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ot(r)&&typeof r!="string")return s;var i;if(Ji(r)){if(t==null)return s;var o=r.indexOf("%");i=t*parseFloat(r.slice(0,o))/100}else i=+r;return Ps(i)&&(i=s),l&&t!=null&&i>t&&(i=t),i},v5=e=>{if(!Array.isArray(e))return!1;for(var r=e.length,t={},s=0;s<r;s++)if(!t[String(e[s])])t[String(e[s])]=!0;else return!0;return!1};function ur(e,r,t){return ot(e)&&ot(r)?za(e+t*(r-e)):r}function b5(e,r,t){if(!(!e||!e.length))return e.find(s=>s&&(typeof r=="function"?r(s):Oo(s,r))===t)}var Nr=e=>e===null||typeof e>"u",bu=e=>Nr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function MP(e){return e!=null}function wu(){}var IP=["type","size","sizeType"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},yy.apply(null,arguments)}function Ew(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Aw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ew(Object(t),!0).forEach(function(s){RP(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ew(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function RP(e,r,t){return(r=DP(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DP(e){var r=LP(e,"string");return typeof r=="symbol"?r:r+""}function LP(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function zP(e,r){if(e==null)return{};var t,s,l=FP(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function FP(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var w5={symbolCircle:Rx,symbolCross:QA,symbolDiamond:tP,symbolSquare:rP,symbolStar:aP,symbolTriangle:oP,symbolWye:cP},$P=Math.PI/180,BP=e=>{var r="symbol".concat(bu(e));return w5[r]||Rx},UP=(e,r,t)=>{if(r==="area")return e;switch(t){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*$P;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.tan(s)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},qP=(e,r)=>{w5["symbol".concat(bu(e))]=r},Fx=e=>{var{type:r="circle",size:t=64,sizeType:s="area"}=e,l=zP(e,IP),i=Aw(Aw({},l),{},{type:r,size:t,sizeType:s}),o="circle";typeof r=="string"&&(o=r);var d=()=>{var h=BP(o),m=uP().type(h).size(UP(t,s,o)),g=m();if(g!==null)return g},{className:c,cx:a,cy:u}=i,f=Mn(i);return ot(a)&&ot(u)&&ot(t)?F.createElement("path",yy({},f,{className:rr("recharts-symbols",c),transform:"translate(".concat(a,", ").concat(u,")"),d:d()})):null};Fx.registerSymbol=qP;var _5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$x=(e,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var t=e;if(F.isValidElement(e)&&(t=e.props),typeof t!="object"&&typeof t!="function")return null;var s={};return Object.keys(t).forEach(l=>{Tx(l)&&(s[l]=(i=>t[l](t,i)))}),s},HP=(e,r,t)=>s=>(e(r,t,s),null),_u=(e,r,t)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var s=null;return Object.keys(e).forEach(l=>{var i=e[l];Tx(l)&&typeof i=="function"&&(s||(s={}),s[l]=HP(i,r,t))}),s};function Pw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function WP(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pw(Object(t),!0).forEach(function(s){VP(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pw(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function VP(e,r,t){return(r=KP(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function KP(e){var r=XP(e,"string");return typeof r=="symbol"?r:r+""}function XP(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $r(e,r){var t=WP({},e),s=r,l=Object.keys(r),i=l.reduce((o,d)=>(o[d]===void 0&&s[d]!==void 0&&(o[d]=s[d]),o),t);return i}function Df(){return Df=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Df.apply(null,arguments)}function Tw(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function GP(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Tw(Object(t),!0).forEach(function(s){YP(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tw(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function YP(e,r,t){return(r=ZP(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ZP(e){var r=JP(e,"string");return typeof r=="symbol"?r:r+""}function JP(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Es=32,QP={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function eT(e){var{data:r,iconType:t,inactiveColor:s}=e,l=Es/2,i=Es/6,o=Es/3,d=r.inactive?s:r.color,c=t??r.type;if(c==="none")return null;if(c==="plainline"){var a;return F.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(a=r.payload)===null||a===void 0?void 0:a.strokeDasharray,x1:0,y1:l,x2:Es,y2:l,className:"recharts-legend-icon"})}if(c==="line")return F.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(l,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(l,`
            H`).concat(Es,"M").concat(2*o,",").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(l),className:"recharts-legend-icon"});if(c==="rect")return F.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Es/8,"h").concat(Es,"v").concat(Es*3/4,"h").concat(-Es,"z"),className:"recharts-legend-icon"});if(F.isValidElement(r.legendIcon)){var u=GP({},r);return delete u.legendIcon,F.cloneElement(r.legendIcon,u)}return F.createElement(Fx,{fill:d,cx:l,cy:l,size:Es,sizeType:"diameter",type:c})}function tT(e){var{payload:r,iconSize:t,layout:s,formatter:l,inactiveColor:i,iconType:o}=e,d={x:0,y:0,width:Es,height:Es},c={display:s==="horizontal"?"inline-block":"block",marginRight:10},a={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((u,f)=>{var h=u.formatter||l,m=rr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?i:u.color,y=h?h(u.value,u,f):u.value;return F.createElement("li",Df({className:m,style:c,key:"legend-item-".concat(f)},_u(e,u,f)),F.createElement(Ox,{width:t,height:t,viewBox:d,style:a,"aria-label":"".concat(y," legend icon")},F.createElement(eT,{data:u,iconType:o,inactiveColor:i})),F.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var rT=e=>{var r=$r(e,QP),{payload:t,layout:s,align:l}=r;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return F.createElement("ul",{className:"recharts-default-legend",style:i},F.createElement(tT,Df({},r,{payload:t})))},S0={},C0={},Ow;function nT(){return Ow||(Ow=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t,s){const l=new Map;for(let i=0;i<t.length;i++){const o=t[i],d=s(o);l.has(d)||l.set(d,o)}return Array.from(l.values())}e.uniqBy=r})(C0)),C0}var E0={},Mw;function j5(){return Mw||(Mw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return t}e.identity=r})(E0)),E0}var A0={},P0={},T0={},Iw;function sT(){return Iw||(Iw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return Number.isSafeInteger(t)&&t>=0}e.isLength=r})(T0)),T0}var Rw;function Bx(){return Rw||(Rw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=sT();function t(s){return s!=null&&typeof s!="function"&&r.isLength(s.length)}e.isArrayLike=t})(P0)),P0}var O0={},Dw;function iT(){return Dw||(Dw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return typeof t=="object"&&t!==null}e.isObjectLike=r})(O0)),O0}var Lw;function aT(){return Lw||(Lw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=Bx(),t=iT();function s(l){return t.isObjectLike(l)&&r.isArrayLike(l)}e.isArrayLikeObject=s})(A0)),A0}var M0={},I0={},zw;function oT(){return zw||(zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=zx();function t(s){return function(l){return r.get(l,s)}}e.property=t})(I0)),I0}var R0={},D0={},L0={},z0={},Fw;function N5(){return Fw||(Fw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return t!==null&&(typeof t=="object"||typeof t=="function")}e.isObject=r})(z0)),z0}var F0={},$w;function k5(){return $w||($w=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return t==null||typeof t!="object"&&typeof t!="function"}e.isPrimitive=r})(F0)),F0}var $0={},Bw;function S5(){return Bw||(Bw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t,s){return t===s||Number.isNaN(t)&&Number.isNaN(s)}e.eq=r})($0)),$0}var Uw;function lT(){return Uw||(Uw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=N5(),t=k5(),s=S5();function l(u,f,h){return typeof h!="function"?l(u,f,()=>{}):i(u,f,function m(g,y,p,b,v,j){const C=h(g,y,p,b,v,j);return C!==void 0?!!C:i(g,y,m,j)},new Map)}function i(u,f,h,m){if(f===u)return!0;switch(typeof f){case"object":return o(u,f,h,m);case"function":return Object.keys(f).length>0?i(u,{...f},h,m):s.eq(u,f);default:return r.isObject(u)?typeof f=="string"?f==="":!0:s.eq(u,f)}}function o(u,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(u,f,h,m);if(f instanceof Map)return d(u,f,h,m);if(f instanceof Set)return a(u,f,h,m);const g=Object.keys(f);if(u==null||t.isPrimitive(u))return g.length===0;if(g.length===0)return!0;if(m?.has(f))return m.get(f)===u;m?.set(f,u);try{for(let y=0;y<g.length;y++){const p=g[y];if(!t.isPrimitive(u)&&!(p in u)||f[p]===void 0&&u[p]!==void 0||f[p]===null&&u[p]!==null||!h(u[p],f[p],p,u,f,m))return!1}return!0}finally{m?.delete(f)}}function d(u,f,h,m){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[g,y]of f.entries()){const p=u.get(g);if(h(p,y,g,u,f,m)===!1)return!1}return!0}function c(u,f,h,m){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const g=new Set;for(let y=0;y<f.length;y++){const p=f[y];let b=!1;for(let v=0;v<u.length;v++){if(g.has(v))continue;const j=u[v];let C=!1;if(h(j,p,y,u,f,m)&&(C=!0),C){g.add(v),b=!0;break}}if(!b)return!1}return!0}function a(u,f,h,m){return f.size===0?!0:u instanceof Set?c([...u],[...f],h,m):!1}e.isMatchWith=l,e.isSetMatch=a})(L0)),L0}var qw;function C5(){return qw||(qw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=lT();function t(s,l){return r.isMatchWith(s,l,()=>{})}e.isMatch=t})(D0)),D0}var B0={},U0={},q0={},Hw;function cT(){return Hw||(Hw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return Object.getOwnPropertySymbols(t).filter(s=>Object.prototype.propertyIsEnumerable.call(t,s))}e.getSymbols=r})(q0)),q0}var H0={},Ww;function E5(){return Ww||(Ww=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}e.getTag=r})(H0)),H0}var W0={},Vw;function A5(){return Vw||(Vw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r="[object RegExp]",t="[object String]",s="[object Number]",l="[object Boolean]",i="[object Arguments]",o="[object Symbol]",d="[object Date]",c="[object Map]",a="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",y="[object DataView]",p="[object Uint8Array]",b="[object Uint8ClampedArray]",v="[object Uint16Array]",j="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",D="[object Int16Array]",q="[object Int32Array]",z="[object BigInt64Array]",B="[object Float32Array]",V="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=C,e.booleanTag=l,e.dataViewTag=y,e.dateTag=d,e.errorTag=g,e.float32ArrayTag=B,e.float64ArrayTag=V,e.functionTag=f,e.int16ArrayTag=D,e.int32ArrayTag=q,e.int8ArrayTag=T,e.mapTag=c,e.numberTag=s,e.objectTag=m,e.regexpTag=r,e.setTag=a,e.stringTag=t,e.symbolTag=o,e.uint16ArrayTag=v,e.uint32ArrayTag=j,e.uint8ArrayTag=p,e.uint8ClampedArrayTag=b})(W0)),W0}var V0={},Kw;function uT(){return Kw||(Kw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}e.isTypedArray=r})(V0)),V0}var Xw;function P5(){return Xw||(Xw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=cT(),t=E5(),s=A5(),l=k5(),i=uT();function o(u,f){return d(u,void 0,u,new Map,f)}function d(u,f,h,m=new Map,g=void 0){const y=g?.(u,f,h,m);if(y!==void 0)return y;if(l.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const p=new Array(u.length);m.set(u,p);for(let b=0;b<u.length;b++)p[b]=d(u[b],b,h,m,g);return Object.hasOwn(u,"index")&&(p.index=u.index),Object.hasOwn(u,"input")&&(p.input=u.input),p}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const p=new RegExp(u.source,u.flags);return p.lastIndex=u.lastIndex,p}if(u instanceof Map){const p=new Map;m.set(u,p);for(const[b,v]of u)p.set(b,d(v,b,h,m,g));return p}if(u instanceof Set){const p=new Set;m.set(u,p);for(const b of u)p.add(d(b,void 0,h,m,g));return p}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const p=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,p);for(let b=0;b<u.length;b++)p[b]=d(u[b],b,h,m,g);return p}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const p=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,p),c(p,u,h,m,g),p}if(typeof File<"u"&&u instanceof File){const p=new File([u],u.name,{type:u.type});return m.set(u,p),c(p,u,h,m,g),p}if(typeof Blob<"u"&&u instanceof Blob){const p=new Blob([u],{type:u.type});return m.set(u,p),c(p,u,h,m,g),p}if(u instanceof Error){const p=new u.constructor;return m.set(u,p),p.message=u.message,p.name=u.name,p.stack=u.stack,p.cause=u.cause,c(p,u,h,m,g),p}if(u instanceof Boolean){const p=new Boolean(u.valueOf());return m.set(u,p),c(p,u,h,m,g),p}if(u instanceof Number){const p=new Number(u.valueOf());return m.set(u,p),c(p,u,h,m,g),p}if(u instanceof String){const p=new String(u.valueOf());return m.set(u,p),c(p,u,h,m,g),p}if(typeof u=="object"&&a(u)){const p=Object.create(Object.getPrototypeOf(u));return m.set(u,p),c(p,u,h,m,g),p}return u}function c(u,f,h=u,m,g){const y=[...Object.keys(f),...r.getSymbols(f)];for(let p=0;p<y.length;p++){const b=y[p],v=Object.getOwnPropertyDescriptor(u,b);(v==null||v.writable)&&(u[b]=d(f[b],b,h,m,g))}}function a(u){switch(t.getTag(u)){case s.argumentsTag:case s.arrayTag:case s.arrayBufferTag:case s.dataViewTag:case s.booleanTag:case s.dateTag:case s.float32ArrayTag:case s.float64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.mapTag:case s.numberTag:case s.objectTag:case s.regexpTag:case s.setTag:case s.stringTag:case s.symbolTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=d,e.copyProperties=c})(U0)),U0}var Gw;function dT(){return Gw||(Gw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=P5();function t(s){return r.cloneDeepWithImpl(s,void 0,s,new Map,void 0)}e.cloneDeep=t})(B0)),B0}var Yw;function fT(){return Yw||(Yw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=C5(),t=dT();function s(l){return l=t.cloneDeep(l),i=>r.isMatch(i,l)}e.matches=s})(R0)),R0}var K0={},X0={},G0={},Zw;function hT(){return Zw||(Zw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=P5(),t=A5();function s(l,i){return r.cloneDeepWith(l,(o,d,c,a)=>{const u=i?.(o,d,c,a);if(u!==void 0)return u;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case t.numberTag:case t.stringTag:case t.booleanTag:{const f=new l.constructor(l?.valueOf());return r.copyProperties(f,l),f}case t.argumentsTag:{const f={};return r.copyProperties(f,l),f.length=l.length,f[Symbol.iterator]=l[Symbol.iterator],f}default:return}})}e.cloneDeepWith=s})(G0)),G0}var Jw;function mT(){return Jw||(Jw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=hT();function t(s){return r.cloneDeepWith(s)}e.cloneDeep=t})(X0)),X0}var Y0={},Z0={},Qw;function T5(){return Qw||(Qw=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;function t(s,l=Number.MAX_SAFE_INTEGER){switch(typeof s){case"number":return Number.isInteger(s)&&s>=0&&s<l;case"symbol":return!1;case"string":return r.test(s)}}e.isIndex=t})(Z0)),Z0}var J0={},e_;function pT(){return e_||(e_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=E5();function t(s){return s!==null&&typeof s=="object"&&r.getTag(s)==="[object Arguments]"}e.isArguments=t})(J0)),J0}var t_;function gT(){return t_||(t_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=x5(),t=T5(),s=pT(),l=Lx();function i(o,d){let c;if(Array.isArray(d)?c=d:typeof d=="string"&&r.isDeepKey(d)&&o?.[d]==null?c=l.toPath(d):c=[d],c.length===0)return!1;let a=o;for(let u=0;u<c.length;u++){const f=c[u];if((a==null||!Object.hasOwn(a,f))&&!((Array.isArray(a)||s.isArguments(a))&&t.isIndex(f)&&f<a.length))return!1;a=a[f]}return!0}e.has=i})(Y0)),Y0}var r_;function yT(){return r_||(r_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=C5(),t=Dx(),s=mT(),l=zx(),i=gT();function o(d,c){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=t.toKey(d);break}}return c=s.cloneDeep(c),function(a){const u=l.get(a,d);return u===void 0?i.has(a,d):c===void 0?u===void 0:r.isMatch(u,c)}}e.matchesProperty=o})(K0)),K0}var n_;function xT(){return n_||(n_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=j5(),t=oT(),s=fT(),l=yT();function i(o){if(o==null)return r.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?l.matchesProperty(o[0],o[1]):s.matches(o);case"string":case"symbol":case"number":return t.property(o)}}e.iteratee=i})(M0)),M0}var s_;function vT(){return s_||(s_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=nT(),t=j5(),s=aT(),l=xT();function i(o,d=t.identity){return s.isArrayLikeObject(o)?r.uniqBy(Array.from(o),l.iteratee(d)):[]}e.uniqBy=i})(S0)),S0}var Q0,i_;function bT(){return i_||(i_=1,Q0=vT().uniqBy),Q0}var wT=bT();const a_=gi(wT);function O5(e,r,t){return r===!0?a_(e,t):typeof r=="function"?a_(e,r):e}var eg={exports:{}},tg={},rg={exports:{}},ng={};var o_;function _T(){if(o_)return ng;o_=1;var e=zl();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var t=typeof Object.is=="function"?Object.is:r,s=e.useState,l=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function d(f,h){var m=h(),g=s({inst:{value:m,getSnapshot:h}}),y=g[0].inst,p=g[1];return i(function(){y.value=m,y.getSnapshot=h,c(y)&&p({inst:y})},[f,m,h]),l(function(){return c(y)&&p({inst:y}),f(function(){c(y)&&p({inst:y})})},[f]),o(m),m}function c(f){var h=f.getSnapshot;f=f.value;try{var m=h();return!t(f,m)}catch{return!0}}function a(f,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a:d;return ng.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:u,ng}var l_;function jT(){return l_||(l_=1,rg.exports=_T()),rg.exports}var c_;function NT(){if(c_)return tg;c_=1;var e=zl(),r=jT();function t(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var s=typeof Object.is=="function"?Object.is:t,l=r.useSyncExternalStore,i=e.useRef,o=e.useEffect,d=e.useMemo,c=e.useDebugValue;return tg.useSyncExternalStoreWithSelector=function(a,u,f,h,m){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=d(function(){function b(D){if(!v){if(v=!0,j=D,D=h(D),m!==void 0&&y.hasValue){var q=y.value;if(m(q,D))return C=q}return C=D}if(q=C,s(j,D))return q;var z=h(D);return m!==void 0&&m(q,z)?(j=D,q):(j=D,C=z)}var v=!1,j,C,T=f===void 0?null:f;return[function(){return b(u())},T===null?void 0:function(){return b(T())}]},[u,f,h,m]);var p=l(a,g[0],g[1]);return o(function(){y.hasValue=!0,y.value=p},[p]),c(p),p},tg}var u_;function kT(){return u_||(u_=1,eg.exports=NT()),eg.exports}var ST=kT(),Ux=F.createContext(null),CT=e=>e,vr=()=>{var e=F.useContext(Ux);return e?e.store.dispatch:CT},_f=()=>{},ET=()=>_f,AT=(e,r)=>e===r;function pt(e){var r=F.useContext(Ux);return ST.useSyncExternalStoreWithSelector(r?r.subscription.addNestedSub:ET,r?r.store.getState:_f,r?r.store.getState:_f,r?e:_f,AT)}function PT(e,r=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(r)}function TT(e,r=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(r)}function OT(e,r="expected all items to be functions, instead received the following types: "){if(!e.every(t=>typeof t=="function")){const t=e.map(s=>typeof s=="function"?`function ${s.name||"unnamed"}()`:typeof s).join(", ");throw new TypeError(`${r}[${t}]`)}}var d_=e=>Array.isArray(e)?e:[e];function MT(e){const r=Array.isArray(e[0])?e[0]:e;return OT(r,"createSelector expects all input-selectors to be functions, but received the following types: "),r}function IT(e,r){const t=[],{length:s}=e;for(let l=0;l<s;l++)t.push(e[l].apply(null,r));return t}var RT=class{constructor(e){this.value=e}deref(){return this.value}},DT=typeof WeakRef<"u"?WeakRef:RT,LT=0,f_=1;function Kd(){return{s:LT,v:void 0,o:null,p:null}}function M5(e,r={}){let t=Kd();const{resultEqualityCheck:s}=r;let l,i=0;function o(){let d=t;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const m=arguments[f];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=d.o;g===null&&(d.o=g=new WeakMap);const y=g.get(m);y===void 0?(d=Kd(),g.set(m,d)):d=y}else{let g=d.p;g===null&&(d.p=g=new Map);const y=g.get(m);y===void 0?(d=Kd(),g.set(m,d)):d=y}}const a=d;let u;if(d.s===f_)u=d.v;else if(u=e.apply(null,arguments),i++,s){const f=l?.deref?.()??l;f!=null&&s(f,u)&&(u=f,i!==0&&i--),l=typeof u=="object"&&u!==null||typeof u=="function"?new DT(u):u}return a.s=f_,a.v=u,u}return o.clearCache=()=>{t=Kd(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function zT(e,...r){const t=typeof e=="function"?{memoize:e,memoizeOptions:r}:e,s=(...l)=>{let i=0,o=0,d,c={},a=l.pop();typeof a=="object"&&(c=a,a=l.pop()),PT(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const u={...t,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=M5,argsMemoizeOptions:g=[]}=u,y=d_(h),p=d_(g),b=MT(l),v=f(function(){return i++,a.apply(null,arguments)},...y),j=m(function(){o++;const T=IT(b,arguments);return d=v.apply(null,T),d},...p);return Object.assign(j,{resultFunc:a,memoizedResultFunc:v,dependencies:b,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>d,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(s,{withTypes:()=>s}),s}var Pe=zT(M5),FT=Object.assign((e,r=Pe)=>{TT(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const t=Object.keys(e),s=t.map(i=>e[i]);return r(s,(...i)=>i.reduce((o,d,c)=>(o[t[c]]=d,o),{}))},{withTypes:()=>FT}),sg={},ig={},ag={},h_;function $T(){return h_||(h_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(s){return typeof s=="symbol"?1:s===null?2:s===void 0?3:s!==s?4:0}const t=(s,l,i)=>{if(s!==l){const o=r(s),d=r(l);if(o===d&&o===0){if(s<l)return i==="desc"?1:-1;if(s>l)return i==="desc"?-1:1}return i==="desc"?d-o:o-d}return 0};e.compareValues=t})(ag)),ag}var og={},lg={},m_;function I5(){return m_||(m_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return typeof t=="symbol"||t instanceof Symbol}e.isSymbol=r})(lg)),lg}var p_;function BT(){return p_||(p_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=I5(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function l(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||r.isSymbol(i)?!0:typeof i=="string"&&(s.test(i)||!t.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=l})(og)),og}var g_;function UT(){return g_||(g_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=$T(),t=BT(),s=Lx();function l(i,o,d,c){if(i==null)return[];d=c?void 0:d,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(m=>String(m));const a=(m,g)=>{let y=m;for(let p=0;p<g.length&&y!=null;++p)y=y[g[p]];return y},u=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:a(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?a(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||t.isKey(m)?m:{key:m,path:s.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>u(g,m))})).slice().sort((m,g)=>{for(let y=0;y<f.length;y++){const p=r.compareValues(m.criteria[y],g.criteria[y],d[y]);if(p!==0)return p}return 0}).map(m=>m.original)}e.orderBy=l})(ig)),ig}var cg={},y_;function qT(){return y_||(y_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t,s=1){const l=[],i=Math.floor(s),o=(d,c)=>{for(let a=0;a<d.length;a++){const u=d[a];Array.isArray(u)&&c<i?o(u,c+1):l.push(u)}};return o(t,0),l}e.flatten=r})(cg)),cg}var ug={},x_;function R5(){return x_||(x_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=T5(),t=Bx(),s=N5(),l=S5();function i(o,d,c){return s.isObject(c)&&(typeof d=="number"&&t.isArrayLike(c)&&r.isIndex(d)&&d<c.length||typeof d=="string"&&d in c)?l.eq(c[d],o):!1}e.isIterateeCall=i})(ug)),ug}var v_;function HT(){return v_||(v_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=UT(),t=qT(),s=R5();function l(i,...o){const d=o.length;return d>1&&s.isIterateeCall(i,o[0],o[1])?o=[]:d>2&&s.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),r.orderBy(i,t.flatten(o),["asc"])}e.sortBy=l})(sg)),sg}var dg,b_;function WT(){return b_||(b_=1,dg=HT().sortBy),dg}var VT=WT();const Dh=gi(VT);var D5=e=>e.legend.settings,KT=e=>e.legend.size,XT=e=>e.legend.payload,GT=Pe([XT,D5],(e,r)=>{var{itemSorter:t}=r,s=e.flat(1);return t?Dh(s,t):s});function YT(){return pt(GT)}var Xd=1;function L5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[r,t]=F.useState({height:0,left:0,top:0,width:0}),s=F.useCallback(l=>{if(l!=null){var i=l.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-r.height)>Xd||Math.abs(o.left-r.left)>Xd||Math.abs(o.top-r.top)>Xd||Math.abs(o.width-r.width)>Xd)&&t({height:o.height,left:o.left,top:o.top,width:o.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,s]}function _n(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZT=typeof Symbol=="function"&&Symbol.observable||"@@observable",w_=ZT,fg=()=>Math.random().toString(36).substring(7).split("").join("."),JT={INIT:`@@redux/INIT${fg()}`,REPLACE:`@@redux/REPLACE${fg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${fg()}`},Lf=JT;function qx(e){if(typeof e!="object"||e===null)return!1;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r||Object.getPrototypeOf(e)===null}function z5(e,r,t){if(typeof e!="function")throw new Error(_n(2));if(typeof r=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof r=="function"&&typeof t>"u"&&(t=r,r=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(_n(1));return t(z5)(e,r)}let s=e,l=r,i=new Map,o=i,d=0,c=!1;function a(){o===i&&(o=new Map,i.forEach((p,b)=>{o.set(b,p)}))}function u(){if(c)throw new Error(_n(3));return l}function f(p){if(typeof p!="function")throw new Error(_n(4));if(c)throw new Error(_n(5));let b=!0;a();const v=d++;return o.set(v,p),function(){if(b){if(c)throw new Error(_n(6));b=!1,a(),o.delete(v),i=null}}}function h(p){if(!qx(p))throw new Error(_n(7));if(typeof p.type>"u")throw new Error(_n(8));if(typeof p.type!="string")throw new Error(_n(17));if(c)throw new Error(_n(9));try{c=!0,l=s(l,p)}finally{c=!1}return(i=o).forEach(v=>{v()}),p}function m(p){if(typeof p!="function")throw new Error(_n(10));s=p,h({type:Lf.REPLACE})}function g(){const p=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(_n(11));function v(){const C=b;C.next&&C.next(u())}return v(),{unsubscribe:p(v)}},[w_](){return this}}}return h({type:Lf.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:m,[w_]:g}}function QT(e){Object.keys(e).forEach(r=>{const t=e[r];if(typeof t(void 0,{type:Lf.INIT})>"u")throw new Error(_n(12));if(typeof t(void 0,{type:Lf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(_n(13))})}function F5(e){const r=Object.keys(e),t={};for(let i=0;i<r.length;i++){const o=r[i];typeof e[o]=="function"&&(t[o]=e[o])}const s=Object.keys(t);let l;try{QT(t)}catch(i){l=i}return function(o={},d){if(l)throw l;let c=!1;const a={};for(let u=0;u<s.length;u++){const f=s[u],h=t[f],m=o[f],g=h(m,d);if(typeof g>"u")throw d&&d.type,new Error(_n(14));a[f]=g,c=c||g!==m}return c=c||s.length!==Object.keys(o).length,c?a:o}}function zf(...e){return e.length===0?r=>r:e.length===1?e[0]:e.reduce((r,t)=>(...s)=>r(t(...s)))}function eO(...e){return r=>(t,s)=>{const l=r(t,s);let i=()=>{throw new Error(_n(15))};const o={getState:l.getState,dispatch:(c,...a)=>i(c,...a)},d=e.map(c=>c(o));return i=zf(...d)(l.dispatch),{...l,dispatch:i}}}function $5(e){return qx(e)&&"type"in e&&typeof e.type=="string"}var B5=Symbol.for("immer-nothing"),__=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function qs(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ds=Object,Pl=ds.getPrototypeOf,Ff="constructor",Lh="prototype",xy="configurable",$f="enumerable",jf="writable",Qc="value",Qi=e=>!!e&&!!e[$n];function Ys(e){return e?U5(e)||Fh(e)||!!e[__]||!!e[Ff]?.[__]||$h(e)||Bh(e):!1}var tO=ds[Lh][Ff].toString(),j_=new WeakMap;function U5(e){if(!e||!Hx(e))return!1;const r=Pl(e);if(r===null||r===ds[Lh])return!0;const t=ds.hasOwnProperty.call(r,Ff)&&r[Ff];if(t===Object)return!0;if(!bl(t))return!1;let s=j_.get(t);return s===void 0&&(s=Function.toString.call(t),j_.set(t,s)),s===tO}function zh(e,r,t=!0){ju(e)===0?(t?Reflect.ownKeys(e):ds.keys(e)).forEach(l=>{r(l,e[l],e)}):e.forEach((s,l)=>r(l,s,e))}function ju(e){const r=e[$n];return r?r.type_:Fh(e)?1:$h(e)?2:Bh(e)?3:0}var N_=(e,r,t=ju(e))=>t===2?e.has(r):ds[Lh].hasOwnProperty.call(e,r),vy=(e,r,t=ju(e))=>t===2?e.get(r):e[r],Bf=(e,r,t,s=ju(e))=>{s===2?e.set(r,t):s===3?e.add(t):e[r]=t};function rO(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}var Fh=Array.isArray,$h=e=>e instanceof Map,Bh=e=>e instanceof Set,Hx=e=>typeof e=="object",bl=e=>typeof e=="function",hg=e=>typeof e=="boolean";function nO(e){const r=+e;return Number.isInteger(r)&&String(r)===e}var Ii=e=>e.copy_||e.base_,Wx=e=>e.modified_?e.copy_:e.base_;function by(e,r){if($h(e))return new Map(e);if(Bh(e))return new Set(e);if(Fh(e))return Array[Lh].slice.call(e);const t=U5(e);if(r===!0||r==="class_only"&&!t){const s=ds.getOwnPropertyDescriptors(e);delete s[$n];let l=Reflect.ownKeys(s);for(let i=0;i<l.length;i++){const o=l[i],d=s[o];d[jf]===!1&&(d[jf]=!0,d[xy]=!0),(d.get||d.set)&&(s[o]={[xy]:!0,[jf]:!0,[$f]:d[$f],[Qc]:e[o]})}return ds.create(Pl(e),s)}else{const s=Pl(e);if(s!==null&&t)return{...e};const l=ds.create(s);return ds.assign(l,e)}}function Vx(e,r=!1){return Uh(e)||Qi(e)||!Ys(e)||(ju(e)>1&&ds.defineProperties(e,{set:Gd,add:Gd,clear:Gd,delete:Gd}),ds.freeze(e),r&&zh(e,(t,s)=>{Vx(s,!0)},!1)),e}function sO(){qs(2)}var Gd={[Qc]:sO};function Uh(e){return e===null||!Hx(e)?!0:ds.isFrozen(e)}var Uf="MapSet",wy="Patches",k_="ArrayMethods",q5={};function Mo(e){const r=q5[e];return r||qs(0,e),r}var S_=e=>!!q5[e],eu,H5=()=>eu,iO=(e,r)=>({drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:S_(Uf)?Mo(Uf):void 0,arrayMethodsPlugin_:S_(k_)?Mo(k_):void 0});function C_(e,r){r&&(e.patchPlugin_=Mo(wy),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function _y(e){jy(e),e.drafts_.forEach(aO),e.drafts_=null}function jy(e){e===eu&&(eu=e.parent_)}var E_=e=>eu=iO(eu,e);function aO(e){const r=e[$n];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function A_(e,r){r.unfinalizedDrafts_=r.drafts_.length;const t=r.drafts_[0];if(e!==void 0&&e!==t){t[$n].modified_&&(_y(r),qs(4)),Ys(e)&&(e=P_(r,e));const{patchPlugin_:l}=r;l&&l.generateReplacementPatches_(t[$n].base_,e,r)}else e=P_(r,t);return oO(r,e,!0),_y(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==B5?e:void 0}function P_(e,r){if(Uh(r))return r;const t=r[$n];if(!t)return qf(r,e.handledSet_,e);if(!qh(t,e))return r;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:s}=t;if(s)for(;s.length>0;)s.pop()(e);K5(t,e)}return t.copy_}function oO(e,r,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vx(r,t)}function W5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var qh=(e,r)=>e.scope_===r,lO=[];function V5(e,r,t,s){const l=Ii(e),i=e.type_;if(s!==void 0&&vy(l,s,i)===r){Bf(l,s,t,i);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;zh(l,(c,a)=>{if(Qi(a)){const u=d.get(a)||[];u.push(c),d.set(a,u)}})}const o=e.draftLocations_.get(r)??lO;for(const d of o)Bf(l,d,t,i)}function cO(e,r,t){e.callbacks_.push(function(l){const i=r;if(!i||!qh(i,l))return;l.mapSetPlugin_?.fixSetContents(i);const o=Wx(i);V5(e,i.draft_??i,o,t),K5(i,l)})}function K5(e,r){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:s}=r;if(s){const l=s.getPath(e);l&&s.generatePatches_(e,l,r)}W5(e)}}function uO(e,r,t){const{scope_:s}=e;if(Qi(t)){const l=t[$n];qh(l,s)&&l.callbacks_.push(function(){Nf(e);const o=Wx(l);V5(e,t,o,r)})}else Ys(t)&&e.callbacks_.push(function(){const i=Ii(e);e.type_===3?i.has(t)&&qf(t,s.handledSet_,s):vy(i,r,e.type_)===t&&s.drafts_.length>1&&(e.assigned_.get(r)??!1)===!0&&e.copy_&&qf(vy(e.copy_,r,e.type_),s.handledSet_,s)})}function qf(e,r,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Qi(e)||r.has(e)||!Ys(e)||Uh(e)||(r.add(e),zh(e,(s,l)=>{if(Qi(l)){const i=l[$n];if(qh(i,t)){const o=Wx(i);Bf(e,s,o,e.type_),W5(i)}}else Ys(l)&&qf(l,r,t)})),e}function dO(e,r){const t=Fh(e),s={type_:t?1:0,scope_:r?r.scope_:H5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let l=s,i=Hf;t&&(l=[s],i=tu);const{revoke:o,proxy:d}=Proxy.revocable(l,i);return s.draft_=d,s.revoke_=o,[d,s]}var Hf={get(e,r){if(r===$n)return e;let t=e.scope_.arrayMethodsPlugin_;const s=e.type_===1&&typeof r=="string";if(s&&t?.isArrayOperationMethod(r))return t.createMethodInterceptor(e,r);const l=Ii(e);if(!N_(l,r,e.type_))return fO(e,l,r);const i=l[r];if(e.finalized_||!Ys(i)||s&&e.operationMethod&&t?.isMutatingArrayMethod(e.operationMethod)&&nO(r))return i;if(i===mg(e.base_,r)){Nf(e);const o=e.type_===1?+r:r,d=ky(e.scope_,i,e,o);return e.copy_[o]=d}return i},has(e,r){return r in Ii(e)},ownKeys(e){return Reflect.ownKeys(Ii(e))},set(e,r,t){const s=X5(Ii(e),r);if(s?.set)return s.set.call(e.draft_,t),!0;if(!e.modified_){const l=mg(Ii(e),r),i=l?.[$n];if(i&&i.base_===t)return e.copy_[r]=t,e.assigned_.set(r,!1),!0;if(rO(t,l)&&(t!==void 0||N_(e.base_,r,e.type_)))return!0;Nf(e),Ny(e)}return e.copy_[r]===t&&(t!==void 0||r in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=t,e.assigned_.set(r,!0),uO(e,r,t)),!0},deleteProperty(e,r){return Nf(e),mg(e.base_,r)!==void 0||r in e.base_?(e.assigned_.set(r,!1),Ny(e)):e.assigned_.delete(r),e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const t=Ii(e),s=Reflect.getOwnPropertyDescriptor(t,r);return s&&{[jf]:!0,[xy]:e.type_!==1||r!=="length",[$f]:s[$f],[Qc]:t[r]}},defineProperty(){qs(11)},getPrototypeOf(e){return Pl(e.base_)},setPrototypeOf(){qs(12)}},tu={};for(let e in Hf){let r=Hf[e];tu[e]=function(){const t=arguments;return t[0]=t[0][0],r.apply(this,t)}}tu.deleteProperty=function(e,r){return tu.set.call(this,e,r,void 0)};tu.set=function(e,r,t){return Hf.set.call(this,e[0],r,t,e[0])};function mg(e,r){const t=e[$n];return(t?Ii(t):e)[r]}function fO(e,r,t){const s=X5(r,t);return s?Qc in s?s[Qc]:s.get?.call(e.draft_):void 0}function X5(e,r){if(!(r in e))return;let t=Pl(e);for(;t;){const s=Object.getOwnPropertyDescriptor(t,r);if(s)return s;t=Pl(t)}}function Ny(e){e.modified_||(e.modified_=!0,e.parent_&&Ny(e.parent_))}function Nf(e){e.copy_||(e.assigned_=new Map,e.copy_=by(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var hO=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,s,l)=>{if(bl(t)&&!bl(s)){const o=s;s=t;const d=this;return function(a=o,...u){return d.produce(a,f=>s.call(this,f,...u))}}bl(s)||qs(6),l!==void 0&&!bl(l)&&qs(7);let i;if(Ys(t)){const o=E_(this),d=ky(o,t,void 0);let c=!0;try{i=s(d),c=!1}finally{c?_y(o):jy(o)}return C_(o,l),A_(i,o)}else if(!t||!Hx(t)){if(i=s(t),i===void 0&&(i=t),i===B5&&(i=void 0),this.autoFreeze_&&Vx(i,!0),l){const o=[],d=[];Mo(wy).generateReplacementPatches_(t,i,{patches_:o,inversePatches_:d}),l(o,d)}return i}else qs(1,t)},this.produceWithPatches=(t,s)=>{if(bl(t))return(d,...c)=>this.produceWithPatches(d,a=>t(a,...c));let l,i;return[this.produce(t,s,(d,c)=>{l=d,i=c}),l,i]},hg(r?.autoFreeze)&&this.setAutoFreeze(r.autoFreeze),hg(r?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(r.useStrictShallowCopy),hg(r?.useStrictIteration)&&this.setUseStrictIteration(r.useStrictIteration)}createDraft(r){Ys(r)||qs(8),Qi(r)&&(r=Ks(r));const t=E_(this),s=ky(t,r,void 0);return s[$n].isManual_=!0,jy(t),s}finishDraft(r,t){const s=r&&r[$n];(!s||!s.isManual_)&&qs(9);const{scope_:l}=s;return C_(l,t),A_(void 0,l)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}setUseStrictIteration(r){this.useStrictIteration_=r}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(r,t){let s;for(s=t.length-1;s>=0;s--){const i=t[s];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}s>-1&&(t=t.slice(s+1));const l=Mo(wy).applyPatches_;return Qi(r)?l(r,t):this.produce(r,i=>l(i,t))}};function ky(e,r,t,s){const[l,i]=$h(r)?Mo(Uf).proxyMap_(r,t):Bh(r)?Mo(Uf).proxySet_(r,t):dO(r,t);return(t?.scope_??H5()).drafts_.push(l),i.callbacks_=t?.callbacks_??[],i.key_=s,t&&s!==void 0?cO(t,i,s):i.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:a}=c;i.modified_&&a&&a.generatePatches_(i,[],c)}),l}function Ks(e){return Qi(e)||qs(10,e),G5(e)}function G5(e){if(!Ys(e)||Uh(e))return e;const r=e[$n];let t,s=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,t=by(e,r.scope_.immer_.useStrictShallowCopy_),s=r.scope_.immer_.shouldUseStrictIteration()}else t=by(e,!0);return zh(t,(l,i)=>{Bf(t,l,G5(i))},s),r&&(r.finalized_=!1),t}var mO=new hO,Y5=mO.produce;function Z5(e){return({dispatch:t,getState:s})=>l=>i=>typeof i=="function"?i(t,s,e):l(i)}var pO=Z5(),gO=Z5,yO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?zf:zf.apply(null,arguments)};function Ts(e,r){function t(...s){if(r){let l=r(...s);if(!l)throw new Error(fs(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:s[0]}}return t.toString=()=>`${e}`,t.type=e,t.match=s=>$5(s)&&s.type===e,t}var J5=class Wc extends Array{constructor(...r){super(...r),Object.setPrototypeOf(this,Wc.prototype)}static get[Symbol.species](){return Wc}concat(...r){return super.concat.apply(this,r)}prepend(...r){return r.length===1&&Array.isArray(r[0])?new Wc(...r[0].concat(this)):new Wc(...r.concat(this))}};function T_(e){return Ys(e)?Y5(e,()=>{}):e}function Yd(e,r,t){return e.has(r)?e.get(r):e.set(r,t(r)).get(r)}function xO(e){return typeof e=="boolean"}var vO=()=>function(r){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:l=!0,actionCreatorCheck:i=!0}=r??{};let o=new J5;return t&&(xO(t)?o.push(pO):o.push(gO(t.extraArgument))),o},Q5="RTK_autoBatch",Sr=()=>e=>({payload:e,meta:{[Q5]:!0}}),O_=e=>r=>{setTimeout(r,e)},eN=(e={type:"raf"})=>r=>(...t)=>{const s=r(...t);let l=!0,i=!1,o=!1;const d=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:O_(10):e.type==="callback"?e.queueNotification:O_(e.timeout),a=()=>{o=!1,i&&(i=!1,d.forEach(u=>u()))};return Object.assign({},s,{subscribe(u){const f=()=>l&&u(),h=s.subscribe(f);return d.add(u),()=>{h(),d.delete(u)}},dispatch(u){try{return l=!u?.meta?.[Q5],i=!l,i&&(o||(o=!0,c(a))),s.dispatch(u)}finally{l=!0}}})},bO=e=>function(t){const{autoBatch:s=!0}=t??{};let l=new J5(e);return s&&l.push(eN(typeof s=="object"?s:void 0)),l};function wO(e){const r=vO(),{reducer:t=void 0,middleware:s,devTools:l=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let d;if(typeof t=="function")d=t;else if(qx(t))d=F5(t);else throw new Error(fs(1));let c;typeof s=="function"?c=s(r):c=r();let a=zf;l&&(a=yO({trace:!1,...typeof l=="object"&&l}));const u=eO(...c),f=bO(u);let h=typeof o=="function"?o(f):f();const m=a(...h);return z5(d,i,m)}function tN(e){const r={},t=[];let s;const l={addCase(i,o){const d=typeof i=="string"?i:i.type;if(!d)throw new Error(fs(28));if(d in r)throw new Error(fs(29));return r[d]=o,l},addAsyncThunk(i,o){return o.pending&&(r[i.pending.type]=o.pending),o.rejected&&(r[i.rejected.type]=o.rejected),o.fulfilled&&(r[i.fulfilled.type]=o.fulfilled),o.settled&&t.push({matcher:i.settled,reducer:o.settled}),l},addMatcher(i,o){return t.push({matcher:i,reducer:o}),l},addDefaultCase(i){return s=i,l}};return e(l),[r,t,s]}function _O(e){return typeof e=="function"}function jO(e,r){let[t,s,l]=tN(r),i;if(_O(e))i=()=>T_(e());else{const d=T_(e);i=()=>d}function o(d=i(),c){let a=[t[c.type],...s.filter(({matcher:u})=>u(c)).map(({reducer:u})=>u)];return a.filter(u=>!!u).length===0&&(a=[l]),a.reduce((u,f)=>{if(f)if(Qi(u)){const m=f(u,c);return m===void 0?u:m}else{if(Ys(u))return Y5(u,h=>f(h,c));{const h=f(u,c);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},d)}return o.getInitialState=i,o}var NO="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kO=(e=21)=>{let r="",t=e;for(;t--;)r+=NO[Math.random()*64|0];return r},SO=Symbol.for("rtk-slice-createasyncthunk");function CO(e,r){return`${e}/${r}`}function EO({creators:e}={}){const r=e?.asyncThunk?.[SO];return function(s){const{name:l,reducerPath:i=l}=s;if(!l)throw new Error(fs(11));const o=(typeof s.reducers=="function"?s.reducers(PO()):s.reducers)||{},d=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(j,C){const T=typeof j=="string"?j:j.type;if(!T)throw new Error(fs(12));if(T in c.sliceCaseReducersByType)throw new Error(fs(13));return c.sliceCaseReducersByType[T]=C,a},addMatcher(j,C){return c.sliceMatchers.push({matcher:j,reducer:C}),a},exposeAction(j,C){return c.actionCreators[j]=C,a},exposeCaseReducer(j,C){return c.sliceCaseReducersByName[j]=C,a}};d.forEach(j=>{const C=o[j],T={reducerName:j,type:CO(l,j),createNotation:typeof s.reducers=="function"};OO(C)?IO(T,C,a,r):TO(T,C,a)});function u(){const[j={},C=[],T=void 0]=typeof s.extraReducers=="function"?tN(s.extraReducers):[s.extraReducers],D={...j,...c.sliceCaseReducersByType};return jO(s.initialState,q=>{for(let z in D)q.addCase(z,D[z]);for(let z of c.sliceMatchers)q.addMatcher(z.matcher,z.reducer);for(let z of C)q.addMatcher(z.matcher,z.reducer);T&&q.addDefaultCase(T)})}const f=j=>j,h=new Map,m=new WeakMap;let g;function y(j,C){return g||(g=u()),g(j,C)}function p(){return g||(g=u()),g.getInitialState()}function b(j,C=!1){function T(q){let z=q[j];return typeof z>"u"&&C&&(z=Yd(m,T,p)),z}function D(q=f){const z=Yd(h,C,()=>new WeakMap);return Yd(z,q,()=>{const B={};for(const[V,X]of Object.entries(s.selectors??{}))B[V]=AO(X,q,()=>Yd(m,q,p),C);return B})}return{reducerPath:j,getSelectors:D,get selectors(){return D(T)},selectSlice:T}}const v={name:l,reducer:y,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:p,...b(i),injectInto(j,{reducerPath:C,...T}={}){const D=C??i;return j.inject({reducerPath:D,reducer:y},T),{...v,...b(D,!0)}}};return v}}function AO(e,r,t,s){function l(i,...o){let d=r(i);return typeof d>"u"&&s&&(d=t()),e(d,...o)}return l.unwrapped=e,l}var es=EO();function PO(){function e(r,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:r,...t}}return e.withTypes=()=>e,{reducer(r){return Object.assign({[r.name](...t){return r(...t)}}[r.name],{_reducerDefinitionType:"reducer"})},preparedReducer(r,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:r,reducer:t}},asyncThunk:e}}function TO({type:e,reducerName:r,createNotation:t},s,l){let i,o;if("reducer"in s){if(t&&!MO(s))throw new Error(fs(17));i=s.reducer,o=s.prepare}else i=s;l.addCase(e,i).exposeCaseReducer(r,i).exposeAction(r,o?Ts(e,o):Ts(e))}function OO(e){return e._reducerDefinitionType==="asyncThunk"}function MO(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IO({type:e,reducerName:r},t,s,l){if(!l)throw new Error(fs(18));const{payloadCreator:i,fulfilled:o,pending:d,rejected:c,settled:a,options:u}=t,f=l(e,i,u);s.exposeAction(r,f),o&&s.addCase(f.fulfilled,o),d&&s.addCase(f.pending,d),c&&s.addCase(f.rejected,c),a&&s.addMatcher(f.settled,a),s.exposeCaseReducer(r,{fulfilled:o||Zd,pending:d||Zd,rejected:c||Zd,settled:a||Zd})}function Zd(){}var RO="task",rN="listener",nN="completed",Kx="cancelled",DO=`task-${Kx}`,LO=`task-${nN}`,Sy=`${rN}-${Kx}`,zO=`${rN}-${nN}`,Hh=class{constructor(e){this.code=e,this.message=`${RO} ${Kx} (reason: ${e})`}name="TaskAbortError";message},Xx=(e,r)=>{if(typeof e!="function")throw new TypeError(fs(32))},Wf=()=>{},sN=(e,r=Wf)=>(e.catch(r),e),iN=(e,r)=>(e.addEventListener("abort",r,{once:!0}),()=>e.removeEventListener("abort",r)),No=e=>{if(e.aborted)throw new Hh(e.reason)};function aN(e,r){let t=Wf;return new Promise((s,l)=>{const i=()=>l(new Hh(e.reason));if(e.aborted){i();return}t=iN(e,i),r.finally(()=>t()).then(s,l)}).finally(()=>{t=Wf})}var FO=async(e,r)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(t){return{status:t instanceof Hh?"cancelled":"rejected",error:t}}finally{r?.()}},Vf=e=>r=>sN(aN(e,r).then(t=>(No(e),t))),oN=e=>{const r=Vf(e);return t=>r(new Promise(s=>setTimeout(s,t)))},{assign:Sl}=Object,M_={},Wh="listenerMiddleware",$O=(e,r)=>{const t=s=>iN(e,()=>s.abort(e.reason));return(s,l)=>{Xx(s);const i=new AbortController;t(i);const o=FO(async()=>{No(e),No(i.signal);const d=await s({pause:Vf(i.signal),delay:oN(i.signal),signal:i.signal});return No(i.signal),d},()=>i.abort(LO));return l?.autoJoin&&r.push(o.catch(Wf)),{result:Vf(e)(o),cancel(){i.abort(DO)}}}},BO=(e,r)=>{const t=async(s,l)=>{No(r);let i=()=>{};const d=[new Promise((c,a)=>{let u=e({predicate:s,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),a()}})];l!=null&&d.push(new Promise(c=>setTimeout(c,l,null)));try{const c=await aN(r,Promise.race(d));return No(r),c}finally{i()}};return(s,l)=>sN(t(s,l))},lN=e=>{let{type:r,actionCreator:t,matcher:s,predicate:l,effect:i}=e;if(r)l=Ts(r).match;else if(t)r=t.type,l=t.match;else if(s)l=s;else if(!l)throw new Error(fs(21));return Xx(i),{predicate:l,type:r,effect:i}},cN=Sl(e=>{const{type:r,predicate:t,effect:s}=lN(e);return{id:kO(),effect:s,type:r,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(fs(22))}}},{withTypes:()=>cN}),I_=(e,r)=>{const{type:t,effect:s,predicate:l}=lN(r);return Array.from(e.values()).find(i=>(typeof t=="string"?i.type===t:i.predicate===l)&&i.effect===s)},Cy=e=>{e.pending.forEach(r=>{r.abort(Sy)})},UO=(e,r)=>()=>{for(const t of r.keys())Cy(t);e.clear()},R_=(e,r,t)=>{try{e(r,t)}catch(s){setTimeout(()=>{throw s},0)}},uN=Sl(Ts(`${Wh}/add`),{withTypes:()=>uN}),qO=Ts(`${Wh}/removeAll`),dN=Sl(Ts(`${Wh}/remove`),{withTypes:()=>dN}),HO=(...e)=>{console.error(`${Wh}/error`,...e)},Nu=(e={})=>{const r=new Map,t=new Map,s=m=>{const g=t.get(m)??0;t.set(m,g+1)},l=m=>{const g=t.get(m)??1;g===1?t.delete(m):t.set(m,g-1)},{extra:i,onError:o=HO}=e;Xx(o);const d=m=>(m.unsubscribe=()=>r.delete(m.id),r.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&Cy(m)}),c=m=>{const g=I_(r,m)??cN(m);return d(g)};Sl(c,{withTypes:()=>c});const a=m=>{const g=I_(r,m);return g&&(g.unsubscribe(),m.cancelActive&&Cy(g)),!!g};Sl(a,{withTypes:()=>a});const u=async(m,g,y,p)=>{const b=new AbortController,v=BO(c,b.signal),j=[];try{m.pending.add(b),s(m),await Promise.resolve(m.effect(g,Sl({},y,{getOriginalState:p,condition:(C,T)=>v(C,T).then(Boolean),take:v,delay:oN(b.signal),pause:Vf(b.signal),extra:i,signal:b.signal,fork:$O(b.signal,j),unsubscribe:m.unsubscribe,subscribe:()=>{r.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((C,T,D)=>{C!==b&&(C.abort(Sy),D.delete(C))})},cancel:()=>{b.abort(Sy),m.pending.delete(b)},throwIfCancelled:()=>{No(b.signal)}})))}catch(C){C instanceof Hh||R_(o,C,{raisedBy:"effect"})}finally{await Promise.all(j),b.abort(zO),l(m),m.pending.delete(b)}},f=UO(r,t);return{middleware:m=>g=>y=>{if(!$5(y))return g(y);if(uN.match(y))return c(y.payload);if(qO.match(y)){f();return}if(dN.match(y))return a(y.payload);let p=m.getState();const b=()=>{if(p===M_)throw new Error(fs(23));return p};let v;try{if(v=g(y),r.size>0){const j=m.getState(),C=Array.from(r.values());for(const T of C){let D=!1;try{D=T.predicate(y,j,p)}catch(q){D=!1,R_(o,q,{raisedBy:"predicate"})}D&&u(T,y,m,b)}}}finally{p=M_}return v},startListening:c,stopListening:a,clearListeners:f}};function fs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WO={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fN=es({name:"chartLayout",initialState:WO,reducers:{setLayout(e,r){e.layoutType=r.payload},setChartSize(e,r){e.width=r.payload.width,e.height=r.payload.height},setMargin(e,r){var t,s,l,i;e.margin.top=(t=r.payload.top)!==null&&t!==void 0?t:0,e.margin.right=(s=r.payload.right)!==null&&s!==void 0?s:0,e.margin.bottom=(l=r.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(i=r.payload.left)!==null&&i!==void 0?i:0},setScale(e,r){e.scale=r.payload}}}),{setMargin:VO,setLayout:KO,setChartSize:XO,setScale:GO}=fN.actions,YO=fN.reducer;function hN(e,r,t){return Array.isArray(e)&&e&&r+t!==0?e.slice(r,t+1):e}function gr(e){return Number.isFinite(e)}function fi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function D_(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function jl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?D_(Object(t),!0).forEach(function(s){ZO(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D_(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function ZO(e,r,t){return(r=JO(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function JO(e){var r=QO(e,"string");return typeof r=="symbol"?r:r+""}function QO(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function dr(e,r,t){return Nr(e)||Nr(r)?t:di(r)?Oo(e,r,t):typeof r=="function"?r(e):t}var eM=(e,r,t)=>{if(r&&t){var{width:s,height:l}=t,{align:i,verticalAlign:o,layout:d}=r;if((d==="vertical"||d==="horizontal"&&o==="middle")&&i!=="center"&&ot(e[i]))return jl(jl({},e),{},{[i]:e[i]+(s||0)});if((d==="horizontal"||d==="vertical"&&i==="center")&&o!=="middle"&&ot(e[o]))return jl(jl({},e),{},{[o]:e[o]+(l||0)})}return e},xi=(e,r)=>e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis",mN=(e,r,t,s)=>{if(s)return e.map(d=>d.coordinate);var l,i,o=e.map(d=>(d.coordinate===r&&(l=!0),d.coordinate===t&&(i=!0),d.coordinate));return l||o.push(r),i||o.push(t),o},pN=(e,r,t)=>{if(!e)return null;var{duplicateDomain:s,type:l,range:i,scale:o,realScaleType:d,isCategorical:c,categoricalDomain:a,tickCount:u,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=d==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,y=l==="category"&&o.bandwidth?o.bandwidth()/g:0;if(y=m==="angleAxis"&&i&&i.length>=2?hn(i[0]-i[1])*2*y:y,f||h){var p=(f||h||[]).map((b,v)=>{var j=s?s.indexOf(b):b;return{coordinate:o(j)+y,value:b,offset:y,index:v}});return p.filter(b=>!Ps(b.coordinate))}return c&&a?a.map((b,v)=>({coordinate:o(b)+y,value:b,index:v,offset:y})):o.ticks&&u!=null?o.ticks(u).map((b,v)=>({coordinate:o(b)+y,value:b,offset:y,index:v})):o.domain().map((b,v)=>({coordinate:o(b)+y,value:s?s[b]:b,index:v,offset:y}))},L_=1e-4,tM=e=>{var r=e.domain();if(!(!r||r.length<=2)){var t=r.length,s=e.range(),l=Math.min(s[0],s[1])-L_,i=Math.max(s[0],s[1])+L_,o=e(r[0]),d=e(r[t-1]);(o<l||o>i||d<l||d>i)&&e.domain([r[0],r[t-1]])}},rM=(e,r)=>{if(!r||r.length!==2||!ot(r[0])||!ot(r[1]))return e;var t=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),l=[e[0],e[1]];return(!ot(e[0])||e[0]<t)&&(l[0]=t),(!ot(e[1])||e[1]>s)&&(l[1]=s),l[0]>s&&(l[0]=s),l[1]<t&&(l[1]=t),l},nM=e=>{var r,t=e.length;if(!(t<=0)){var s=(r=e[0])===null||r===void 0?void 0:r.length;if(!(s==null||s<=0))for(var l=0;l<s;++l)for(var i=0,o=0,d=0;d<t;++d){var c=e[d],a=c?.[l];if(a!=null){var u=a[1],f=a[0],h=Ps(u)?f:u;h>=0?(a[0]=i,a[1]=i+h,i=u):(a[0]=o,a[1]=o+h,o=u)}}}},sM=e=>{var r,t=e.length;if(!(t<=0)){var s=(r=e[0])===null||r===void 0?void 0:r.length;if(!(s==null||s<=0))for(var l=0;l<s;++l)for(var i=0,o=0;o<t;++o){var d=e[o],c=d?.[l];if(c!=null){var a=Ps(c[1])?c[0]:c[1];a>=0?(c[0]=i,c[1]=i+a,i=c[1]):(c[0]=0,c[1]=0)}}}},iM={sign:nM,expand:NP,none:To,silhouette:kP,wiggle:SP,positive:sM},aM=(e,r,t)=>{var s,l=(s=iM[t])!==null&&s!==void 0?s:To,i=jP().keys(r).value((d,c)=>Number(dr(d,c,0))).order(gy).offset(l),o=i(e);return o.forEach((d,c)=>{d.forEach((a,u)=>{var f=dr(e[u],r[c],0);Array.isArray(f)&&f.length===2&&ot(f[0])&&ot(f[1])&&(a[0]=f[0],a[1]=f[1])})}),o};function gN(e){return e==null?void 0:String(e)}function Kf(e){var{axis:r,ticks:t,bandSize:s,entry:l,index:i,dataKey:o}=e;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Nr(l[r.dataKey])){var d=b5(t,"value",l[r.dataKey]);if(d)return d.coordinate+s/2}return t[i]?t[i].coordinate+s/2:null}var c=dr(l,Nr(o)?r.dataKey:o);return Nr(c)?null:r.scale(c)}var z_=e=>{var{axis:r,ticks:t,offset:s,bandSize:l,entry:i,index:o}=e;if(r.type==="category")return t[o]?t[o].coordinate+s:null;var d=dr(i,r.dataKey,r.scale.domain()[o]);return Nr(d)?null:r.scale(d)-l/2+s},oM=e=>{var{numericAxis:r}=e,t=r.scale.domain();if(r.type==="number"){var s=Math.min(t[0],t[1]),l=Math.max(t[0],t[1]);return s<=0&&l>=0?0:l<0?l:s}return t[0]},lM=e=>{var r=e.flat(2).filter(ot);return[Math.min(...r),Math.max(...r)]},cM=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],uM=(e,r,t)=>{if(e!=null)return cM(Object.keys(e).reduce((s,l)=>{var i=e[l];if(!i)return s;var{stackedData:o}=i,d=o.reduce((c,a)=>{var u=hN(a,r,t),f=lM(u);return!gr(f[0])||!gr(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]))},F_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qa=(e,r,t)=>{if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!t||s>0)return s}if(e&&r&&r.length>=2){for(var l=Dh(r,u=>u.coordinate),i=1/0,o=1,d=l.length;o<d;o++){var c=l[o],a=l[o-1];i=Math.min((c?.coordinate||0)-(a?.coordinate||0),i)}return i===1/0?0:i}return t?void 0:0};function B_(e){var{tooltipEntrySettings:r,dataKey:t,payload:s,value:l,name:i}=e;return jl(jl({},r),{},{dataKey:t,payload:s,value:l,name:i})}function Ga(e,r){if(e)return String(e);if(typeof r=="string")return r}var dM=(e,r)=>{if(r==="horizontal")return e.chartX;if(r==="vertical")return e.chartY},fM=(e,r)=>r==="centric"?e.angle:e.radius,aa=e=>e.layout.width,oa=e=>e.layout.height,hM=e=>e.layout.scale,yN=e=>e.layout.margin,Vh=Pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Kh=Pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xN="data-recharts-item-index",vN="data-recharts-item-id",ku=60;function U_(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Jd(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?U_(Object(t),!0).forEach(function(s){mM(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U_(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function mM(e,r,t){return(r=pM(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function pM(e){var r=gM(e,"string");return typeof r=="symbol"?r:r+""}function gM(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var yM=e=>e.brush.height;function xM(e){var r=Kh(e);return r.reduce((t,s)=>{if(s.orientation==="left"&&!s.mirror&&!s.hide){var l=typeof s.width=="number"?s.width:ku;return t+l}return t},0)}function vM(e){var r=Kh(e);return r.reduce((t,s)=>{if(s.orientation==="right"&&!s.mirror&&!s.hide){var l=typeof s.width=="number"?s.width:ku;return t+l}return t},0)}function bM(e){var r=Vh(e);return r.reduce((t,s)=>s.orientation==="top"&&!s.mirror&&!s.hide?t+s.height:t,0)}function wM(e){var r=Vh(e);return r.reduce((t,s)=>s.orientation==="bottom"&&!s.mirror&&!s.hide?t+s.height:t,0)}var en=Pe([aa,oa,yN,yM,xM,vM,bM,wM,D5,KT],(e,r,t,s,l,i,o,d,c,a)=>{var u={left:(t.left||0)+l,right:(t.right||0)+i},f={top:(t.top||0)+o,bottom:(t.bottom||0)+d},h=Jd(Jd({},f),u),m=h.bottom;h.bottom+=s,h=eM(h,c,a);var g=e-h.left-h.right,y=r-h.top-h.bottom;return Jd(Jd({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),_M=Pe(en,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Gx=Pe(aa,oa,(e,r)=>({x:0,y:0,width:e,height:r})),jM=F.createContext(null),yn=()=>F.useContext(jM)!=null,Xh=e=>e.brush,Gh=Pe([Xh,en,yN],(e,r,t)=>({height:e.height,x:ot(e.x)?e.x:r.left,y:ot(e.y)?e.y:r.top+r.height+r.brushBottom-(t?.bottom||0),width:ot(e.width)?e.width:r.width})),pg={},gg={},yg={},q_;function NM(){return q_||(q_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t,s,{signal:l,edges:i}={}){let o,d=null;const c=i!=null&&i.includes("leading"),a=i==null||i.includes("trailing"),u=()=>{d!==null&&(t.apply(o,d),o=void 0,d=null)},f=()=>{a&&u(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},s)},g=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{g(),o=void 0,d=null},p=()=>{u()},b=function(...v){if(l?.aborted)return;o=this,d=v;const j=h==null;m(),c&&j&&u()};return b.schedule=m,b.cancel=y,b.flush=p,l?.addEventListener("abort",y,{once:!0}),b}e.debounce=r})(yg)),yg}var H_;function kM(){return H_||(H_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=NM();function t(s,l=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:d=!0,maxWait:c}=i,a=Array(2);o&&(a[0]="leading"),d&&(a[1]="trailing");let u,f=null;const h=r.debounce(function(...y){u=s.apply(this,y),f=null},l,{edges:a}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(u=s.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,y),u)},g=()=>(h.flush(),u);return m.cancel=h.cancel,m.flush=g,m}e.debounce=t})(gg)),gg}var W_;function SM(){return W_||(W_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=kM();function t(s,l=0,i={}){const{leading:o=!0,trailing:d=!0}=i;return r.debounce(s,l,{leading:o,maxWait:l,trailing:d})}e.throttle=t})(pg)),pg}var xg,V_;function CM(){return V_||(V_=1,xg=SM().throttle),xg}var EM=CM();const AM=gi(EM);var Xf=function(r,t){for(var s=arguments.length,l=new Array(s>2?s-2:0),i=2;i<s;i++)l[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!r))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(t.replace(/%s/g,()=>l[o++]))}},bN=(e,r,t)=>{var{width:s="100%",height:l="100%",aspect:i,maxHeight:o}=t,d=Ji(s)?e:Number(s),c=Ji(l)?r:Number(l);return i&&i>0&&(d?c=d/i:c&&(d=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:d,calculatedHeight:c}},PM={width:0,height:0,overflow:"visible"},TM={width:0,overflowX:"visible"},OM={height:0,overflowY:"visible"},MM={},IM=e=>{var{width:r,height:t}=e,s=Ji(r),l=Ji(t);return s&&l?PM:s?TM:l?OM:MM};function RM(e){var{width:r,height:t,aspect:s}=e,l=r,i=t;return l===void 0&&i===void 0?(l="100%",i="100%"):l===void 0?l=s&&s>0?void 0:"100%":i===void 0&&(i=s&&s>0?void 0:"100%"),{width:l,height:i}}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ey.apply(null,arguments)}function K_(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function X_(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?K_(Object(t),!0).forEach(function(s){DM(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):K_(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function DM(e,r,t){return(r=LM(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function LM(e){var r=zM(e,"string");return typeof r=="symbol"?r:r+""}function zM(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var wN=F.createContext({width:-1,height:-1});function FM(e){return fi(e.width)&&fi(e.height)}function _N(e){var{children:r,width:t,height:s}=e,l=F.useMemo(()=>({width:t,height:s}),[t,s]);return FM(l)?F.createElement(wN.Provider,{value:l},r):null}var Yx=()=>F.useContext(wN),$M=F.forwardRef((e,r)=>{var{aspect:t,initialDimension:s={width:-1,height:-1},width:l,height:i,minWidth:o=0,minHeight:d,maxHeight:c,children:a,debounce:u=0,id:f,className:h,onResize:m,style:g={}}=e,y=F.useRef(null),p=F.useRef();p.current=m,F.useImperativeHandle(r,()=>y.current);var[b,v]=F.useState({containerWidth:s.width,containerHeight:s.height}),j=F.useCallback((z,B)=>{v(V=>{var X=Math.round(z),W=Math.round(B);return V.containerWidth===X&&V.containerHeight===W?V:{containerWidth:X,containerHeight:W}})},[]);F.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return wu;var z=W=>{var P,{width:M,height:E}=W[0].contentRect;j(M,E),(P=p.current)===null||P===void 0||P.call(p,M,E)};u>0&&(z=AM(z,u,{trailing:!0,leading:!1}));var B=new ResizeObserver(z),{width:V,height:X}=y.current.getBoundingClientRect();return j(V,X),B.observe(y.current),()=>{B.disconnect()}},[j,u]);var{containerWidth:C,containerHeight:T}=b;Xf(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:D,calculatedHeight:q}=bN(C,T,{width:l,height:i,aspect:t,maxHeight:c});return Xf(D!=null&&D>0||q!=null&&q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,q,l,i,o,d,t),F.createElement("div",{id:f?"".concat(f):void 0,className:rr("recharts-responsive-container",h),style:X_(X_({},g),{},{width:l,height:i,minWidth:o,minHeight:d,maxHeight:c}),ref:y},F.createElement("div",{style:IM({width:l,height:i})},F.createElement(_N,{width:D,height:q},a)))}),Bi=F.forwardRef((e,r)=>{var t=Yx();if(fi(t.width)&&fi(t.height))return e.children;var{width:s,height:l}=RM({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=bN(void 0,void 0,{width:s,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return ot(i)&&ot(o)?F.createElement(_N,{width:i,height:o},e.children):F.createElement($M,Ey({},e,{width:s,height:l,ref:r}))});function jN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Yh=()=>{var e,r=yn(),t=pt(_M),s=pt(Gh),l=(e=pt(Xh))===null||e===void 0?void 0:e.padding;return!r||!s||!l?t:{width:s.width-l.left-l.right,height:s.height-l.top-l.bottom,x:l.left,y:l.top}},BM={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},NN=()=>{var e;return(e=pt(en))!==null&&e!==void 0?e:BM},Zx=()=>pt(aa),Jx=()=>pt(oa),UM=()=>pt(e=>e.layout.margin),Jt=e=>e.layout.layoutType,Ya=()=>pt(Jt),qM=()=>{var e=Ya();if(e==="horizontal"||e==="vertical")return e},HM=()=>{var e=Ya();return e!==void 0},Zh=e=>{var r=vr(),t=yn(),{width:s,height:l}=e,i=Yx(),o=s,d=l;return i&&(o=i.width>0?i.width:s,d=i.height>0?i.height:l),F.useEffect(()=>{!t&&fi(o)&&fi(d)&&r(XO({width:o,height:d}))},[r,t,o,d]),null},kN=Symbol.for("immer-nothing"),G_=Symbol.for("immer-draftable"),ms=Symbol.for("immer-state");function Hs(e,...r){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ru=Object.getPrototypeOf;function Tl(e){return!!e&&!!e[ms]}function Io(e){return e?SN(e)||Array.isArray(e)||!!e[G_]||!!e.constructor?.[G_]||Su(e)||Qh(e):!1}var WM=Object.prototype.constructor.toString(),Y_=new WeakMap;function SN(e){if(!e||typeof e!="object")return!1;const r=Object.getPrototypeOf(e);if(r===null||r===Object.prototype)return!0;const t=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let s=Y_.get(t);return s===void 0&&(s=Function.toString.call(t),Y_.set(t,s)),s===WM}function Gf(e,r,t=!0){Jh(e)===0?(t?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{r(l,e[l],e)}):e.forEach((s,l)=>r(l,s,e))}function Jh(e){const r=e[ms];return r?r.type_:Array.isArray(e)?1:Su(e)?2:Qh(e)?3:0}function Ay(e,r){return Jh(e)===2?e.has(r):Object.prototype.hasOwnProperty.call(e,r)}function CN(e,r,t){const s=Jh(e);s===2?e.set(r,t):s===3?e.add(t):e[r]=t}function VM(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Su(e){return e instanceof Map}function Qh(e){return e instanceof Set}function yo(e){return e.copy_||e.base_}function Py(e,r){if(Su(e))return new Map(e);if(Qh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const t=SN(e);if(r===!0||r==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(e);delete s[ms];let l=Reflect.ownKeys(s);for(let i=0;i<l.length;i++){const o=l[i],d=s[o];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[o]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[o]})}return Object.create(ru(e),s)}else{const s=ru(e);if(s!==null&&t)return{...e};const l=Object.create(s);return Object.assign(l,e)}}function Qx(e,r=!1){return em(e)||Tl(e)||!Io(e)||(Jh(e)>1&&Object.defineProperties(e,{set:Qd,add:Qd,clear:Qd,delete:Qd}),Object.freeze(e),r&&Object.values(e).forEach(t=>Qx(t,!0))),e}function KM(){Hs(2)}var Qd={value:KM};function em(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var XM={};function Ro(e){const r=XM[e];return r||Hs(0,e),r}var nu;function EN(){return nu}function GM(e,r){return{drafts_:[],parent_:e,immer_:r,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Z_(e,r){r&&(Ro("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=r)}function Ty(e){Oy(e),e.drafts_.forEach(YM),e.drafts_=null}function Oy(e){e===nu&&(nu=e.parent_)}function J_(e){return nu=GM(nu,e)}function YM(e){const r=e[ms];r.type_===0||r.type_===1?r.revoke_():r.revoked_=!0}function Q_(e,r){r.unfinalizedDrafts_=r.drafts_.length;const t=r.drafts_[0];return e!==void 0&&e!==t?(t[ms].modified_&&(Ty(r),Hs(4)),Io(e)&&(e=Yf(r,e),r.parent_||Zf(r,e)),r.patches_&&Ro("Patches").generateReplacementPatches_(t[ms].base_,e,r.patches_,r.inversePatches_)):e=Yf(r,t,[]),Ty(r),r.patches_&&r.patchListener_(r.patches_,r.inversePatches_),e!==kN?e:void 0}function Yf(e,r,t){if(em(r))return r;const s=e.immer_.shouldUseStrictIteration(),l=r[ms];if(!l)return Gf(r,(i,o)=>ej(e,l,r,i,o,t),s),r;if(l.scope_!==e)return r;if(!l.modified_)return Zf(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const i=l.copy_;let o=i,d=!1;l.type_===3&&(o=new Set(i),i.clear(),d=!0),Gf(o,(c,a)=>ej(e,l,i,c,a,t,d),s),Zf(e,i,!1),t&&e.patches_&&Ro("Patches").generatePatches_(l,t,e.patches_,e.inversePatches_)}return l.copy_}function ej(e,r,t,s,l,i,o){if(l==null||typeof l!="object"&&!o)return;const d=em(l);if(!(d&&!o)){if(Tl(l)){const c=i&&r&&r.type_!==3&&!Ay(r.assigned_,s)?i.concat(s):void 0,a=Yf(e,l,c);if(CN(t,s,a),Tl(a))e.canAutoFreeze_=!1;else return}else o&&t.add(l);if(Io(l)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||r&&r.base_&&r.base_[s]===l&&d)return;Yf(e,l),(!r||!r.scope_.parent_)&&typeof s!="symbol"&&(Su(t)?t.has(s):Object.prototype.propertyIsEnumerable.call(t,s))&&Zf(e,l)}}}function Zf(e,r,t=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qx(r,t)}function ZM(e,r){const t=Array.isArray(e),s={type_:t?1:0,scope_:r?r.scope_:EN(),modified_:!1,finalized_:!1,assigned_:{},parent_:r,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=s,i=ev;t&&(l=[s],i=su);const{revoke:o,proxy:d}=Proxy.revocable(l,i);return s.draft_=d,s.revoke_=o,d}var ev={get(e,r){if(r===ms)return e;const t=yo(e);if(!Ay(t,r))return JM(e,t,r);const s=t[r];return e.finalized_||!Io(s)?s:s===vg(e.base_,r)?(bg(e),e.copy_[r]=Iy(s,e)):s},has(e,r){return r in yo(e)},ownKeys(e){return Reflect.ownKeys(yo(e))},set(e,r,t){const s=AN(yo(e),r);if(s?.set)return s.set.call(e.draft_,t),!0;if(!e.modified_){const l=vg(yo(e),r),i=l?.[ms];if(i&&i.base_===t)return e.copy_[r]=t,e.assigned_[r]=!1,!0;if(VM(t,l)&&(t!==void 0||Ay(e.base_,r)))return!0;bg(e),My(e)}return e.copy_[r]===t&&(t!==void 0||r in e.copy_)||Number.isNaN(t)&&Number.isNaN(e.copy_[r])||(e.copy_[r]=t,e.assigned_[r]=!0),!0},deleteProperty(e,r){return vg(e.base_,r)!==void 0||r in e.base_?(e.assigned_[r]=!1,bg(e),My(e)):delete e.assigned_[r],e.copy_&&delete e.copy_[r],!0},getOwnPropertyDescriptor(e,r){const t=yo(e),s=Reflect.getOwnPropertyDescriptor(t,r);return s&&{writable:!0,configurable:e.type_!==1||r!=="length",enumerable:s.enumerable,value:t[r]}},defineProperty(){Hs(11)},getPrototypeOf(e){return ru(e.base_)},setPrototypeOf(){Hs(12)}},su={};Gf(ev,(e,r)=>{su[e]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}});su.deleteProperty=function(e,r){return su.set.call(this,e,r,void 0)};su.set=function(e,r,t){return ev.set.call(this,e[0],r,t,e[0])};function vg(e,r){const t=e[ms];return(t?yo(t):e)[r]}function JM(e,r,t){const s=AN(r,t);return s?"value"in s?s.value:s.get?.call(e.draft_):void 0}function AN(e,r){if(!(r in e))return;let t=ru(e);for(;t;){const s=Object.getOwnPropertyDescriptor(t,r);if(s)return s;t=ru(t)}}function My(e){e.modified_||(e.modified_=!0,e.parent_&&My(e.parent_))}function bg(e){e.copy_||(e.copy_=Py(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QM=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(r,t,s)=>{if(typeof r=="function"&&typeof t!="function"){const i=t;t=r;const o=this;return function(c=i,...a){return o.produce(c,u=>t.call(this,u,...a))}}typeof t!="function"&&Hs(6),s!==void 0&&typeof s!="function"&&Hs(7);let l;if(Io(r)){const i=J_(this),o=Iy(r,void 0);let d=!0;try{l=t(o),d=!1}finally{d?Ty(i):Oy(i)}return Z_(i,s),Q_(l,i)}else if(!r||typeof r!="object"){if(l=t(r),l===void 0&&(l=r),l===kN&&(l=void 0),this.autoFreeze_&&Qx(l,!0),s){const i=[],o=[];Ro("Patches").generateReplacementPatches_(r,l,i,o),s(i,o)}return l}else Hs(1,r)},this.produceWithPatches=(r,t)=>{if(typeof r=="function")return(o,...d)=>this.produceWithPatches(o,c=>r(c,...d));let s,l;return[this.produce(r,t,(o,d)=>{s=o,l=d}),s,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Io(e)||Hs(8),Tl(e)&&(e=eI(e));const r=J_(this),t=Iy(e,void 0);return t[ms].isManual_=!0,Oy(r),t}finishDraft(e,r){const t=e&&e[ms];(!t||!t.isManual_)&&Hs(9);const{scope_:s}=t;return Z_(s,r),Q_(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let t;for(t=r.length-1;t>=0;t--){const l=r[t];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}t>-1&&(r=r.slice(t+1));const s=Ro("Patches").applyPatches_;return Tl(e)?s(e,r):this.produce(e,l=>s(l,r))}};function Iy(e,r){const t=Su(e)?Ro("MapSet").proxyMap_(e,r):Qh(e)?Ro("MapSet").proxySet_(e,r):ZM(e,r);return(r?r.scope_:EN()).drafts_.push(t),t}function eI(e){return Tl(e)||Hs(10,e),PN(e)}function PN(e){if(!Io(e)||em(e))return e;const r=e[ms];let t,s=!0;if(r){if(!r.modified_)return r.base_;r.finalized_=!0,t=Py(e,r.scope_.immer_.useStrictShallowCopy_),s=r.scope_.immer_.shouldUseStrictIteration()}else t=Py(e,!0);return Gf(t,(l,i)=>{CN(t,l,PN(i))},s),r&&(r.finalized_=!1),t}var tI=new QM;tI.produce;var rI={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TN=es({name:"legend",initialState:rI,reducers:{setLegendSize(e,r){e.size.width=r.payload.width,e.size.height=r.payload.height},setLegendSettings(e,r){e.settings.align=r.payload.align,e.settings.layout=r.payload.layout,e.settings.verticalAlign=r.payload.verticalAlign,e.settings.itemSorter=r.payload.itemSorter},addLegendPayload:{reducer(e,r){e.payload.push(r.payload)},prepare:Sr()},replaceLegendPayload:{reducer(e,r){var{prev:t,next:s}=r.payload,l=Ks(e).payload.indexOf(t);l>-1&&(e.payload[l]=s)},prepare:Sr()},removeLegendPayload:{reducer(e,r){var t=Ks(e).payload.indexOf(r.payload);t>-1&&e.payload.splice(t,1)},prepare:Sr()}}}),{setLegendSize:tj,setLegendSettings:nI,addLegendPayload:ON,replaceLegendPayload:MN,removeLegendPayload:IN}=TN.actions,sI=TN.reducer,iI=["contextPayload"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Ry.apply(null,arguments)}function rj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Ol(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rj(Object(t),!0).forEach(function(s){aI(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function aI(e,r,t){return(r=oI(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function oI(e){var r=lI(e,"string");return typeof r=="symbol"?r:r+""}function lI(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function cI(e,r){if(e==null)return{};var t,s,l=uI(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function uI(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function dI(e){return e.value}function fI(e){var{contextPayload:r}=e,t=cI(e,iI),s=O5(r,e.payloadUniqBy,dI),l=Ol(Ol({},t),{},{payload:s});return F.isValidElement(e.content)?F.cloneElement(e.content,l):typeof e.content=="function"?F.createElement(e.content,l):F.createElement(rT,l)}function hI(e,r,t,s,l,i){var{layout:o,align:d,verticalAlign:c}=r,a,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&o==="vertical"?a={left:((s||0)-i.width)/2}:a=d==="right"?{right:t&&t.right||0}:{left:t&&t.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?u={top:((l||0)-i.height)/2}:u=c==="bottom"?{bottom:t&&t.bottom||0}:{top:t&&t.top||0}),Ol(Ol({},a),u)}function mI(e){var r=vr();return F.useEffect(()=>{r(nI(e))},[r,e]),null}function pI(e){var r=vr();return F.useEffect(()=>(r(tj(e)),()=>{r(tj({width:0,height:0}))}),[r,e]),null}function gI(e,r,t,s){return e==="vertical"&&ot(r)?{height:r}:e==="horizontal"?{width:t||s}:null}var yI={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function tm(e){var r=$r(e,yI),t=YT(),s=KA(),l=UM(),{width:i,height:o,wrapperStyle:d,portal:c}=r,[a,u]=L5([t]),f=Zx(),h=Jx();if(f==null||h==null)return null;var m=f-(l?.left||0)-(l?.right||0),g=gI(r.layout,o,i,m),y=c?d:Ol(Ol({position:"absolute",width:g?.width||i||"auto",height:g?.height||o||"auto"},hI(d,r,l,f,h,a)),d),p=c??s;if(p==null||t==null)return null;var b=F.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},F.createElement(mI,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),!c&&F.createElement(pI,{width:a.width,height:a.height}),F.createElement(fI,Ry({},r,g,{margin:l,chartWidth:f,chartHeight:h,contextPayload:t})));return wx.createPortal(b,p)}tm.displayName="Legend";function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dy.apply(null,arguments)}function nj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function wg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?nj(Object(t),!0).forEach(function(s){xI(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function xI(e,r,t){return(r=vI(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function vI(e){var r=bI(e,"string");return typeof r=="symbol"?r:r+""}function bI(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function wI(e){return Array.isArray(e)&&di(e[0])&&di(e[1])?e.join(" ~ "):e}var _I=e=>{var{separator:r=" : ",contentStyle:t={},itemStyle:s={},labelStyle:l={},payload:i,formatter:o,itemSorter:d,wrapperClassName:c,labelClassName:a,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var T={padding:0,margin:0},D=(d?Dh(i,d):i).map((q,z)=>{if(q.type==="none")return null;var B=q.formatter||o||wI,{value:V,name:X}=q,W=V,P=X;if(B){var M=B(V,X,q,z,i);if(Array.isArray(M))[W,P]=M;else if(M!=null)W=M;else return null}var E=wg({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},s);return F.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:E},di(P)?F.createElement("span",{className:"recharts-tooltip-item-name"},P):null,di(P)?F.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,F.createElement("span",{className:"recharts-tooltip-item-value"},W),F.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return F.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},g=wg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),y=wg({margin:0},l),p=!Nr(u),b=p?u:"",v=rr("recharts-default-tooltip",c),j=rr("recharts-tooltip-label",a);p&&f&&i!==void 0&&i!==null&&(b=f(u,i));var C=h?{role:"status","aria-live":"assertive"}:{};return F.createElement("div",Dy({className:v,style:g},C),F.createElement("p",{className:j,style:y},F.isValidElement(b)?b:"".concat(b)),m())},Rc="recharts-tooltip-wrapper",jI={visibility:"hidden"};function NI(e){var{coordinate:r,translateX:t,translateY:s}=e;return rr(Rc,{["".concat(Rc,"-right")]:ot(t)&&r&&ot(r.x)&&t>=r.x,["".concat(Rc,"-left")]:ot(t)&&r&&ot(r.x)&&t<r.x,["".concat(Rc,"-bottom")]:ot(s)&&r&&ot(r.y)&&s>=r.y,["".concat(Rc,"-top")]:ot(s)&&r&&ot(r.y)&&s<r.y})}function sj(e){var{allowEscapeViewBox:r,coordinate:t,key:s,offsetTopLeft:l,position:i,reverseDirection:o,tooltipDimension:d,viewBox:c,viewBoxDimension:a}=e;if(i&&ot(i[s]))return i[s];var u=t[s]-d-(l>0?l:0),f=t[s]+l;if(r[s])return o[s]?u:f;var h=c[s];if(h==null)return 0;if(o[s]){var m=u,g=h;return m<g?Math.max(f,h):Math.max(u,h)}if(a==null)return 0;var y=f+d,p=h+a;return y>p?Math.max(u,h):Math.max(f,h)}function kI(e){var{translateX:r,translateY:t,useTranslate3d:s}=e;return{transform:s?"translate3d(".concat(r,"px, ").concat(t,"px, 0)"):"translate(".concat(r,"px, ").concat(t,"px)")}}function SI(e){var{allowEscapeViewBox:r,coordinate:t,offsetTopLeft:s,position:l,reverseDirection:i,tooltipBox:o,useTranslate3d:d,viewBox:c}=e,a,u,f;return o.height>0&&o.width>0&&t?(u=sj({allowEscapeViewBox:r,coordinate:t,key:"x",offsetTopLeft:s,position:l,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=sj({allowEscapeViewBox:r,coordinate:t,key:"y",offsetTopLeft:s,position:l,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),a=kI({translateX:u,translateY:f,useTranslate3d:d})):a=jI,{cssProperties:a,cssClasses:NI({translateX:u,translateY:f,coordinate:t})}}function ij(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function ef(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ij(Object(t),!0).forEach(function(s){Ly(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ij(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function Ly(e,r,t){return(r=CI(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CI(e){var r=EI(e,"string");return typeof r=="symbol"?r:r+""}function EI(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class AI extends F.PureComponent{constructor(){super(...arguments),Ly(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ly(this,"handleKeyDown",r=>{if(r.key==="Escape"){var t,s,l,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&t!==void 0?t:0,y:(l=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var r,t;this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:r,allowEscapeViewBox:t,animationDuration:s,animationEasing:l,children:i,coordinate:o,hasPayload:d,isAnimationActive:c,offset:a,position:u,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:y,innerRef:p,hasPortalFromProps:b}=this.props,{cssClasses:v,cssProperties:j}=SI({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:a,position:u,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),C=b?{}:ef(ef({transition:c&&r?"transform ".concat(s,"ms ").concat(l):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&d?"visible":"hidden",position:"absolute",top:0,left:0}),T=ef(ef({},C),{},{visibility:!this.state.dismissed&&r&&d?"visible":"hidden"},g);return F.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:T,ref:p},i)}}var RN=()=>{var e;return(e=pt(r=>r.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zy.apply(null,arguments)}function aj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function oj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?aj(Object(t),!0).forEach(function(s){PI(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):aj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function PI(e,r,t){return(r=TI(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function TI(e){var r=OI(e,"string");return typeof r=="symbol"?r:r+""}function OI(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var lj={curveBasisClosed:fP,curveBasisOpen:hP,curveBasis:dP,curveBumpX:ZA,curveBumpY:JA,curveLinearClosed:mP,curveLinear:Ih,curveMonotoneX:pP,curveMonotoneY:gP,curveNatural:yP,curveStep:xP,curveStepAfter:bP,curveStepBefore:vP},Jf=e=>gr(e.x)&&gr(e.y),cj=e=>e.base!=null&&Jf(e.base)&&Jf(e),Dc=e=>e.x,Lc=e=>e.y,MI=(e,r)=>{if(typeof e=="function")return e;var t="curve".concat(bu(e));return(t==="curveMonotone"||t==="curveBump")&&r?lj["".concat(t).concat(r==="vertical"?"Y":"X")]:lj[t]||Ih},II=e=>{var{type:r="linear",points:t=[],baseLine:s,layout:l,connectNulls:i=!1}=e,o=MI(r,l),d=i?t.filter(Jf):t,c;if(Array.isArray(s)){var a=t.map((m,g)=>oj(oj({},m),{},{base:s[g]}));l==="vertical"?c=Vd().y(Lc).x1(Dc).x0(m=>m.base.x):c=Vd().x(Dc).y1(Lc).y0(m=>m.base.y);var u=c.defined(cj).curve(o),f=i?a.filter(cj):a;return u(f)}l==="vertical"&&ot(s)?c=Vd().y(Lc).x1(Dc).x0(s):ot(s)?c=Vd().x(Dc).y1(Lc).y0(s):c=o5().x(Dc).y(Lc);var h=c.defined(Jf).curve(o);return h(d)},Cl=e=>{var{className:r,points:t,path:s,pathRef:l}=e,i=Ya();if((!t||!t.length)&&!s)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},d=t&&t.length?II(o):s;return F.createElement("path",zy({},Fn(e),$x(e),{className:rr("recharts-curve",r),d:d===null?void 0:d,ref:l}))},RI=["x","y","top","left","width","height","className"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Fy.apply(null,arguments)}function uj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function DI(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?uj(Object(t),!0).forEach(function(s){LI(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):uj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function LI(e,r,t){return(r=zI(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zI(e){var r=FI(e,"string");return typeof r=="symbol"?r:r+""}function FI(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function $I(e,r){if(e==null)return{};var t,s,l=BI(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function BI(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var UI=(e,r,t,s,l,i)=>"M".concat(e,",").concat(l,"v").concat(s,"M").concat(i,",").concat(r,"h").concat(t),qI=e=>{var{x:r=0,y:t=0,top:s=0,left:l=0,width:i=0,height:o=0,className:d}=e,c=$I(e,RI),a=DI({x:r,y:t,top:s,left:l,width:i,height:o},c);return!ot(r)||!ot(t)||!ot(i)||!ot(o)||!ot(s)||!ot(l)?null:F.createElement("path",Fy({},Mn(a),{className:rr("recharts-cross",d),d:UI(r,t,i,o,s,l)}))};function HI(e,r,t,s){var l=s/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?r.x-l:t.left+.5,y:e==="horizontal"?t.top+.5:r.y-l,width:e==="horizontal"?s:t.width-1,height:e==="horizontal"?t.height-1:s}}function dj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function fj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dj(Object(t),!0).forEach(function(s){WI(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function WI(e,r,t){return(r=VI(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function VI(e){var r=KI(e,"string");return typeof r=="symbol"?r:r+""}function KI(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var XI=e=>e.replace(/([A-Z])/g,r=>"-".concat(r.toLowerCase())),DN=(e,r,t)=>e.map(s=>"".concat(XI(s)," ").concat(r,"ms ").concat(t)).join(","),GI=(e,r)=>[Object.keys(e),Object.keys(r)].reduce((t,s)=>t.filter(l=>s.includes(l))),iu=(e,r)=>Object.keys(r).reduce((t,s)=>fj(fj({},t),{},{[s]:e(s,r[s])}),{});function hj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Qr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hj(Object(t),!0).forEach(function(s){YI(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function YI(e,r,t){return(r=ZI(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ZI(e){var r=JI(e,"string");return typeof r=="symbol"?r:r+""}function JI(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Qf=(e,r,t)=>e+(r-e)*t,$y=e=>{var{from:r,to:t}=e;return r!==t},LN=(e,r,t)=>{var s=iu((l,i)=>{if($y(i)){var[o,d]=e(i.from,i.to,i.velocity);return Qr(Qr({},i),{},{from:o,velocity:d})}return i},r);return t<1?iu((l,i)=>$y(i)&&s[l]!=null?Qr(Qr({},i),{},{velocity:Qf(i.velocity,s[l].velocity,t),from:Qf(i.from,s[l].from,t)}):i,r):LN(e,s,t-1)};function QI(e,r,t,s,l,i){var o,d=s.reduce((h,m)=>Qr(Qr({},h),{},{[m]:{from:e[m],velocity:0,to:r[m]}}),{}),c=()=>iu((h,m)=>m.from,d),a=()=>!Object.values(d).filter($y).length,u=null,f=h=>{o||(o=h);var m=h-o,g=m/t.dt;d=LN(t,d,g),l(Qr(Qr(Qr({},e),r),c())),o=h,a()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{var h;(h=u)===null||h===void 0||h()})}function eR(e,r,t,s,l,i,o){var d=null,c=l.reduce((f,h)=>{var m=e[h],g=r[h];return m==null||g==null?f:Qr(Qr({},f),{},{[h]:[m,g]})},{}),a,u=f=>{a||(a=f);var h=(f-a)/s,m=iu((y,p)=>Qf(...p,t(h)),c);if(i(Qr(Qr(Qr({},e),r),m)),h<1)d=o.setTimeout(u);else{var g=iu((y,p)=>Qf(...p,t(1)),c);i(Qr(Qr(Qr({},e),r),g))}};return()=>(d=o.setTimeout(u),()=>{var f;(f=d)===null||f===void 0||f()})}const tR=(e,r,t,s,l,i)=>{var o=GI(e,r);return t==null?()=>(l(Qr(Qr({},e),r)),()=>{}):t.isStepper===!0?QI(e,r,t,o,l,i):eR(e,r,t,s,o,l,i)};var eh=1e-4,zN=(e,r)=>[0,3*e,3*r-6*e,3*e-3*r+1],FN=(e,r)=>e.map((t,s)=>t*r**s).reduce((t,s)=>t+s),mj=(e,r)=>t=>{var s=zN(e,r);return FN(s,t)},rR=(e,r)=>t=>{var s=zN(e,r),l=[...s.map((i,o)=>i*o).slice(1),0];return FN(l,t)},nR=e=>{var r,t=e.split("(");if(t.length!==2||t[0]!=="cubic-bezier")return null;var s=(r=t[1])===null||r===void 0||(r=r.split(")")[0])===null||r===void 0?void 0:r.split(",");if(s==null||s.length!==4)return null;var l=s.map(i=>parseFloat(i));return[l[0],l[1],l[2],l[3]]},sR=function(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l=nR(t[0]);if(l)return l}}return t.length===4?t:[0,0,1,1]},iR=(e,r,t,s)=>{var l=mj(e,t),i=mj(r,s),o=rR(e,t),d=a=>a>1?1:a<0?0:a,c=a=>{for(var u=a>1?1:a,f=u,h=0;h<8;++h){var m=l(f)-u,g=o(f);if(Math.abs(m-u)<eh||g<eh)return i(f);f=d(f-m/g)}return i(f)};return c.isStepper=!1,c},pj=function(){return iR(...sR(...arguments))},aR=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:s=8,dt:l=17}=r,i=(o,d,c)=>{var a=-(o-d)*t,u=c*s,f=c+(a-u)*l/1e3,h=c*l/1e3+o;return Math.abs(h-d)<eh&&Math.abs(f)<eh?[d,0]:[h,f]};return i.isStepper=!0,i.dt=l,i},oR=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pj(e);case"spring":return aR();default:if(e.split("(")[0]==="cubic-bezier")return pj(e)}return typeof e=="function"?e:null};function lR(e){var r,t=()=>null,s=!1,l=null,i=o=>{if(!s){if(Array.isArray(o)){if(!o.length)return;var d=o,[c,...a]=d;if(typeof c=="number"){l=e.setTimeout(i.bind(null,a),c);return}i(c),l=e.setTimeout(i.bind(null,a));return}typeof o=="string"&&(r=o,t(r)),typeof o=="object"&&(r=o,t(r)),typeof o=="function"&&o()}};return{stop:()=>{s=!0},start:o=>{s=!1,l&&(l(),l=null),i(o)},subscribe:o=>(t=o,()=>{t=()=>null}),getTimeoutController:()=>e}}class cR{setTimeout(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=performance.now(),l=null,i=o=>{o-s>=t?r(o):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(i))};return l=requestAnimationFrame(i),()=>{l!=null&&cancelAnimationFrame(l)}}}function uR(){return lR(new cR)}var dR=F.createContext(uR);function fR(e,r){var t=F.useContext(dR);return F.useMemo(()=>r??t(e),[e,r,t])}var hR=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cu={isSsr:hR()},mR={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},gj={t:0},_g={t:1};function Hl(e){var r=$r(e,mR),{isActive:t,canBegin:s,duration:l,easing:i,begin:o,onAnimationEnd:d,onAnimationStart:c,children:a}=r,u=t==="auto"?!Cu.isSsr:t,f=fR(r.animationId,r.animationManager),[h,m]=F.useState(u?gj:_g),g=F.useRef(null);return F.useEffect(()=>{u||m(_g)},[u]),F.useEffect(()=>{if(!u||!s)return wu;var y=tR(gj,_g,oR(i),l,m,f.getTimeoutController()),p=()=>{g.current=y()};return f.start([c,o,p,l,d]),()=>{f.stop(),g.current&&g.current(),d()}},[u,s,l,i,o,c,d,f]),a(h.t)}function Wl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=F.useRef(Jc(r)),s=F.useRef(e);return s.current!==e&&(t.current=Jc(r),s.current=e),t.current}var pR=["radius"],gR=["radius"],yj,xj,vj,bj,wj,_j,jj,Nj,kj,Sj;function Cj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Ej(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cj(Object(t),!0).forEach(function(s){yR(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function yR(e,r,t){return(r=xR(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function xR(e){var r=vR(e,"string");return typeof r=="symbol"?r:r+""}function vR(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},th.apply(null,arguments)}function Aj(e,r){if(e==null)return{};var t,s,l=bR(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function bR(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function si(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var Pj=(e,r,t,s,l)=>{var i=za(t),o=za(s),d=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,a=i>=0?1:-1,u=o>=0&&i>=0||o<0&&i<0?1:0,f;if(d>0&&l instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=l[m]>d?d:l[m];f=Rr(yj||(yj=si(["M",",",""])),e,r+c*h[0]),h[0]>0&&(f+=Rr(xj||(xj=si(["A ",",",",0,0,",",",",",""])),h[0],h[0],u,e+a*h[0],r)),f+=Rr(vj||(vj=si(["L ",",",""])),e+t-a*h[1],r),h[1]>0&&(f+=Rr(bj||(bj=si(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],u,e+t,r+c*h[1])),f+=Rr(wj||(wj=si(["L ",",",""])),e+t,r+s-c*h[2]),h[2]>0&&(f+=Rr(_j||(_j=si(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],u,e+t-a*h[2],r+s)),f+=Rr(jj||(jj=si(["L ",",",""])),e+a*h[3],r+s),h[3]>0&&(f+=Rr(Nj||(Nj=si(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],u,e,r+s-c*h[3])),f+="Z"}else if(d>0&&l===+l&&l>0){var y=Math.min(d,l);f=Rr(kj||(kj=si(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,r+c*y,y,y,u,e+a*y,r,e+t-a*y,r,y,y,u,e+t,r+c*y,e+t,r+s-c*y,y,y,u,e+t-a*y,r+s,e+a*y,r+s,y,y,u,e,r+s-c*y)}else f=Rr(Sj||(Sj=si(["M ",","," h "," v "," h "," Z"])),e,r,t,s,-t);return f},Tj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$N=e=>{var r=$r(e,Tj),t=F.useRef(null),[s,l]=F.useState(-1);F.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var k=t.current.getTotalLength();k&&l(k)}catch{}},[]);var{x:i,y:o,width:d,height:c,radius:a,className:u}=r,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:y}=r,p=F.useRef(d),b=F.useRef(c),v=F.useRef(i),j=F.useRef(o),C=F.useMemo(()=>({x:i,y:o,width:d,height:c,radius:a}),[i,o,d,c,a]),T=Wl(C,"rectangle-");if(i!==+i||o!==+o||d!==+d||c!==+c||d===0||c===0)return null;var D=rr("recharts-rectangle",u);if(!y){var q=Mn(r),{radius:z}=q,B=Aj(q,pR);return F.createElement("path",th({},B,{x:za(i),y:za(o),width:za(d),height:za(c),radius:typeof a=="number"?a:void 0,className:D,d:Pj(i,o,d,c,a)}))}var V=p.current,X=b.current,W=v.current,P=j.current,M="0px ".concat(s===-1?1:s,"px"),E="".concat(s,"px 0px"),_=DN(["strokeDasharray"],h,typeof f=="string"?f:Tj.animationEasing);return F.createElement(Hl,{animationId:T,key:T,canBegin:s>0,duration:h,easing:f,isActive:y,begin:m},k=>{var N=ur(V,d,k),S=ur(X,c,k),O=ur(W,i,k),L=ur(P,o,k);t.current&&(p.current=N,b.current=S,v.current=O,j.current=L);var I;g?k>0?I={transition:_,strokeDasharray:E}:I={strokeDasharray:M}:I={strokeDasharray:E};var G=Mn(r),{radius:Y}=G,te=Aj(G,gR);return F.createElement("path",th({},te,{radius:typeof a=="number"?a:void 0,className:D,d:Pj(O,L,N,S,a),ref:t,style:Ej(Ej({},I),r.style)}))})};function Oj(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Mj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Oj(Object(t),!0).forEach(function(s){wR(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oj(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function wR(e,r,t){return(r=_R(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _R(e){var r=jR(e,"string");return typeof r=="symbol"?r:r+""}function jR(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rh=Math.PI/180,NR=e=>e*180/Math.PI,Kr=(e,r,t,s)=>({x:e+Math.cos(-rh*s)*t,y:r+Math.sin(-rh*s)*t}),BN=function(r,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(t-(s.top||0)-(s.bottom||0)))/2},kR=(e,r)=>{var{x:t,y:s}=e,{x:l,y:i}=r;return Math.sqrt((t-l)**2+(s-i)**2)},SR=(e,r)=>{var{x:t,y:s}=e,{cx:l,cy:i}=r,o=kR({x:t,y:s},{x:l,y:i});if(o<=0)return{radius:o,angle:0};var d=(t-l)/o,c=Math.acos(d);return s>i&&(c=2*Math.PI-c),{radius:o,angle:NR(c),angleInRadian:c}},CR=e=>{var{startAngle:r,endAngle:t}=e,s=Math.floor(r/360),l=Math.floor(t/360),i=Math.min(s,l);return{startAngle:r-i*360,endAngle:t-i*360}},ER=(e,r)=>{var{startAngle:t,endAngle:s}=r,l=Math.floor(t/360),i=Math.floor(s/360),o=Math.min(l,i);return e+o*360},AR=(e,r)=>{var{chartX:t,chartY:s}=e,{radius:l,angle:i}=SR({x:t,y:s},r),{innerRadius:o,outerRadius:d}=r;if(l<o||l>d||l===0)return null;var{startAngle:c,endAngle:a}=CR(r),u=i,f;if(c<=a){for(;u>a;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=a}else{for(;u>c;)u-=360;for(;u<a;)u+=360;f=u>=a&&u<=c}return f?Mj(Mj({},r),{},{radius:l,angle:ER(u,r)}):null};function UN(e){var{cx:r,cy:t,radius:s,startAngle:l,endAngle:i}=e,o=Kr(r,t,s,l),d=Kr(r,t,s,i);return{points:[o,d],cx:r,cy:t,radius:s,startAngle:l,endAngle:i}}var Ij,Rj,Dj,Lj,zj,Fj,$j;function By(){return By=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},By.apply(null,arguments)}function bo(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var PR=(e,r)=>{var t=hn(r-e),s=Math.min(Math.abs(r-e),359.999);return t*s},tf=e=>{var{cx:r,cy:t,radius:s,angle:l,sign:i,isExternal:o,cornerRadius:d,cornerIsExternal:c}=e,a=d*(o?1:-1)+s,u=Math.asin(d/a)/rh,f=c?l:l+i*u,h=Kr(r,t,a,f),m=Kr(r,t,s,f),g=c?l-i*u:l,y=Kr(r,t,a*Math.cos(u*rh),g);return{center:h,circleTangency:m,lineTangency:y,theta:u}},qN=e=>{var{cx:r,cy:t,innerRadius:s,outerRadius:l,startAngle:i,endAngle:o}=e,d=PR(i,o),c=i+d,a=Kr(r,t,l,i),u=Kr(r,t,l,c),f=Rr(Ij||(Ij=bo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),a.x,a.y,l,l,+(Math.abs(d)>180),+(i>c),u.x,u.y);if(s>0){var h=Kr(r,t,s,i),m=Kr(r,t,s,c);f+=Rr(Rj||(Rj=bo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,s,s,+(Math.abs(d)>180),+(i<=c),h.x,h.y)}else f+=Rr(Dj||(Dj=bo(["L ",","," Z"])),r,t);return f},TR=e=>{var{cx:r,cy:t,innerRadius:s,outerRadius:l,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:d,startAngle:c,endAngle:a}=e,u=hn(a-c),{circleTangency:f,lineTangency:h,theta:m}=tf({cx:r,cy:t,radius:l,angle:c,sign:u,cornerRadius:i,cornerIsExternal:d}),{circleTangency:g,lineTangency:y,theta:p}=tf({cx:r,cy:t,radius:l,angle:a,sign:-u,cornerRadius:i,cornerIsExternal:d}),b=d?Math.abs(c-a):Math.abs(c-a)-m-p;if(b<0)return o?Rr(Lj||(Lj=bo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):qN({cx:r,cy:t,innerRadius:s,outerRadius:l,startAngle:c,endAngle:a});var v=Rr(zj||(zj=bo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(u<0),f.x,f.y,l,l,+(b>180),+(u<0),g.x,g.y,i,i,+(u<0),y.x,y.y);if(s>0){var{circleTangency:j,lineTangency:C,theta:T}=tf({cx:r,cy:t,radius:s,angle:c,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),{circleTangency:D,lineTangency:q,theta:z}=tf({cx:r,cy:t,radius:s,angle:a,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:d}),B=d?Math.abs(c-a):Math.abs(c-a)-T-z;if(B<0&&i===0)return"".concat(v,"L").concat(r,",").concat(t,"Z");v+=Rr(Fj||(Fj=bo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),q.x,q.y,i,i,+(u<0),D.x,D.y,s,s,+(B>180),+(u>0),j.x,j.y,i,i,+(u<0),C.x,C.y)}else v+=Rr($j||($j=bo(["L",",","Z"])),r,t);return v},OR={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HN=e=>{var r=$r(e,OR),{cx:t,cy:s,innerRadius:l,outerRadius:i,cornerRadius:o,forceCornerRadius:d,cornerIsExternal:c,startAngle:a,endAngle:u,className:f}=r;if(i<l||a===u)return null;var h=rr("recharts-sector",f),m=i-l,g=On(o,m,0,!0),y;return g>0&&Math.abs(a-u)<360?y=TR({cx:t,cy:s,innerRadius:l,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:d,cornerIsExternal:c,startAngle:a,endAngle:u}):y=qN({cx:t,cy:s,innerRadius:l,outerRadius:i,startAngle:a,endAngle:u}),F.createElement("path",By({},Mn(r),{className:h,d:y}))};function MR(e,r,t){if(e==="horizontal")return[{x:r.x,y:t.top},{x:r.x,y:t.top+t.height}];if(e==="vertical")return[{x:t.left,y:r.y},{x:t.left+t.width,y:r.y}];if(_5(r)){if(e==="centric"){var{cx:s,cy:l,innerRadius:i,outerRadius:o,angle:d}=r,c=Kr(s,l,i,d),a=Kr(s,l,o,d);return[{x:c.x,y:c.y},{x:a.x,y:a.y}]}return UN(r)}}var jg={},Ng={},kg={},Bj;function IR(){return Bj||(Bj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=I5();function t(s){return r.isSymbol(s)?NaN:Number(s)}e.toNumber=t})(kg)),kg}var Uj;function RR(){return Uj||(Uj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=IR();function t(s){return s?(s=r.toNumber(s),s===1/0||s===-1/0?(s<0?-1:1)*Number.MAX_VALUE:s===s?s:0):s===0?s:0}e.toFinite=t})(Ng)),Ng}var qj;function DR(){return qj||(qj=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=R5(),t=RR();function s(l,i,o){o&&typeof o!="number"&&r.isIterateeCall(l,i,o)&&(i=o=void 0),l=t.toFinite(l),i===void 0?(i=l,l=0):i=t.toFinite(i),o=o===void 0?l<i?1:-1:t.toFinite(o);const d=Math.max(Math.ceil((i-l)/(o||1)),0),c=new Array(d);for(let a=0;a<d;a++)c[a]=l,l+=o;return c}e.range=s})(jg)),jg}var Sg,Hj;function LR(){return Hj||(Hj=1,Sg=DR().range),Sg}var zR=LR();const WN=gi(zR);function $a(e,r){return e==null||r==null?NaN:e<r?-1:e>r?1:e>=r?0:NaN}function FR(e,r){return e==null||r==null?NaN:r<e?-1:r>e?1:r>=e?0:NaN}function tv(e){let r,t,s;e.length!==2?(r=$a,t=(d,c)=>$a(e(d),c),s=(d,c)=>e(d)-c):(r=e===$a||e===FR?e:$R,t=e,s=e);function l(d,c,a=0,u=d.length){if(a<u){if(r(c,c)!==0)return u;do{const f=a+u>>>1;t(d[f],c)<0?a=f+1:u=f}while(a<u)}return a}function i(d,c,a=0,u=d.length){if(a<u){if(r(c,c)!==0)return u;do{const f=a+u>>>1;t(d[f],c)<=0?a=f+1:u=f}while(a<u)}return a}function o(d,c,a=0,u=d.length){const f=l(d,c,a,u-1);return f>a&&s(d[f-1],c)>-s(d[f],c)?f-1:f}return{left:l,center:o,right:i}}function $R(){return 0}function VN(e){return e===null?NaN:+e}function*BR(e,r){for(let t of e)t!=null&&(t=+t)>=t&&(yield t)}const UR=tv($a),Eu=UR.right;tv(VN).center;class Wj extends Map{constructor(r,t=WR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),r!=null)for(const[s,l]of r)this.set(s,l)}get(r){return super.get(Vj(this,r))}has(r){return super.has(Vj(this,r))}set(r,t){return super.set(qR(this,r),t)}delete(r){return super.delete(HR(this,r))}}function Vj({_intern:e,_key:r},t){const s=r(t);return e.has(s)?e.get(s):t}function qR({_intern:e,_key:r},t){const s=r(t);return e.has(s)?e.get(s):(e.set(s,t),t)}function HR({_intern:e,_key:r},t){const s=r(t);return e.has(s)&&(t=e.get(s),e.delete(s)),t}function WR(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VR(e=$a){if(e===$a)return KN;if(typeof e!="function")throw new TypeError("compare is not a function");return(r,t)=>{const s=e(r,t);return s||s===0?s:(e(t,t)===0)-(e(r,r)===0)}}function KN(e,r){return(e==null||!(e>=e))-(r==null||!(r>=r))||(e<r?-1:e>r?1:0)}const KR=Math.sqrt(50),XR=Math.sqrt(10),GR=Math.sqrt(2);function nh(e,r,t){const s=(r-e)/Math.max(0,t),l=Math.floor(Math.log10(s)),i=s/Math.pow(10,l),o=i>=KR?10:i>=XR?5:i>=GR?2:1;let d,c,a;return l<0?(a=Math.pow(10,-l)/o,d=Math.round(e*a),c=Math.round(r*a),d/a<e&&++d,c/a>r&&--c,a=-a):(a=Math.pow(10,l)*o,d=Math.round(e/a),c=Math.round(r/a),d*a<e&&++d,c*a>r&&--c),c<d&&.5<=t&&t<2?nh(e,r,t*2):[d,c,a]}function Uy(e,r,t){if(r=+r,e=+e,t=+t,!(t>0))return[];if(e===r)return[e];const s=r<e,[l,i,o]=s?nh(r,e,t):nh(e,r,t);if(!(i>=l))return[];const d=i-l+1,c=new Array(d);if(s)if(o<0)for(let a=0;a<d;++a)c[a]=(i-a)/-o;else for(let a=0;a<d;++a)c[a]=(i-a)*o;else if(o<0)for(let a=0;a<d;++a)c[a]=(l+a)/-o;else for(let a=0;a<d;++a)c[a]=(l+a)*o;return c}function qy(e,r,t){return r=+r,e=+e,t=+t,nh(e,r,t)[2]}function Hy(e,r,t){r=+r,e=+e,t=+t;const s=r<e,l=s?qy(r,e,t):qy(e,r,t);return(s?-1:1)*(l<0?1/-l:l)}function Kj(e,r){let t;for(const s of e)s!=null&&(t<s||t===void 0&&s>=s)&&(t=s);return t}function Xj(e,r){let t;for(const s of e)s!=null&&(t>s||t===void 0&&s>=s)&&(t=s);return t}function XN(e,r,t=0,s=1/0,l){if(r=Math.floor(r),t=Math.floor(Math.max(0,t)),s=Math.floor(Math.min(e.length-1,s)),!(t<=r&&r<=s))return e;for(l=l===void 0?KN:VR(l);s>t;){if(s-t>600){const c=s-t+1,a=r-t+1,u=Math.log(c),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(c-f)/c)*(a-c/2<0?-1:1),m=Math.max(t,Math.floor(r-a*f/c+h)),g=Math.min(s,Math.floor(r+(c-a)*f/c+h));XN(e,r,m,g,l)}const i=e[r];let o=t,d=s;for(zc(e,t,r),l(e[s],i)>0&&zc(e,t,s);o<d;){for(zc(e,o,d),++o,--d;l(e[o],i)<0;)++o;for(;l(e[d],i)>0;)--d}l(e[t],i)===0?zc(e,t,d):(++d,zc(e,d,s)),d<=r&&(t=d+1),r<=d&&(s=d-1)}return e}function zc(e,r,t){const s=e[r];e[r]=e[t],e[t]=s}function YR(e,r,t){if(e=Float64Array.from(BR(e)),!(!(s=e.length)||isNaN(r=+r))){if(r<=0||s<2)return Xj(e);if(r>=1)return Kj(e);var s,l=(s-1)*r,i=Math.floor(l),o=Kj(XN(e,i).subarray(0,i+1)),d=Xj(e.subarray(i+1));return o+(d-o)*(l-i)}}function ZR(e,r,t=VN){if(!(!(s=e.length)||isNaN(r=+r))){if(r<=0||s<2)return+t(e[0],0,e);if(r>=1)return+t(e[s-1],s-1,e);var s,l=(s-1)*r,i=Math.floor(l),o=+t(e[i],i,e),d=+t(e[i+1],i+1,e);return o+(d-o)*(l-i)}}function JR(e,r,t){e=+e,r=+r,t=(l=arguments.length)<2?(r=e,e=0,1):l<3?1:+t;for(var s=-1,l=Math.max(0,Math.ceil((r-e)/t))|0,i=new Array(l);++s<l;)i[s]=e+s*t;return i}function Ms(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function la(e,r){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const Wy=Symbol("implicit");function rv(){var e=new Wj,r=[],t=[],s=Wy;function l(i){let o=e.get(i);if(o===void 0){if(s!==Wy)return s;e.set(i,o=r.push(i)-1)}return t[o%t.length]}return l.domain=function(i){if(!arguments.length)return r.slice();r=[],e=new Wj;for(const o of i)e.has(o)||e.set(o,r.push(o)-1);return l},l.range=function(i){return arguments.length?(t=Array.from(i),l):t.slice()},l.unknown=function(i){return arguments.length?(s=i,l):s},l.copy=function(){return rv(r,t).unknown(s)},Ms.apply(l,arguments),l}function nv(){var e=rv().unknown(void 0),r=e.domain,t=e.range,s=0,l=1,i,o,d=!1,c=0,a=0,u=.5;delete e.unknown;function f(){var h=r().length,m=l<s,g=m?l:s,y=m?s:l;i=(y-g)/Math.max(1,h-c+a*2),d&&(i=Math.floor(i)),g+=(y-g-i*(h-c))*u,o=i*(1-c),d&&(g=Math.round(g),o=Math.round(o));var p=JR(h).map(function(b){return g+i*b});return t(m?p.reverse():p)}return e.domain=function(h){return arguments.length?(r(h),f()):r()},e.range=function(h){return arguments.length?([s,l]=h,s=+s,l=+l,f()):[s,l]},e.rangeRound=function(h){return[s,l]=h,s=+s,l=+l,d=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(d=!!h,f()):d},e.padding=function(h){return arguments.length?(c=Math.min(1,a=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(a=+h,f()):a},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return nv(r(),[s,l]).round(d).paddingInner(c).paddingOuter(a).align(u)},Ms.apply(f(),arguments)}function GN(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GN(r())},e}function QR(){return GN(nv.apply(null,arguments).paddingInner(1))}function sv(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function YN(e,r){var t=Object.create(e.prototype);for(var s in r)t[s]=r[s];return t}function Au(){}var au=.7,sh=1/au,El="\\s*([+-]?\\d+)\\s*",ou="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eD=/^#([0-9a-f]{3,8})$/,tD=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),rD=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),nD=new RegExp(`^rgba\\(${El},${El},${El},${ou}\\)$`),sD=new RegExp(`^rgba\\(${ci},${ci},${ci},${ou}\\)$`),iD=new RegExp(`^hsl\\(${ou},${ci},${ci}\\)$`),aD=new RegExp(`^hsla\\(${ou},${ci},${ci},${ou}\\)$`),Gj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sv(Au,lu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yj,formatHex:Yj,formatHex8:oD,formatHsl:lD,formatRgb:Zj,toString:Zj});function Yj(){return this.rgb().formatHex()}function oD(){return this.rgb().formatHex8()}function lD(){return ZN(this).formatHsl()}function Zj(){return this.rgb().formatRgb()}function lu(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=eD.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?Jj(r):t===3?new Zn(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?rf(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?rf(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=tD.exec(e))?new Zn(r[1],r[2],r[3],1):(r=rD.exec(e))?new Zn(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=nD.exec(e))?rf(r[1],r[2],r[3],r[4]):(r=sD.exec(e))?rf(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=iD.exec(e))?t4(r[1],r[2]/100,r[3]/100,1):(r=aD.exec(e))?t4(r[1],r[2]/100,r[3]/100,r[4]):Gj.hasOwnProperty(e)?Jj(Gj[e]):e==="transparent"?new Zn(NaN,NaN,NaN,0):null}function Jj(e){return new Zn(e>>16&255,e>>8&255,e&255,1)}function rf(e,r,t,s){return s<=0&&(e=r=t=NaN),new Zn(e,r,t,s)}function cD(e){return e instanceof Au||(e=lu(e)),e?(e=e.rgb(),new Zn(e.r,e.g,e.b,e.opacity)):new Zn}function Vy(e,r,t,s){return arguments.length===1?cD(e):new Zn(e,r,t,s??1)}function Zn(e,r,t,s){this.r=+e,this.g=+r,this.b=+t,this.opacity=+s}sv(Zn,Vy,YN(Au,{brighter(e){return e=e==null?sh:Math.pow(sh,e),new Zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?au:Math.pow(au,e),new Zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zn(ko(this.r),ko(this.g),ko(this.b),ih(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qj,formatHex:Qj,formatHex8:uD,formatRgb:e4,toString:e4}));function Qj(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}`}function uD(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}${wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function e4(){const e=ih(this.opacity);return`${e===1?"rgb(":"rgba("}${ko(this.r)}, ${ko(this.g)}, ${ko(this.b)}${e===1?")":`, ${e})`}`}function ih(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ko(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wo(e){return e=ko(e),(e<16?"0":"")+e.toString(16)}function t4(e,r,t,s){return s<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new Ws(e,r,t,s)}function ZN(e){if(e instanceof Ws)return new Ws(e.h,e.s,e.l,e.opacity);if(e instanceof Au||(e=lu(e)),!e)return new Ws;if(e instanceof Ws)return e;e=e.rgb();var r=e.r/255,t=e.g/255,s=e.b/255,l=Math.min(r,t,s),i=Math.max(r,t,s),o=NaN,d=i-l,c=(i+l)/2;return d?(r===i?o=(t-s)/d+(t<s)*6:t===i?o=(s-r)/d+2:o=(r-t)/d+4,d/=c<.5?i+l:2-i-l,o*=60):d=c>0&&c<1?0:o,new Ws(o,d,c,e.opacity)}function dD(e,r,t,s){return arguments.length===1?ZN(e):new Ws(e,r,t,s??1)}function Ws(e,r,t,s){this.h=+e,this.s=+r,this.l=+t,this.opacity=+s}sv(Ws,dD,YN(Au,{brighter(e){return e=e==null?sh:Math.pow(sh,e),new Ws(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?au:Math.pow(au,e),new Ws(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,s=t+(t<.5?t:1-t)*r,l=2*t-s;return new Zn(Cg(e>=240?e-240:e+120,l,s),Cg(e,l,s),Cg(e<120?e+240:e-120,l,s),this.opacity)},clamp(){return new Ws(r4(this.h),nf(this.s),nf(this.l),ih(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ih(this.opacity);return`${e===1?"hsl(":"hsla("}${r4(this.h)}, ${nf(this.s)*100}%, ${nf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function r4(e){return e=(e||0)%360,e<0?e+360:e}function nf(e){return Math.max(0,Math.min(1,e||0))}function Cg(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}const iv=e=>()=>e;function fD(e,r){return function(t){return e+t*r}}function hD(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(s){return Math.pow(e+s*r,t)}}function mD(e){return(e=+e)==1?JN:function(r,t){return t-r?hD(r,t,e):iv(isNaN(r)?t:r)}}function JN(e,r){var t=r-e;return t?fD(e,t):iv(isNaN(e)?r:e)}const n4=(function e(r){var t=mD(r);function s(l,i){var o=t((l=Vy(l)).r,(i=Vy(i)).r),d=t(l.g,i.g),c=t(l.b,i.b),a=JN(l.opacity,i.opacity);return function(u){return l.r=o(u),l.g=d(u),l.b=c(u),l.opacity=a(u),l+""}}return s.gamma=e,s})(1);function pD(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,s=r.slice(),l;return function(i){for(l=0;l<t;++l)s[l]=e[l]*(1-i)+r[l]*i;return s}}function gD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function yD(e,r){var t=r?r.length:0,s=e?Math.min(t,e.length):0,l=new Array(s),i=new Array(t),o;for(o=0;o<s;++o)l[o]=Vl(e[o],r[o]);for(;o<t;++o)i[o]=r[o];return function(d){for(o=0;o<s;++o)i[o]=l[o](d);return i}}function xD(e,r){var t=new Date;return e=+e,r=+r,function(s){return t.setTime(e*(1-s)+r*s),t}}function ah(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function vD(e,r){var t={},s={},l;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(l in r)l in e?t[l]=Vl(e[l],r[l]):s[l]=r[l];return function(i){for(l in t)s[l]=t[l](i);return s}}var Ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Eg=new RegExp(Ky.source,"g");function bD(e){return function(){return e}}function wD(e){return function(r){return e(r)+""}}function _D(e,r){var t=Ky.lastIndex=Eg.lastIndex=0,s,l,i,o=-1,d=[],c=[];for(e=e+"",r=r+"";(s=Ky.exec(e))&&(l=Eg.exec(r));)(i=l.index)>t&&(i=r.slice(t,i),d[o]?d[o]+=i:d[++o]=i),(s=s[0])===(l=l[0])?d[o]?d[o]+=l:d[++o]=l:(d[++o]=null,c.push({i:o,x:ah(s,l)})),t=Eg.lastIndex;return t<r.length&&(i=r.slice(t),d[o]?d[o]+=i:d[++o]=i),d.length<2?c[0]?wD(c[0].x):bD(r):(r=c.length,function(a){for(var u=0,f;u<r;++u)d[(f=c[u]).i]=f.x(a);return d.join("")})}function Vl(e,r){var t=typeof r,s;return r==null||t==="boolean"?iv(r):(t==="number"?ah:t==="string"?(s=lu(r))?(r=s,n4):_D:r instanceof lu?n4:r instanceof Date?xD:gD(r)?pD:Array.isArray(r)?yD:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?vD:ah)(e,r)}function av(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}function jD(e,r){r===void 0&&(r=e,e=Vl);for(var t=0,s=r.length-1,l=r[0],i=new Array(s<0?0:s);t<s;)i[t]=e(l,l=r[++t]);return function(o){var d=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[d](o-d)}}function ND(e){return function(){return e}}function oh(e){return+e}var s4=[0,1];function zn(e){return e}function Xy(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:ND(isNaN(r)?NaN:.5)}function kD(e,r){var t;return e>r&&(t=e,e=r,r=t),function(s){return Math.max(e,Math.min(r,s))}}function SD(e,r,t){var s=e[0],l=e[1],i=r[0],o=r[1];return l<s?(s=Xy(l,s),i=t(o,i)):(s=Xy(s,l),i=t(i,o)),function(d){return i(s(d))}}function CD(e,r,t){var s=Math.min(e.length,r.length)-1,l=new Array(s),i=new Array(s),o=-1;for(e[s]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<s;)l[o]=Xy(e[o],e[o+1]),i[o]=t(r[o],r[o+1]);return function(d){var c=Eu(e,d,1,s)-1;return i[c](l[c](d))}}function Pu(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rm(){var e=s4,r=s4,t=Vl,s,l,i,o=zn,d,c,a;function u(){var h=Math.min(e.length,r.length);return o!==zn&&(o=kD(e[0],e[h-1])),d=h>2?CD:SD,c=a=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=d(e.map(s),r,t)))(s(o(h)))}return f.invert=function(h){return o(l((a||(a=d(r,e.map(s),ah)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,oh),u()):e.slice()},f.range=function(h){return arguments.length?(r=Array.from(h),u()):r.slice()},f.rangeRound=function(h){return r=Array.from(h),t=av,u()},f.clamp=function(h){return arguments.length?(o=h?!0:zn,u()):o!==zn},f.interpolate=function(h){return arguments.length?(t=h,u()):t},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return s=h,l=m,u()}}function ov(){return rm()(zn,zn)}function ED(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lh(e,r){if(!isFinite(e)||e===0)return null;var t=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"),s=e.slice(0,t);return[s.length>1?s[0]+s.slice(2):s,+e.slice(t+1)]}function Ml(e){return e=lh(Math.abs(e)),e?e[1]:NaN}function AD(e,r){return function(t,s){for(var l=t.length,i=[],o=0,d=e[0],c=0;l>0&&d>0&&(c+d+1>s&&(d=Math.max(1,s-c)),i.push(t.substring(l-=d,l+d)),!((c+=d+1)>s));)d=e[o=(o+1)%e.length];return i.reverse().join(r)}}function PD(e){return function(r){return r.replace(/[0-9]/g,function(t){return e[+t]})}}var TD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cu(e){if(!(r=TD.exec(e)))throw new Error("invalid format: "+e);var r;return new lv({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}cu.prototype=lv.prototype;function lv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OD(e){e:for(var r=e.length,t=1,s=-1,l;t<r;++t)switch(e[t]){case".":s=l=t;break;case"0":s===0&&(s=t),l=t;break;default:if(!+e[t])break e;s>0&&(s=0);break}return s>0?e.slice(0,s)+e.slice(l+1):e}var ch;function MD(e,r){var t=lh(e,r);if(!t)return ch=void 0,e.toPrecision(r);var s=t[0],l=t[1],i=l-(ch=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+lh(e,Math.max(0,r+i-1))[0]}function i4(e,r){var t=lh(e,r);if(!t)return e+"";var s=t[0],l=t[1];return l<0?"0."+new Array(-l).join("0")+s:s.length>l+1?s.slice(0,l+1)+"."+s.slice(l+1):s+new Array(l-s.length+2).join("0")}const a4={"%":(e,r)=>(e*100).toFixed(r),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ED,e:(e,r)=>e.toExponential(r),f:(e,r)=>e.toFixed(r),g:(e,r)=>e.toPrecision(r),o:e=>Math.round(e).toString(8),p:(e,r)=>i4(e*100,r),r:i4,s:MD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function o4(e){return e}var l4=Array.prototype.map,c4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ID(e){var r=e.grouping===void 0||e.thousands===void 0?o4:AD(l4.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",s=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?o4:PD(l4.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function a(f,h){f=cu(f);var m=f.fill,g=f.align,y=f.sign,p=f.symbol,b=f.zero,v=f.width,j=f.comma,C=f.precision,T=f.trim,D=f.type;D==="n"?(j=!0,D="g"):a4[D]||(C===void 0&&(C=12),T=!0,D="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var q=(h?.prefix!==void 0?h.prefix:"")+(p==="$"?t:p==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),z=(p==="$"?s:/[%p]/.test(D)?o:"")+(h?.suffix!==void 0?h.suffix:""),B=a4[D],V=/[defgprs%]/.test(D);C=C===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function X(W){var P=q,M=z,E,_,k;if(D==="c")M=B(W)+M,W="";else{W=+W;var N=W<0||1/W<0;if(W=isNaN(W)?c:B(Math.abs(W),C),T&&(W=OD(W)),N&&+W==0&&y!=="+"&&(N=!1),P=(N?y==="("?y:d:y==="-"||y==="("?"":y)+P,M=(D==="s"&&!isNaN(W)&&ch!==void 0?c4[8+ch/3]:"")+M+(N&&y==="("?")":""),V){for(E=-1,_=W.length;++E<_;)if(k=W.charCodeAt(E),48>k||k>57){M=(k===46?l+W.slice(E+1):W.slice(E))+M,W=W.slice(0,E);break}}}j&&!b&&(W=r(W,1/0));var S=P.length+W.length+M.length,O=S<v?new Array(v-S+1).join(m):"";switch(j&&b&&(W=r(O+W,O.length?v-M.length:1/0),O=""),g){case"<":W=P+W+M+O;break;case"=":W=P+O+W+M;break;case"^":W=O.slice(0,S=O.length>>1)+P+W+M+O.slice(S);break;default:W=O+P+W+M;break}return i(W)}return X.toString=function(){return f+""},X}function u(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Ml(h)/3)))*3,g=Math.pow(10,-m),y=a((f=cu(f),f.type="f",f),{suffix:c4[8+m/3]});return function(p){return y(g*p)}}return{format:a,formatPrefix:u}}var sf,cv,QN;RD({thousands:",",grouping:[3],currency:["$",""]});function RD(e){return sf=ID(e),cv=sf.format,QN=sf.formatPrefix,sf}function DD(e){return Math.max(0,-Ml(Math.abs(e)))}function LD(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ml(r)/3)))*3-Ml(Math.abs(e)))}function zD(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,Ml(r)-Ml(e))+1}function ek(e,r,t,s){var l=Hy(e,r,t),i;switch(s=cu(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return s.precision==null&&!isNaN(i=LD(l,o))&&(s.precision=i),QN(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=zD(l,Math.max(Math.abs(e),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=DD(l))&&(s.precision=i-(s.type==="%")*2);break}}return cv(s)}function Za(e){var r=e.domain;return e.ticks=function(t){var s=r();return Uy(s[0],s[s.length-1],t??10)},e.tickFormat=function(t,s){var l=r();return ek(l[0],l[l.length-1],t??10,s)},e.nice=function(t){t==null&&(t=10);var s=r(),l=0,i=s.length-1,o=s[l],d=s[i],c,a,u=10;for(d<o&&(a=o,o=d,d=a,a=l,l=i,i=a);u-- >0;){if(a=qy(o,d,t),a===c)return s[l]=o,s[i]=d,r(s);if(a>0)o=Math.floor(o/a)*a,d=Math.ceil(d/a)*a;else if(a<0)o=Math.ceil(o*a)/a,d=Math.floor(d*a)/a;else break;c=a}return e},e}function tk(){var e=ov();return e.copy=function(){return Pu(e,tk())},Ms.apply(e,arguments),Za(e)}function rk(e){var r;function t(s){return s==null||isNaN(s=+s)?r:s}return t.invert=t,t.domain=t.range=function(s){return arguments.length?(e=Array.from(s,oh),t):e.slice()},t.unknown=function(s){return arguments.length?(r=s,t):r},t.copy=function(){return rk(e).unknown(r)},e=arguments.length?Array.from(e,oh):[0,1],Za(t)}function nk(e,r){e=e.slice();var t=0,s=e.length-1,l=e[t],i=e[s],o;return i<l&&(o=t,t=s,s=o,o=l,l=i,i=o),e[t]=r.floor(l),e[s]=r.ceil(i),e}function u4(e){return Math.log(e)}function d4(e){return Math.exp(e)}function FD(e){return-Math.log(-e)}function $D(e){return-Math.exp(-e)}function BD(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UD(e){return e===10?BD:e===Math.E?Math.exp:r=>Math.pow(e,r)}function qD(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),r=>Math.log(r)/e)}function f4(e){return(r,t)=>-e(-r,t)}function uv(e){const r=e(u4,d4),t=r.domain;let s=10,l,i;function o(){return l=qD(s),i=UD(s),t()[0]<0?(l=f4(l),i=f4(i),e(FD,$D)):e(u4,d4),r}return r.base=function(d){return arguments.length?(s=+d,o()):s},r.domain=function(d){return arguments.length?(t(d),o()):t()},r.ticks=d=>{const c=t();let a=c[0],u=c[c.length-1];const f=u<a;f&&([a,u]=[u,a]);let h=l(a),m=l(u),g,y;const p=d==null?10:+d;let b=[];if(!(s%1)&&m-h<p){if(h=Math.floor(h),m=Math.ceil(m),a>0){for(;h<=m;++h)for(g=1;g<s;++g)if(y=h<0?g/i(-h):g*i(h),!(y<a)){if(y>u)break;b.push(y)}}else for(;h<=m;++h)for(g=s-1;g>=1;--g)if(y=h>0?g/i(-h):g*i(h),!(y<a)){if(y>u)break;b.push(y)}b.length*2<p&&(b=Uy(a,u,p))}else b=Uy(h,m,Math.min(m-h,p)).map(i);return f?b.reverse():b},r.tickFormat=(d,c)=>{if(d==null&&(d=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=cu(c)).precision==null&&(c.trim=!0),c=cv(c)),d===1/0)return c;const a=Math.max(1,s*d/r.ticks().length);return u=>{let f=u/i(Math.round(l(u)));return f*s<s-.5&&(f*=s),f<=a?c(u):""}},r.nice=()=>t(nk(t(),{floor:d=>i(Math.floor(l(d))),ceil:d=>i(Math.ceil(l(d)))})),r}function sk(){const e=uv(rm()).domain([1,10]);return e.copy=()=>Pu(e,sk()).base(e.base()),Ms.apply(e,arguments),e}function h4(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function m4(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function dv(e){var r=1,t=e(h4(r),m4(r));return t.constant=function(s){return arguments.length?e(h4(r=+s),m4(r)):r},Za(t)}function ik(){var e=dv(rm());return e.copy=function(){return Pu(e,ik()).constant(e.constant())},Ms.apply(e,arguments)}function p4(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function HD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WD(e){return e<0?-e*e:e*e}function fv(e){var r=e(zn,zn),t=1;function s(){return t===1?e(zn,zn):t===.5?e(HD,WD):e(p4(t),p4(1/t))}return r.exponent=function(l){return arguments.length?(t=+l,s()):t},Za(r)}function hv(){var e=fv(rm());return e.copy=function(){return Pu(e,hv()).exponent(e.exponent())},Ms.apply(e,arguments),e}function VD(){return hv.apply(null,arguments).exponent(.5)}function g4(e){return Math.sign(e)*e*e}function KD(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ak(){var e=ov(),r=[0,1],t=!1,s;function l(i){var o=KD(e(i));return isNaN(o)?s:t?Math.round(o):o}return l.invert=function(i){return e.invert(g4(i))},l.domain=function(i){return arguments.length?(e.domain(i),l):e.domain()},l.range=function(i){return arguments.length?(e.range((r=Array.from(i,oh)).map(g4)),l):r.slice()},l.rangeRound=function(i){return l.range(i).round(!0)},l.round=function(i){return arguments.length?(t=!!i,l):t},l.clamp=function(i){return arguments.length?(e.clamp(i),l):e.clamp()},l.unknown=function(i){return arguments.length?(s=i,l):s},l.copy=function(){return ak(e.domain(),r).round(t).clamp(e.clamp()).unknown(s)},Ms.apply(l,arguments),Za(l)}function ok(){var e=[],r=[],t=[],s;function l(){var o=0,d=Math.max(1,r.length);for(t=new Array(d-1);++o<d;)t[o-1]=ZR(e,o/d);return i}function i(o){return o==null||isNaN(o=+o)?s:r[Eu(t,o)]}return i.invertExtent=function(o){var d=r.indexOf(o);return d<0?[NaN,NaN]:[d>0?t[d-1]:e[0],d<t.length?t[d]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let d of o)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort($a),l()},i.range=function(o){return arguments.length?(r=Array.from(o),l()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return t.slice()},i.copy=function(){return ok().domain(e).range(r).unknown(s)},Ms.apply(i,arguments)}function lk(){var e=0,r=1,t=1,s=[.5],l=[0,1],i;function o(c){return c!=null&&c<=c?l[Eu(s,c,0,t)]:i}function d(){var c=-1;for(s=new Array(t);++c<t;)s[c]=((c+1)*r-(c-t)*e)/(t+1);return o}return o.domain=function(c){return arguments.length?([e,r]=c,e=+e,r=+r,d()):[e,r]},o.range=function(c){return arguments.length?(t=(l=Array.from(c)).length-1,d()):l.slice()},o.invertExtent=function(c){var a=l.indexOf(c);return a<0?[NaN,NaN]:a<1?[e,s[0]]:a>=t?[s[t-1],r]:[s[a-1],s[a]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return lk().domain([e,r]).range(l).unknown(i)},Ms.apply(Za(o),arguments)}function ck(){var e=[.5],r=[0,1],t,s=1;function l(i){return i!=null&&i<=i?r[Eu(e,i,0,s)]:t}return l.domain=function(i){return arguments.length?(e=Array.from(i),s=Math.min(e.length,r.length-1),l):e.slice()},l.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(e.length,r.length-1),l):r.slice()},l.invertExtent=function(i){var o=r.indexOf(i);return[e[o-1],e[o]]},l.unknown=function(i){return arguments.length?(t=i,l):t},l.copy=function(){return ck().domain(e).range(r).unknown(t)},Ms.apply(l,arguments)}const Ag=new Date,Pg=new Date;function tn(e,r,t,s){function l(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return l.floor=i=>(e(i=new Date(+i)),i),l.ceil=i=>(e(i=new Date(i-1)),r(i,1),e(i),i),l.round=i=>{const o=l(i),d=l.ceil(i);return i-o<d-i?o:d},l.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),l.range=(i,o,d)=>{const c=[];if(i=l.ceil(i),d=d==null?1:Math.floor(d),!(i<o)||!(d>0))return c;let a;do c.push(a=new Date(+i)),r(i,d),e(i);while(a<i&&i<o);return c},l.filter=i=>tn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,d)=>{if(o>=o)if(d<0)for(;++d<=0;)for(;r(o,-1),!i(o););else for(;--d>=0;)for(;r(o,1),!i(o););}),t&&(l.count=(i,o)=>(Ag.setTime(+i),Pg.setTime(+o),e(Ag),e(Pg),Math.floor(t(Ag,Pg))),l.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?l.filter(s?o=>s(o)%i===0:o=>l.count(0,o)%i===0):l)),l}const uh=tn(()=>{},(e,r)=>{e.setTime(+e+r)},(e,r)=>r-e);uh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?tn(r=>{r.setTime(Math.floor(r/e)*e)},(r,t)=>{r.setTime(+r+t*e)},(r,t)=>(t-r)/e):uh);uh.range;const Li=1e3,As=Li*60,zi=As*60,ea=zi*24,mv=ea*7,y4=ea*30,Tg=ea*365,_o=tn(e=>{e.setTime(e-e.getMilliseconds())},(e,r)=>{e.setTime(+e+r*Li)},(e,r)=>(r-e)/Li,e=>e.getUTCSeconds());_o.range;const pv=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li)},(e,r)=>{e.setTime(+e+r*As)},(e,r)=>(r-e)/As,e=>e.getMinutes());pv.range;const gv=tn(e=>{e.setUTCSeconds(0,0)},(e,r)=>{e.setTime(+e+r*As)},(e,r)=>(r-e)/As,e=>e.getUTCMinutes());gv.range;const yv=tn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Li-e.getMinutes()*As)},(e,r)=>{e.setTime(+e+r*zi)},(e,r)=>(r-e)/zi,e=>e.getHours());yv.range;const xv=tn(e=>{e.setUTCMinutes(0,0,0)},(e,r)=>{e.setTime(+e+r*zi)},(e,r)=>(r-e)/zi,e=>e.getUTCHours());xv.range;const Tu=tn(e=>e.setHours(0,0,0,0),(e,r)=>e.setDate(e.getDate()+r),(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*As)/ea,e=>e.getDate()-1);Tu.range;const nm=tn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/ea,e=>e.getUTCDate()-1);nm.range;const uk=tn(e=>{e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r)},(e,r)=>(r-e)/ea,e=>Math.floor(e/ea));uk.range;function Bo(e){return tn(r=>{r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},(r,t)=>{r.setDate(r.getDate()+t*7)},(r,t)=>(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*As)/mv)}const sm=Bo(0),dh=Bo(1),XD=Bo(2),GD=Bo(3),Il=Bo(4),YD=Bo(5),ZD=Bo(6);sm.range;dh.range;XD.range;GD.range;Il.range;YD.range;ZD.range;function Uo(e){return tn(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCDate(r.getUTCDate()+t*7)},(r,t)=>(t-r)/mv)}const im=Uo(0),fh=Uo(1),JD=Uo(2),QD=Uo(3),Rl=Uo(4),eL=Uo(5),tL=Uo(6);im.range;fh.range;JD.range;QD.range;Rl.range;eL.range;tL.range;const vv=tn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,r)=>{e.setMonth(e.getMonth()+r)},(e,r)=>r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vv.range;const bv=tn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCMonth(e.getUTCMonth()+r)},(e,r)=>r.getUTCMonth()-e.getUTCMonth()+(r.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());bv.range;const ta=tn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r)},(e,r)=>r.getFullYear()-e.getFullYear(),e=>e.getFullYear());ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(r=>{r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,t)=>{r.setFullYear(r.getFullYear()+t*e)});ta.range;const ra=tn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r)},(e,r)=>r.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ra.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:tn(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,t)=>{r.setUTCFullYear(r.getUTCFullYear()+t*e)});ra.range;function dk(e,r,t,s,l,i){const o=[[_o,1,Li],[_o,5,5*Li],[_o,15,15*Li],[_o,30,30*Li],[i,1,As],[i,5,5*As],[i,15,15*As],[i,30,30*As],[l,1,zi],[l,3,3*zi],[l,6,6*zi],[l,12,12*zi],[s,1,ea],[s,2,2*ea],[t,1,mv],[r,1,y4],[r,3,3*y4],[e,1,Tg]];function d(a,u,f){const h=u<a;h&&([a,u]=[u,a]);const m=f&&typeof f.range=="function"?f:c(a,u,f),g=m?m.range(a,+u+1):[];return h?g.reverse():g}function c(a,u,f){const h=Math.abs(u-a)/f,m=tv(([,,p])=>p).right(o,h);if(m===o.length)return e.every(Hy(a/Tg,u/Tg,f));if(m===0)return uh.every(Math.max(Hy(a,u,f),1));const[g,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(y)}return[d,c]}const[rL,nL]=dk(ra,bv,im,uk,xv,gv),[sL,iL]=dk(ta,vv,sm,Tu,yv,pv);function Og(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Mg(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fc(e,r,t){return{y:e,m:r,d:t,H:0,M:0,S:0,L:0}}function aL(e){var r=e.dateTime,t=e.date,s=e.time,l=e.periods,i=e.days,o=e.shortDays,d=e.months,c=e.shortMonths,a=$c(l),u=Bc(l),f=$c(i),h=Bc(i),m=$c(o),g=Bc(o),y=$c(d),p=Bc(d),b=$c(c),v=Bc(c),j={a:k,A:N,b:S,B:O,c:null,d:j4,e:j4,f:AL,g:FL,G:BL,H:SL,I:CL,j:EL,L:fk,m:PL,M:TL,p:L,q:I,Q:S4,s:C4,S:OL,u:ML,U:IL,V:RL,w:DL,W:LL,x:null,X:null,y:zL,Y:$L,Z:UL,"%":k4},C={a:G,A:Y,b:te,B:U,c:null,d:N4,e:N4,f:VL,g:rz,G:sz,H:qL,I:HL,j:WL,L:mk,m:KL,M:XL,p:J,q:$,Q:S4,s:C4,S:GL,u:YL,U:ZL,V:JL,w:QL,W:ez,x:null,X:null,y:tz,Y:nz,Z:iz,"%":k4},T={a:V,A:X,b:W,B:P,c:M,d:w4,e:w4,f:_L,g:b4,G:v4,H:_4,I:_4,j:xL,L:wL,m:yL,M:vL,p:B,q:gL,Q:NL,s:kL,S:bL,u:dL,U:fL,V:hL,w:uL,W:mL,x:E,X:_,y:b4,Y:v4,Z:pL,"%":jL};j.x=D(t,j),j.X=D(s,j),j.c=D(r,j),C.x=D(t,C),C.X=D(s,C),C.c=D(r,C);function D(R,K){return function(ee){var se=[],ie=-1,ae=0,re=R.length,le,ne,fe;for(ee instanceof Date||(ee=new Date(+ee));++ie<re;)R.charCodeAt(ie)===37&&(se.push(R.slice(ae,ie)),(ne=x4[le=R.charAt(++ie)])!=null?le=R.charAt(++ie):ne=le==="e"?" ":"0",(fe=K[le])&&(le=fe(ee,ne)),se.push(le),ae=ie+1);return se.push(R.slice(ae,ie)),se.join("")}}function q(R,K){return function(ee){var se=Fc(1900,void 0,1),ie=z(se,R,ee+="",0),ae,re;if(ie!=ee.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(K&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(ae=Mg(Fc(se.y,0,1)),re=ae.getUTCDay(),ae=re>4||re===0?fh.ceil(ae):fh(ae),ae=nm.offset(ae,(se.V-1)*7),se.y=ae.getUTCFullYear(),se.m=ae.getUTCMonth(),se.d=ae.getUTCDate()+(se.w+6)%7):(ae=Og(Fc(se.y,0,1)),re=ae.getDay(),ae=re>4||re===0?dh.ceil(ae):dh(ae),ae=Tu.offset(ae,(se.V-1)*7),se.y=ae.getFullYear(),se.m=ae.getMonth(),se.d=ae.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),re="Z"in se?Mg(Fc(se.y,0,1)).getUTCDay():Og(Fc(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(re+5)%7:se.w+se.U*7-(re+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,Mg(se)):Og(se)}}function z(R,K,ee,se){for(var ie=0,ae=K.length,re=ee.length,le,ne;ie<ae;){if(se>=re)return-1;if(le=K.charCodeAt(ie++),le===37){if(le=K.charAt(ie++),ne=T[le in x4?K.charAt(ie++):le],!ne||(se=ne(R,ee,se))<0)return-1}else if(le!=ee.charCodeAt(se++))return-1}return se}function B(R,K,ee){var se=a.exec(K.slice(ee));return se?(R.p=u.get(se[0].toLowerCase()),ee+se[0].length):-1}function V(R,K,ee){var se=m.exec(K.slice(ee));return se?(R.w=g.get(se[0].toLowerCase()),ee+se[0].length):-1}function X(R,K,ee){var se=f.exec(K.slice(ee));return se?(R.w=h.get(se[0].toLowerCase()),ee+se[0].length):-1}function W(R,K,ee){var se=b.exec(K.slice(ee));return se?(R.m=v.get(se[0].toLowerCase()),ee+se[0].length):-1}function P(R,K,ee){var se=y.exec(K.slice(ee));return se?(R.m=p.get(se[0].toLowerCase()),ee+se[0].length):-1}function M(R,K,ee){return z(R,r,K,ee)}function E(R,K,ee){return z(R,t,K,ee)}function _(R,K,ee){return z(R,s,K,ee)}function k(R){return o[R.getDay()]}function N(R){return i[R.getDay()]}function S(R){return c[R.getMonth()]}function O(R){return d[R.getMonth()]}function L(R){return l[+(R.getHours()>=12)]}function I(R){return 1+~~(R.getMonth()/3)}function G(R){return o[R.getUTCDay()]}function Y(R){return i[R.getUTCDay()]}function te(R){return c[R.getUTCMonth()]}function U(R){return d[R.getUTCMonth()]}function J(R){return l[+(R.getUTCHours()>=12)]}function $(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var K=D(R+="",j);return K.toString=function(){return R},K},parse:function(R){var K=q(R+="",!1);return K.toString=function(){return R},K},utcFormat:function(R){var K=D(R+="",C);return K.toString=function(){return R},K},utcParse:function(R){var K=q(R+="",!0);return K.toString=function(){return R},K}}}var x4={"-":"",_:" ",0:"0"},xn=/^\s*\d+/,oL=/^%/,lL=/[\\^$*+?|[\]().{}]/g;function or(e,r,t){var s=e<0?"-":"",l=(s?-e:e)+"",i=l.length;return s+(i<t?new Array(t-i+1).join(r)+l:l)}function cL(e){return e.replace(lL,"\\$&")}function $c(e){return new RegExp("^(?:"+e.map(cL).join("|")+")","i")}function Bc(e){return new Map(e.map((r,t)=>[r.toLowerCase(),t]))}function uL(e,r,t){var s=xn.exec(r.slice(t,t+1));return s?(e.w=+s[0],t+s[0].length):-1}function dL(e,r,t){var s=xn.exec(r.slice(t,t+1));return s?(e.u=+s[0],t+s[0].length):-1}function fL(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.U=+s[0],t+s[0].length):-1}function hL(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.V=+s[0],t+s[0].length):-1}function mL(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.W=+s[0],t+s[0].length):-1}function v4(e,r,t){var s=xn.exec(r.slice(t,t+4));return s?(e.y=+s[0],t+s[0].length):-1}function b4(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.y=+s[0]+(+s[0]>68?1900:2e3),t+s[0].length):-1}function pL(e,r,t){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(t,t+6));return s?(e.Z=s[1]?0:-(s[2]+(s[3]||"00")),t+s[0].length):-1}function gL(e,r,t){var s=xn.exec(r.slice(t,t+1));return s?(e.q=s[0]*3-3,t+s[0].length):-1}function yL(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.m=s[0]-1,t+s[0].length):-1}function w4(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.d=+s[0],t+s[0].length):-1}function xL(e,r,t){var s=xn.exec(r.slice(t,t+3));return s?(e.m=0,e.d=+s[0],t+s[0].length):-1}function _4(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.H=+s[0],t+s[0].length):-1}function vL(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.M=+s[0],t+s[0].length):-1}function bL(e,r,t){var s=xn.exec(r.slice(t,t+2));return s?(e.S=+s[0],t+s[0].length):-1}function wL(e,r,t){var s=xn.exec(r.slice(t,t+3));return s?(e.L=+s[0],t+s[0].length):-1}function _L(e,r,t){var s=xn.exec(r.slice(t,t+6));return s?(e.L=Math.floor(s[0]/1e3),t+s[0].length):-1}function jL(e,r,t){var s=oL.exec(r.slice(t,t+1));return s?t+s[0].length:-1}function NL(e,r,t){var s=xn.exec(r.slice(t));return s?(e.Q=+s[0],t+s[0].length):-1}function kL(e,r,t){var s=xn.exec(r.slice(t));return s?(e.s=+s[0],t+s[0].length):-1}function j4(e,r){return or(e.getDate(),r,2)}function SL(e,r){return or(e.getHours(),r,2)}function CL(e,r){return or(e.getHours()%12||12,r,2)}function EL(e,r){return or(1+Tu.count(ta(e),e),r,3)}function fk(e,r){return or(e.getMilliseconds(),r,3)}function AL(e,r){return fk(e,r)+"000"}function PL(e,r){return or(e.getMonth()+1,r,2)}function TL(e,r){return or(e.getMinutes(),r,2)}function OL(e,r){return or(e.getSeconds(),r,2)}function ML(e){var r=e.getDay();return r===0?7:r}function IL(e,r){return or(sm.count(ta(e)-1,e),r,2)}function hk(e){var r=e.getDay();return r>=4||r===0?Il(e):Il.ceil(e)}function RL(e,r){return e=hk(e),or(Il.count(ta(e),e)+(ta(e).getDay()===4),r,2)}function DL(e){return e.getDay()}function LL(e,r){return or(dh.count(ta(e)-1,e),r,2)}function zL(e,r){return or(e.getFullYear()%100,r,2)}function FL(e,r){return e=hk(e),or(e.getFullYear()%100,r,2)}function $L(e,r){return or(e.getFullYear()%1e4,r,4)}function BL(e,r){var t=e.getDay();return e=t>=4||t===0?Il(e):Il.ceil(e),or(e.getFullYear()%1e4,r,4)}function UL(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+or(r/60|0,"0",2)+or(r%60,"0",2)}function N4(e,r){return or(e.getUTCDate(),r,2)}function qL(e,r){return or(e.getUTCHours(),r,2)}function HL(e,r){return or(e.getUTCHours()%12||12,r,2)}function WL(e,r){return or(1+nm.count(ra(e),e),r,3)}function mk(e,r){return or(e.getUTCMilliseconds(),r,3)}function VL(e,r){return mk(e,r)+"000"}function KL(e,r){return or(e.getUTCMonth()+1,r,2)}function XL(e,r){return or(e.getUTCMinutes(),r,2)}function GL(e,r){return or(e.getUTCSeconds(),r,2)}function YL(e){var r=e.getUTCDay();return r===0?7:r}function ZL(e,r){return or(im.count(ra(e)-1,e),r,2)}function pk(e){var r=e.getUTCDay();return r>=4||r===0?Rl(e):Rl.ceil(e)}function JL(e,r){return e=pk(e),or(Rl.count(ra(e),e)+(ra(e).getUTCDay()===4),r,2)}function QL(e){return e.getUTCDay()}function ez(e,r){return or(fh.count(ra(e)-1,e),r,2)}function tz(e,r){return or(e.getUTCFullYear()%100,r,2)}function rz(e,r){return e=pk(e),or(e.getUTCFullYear()%100,r,2)}function nz(e,r){return or(e.getUTCFullYear()%1e4,r,4)}function sz(e,r){var t=e.getUTCDay();return e=t>=4||t===0?Rl(e):Rl.ceil(e),or(e.getUTCFullYear()%1e4,r,4)}function iz(){return"+0000"}function k4(){return"%"}function S4(e){return+e}function C4(e){return Math.floor(+e/1e3)}var ml,gk,yk;az({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function az(e){return ml=aL(e),gk=ml.format,ml.parse,yk=ml.utcFormat,ml.utcParse,ml}function oz(e){return new Date(e)}function lz(e){return e instanceof Date?+e:+new Date(+e)}function wv(e,r,t,s,l,i,o,d,c,a){var u=ov(),f=u.invert,h=u.domain,m=a(".%L"),g=a(":%S"),y=a("%I:%M"),p=a("%I %p"),b=a("%a %d"),v=a("%b %d"),j=a("%B"),C=a("%Y");function T(D){return(c(D)<D?m:d(D)<D?g:o(D)<D?y:i(D)<D?p:s(D)<D?l(D)<D?b:v:t(D)<D?j:C)(D)}return u.invert=function(D){return new Date(f(D))},u.domain=function(D){return arguments.length?h(Array.from(D,lz)):h().map(oz)},u.ticks=function(D){var q=h();return e(q[0],q[q.length-1],D??10)},u.tickFormat=function(D,q){return q==null?T:a(q)},u.nice=function(D){var q=h();return(!D||typeof D.range!="function")&&(D=r(q[0],q[q.length-1],D??10)),D?h(nk(q,D)):u},u.copy=function(){return Pu(u,wv(e,r,t,s,l,i,o,d,c,a))},u}function cz(){return Ms.apply(wv(sL,iL,ta,vv,sm,Tu,yv,pv,_o,gk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uz(){return Ms.apply(wv(rL,nL,ra,bv,im,nm,xv,gv,_o,yk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function am(){var e=0,r=1,t,s,l,i,o=zn,d=!1,c;function a(f){return f==null||isNaN(f=+f)?c:o(l===0?.5:(f=(i(f)-t)*l,d?Math.max(0,Math.min(1,f)):f))}a.domain=function(f){return arguments.length?([e,r]=f,t=i(e=+e),s=i(r=+r),l=t===s?0:1/(s-t),a):[e,r]},a.clamp=function(f){return arguments.length?(d=!!f,a):d},a.interpolator=function(f){return arguments.length?(o=f,a):o};function u(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),a):[o(0),o(1)]}}return a.range=u(Vl),a.rangeRound=u(av),a.unknown=function(f){return arguments.length?(c=f,a):c},function(f){return i=f,t=f(e),s=f(r),l=t===s?0:1/(s-t),a}}function Ja(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xk(){var e=Za(am()(zn));return e.copy=function(){return Ja(e,xk())},la.apply(e,arguments)}function vk(){var e=uv(am()).domain([1,10]);return e.copy=function(){return Ja(e,vk()).base(e.base())},la.apply(e,arguments)}function bk(){var e=dv(am());return e.copy=function(){return Ja(e,bk()).constant(e.constant())},la.apply(e,arguments)}function _v(){var e=fv(am());return e.copy=function(){return Ja(e,_v()).exponent(e.exponent())},la.apply(e,arguments)}function dz(){return _v.apply(null,arguments).exponent(.5)}function wk(){var e=[],r=zn;function t(s){if(s!=null&&!isNaN(s=+s))return r((Eu(e,s,1)-1)/(e.length-1))}return t.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($a),t},t.interpolator=function(s){return arguments.length?(r=s,t):r},t.range=function(){return e.map((s,l)=>r(l/(e.length-1)))},t.quantiles=function(s){return Array.from({length:s+1},(l,i)=>YR(e,i/s))},t.copy=function(){return wk(r).domain(e)},la.apply(t,arguments)}function om(){var e=0,r=.5,t=1,s=1,l,i,o,d,c,a=zn,u,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+u(y))-i)*(s*y<s*i?d:c),a(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,r,t]=y,l=u(e=+e),i=u(r=+r),o=u(t=+t),d=l===i?0:.5/(i-l),c=i===o?0:.5/(o-i),s=i<l?-1:1,m):[e,r,t]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(a=y,m):a};function g(y){return function(p){var b,v,j;return arguments.length?([b,v,j]=p,a=jD(y,[b,v,j]),m):[a(0),a(.5),a(1)]}}return m.range=g(Vl),m.rangeRound=g(av),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return u=y,l=y(e),i=y(r),o=y(t),d=l===i?0:.5/(i-l),c=i===o?0:.5/(o-i),s=i<l?-1:1,m}}function _k(){var e=Za(om()(zn));return e.copy=function(){return Ja(e,_k())},la.apply(e,arguments)}function jk(){var e=uv(om()).domain([.1,1,10]);return e.copy=function(){return Ja(e,jk()).base(e.base())},la.apply(e,arguments)}function Nk(){var e=dv(om());return e.copy=function(){return Ja(e,Nk()).constant(e.constant())},la.apply(e,arguments)}function jv(){var e=fv(om());return e.copy=function(){return Ja(e,jv()).exponent(e.exponent())},la.apply(e,arguments)}function fz(){return jv.apply(null,arguments).exponent(.5)}const Vc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nv,scaleDiverging:_k,scaleDivergingLog:jk,scaleDivergingPow:jv,scaleDivergingSqrt:fz,scaleDivergingSymlog:Nk,scaleIdentity:rk,scaleImplicit:Wy,scaleLinear:tk,scaleLog:sk,scaleOrdinal:rv,scalePoint:QR,scalePow:hv,scaleQuantile:ok,scaleQuantize:lk,scaleRadial:ak,scaleSequential:xk,scaleSequentialLog:vk,scaleSequentialPow:_v,scaleSequentialQuantile:wk,scaleSequentialSqrt:dz,scaleSequentialSymlog:bk,scaleSqrt:VD,scaleSymlog:ik,scaleThreshold:ck,scaleTime:cz,scaleUtc:uz,tickFormat:ek},Symbol.toStringTag,{value:"Module"}));var ca=e=>e.chartData,lm=Pe([ca],e=>{var r=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:r,dataStartIndex:0}}),Nv=(e,r,t,s)=>s?lm(e):ca(e),kk=(e,r,t)=>t?lm(e):ca(e);function Ha(e){if(Array.isArray(e)&&e.length===2){var[r,t]=e;if(gr(r)&&gr(t))return!0}return!1}function E4(e,r,t){return t?e:[Math.min(e[0],r[0]),Math.max(e[1],r[1])]}function Sk(e,r){if(r&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[t,s]=e,l,i;if(gr(t))l=t;else if(typeof t=="function")return;if(gr(s))i=s;else if(typeof s=="function")return;var o=[l,i];if(Ha(o))return o}}function hz(e,r,t){if(!(!t&&r==null)){if(typeof e=="function"&&r!=null)try{var s=e(r,t);if(Ha(s))return E4(s,r,t)}catch{}if(Array.isArray(e)&&e.length===2){var[l,i]=e,o,d;if(l==="auto")r!=null&&(o=Math.min(...r));else if(ot(l))o=l;else if(typeof l=="function")try{r!=null&&(o=l(r?.[0]))}catch{}else if(typeof l=="string"&&F_.test(l)){var c=F_.exec(l);if(c==null||c[1]==null||r==null)o=void 0;else{var a=+c[1];o=r[0]-a}}else o=r?.[0];if(i==="auto")r!=null&&(d=Math.max(...r));else if(ot(i))d=i;else if(typeof i=="function")try{r!=null&&(d=i(r?.[1]))}catch{}else if(typeof i=="string"&&$_.test(i)){var u=$_.exec(i);if(u==null||u[1]==null||r==null)d=void 0;else{var f=+u[1];d=r[1]+f}}else d=r?.[1];var h=[o,d];if(Ha(h))return r==null?h:E4(h,r,t)}}}var Kl=1e9,mz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sv,Cr=!0,Os="[DecimalError] ",So=Os+"Invalid argument: ",kv=Os+"Exponent out of range: ",Xl=Math.floor,xo=Math.pow,pz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,us,un=1e7,jr=7,Ck=9007199254740991,hh=Xl(Ck/jr),mt={};mt.absoluteValue=mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};mt.comparedTo=mt.cmp=function(e){var r,t,s,l,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(s=i.d.length,l=e.d.length,r=0,t=s<l?s:l;r<t;++r)if(i.d[r]!==e.d[r])return i.d[r]>e.d[r]^i.s<0?1:-1;return s===l?0:s>l^i.s<0?1:-1};mt.decimalPlaces=mt.dp=function(){var e=this,r=e.d.length-1,t=(r-e.e)*jr;if(r=e.d[r],r)for(;r%10==0;r/=10)t--;return t<0?0:t};mt.dividedBy=mt.div=function(e){return Ui(this,new this.constructor(e))};mt.dividedToIntegerBy=mt.idiv=function(e){var r=this,t=r.constructor;return pr(Ui(r,new t(e),0,1),t.precision)};mt.equals=mt.eq=function(e){return!this.cmp(e)};mt.exponent=function(){return Xr(this)};mt.greaterThan=mt.gt=function(e){return this.cmp(e)>0};mt.greaterThanOrEqualTo=mt.gte=function(e){return this.cmp(e)>=0};mt.isInteger=mt.isint=function(){return this.e>this.d.length-2};mt.isNegative=mt.isneg=function(){return this.s<0};mt.isPositive=mt.ispos=function(){return this.s>0};mt.isZero=function(){return this.s===0};mt.lessThan=mt.lt=function(e){return this.cmp(e)<0};mt.lessThanOrEqualTo=mt.lte=function(e){return this.cmp(e)<1};mt.logarithm=mt.log=function(e){var r,t=this,s=t.constructor,l=s.precision,i=l+5;if(e===void 0)e=new s(10);else if(e=new s(e),e.s<1||e.eq(us))throw Error(Os+"NaN");if(t.s<1)throw Error(Os+(t.s?"NaN":"-Infinity"));return t.eq(us)?new s(0):(Cr=!1,r=Ui(uu(t,i),uu(e,i),i),Cr=!0,pr(r,l))};mt.minus=mt.sub=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?Pk(r,e):Ek(r,(e.s=-e.s,e))};mt.modulo=mt.mod=function(e){var r,t=this,s=t.constructor,l=s.precision;if(e=new s(e),!e.s)throw Error(Os+"NaN");return t.s?(Cr=!1,r=Ui(t,e,0,1).times(e),Cr=!0,t.minus(r)):pr(new s(t),l)};mt.naturalExponential=mt.exp=function(){return Ak(this)};mt.naturalLogarithm=mt.ln=function(){return uu(this)};mt.negated=mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};mt.plus=mt.add=function(e){var r=this;return e=new r.constructor(e),r.s==e.s?Ek(r,e):Pk(r,(e.s=-e.s,e))};mt.precision=mt.sd=function(e){var r,t,s,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(So+e);if(r=Xr(l)+1,s=l.d.length-1,t=s*jr+1,s=l.d[s],s){for(;s%10==0;s/=10)t--;for(s=l.d[0];s>=10;s/=10)t++}return e&&r>t?r:t};mt.squareRoot=mt.sqrt=function(){var e,r,t,s,l,i,o,d=this,c=d.constructor;if(d.s<1){if(!d.s)return new c(0);throw Error(Os+"NaN")}for(e=Xr(d),Cr=!1,l=Math.sqrt(+d),l==0||l==1/0?(r=oi(d.d),(r.length+e)%2==0&&(r+="0"),l=Math.sqrt(r),e=Xl((e+1)/2)-(e<0||e%2),l==1/0?r="5e"+e:(r=l.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),s=new c(r)):s=new c(l.toString()),t=c.precision,l=o=t+3;;)if(i=s,s=i.plus(Ui(d,i,o+2)).times(.5),oi(i.d).slice(0,o)===(r=oi(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),l==o&&r=="4999"){if(pr(i,t+1,0),i.times(i).eq(d)){s=i;break}}else if(r!="9999")break;o+=4}return Cr=!0,pr(s,t)};mt.times=mt.mul=function(e){var r,t,s,l,i,o,d,c,a,u=this,f=u.constructor,h=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,t=u.e+e.e,c=h.length,a=m.length,c<a&&(i=h,h=m,m=i,o=c,c=a,a=o),i=[],o=c+a,s=o;s--;)i.push(0);for(s=a;--s>=0;){for(r=0,l=c+s;l>s;)d=i[l]+m[s]*h[l-s-1]+r,i[l--]=d%un|0,r=d/un|0;i[l]=(i[l]+r)%un|0}for(;!i[--o];)i.pop();return r?++t:i.shift(),e.d=i,e.e=t,Cr?pr(e,f.precision):e};mt.toDecimalPlaces=mt.todp=function(e,r){var t=this,s=t.constructor;return t=new s(t),e===void 0?t:(hi(e,0,Kl),r===void 0?r=s.rounding:hi(r,0,8),pr(t,e+Xr(t)+1,r))};mt.toExponential=function(e,r){var t,s=this,l=s.constructor;return e===void 0?t=Do(s,!0):(hi(e,0,Kl),r===void 0?r=l.rounding:hi(r,0,8),s=pr(new l(s),e+1,r),t=Do(s,!0,e+1)),t};mt.toFixed=function(e,r){var t,s,l=this,i=l.constructor;return e===void 0?Do(l):(hi(e,0,Kl),r===void 0?r=i.rounding:hi(r,0,8),s=pr(new i(l),e+Xr(l)+1,r),t=Do(s.abs(),!1,e+Xr(s)+1),l.isneg()&&!l.isZero()?"-"+t:t)};mt.toInteger=mt.toint=function(){var e=this,r=e.constructor;return pr(new r(e),Xr(e)+1,r.rounding)};mt.toNumber=function(){return+this};mt.toPower=mt.pow=function(e){var r,t,s,l,i,o,d=this,c=d.constructor,a=12,u=+(e=new c(e));if(!e.s)return new c(us);if(d=new c(d),!d.s){if(e.s<1)throw Error(Os+"Infinity");return d}if(d.eq(us))return d;if(s=c.precision,e.eq(us))return pr(d,s);if(r=e.e,t=e.d.length-1,o=r>=t,i=d.s,o){if((t=u<0?-u:u)<=Ck){for(l=new c(us),r=Math.ceil(s/jr+4),Cr=!1;t%2&&(l=l.times(d),P4(l.d,r)),t=Xl(t/2),t!==0;)d=d.times(d),P4(d.d,r);return Cr=!0,e.s<0?new c(us).div(l):pr(l,s)}}else if(i<0)throw Error(Os+"NaN");return i=i<0&&e.d[Math.max(r,t)]&1?-1:1,d.s=1,Cr=!1,l=e.times(uu(d,s+a)),Cr=!0,l=Ak(l),l.s=i,l};mt.toPrecision=function(e,r){var t,s,l=this,i=l.constructor;return e===void 0?(t=Xr(l),s=Do(l,t<=i.toExpNeg||t>=i.toExpPos)):(hi(e,1,Kl),r===void 0?r=i.rounding:hi(r,0,8),l=pr(new i(l),e,r),t=Xr(l),s=Do(l,e<=t||t<=i.toExpNeg,e)),s};mt.toSignificantDigits=mt.tosd=function(e,r){var t=this,s=t.constructor;return e===void 0?(e=s.precision,r=s.rounding):(hi(e,1,Kl),r===void 0?r=s.rounding:hi(r,0,8)),pr(new s(t),e,r)};mt.toString=mt.valueOf=mt.val=mt.toJSON=mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,r=Xr(e),t=e.constructor;return Do(e,r<=t.toExpNeg||r>=t.toExpPos)};function Ek(e,r){var t,s,l,i,o,d,c,a,u=e.constructor,f=u.precision;if(!e.s||!r.s)return r.s||(r=new u(e)),Cr?pr(r,f):r;if(c=e.d,a=r.d,o=e.e,l=r.e,c=c.slice(),i=o-l,i){for(i<0?(s=c,i=-i,d=a.length):(s=a,l=o,d=c.length),o=Math.ceil(f/jr),d=o>d?o+1:d+1,i>d&&(i=d,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(d=c.length,i=a.length,d-i<0&&(i=d,s=a,a=c,c=s),t=0;i;)t=(c[--i]=c[i]+a[i]+t)/un|0,c[i]%=un;for(t&&(c.unshift(t),++l),d=c.length;c[--d]==0;)c.pop();return r.d=c,r.e=l,Cr?pr(r,f):r}function hi(e,r,t){if(e!==~~e||e<r||e>t)throw Error(So+e)}function oi(e){var r,t,s,l=e.length-1,i="",o=e[0];if(l>0){for(i+=o,r=1;r<l;r++)s=e[r]+"",t=jr-s.length,t&&(i+=Ra(t)),i+=s;o=e[r],s=o+"",t=jr-s.length,t&&(i+=Ra(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ui=(function(){function e(s,l){var i,o=0,d=s.length;for(s=s.slice();d--;)i=s[d]*l+o,s[d]=i%un|0,o=i/un|0;return o&&s.unshift(o),s}function r(s,l,i,o){var d,c;if(i!=o)c=i>o?1:-1;else for(d=c=0;d<i;d++)if(s[d]!=l[d]){c=s[d]>l[d]?1:-1;break}return c}function t(s,l,i){for(var o=0;i--;)s[i]-=o,o=s[i]<l[i]?1:0,s[i]=o*un+s[i]-l[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,l,i,o){var d,c,a,u,f,h,m,g,y,p,b,v,j,C,T,D,q,z,B=s.constructor,V=s.s==l.s?1:-1,X=s.d,W=l.d;if(!s.s)return new B(s);if(!l.s)throw Error(Os+"Division by zero");for(c=s.e-l.e,q=W.length,T=X.length,m=new B(V),g=m.d=[],a=0;W[a]==(X[a]||0);)++a;if(W[a]>(X[a]||0)&&--c,i==null?v=i=B.precision:o?v=i+(Xr(s)-Xr(l))+1:v=i,v<0)return new B(0);if(v=v/jr+2|0,a=0,q==1)for(u=0,W=W[0],v++;(a<T||u)&&v--;a++)j=u*un+(X[a]||0),g[a]=j/W|0,u=j%W|0;else{for(u=un/(W[0]+1)|0,u>1&&(W=e(W,u),X=e(X,u),q=W.length,T=X.length),C=q,y=X.slice(0,q),p=y.length;p<q;)y[p++]=0;z=W.slice(),z.unshift(0),D=W[0],W[1]>=un/2&&++D;do u=0,d=r(W,y,q,p),d<0?(b=y[0],q!=p&&(b=b*un+(y[1]||0)),u=b/D|0,u>1?(u>=un&&(u=un-1),f=e(W,u),h=f.length,p=y.length,d=r(f,y,h,p),d==1&&(u--,t(f,q<h?z:W,h))):(u==0&&(d=u=1),f=W.slice()),h=f.length,h<p&&f.unshift(0),t(y,f,p),d==-1&&(p=y.length,d=r(W,y,q,p),d<1&&(u++,t(y,q<p?z:W,p))),p=y.length):d===0&&(u++,y=[0]),g[a++]=u,d&&y[0]?y[p++]=X[C]||0:(y=[X[C]],p=1);while((C++<T||y[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,pr(m,o?i+Xr(m)+1:i)}})();function Ak(e,r){var t,s,l,i,o,d,c=0,a=0,u=e.constructor,f=u.precision;if(Xr(e)>16)throw Error(kv+Xr(e));if(!e.s)return new u(us);for(Cr=!1,d=f,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),a+=5;for(s=Math.log(xo(2,a))/Math.LN10*2+5|0,d+=s,t=l=i=new u(us),u.precision=d;;){if(l=pr(l.times(e),d),t=t.times(++c),o=i.plus(Ui(l,t,d)),oi(o.d).slice(0,d)===oi(i.d).slice(0,d)){for(;a--;)i=pr(i.times(i),d);return u.precision=f,r==null?(Cr=!0,pr(i,f)):i}i=o}}function Xr(e){for(var r=e.e*jr,t=e.d[0];t>=10;t/=10)r++;return r}function Ig(e,r,t){if(r>e.LN10.sd())throw Cr=!0,t&&(e.precision=t),Error(Os+"LN10 precision limit exceeded");return pr(new e(e.LN10),r)}function Ra(e){for(var r="";e--;)r+="0";return r}function uu(e,r){var t,s,l,i,o,d,c,a,u,f=1,h=10,m=e,g=m.d,y=m.constructor,p=y.precision;if(m.s<1)throw Error(Os+(m.s?"NaN":"-Infinity"));if(m.eq(us))return new y(0);if(r==null?(Cr=!1,a=p):a=r,m.eq(10))return r==null&&(Cr=!0),Ig(y,a);if(a+=h,y.precision=a,t=oi(g),s=t.charAt(0),i=Xr(m),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&t.charAt(1)>3;)m=m.times(e),t=oi(m.d),s=t.charAt(0),f++;i=Xr(m),s>1?(m=new y("0."+t),i++):m=new y(s+"."+t.slice(1))}else return c=Ig(y,a+2,p).times(i+""),m=uu(new y(s+"."+t.slice(1)),a-h).plus(c),y.precision=p,r==null?(Cr=!0,pr(m,p)):m;for(d=o=m=Ui(m.minus(us),m.plus(us),a),u=pr(m.times(m),a),l=3;;){if(o=pr(o.times(u),a),c=d.plus(Ui(o,new y(l),a)),oi(c.d).slice(0,a)===oi(d.d).slice(0,a))return d=d.times(2),i!==0&&(d=d.plus(Ig(y,a+2,p).times(i+""))),d=Ui(d,new y(f),a),y.precision=p,r==null?(Cr=!0,pr(d,p)):d;d=c,l+=2}}function A4(e,r){var t,s,l;for((t=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(t<0&&(t=s),t+=+r.slice(s+1),r=r.substring(0,s)):t<0&&(t=r.length),s=0;r.charCodeAt(s)===48;)++s;for(l=r.length;r.charCodeAt(l-1)===48;)--l;if(r=r.slice(s,l),r){if(l-=s,t=t-s-1,e.e=Xl(t/jr),e.d=[],s=(t+1)%jr,t<0&&(s+=jr),s<l){for(s&&e.d.push(+r.slice(0,s)),l-=jr;s<l;)e.d.push(+r.slice(s,s+=jr));r=r.slice(s),s=jr-r.length}else s-=l;for(;s--;)r+="0";if(e.d.push(+r),Cr&&(e.e>hh||e.e<-hh))throw Error(kv+t)}else e.s=0,e.e=0,e.d=[0];return e}function pr(e,r,t){var s,l,i,o,d,c,a,u,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=jr,l=r,a=f[u=0];else{if(u=Math.ceil((s+1)/jr),i=f.length,u>=i)return e;for(a=i=f[u],o=1;i>=10;i/=10)o++;s%=jr,l=s-jr+o}if(t!==void 0&&(i=xo(10,o-l-1),d=a/i%10|0,c=r<0||f[u+1]!==void 0||a%i,c=t<4?(d||c)&&(t==0||t==(e.s<0?3:2)):d>5||d==5&&(t==4||c||t==6&&(s>0?l>0?a/xo(10,o-l):0:f[u-1])%10&1||t==(e.s<0?8:7))),r<1||!f[0])return c?(i=Xr(e),f.length=1,r=r-i-1,f[0]=xo(10,(jr-r%jr)%jr),e.e=Xl(-r/jr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(s==0?(f.length=u,i=1,u--):(f.length=u+1,i=xo(10,jr-s),f[u]=l>0?(a/xo(10,o-l)%xo(10,l)|0)*i:0),c)for(;;)if(u==0){(f[0]+=i)==un&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=un)break;f[u--]=0,i=1}for(s=f.length;f[--s]===0;)f.pop();if(Cr&&(e.e>hh||e.e<-hh))throw Error(kv+Xr(e));return e}function Pk(e,r){var t,s,l,i,o,d,c,a,u,f,h=e.constructor,m=h.precision;if(!e.s||!r.s)return r.s?r.s=-r.s:r=new h(e),Cr?pr(r,m):r;if(c=e.d,f=r.d,s=r.e,a=e.e,c=c.slice(),o=a-s,o){for(u=o<0,u?(t=c,o=-o,d=f.length):(t=f,s=a,d=c.length),l=Math.max(Math.ceil(m/jr),d)+2,o>l&&(o=l,t.length=1),t.reverse(),l=o;l--;)t.push(0);t.reverse()}else{for(l=c.length,d=f.length,u=l<d,u&&(d=l),l=0;l<d;l++)if(c[l]!=f[l]){u=c[l]<f[l];break}o=0}for(u&&(t=c,c=f,f=t,r.s=-r.s),d=c.length,l=f.length-d;l>0;--l)c[d++]=0;for(l=f.length;l>o;){if(c[--l]<f[l]){for(i=l;i&&c[--i]===0;)c[i]=un-1;--c[i],c[l]+=un}c[l]-=f[l]}for(;c[--d]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(r.d=c,r.e=s,Cr?pr(r,m):r):new h(0)}function Do(e,r,t){var s,l=Xr(e),i=oi(e.d),o=i.length;return r?(t&&(s=t-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ra(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(l<0?"e":"e+")+l):l<0?(i="0."+Ra(-l-1)+i,t&&(s=t-o)>0&&(i+=Ra(s))):l>=o?(i+=Ra(l+1-o),t&&(s=t-l-1)>0&&(i=i+"."+Ra(s))):((s=l+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),t&&(s=t-o)>0&&(l+1===o&&(i+="."),i+=Ra(s))),e.s<0?"-"+i:i}function P4(e,r){if(e.length>r)return e.length=r,!0}function Tk(e){var r,t,s;function l(i){var o=this;if(!(o instanceof l))return new l(i);if(o.constructor=l,i instanceof l){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(So+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return A4(o,i.toString())}else if(typeof i!="string")throw Error(So+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,pz.test(i))A4(o,i);else throw Error(So+i)}if(l.prototype=mt,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=Tk,l.config=l.set=gz,e===void 0&&(e={}),e)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)e.hasOwnProperty(t=s[r++])||(e[t]=this[t]);return l.config(e),l}function gz(e){if(!e||typeof e!="object")throw Error(Os+"Object expected");var r,t,s,l=["precision",1,Kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<l.length;r+=3)if((s=e[t=l[r]])!==void 0)if(Xl(s)===s&&s>=l[r+1]&&s<=l[r+2])this[t]=s;else throw Error(So+t+": "+s);if((s=e[t="LN10"])!==void 0)if(s==Math.LN10)this[t]=new this(s);else throw Error(So+t+": "+s);return this}var Sv=Tk(mz);us=new Sv(1);const fr=Sv;var yz=e=>e,Ok={},Mk=e=>e===Ok,T4=e=>function r(){return arguments.length===0||arguments.length===1&&Mk(arguments.length<=0?void 0:arguments[0])?r:e(...arguments)},Ik=(e,r)=>e===1?r:T4(function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];var i=s.filter(o=>o!==Ok).length;return i>=e?r(...s):Ik(e-i,T4(function(){for(var o=arguments.length,d=new Array(o),c=0;c<o;c++)d[c]=arguments[c];var a=s.map(u=>Mk(u)?d.shift():u);return r(...a,...d)}))}),xz=e=>Ik(e.length,e),Gy=(e,r)=>{for(var t=[],s=e;s<r;++s)t[s-e]=s;return t},vz=xz((e,r)=>Array.isArray(r)?r.map(e):Object.keys(r).map(t=>r[t]).map(e)),bz=function(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];if(!t.length)return yz;var l=t.reverse(),i=l[0],o=l.slice(1);return function(){return o.reduce((d,c)=>c(d),i(...arguments))}};function Rk(e){var r;return e===0?r=1:r=Math.floor(new fr(e).abs().log(10).toNumber())+1,r}function Dk(e,r,t){for(var s=new fr(e),l=0,i=[];s.lt(r)&&l<1e5;)i.push(s.toNumber()),s=s.add(t),l++;return i}var Lk=e=>{var[r,t]=e,[s,l]=[r,t];return r>t&&([s,l]=[t,r]),[s,l]},zk=(e,r,t)=>{if(e.lte(0))return new fr(0);var s=Rk(e.toNumber()),l=new fr(10).pow(s),i=e.div(l),o=s!==1?.05:.1,d=new fr(Math.ceil(i.div(o).toNumber())).add(t).mul(o),c=d.mul(l);return r?new fr(c.toNumber()):new fr(Math.ceil(c.toNumber()))},wz=(e,r,t)=>{var s=new fr(1),l=new fr(e);if(!l.isint()&&t){var i=Math.abs(e);i<1?(s=new fr(10).pow(Rk(e)-1),l=new fr(Math.floor(l.div(s).toNumber())).mul(s)):i>1&&(l=new fr(Math.floor(e)))}else e===0?l=new fr(Math.floor((r-1)/2)):t||(l=new fr(Math.floor(e)));var o=Math.floor((r-1)/2),d=bz(vz(c=>l.add(new fr(c-o).mul(s)).toNumber()),Gy);return d(0,r)},Fk=function(r,t,s,l){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-r)/(s-1)))return{step:new fr(0),tickMin:new fr(0),tickMax:new fr(0)};var o=zk(new fr(t).sub(r).div(s-1),l,i),d;r<=0&&t>=0?d=new fr(0):(d=new fr(r).add(t).div(2),d=d.sub(new fr(d).mod(o)));var c=Math.ceil(d.sub(r).div(o).toNumber()),a=Math.ceil(new fr(t).sub(d).div(o).toNumber()),u=c+a+1;return u>s?Fk(r,t,s,l,i+1):(u<s&&(a=t>0?a+(s-u):a,c=t>0?c:c+(s-u)),{step:o,tickMin:d.sub(new fr(c).mul(o)),tickMax:d.add(new fr(a).mul(o))})},_z=function(r){var[t,s]=r,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(l,2),[d,c]=Lk([t,s]);if(d===-1/0||c===1/0){var a=c===1/0?[d,...Gy(0,l-1).map(()=>1/0)]:[...Gy(0,l-1).map(()=>-1/0),c];return t>s?a.reverse():a}if(d===c)return wz(d,l,i);var{step:u,tickMin:f,tickMax:h}=Fk(d,c,o,i,0),m=Dk(f,h.add(new fr(.1).mul(u)),u);return t>s?m.reverse():m},jz=function(r,t){var[s,l]=r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,d]=Lk([s,l]);if(o===-1/0||d===1/0)return[s,l];if(o===d)return[o];var c=Math.max(t,2),a=zk(new fr(d).sub(o).div(c-1),i,0),u=[...Dk(new fr(o),new fr(d),a),d];return i===!1&&(u=u.map(f=>Math.round(f))),s>l?u.reverse():u},$k=e=>e.rootProps.maxBarSize,Nz=e=>e.rootProps.barGap,Bk=e=>e.rootProps.barCategoryGap,kz=e=>e.rootProps.barSize,Ou=e=>e.rootProps.stackOffset,Uk=e=>e.rootProps.reverseStackOrder,Cv=e=>e.options.chartName,Ev=e=>e.rootProps.syncId,qk=e=>e.rootProps.syncMethod,Av=e=>e.options.eventEmitter,Sz=e=>e.rootProps.baseValue,qr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ri={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ls={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cm=(e,r)=>{if(!(!e||!r))return e!=null&&e.reversed?[r[1],r[0]]:r},Cz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ri.angleAxisId,includeHidden:!1,name:void 0,reversed:Ri.reversed,scale:Ri.scale,tick:Ri.tick,tickCount:void 0,ticks:void 0,type:Ri.type,unit:void 0},Ez={allowDataOverflow:ls.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ls.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ls.scale,tick:ls.tick,tickCount:ls.tickCount,ticks:void 0,type:ls.type,unit:void 0},Az={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ri.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ri.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ri.scale,tick:Ri.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Pz={allowDataOverflow:ls.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ls.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ls.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ls.scale,tick:ls.tick,tickCount:ls.tickCount,ticks:void 0,type:"category",unit:void 0},Pv=(e,r)=>e.polarAxis.angleAxis[r]!=null?e.polarAxis.angleAxis[r]:e.layout.layoutType==="radial"?Az:Cz,Tv=(e,r)=>e.polarAxis.radiusAxis[r]!=null?e.polarAxis.radiusAxis[r]:e.layout.layoutType==="radial"?Pz:Ez,um=e=>e.polarOptions,Ov=Pe([aa,oa,en],BN),Hk=Pe([um,Ov],(e,r)=>{if(e!=null)return On(e.innerRadius,r,0)}),Wk=Pe([um,Ov],(e,r)=>{if(e!=null)return On(e.outerRadius,r,r*.8)}),Tz=e=>{if(e==null)return[0,0];var{startAngle:r,endAngle:t}=e;return[r,t]},Vk=Pe([um],Tz);Pe([Pv,Vk],cm);var Kk=Pe([Ov,Hk,Wk],(e,r,t)=>{if(!(e==null||r==null||t==null))return[r,t]});Pe([Tv,Kk],cm);var Xk=Pe([Jt,um,Hk,Wk,aa,oa],(e,r,t,s,l,i)=>{if(!(e!=="centric"&&e!=="radial"||r==null||t==null||s==null)){var{cx:o,cy:d,startAngle:c,endAngle:a}=r;return{cx:On(o,l,l/2),cy:On(d,i,i/2),innerRadius:t,outerRadius:s,startAngle:c,endAngle:a,clockWise:!1}}}),Ar=(e,r)=>r,Mu=(e,r,t)=>t;function dm(e){return e?.id}function Gk(e,r,t){var{chartData:s=[]}=r,{allowDuplicatedCategory:l,dataKey:i}=t,o=new Map;return e.forEach(d=>{var c,a=(c=d.data)!==null&&c!==void 0?c:s;if(!(a==null||a.length===0)){var u=dm(d);a.forEach((f,h)=>{var m=i==null||l?h:String(dr(f,i,null)),g=dr(f,d.dataKey,0),y;o.has(m)?y=o.get(m):y={},Object.assign(y,{[u]:g}),o.set(m,y)})}}),Array.from(o.values())}function fm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var hm=(e,r)=>e===r?!0:e==null||r==null?!1:e[0]===r[0]&&e[1]===r[1];function mm(e,r){return Array.isArray(e)&&Array.isArray(r)&&e.length===0&&r.length===0?!0:e===r}function Oz(e,r){if(e.length===r.length){for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}return!1}var rn=e=>{var r=Jt(e);return r==="horizontal"?"xAxis":r==="vertical"?"yAxis":r==="centric"?"angleAxis":"radiusAxis"},Gl=e=>e.tooltip.settings.axisId;function O4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function mh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?O4(Object(t),!0).forEach(function(s){Mz(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function Mz(e,r,t){return(r=Iz(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Iz(e){var r=Rz(e,"string");return typeof r=="symbol"?r:r+""}function Rz(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Yy=[0,"auto"],ln={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Yk=(e,r)=>e.cartesianAxis.xAxis[r],ua=(e,r)=>{var t=Yk(e,r);return t??ln},cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Yy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ku},Zk=(e,r)=>e.cartesianAxis.yAxis[r],da=(e,r)=>{var t=Zk(e,r);return t??cn},Dz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Mv=(e,r)=>{var t=e.cartesianAxis.zAxis[r];return t??Dz},Mr=(e,r,t)=>{switch(r){case"xAxis":return ua(e,t);case"yAxis":return da(e,t);case"zAxis":return Mv(e,t);case"angleAxis":return Pv(e,t);case"radiusAxis":return Tv(e,t);default:throw new Error("Unexpected axis type: ".concat(r))}},Lz=(e,r,t)=>{switch(r){case"xAxis":return ua(e,t);case"yAxis":return da(e,t);default:throw new Error("Unexpected axis type: ".concat(r))}},Iu=(e,r,t)=>{switch(r){case"xAxis":return ua(e,t);case"yAxis":return da(e,t);case"angleAxis":return Pv(e,t);case"radiusAxis":return Tv(e,t);default:throw new Error("Unexpected axis type: ".concat(r))}},Jk=e=>e.graphicalItems.cartesianItems.some(r=>r.type==="bar")||e.graphicalItems.polarItems.some(r=>r.type==="radialBar");function Iv(e,r){return t=>{switch(e){case"xAxis":return"xAxisId"in t&&t.xAxisId===r;case"yAxis":return"yAxisId"in t&&t.yAxisId===r;case"zAxis":return"zAxisId"in t&&t.zAxisId===r;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===r;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===r;default:return!1}}}var Ru=e=>e.graphicalItems.cartesianItems,zz=Pe([Ar,Mu],Iv),Rv=(e,r,t)=>e.filter(t).filter(s=>r?.includeHidden===!0?!0:!s.hide),Du=Pe([Ru,Mr,zz],Rv,{memoizeOptions:{resultEqualityCheck:mm}}),Qk=Pe([Du],e=>e.filter(r=>r.type==="area"||r.type==="bar").filter(fm)),eS=e=>e.filter(r=>!("stackId"in r)||r.stackId===void 0),Fz=Pe([Du],eS),Dv=e=>e.map(r=>r.data).filter(Boolean).flat(1),$z=Pe([Du],Dv,{memoizeOptions:{resultEqualityCheck:mm}}),Lv=(e,r)=>{var{chartData:t=[],dataStartIndex:s,dataEndIndex:l}=r;return e.length>0?e:t.slice(s,l+1)},zv=Pe([$z,Nv],Lv),Fv=(e,r,t)=>r?.dataKey!=null?e.map(s=>({value:dr(s,r.dataKey)})):t.length>0?t.map(s=>s.dataKey).flatMap(s=>e.map(l=>({value:dr(l,s)}))):e.map(s=>({value:s})),pm=Pe([zv,Mr,Du],Fv);function tS(e,r){switch(e){case"xAxis":return r.direction==="x";case"yAxis":return r.direction==="y";default:return!1}}function kf(e){if(di(e)||e instanceof Date){var r=Number(e);if(gr(r))return r}}function M4(e){if(Array.isArray(e)){var r=[kf(e[0]),kf(e[1])];return Ha(r)?r:void 0}var t=kf(e);if(t!=null)return[t,t]}function na(e){return e.map(kf).filter(MP)}function Bz(e,r,t){return!t||typeof r!="number"||Ps(r)?[]:t.length?na(t.flatMap(s=>{var l=dr(e,s.dataKey),i,o;if(Array.isArray(l)?[i,o]=l:i=o=l,!(!gr(i)||!gr(o)))return[r-i,r+o]})):[]}var nn=e=>{var r=rn(e),t=Gl(e);return Iu(e,r,t)},Lu=Pe([nn],e=>e?.dataKey),Uz=Pe([Qk,Nv,nn],Gk),rS=(e,r,t,s)=>{var l={},i=r.reduce((o,d)=>{if(d.stackId==null)return o;var c=o[d.stackId];return c==null&&(c=[]),c.push(d),o[d.stackId]=c,o},l);return Object.fromEntries(Object.entries(i).map(o=>{var[d,c]=o,a=s?[...c].reverse():c,u=a.map(dm);return[d,{stackedData:aM(e,u,t),graphicalItems:a}]}))},ph=Pe([Uz,Qk,Ou,Uk],rS),nS=(e,r,t,s)=>{var{dataStartIndex:l,dataEndIndex:i}=r;if(s==null&&t!=="zAxis"){var o=uM(e,l,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},qz=Pe([Mr],e=>e.allowDataOverflow),$v=e=>{var r;if(e==null||!("domain"in e))return Yy;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var t=na(e.ticks);return[Math.min(...t),Math.max(...t)]}if(e.type==="category")return e.ticks.map(String)}return(r=e?.domain)!==null&&r!==void 0?r:Yy},Bv=Pe([Mr],$v),Uv=Pe([Bv,qz],Sk),Hz=Pe([ph,ca,Ar,Uv],nS,{memoizeOptions:{resultEqualityCheck:hm}}),gm=e=>e.errorBars,Wz=(e,r,t)=>e.flatMap(s=>r[s.id]).filter(Boolean).filter(s=>tS(t,s)),gh=function(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];var l=t.filter(Boolean);if(l.length!==0){var i=l.flat(),o=Math.min(...i),d=Math.max(...i);return[o,d]}},qv=(e,r,t,s,l)=>{var i,o;if(t.length>0&&e.forEach(d=>{t.forEach(c=>{var a,u,f=(a=s[c.id])===null||a===void 0?void 0:a.filter(b=>tS(l,b)),h=dr(d,(u=r.dataKey)!==null&&u!==void 0?u:c.dataKey),m=Bz(d,h,f);if(m.length>=2){var g=Math.min(...m),y=Math.max(...m);(i==null||g<i)&&(i=g),(o==null||y>o)&&(o=y)}var p=M4(h);p!=null&&(i=i==null?p[0]:Math.min(i,p[0]),o=o==null?p[1]:Math.max(o,p[1]))})}),r?.dataKey!=null&&e.forEach(d=>{var c=M4(dr(d,r.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),gr(i)&&gr(o))return[i,o]},Vz=Pe([zv,Mr,Fz,gm,Ar],qv,{memoizeOptions:{resultEqualityCheck:hm}});function Kz(e){var{value:r}=e;if(di(r)||r instanceof Date)return r}var Xz=(e,r,t)=>{var s=e.map(Kz).filter(l=>l!=null);return t&&(r.dataKey==null||r.allowDuplicatedCategory&&v5(s))?WN(0,e.length):r.allowDuplicatedCategory?s:Array.from(new Set(s))},sS=e=>e.referenceElements.dots,Yl=(e,r,t)=>e.filter(s=>s.ifOverflow==="extendDomain").filter(s=>r==="xAxis"?s.xAxisId===t:s.yAxisId===t),Gz=Pe([sS,Ar,Mu],Yl),iS=e=>e.referenceElements.areas,Yz=Pe([iS,Ar,Mu],Yl),aS=e=>e.referenceElements.lines,Zz=Pe([aS,Ar,Mu],Yl),oS=(e,r)=>{if(e!=null){var t=na(e.map(s=>r==="xAxis"?s.x:s.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},Jz=Pe(Gz,Ar,oS),lS=(e,r)=>{if(e!=null){var t=na(e.flatMap(s=>[r==="xAxis"?s.x1:s.y1,r==="xAxis"?s.x2:s.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},Qz=Pe([Yz,Ar],lS);function eF(e){var r;if(e.x!=null)return na([e.x]);var t=(r=e.segment)===null||r===void 0?void 0:r.map(s=>s.x);return t==null||t.length===0?[]:na(t)}function tF(e){var r;if(e.y!=null)return na([e.y]);var t=(r=e.segment)===null||r===void 0?void 0:r.map(s=>s.y);return t==null||t.length===0?[]:na(t)}var cS=(e,r)=>{if(e!=null){var t=e.flatMap(s=>r==="xAxis"?eF(s):tF(s));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},rF=Pe([Zz,Ar],cS),nF=Pe(Jz,rF,Qz,(e,r,t)=>gh(e,t,r)),Hv=(e,r,t,s,l,i,o,d)=>{if(t!=null)return t;var c=o==="vertical"&&d==="xAxis"||o==="horizontal"&&d==="yAxis",a=c?gh(s,i,l):gh(i,l);return hz(r,a,e.allowDataOverflow)},sF=Pe([Mr,Bv,Uv,Hz,Vz,nF,Jt,Ar],Hv,{memoizeOptions:{resultEqualityCheck:hm}}),iF=[0,1],Wv=(e,r,t,s,l,i,o)=>{if(!((e==null||t==null||t.length===0)&&o===void 0)){var{dataKey:d,type:c}=e,a=xi(r,i);if(a&&d==null){var u;return WN(0,(u=t?.length)!==null&&u!==void 0?u:0)}return c==="category"?Xz(s,e,a):l==="expand"?iF:o}},Vv=Pe([Mr,Jt,zv,pm,Ou,Ar,sF],Wv),uS=(e,r,t,s,l)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return r==="radial"&&l==="radiusAxis"?"band":r==="radial"&&l==="angleAxis"?"linear":o==="category"&&s&&(s.indexOf("LineChart")>=0||s.indexOf("AreaChart")>=0||s.indexOf("ComposedChart")>=0&&!t)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var d="scale".concat(bu(i));return d in Vc?d:"point"}}},Zl=Pe([Mr,Jt,Jk,Cv,Ar],uS);function aF(e){if(e!=null){if(e in Vc)return Vc[e]();var r="scale".concat(bu(e));if(r in Vc)return Vc[r]()}}function Kv(e,r,t,s){if(!(t==null||s==null)){if(typeof e.scale=="function")return e.scale.copy().domain(t).range(s);var l=aF(r);if(l!=null){var i=l.domain(t).range(s);return tM(i),i}}}var Xv=(e,r,t)=>{var s=$v(r);if(!(t!=="auto"&&t!=="linear")){if(r!=null&&r.tickCount&&Array.isArray(s)&&(s[0]==="auto"||s[1]==="auto")&&Ha(e))return _z(e,r.tickCount,r.allowDecimals);if(r!=null&&r.tickCount&&r.type==="number"&&Ha(e))return jz(e,r.tickCount,r.allowDecimals)}},Gv=Pe([Vv,Iu,Zl],Xv),Yv=(e,r,t,s)=>{if(s!=="angleAxis"&&e?.type==="number"&&Ha(r)&&Array.isArray(t)&&t.length>0){var l=r[0],i=t[0],o=r[1],d=t[t.length-1];return[Math.min(l,i),Math.max(o,d)]}return r},oF=Pe([Mr,Vv,Gv,Ar],Yv),lF=Pe(pm,Mr,(e,r)=>{if(!(!r||r.type!=="number")){var t=1/0,s=Array.from(na(e.map(f=>f.value))).sort((f,h)=>f-h),l=s[0],i=s[s.length-1];if(l==null||i==null)return 1/0;var o=i-l;if(o===0)return 1/0;for(var d=0;d<s.length-1;d++){var c=s[d],a=s[d+1];if(!(c==null||a==null)){var u=a-c;t=Math.min(t,u)}}return t/o}}),dS=Pe(lF,Jt,Bk,en,(e,r,t,s,l)=>l,(e,r,t,s,l)=>{if(!gr(e))return 0;var i=r==="vertical"?s.height:s.width;if(l==="gap")return e*i/2;if(l==="no-gap"){var o=On(t,e*i),d=e*i/2;return d-o-(d-o)/i*o}return 0}),cF=(e,r,t)=>{var s=ua(e,r);return s==null||typeof s.padding!="string"?0:dS(e,"xAxis",r,t,s.padding)},uF=(e,r,t)=>{var s=da(e,r);return s==null||typeof s.padding!="string"?0:dS(e,"yAxis",r,t,s.padding)},dF=Pe(ua,cF,(e,r)=>{var t,s;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:r,right:r}:{left:((t=l.left)!==null&&t!==void 0?t:0)+r,right:((s=l.right)!==null&&s!==void 0?s:0)+r}}),fF=Pe(da,uF,(e,r)=>{var t,s;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:r,bottom:r}:{top:((t=l.top)!==null&&t!==void 0?t:0)+r,bottom:((s=l.bottom)!==null&&s!==void 0?s:0)+r}}),hF=Pe([en,dF,Gh,Xh,(e,r,t)=>t],(e,r,t,s,l)=>{var{padding:i}=s;return l?[i.left,t.width-i.right]:[e.left+r.left,e.left+e.width-r.right]}),mF=Pe([en,Jt,fF,Gh,Xh,(e,r,t)=>t],(e,r,t,s,l,i)=>{var{padding:o}=l;return i?[s.height-o.bottom,o.top]:r==="horizontal"?[e.top+e.height-t.bottom,e.top+t.top]:[e.top+t.top,e.top+e.height-t.bottom]}),zu=(e,r,t,s)=>{var l;switch(r){case"xAxis":return hF(e,t,s);case"yAxis":return mF(e,t,s);case"zAxis":return(l=Mv(e,t))===null||l===void 0?void 0:l.range;case"angleAxis":return Vk(e);case"radiusAxis":return Kk(e,t);default:return}},fS=Pe([Mr,zu],cm),ym=Pe([Mr,Zl,oF,fS],Kv);Pe([Du,gm,Ar],Wz);function hS(e,r){return e.id<r.id?-1:e.id>r.id?1:0}var xm=(e,r)=>r,vm=(e,r,t)=>t,pF=Pe(Vh,xm,vm,(e,r,t)=>e.filter(s=>s.orientation===r).filter(s=>s.mirror===t).sort(hS)),gF=Pe(Kh,xm,vm,(e,r,t)=>e.filter(s=>s.orientation===r).filter(s=>s.mirror===t).sort(hS)),mS=(e,r)=>({width:e.width,height:r.height}),yF=(e,r)=>{var t=typeof r.width=="number"?r.width:ku;return{width:t,height:e.height}},pS=Pe(en,ua,mS),xF=(e,r,t)=>{switch(r){case"top":return e.top;case"bottom":return t-e.bottom;default:return 0}},vF=(e,r,t)=>{switch(r){case"left":return e.left;case"right":return t-e.right;default:return 0}},bF=Pe(oa,en,pF,xm,vm,(e,r,t,s,l)=>{var i={},o;return t.forEach(d=>{var c=mS(r,d);o==null&&(o=xF(r,s,e));var a=s==="top"&&!l||s==="bottom"&&l;i[d.id]=o-Number(a)*c.height,o+=(a?-1:1)*c.height}),i}),wF=Pe(aa,en,gF,xm,vm,(e,r,t,s,l)=>{var i={},o;return t.forEach(d=>{var c=yF(r,d);o==null&&(o=vF(r,s,e));var a=s==="left"&&!l||s==="right"&&l;i[d.id]=o-Number(a)*c.width,o+=(a?-1:1)*c.width}),i}),_F=(e,r)=>{var t=ua(e,r);if(t!=null)return bF(e,t.orientation,t.mirror)},jF=Pe([en,ua,_F,(e,r)=>r],(e,r,t,s)=>{if(r!=null){var l=t?.[s];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}}),NF=(e,r)=>{var t=da(e,r);if(t!=null)return wF(e,t.orientation,t.mirror)},kF=Pe([en,da,NF,(e,r)=>r],(e,r,t,s)=>{if(r!=null){var l=t?.[s];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}}),gS=Pe(en,da,(e,r)=>{var t=typeof r.width=="number"?r.width:ku;return{width:t,height:e.height}}),I4=(e,r,t)=>{switch(r){case"xAxis":return pS(e,t).width;case"yAxis":return gS(e,t).height;default:return}},yS=(e,r,t,s)=>{if(t!=null){var{allowDuplicatedCategory:l,type:i,dataKey:o}=t,d=xi(e,s),c=r.map(a=>a.value);if(o&&d&&i==="category"&&l&&v5(c))return c}},Zv=Pe([Jt,pm,Mr,Ar],yS),xS=(e,r,t,s)=>{if(!(t==null||t.dataKey==null)){var{type:l,scale:i}=t,o=xi(e,s);if(o&&(l==="number"||i!=="auto"))return r.map(d=>d.value)}},Jv=Pe([Jt,pm,Iu,Ar],xS),R4=Pe([Jt,Lz,Zl,ym,Zv,Jv,zu,Gv,Ar],(e,r,t,s,l,i,o,d,c)=>{if(r!=null){var a=xi(e,c);return{angle:r.angle,interval:r.interval,minTickGap:r.minTickGap,orientation:r.orientation,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit,axisType:c,categoricalDomain:i,duplicateDomain:l,isCategorical:a,niceTicks:d,range:o,realScaleType:t,scale:s}}}),SF=(e,r,t,s,l,i,o,d,c)=>{if(!(r==null||s==null)){var a=xi(e,c),{type:u,ticks:f,tickCount:h}=r,m=t==="scaleBand"&&typeof s.bandwidth=="function"?s.bandwidth()/2:2,g=u==="category"&&s.bandwidth?s.bandwidth()/m:0;g=c==="angleAxis"&&i!=null&&i.length>=2?hn(i[0]-i[1])*2*g:g;var y=f||l;if(y){var p=y.map((b,v)=>{var j=o?o.indexOf(b):b;return{index:v,coordinate:s(j)+g,value:b,offset:g}});return p.filter(b=>gr(b.coordinate))}return a&&d?d.map((b,v)=>({coordinate:s(b)+g,value:b,index:v,offset:g})).filter(b=>gr(b.coordinate)):s.ticks?s.ticks(h).map(b=>({coordinate:s(b)+g,value:b,offset:g})):s.domain().map((b,v)=>({coordinate:s(b)+g,value:o?o[b]:b,index:v,offset:g}))}},vS=Pe([Jt,Iu,Zl,ym,Gv,zu,Zv,Jv,Ar],SF),CF=(e,r,t,s,l,i,o)=>{if(!(r==null||t==null||s==null||s[0]===s[1])){var d=xi(e,o),{tickCount:c}=r,a=0;return a=o==="angleAxis"&&s?.length>=2?hn(s[0]-s[1])*2*a:a,d&&i?i.map((u,f)=>({coordinate:t(u)+a,value:u,index:f,offset:a})):t.ticks?t.ticks(c).map(u=>({coordinate:t(u)+a,value:u,offset:a})):t.domain().map((u,f)=>({coordinate:t(u)+a,value:l?l[u]:u,index:f,offset:a}))}},mi=Pe([Jt,Iu,ym,zu,Zv,Jv,Ar],CF),pi=Pe(Mr,ym,(e,r)=>{if(!(e==null||r==null))return mh(mh({},e),{},{scale:r})}),EF=Pe([Mr,Zl,Vv,fS],Kv);Pe((e,r,t)=>Mv(e,t),EF,(e,r)=>{if(!(e==null||r==null))return mh(mh({},e),{},{scale:r})});var AF=Pe([Jt,Vh,Kh],(e,r,t)=>{switch(e){case"horizontal":return r.some(s=>s.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(s=>s.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),bS=e=>e.options.defaultTooltipEventType,wS=e=>e.options.validateTooltipEventTypes;function _S(e,r,t){if(e==null)return r;var s=e?"axis":"item";return t==null?r:t.includes(s)?s:r}function Qv(e,r){var t=bS(e),s=wS(e);return _S(r,t,s)}function PF(e){return pt(r=>Qv(r,e))}var jS=(e,r)=>{var t,s=Number(r);if(!(Ps(s)||r==null))return s>=0?e==null||(t=e[s])===null||t===void 0?void 0:t.value:void 0},TF=e=>e.tooltip.settings,La={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},OF={itemInteraction:{click:La,hover:La},axisInteraction:{click:La,hover:La},keyboardInteraction:La,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},NS=es({name:"tooltip",initialState:OF,reducers:{addTooltipEntrySettings:{reducer(e,r){e.tooltipItemPayloads.push(r.payload)},prepare:Sr()},replaceTooltipEntrySettings:{reducer(e,r){var{prev:t,next:s}=r.payload,l=Ks(e).tooltipItemPayloads.indexOf(t);l>-1&&(e.tooltipItemPayloads[l]=s)},prepare:Sr()},removeTooltipEntrySettings:{reducer(e,r){var t=Ks(e).tooltipItemPayloads.indexOf(r.payload);t>-1&&e.tooltipItemPayloads.splice(t,1)},prepare:Sr()},setTooltipSettingsState(e,r){e.settings=r.payload},setActiveMouseOverItemIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=r.payload.activeIndex,e.itemInteraction.hover.dataKey=r.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=r.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=r.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,r){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=r.payload.activeIndex,e.itemInteraction.click.dataKey=r.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=r.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=r.payload.activeCoordinate},setMouseOverAxisIndex(e,r){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=r.payload.activeIndex,e.axisInteraction.hover.dataKey=r.payload.activeDataKey,e.axisInteraction.hover.coordinate=r.payload.activeCoordinate},setMouseClickAxisIndex(e,r){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=r.payload.activeIndex,e.axisInteraction.click.dataKey=r.payload.activeDataKey,e.axisInteraction.click.coordinate=r.payload.activeCoordinate},setSyncInteraction(e,r){e.syncInteraction=r.payload},setKeyboardInteraction(e,r){e.keyboardInteraction.active=r.payload.active,e.keyboardInteraction.index=r.payload.activeIndex,e.keyboardInteraction.coordinate=r.payload.activeCoordinate}}}),{addTooltipEntrySettings:MF,replaceTooltipEntrySettings:IF,removeTooltipEntrySettings:RF,setTooltipSettingsState:DF,setActiveMouseOverItemIndex:kS,mouseLeaveItem:LF,mouseLeaveChart:SS,setActiveClickItemIndex:zF,setMouseOverAxisIndex:CS,setMouseClickAxisIndex:FF,setSyncInteraction:Zy,setKeyboardInteraction:Jy}=NS.actions,$F=NS.reducer;function D4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function af(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?D4(Object(t),!0).forEach(function(s){BF(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function BF(e,r,t){return(r=UF(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function UF(e){var r=qF(e,"string");return typeof r=="symbol"?r:r+""}function qF(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function HF(e,r,t){return r==="axis"?t==="click"?e.axisInteraction.click:e.axisInteraction.hover:t==="click"?e.itemInteraction.click:e.itemInteraction.hover}function WF(e){return e.index!=null}var ES=(e,r,t,s)=>{if(r==null)return La;var l=HF(e,r,t);if(l==null)return La;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(WF(l)){if(i)return af(af({},l),{},{active:!0})}else if(s!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:s,graphicalItemId:void 0};return af(af({},La),{},{coordinate:l.coordinate})};function VF(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var r=e.valueOf();return Number.isFinite(r)?r:void 0}var t=Number(e);return Number.isFinite(t)?t:void 0}function KF(e,r){var t=VF(e),s=r[0],l=r[1];if(t===void 0)return!1;var i=Math.min(s,l),o=Math.max(s,l);return t>=i&&t<=o}function XF(e,r,t){if(t==null||r==null)return!0;var s=dr(e,r);return s==null||!Ha(t)?!0:KF(s,t)}var eb=(e,r,t,s)=>{var l=e?.index;if(l==null)return null;var i=Number(l);if(!gr(i))return l;var o=0,d=1/0;r.length>0&&(d=r.length-1);var c=Math.max(o,Math.min(i,d)),a=r[c];return a==null||XF(a,t,s)?String(c):null},AS=(e,r,t,s,l,i,o,d)=>{if(!(i==null||d==null)){var c=o[0],a=c==null?void 0:d(c.positions,i);if(a!=null)return a;var u=l?.[Number(i)];if(u)return t==="horizontal"?{x:u.coordinate,y:(s.top+r)/2}:{x:(s.left+e)/2,y:u.coordinate}}},PS=(e,r,t,s)=>{if(r==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;if(t==="hover"?l=e.itemInteraction.hover.graphicalItemId:l=e.itemInteraction.click.graphicalItemId,l==null&&s!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var d;return((d=o.settings)===null||d===void 0?void 0:d.graphicalItemId)===l})},Fu=e=>e.options.tooltipPayloadSearcher,Jl=e=>e.tooltip;function L4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function z4(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?L4(Object(t),!0).forEach(function(s){GF(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function GF(e,r,t){return(r=YF(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function YF(e){var r=ZF(e,"string");return typeof r=="symbol"?r:r+""}function ZF(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function JF(e,r){return e??r}var TS=(e,r,t,s,l,i,o)=>{if(!(r==null||i==null)){var{chartData:d,computedData:c,dataStartIndex:a,dataEndIndex:u}=t,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:y,settings:p}=m,b=JF(y,d),v=Array.isArray(b)?hN(b,a,u):b,j=(g=p?.dataKey)!==null&&g!==void 0?g:s,C=p?.nameKey,T;if(s&&Array.isArray(v)&&!Array.isArray(v[0])&&o==="axis"?T=b5(v,s,l):T=i(v,r,c,C),Array.isArray(T))T.forEach(q=>{var z=z4(z4({},p),{},{name:q.name,unit:q.unit,color:void 0,fill:void 0});h.push(B_({tooltipEntrySettings:z,dataKey:q.dataKey,payload:q.payload,value:dr(q.payload,q.dataKey),name:q.name}))});else{var D;h.push(B_({tooltipEntrySettings:p,dataKey:j,payload:T,value:dr(T,j),name:(D=dr(T,C))!==null&&D!==void 0?D:p?.name}))}return h},f)}},tb=Pe([nn,Jt,Jk,Cv,rn],uS),QF=Pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,r)=>[...e,...r]),e$=Pe([rn,Gl],Iv),Ql=Pe([QF,nn,e$],Rv,{memoizeOptions:{resultEqualityCheck:mm}}),t$=Pe([Ql],e=>e.filter(fm)),r$=Pe([Ql],Dv,{memoizeOptions:{resultEqualityCheck:mm}}),ec=Pe([r$,ca],Lv),n$=Pe([t$,ca,nn],Gk),rb=Pe([ec,nn,Ql],Fv),OS=Pe([nn],$v),s$=Pe([nn],e=>e.allowDataOverflow),MS=Pe([OS,s$],Sk),i$=Pe([Ql],e=>e.filter(fm)),a$=Pe([n$,i$,Ou,Uk],rS),o$=Pe([a$,ca,rn,MS],nS),l$=Pe([Ql],eS),c$=Pe([ec,nn,l$,gm,rn],qv,{memoizeOptions:{resultEqualityCheck:hm}}),u$=Pe([sS,rn,Gl],Yl),d$=Pe([u$,rn],oS),f$=Pe([iS,rn,Gl],Yl),h$=Pe([f$,rn],lS),m$=Pe([aS,rn,Gl],Yl),p$=Pe([m$,rn],cS),g$=Pe([d$,p$,h$],gh),y$=Pe([nn,OS,MS,o$,c$,g$,Jt,rn],Hv),$u=Pe([nn,Jt,ec,rb,Ou,rn,y$],Wv),x$=Pe([$u,nn,tb],Xv),v$=Pe([nn,$u,x$,rn],Yv),IS=e=>{var r=rn(e),t=Gl(e),s=!1;return zu(e,r,t,s)},RS=Pe([nn,IS],cm),DS=Pe([nn,tb,v$,RS],Kv),b$=Pe([Jt,rb,nn,rn],yS),w$=Pe([Jt,rb,nn,rn],xS),_$=(e,r,t,s,l,i,o,d)=>{if(r){var{type:c}=r,a=xi(e,d);if(s){var u=t==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,f=c==="category"&&s.bandwidth?s.bandwidth()/u:0;return f=d==="angleAxis"&&l!=null&&l?.length>=2?hn(l[0]-l[1])*2*f:f,a&&o?o.map((h,m)=>({coordinate:s(h)+f,value:h,index:m,offset:f})):s.domain().map((h,m)=>({coordinate:s(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},fa=Pe([Jt,nn,tb,DS,IS,b$,w$,rn],_$),nb=Pe([bS,wS,TF],(e,r,t)=>_S(t.shared,e,r)),LS=e=>e.tooltip.settings.trigger,sb=e=>e.tooltip.settings.defaultIndex,Bu=Pe([Jl,nb,LS,sb],ES),Wa=Pe([Bu,ec,Lu,$u],eb),zS=Pe([fa,Wa],jS),ib=Pe([Bu],e=>{if(e)return e.dataKey}),j$=Pe([Bu],e=>{if(e)return e.graphicalItemId}),FS=Pe([Jl,nb,LS,sb],PS),N$=Pe([aa,oa,Jt,en,fa,sb,FS,Fu],AS),k$=Pe([Bu,N$],(e,r)=>e!=null&&e.coordinate?e.coordinate:r),S$=Pe([Bu],e=>{var r;return(r=e?.active)!==null&&r!==void 0?r:!1}),C$=Pe([FS,Wa,ca,Lu,zS,Fu,nb],TS),E$=Pe([C$],e=>{if(e!=null){var r=e.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(r))}});function F4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function $4(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?F4(Object(t),!0).forEach(function(s){A$(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function A$(e,r,t){return(r=P$(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function P$(e){var r=T$(e,"string");return typeof r=="symbol"?r:r+""}function T$(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var O$=()=>pt(nn),M$=()=>{var e=O$(),r=pt(fa),t=pt(DS);return qa(!e||!t?void 0:$4($4({},e),{},{scale:t}),r)};function B4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function pl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?B4(Object(t),!0).forEach(function(s){I$(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function I$(e,r,t){return(r=R$(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function R$(e){var r=D$(e,"string");return typeof r=="symbol"?r:r+""}function D$(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var L$=(e,r,t,s)=>{var l=r.find(i=>i&&i.index===t);if(l){if(e==="horizontal")return{x:l.coordinate,y:s.chartY};if(e==="vertical")return{x:s.chartX,y:l.coordinate}}return{x:0,y:0}},z$=(e,r,t,s)=>{var l=r.find(a=>a&&a.index===t);if(l){if(e==="centric"){var i=l.coordinate,{radius:o}=s;return pl(pl(pl({},s),Kr(s.cx,s.cy,o,i)),{},{angle:i,radius:o})}var d=l.coordinate,{angle:c}=s;return pl(pl(pl({},s),Kr(s.cx,s.cy,d,c)),{},{angle:c,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function F$(e,r){var{chartX:t,chartY:s}=e;return t>=r.left&&t<=r.left+r.width&&s>=r.top&&s<=r.top+r.height}var $S=(e,r,t,s,l)=>{var i,o=(i=r?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(s==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var d=0;d<o;d++){var c,a,u,f,h,m=d>0?(c=t[d-1])===null||c===void 0?void 0:c.coordinate:(a=t[o-1])===null||a===void 0?void 0:a.coordinate,g=(u=t[d])===null||u===void 0?void 0:u.coordinate,y=d>=o-1?(f=t[0])===null||f===void 0?void 0:f.coordinate:(h=t[d+1])===null||h===void 0?void 0:h.coordinate,p=void 0;if(!(m==null||g==null||y==null))if(hn(g-m)!==hn(y-g)){var b=[];if(hn(y-g)===hn(l[1]-l[0])){p=y;var v=g+l[1]-l[0];b[0]=Math.min(v,(v+m)/2),b[1]=Math.max(v,(v+m)/2)}else{p=m;var j=y+l[1]-l[0];b[0]=Math.min(g,(j+g)/2),b[1]=Math.max(g,(j+g)/2)}var C=[Math.min(g,(p+g)/2),Math.max(g,(p+g)/2)];if(e>C[0]&&e<=C[1]||e>=b[0]&&e<=b[1]){var T;return(T=t[d])===null||T===void 0?void 0:T.index}}else{var D=Math.min(m,y),q=Math.max(m,y);if(e>(D+g)/2&&e<=(q+g)/2){var z;return(z=t[d])===null||z===void 0?void 0:z.index}}}else if(r)for(var B=0;B<o;B++){var V=r[B];if(V!=null){var X=r[B+1],W=r[B-1];if(B===0&&X!=null&&e<=(V.coordinate+X.coordinate)/2||B===o-1&&W!=null&&e>(V.coordinate+W.coordinate)/2||B>0&&B<o-1&&W!=null&&X!=null&&e>(V.coordinate+W.coordinate)/2&&e<=(V.coordinate+X.coordinate)/2)return V.index}}return-1},BS=()=>pt(Cv),ab=(e,r)=>r,US=(e,r,t)=>t,ob=(e,r,t,s)=>s,$$=Pe(fa,e=>Dh(e,r=>r.coordinate)),lb=Pe([Jl,ab,US,ob],ES),cb=Pe([lb,ec,Lu,$u],eb),B$=(e,r,t)=>{if(r!=null){var s=Jl(e);return r==="axis"?t==="hover"?s.axisInteraction.hover.dataKey:s.axisInteraction.click.dataKey:t==="hover"?s.itemInteraction.hover.dataKey:s.itemInteraction.click.dataKey}},qS=Pe([Jl,ab,US,ob],PS),yh=Pe([aa,oa,Jt,en,fa,ob,qS,Fu],AS),U$=Pe([lb,yh],(e,r)=>{var t;return(t=e.coordinate)!==null&&t!==void 0?t:r}),HS=Pe([fa,cb],jS),q$=Pe([qS,cb,ca,Lu,HS,Fu,ab],TS),H$=Pe([lb,cb],(e,r)=>({isActive:e.active&&r!=null,activeIndex:r})),W$=(e,r,t,s,l,i,o)=>{if(!(!e||!t||!s||!l)&&F$(e,o)){var d=dM(e,r),c=$S(d,i,l,t,s),a=L$(r,l,c,e);return{activeIndex:String(c),activeCoordinate:a}}},V$=(e,r,t,s,l,i,o)=>{if(!(!e||!s||!l||!i||!t)){var d=AR(e,t);if(d){var c=fM(d,r),a=$S(c,o,i,s,l),u=z$(r,i,a,d);return{activeIndex:String(a),activeCoordinate:u}}}},K$=(e,r,t,s,l,i,o,d)=>{if(!(!e||!r||!s||!l||!i))return r==="horizontal"||r==="vertical"?W$(e,r,s,l,i,o,d):V$(e,r,t,s,l,i,o)},X$=Pe(e=>e.zIndex.zIndexMap,(e,r)=>r,(e,r,t)=>t,(e,r,t)=>{if(r!=null){var s=e[r];if(s!=null)return t?s.panoramaElement:s.element}}),G$=Pe(e=>e.zIndex.zIndexMap,e=>{var r=Object.keys(e).map(s=>parseInt(s,10)).concat(Object.values(qr)),t=Array.from(new Set(r));return t.sort((s,l)=>s-l)},{memoizeOptions:{resultEqualityCheck:Oz}});function U4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function q4(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?U4(Object(t),!0).forEach(function(s){Y$(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function Y$(e,r,t){return(r=Z$(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Z$(e){var r=J$(e,"string");return typeof r=="symbol"?r:r+""}function J$(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Q$={},eB={zIndexMap:Object.values(qr).reduce((e,r)=>q4(q4({},e),{},{[r]:{element:void 0,panoramaElement:void 0,consumers:0}}),Q$)},tB=new Set(Object.values(qr));function rB(e){return tB.has(e)}var WS=es({name:"zIndex",initialState:eB,reducers:{registerZIndexPortal:{reducer:(e,r)=>{var{zIndex:t}=r.payload;e.zIndexMap[t]?e.zIndexMap[t].consumers+=1:e.zIndexMap[t]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Sr()},unregisterZIndexPortal:{reducer:(e,r)=>{var{zIndex:t}=r.payload;e.zIndexMap[t]&&(e.zIndexMap[t].consumers-=1,e.zIndexMap[t].consumers<=0&&!rB(t)&&delete e.zIndexMap[t])},prepare:Sr()},registerZIndexPortalElement:{reducer:(e,r)=>{var{zIndex:t,element:s,isPanorama:l}=r.payload;e.zIndexMap[t]?l?e.zIndexMap[t].panoramaElement=s:e.zIndexMap[t].element=s:e.zIndexMap[t]={consumers:0,element:l?void 0:s,panoramaElement:l?s:void 0}},prepare:Sr()},unregisterZIndexPortalElement:{reducer:(e,r)=>{var{zIndex:t}=r.payload;e.zIndexMap[t]&&(r.payload.isPanorama?e.zIndexMap[t].panoramaElement=void 0:e.zIndexMap[t].element=void 0)},prepare:Sr()}}}),{registerZIndexPortal:nB,unregisterZIndexPortal:sB,registerZIndexPortalElement:iB,unregisterZIndexPortalElement:aB}=WS.actions,oB=WS.reducer;function qn(e){var{zIndex:r,children:t}=e,s=HM(),l=s&&r!==void 0&&r!==0,i=yn(),o=vr();F.useLayoutEffect(()=>l?(o(nB({zIndex:r})),()=>{o(sB({zIndex:r}))}):wu,[o,r,l]);var d=pt(c=>X$(c,r,i));return l?d?wx.createPortal(t,d):null:t}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Qy.apply(null,arguments)}function H4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function of(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?H4(Object(t),!0).forEach(function(s){lB(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function lB(e,r,t){return(r=cB(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function cB(e){var r=uB(e,"string");return typeof r=="symbol"?r:r+""}function uB(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function dB(e){var{cursor:r,cursorComp:t,cursorProps:s}=e;return F.isValidElement(r)?F.cloneElement(r,s):F.createElement(t,s)}function fB(e){var r,{coordinate:t,payload:s,index:l,offset:i,tooltipAxisBandSize:o,layout:d,cursor:c,tooltipEventType:a,chartName:u}=e,f=t,h=s,m=l;if(!c||!f||u!=="ScatterChart"&&a!=="axis")return null;var g,y,p;if(u==="ScatterChart")g=f,y=qI,p=qr.cursorLine;else if(u==="BarChart")g=HI(d,f,i,o),y=$N,p=qr.cursorRectangle;else if(d==="radial"&&_5(f)){var{cx:b,cy:v,radius:j,startAngle:C,endAngle:T}=UN(f);g={cx:b,cy:v,startAngle:C,endAngle:T,innerRadius:j,outerRadius:j},y=HN,p=qr.cursorLine}else g={points:MR(d,f,i)},y=Cl,p=qr.cursorLine;var D=typeof c=="object"&&"className"in c?c.className:void 0,q=of(of(of(of({stroke:"#ccc",pointerEvents:"none"},i),g),Po(c)),{},{payload:h,payloadIndex:m,className:rr("recharts-tooltip-cursor",D)});return F.createElement(qn,{zIndex:(r=e.zIndex)!==null&&r!==void 0?r:p},F.createElement(dB,{cursor:c,cursorComp:y,cursorProps:q}))}function hB(e){var r=M$(),t=NN(),s=Ya(),l=BS();return r==null||t==null||s==null||l==null?null:F.createElement(fB,Qy({},e,{offset:t,layout:s,tooltipAxisBandSize:r,chartName:l}))}var VS=F.createContext(null),mB=()=>F.useContext(VS),Rg={exports:{}},W4;function pB(){return W4||(W4=1,(function(e){var r=Object.prototype.hasOwnProperty,t="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(t=!1));function l(c,a,u){this.fn=c,this.context=a,this.once=u||!1}function i(c,a,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new l(u,f||c,h),g=t?t+a:a;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,a){--c._eventsCount===0?c._events=new s:delete c._events[a]}function d(){this._events=new s,this._eventsCount=0}d.prototype.eventNames=function(){var a=[],u,f;if(this._eventsCount===0)return a;for(f in u=this._events)r.call(u,f)&&a.push(t?f.slice(1):f);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(u)):a},d.prototype.listeners=function(a){var u=t?t+a:a,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},d.prototype.listenerCount=function(a){var u=t?t+a:a,f=this._events[u];return f?f.fn?1:f.length:0},d.prototype.emit=function(a,u,f,h,m,g){var y=t?t+a:a;if(!this._events[y])return!1;var p=this._events[y],b=arguments.length,v,j;if(p.fn){switch(p.once&&this.removeListener(a,p.fn,void 0,!0),b){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,u),!0;case 3:return p.fn.call(p.context,u,f),!0;case 4:return p.fn.call(p.context,u,f,h),!0;case 5:return p.fn.call(p.context,u,f,h,m),!0;case 6:return p.fn.call(p.context,u,f,h,m,g),!0}for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];p.fn.apply(p.context,v)}else{var C=p.length,T;for(j=0;j<C;j++)switch(p[j].once&&this.removeListener(a,p[j].fn,void 0,!0),b){case 1:p[j].fn.call(p[j].context);break;case 2:p[j].fn.call(p[j].context,u);break;case 3:p[j].fn.call(p[j].context,u,f);break;case 4:p[j].fn.call(p[j].context,u,f,h);break;default:if(!v)for(T=1,v=new Array(b-1);T<b;T++)v[T-1]=arguments[T];p[j].fn.apply(p[j].context,v)}}return!0},d.prototype.on=function(a,u,f){return i(this,a,u,f,!1)},d.prototype.once=function(a,u,f){return i(this,a,u,f,!0)},d.prototype.removeListener=function(a,u,f,h){var m=t?t+a:a;if(!this._events[m])return this;if(!u)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var y=0,p=[],b=g.length;y<b;y++)(g[y].fn!==u||h&&!g[y].once||f&&g[y].context!==f)&&p.push(g[y]);p.length?this._events[m]=p.length===1?p[0]:p:o(this,m)}return this},d.prototype.removeAllListeners=function(a){var u;return a?(u=t?t+a:a,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,e.exports=d})(Rg)),Rg.exports}var gB=pB();const yB=gi(gB);var du=new yB,ex="recharts.syncEvent.tooltip",V4="recharts.syncEvent.brush";function bm(e,r){if(r){var t=Number.parseInt(r,10);if(!Ps(t))return e?.[t]}}var xB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},KS=es({name:"options",initialState:xB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vB=KS.reducer,{createEventEmitter:bB}=KS.actions;function wB(e){return e.tooltip.syncInteraction}var _B={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},XS=es({name:"chartData",initialState:_B,reducers:{setChartData(e,r){if(e.chartData=r.payload,r.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}r.payload.length>0&&e.dataEndIndex!==r.payload.length-1&&(e.dataEndIndex=r.payload.length-1)},setComputedData(e,r){e.computedData=r.payload},setDataStartEndIndexes(e,r){var{startIndex:t,endIndex:s}=r.payload;t!=null&&(e.dataStartIndex=t),s!=null&&(e.dataEndIndex=s)}}}),{setChartData:K4,setDataStartEndIndexes:jB,setComputedData:VZ}=XS.actions,NB=XS.reducer,kB=["x","y"];function X4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function gl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?X4(Object(t),!0).forEach(function(s){SB(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function SB(e,r,t){return(r=CB(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CB(e){var r=EB(e,"string");return typeof r=="symbol"?r:r+""}function EB(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function AB(e,r){if(e==null)return{};var t,s,l=PB(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function PB(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function TB(){var e=pt(Ev),r=pt(Av),t=vr(),s=pt(qk),l=pt(fa),i=Ya(),o=Yh(),d=pt(c=>c.rootProps.className);F.useEffect(()=>{if(e==null)return wu;var c=(a,u,f)=>{if(r!==f&&e===a){if(s==="index"){var h;if(o&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var m=u.payload.coordinate,{x:g,y}=m,p=AB(m,kB),{x:b,y:v,width:j,height:C}=u.payload.sourceViewBox,T=gl(gl({},p),{},{x:o.x+(j?(g-b)/j:0)*o.width,y:o.y+(C?(y-v)/C:0)*o.height});t(gl(gl({},u),{},{payload:gl(gl({},u.payload),{},{coordinate:T})}))}else t(u);return}if(l!=null){var D;if(typeof s=="function"){var q={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},z=s(l,q);D=l[z]}else s==="value"&&(D=l.find(_=>String(_.value)===u.payload.label));var{coordinate:B}=u.payload;if(D==null||u.payload.active===!1||B==null||o==null){t(Zy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:V,y:X}=B,W=Math.min(V,o.x+o.width),P=Math.min(X,o.y+o.height),M={x:i==="horizontal"?D.coordinate:W,y:i==="horizontal"?P:D.coordinate},E=Zy({active:u.payload.active,coordinate:M,dataKey:u.payload.dataKey,index:String(D.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});t(E)}}};return du.on(ex,c),()=>{du.off(ex,c)}},[d,t,r,e,s,l,i,o])}function OB(){var e=pt(Ev),r=pt(Av),t=vr();F.useEffect(()=>{if(e==null)return wu;var s=(l,i,o)=>{r!==o&&e===l&&t(jB(i))};return du.on(V4,s),()=>{du.off(V4,s)}},[t,r,e])}function MB(){var e=vr();F.useEffect(()=>{e(bB())},[e]),TB(),OB()}function IB(e,r,t,s,l,i){var o=pt(m=>B$(m,e,r)),d=pt(Av),c=pt(Ev),a=pt(qk),u=pt(wB),f=u?.active,h=Yh();F.useEffect(()=>{if(!f&&c!=null&&d!=null){var m=Zy({active:i,coordinate:t,dataKey:o,index:l,label:typeof s=="number"?String(s):s,sourceViewBox:h,graphicalItemId:void 0});du.emit(ex,c,m,d)}},[f,t,o,l,s,d,c,a,i,h])}function G4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Y4(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?G4(Object(t),!0).forEach(function(s){RB(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function RB(e,r,t){return(r=DB(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DB(e){var r=LB(e,"string");return typeof r=="symbol"?r:r+""}function LB(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function zB(e){return e.dataKey}function FB(e,r){return F.isValidElement(e)?F.cloneElement(e,r):typeof e=="function"?F.createElement(e,r):F.createElement(_I,r)}var Z4=[],$B={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function qi(e){var r,t,s=$r(e,$B),{active:l,allowEscapeViewBox:i,animationDuration:o,animationEasing:d,content:c,filterNull:a,isAnimationActive:u,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:y,wrapperStyle:p,cursor:b,shared:v,trigger:j,defaultIndex:C,portal:T,axisId:D}=s,q=vr(),z=typeof C=="number"?String(C):C;F.useEffect(()=>{q(DF({shared:v,trigger:j,axisId:D,active:l,defaultIndex:z}))},[q,v,j,D,l,z]);var B=Yh(),V=RN(),X=PF(v),{activeIndex:W,isActive:P}=(r=pt(J=>H$(J,X,j,z)))!==null&&r!==void 0?r:{},M=pt(J=>q$(J,X,j,z)),E=pt(J=>HS(J,X,j,z)),_=pt(J=>U$(J,X,j,z)),k=M,N=mB(),S=(t=l??P)!==null&&t!==void 0?t:!1,[O,L]=L5([k,S]),I=X==="axis"?E:void 0;IB(X,j,_,I,W,S);var G=T??N;if(G==null||B==null||X==null)return null;var Y=k??Z4;S||(Y=Z4),a&&Y.length&&(Y=O5(Y.filter(J=>J.value!=null&&(J.hide!==!0||s.includeHidden)),h,zB));var te=Y.length>0,U=F.createElement(AI,{allowEscapeViewBox:i,animationDuration:o,animationEasing:d,isAnimationActive:u,active:S,coordinate:_,hasPayload:te,offset:f,position:m,reverseDirection:g,useTranslate3d:y,viewBox:B,wrapperStyle:p,lastBoundingBox:O,innerRef:L,hasPortalFromProps:!!T},FB(c,Y4(Y4({},s),{},{payload:Y,label:I,active:S,activeIndex:W,coordinate:_,accessibilityLayer:V})));return F.createElement(F.Fragment,null,wx.createPortal(U,G),S&&F.createElement(hB,{cursor:b,tooltipEventType:X,coordinate:_,payload:Y,index:W}))}var tc=e=>null;tc.displayName="Cell";function BB(e,r,t){return(r=UB(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function UB(e){var r=qB(e,"string");return typeof r=="symbol"?r:r+""}function qB(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class HB{constructor(r){BB(this,"cache",new Map),this.maxSize=r}get(r){var t=this.cache.get(r);return t!==void 0&&(this.cache.delete(r),this.cache.set(r,t)),t}set(r,t){if(this.cache.has(r))this.cache.delete(r);else if(this.cache.size>=this.maxSize){var s=this.cache.keys().next().value;s!=null&&this.cache.delete(s)}this.cache.set(r,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function J4(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function WB(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?J4(Object(t),!0).forEach(function(s){VB(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J4(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function VB(e,r,t){return(r=KB(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function KB(e){var r=XB(e,"string");return typeof r=="symbol"?r:r+""}function XB(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var GB={cacheSize:2e3,enableCache:!0},GS=WB({},GB),Q4=new HB(GS.cacheSize),YB={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e3="recharts_measurement_span";function ZB(e,r){var t=r.fontSize||"",s=r.fontFamily||"",l=r.fontWeight||"",i=r.fontStyle||"",o=r.letterSpacing||"",d=r.textTransform||"";return"".concat(e,"|").concat(t,"|").concat(s,"|").concat(l,"|").concat(i,"|").concat(o,"|").concat(d)}var t3=(e,r)=>{try{var t=document.getElementById(e3);t||(t=document.createElement("span"),t.setAttribute("id",e3),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,YB,r),t.textContent="".concat(e);var s=t.getBoundingClientRect();return{width:s.width,height:s.height}}catch{return{width:0,height:0}}},Gc=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Cu.isSsr)return{width:0,height:0};if(!GS.enableCache)return t3(r,t);var s=ZB(r,t),l=Q4.get(s);if(l)return l;var i=t3(r,t);return Q4.set(s,i),i},YS;function JB(e,r,t){return(r=QB(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function QB(e){var r=eU(e,"string");return typeof r=="symbol"?r:r+""}function eU(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var r3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,n3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},sU=["cm","mm","pt","pc","in","Q","px"];function iU(e){return sU.includes(e)}var Nl="NaN";function aU(e,r){return e*nU[r]}class jn{static parse(r){var t,[,s,l]=(t=rU.exec(r))!==null&&t!==void 0?t:[];return s==null?jn.NaN:new jn(parseFloat(s),l??"")}constructor(r,t){this.num=r,this.unit=t,this.num=r,this.unit=t,Ps(r)&&(this.unit=""),t!==""&&!tU.test(t)&&(this.num=NaN,this.unit=""),iU(t)&&(this.num=aU(r,t),this.unit="px")}add(r){return this.unit!==r.unit?new jn(NaN,""):new jn(this.num+r.num,this.unit)}subtract(r){return this.unit!==r.unit?new jn(NaN,""):new jn(this.num-r.num,this.unit)}multiply(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new jn(NaN,""):new jn(this.num*r.num,this.unit||r.unit)}divide(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new jn(NaN,""):new jn(this.num/r.num,this.unit||r.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ps(this.num)}}YS=jn;JB(jn,"NaN",new YS(NaN,""));function ZS(e){if(e==null||e.includes(Nl))return Nl;for(var r=e;r.includes("*")||r.includes("/");){var t,[,s,l,i]=(t=r3.exec(r))!==null&&t!==void 0?t:[],o=jn.parse(s??""),d=jn.parse(i??""),c=l==="*"?o.multiply(d):o.divide(d);if(c.isNaN())return Nl;r=r.replace(r3,c.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var a,[,u,f,h]=(a=n3.exec(r))!==null&&a!==void 0?a:[],m=jn.parse(u??""),g=jn.parse(h??""),y=f==="+"?m.add(g):m.subtract(g);if(y.isNaN())return Nl;r=r.replace(n3,y.toString())}return r}var s3=/\(([^()]*)\)/;function oU(e){for(var r=e,t;(t=s3.exec(r))!=null;){var[,s]=t;r=r.replace(s3,ZS(s))}return r}function lU(e){var r=e.replace(/\s+/g,"");return r=oU(r),r=ZS(r),r}function cU(e){try{return lU(e)}catch{return Nl}}function Dg(e){var r=cU(e.slice(5,-1));return r===Nl?"":r}var uU=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],dU=["dx","dy","angle","className","breakAll"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},tx.apply(null,arguments)}function i3(e,r){if(e==null)return{};var t,s,l=fU(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function fU(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var JS=/[ \f\n\r\t\v\u2028\u2029]+/,QS=e=>{var{children:r,breakAll:t,style:s}=e;try{var l=[];Nr(r)||(t?l=r.toString().split(""):l=r.toString().split(JS));var i=l.map(d=>({word:d,width:Gc(d,s).width})),o=t?0:Gc("",s).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function hU(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var e8=(e,r,t,s)=>e.reduce((l,i)=>{var{word:o,width:d}=i,c=l[l.length-1];if(c&&d!=null&&(r==null||s||c.width+d+t<Number(r)))c.words.push(o),c.width+=d+t;else{var a={words:[o],width:d};l.push(a)}return l},[]),t8=e=>e.reduce((r,t)=>r.width>t.width?r:t),mU="",a3=(e,r,t,s,l,i,o,d)=>{var c=e.slice(0,r),a=QS({breakAll:t,style:s,children:c+mU});if(!a)return[!1,[]];var u=e8(a.wordsWithComputedWidth,i,o,d),f=u.length>l||t8(u).width>Number(i);return[f,u]},pU=(e,r,t,s,l)=>{var{maxLines:i,children:o,style:d,breakAll:c}=e,a=ot(i),u=String(o),f=e8(r,s,t,l);if(!a||l)return f;var h=f.length>i||t8(f).width>Number(s);if(!h)return f;for(var m=0,g=u.length-1,y=0,p;m<=g&&y<=u.length-1;){var b=Math.floor((m+g)/2),v=b-1,[j,C]=a3(u,v,c,d,i,s,t,l),[T]=a3(u,b,c,d,i,s,t,l);if(!j&&!T&&(m=b+1),j&&T&&(g=b-1),!j&&T){p=C;break}y++}return p||f},o3=e=>{var r=Nr(e)?[]:e.toString().split(JS);return[{words:r,width:void 0}]},gU=e=>{var{width:r,scaleToFit:t,children:s,style:l,breakAll:i,maxLines:o}=e;if((r||t)&&!Cu.isSsr){var d,c,a=QS({breakAll:i,children:s,style:l});if(a){var{wordsWithComputedWidth:u,spaceWidth:f}=a;d=u,c=f}else return o3(s);return pU({breakAll:i,children:s,maxLines:o,style:l},d,c,r,!!t)}return o3(s)},r8="#808080",yU={angle:0,breakAll:!1,capHeight:"0.71em",fill:r8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},wm=F.forwardRef((e,r)=>{var t=$r(e,yU),{x:s,y:l,lineHeight:i,capHeight:o,fill:d,scaleToFit:c,textAnchor:a,verticalAnchor:u}=t,f=i3(t,uU),h=F.useMemo(()=>gU({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:g,angle:y,className:p,breakAll:b}=f,v=i3(f,dU);if(!di(s)||!di(l)||h.length===0)return null;var j=Number(s)+(ot(m)?m:0),C=Number(l)+(ot(g)?g:0);if(!gr(j)||!gr(C))return null;var T;switch(u){case"start":T=Dg("calc(".concat(o,")"));break;case"middle":T=Dg("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:T=Dg("calc(".concat(h.length-1," * -").concat(i,")"));break}var D=[];if(c){var q=h[0].width,{width:z}=f;D.push("scale(".concat(ot(z)&&ot(q)?z/q:1,")"))}return y&&D.push("rotate(".concat(y,", ").concat(j,", ").concat(C,")")),D.length&&(v.transform=D.join(" ")),F.createElement("text",tx({},Mn(v),{ref:r,x:j,y:C,className:rr("recharts-text",p),textAnchor:a,fill:d.includes("url")?r8:d}),h.map((B,V)=>{var X=B.words.join(b?"":" ");return F.createElement("tspan",{x:j,dy:V===0?T:i,key:"".concat(X,"-").concat(V)},X)}))});wm.displayName="Text";var xU=["labelRef"],vU=["content"];function l3(e,r){if(e==null)return{};var t,s,l=bU(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function bU(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function c3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Ur(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?c3(Object(t),!0).forEach(function(s){wU(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function wU(e,r,t){return(r=_U(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _U(e){var r=jU(e,"string");return typeof r=="symbol"?r:r+""}function jU(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Di.apply(null,arguments)}var n8=F.createContext(null),NU=e=>{var{x:r,y:t,upperWidth:s,lowerWidth:l,width:i,height:o,children:d}=e,c=F.useMemo(()=>({x:r,y:t,upperWidth:s,lowerWidth:l,width:i,height:o}),[r,t,s,l,i,o]);return F.createElement(n8.Provider,{value:c},d)},s8=()=>{var e=F.useContext(n8),r=Yh();return e||jN(r)},kU=F.createContext(null),SU=()=>{var e=F.useContext(kU),r=pt(Xk);return e||r},CU=e=>{var{value:r,formatter:t}=e,s=Nr(e.children)?r:e.children;return typeof t=="function"?t(s):s},ub=e=>e!=null&&typeof e=="function",EU=(e,r)=>{var t=hn(r-e),s=Math.min(Math.abs(r-e),360);return t*s},AU=(e,r,t,s,l)=>{var{offset:i,className:o}=e,{cx:d,cy:c,innerRadius:a,outerRadius:u,startAngle:f,endAngle:h,clockWise:m}=l,g=(a+u)/2,y=EU(f,h),p=y>=0?1:-1,b,v;switch(r){case"insideStart":b=f+p*i,v=m;break;case"insideEnd":b=h-p*i,v=!m;break;case"end":b=h+p*i,v=m;break;default:throw new Error("Unsupported position ".concat(r))}v=y<=0?v:!v;var j=Kr(d,c,g,b),C=Kr(d,c,g,b+(v?1:-1)*359),T="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(C.x,",").concat(C.y),D=Nr(e.id)?Jc("recharts-radial-line-"):e.id;return F.createElement("text",Di({},s,{dominantBaseline:"central",className:rr("recharts-radial-bar-label",o)}),F.createElement("defs",null,F.createElement("path",{id:D,d:T})),F.createElement("textPath",{xlinkHref:"#".concat(D)},t))},PU=(e,r,t)=>{var{cx:s,cy:l,innerRadius:i,outerRadius:o,startAngle:d,endAngle:c}=e,a=(d+c)/2;if(t==="outside"){var{x:u,y:f}=Kr(s,l,o+r,a);return{x:u,y:f,textAnchor:u>=s?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:g}=Kr(s,l,h,a);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},rx=e=>"cx"in e&&ot(e.cx),TU=(e,r)=>{var{parentViewBox:t,offset:s,position:l}=e,i;t!=null&&!rx(t)&&(i=t);var{x:o,y:d,upperWidth:c,lowerWidth:a,height:u}=r,f=o,h=o+(c-a)/2,m=(f+h)/2,g=(c+a)/2,y=f+c/2,p=u>=0?1:-1,b=p*s,v=p>0?"end":"start",j=p>0?"start":"end",C=c>=0?1:-1,T=C*s,D=C>0?"end":"start",q=C>0?"start":"end";if(l==="top"){var z={x:f+c/2,y:d-b,textAnchor:"middle",verticalAnchor:v};return Ur(Ur({},z),i?{height:Math.max(d-i.y,0),width:c}:{})}if(l==="bottom"){var B={x:h+a/2,y:d+u+b,textAnchor:"middle",verticalAnchor:j};return Ur(Ur({},B),i?{height:Math.max(i.y+i.height-(d+u),0),width:a}:{})}if(l==="left"){var V={x:m-T,y:d+u/2,textAnchor:D,verticalAnchor:"middle"};return Ur(Ur({},V),i?{width:Math.max(V.x-i.x,0),height:u}:{})}if(l==="right"){var X={x:m+g+T,y:d+u/2,textAnchor:q,verticalAnchor:"middle"};return Ur(Ur({},X),i?{width:Math.max(i.x+i.width-X.x,0),height:u}:{})}var W=i?{width:g,height:u}:{};return l==="insideLeft"?Ur({x:m+T,y:d+u/2,textAnchor:q,verticalAnchor:"middle"},W):l==="insideRight"?Ur({x:m+g-T,y:d+u/2,textAnchor:D,verticalAnchor:"middle"},W):l==="insideTop"?Ur({x:f+c/2,y:d+b,textAnchor:"middle",verticalAnchor:j},W):l==="insideBottom"?Ur({x:h+a/2,y:d+u-b,textAnchor:"middle",verticalAnchor:v},W):l==="insideTopLeft"?Ur({x:f+T,y:d+b,textAnchor:q,verticalAnchor:j},W):l==="insideTopRight"?Ur({x:f+c-T,y:d+b,textAnchor:D,verticalAnchor:j},W):l==="insideBottomLeft"?Ur({x:h+T,y:d+u-b,textAnchor:q,verticalAnchor:v},W):l==="insideBottomRight"?Ur({x:h+a-T,y:d+u-b,textAnchor:D,verticalAnchor:v},W):l&&typeof l=="object"&&(ot(l.x)||Ji(l.x))&&(ot(l.y)||Ji(l.y))?Ur({x:o+On(l.x,g),y:d+On(l.y,u),textAnchor:"end",verticalAnchor:"end"},W):Ur({x:y,y:d+u/2,textAnchor:"middle",verticalAnchor:"middle"},W)},OU={angle:0,offset:5,zIndex:qr.label,position:"middle",textBreakAll:!1};function Da(e){var r=$r(e,OU),{viewBox:t,position:s,value:l,children:i,content:o,className:d="",textBreakAll:c,labelRef:a}=r,u=SU(),f=s8(),h=s==="center"?f:u??f,m,g,y;if(t==null?m=h:rx(t)?m=t:m=jN(t),!m||Nr(l)&&Nr(i)&&!F.isValidElement(o)&&typeof o!="function")return null;var p=Ur(Ur({},r),{},{viewBox:m});if(F.isValidElement(o)){var{labelRef:b}=p,v=l3(p,xU);return F.cloneElement(o,v)}if(typeof o=="function"){var{content:j}=p,C=l3(p,vU);if(g=F.createElement(o,C),F.isValidElement(g))return g}else g=CU(r);var T=Mn(r);if(rx(m)){if(s==="insideStart"||s==="insideEnd"||s==="end")return AU(r,s,g,T,m);y=PU(m,r.offset,r.position)}else y=TU(r,m);return F.createElement(qn,{zIndex:r.zIndex},F.createElement(wm,Di({ref:a,className:rr("recharts-label",d)},T,y,{textAnchor:hU(T.textAnchor)?T.textAnchor:y.textAnchor,breakAll:c}),g))}Da.displayName="Label";var MU=(e,r,t)=>{if(!e)return null;var s={viewBox:r,labelRef:t};return e===!0?F.createElement(Da,Di({key:"label-implicit"},s)):di(e)?F.createElement(Da,Di({key:"label-implicit",value:e},s)):F.isValidElement(e)?e.type===Da?F.cloneElement(e,Ur({key:"label-implicit"},s)):F.createElement(Da,Di({key:"label-implicit",content:e},s)):ub(e)?F.createElement(Da,Di({key:"label-implicit",content:e},s)):e&&typeof e=="object"?F.createElement(Da,Di({},e,{key:"label-implicit"},s)):null};function IU(e){var{label:r,labelRef:t}=e,s=s8();return MU(r,s,t)||null}var Lg={},zg={},u3;function RU(){return u3||(u3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return t[t.length-1]}e.last=r})(zg)),zg}var Fg={},d3;function DU(){return d3||(d3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){return Array.isArray(t)?t:Array.from(t)}e.toArray=r})(Fg)),Fg}var f3;function LU(){return f3||(f3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=RU(),t=DU(),s=Bx();function l(i){if(s.isArrayLike(i))return r.last(t.toArray(i))}e.last=l})(Lg)),Lg}var $g,h3;function zU(){return h3||(h3=1,$g=LU().last),$g}var FU=zU();const $U=gi(FU);var BU=["valueAccessor"],UU=["dataKey","clockWise","id","textBreakAll","zIndex"];function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},xh.apply(null,arguments)}function m3(e,r){if(e==null)return{};var t,s,l=qU(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function qU(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var HU=e=>Array.isArray(e.value)?$U(e.value):e.value,i8=F.createContext(void 0),db=i8.Provider,a8=F.createContext(void 0),WU=a8.Provider;function VU(){return F.useContext(i8)}function KU(){return F.useContext(a8)}function Sf(e){var{valueAccessor:r=HU}=e,t=m3(e,BU),{dataKey:s,clockWise:l,id:i,textBreakAll:o,zIndex:d}=t,c=m3(t,UU),a=VU(),u=KU(),f=a||u;return!f||!f.length?null:F.createElement(qn,{zIndex:d??qr.label},F.createElement(zr,{className:"recharts-label-list"},f.map((h,m)=>{var g,y=Nr(s)?r(h,m):dr(h&&h.payload,s),p=Nr(i)?{}:{id:"".concat(i,"-").concat(m)};return F.createElement(Da,xh({key:"label-".concat(m)},Mn(h),c,p,{fill:(g=t.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:y,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Sf.displayName="LabelList";function _m(e){var{label:r}=e;return r?r===!0?F.createElement(Sf,{key:"labelList-implicit"}):F.isValidElement(r)||ub(r)?F.createElement(Sf,{key:"labelList-implicit",content:r}):typeof r=="object"?F.createElement(Sf,xh({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},nx.apply(null,arguments)}var o8=e=>{var{cx:r,cy:t,r:s,className:l}=e,i=rr("recharts-dot",l);return ot(r)&&ot(t)&&ot(s)?F.createElement("circle",nx({},Fn(e),$x(e),{className:i,cx:r,cy:t,r:s})):null},l8=e=>e.graphicalItems.polarItems,XU=Pe([Ar,Mu],Iv),jm=Pe([l8,Mr,XU],Rv),GU=Pe([jm],Dv),Nm=Pe([GU,lm],Lv),YU=Pe([Nm,Mr,jm],Fv);Pe([Nm,Mr,jm],(e,r,t)=>t.length>0?e.flatMap(s=>t.flatMap(l=>{var i,o=dr(s,(i=r.dataKey)!==null&&i!==void 0?i:l.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):r?.dataKey!=null?e.map(s=>({value:dr(s,r.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})));var p3=()=>{},ZU=Pe([Nm,Mr,jm,gm,Ar],qv),JU=Pe([Mr,Bv,Uv,p3,ZU,p3,Jt,Ar],Hv),c8=Pe([Mr,Jt,Nm,YU,Ou,Ar,JU],Wv),QU=Pe([c8,Mr,Zl],Xv);Pe([Mr,c8,QU,Ar],Yv);var eq={radiusAxis:{},angleAxis:{}},u8=es({name:"polarAxis",initialState:eq,reducers:{addRadiusAxis(e,r){e.radiusAxis[r.payload.id]=r.payload},removeRadiusAxis(e,r){delete e.radiusAxis[r.payload.id]},addAngleAxis(e,r){e.angleAxis[r.payload.id]=r.payload},removeAngleAxis(e,r){delete e.angleAxis[r.payload.id]}}}),{addRadiusAxis:KZ,removeRadiusAxis:XZ,addAngleAxis:GZ,removeAngleAxis:YZ}=u8.actions,tq=u8.reducer;function g3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function y3(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?g3(Object(t),!0).forEach(function(s){rq(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function rq(e,r,t){return(r=nq(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function nq(e){var r=sq(e,"string");return typeof r=="symbol"?r:r+""}function sq(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var iq=(e,r)=>r,fb=Pe([l8,iq],(e,r)=>e.filter(t=>t.type==="pie").find(t=>t.id===r)),aq=[],hb=(e,r,t)=>t?.length===0?aq:t,d8=Pe([lm,fb,hb],(e,r,t)=>{var{chartData:s}=e;if(r!=null){var l;if(r?.data!=null&&r.data.length>0?l=r.data:l=s,(!l||!l.length)&&t!=null&&(l=t.map(i=>y3(y3({},r.presentationProps),i.props))),l!=null)return l}}),oq=Pe([d8,fb,hb],(e,r,t)=>{if(!(e==null||r==null))return e.map((s,l)=>{var i,o=dr(s,r.nameKey,r.name),d;return t!=null&&(i=t[l])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?d=t[l].props.fill:typeof s=="object"&&s!=null&&"fill"in s?d=s.fill:d=r.fill,{value:Ga(o,r.dataKey),color:d,payload:s,type:r.legendType}})}),lq=Pe([d8,fb,hb,en],(e,r,t,s)=>{if(!(r==null||e==null))return uH({offset:s,pieSettings:r,displayedData:e,cells:t})}),Bg={exports:{}},mr={};var x3;function cq(){if(x3)return mr;x3=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),a=Symbol.for("react.suspense_list"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(y){if(typeof y=="object"&&y!==null){var p=y.$$typeof;switch(p){case e:switch(y=y.type,y){case t:case l:case s:case c:case a:case h:return y;default:switch(y=y&&y.$$typeof,y){case o:case d:case f:case u:return y;case i:return y;default:return p}}case r:return p}}}return mr.ContextConsumer=i,mr.ContextProvider=o,mr.Element=e,mr.ForwardRef=d,mr.Fragment=t,mr.Lazy=f,mr.Memo=u,mr.Portal=r,mr.Profiler=l,mr.StrictMode=s,mr.Suspense=c,mr.SuspenseList=a,mr.isContextConsumer=function(y){return g(y)===i},mr.isContextProvider=function(y){return g(y)===o},mr.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},mr.isForwardRef=function(y){return g(y)===d},mr.isFragment=function(y){return g(y)===t},mr.isLazy=function(y){return g(y)===f},mr.isMemo=function(y){return g(y)===u},mr.isPortal=function(y){return g(y)===r},mr.isProfiler=function(y){return g(y)===l},mr.isStrictMode=function(y){return g(y)===s},mr.isSuspense=function(y){return g(y)===c},mr.isSuspenseList=function(y){return g(y)===a},mr.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===l||y===s||y===c||y===a||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===u||y.$$typeof===o||y.$$typeof===i||y.$$typeof===d||y.$$typeof===m||y.getModuleId!==void 0)},mr.typeOf=g,mr}var v3;function uq(){return v3||(v3=1,Bg.exports=cq()),Bg.exports}var dq=uq(),b3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",w3=null,Ug=null,f8=e=>{if(e===w3&&Array.isArray(Ug))return Ug;var r=[];return F.Children.forEach(e,t=>{Nr(t)||(dq.isFragment(t)?r=r.concat(f8(t.props.children)):r.push(t))}),Ug=r,w3=e,r};function mb(e,r){var t=[],s=[];return Array.isArray(r)?s=r.map(l=>b3(l)):s=[b3(r)],f8(e).forEach(l=>{var i=Oo(l,"type.displayName")||Oo(l,"type.name");i&&s.indexOf(i)!==-1&&t.push(l)}),t}var pb=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,qg={},_3;function fq(){return _3||(_3=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const l=t[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${l}]`}let s=t;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(t)===s}e.isPlainObject=r})(qg)),qg}var Hg,j3;function hq(){return j3||(j3=1,Hg=fq().isPlainObject),Hg}var mq=hq();const pq=gi(mq);var N3,k3,S3,C3,E3;function A3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function P3(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?A3(Object(t),!0).forEach(function(s){gq(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function gq(e,r,t){return(r=yq(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function yq(e){var r=xq(e,"string");return typeof r=="symbol"?r:r+""}function xq(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},vh.apply(null,arguments)}function Uc(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}var T3=(e,r,t,s,l)=>{var i=t-s,o;return o=Rr(N3||(N3=Uc(["M ",",",""])),e,r),o+=Rr(k3||(k3=Uc(["L ",",",""])),e+t,r),o+=Rr(S3||(S3=Uc(["L ",",",""])),e+t-i/2,r+l),o+=Rr(C3||(C3=Uc(["L ",",",""])),e+t-i/2-s,r+l),o+=Rr(E3||(E3=Uc(["L ",","," Z"])),e,r),o},vq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bq=e=>{var r=$r(e,vq),{x:t,y:s,upperWidth:l,lowerWidth:i,height:o,className:d}=r,{animationEasing:c,animationDuration:a,animationBegin:u,isUpdateAnimationActive:f}=r,h=F.useRef(null),[m,g]=F.useState(-1),y=F.useRef(l),p=F.useRef(i),b=F.useRef(o),v=F.useRef(t),j=F.useRef(s),C=Wl(e,"trapezoid-");if(F.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var M=h.current.getTotalLength();M&&g(M)}catch{}},[]),t!==+t||s!==+s||l!==+l||i!==+i||o!==+o||l===0&&i===0||o===0)return null;var T=rr("recharts-trapezoid",d);if(!f)return F.createElement("g",null,F.createElement("path",vh({},Mn(r),{className:T,d:T3(t,s,l,i,o)})));var D=y.current,q=p.current,z=b.current,B=v.current,V=j.current,X="0px ".concat(m===-1?1:m,"px"),W="".concat(m,"px 0px"),P=DN(["strokeDasharray"],a,c);return F.createElement(Hl,{animationId:C,key:C,canBegin:m>0,duration:a,easing:c,isActive:f,begin:u},M=>{var E=ur(D,l,M),_=ur(q,i,M),k=ur(z,o,M),N=ur(B,t,M),S=ur(V,s,M);h.current&&(y.current=E,p.current=_,b.current=k,v.current=N,j.current=S);var O=M>0?{transition:P,strokeDasharray:W}:{strokeDasharray:X};return F.createElement("path",vh({},Mn(r),{className:T,d:T3(N,S,E,_,k),ref:h,style:P3(P3({},O),r.style)}))})},wq=["option","shapeType","activeClassName"];function _q(e,r){if(e==null)return{};var t,s,l=jq(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function jq(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function O3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function bh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?O3(Object(t),!0).forEach(function(s){Nq(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function Nq(e,r,t){return(r=kq(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function kq(e){var r=Sq(e,"string");return typeof r=="symbol"?r:r+""}function Sq(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Cq(e,r){return bh(bh({},r),e)}function Eq(e,r){return e==="symbols"}function M3(e){var{shapeType:r,elementProps:t}=e;switch(r){case"rectangle":return F.createElement($N,t);case"trapezoid":return F.createElement(bq,t);case"sector":return F.createElement(HN,t);case"symbols":if(Eq(r))return F.createElement(Fx,t);break;case"curve":return F.createElement(Cl,t);default:return null}}function Aq(e){return F.isValidElement(e)?e.props:e}function gb(e){var{option:r,shapeType:t,activeClassName:s="recharts-active-shape"}=e,l=_q(e,wq),i;if(F.isValidElement(r))i=F.cloneElement(r,bh(bh({},l),Aq(r)));else if(typeof r=="function")i=r(l,l.index);else if(pq(r)&&typeof r!="boolean"){var o=Cq(r,l);i=F.createElement(M3,{shapeType:t,elementProps:o})}else{var d=l;i=F.createElement(M3,{shapeType:t,elementProps:d})}return l.isActive?F.createElement(zr,{className:s},i):i}var yb=(e,r,t)=>{var s=vr();return(l,i)=>o=>{e?.(l,i,o),s(kS({activeIndex:String(i),activeDataKey:r,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:t}))}},xb=e=>{var r=vr();return(t,s)=>l=>{e?.(t,s,l),r(LF())}},vb=(e,r,t)=>{var s=vr();return(l,i)=>o=>{e?.(l,i,o),s(zF({activeIndex:String(i),activeDataKey:r,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:t}))}};function km(e){var{tooltipEntrySettings:r}=e,t=vr(),s=yn(),l=F.useRef(null);return F.useLayoutEffect(()=>{s||(l.current===null?t(MF(r)):l.current!==r&&t(IF({prev:l.current,next:r})),l.current=r)},[r,t,s]),F.useLayoutEffect(()=>()=>{l.current&&(t(RF(l.current)),l.current=null)},[t]),null}function bb(e){var{legendPayload:r}=e,t=vr(),s=yn(),l=F.useRef(null);return F.useLayoutEffect(()=>{s||(l.current===null?t(ON(r)):l.current!==r&&t(MN({prev:l.current,next:r})),l.current=r)},[t,s,r]),F.useLayoutEffect(()=>()=>{l.current&&(t(IN(l.current)),l.current=null)},[t]),null}function Pq(e){var{legendPayload:r}=e,t=vr(),s=pt(Jt),l=F.useRef(null);return F.useLayoutEffect(()=>{s!=="centric"&&s!=="radial"||(l.current===null?t(ON(r)):l.current!==r&&t(MN({prev:l.current,next:r})),l.current=r)},[t,s,r]),F.useLayoutEffect(()=>()=>{l.current&&(t(IN(l.current)),l.current=null)},[t]),null}var Wg,Tq=()=>{var[e]=F.useState(()=>Jc("uid-"));return e},Oq=(Wg=rC.useId)!==null&&Wg!==void 0?Wg:Tq;function Mq(e,r){var t=Oq();return r||(e?"".concat(e,"-").concat(t):t)}var Iq=F.createContext(void 0),Sm=e=>{var{id:r,type:t,children:s}=e,l=Mq("recharts-".concat(t),r);return F.createElement(Iq.Provider,{value:l},s(l))},Rq={cartesianItems:[],polarItems:[]},h8=es({name:"graphicalItems",initialState:Rq,reducers:{addCartesianGraphicalItem:{reducer(e,r){e.cartesianItems.push(r.payload)},prepare:Sr()},replaceCartesianGraphicalItem:{reducer(e,r){var{prev:t,next:s}=r.payload,l=Ks(e).cartesianItems.indexOf(t);l>-1&&(e.cartesianItems[l]=s)},prepare:Sr()},removeCartesianGraphicalItem:{reducer(e,r){var t=Ks(e).cartesianItems.indexOf(r.payload);t>-1&&e.cartesianItems.splice(t,1)},prepare:Sr()},addPolarGraphicalItem:{reducer(e,r){e.polarItems.push(r.payload)},prepare:Sr()},removePolarGraphicalItem:{reducer(e,r){var t=Ks(e).polarItems.indexOf(r.payload);t>-1&&e.polarItems.splice(t,1)},prepare:Sr()}}}),{addCartesianGraphicalItem:Dq,replaceCartesianGraphicalItem:Lq,removeCartesianGraphicalItem:zq,addPolarGraphicalItem:Fq,removePolarGraphicalItem:$q}=h8.actions,Bq=h8.reducer,Uq=e=>{var r=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?r(Dq(e)):t.current!==e&&r(Lq({prev:t.current,next:e})),t.current=e},[r,e]),F.useLayoutEffect(()=>()=>{t.current&&(r(zq(t.current)),t.current=null)},[r]),null},wb=F.memo(Uq);function qq(e){var r=vr();return F.useLayoutEffect(()=>(r(Fq(e)),()=>{r($q(e))}),[r,e]),null}var Hq=["key"],Wq=["onMouseEnter","onClick","onMouseLeave"],Vq=["id"],Kq=["id"];function I3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Dr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?I3(Object(t),!0).forEach(function(s){Xq(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function Xq(e,r,t){return(r=Gq(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gq(e){var r=Yq(e,"string");return typeof r=="symbol"?r:r+""}function Yq(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Va.apply(null,arguments)}function Cm(e,r){if(e==null)return{};var t,s,l=Zq(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function Zq(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function Jq(e){var r=F.useMemo(()=>mb(e.children,tc),[e.children]),t=pt(s=>oq(s,e.id,r));return t==null?null:F.createElement(Pq,{legendPayload:t})}var Qq=F.memo(e=>{var{dataKey:r,nameKey:t,sectors:s,stroke:l,strokeWidth:i,fill:o,name:d,hide:c,tooltipType:a,id:u}=e,f={dataDefinedOnItem:s.map(h=>h.tooltipPayload),positions:s.map(h=>h.tooltipPosition),settings:{stroke:l,strokeWidth:i,fill:o,dataKey:r,nameKey:t,name:Ga(d,r),hide:c,type:a,color:o,unit:"",graphicalItemId:u}};return F.createElement(km,{tooltipEntrySettings:f})}),eH=(e,r)=>e>r?"start":e<r?"end":"middle",tH=(e,r,t)=>On(typeof r=="function"?r(e):r,t,t*.8),rH=(e,r,t)=>{var{top:s,left:l,width:i,height:o}=r,d=BN(i,o),c=l+On(e.cx,i,i/2),a=s+On(e.cy,o,o/2),u=On(e.innerRadius,d,0),f=tH(t,e.outerRadius,d),h=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:a,innerRadius:u,outerRadius:f,maxRadius:h}},nH=(e,r)=>{var t=hn(r-e),s=Math.min(Math.abs(r-e),360);return t*s};function sH(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var iH=(e,r)=>{if(F.isValidElement(e))return F.cloneElement(e,r);if(typeof e=="function")return e(r);var t=rr("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:s}=r,l=Cm(r,Hq);return F.createElement(Cl,Va({},l,{type:"linear",className:t}))},aH=(e,r,t)=>{if(F.isValidElement(e))return F.cloneElement(e,r);var s=t;if(typeof e=="function"&&(s=e(r),F.isValidElement(s)))return s;var l=rr("recharts-pie-label-text",sH(e));return F.createElement(wm,Va({},r,{alignmentBaseline:"middle",className:l}),s)};function oH(e){var{sectors:r,props:t,showLabels:s}=e,{label:l,labelLine:i,dataKey:o}=t;if(!s||!l||!r)return null;var d=Fn(t),c=Po(l),a=Po(i),u=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,f=r.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,y=Kr(h.cx,h.cy,h.outerRadius+u,g),p=Dr(Dr(Dr(Dr({},d),h),{},{stroke:"none"},c),{},{index:m,textAnchor:eH(y.x,h.cx)},y),b=Dr(Dr(Dr(Dr({},d),h),{},{fill:"none",stroke:h.fill},a),{},{index:m,points:[Kr(h.cx,h.cy,h.outerRadius,g),y],key:"line"});return F.createElement(qn,{zIndex:qr.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},F.createElement(zr,null,i&&iH(i,b),aH(l,p,dr(h,o))))});return F.createElement(zr,{className:"recharts-pie-labels"},f)}function lH(e){var{sectors:r,props:t,showLabels:s}=e,{label:l}=t;return typeof l=="object"&&l!=null&&"position"in l?F.createElement(_m,{label:l}):F.createElement(oH,{sectors:r,props:t,showLabels:s})}function cH(e){var{sectors:r,activeShape:t,inactiveShape:s,allOtherPieProps:l,shape:i,id:o}=e,d=pt(Wa),c=pt(ib),a=pt(j$),{onMouseEnter:u,onClick:f,onMouseLeave:h}=l,m=Cm(l,Wq),g=yb(u,l.dataKey,o),y=xb(h),p=vb(f,l.dataKey,o);return r==null||r.length===0?null:F.createElement(F.Fragment,null,r.map((b,v)=>{if(b?.startAngle===0&&b?.endAngle===0&&r.length!==1)return null;var j=a==null||a===o,C=String(v)===d&&(c==null||l.dataKey===c)&&j,T=d?s:null,D=t&&C?t:T,q=Dr(Dr({},b),{},{stroke:b.stroke,tabIndex:-1,[xN]:v,[vN]:o});return F.createElement(zr,Va({key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(v),tabIndex:-1,className:"recharts-pie-sector"},_u(m,b,v),{onMouseEnter:g(b,v),onMouseLeave:y(b,v),onClick:p(b,v)}),F.createElement(gb,Va({option:i??D,index:v,shapeType:"sector",isActive:C},q)))}))}function uH(e){var r,{pieSettings:t,displayedData:s,cells:l,offset:i}=e,{cornerRadius:o,startAngle:d,endAngle:c,dataKey:a,nameKey:u,tooltipType:f}=t,h=Math.abs(t.minAngle),m=nH(d,c),g=Math.abs(m),y=s.length<=1?0:(r=t.paddingAngle)!==null&&r!==void 0?r:0,p=s.filter(D=>dr(D,a,0)!==0).length,b=(g>=360?p:p-1)*y,v=g-p*h-b,j=s.reduce((D,q)=>{var z=dr(q,a,0);return D+(ot(z)?z:0)},0),C;if(j>0){var T;C=s.map((D,q)=>{var z=dr(D,a,0),B=dr(D,u,q),V=rH(t,i,D),X=(ot(z)?z:0)/j,W,P=Dr(Dr({},D),l&&l[q]&&l[q].props);q?W=T.endAngle+hn(m)*y*(z!==0?1:0):W=d;var M=W+hn(m)*((z!==0?h:0)+X*v),E=(W+M)/2,_=(V.innerRadius+V.outerRadius)/2,k=[{name:B,value:z,payload:P,dataKey:a,type:f,graphicalItemId:t.id}],N=Kr(V.cx,V.cy,_,E);return T=Dr(Dr(Dr(Dr({},t.presentationProps),{},{percent:X,cornerRadius:typeof o=="string"?parseFloat(o):o,name:B,tooltipPayload:k,midAngle:E,middleRadius:_,tooltipPosition:N},P),V),{},{value:z,dataKey:a,startAngle:W,endAngle:M,payload:P,paddingAngle:hn(m)*y}),T})}return C}function dH(e){var{showLabels:r,sectors:t,children:s}=e,l=F.useMemo(()=>!r||!t?[]:t.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[t,r]);return F.createElement(WU,{value:r?l:void 0},s)}function fH(e){var{props:r,previousSectorsRef:t,id:s}=e,{sectors:l,isAnimationActive:i,animationBegin:o,animationDuration:d,animationEasing:c,activeShape:a,inactiveShape:u,onAnimationStart:f,onAnimationEnd:h}=r,m=Wl(r,"recharts-pie-"),g=t.current,[y,p]=F.useState(!1),b=F.useCallback(()=>{typeof h=="function"&&h(),p(!1)},[h]),v=F.useCallback(()=>{typeof f=="function"&&f(),p(!0)},[f]);return F.createElement(dH,{showLabels:!y,sectors:l},F.createElement(Hl,{animationId:m,begin:o,duration:d,isActive:i,easing:c,onAnimationStart:v,onAnimationEnd:b,key:m},j=>{var C=[],T=l&&l[0],D=T?.startAngle;return l?.forEach((q,z)=>{var B=g&&g[z],V=z>0?Oo(q,"paddingAngle",0):0;if(B){var X=ur(B.endAngle-B.startAngle,q.endAngle-q.startAngle,j),W=Dr(Dr({},q),{},{startAngle:D+V,endAngle:D+X+V});C.push(W),D=W.endAngle}else{var{endAngle:P,startAngle:M}=q,E=ur(0,P-M,j),_=Dr(Dr({},q),{},{startAngle:D+V,endAngle:D+E+V});C.push(_),D=_.endAngle}}),t.current=C,F.createElement(zr,null,F.createElement(cH,{sectors:C,activeShape:a,inactiveShape:u,allOtherPieProps:r,shape:r.shape,id:s}))}),F.createElement(lH,{showLabels:!y,sectors:l,props:r}),r.children)}var hH={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:qr.area};function mH(e){var{id:r}=e,t=Cm(e,Vq),{hide:s,className:l,rootTabIndex:i}=e,o=F.useMemo(()=>mb(e.children,tc),[e.children]),d=pt(u=>lq(u,r,o)),c=F.useRef(null),a=rr("recharts-pie",l);return s||d==null?(c.current=null,F.createElement(zr,{tabIndex:i,className:a})):F.createElement(qn,{zIndex:e.zIndex},F.createElement(Qq,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:r}),F.createElement(zr,{tabIndex:i,className:a},F.createElement(fH,{props:Dr(Dr({},t),{},{sectors:d}),previousSectorsRef:c,id:r})))}function m8(e){var r=$r(e,hH),{id:t}=r,s=Cm(r,Kq),l=Fn(s);return F.createElement(Sm,{id:t,type:"pie"},i=>F.createElement(F.Fragment,null,F.createElement(qq,{type:"pie",id:i,data:s.data,dataKey:s.dataKey,hide:s.hide,angleAxisId:0,radiusAxisId:0,name:s.name,nameKey:s.nameKey,tooltipType:s.tooltipType,legendType:s.legendType,fill:s.fill,cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,paddingAngle:s.paddingAngle,minAngle:s.minAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius,cornerRadius:s.cornerRadius,presentationProps:l,maxRadius:r.maxRadius}),F.createElement(Jq,Va({},s,{id:i})),F.createElement(mH,Va({},s,{id:i}))))}m8.displayName="Pie";var pH=["points"];function R3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Vg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?R3(Object(t),!0).forEach(function(s){gH(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function gH(e,r,t){return(r=yH(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function yH(e){var r=xH(e,"string");return typeof r=="symbol"?r:r+""}function xH(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},wh.apply(null,arguments)}function vH(e,r){if(e==null)return{};var t,s,l=bH(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function bH(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function wH(e){var{option:r,dotProps:t,className:s}=e;if(F.isValidElement(r))return F.cloneElement(r,t);if(typeof r=="function")return r(t);var l=rr(s,typeof r!="boolean"?r.className:""),i=t??{},{points:o}=i,d=vH(i,pH);return F.createElement(o8,wh({},d,{className:l}))}function _H(e,r){return e==null?!1:r?!0:e.length===1}function p8(e){var{points:r,dot:t,className:s,dotClassName:l,dataKey:i,baseProps:o,needClip:d,clipPathId:c,zIndex:a=qr.scatter}=e;if(!_H(r,t))return null;var u=pb(t),f=$A(t),h=r.map((g,y)=>{var p,b,v=Vg(Vg(Vg({r:3},o),f),{},{index:y,cx:(p=g.x)!==null&&p!==void 0?p:void 0,cy:(b=g.y)!==null&&b!==void 0?b:void 0,dataKey:i,value:g.value,payload:g.payload,points:r});return F.createElement(wH,{key:"dot-".concat(y),option:t,dotProps:v,className:l})}),m={};return d&&c!=null&&(m.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(c,")")),F.createElement(qn,{zIndex:a},F.createElement(zr,wh({className:s},m),h))}function D3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function L3(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?D3(Object(t),!0).forEach(function(s){jH(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function jH(e,r,t){return(r=NH(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function NH(e){var r=kH(e,"string");return typeof r=="symbol"?r:r+""}function kH(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var g8=0,SH={xAxis:{},yAxis:{},zAxis:{}},y8=es({name:"cartesianAxis",initialState:SH,reducers:{addXAxis:{reducer(e,r){e.xAxis[r.payload.id]=r.payload},prepare:Sr()},replaceXAxis:{reducer(e,r){var{prev:t,next:s}=r.payload;e.xAxis[t.id]!==void 0&&(t.id!==s.id&&delete e.xAxis[t.id],e.xAxis[s.id]=s)},prepare:Sr()},removeXAxis:{reducer(e,r){delete e.xAxis[r.payload.id]},prepare:Sr()},addYAxis:{reducer(e,r){e.yAxis[r.payload.id]=r.payload},prepare:Sr()},replaceYAxis:{reducer(e,r){var{prev:t,next:s}=r.payload;e.yAxis[t.id]!==void 0&&(t.id!==s.id&&delete e.yAxis[t.id],e.yAxis[s.id]=s)},prepare:Sr()},removeYAxis:{reducer(e,r){delete e.yAxis[r.payload.id]},prepare:Sr()},addZAxis:{reducer(e,r){e.zAxis[r.payload.id]=r.payload},prepare:Sr()},replaceZAxis:{reducer(e,r){var{prev:t,next:s}=r.payload;e.zAxis[t.id]!==void 0&&(t.id!==s.id&&delete e.zAxis[t.id],e.zAxis[s.id]=s)},prepare:Sr()},removeZAxis:{reducer(e,r){delete e.zAxis[r.payload.id]},prepare:Sr()},updateYAxisWidth(e,r){var{id:t,width:s}=r.payload,l=e.yAxis[t];if(l){var i=l.widthHistory||[];if(i.length===3&&i[0]===i[2]&&s===i[1]&&s!==l.width&&Math.abs(s-i[0])<=1)return;var o=[...i,s].slice(-3);e.yAxis[t]=L3(L3({},e.yAxis[t]),{},{width:s,widthHistory:o})}}}}),{addXAxis:CH,replaceXAxis:EH,removeXAxis:AH,addYAxis:PH,replaceYAxis:TH,removeYAxis:OH,addZAxis:ZZ,replaceZAxis:JZ,removeZAxis:QZ,updateYAxisWidth:MH}=y8.actions,IH=y8.reducer,RH=Pe([en],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),DH=Pe([RH,aa,oa],(e,r,t)=>{if(!(!e||r==null||t==null))return{x:e.left,y:e.top,width:Math.max(0,r-e.left-e.right),height:Math.max(0,t-e.top-e.bottom)}}),Em=()=>pt(DH),LH=()=>pt(E$);function z3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Kg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?z3(Object(t),!0).forEach(function(s){zH(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function zH(e,r,t){return(r=FH(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function FH(e){var r=$H(e,"string");return typeof r=="symbol"?r:r+""}function $H(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var BH=e=>{var{point:r,childIndex:t,mainColor:s,activeDot:l,dataKey:i,clipPath:o}=e;if(l===!1||r.x==null||r.y==null)return null;var d={index:t,dataKey:i,cx:r.x,cy:r.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},c=Kg(Kg(Kg({},d),Po(l)),$x(l)),a;return F.isValidElement(l)?a=F.cloneElement(l,c):typeof l=="function"?a=l(c):a=F.createElement(o8,c),F.createElement(zr,{className:"recharts-active-dot",clipPath:o},a)};function sx(e){var{points:r,mainColor:t,activeDot:s,itemDataKey:l,clipPath:i,zIndex:o=qr.activeDot}=e,d=pt(Wa),c=LH();if(r==null||c==null)return null;var a=r.find(u=>c.includes(u.payload));return Nr(a)?null:F.createElement(qn,{zIndex:o},F.createElement(BH,{point:a,childIndex:Number(d),mainColor:t,dataKey:l,activeDot:s,clipPath:i}))}var F3=(e,r,t)=>{var s=t??e;if(!Nr(s))return On(s,r,0)},UH=(e,r,t)=>{var s={},l=e.filter(fm),i=e.filter(a=>a.stackId==null),o=l.reduce((a,u)=>(a[u.stackId]||(a[u.stackId]=[]),a[u.stackId].push(u),a),s),d=Object.entries(o).map(a=>{var[u,f]=a,h=f.map(g=>g.dataKey),m=F3(r,t,f[0].barSize);return{stackId:u,dataKeys:h,barSize:m}}),c=i.map(a=>{var u=[a.dataKey].filter(h=>h!=null),f=F3(r,t,a.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...d,...c]};function $3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function lf(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$3(Object(t),!0).forEach(function(s){qH(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function qH(e,r,t){return(r=HH(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function HH(e){var r=WH(e,"string");return typeof r=="symbol"?r:r+""}function WH(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function VH(e,r,t,s,l){var i=s.length;if(!(i<1)){var o=On(e,t,0,!0),d,c=[];if(gr(s[0].barSize)){var a=!1,u=t/i,f=s.reduce((b,v)=>b+(v.barSize||0),0);f+=(i-1)*o,f>=t&&(f-=(i-1)*o,o=0),f>=t&&u>0&&(a=!0,u*=.9,f=i*u);var h=(t-f)/2>>0,m={offset:h-o,size:0};d=s.reduce((b,v)=>{var j,C={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+o,size:a?u:(j=v.barSize)!==null&&j!==void 0?j:0}},T=[...b,C];return m=T[T.length-1].position,T},c)}else{var g=On(r,t,0,!0);t-2*g-(i-1)*o<=0&&(o=0);var y=(t-2*g-(i-1)*o)/i;y>1&&(y>>=0);var p=gr(l)?Math.min(y,l):y;d=s.reduce((b,v,j)=>[...b,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(y+o)*j+(y-p)/2,size:p}}],c)}return d}}var KH=(e,r,t,s,l,i,o)=>{var d=Nr(o)?r:o,c=VH(t,s,l!==i?l:i,e,d);return l!==i&&c!=null&&(c=c.map(a=>lf(lf({},a),{},{position:lf(lf({},a.position),{},{offset:a.position.offset-l/2})}))),c},XH=(e,r)=>{var t=dm(r);if(!(!e||t==null||r==null)){var{stackId:s}=r;if(s!=null){var l=e[s];if(l){var{stackedData:i}=l;if(i)return i.find(o=>o.key===t)}}}};function GH(e,r){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&gr(e.zIndex)?e.zIndex:r}var x8=e=>{var{chartData:r}=e,t=vr(),s=yn();return F.useEffect(()=>s?()=>{}:(t(K4(r)),()=>{t(K4(void 0))}),[r,t,s]),null},B3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},v8=es({name:"brush",initialState:B3,reducers:{setBrushSettings(e,r){return r.payload==null?B3:r.payload}}}),{setBrushSettings:eJ}=v8.actions,YH=v8.reducer;function ZH(e,r,t){return(r=JH(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function JH(e){var r=QH(e,"string");return typeof r=="symbol"?r:r+""}function QH(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class _b{static create(r){return new _b(r)}constructor(r){this.scale=r}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(r){var{bandAware:t,position:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(r)+i}default:return this.scale(r)}if(t){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}return this.scale(r)}}isInRange(r){var t=this.range(),s=t[0],l=t[t.length-1];return s<=l?r>=s&&r<=l:r>=l&&r<=s}}ZH(_b,"EPS",1e-4);function eW(e){return(e%180+180)%180}var tW=function(r){var{width:t,height:s}=r,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=eW(l),o=i*Math.PI/180,d=Math.atan(s/t),c=o>d&&o<Math.PI-d?s/Math.sin(o):t/Math.cos(o);return Math.abs(c)},rW={dots:[],areas:[],lines:[]},b8=es({name:"referenceElements",initialState:rW,reducers:{addDot:(e,r)=>{e.dots.push(r.payload)},removeDot:(e,r)=>{var t=Ks(e).dots.findIndex(s=>s===r.payload);t!==-1&&e.dots.splice(t,1)},addArea:(e,r)=>{e.areas.push(r.payload)},removeArea:(e,r)=>{var t=Ks(e).areas.findIndex(s=>s===r.payload);t!==-1&&e.areas.splice(t,1)},addLine:(e,r)=>{e.lines.push(r.payload)},removeLine:(e,r)=>{var t=Ks(e).lines.findIndex(s=>s===r.payload);t!==-1&&e.lines.splice(t,1)}}}),{addDot:tJ,removeDot:rJ,addArea:nJ,removeArea:sJ,addLine:iJ,removeLine:aJ}=b8.actions,nW=b8.reducer,sW=F.createContext(void 0),iW=e=>{var{children:r}=e,[t]=F.useState("".concat(Jc("recharts"),"-clip")),s=Em();if(s==null)return null;var{x:l,y:i,width:o,height:d}=s;return F.createElement(sW.Provider,{value:t},F.createElement("defs",null,F.createElement("clipPath",{id:t},F.createElement("rect",{x:l,y:i,height:d,width:o}))),r)};function w8(e,r){if(r<1)return[];if(r===1)return e;for(var t=[],s=0;s<e.length;s+=r){var l=e[s];l!==void 0&&t.push(l)}return t}function aW(e,r,t){var s={width:e.width+r.width,height:e.height+r.height};return tW(s,t)}function oW(e,r,t){var s=t==="width",{x:l,y:i,width:o,height:d}=e;return r===1?{start:s?l:i,end:s?l+o:i+d}:{start:s?l+o:i+d,end:s?l:i}}function fu(e,r,t,s,l){if(e*r<e*s||e*r>e*l)return!1;var i=t();return e*(r-e*i/2-s)>=0&&e*(r+e*i/2-l)<=0}function lW(e,r){return w8(e,r+1)}function cW(e,r,t,s,l){for(var i=(s||[]).slice(),{start:o,end:d}=r,c=0,a=1,u=o,f=function(){var g=s?.[c];if(g===void 0)return{v:w8(s,a)};var y=c,p,b=()=>(p===void 0&&(p=t(g,y)),p),v=g.coordinate,j=c===0||fu(e,v,b,u,d);j||(c=0,u=o,a+=1),j&&(u=v+e*(b()/2+l),c+=a)},h;a<=i.length;)if(h=f(),h)return h.v;return[]}function uW(e,r,t,s,l){var i=(s||[]).slice(),o=i.length;if(o===0)return[];for(var{start:d,end:c}=r,a=1;a<=o;a++){for(var u=(o-1)%a,f=d,h=!0,m=function(){var v=s[g],j=g,C,T=()=>(C===void 0&&(C=t(v,j)),C),D=v.coordinate,q=g===u||fu(e,D,T,f,c);if(!q)return h=!1,1;q&&(f=D+e*(T()/2+l))},g=u;g<o&&!m();g+=a);if(h){for(var y=[],p=u;p<o;p+=a)y.push(s[p]);return y}}return[]}function U3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function An(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?U3(Object(t),!0).forEach(function(s){dW(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function dW(e,r,t){return(r=fW(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fW(e){var r=hW(e,"string");return typeof r=="symbol"?r:r+""}function hW(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function mW(e,r,t,s,l){for(var i=(s||[]).slice(),o=i.length,{start:d}=r,{end:c}=r,a=function(h){var m=i[h],g,y=()=>(g===void 0&&(g=t(m,h)),g);if(h===o-1){var p=e*(m.coordinate+e*y()/2-c);i[h]=m=An(An({},m),{},{tickCoord:p>0?m.coordinate-p*e:m.coordinate})}else i[h]=m=An(An({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=fu(e,m.tickCoord,y,d,c);b&&(c=m.tickCoord-e*(y()/2+l),i[h]=An(An({},m),{},{isShow:!0}))}},u=o-1;u>=0;u--)a(u);return i}function pW(e,r,t,s,l,i){var o=(s||[]).slice(),d=o.length,{start:c,end:a}=r;if(i){var u=s[d-1],f=t(u,d-1),h=e*(u.coordinate+e*f/2-a);if(o[d-1]=u=An(An({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),u.tickCoord!=null){var m=fu(e,u.tickCoord,()=>f,c,a);m&&(a=u.tickCoord-e*(f/2+l),o[d-1]=An(An({},u),{},{isShow:!0}))}}for(var g=i?d-1:d,y=function(v){var j=o[v],C,T=()=>(C===void 0&&(C=t(j,v)),C);if(v===0){var D=e*(j.coordinate-e*T()/2-c);o[v]=j=An(An({},j),{},{tickCoord:D<0?j.coordinate-D*e:j.coordinate})}else o[v]=j=An(An({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var q=fu(e,j.tickCoord,T,c,a);q&&(c=j.tickCoord+e*(T()/2+l),o[v]=An(An({},j),{},{isShow:!0}))}},p=0;p<g;p++)y(p);return o}function jb(e,r,t){var{tick:s,ticks:l,viewBox:i,minTickGap:o,orientation:d,interval:c,tickFormatter:a,unit:u,angle:f}=e;if(!l||!l.length||!s)return[];if(ot(c)||Cu.isSsr){var h;return(h=lW(l,ot(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=d==="top"||d==="bottom"?"width":"height",y=u&&g==="width"?Gc(u,{fontSize:r,letterSpacing:t}):{width:0,height:0},p=(j,C)=>{var T=typeof a=="function"?a(j.value,C):j.value;return g==="width"?aW(Gc(T,{fontSize:r,letterSpacing:t}),y,f):Gc(T,{fontSize:r,letterSpacing:t})[g]},b=l.length>=2?hn(l[1].coordinate-l[0].coordinate):1,v=oW(i,b,g);return c==="equidistantPreserveStart"?cW(b,v,p,l,o):c==="equidistantPreserveEnd"?uW(b,v,p,l,o):(c==="preserveStart"||c==="preserveStartEnd"?m=pW(b,v,p,l,o,c==="preserveStartEnd"):m=mW(b,v,p,l,o),m.filter(j=>j.isShow))}var gW=e=>{var{ticks:r,label:t,labelGapWithTick:s=5,tickSize:l=0,tickMargin:i=0}=e,o=0;if(r){Array.from(r).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>o&&(o=f.width)}});var d=t?t.getBoundingClientRect().width:0,c=l+i,a=o+c+d+(t?s:0);return Math.round(a)}return 0},yW=["axisLine","width","height","className","hide","ticks","axisType"];function xW(e,r){if(e==null)return{};var t,s,l=vW(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function vW(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Lo.apply(null,arguments)}function q3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Vr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?q3(Object(t),!0).forEach(function(s){bW(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function bW(e,r,t){return(r=wW(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function wW(e){var r=_W(e,"string");return typeof r=="symbol"?r:r+""}function _W(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var Hi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:qr.axis};function jW(e){var{x:r,y:t,width:s,height:l,orientation:i,mirror:o,axisLine:d,otherSvgProps:c}=e;if(!d)return null;var a=Vr(Vr(Vr({},c),Fn(d)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!o||i==="bottom"&&o);a=Vr(Vr({},a),{},{x1:r,y1:t+u*l,x2:r+s,y2:t+u*l})}else{var f=+(i==="left"&&!o||i==="right"&&o);a=Vr(Vr({},a),{},{x1:r+f*s,y1:t,x2:r+f*s,y2:t+l})}return F.createElement("line",Lo({},a,{className:rr("recharts-cartesian-axis-line",Oo(d,"className"))}))}function NW(e,r,t,s,l,i,o,d,c){var a,u,f,h,m,g,y=d?-1:1,p=e.tickSize||o,b=ot(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":a=u=e.coordinate,h=t+ +!d*l,f=h-y*p,g=f-y*c,m=b;break;case"left":f=h=e.coordinate,u=r+ +!d*s,a=u-y*p,m=a-y*c,g=b;break;case"right":f=h=e.coordinate,u=r+ +d*s,a=u+y*p,m=a+y*c,g=b;break;default:a=u=e.coordinate,h=t+ +d*l,f=h+y*p,g=f+y*c,m=b;break}return{line:{x1:a,y1:f,x2:u,y2:h},tick:{x:m,y:g}}}function kW(e,r){switch(e){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}function SW(e,r){switch(e){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}function CW(e){var{option:r,tickProps:t,value:s}=e,l,i=rr(t.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(r))l=F.cloneElement(r,Vr(Vr({},t),{},{className:i}));else if(typeof r=="function")l=r(Vr(Vr({},t),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof r!="boolean"&&(o=rr(o,r?.className)),l=F.createElement(wm,Lo({},t,{className:o}),s)}return l}var EW=F.forwardRef((e,r)=>{var{ticks:t=[],tick:s,tickLine:l,stroke:i,tickFormatter:o,unit:d,padding:c,tickTextProps:a,orientation:u,mirror:f,x:h,y:m,width:g,height:y,tickSize:p,tickMargin:b,fontSize:v,letterSpacing:j,getTicksConfig:C,events:T,axisType:D}=e,q=jb(Vr(Vr({},C),{},{ticks:t}),v,j),z=kW(u,f),B=SW(u,f),V=Fn(C),X=Po(s),W={};typeof l=="object"&&(W=l);var P=Vr(Vr({},V),{},{fill:"none"},W),M=q.map(k=>Vr({entry:k},NW(k,h,m,g,y,u,p,f,b))),E=M.map(k=>{var{entry:N,line:S}=k;return F.createElement(zr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},l&&F.createElement("line",Lo({},P,S,{className:rr("recharts-cartesian-axis-tick-line",Oo(l,"className"))})))}),_=M.map((k,N)=>{var{entry:S,tick:O}=k,L=Vr(Vr(Vr(Vr({textAnchor:z,verticalAnchor:B},V),{},{stroke:"none",fill:i},X),O),{},{index:N,payload:S,visibleTicksCount:q.length,tickFormatter:o,padding:c},a);return F.createElement(zr,Lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},_u(T,S,N)),s&&F.createElement(CW,{option:s,tickProps:L,value:"".concat(typeof o=="function"?o(S.value,N):S.value).concat(d||"")}))});return F.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},_.length>0&&F.createElement(qn,{zIndex:qr.label},F.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:r},_)),E.length>0&&F.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},E))}),AW=F.forwardRef((e,r)=>{var{axisLine:t,width:s,height:l,className:i,hide:o,ticks:d,axisType:c}=e,a=xW(e,yW),[u,f]=F.useState(""),[h,m]=F.useState(""),g=F.useRef(null);F.useImperativeHandle(r,()=>({getCalculatedWidth:()=>{var p;return gW({ticks:g.current,label:(p=e.labelRef)===null||p===void 0?void 0:p.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=F.useCallback(p=>{if(p){var b=p.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=b;var v=b[0];if(v){var j=window.getComputedStyle(v),C=j.fontSize,T=j.letterSpacing;(C!==u||T!==h)&&(f(C),m(T))}}},[u,h]);return o||s!=null&&s<=0||l!=null&&l<=0?null:F.createElement(qn,{zIndex:e.zIndex},F.createElement(zr,{className:rr("recharts-cartesian-axis",i)},F.createElement(jW,{x:e.x,y:e.y,width:s,height:l,orientation:e.orientation,mirror:e.mirror,axisLine:t,otherSvgProps:Fn(e)}),F.createElement(EW,{ref:y,axisType:c,events:a,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:d,unit:e.unit,width:e.width,x:e.x,y:e.y}),F.createElement(NU,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},F.createElement(IU,{label:e.label,labelRef:e.labelRef}),e.children)))}),Nb=F.forwardRef((e,r)=>{var t=$r(e,Hi);return F.createElement(AW,Lo({},t,{ref:r}))});Nb.displayName="CartesianAxis";var PW=["x1","y1","x2","y2","key"],TW=["offset"],OW=["xAxisId","yAxisId"],MW=["xAxisId","yAxisId"];function H3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Pn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?H3(Object(t),!0).forEach(function(s){IW(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function IW(e,r,t){return(r=RW(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function RW(e){var r=DW(e,"string");return typeof r=="symbol"?r:r+""}function DW(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},jo.apply(null,arguments)}function _h(e,r){if(e==null)return{};var t,s,l=LW(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function LW(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var zW=e=>{var{fill:r}=e;if(!r||r==="none")return null;var{fillOpacity:t,x:s,y:l,width:i,height:o,ry:d}=e;return F.createElement("rect",{x:s,y:l,ry:d,width:i,height:o,stroke:"none",fill:r,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function _8(e){var{option:r,lineItemProps:t}=e,s;if(F.isValidElement(r))s=F.cloneElement(r,t);else if(typeof r=="function")s=r(t);else{var l,{x1:i,y1:o,x2:d,y2:c,key:a}=t,u=_h(t,PW),f=(l=Fn(u))!==null&&l!==void 0?l:{},{offset:h}=f,m=_h(f,TW);s=F.createElement("line",jo({},m,{x1:i,y1:o,x2:d,y2:c,fill:"none",key:a}))}return s}function FW(e){var{x:r,width:t,horizontal:s=!0,horizontalPoints:l}=e;if(!s||!l||!l.length)return null;var{xAxisId:i,yAxisId:o}=e,d=_h(e,OW),c=l.map((a,u)=>{var f=Pn(Pn({},d),{},{x1:r,y1:a,x2:r+t,y2:a,key:"line-".concat(u),index:u});return F.createElement(_8,{key:"line-".concat(u),option:s,lineItemProps:f})});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function $W(e){var{y:r,height:t,vertical:s=!0,verticalPoints:l}=e;if(!s||!l||!l.length)return null;var{xAxisId:i,yAxisId:o}=e,d=_h(e,MW),c=l.map((a,u)=>{var f=Pn(Pn({},d),{},{x1:a,y1:r,x2:a,y2:r+t,key:"line-".concat(u),index:u});return F.createElement(_8,{option:s,lineItemProps:f,key:"line-".concat(u)})});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function BW(e){var{horizontalFill:r,fillOpacity:t,x:s,y:l,width:i,height:o,horizontalPoints:d,horizontal:c=!0}=e;if(!c||!r||!r.length||d==null)return null;var a=d.map(f=>Math.round(f+l-l)).sort((f,h)=>f-h);l!==a[0]&&a.unshift(0);var u=a.map((f,h)=>{var m=!a[h+1],g=m?l+o-f:a[h+1]-f;if(g<=0)return null;var y=h%r.length;return F.createElement("rect",{key:"react-".concat(h),y:f,x:s,height:g,width:i,stroke:"none",fill:r[y],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function UW(e){var{vertical:r=!0,verticalFill:t,fillOpacity:s,x:l,y:i,width:o,height:d,verticalPoints:c}=e;if(!r||!t||!t.length)return null;var a=c.map(f=>Math.round(f+l-l)).sort((f,h)=>f-h);l!==a[0]&&a.unshift(0);var u=a.map((f,h)=>{var m=!a[h+1],g=m?l+o-f:a[h+1]-f;if(g<=0)return null;var y=h%t.length;return F.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:d,stroke:"none",fill:t[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var qW=(e,r)=>{var{xAxis:t,width:s,height:l,offset:i}=e;return mN(jb(Pn(Pn(Pn({},Hi),t),{},{ticks:pN(t),viewBox:{x:0,y:0,width:s,height:l}})),i.left,i.left+i.width,r)},HW=(e,r)=>{var{yAxis:t,width:s,height:l,offset:i}=e;return mN(jb(Pn(Pn(Pn({},Hi),t),{},{ticks:pN(t),viewBox:{x:0,y:0,width:s,height:l}})),i.top,i.top+i.height,r)},WW={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:qr.grid};function Wi(e){var r=Zx(),t=Jx(),s=NN(),l=Pn(Pn({},$r(e,WW)),{},{x:ot(e.x)?e.x:s.left,y:ot(e.y)?e.y:s.top,width:ot(e.width)?e.width:s.width,height:ot(e.height)?e.height:s.height}),{xAxisId:i,yAxisId:o,x:d,y:c,width:a,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:m}=l,g=yn(),y=pt(B=>R4(B,"xAxis",i,g)),p=pt(B=>R4(B,"yAxis",o,g));if(!fi(a)||!fi(u)||!ot(d)||!ot(c))return null;var b=l.verticalCoordinatesGenerator||qW,v=l.horizontalCoordinatesGenerator||HW,{horizontalPoints:j,verticalPoints:C}=l;if((!j||!j.length)&&typeof v=="function"){var T=h&&h.length,D=v({yAxis:p?Pn(Pn({},p),{},{ticks:T?h:p.ticks}):void 0,width:r??a,height:t??u,offset:s},T?!0:f);Xf(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(j=D)}if((!C||!C.length)&&typeof b=="function"){var q=m&&m.length,z=b({xAxis:y?Pn(Pn({},y),{},{ticks:q?m:y.ticks}):void 0,width:r??a,height:t??u,offset:s},q?!0:f);Xf(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(C=z)}return F.createElement(qn,{zIndex:l.zIndex},F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(zW,{fill:l.fill,fillOpacity:l.fillOpacity,x:l.x,y:l.y,width:l.width,height:l.height,ry:l.ry}),F.createElement(BW,jo({},l,{horizontalPoints:j})),F.createElement(UW,jo({},l,{verticalPoints:C})),F.createElement(FW,jo({},l,{offset:s,horizontalPoints:j,xAxis:y,yAxis:p})),F.createElement($W,jo({},l,{offset:s,verticalPoints:C,xAxis:y,yAxis:p}))))}Wi.displayName="CartesianGrid";var VW={},j8=es({name:"errorBars",initialState:VW,reducers:{addErrorBar:(e,r)=>{var{itemId:t,errorBar:s}=r.payload;e[t]||(e[t]=[]),e[t].push(s)},replaceErrorBar:(e,r)=>{var{itemId:t,prev:s,next:l}=r.payload;e[t]&&(e[t]=e[t].map(i=>i.dataKey===s.dataKey&&i.direction===s.direction?l:i))},removeErrorBar:(e,r)=>{var{itemId:t,errorBar:s}=r.payload;e[t]&&(e[t]=e[t].filter(l=>l.dataKey!==s.dataKey||l.direction!==s.direction))}}}),{addErrorBar:oJ,replaceErrorBar:lJ,removeErrorBar:cJ}=j8.actions,KW=j8.reducer,XW=["children"];function GW(e,r){if(e==null)return{};var t,s,l=YW(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function YW(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var ZW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},JW=F.createContext(ZW);function N8(e){var{children:r}=e,t=GW(e,XW);return F.createElement(JW.Provider,{value:t},r)}function Am(e,r){var t,s,l=pt(a=>ua(a,e)),i=pt(a=>da(a,r)),o=(t=l?.allowDataOverflow)!==null&&t!==void 0?t:ln.allowDataOverflow,d=(s=i?.allowDataOverflow)!==null&&s!==void 0?s:cn.allowDataOverflow,c=o||d;return{needClip:c,needClipX:o,needClipY:d}}function kb(e){var{xAxisId:r,yAxisId:t,clipPathId:s}=e,l=Em(),{needClipX:i,needClipY:o,needClip:d}=Am(r,t);if(!d||!l)return null;var{x:c,y:a,width:u,height:f}=l;return F.createElement("clipPath",{id:"clipPath-".concat(s)},F.createElement("rect",{x:i?c:c-u/2,y:o?a:a-f/2,width:i?u:u*2,height:o?f:f*2}))}var k8=(e,r,t,s)=>pi(e,"xAxis",r,s),S8=(e,r,t,s)=>mi(e,"xAxis",r,s),C8=(e,r,t,s)=>pi(e,"yAxis",t,s),E8=(e,r,t,s)=>mi(e,"yAxis",t,s),QW=Pe([Jt,k8,C8,S8,E8],(e,r,t,s,l)=>xi(e,"xAxis")?qa(r,s,!1):qa(t,l,!1)),eV=(e,r,t,s,l)=>l;function tV(e){return e.type==="line"}var rV=Pe([Ru,eV],(e,r)=>e.filter(tV).find(t=>t.id===r)),nV=Pe([Jt,k8,C8,S8,E8,rV,QW,Nv],(e,r,t,s,l,i,o,d)=>{var{chartData:c,dataStartIndex:a,dataEndIndex:u}=d;if(!(i==null||r==null||t==null||s==null||l==null||s.length===0||l.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=c?.slice(a,u+1),m!=null)return qV({layout:e,xAxis:r,yAxis:t,xAxisTicks:s,yAxisTicks:l,dataKey:f,bandSize:o,displayedData:m})}});function A8(e){var r=Po(e),t=3,s=2;if(r!=null){var{r:l,strokeWidth:i}=r,o=Number(l),d=Number(i);return(Number.isNaN(o)||o<0)&&(o=t),(Number.isNaN(d)||d<0)&&(d=s),{r:o,strokeWidth:d}}return{r:t,strokeWidth:s}}var Xg={exports:{}},Gg={};var W3;function sV(){if(W3)return Gg;W3=1;var e=zl();function r(c,a){return c===a&&(c!==0||1/c===1/a)||c!==c&&a!==a}var t=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,l=e.useRef,i=e.useEffect,o=e.useMemo,d=e.useDebugValue;return Gg.useSyncExternalStoreWithSelector=function(c,a,u,f,h){var m=l(null);if(m.current===null){var g={hasValue:!1,value:null};m.current=g}else g=m.current;m=o(function(){function p(T){if(!b){if(b=!0,v=T,T=f(T),h!==void 0&&g.hasValue){var D=g.value;if(h(D,T))return j=D}return j=T}if(D=j,t(v,T))return D;var q=f(T);return h!==void 0&&h(D,q)?(v=T,D):(v=T,j=q)}var b=!1,v,j,C=u===void 0?null:u;return[function(){return p(a())},C===null?void 0:function(){return p(C())}]},[a,u,f,h]);var y=s(c,m[0],m[1]);return i(function(){g.hasValue=!0,g.value=y},[y]),d(y),y},Gg}var V3;function iV(){return V3||(V3=1,Xg.exports=sV()),Xg.exports}iV();function aV(e){e()}function oV(){let e=null,r=null;return{clear(){e=null,r=null},notify(){aV(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=e;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const l=r={callback:t,next:null,prev:r};return l.prev?l.prev.next=l:e=l,function(){!s||e===null||(s=!1,l.next?l.next.prev=l.prev:r=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var K3={notify(){},get:()=>[]};function lV(e,r){let t,s=K3,l=0,i=!1;function o(y){u();const p=s.subscribe(y);let b=!1;return()=>{b||(b=!0,p(),f())}}function d(){s.notify()}function c(){g.onStateChange&&g.onStateChange()}function a(){return i}function u(){l++,t||(t=e.subscribe(c),s=oV())}function f(){l--,t&&l===0&&(t(),t=void 0,s.clear(),s=K3)}function h(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:d,handleChangeWrapper:c,isSubscribed:a,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>s};return g}var cV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uV=cV(),dV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fV=dV(),hV=()=>uV||fV?F.useLayoutEffect:F.useEffect,mV=hV();function X3(e,r){return e===r?e!==0||r!==0||1/e===1/r:e!==e&&r!==r}function pV(e,r){if(X3(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;const t=Object.keys(e),s=Object.keys(r);if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(!Object.prototype.hasOwnProperty.call(r,t[l])||!X3(e[t[l]],r[t[l]]))return!1;return!0}var gV=Symbol.for("react-redux-context"),yV=typeof globalThis<"u"?globalThis:{};function xV(){if(!F.createContext)return{};const e=yV[gV]??=new Map;let r=e.get(F.createContext);return r||(r=F.createContext(null),e.set(F.createContext,r)),r}var vV=xV();function bV(e){const{children:r,context:t,serverState:s,store:l}=e,i=F.useMemo(()=>{const c=lV(l);return{store:l,subscription:c,getServerState:s?()=>s:void 0}},[l,s]),o=F.useMemo(()=>l.getState(),[l]);mV(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==l.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const d=t||vV;return F.createElement(d.Provider,{value:i},r)}var wV=bV,_V=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function jV(e,r){return e==null&&r==null?!0:typeof e=="number"&&typeof r=="number"?e===r||e!==e&&r!==r:e===r}function Uu(e,r){var t=new Set([...Object.keys(e),...Object.keys(r)]);for(var s of t)if(_V.has(s)){if(e[s]==null&&r[s]==null)continue;if(!pV(e[s],r[s]))return!1}else if(!jV(e[s],r[s]))return!1;return!0}var NV=["id"],kV=["type","layout","connectNulls","needClip","shape"],SV=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function hu(){return hu=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hu.apply(null,arguments)}function G3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function ii(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?G3(Object(t),!0).forEach(function(s){CV(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function CV(e,r,t){return(r=EV(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function EV(e){var r=AV(e,"string");return typeof r=="symbol"?r:r+""}function AV(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Sb(e,r){if(e==null)return{};var t,s,l=PV(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function PV(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var TV=e=>{var{dataKey:r,name:t,stroke:s,legendType:l,hide:i}=e;return[{inactive:i,dataKey:r,type:l,color:s,value:Ga(t,r),payload:e}]},OV=F.memo(e=>{var{dataKey:r,data:t,stroke:s,strokeWidth:l,fill:i,name:o,hide:d,unit:c,tooltipType:a,id:u}=e,f={dataDefinedOnItem:t,positions:void 0,settings:{stroke:s,strokeWidth:l,fill:i,dataKey:r,nameKey:void 0,name:Ga(o,r),hide:d,type:a,color:s,unit:c,graphicalItemId:u}};return F.createElement(km,{tooltipEntrySettings:f})}),P8=(e,r)=>"".concat(r,"px ").concat(e-r,"px");function MV(e,r){for(var t=e.length%2!==0?[...e,0]:e,s=[],l=0;l<r;++l)s=[...s,...t];return s}var IV=(e,r,t)=>{var s=t.reduce((f,h)=>f+h);if(!s)return P8(r,e);for(var l=Math.floor(e/s),i=e%s,o=r-e,d=[],c=0,a=0;c<t.length;a+=t[c],++c)if(a+t[c]>i){d=[...t.slice(0,c),i-a];break}var u=d.length%2===0?[0,o]:[o];return[...MV(t,l),...d,...u].map(f=>"".concat(f,"px")).join(", ")};function RV(e){var{clipPathId:r,points:t,props:s}=e,{dot:l,dataKey:i,needClip:o}=s,{id:d}=s,c=Sb(s,NV),a=Fn(c);return F.createElement(p8,{points:t,dot:l,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:a,needClip:o,clipPathId:r})}function DV(e){var{showLabels:r,children:t,points:s}=e,l=F.useMemo(()=>s?.map(i=>{var o,d,c={x:(o=i.x)!==null&&o!==void 0?o:0,y:(d=i.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ii(ii({},c),{},{value:i.value,payload:i.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[s]);return F.createElement(db,{value:r?l:void 0},t)}function Y3(e){var{clipPathId:r,pathRef:t,points:s,strokeDasharray:l,props:i}=e,{type:o,layout:d,connectNulls:c,needClip:a,shape:u}=i,f=Sb(i,kV),h=ii(ii({},Mn(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(r,")"):void 0,points:s,type:o,layout:d,connectNulls:c,strokeDasharray:l??i.strokeDasharray});return F.createElement(F.Fragment,null,s?.length>1&&F.createElement(gb,hu({shapeType:"curve",option:u},h,{pathRef:t})),F.createElement(RV,{points:s,clipPathId:r,props:i}))}function LV(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function zV(e){var{clipPathId:r,props:t,pathRef:s,previousPointsRef:l,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:d,isAnimationActive:c,animationBegin:a,animationDuration:u,animationEasing:f,animateNewValues:h,width:m,height:g,onAnimationEnd:y,onAnimationStart:p}=t,b=l.current,v=Wl(o,"recharts-line-"),j=F.useRef(v),[C,T]=F.useState(!1),D=!C,q=F.useCallback(()=>{typeof y=="function"&&y(),T(!1)},[y]),z=F.useCallback(()=>{typeof p=="function"&&p(),T(!0)},[p]),B=LV(s.current),V=F.useRef(0);j.current!==v&&(V.current=i.current,j.current=v);var X=V.current;return F.createElement(DV,{points:o,showLabels:D},t.children,F.createElement(Hl,{animationId:v,begin:a,duration:u,isActive:c,easing:f,onAnimationEnd:q,onAnimationStart:z,key:v},W=>{var P=ur(X,B+X,W),M=Math.min(P,B),E;if(c)if(d){var _="".concat(d).split(/[,\s]+/gim).map(S=>parseFloat(S));E=IV(M,B,_)}else E=P8(B,M);else E=d==null?void 0:String(d);if(W>0&&B>0&&(l.current=o,i.current=Math.max(i.current,M)),b){var k=b.length/o.length,N=W===1?o:o.map((S,O)=>{var L=Math.floor(O*k);if(b[L]){var I=b[L];return ii(ii({},S),{},{x:ur(I.x,S.x,W),y:ur(I.y,S.y,W)})}return h?ii(ii({},S),{},{x:ur(m*2,S.x,W),y:ur(g/2,S.y,W)}):ii(ii({},S),{},{x:S.x,y:S.y})});return l.current=N,F.createElement(Y3,{props:t,points:N,clipPathId:r,pathRef:s,strokeDasharray:E})}return F.createElement(Y3,{props:t,points:o,clipPathId:r,pathRef:s,strokeDasharray:E})}),F.createElement(_m,{label:t.label}))}function FV(e){var{clipPathId:r,props:t}=e,s=F.useRef(null),l=F.useRef(0),i=F.useRef(null);return F.createElement(zV,{props:t,clipPathId:r,previousPointsRef:s,longestAnimatedLengthRef:l,pathRef:i})}var $V=(e,r)=>{var t,s;return{x:(t=e.x)!==null&&t!==void 0?t:void 0,y:(s=e.y)!==null&&s!==void 0?s:void 0,value:e.value,errorVal:dr(e.payload,r)}};class BV extends F.Component{render(){var{hide:r,dot:t,points:s,className:l,xAxisId:i,yAxisId:o,top:d,left:c,width:a,height:u,id:f,needClip:h,zIndex:m}=this.props;if(r)return null;var g=rr("recharts-line",l),y=f,{r:p,strokeWidth:b}=A8(t),v=pb(t),j=p*2+b,C=h?"url(#clipPath-".concat(v?"":"dots-").concat(y,")"):void 0;return F.createElement(qn,{zIndex:m},F.createElement(zr,{className:g},h&&F.createElement("defs",null,F.createElement(kb,{clipPathId:y,xAxisId:i,yAxisId:o}),!v&&F.createElement("clipPath",{id:"clipPath-dots-".concat(y)},F.createElement("rect",{x:c-j/2,y:d-j/2,width:a+j,height:u+j}))),F.createElement(N8,{xAxisId:i,yAxisId:o,data:s,dataPointFormatter:$V,errorBarOffset:0},F.createElement(FV,{props:this.props,clipPathId:y}))),F.createElement(sx,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var T8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:qr.line,type:"linear"};function UV(e){var r=$r(e,T8),{activeDot:t,animateNewValues:s,animationBegin:l,animationDuration:i,animationEasing:o,connectNulls:d,dot:c,hide:a,isAnimationActive:u,label:f,legendType:h,xAxisId:m,yAxisId:g,id:y}=r,p=Sb(r,SV),{needClip:b}=Am(m,g),v=Em(),j=Ya(),C=yn(),T=pt(V=>nV(V,m,g,C,y));if(j!=="horizontal"&&j!=="vertical"||T==null||v==null)return null;var{height:D,width:q,x:z,y:B}=v;return F.createElement(BV,hu({},p,{id:y,connectNulls:d,dot:c,activeDot:t,animateNewValues:s,animationBegin:l,animationDuration:i,animationEasing:o,isAnimationActive:u,hide:a,label:f,legendType:h,xAxisId:m,yAxisId:g,points:T,layout:j,height:D,width:q,left:z,top:B,needClip:b}))}function qV(e){var{layout:r,xAxis:t,yAxis:s,xAxisTicks:l,yAxisTicks:i,dataKey:o,bandSize:d,displayedData:c}=e;return c.map((a,u)=>{var f=dr(a,o);if(r==="horizontal"){var h=Kf({axis:t,ticks:l,bandSize:d,entry:a,index:u}),m=Nr(f)?null:s.scale(f);return{x:h,y:m,value:f,payload:a}}var g=Nr(f)?null:t.scale(f),y=Kf({axis:s,ticks:i,bandSize:d,entry:a,index:u});return g==null||y==null?null:{x:g,y,value:f,payload:a}}).filter(Boolean)}function HV(e){var r=$r(e,T8),t=yn();return F.createElement(Sm,{id:r.id,type:"line"},s=>F.createElement(F.Fragment,null,F.createElement(bb,{legendPayload:TV(r)}),F.createElement(OV,{dataKey:r.dataKey,data:r.data,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType,id:s}),F.createElement(wb,{type:"line",id:s,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:t}),F.createElement(UV,hu({},r,{id:s}))))}var O8=F.memo(HV,Uu);O8.displayName="Line";function vi(e,r){var t,s;return(t=(s=e.graphicalItems.cartesianItems.find(l=>l.id===r))===null||s===void 0?void 0:s.xAxisId)!==null&&t!==void 0?t:g8}function bi(e,r){var t,s;return(t=(s=e.graphicalItems.cartesianItems.find(l=>l.id===r))===null||s===void 0?void 0:s.yAxisId)!==null&&t!==void 0?t:g8}var M8=(e,r,t)=>pi(e,"xAxis",vi(e,r),t),I8=(e,r,t)=>mi(e,"xAxis",vi(e,r),t),R8=(e,r,t)=>pi(e,"yAxis",bi(e,r),t),D8=(e,r,t)=>mi(e,"yAxis",bi(e,r),t),WV=Pe([Jt,M8,R8,I8,D8],(e,r,t,s,l)=>xi(e,"xAxis")?qa(r,s,!1):qa(t,l,!1)),VV=(e,r)=>r,L8=Pe([Ru,VV],(e,r)=>e.filter(t=>t.type==="area").find(t=>t.id===r)),z8=e=>{var r=Jt(e),t=xi(r,"xAxis");return t?"yAxis":"xAxis"},KV=(e,r)=>{var t=z8(e);return t==="yAxis"?bi(e,r):vi(e,r)},XV=(e,r,t)=>ph(e,z8(e),KV(e,r),t),GV=Pe([L8,XV],(e,r)=>{var t;if(!(e==null||r==null)){var{stackId:s}=e,l=dm(e);if(!(s==null||l==null)){var i=(t=r[s])===null||t===void 0?void 0:t.stackedData,o=i?.find(d=>d.key===l);if(o!=null)return o.map(d=>[d[0],d[1]])}}}),YV=Pe([Jt,M8,R8,I8,D8,GV,kk,WV,L8,Sz],(e,r,t,s,l,i,o,d,c,a)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=o;if(!(c==null||e!=="horizontal"&&e!=="vertical"||r==null||t==null||s==null||l==null||s.length===0||l.length===0||d==null)){var{data:m}=c,g;if(m&&m.length>0?g=m:g=u?.slice(f,h+1),g!=null)return pK({layout:e,xAxis:r,yAxis:t,xAxisTicks:s,yAxisTicks:l,dataStartIndex:f,areaSettings:c,stackedData:i,displayedData:g,chartBaseValue:a,bandSize:d})}}),ZV=["id"],JV=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Co(){return Co=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Co.apply(null,arguments)}function F8(e,r){if(e==null)return{};var t,s,l=QV(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function QV(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function Z3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function kl(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Z3(Object(t),!0).forEach(function(s){eK(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function eK(e,r,t){return(r=tK(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function tK(e){var r=rK(e,"string");return typeof r=="symbol"?r:r+""}function rK(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function jh(e,r){return e&&e!=="none"?e:r}var nK=e=>{var{dataKey:r,name:t,stroke:s,fill:l,legendType:i,hide:o}=e;return[{inactive:o,dataKey:r,type:i,color:jh(s,l),value:Ga(t,r),payload:e}]},sK=F.memo(e=>{var{dataKey:r,data:t,stroke:s,strokeWidth:l,fill:i,name:o,hide:d,unit:c,tooltipType:a,id:u}=e,f={dataDefinedOnItem:t,positions:void 0,settings:{stroke:s,strokeWidth:l,fill:i,dataKey:r,nameKey:void 0,name:Ga(o,r),hide:d,type:a,color:jh(s,i),unit:c,graphicalItemId:u}};return F.createElement(km,{tooltipEntrySettings:f})});function iK(e){var{clipPathId:r,points:t,props:s}=e,{needClip:l,dot:i,dataKey:o}=s,d=Fn(s);return F.createElement(p8,{points:t,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:d,needClip:l,clipPathId:r})}function aK(e){var{showLabels:r,children:t,points:s}=e,l=s.map(i=>{var o,d,c={x:(o=i.x)!==null&&o!==void 0?o:0,y:(d=i.y)!==null&&d!==void 0?d:0,width:0,lowerWidth:0,upperWidth:0,height:0};return kl(kl({},c),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return F.createElement(db,{value:r?l:void 0},t)}function J3(e){var{points:r,baseLine:t,needClip:s,clipPathId:l,props:i}=e,{layout:o,type:d,stroke:c,connectNulls:a,isRange:u}=i,{id:f}=i,h=F8(i,ZV),m=Fn(h),g=Mn(h);return F.createElement(F.Fragment,null,r?.length>1&&F.createElement(zr,{clipPath:s?"url(#clipPath-".concat(l,")"):void 0},F.createElement(Cl,Co({},g,{id:f,points:r,connectNulls:a,type:d,baseLine:t,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&F.createElement(Cl,Co({},m,{className:"recharts-area-curve",layout:o,type:d,connectNulls:a,fill:"none",points:r})),c!=="none"&&u&&F.createElement(Cl,Co({},m,{className:"recharts-area-curve",layout:o,type:d,connectNulls:a,fill:"none",points:t}))),F.createElement(iK,{points:r,props:h,clipPathId:l}))}function oK(e){var r,t,{alpha:s,baseLine:l,points:i,strokeWidth:o}=e,d=(r=i[0])===null||r===void 0?void 0:r.y,c=(t=i[i.length-1])===null||t===void 0?void 0:t.y;if(!gr(d)||!gr(c))return null;var a=s*Math.abs(d-c),u=Math.max(...i.map(f=>f.x||0));return ot(l)?u=Math.max(l,u):l&&Array.isArray(l)&&l.length&&(u=Math.max(...l.map(f=>f.x||0),u)),ot(u)?F.createElement("rect",{x:0,y:d<c?d:d-a,width:u+(o?parseInt("".concat(o),10):1),height:Math.floor(a)}):null}function lK(e){var r,t,{alpha:s,baseLine:l,points:i,strokeWidth:o}=e,d=(r=i[0])===null||r===void 0?void 0:r.x,c=(t=i[i.length-1])===null||t===void 0?void 0:t.x;if(!gr(d)||!gr(c))return null;var a=s*Math.abs(d-c),u=Math.max(...i.map(f=>f.y||0));return ot(l)?u=Math.max(l,u):l&&Array.isArray(l)&&l.length&&(u=Math.max(...l.map(f=>f.y||0),u)),ot(u)?F.createElement("rect",{x:d<c?d:d-a,y:0,width:a,height:Math.floor(u+(o?parseInt("".concat(o),10):1))}):null}function cK(e){var{alpha:r,layout:t,points:s,baseLine:l,strokeWidth:i}=e;return t==="vertical"?F.createElement(oK,{alpha:r,points:s,baseLine:l,strokeWidth:i}):F.createElement(lK,{alpha:r,points:s,baseLine:l,strokeWidth:i})}function uK(e){var{needClip:r,clipPathId:t,props:s,previousPointsRef:l,previousBaselineRef:i}=e,{points:o,baseLine:d,isAnimationActive:c,animationBegin:a,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=s,g=F.useMemo(()=>({points:o,baseLine:d}),[o,d]),y=Wl(g,"recharts-area-"),p=qM(),[b,v]=F.useState(!1),j=!b,C=F.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),T=F.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]);if(p==null)return null;var D=l.current,q=i.current;return F.createElement(aK,{showLabels:j,points:o},s.children,F.createElement(Hl,{animationId:y,begin:a,duration:u,isActive:c,easing:f,onAnimationEnd:C,onAnimationStart:T,key:y},z=>{if(D){var B=D.length/o.length,V=z===1?o:o.map((W,P)=>{var M=Math.floor(P*B);if(D[M]){var E=D[M];return kl(kl({},W),{},{x:ur(E.x,W.x,z),y:ur(E.y,W.y,z)})}return W}),X;return ot(d)?X=ur(q,d,z):Nr(d)||Ps(d)?X=ur(q,0,z):X=d.map((W,P)=>{var M=Math.floor(P*B);if(Array.isArray(q)&&q[M]){var E=q[M];return kl(kl({},W),{},{x:ur(E.x,W.x,z),y:ur(E.y,W.y,z)})}return W}),z>0&&(l.current=V,i.current=X),F.createElement(J3,{points:V,baseLine:X,needClip:r,clipPathId:t,props:s})}return z>0&&(l.current=o,i.current=d),F.createElement(zr,null,c&&F.createElement("defs",null,F.createElement("clipPath",{id:"animationClipPath-".concat(t)},F.createElement(cK,{alpha:z,points:o,baseLine:d,layout:p,strokeWidth:s.strokeWidth}))),F.createElement(zr,{clipPath:"url(#animationClipPath-".concat(t,")")},F.createElement(J3,{points:o,baseLine:d,needClip:r,clipPathId:t,props:s})))}),F.createElement(_m,{label:s.label}))}function dK(e){var{needClip:r,clipPathId:t,props:s}=e,l=F.useRef(null),i=F.useRef();return F.createElement(uK,{needClip:r,clipPathId:t,props:s,previousPointsRef:l,previousBaselineRef:i})}class fK extends F.PureComponent{render(){var{hide:r,dot:t,points:s,className:l,top:i,left:o,needClip:d,xAxisId:c,yAxisId:a,width:u,height:f,id:h,baseLine:m,zIndex:g}=this.props;if(r)return null;var y=rr("recharts-area",l),p=h,{r:b,strokeWidth:v}=A8(t),j=pb(t),C=b*2+v,T=d?"url(#clipPath-".concat(j?"":"dots-").concat(p,")"):void 0;return F.createElement(qn,{zIndex:g},F.createElement(zr,{className:y},d&&F.createElement("defs",null,F.createElement(kb,{clipPathId:p,xAxisId:c,yAxisId:a}),!j&&F.createElement("clipPath",{id:"clipPath-dots-".concat(p)},F.createElement("rect",{x:o-C/2,y:i-C/2,width:u+C,height:f+C}))),F.createElement(dK,{needClip:d,clipPathId:p,props:this.props})),F.createElement(sx,{points:s,mainColor:jh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}),this.props.isRange&&Array.isArray(m)&&F.createElement(sx,{points:m,mainColor:jh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:T}))}}var $8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:qr.area};function hK(e){var r,t=$r(e,$8),{activeDot:s,animationBegin:l,animationDuration:i,animationEasing:o,connectNulls:d,dot:c,fill:a,fillOpacity:u,hide:f,isAnimationActive:h,legendType:m,stroke:g,xAxisId:y,yAxisId:p}=t,b=F8(t,JV),v=Ya(),j=BS(),{needClip:C}=Am(y,p),T=yn(),{points:D,isRange:q,baseLine:z}=(r=pt(M=>YV(M,e.id,T)))!==null&&r!==void 0?r:{},B=Em();if(v!=="horizontal"&&v!=="vertical"||B==null||j!=="AreaChart"&&j!=="ComposedChart")return null;var{height:V,width:X,x:W,y:P}=B;return!D||!D.length?null:F.createElement(fK,Co({},b,{activeDot:s,animationBegin:l,animationDuration:i,animationEasing:o,baseLine:z,connectNulls:d,dot:c,fill:a,fillOpacity:u,height:V,hide:f,layout:v,isAnimationActive:h==="auto"?!Cu.isSsr:h,isRange:q,legendType:m,needClip:C,points:D,stroke:g,width:X,left:W,top:P,xAxisId:y,yAxisId:p}))}var mK=(e,r,t,s,l)=>{var i=t??r;if(ot(i))return i;var o=e==="horizontal"?l:s,d=o.scale.domain();if(o.type==="number"){var c=Math.max(d[0],d[1]),a=Math.min(d[0],d[1]);return i==="dataMin"?a:i==="dataMax"||c<0?c:Math.max(Math.min(d[0],d[1]),0)}return i==="dataMin"?d[0]:i==="dataMax"?d[1]:d[0]};function pK(e){var{areaSettings:{connectNulls:r,baseValue:t,dataKey:s},stackedData:l,layout:i,chartBaseValue:o,xAxis:d,yAxis:c,displayedData:a,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,g=l&&l.length,y=mK(i,o,t,d,c),p=i==="horizontal",b=!1,v=a.map((C,T)=>{var D,q,z;if(g)z=l[u+T];else{var B=dr(C,s);Array.isArray(B)?(z=B,b=!0):z=[y,B]}var V=(D=(q=z)===null||q===void 0?void 0:q[1])!==null&&D!==void 0?D:null,X=V==null||g&&!r&&dr(C,s)==null;return p?{x:Kf({axis:d,ticks:f,bandSize:m,entry:C,index:T}),y:X?null:c.scale(V),value:z,payload:C}:{x:X?null:d.scale(V),y:Kf({axis:c,ticks:h,bandSize:m,entry:C,index:T}),value:z,payload:C}}),j;return g||b?j=v.map(C=>{var T=Array.isArray(C.value)?C.value[0]:null;return p?{x:C.x,y:T!=null&&C.y!=null?c.scale(T):null,payload:C.payload}:{x:T!=null?d.scale(T):null,y:C.y,payload:C.payload}}):j=p?c.scale(y):d.scale(y),{points:v,baseLine:j,isRange:b}}function gK(e){var r=$r(e,$8),t=yn();return F.createElement(Sm,{id:r.id,type:"area"},s=>F.createElement(F.Fragment,null,F.createElement(bb,{legendPayload:nK(r)}),F.createElement(sK,{dataKey:r.dataKey,data:r.data,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType,id:s}),F.createElement(wb,{type:"area",id:s,data:r.data,dataKey:r.dataKey,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,stackId:gN(r.stackId),hide:r.hide,barSize:void 0,baseValue:r.baseValue,isPanorama:t,connectNulls:r.connectNulls}),F.createElement(hK,Co({},r,{id:s}))))}var Yc=F.memo(gK,Uu);Yc.displayName="Area";var yK="Invariant failed";function xK(e,r){throw new Error(yK)}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ix.apply(null,arguments)}function Nh(e){return F.createElement(gb,ix({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var vK=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(s,l)=>{if(ot(r))return r;var i=ot(s)||Nr(s);return i?r(s,l):(i||xK(),t)}},bK=(e,r,t)=>t,wK=(e,r)=>r,qu=Pe([Ru,wK],(e,r)=>e.filter(t=>t.type==="bar").find(t=>t.id===r)),_K=Pe([qu],e=>e?.maxBarSize),jK=(e,r,t,s)=>s,NK=Pe([Jt,Ru,vi,bi,bK],(e,r,t,s,l)=>r.filter(i=>e==="horizontal"?i.xAxisId===t:i.yAxisId===s).filter(i=>i.isPanorama===l).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),kK=(e,r,t)=>{var s=Jt(e),l=vi(e,r),i=bi(e,r);if(!(l==null||i==null))return s==="horizontal"?ph(e,"yAxis",i,t):ph(e,"xAxis",l,t)},SK=(e,r)=>{var t=Jt(e),s=vi(e,r),l=bi(e,r);if(!(s==null||l==null))return t==="horizontal"?I4(e,"xAxis",s):I4(e,"yAxis",l)},CK=Pe([NK,kz,SK],UH),EK=(e,r,t)=>{var s,l,i=qu(e,r);if(i!=null){var o=vi(e,r),d=bi(e,r);if(!(o==null||d==null)){var c=Jt(e),a=$k(e),{maxBarSize:u}=i,f=Nr(u)?a:u,h,m;return c==="horizontal"?(h=pi(e,"xAxis",o,t),m=mi(e,"xAxis",o,t)):(h=pi(e,"yAxis",d,t),m=mi(e,"yAxis",d,t)),(s=(l=qa(h,m,!0))!==null&&l!==void 0?l:f)!==null&&s!==void 0?s:0}}},B8=(e,r,t)=>{var s=Jt(e),l=vi(e,r),i=bi(e,r);if(!(l==null||i==null)){var o,d;return s==="horizontal"?(o=pi(e,"xAxis",l,t),d=mi(e,"xAxis",l,t)):(o=pi(e,"yAxis",i,t),d=mi(e,"yAxis",i,t)),qa(o,d)}},AK=Pe([CK,$k,Nz,Bk,EK,B8,_K],KH),PK=(e,r,t)=>{var s=vi(e,r);if(s!=null)return pi(e,"xAxis",s,t)},TK=(e,r,t)=>{var s=bi(e,r);if(s!=null)return pi(e,"yAxis",s,t)},OK=(e,r,t)=>{var s=vi(e,r);if(s!=null)return mi(e,"xAxis",s,t)},MK=(e,r,t)=>{var s=bi(e,r);if(s!=null)return mi(e,"yAxis",s,t)},IK=Pe([AK,qu],(e,r)=>{if(!(e==null||r==null)){var t=e.find(s=>s.stackId===r.stackId&&r.dataKey!=null&&s.dataKeys.includes(r.dataKey));if(t!=null)return t.position}}),RK=Pe([kK,qu],XH),DK=Pe([en,Gx,PK,TK,OK,MK,IK,Jt,kk,B8,RK,qu,jK],(e,r,t,s,l,i,o,d,c,a,u,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:y}=c;if(!(f==null||o==null||r==null||d!=="horizontal"&&d!=="vertical"||t==null||s==null||l==null||i==null||a==null)){var{data:p}=f,b;if(p!=null&&p.length>0?b=p:b=m?.slice(g,y+1),b!=null)return dX({layout:d,barSettings:f,pos:o,parentViewBox:r,bandSize:a,xAxis:t,yAxis:s,xAxisTicks:l,yAxisTicks:i,stackedData:u,displayedData:b,offset:e,cells:h,dataStartIndex:g})}}),LK=["index"];function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ax.apply(null,arguments)}function zK(e,r){if(e==null)return{};var t,s,l=FK(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function FK(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var U8=F.createContext(void 0),$K=e=>{var r=F.useContext(U8);if(r!=null)return r.stackId;if(e!=null)return gN(e)},BK=(e,r)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(r),UK=e=>{var r=F.useContext(U8);if(r!=null){var{stackId:t}=r;return"url(#".concat(BK(t,e),")")}},qK=e=>{var{index:r}=e,t=zK(e,LK),s=UK(r);return F.createElement(zr,ax({className:"recharts-bar-stack-layer",clipPath:s},t))},HK=["onMouseEnter","onMouseLeave","onClick"],WK=["value","background","tooltipPosition"],VK=["id"],KK=["onMouseEnter","onClick","onMouseLeave"];function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},sa.apply(null,arguments)}function Q3(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function Ln(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Q3(Object(t),!0).forEach(function(s){XK(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q3(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function XK(e,r,t){return(r=GK(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function GK(e){var r=YK(e,"string");return typeof r=="symbol"?r:r+""}function YK(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function kh(e,r){if(e==null)return{};var t,s,l=ZK(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function ZK(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var JK=e=>{var{dataKey:r,name:t,fill:s,legendType:l,hide:i}=e;return[{inactive:i,dataKey:r,type:l,color:s,value:Ga(t,r),payload:e}]},QK=F.memo(e=>{var{dataKey:r,stroke:t,strokeWidth:s,fill:l,name:i,hide:o,unit:d,tooltipType:c,id:a}=e,u={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:s,fill:l,dataKey:r,nameKey:void 0,name:Ga(i,r),hide:o,type:c,color:l,unit:d,graphicalItemId:a}};return F.createElement(km,{tooltipEntrySettings:u})});function eX(e){var r=pt(Wa),{data:t,dataKey:s,background:l,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:d,onClick:c}=i,a=kh(i,HK),u=yb(o,s,i.id),f=xb(d),h=vb(c,s,i.id);if(!l||t==null)return null;var m=Po(l);return F.createElement(qn,{zIndex:GH(l,qr.barBackground)},t.map((g,y)=>{var{value:p,background:b,tooltipPosition:v}=g,j=kh(g,WK);if(!b)return null;var C=u(g,y),T=f(g,y),D=h(g,y),q=Ln(Ln(Ln(Ln(Ln({option:l,isActive:String(y)===r},j),{},{fill:"#eee"},b),m),_u(a,g,y)),{},{onMouseEnter:C,onMouseLeave:T,onClick:D,dataKey:s,index:y,className:"recharts-bar-background-rectangle"});return F.createElement(Nh,sa({key:"background-bar-".concat(y)},q))}))}function tX(e){var{showLabels:r,children:t,rects:s}=e,l=s?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Ln(Ln({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return F.createElement(db,{value:r?l:void 0},t)}function rX(e){var{shape:r,activeBar:t,baseProps:s,entry:l,index:i,dataKey:o}=e,d=pt(Wa),c=pt(ib),a=t&&String(i)===d&&(c==null||o===c),u=a?t:r;return a?F.createElement(qn,{zIndex:qr.activeBar},F.createElement(Nh,sa({},s,{name:String(s.name)},l,{isActive:a,option:u,index:i,dataKey:o}))):F.createElement(Nh,sa({},s,{name:String(s.name)},l,{isActive:a,option:u,index:i,dataKey:o}))}function nX(e){var{shape:r,baseProps:t,entry:s,index:l,dataKey:i}=e;return F.createElement(Nh,sa({},t,{name:String(t.name)},s,{isActive:!1,option:r,index:l,dataKey:i}))}function sX(e){var r,{data:t,props:s}=e,l=(r=Fn(s))!==null&&r!==void 0?r:{},{id:i}=l,o=kh(l,VK),{shape:d,dataKey:c,activeBar:a}=s,{onMouseEnter:u,onClick:f,onMouseLeave:h}=s,m=kh(s,KK),g=yb(u,c,i),y=xb(h),p=vb(f,c,i);return t?F.createElement(F.Fragment,null,t.map((b,v)=>F.createElement(qK,sa({index:v,key:"rectangle-".concat(b?.x,"-").concat(b?.y,"-").concat(b?.value,"-").concat(v),className:"recharts-bar-rectangle"},_u(m,b,v),{onMouseEnter:g(b,v),onMouseLeave:y(b,v),onClick:p(b,v)}),a?F.createElement(rX,{shape:d,activeBar:a,baseProps:o,entry:b,index:v,dataKey:c}):F.createElement(nX,{shape:d,baseProps:o,entry:b,index:v,dataKey:c})))):null}function iX(e){var{props:r,previousRectanglesRef:t}=e,{data:s,layout:l,isAnimationActive:i,animationBegin:o,animationDuration:d,animationEasing:c,onAnimationEnd:a,onAnimationStart:u}=r,f=t.current,h=Wl(r,"recharts-bar-"),[m,g]=F.useState(!1),y=!m,p=F.useCallback(()=>{typeof a=="function"&&a(),g(!1)},[a]),b=F.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return F.createElement(tX,{showLabels:y,rects:s},F.createElement(Hl,{animationId:h,begin:o,duration:d,isActive:i,easing:c,onAnimationEnd:p,onAnimationStart:b,key:h},v=>{var j=v===1?s:s?.map((C,T)=>{var D=f&&f[T];if(D)return Ln(Ln({},C),{},{x:ur(D.x,C.x,v),y:ur(D.y,C.y,v),width:ur(D.width,C.width,v),height:ur(D.height,C.height,v)});if(l==="horizontal"){var q=ur(0,C.height,v),z=ur(C.stackedBarStart,C.y,v);return Ln(Ln({},C),{},{y:z,height:q})}var B=ur(0,C.width,v),V=ur(C.stackedBarStart,C.x,v);return Ln(Ln({},C),{},{width:B,x:V})});return v>0&&(t.current=j??null),j==null?null:F.createElement(zr,null,F.createElement(sX,{props:r,data:j}))}),F.createElement(_m,{label:r.label}),r.children)}function aX(e){var r=F.useRef(null);return F.createElement(iX,{previousRectanglesRef:r,props:e})}var q8=0,oX=(e,r)=>{var t=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:t,errorVal:dr(e,r)}};class lX extends F.PureComponent{render(){var{hide:r,data:t,dataKey:s,className:l,xAxisId:i,yAxisId:o,needClip:d,background:c,id:a}=this.props;if(r||t==null)return null;var u=rr("recharts-bar",l),f=a;return F.createElement(zr,{className:u,id:a},d&&F.createElement("defs",null,F.createElement(kb,{clipPathId:f,xAxisId:i,yAxisId:o})),F.createElement(zr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(f,")"):void 0},F.createElement(eX,{data:t,dataKey:s,background:c,allOtherBarProps:this.props}),F.createElement(aX,this.props)))}}var cX={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:q8,xAxisId:0,yAxisId:0,zIndex:qr.bar};function uX(e){var{xAxisId:r,yAxisId:t,hide:s,legendType:l,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:c,animationEasing:a,isAnimationActive:u}=e,{needClip:f}=Am(r,t),h=Ya(),m=yn(),g=mb(e.children,tc),y=pt(v=>DK(v,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var p,b=y?.[0];return b==null||b.height==null||b.width==null?p=0:p=h==="vertical"?b.height/2:b.width/2,F.createElement(N8,{xAxisId:r,yAxisId:t,data:y,dataPointFormatter:oX,errorBarOffset:p},F.createElement(lX,sa({},e,{layout:h,needClip:f,data:y,xAxisId:r,yAxisId:t,hide:s,legendType:l,minPointSize:i,activeBar:o,animationBegin:d,animationDuration:c,animationEasing:a,isAnimationActive:u})))}function dX(e){var{layout:r,barSettings:{dataKey:t,minPointSize:s},pos:l,bandSize:i,xAxis:o,yAxis:d,xAxisTicks:c,yAxisTicks:a,stackedData:u,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:y}=e,p=r==="horizontal"?d:o,b=u?p.scale.domain():null,v=oM({numericAxis:p}),j=p.scale(v);return f.map((C,T)=>{var D,q,z,B,V,X;if(u){var W=u[T+y];if(W==null)return null;D=rM(W,b)}else D=dr(C,t),Array.isArray(D)||(D=[v,D]);var P=vK(s,q8)(D[1],T);if(r==="horizontal"){var M,[E,_]=[d.scale(D[0]),d.scale(D[1])];q=z_({axis:o,ticks:c,bandSize:i,offset:l.offset,entry:C,index:T}),z=(M=_??E)!==null&&M!==void 0?M:void 0,B=l.size;var k=E-_;if(V=Ps(k)?0:k,X={x:q,y:h.top,width:B,height:h.height},Math.abs(P)>0&&Math.abs(V)<Math.abs(P)){var N=hn(V||P)*(Math.abs(P)-Math.abs(V));z-=N,V+=N}}else{var[S,O]=[o.scale(D[0]),o.scale(D[1])];if(q=S,z=z_({axis:d,ticks:a,bandSize:i,offset:l.offset,entry:C,index:T}),B=O-S,V=l.size,X={x:h.left,y:z,width:h.width,height:V},Math.abs(P)>0&&Math.abs(B)<Math.abs(P)){var L=hn(B||P)*(Math.abs(P)-Math.abs(B));B+=L}}if(q==null||z==null||B==null||V==null)return null;var I=Ln(Ln({},C),{},{stackedBarStart:j,x:q,y:z,width:B,height:V,value:u?D:D[1],payload:C,background:X,tooltipPosition:{x:q+B/2,y:z+V/2},parentViewBox:g},m&&m[T]&&m[T].props);return I}).filter(Boolean)}function fX(e){var r=$r(e,cX),t=$K(r.stackId),s=yn();return F.createElement(Sm,{id:r.id,type:"bar"},l=>F.createElement(F.Fragment,null,F.createElement(bb,{legendPayload:JK(r)}),F.createElement(QK,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType,id:l}),F.createElement(wb,{type:"bar",id:l,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:t,hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:s}),F.createElement(qn,{zIndex:r.zIndex},F.createElement(uX,sa({},r,{id:l})))))}var Dl=F.memo(fX,Uu);Dl.displayName="Bar";var hX=["domain","range"],mX=["domain","range"];function e6(e,r){if(e==null)return{};var t,s,l=pX(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function pX(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function t6(e,r){return e===r?!0:Array.isArray(e)&&e.length===2&&Array.isArray(r)&&r.length===2?e[0]===r[0]&&e[1]===r[1]:!1}function H8(e,r){if(e===r)return!0;var{domain:t,range:s}=e,l=e6(e,hX),{domain:i,range:o}=r,d=e6(r,mX);return!t6(t,i)||!t6(s,o)?!1:Uu(l,d)}var gX=["dangerouslySetInnerHTML","ticks","scale"],yX=["id","scale"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ox.apply(null,arguments)}function r6(e,r){if(e==null)return{};var t,s,l=xX(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function xX(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function vX(e){var r=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?r(CH(e)):t.current!==e&&r(EH({prev:t.current,next:e})),t.current=e},[e,r]),F.useLayoutEffect(()=>()=>{t.current&&(r(AH(t.current)),t.current=null)},[r]),null}var bX=e=>{var{xAxisId:r,className:t}=e,s=pt(Gx),l=yn(),i="xAxis",o=pt(b=>vS(b,i,r,l)),d=pt(b=>pS(b,r)),c=pt(b=>jF(b,r)),a=pt(b=>Yk(b,r));if(d==null||c==null||a==null)return null;var{dangerouslySetInnerHTML:u,ticks:f,scale:h}=e,m=r6(e,gX),{id:g,scale:y}=a,p=r6(a,yX);return F.createElement(Nb,ox({},m,p,{x:c.x,y:c.y,width:d.width,height:d.height,className:rr("recharts-".concat(i," ").concat(i),t),viewBox:s,ticks:o,axisType:i}))},wX={allowDataOverflow:ln.allowDataOverflow,allowDecimals:ln.allowDecimals,allowDuplicatedCategory:ln.allowDuplicatedCategory,angle:ln.angle,axisLine:Hi.axisLine,height:ln.height,hide:!1,includeHidden:ln.includeHidden,interval:ln.interval,minTickGap:ln.minTickGap,mirror:ln.mirror,orientation:ln.orientation,padding:ln.padding,reversed:ln.reversed,scale:ln.scale,tick:ln.tick,tickCount:ln.tickCount,tickLine:Hi.tickLine,tickSize:Hi.tickSize,type:ln.type,xAxisId:0},_X=e=>{var r=$r(e,wX);return F.createElement(F.Fragment,null,F.createElement(vX,{allowDataOverflow:r.allowDataOverflow,allowDecimals:r.allowDecimals,allowDuplicatedCategory:r.allowDuplicatedCategory,angle:r.angle,dataKey:r.dataKey,domain:r.domain,height:r.height,hide:r.hide,id:r.xAxisId,includeHidden:r.includeHidden,interval:r.interval,minTickGap:r.minTickGap,mirror:r.mirror,name:r.name,orientation:r.orientation,padding:r.padding,reversed:r.reversed,scale:r.scale,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit}),F.createElement(bX,r))},Vi=F.memo(_X,H8);Vi.displayName="XAxis";var jX=["dangerouslySetInnerHTML","ticks","scale"],NX=["id","scale"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},lx.apply(null,arguments)}function n6(e,r){if(e==null)return{};var t,s,l=kX(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function kX(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function SX(e){var r=vr(),t=F.useRef(null);return F.useLayoutEffect(()=>{t.current===null?r(PH(e)):t.current!==e&&r(TH({prev:t.current,next:e})),t.current=e},[e,r]),F.useLayoutEffect(()=>()=>{t.current&&(r(OH(t.current)),t.current=null)},[r]),null}var CX=e=>{var{yAxisId:r,className:t,width:s,label:l}=e,i=F.useRef(null),o=F.useRef(null),d=pt(Gx),c=yn(),a=vr(),u="yAxis",f=pt(D=>gS(D,r)),h=pt(D=>kF(D,r)),m=pt(D=>vS(D,u,r,c)),g=pt(D=>Zk(D,r));if(F.useLayoutEffect(()=>{if(!(s!=="auto"||!f||ub(l)||F.isValidElement(l)||g==null)){var D=i.current;if(D){var q=D.getCalculatedWidth();Math.round(f.width)!==Math.round(q)&&a(MH({id:r,width:q}))}}},[m,f,a,l,r,s,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:p,scale:b}=e,v=n6(e,jX),{id:j,scale:C}=g,T=n6(g,NX);return F.createElement(Nb,lx({},v,T,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:f.width,height:f.height,className:rr("recharts-".concat(u," ").concat(u),t),viewBox:d,ticks:m,axisType:u}))},EX={allowDataOverflow:cn.allowDataOverflow,allowDecimals:cn.allowDecimals,allowDuplicatedCategory:cn.allowDuplicatedCategory,angle:cn.angle,axisLine:Hi.axisLine,hide:!1,includeHidden:cn.includeHidden,interval:cn.interval,minTickGap:cn.minTickGap,mirror:cn.mirror,orientation:cn.orientation,padding:cn.padding,reversed:cn.reversed,scale:cn.scale,tick:cn.tick,tickCount:cn.tickCount,tickLine:Hi.tickLine,tickSize:Hi.tickSize,type:cn.type,width:cn.width,yAxisId:0},AX=e=>{var r=$r(e,EX);return F.createElement(F.Fragment,null,F.createElement(SX,{interval:r.interval,id:r.yAxisId,scale:r.scale,type:r.type,domain:r.domain,allowDataOverflow:r.allowDataOverflow,dataKey:r.dataKey,allowDuplicatedCategory:r.allowDuplicatedCategory,allowDecimals:r.allowDecimals,tickCount:r.tickCount,padding:r.padding,includeHidden:r.includeHidden,reversed:r.reversed,ticks:r.ticks,width:r.width,orientation:r.orientation,mirror:r.mirror,hide:r.hide,unit:r.unit,name:r.name,angle:r.angle,minTickGap:r.minTickGap,tick:r.tick,tickFormatter:r.tickFormatter}),F.createElement(CX,r))},Ki=F.memo(AX,H8);Ki.displayName="YAxis";var PX=(e,r)=>r,Cb=Pe([PX,Jt,Xk,rn,RS,fa,$$,en],K$),Eb=e=>{var r=e.currentTarget.getBoundingClientRect(),t=r.width/e.currentTarget.offsetWidth,s=r.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-r.left)/t),chartY:Math.round((e.clientY-r.top)/s)}},W8=Ts("mouseClick"),V8=Nu();V8.startListening({actionCreator:W8,effect:(e,r)=>{var t=e.payload,s=Cb(r.getState(),Eb(t));s?.activeIndex!=null&&r.dispatch(FF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}});var cx=Ts("mouseMove"),K8=Nu(),cf=null;K8.startListening({actionCreator:cx,effect:(e,r)=>{var t=e.payload;cf!==null&&cancelAnimationFrame(cf);var s=Eb(t);cf=requestAnimationFrame(()=>{var l=r.getState(),i=Qv(l,l.tooltip.settings.shared);if(i==="axis"){var o=Cb(l,s);o?.activeIndex!=null?r.dispatch(CS({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):r.dispatch(SS())}cf=null})}});function TX(e,r){return r instanceof HTMLElement?"HTMLElement <".concat(r.tagName,' class="').concat(r.className,'">'):r===window?"global.window":e==="children"&&typeof r=="object"&&r!==null?"<<CHILDREN>>":r}var s6={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},X8=es({name:"rootProps",initialState:s6,reducers:{updateOptions:(e,r)=>{var t;e.accessibilityLayer=r.payload.accessibilityLayer,e.barCategoryGap=r.payload.barCategoryGap,e.barGap=(t=r.payload.barGap)!==null&&t!==void 0?t:s6.barGap,e.barSize=r.payload.barSize,e.maxBarSize=r.payload.maxBarSize,e.stackOffset=r.payload.stackOffset,e.syncId=r.payload.syncId,e.syncMethod=r.payload.syncMethod,e.className=r.payload.className,e.baseValue=r.payload.baseValue,e.reverseStackOrder=r.payload.reverseStackOrder}}}),OX=X8.reducer,{updateOptions:MX}=X8.actions,G8=es({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,r)=>r.payload}}),{updatePolarOptions:IX}=G8.actions,RX=G8.reducer,Y8=Ts("keyDown"),Z8=Ts("focus"),Ab=Nu();Ab.startListening({actionCreator:Y8,effect:(e,r)=>{var t=r.getState(),s=t.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:l}=t.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=eb(l,ec(t),Lu(t),$u(t)),d=o==null?-1:Number(o);if(!(!Number.isFinite(d)||d<0)){var c=fa(t);if(i==="Enter"){var a=yh(t,"axis","hover",String(l.index));r.dispatch(Jy({active:!l.active,activeIndex:l.index,activeCoordinate:a}));return}var u=AF(t),f=u==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=d+h*f;if(!(c==null||m>=c.length||m<0)){var g=yh(t,"axis","hover",String(m));r.dispatch(Jy({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});Ab.startListening({actionCreator:Z8,effect:(e,r)=>{var t=r.getState(),s=t.rootProps.accessibilityLayer!==!1;if(s){var{keyboardInteraction:l}=t.tooltip;if(!l.active&&l.index==null){var i="0",o=yh(t,"axis","hover",String(i));r.dispatch(Jy({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Cs=Ts("externalEvent"),J8=Nu(),Yg=new Map;J8.startListening({actionCreator:Cs,effect:(e,r)=>{var{handler:t,reactEvent:s}=e.payload;if(t!=null){s.persist();var l=s.type,i=Yg.get(l);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var d=r.getState(),c={activeCoordinate:k$(d),activeDataKey:ib(d),activeIndex:Wa(d),activeLabel:zS(d),activeTooltipIndex:Wa(d),isTooltipActive:S$(d)};t(c,s)}finally{Yg.delete(l)}});Yg.set(l,o)}}});var DX=Pe([Jl],e=>e.tooltipItemPayloads),LX=Pe([DX,Fu,(e,r)=>r,(e,r,t)=>t],(e,r,t,s)=>{var l=e.find(d=>d.settings.graphicalItemId===s);if(l!=null){var{positions:i}=l;if(i!=null){var o=r(i,t);return o}}}),Q8=Ts("touchMove"),e7=Nu();e7.startListening({actionCreator:Q8,effect:(e,r)=>{var t=e.payload;if(!(t.touches==null||t.touches.length===0)){var s=r.getState(),l=Qv(s,s.tooltip.settings.shared);if(l==="axis"){var i=t.touches[0];if(i==null)return;var o=Cb(s,Eb({clientX:i.clientX,clientY:i.clientY,currentTarget:t.currentTarget}));o?.activeIndex!=null&&r.dispatch(CS({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(l==="item"){var d,c=t.touches[0];if(document.elementFromPoint==null||c==null)return;var a=document.elementFromPoint(c.clientX,c.clientY);if(!a||!a.getAttribute)return;var u=a.getAttribute(xN),f=(d=a.getAttribute(vN))!==null&&d!==void 0?d:void 0,h=Ql(s).find(y=>y.id===f);if(u==null||h==null||f==null)return;var{dataKey:m}=h,g=LX(s,u,f);r.dispatch(kS({activeDataKey:m,activeIndex:u,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var zX=F5({brush:YH,cartesianAxis:IH,chartData:NB,errorBars:KW,graphicalItems:Bq,layout:YO,legend:sI,options:vB,polarAxis:tq,polarOptions:RX,referenceElements:nW,rootProps:OX,tooltip:$F,zIndex:oB}),FX=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return wO({reducer:zX,preloadedState:r,middleware:s=>{var l;return s({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((l="es6")!==null&&l!==void 0?l:"")}).concat([V8.middleware,K8.middleware,Ab.middleware,J8.middleware,e7.middleware])},enhancers:s=>{var l=s;return typeof s=="function"&&(l=s()),l.concat(eN({type:"raf"}))},devTools:{serialize:{replacer:TX},name:"recharts-".concat(t)}})};function t7(e){var{preloadedState:r,children:t,reduxStoreName:s}=e,l=yn(),i=F.useRef(null);if(l)return t;i.current==null&&(i.current=FX(r,s));var o=Ux;return F.createElement(wV,{context:o,store:i.current},t)}function $X(e){var{layout:r,margin:t}=e,s=vr(),l=yn();return F.useEffect(()=>{l||(s(KO(r)),s(VO(t)))},[s,l,r,t]),null}var r7=F.memo($X,Uu);function n7(e){var r=vr();return F.useEffect(()=>{r(MX(e))},[r,e]),null}function i6(e){var{zIndex:r,isPanorama:t}=e,s=F.useRef(null),l=vr();return F.useLayoutEffect(()=>(s.current&&l(iB({zIndex:r,element:s.current,isPanorama:t})),()=>{l(aB({zIndex:r,isPanorama:t}))}),[l,r,t]),F.createElement("g",{tabIndex:-1,ref:s})}function a6(e){var{children:r,isPanorama:t}=e,s=pt(G$);if(!s||s.length===0)return r;var l=s.filter(o=>o<0),i=s.filter(o=>o>0);return F.createElement(F.Fragment,null,l.map(o=>F.createElement(i6,{key:o,zIndex:o,isPanorama:t})),r,i.map(o=>F.createElement(i6,{key:o,zIndex:o,isPanorama:t})))}var BX=["children"];function UX(e,r){if(e==null)return{};var t,s,l=qX(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function qX(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Sh.apply(null,arguments)}var HX={width:"100%",height:"100%",display:"block"},WX=F.forwardRef((e,r)=>{var t=Zx(),s=Jx(),l=RN();if(!fi(t)||!fi(s))return null;var{children:i,otherAttributes:o,title:d,desc:c}=e,a,u;return o!=null&&(typeof o.tabIndex=="number"?a=o.tabIndex:a=l?0:void 0,typeof o.role=="string"?u=o.role:u=l?"application":void 0),F.createElement(Ox,Sh({},o,{title:d,desc:c,role:u,tabIndex:a,width:t,height:s,style:HX,ref:r}),i)}),VX=e=>{var{children:r}=e,t=pt(Gh);if(!t)return null;var{width:s,height:l,y:i,x:o}=t;return F.createElement(Ox,{width:s,height:l,x:o,y:i},r)},o6=F.forwardRef((e,r)=>{var{children:t}=e,s=UX(e,BX),l=yn();return l?F.createElement(VX,null,F.createElement(a6,{isPanorama:!0},t)):F.createElement(WX,Sh({ref:r},s),F.createElement(a6,{isPanorama:!1},t))});function KX(){var e=vr(),[r,t]=F.useState(null),s=pt(hM);return F.useEffect(()=>{if(r!=null){var l=r.getBoundingClientRect(),i=l.width/r.offsetWidth;gr(i)&&i!==s&&e(GO(i))}},[r,e,s]),t}function l6(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function XX(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?l6(Object(t),!0).forEach(function(s){GX(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l6(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function GX(e,r,t){return(r=YX(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function YX(e){var r=ZX(e,"string");return typeof r=="symbol"?r:r+""}function ZX(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function zo(){return zo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},zo.apply(null,arguments)}var JX=()=>(MB(),null);function Ch(e){if(typeof e=="number")return e;if(typeof e=="string"){var r=parseFloat(e);if(!Number.isNaN(r))return r}return 0}var QX=F.forwardRef((e,r)=>{var t,s,l=F.useRef(null),[i,o]=F.useState({containerWidth:Ch((t=e.style)===null||t===void 0?void 0:t.width),containerHeight:Ch((s=e.style)===null||s===void 0?void 0:s.height)}),d=F.useCallback((a,u)=>{o(f=>{var h=Math.round(a),m=Math.round(u);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=F.useCallback(a=>{if(typeof r=="function"&&r(a),a!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=a.getBoundingClientRect();d(u,f);var h=g=>{var{width:y,height:p}=g[0].contentRect;d(y,p)},m=new ResizeObserver(h);m.observe(a),l.current=m}},[r,d]);return F.useEffect(()=>()=>{var a=l.current;a?.disconnect()},[d]),F.createElement(F.Fragment,null,F.createElement(Zh,{width:i.containerWidth,height:i.containerHeight}),F.createElement("div",zo({ref:c},e)))}),eG=F.forwardRef((e,r)=>{var{width:t,height:s}=e,[l,i]=F.useState({containerWidth:Ch(t),containerHeight:Ch(s)}),o=F.useCallback((c,a)=>{i(u=>{var f=Math.round(c),h=Math.round(a);return u.containerWidth===f&&u.containerHeight===h?u:{containerWidth:f,containerHeight:h}})},[]),d=F.useCallback(c=>{if(typeof r=="function"&&r(c),c!=null){var{width:a,height:u}=c.getBoundingClientRect();o(a,u)}},[r,o]);return F.createElement(F.Fragment,null,F.createElement(Zh,{width:l.containerWidth,height:l.containerHeight}),F.createElement("div",zo({ref:d},e)))}),tG=F.forwardRef((e,r)=>{var{width:t,height:s}=e;return F.createElement(F.Fragment,null,F.createElement(Zh,{width:t,height:s}),F.createElement("div",zo({ref:r},e)))}),rG=F.forwardRef((e,r)=>{var{width:t,height:s}=e;return Ji(t)||Ji(s)?F.createElement(eG,zo({},e,{ref:r})):F.createElement(tG,zo({},e,{ref:r}))});function nG(e){return e===!0?QX:rG}var sG=F.forwardRef((e,r)=>{var{children:t,className:s,height:l,onClick:i,onContextMenu:o,onDoubleClick:d,onMouseDown:c,onMouseEnter:a,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:y,style:p,width:b,responsive:v,dispatchTouchEvents:j=!0}=e,C=F.useRef(null),T=vr(),[D,q]=F.useState(null),[z,B]=F.useState(null),V=KX(),X=Yx(),W=X?.width>0?X.width:b,P=X?.height>0?X.height:l,M=F.useCallback(R=>{V(R),typeof r=="function"&&r(R),q(R),B(R),R!=null&&(C.current=R)},[V,r,q,B]),E=F.useCallback(R=>{T(W8(R)),T(Cs({handler:i,reactEvent:R}))},[T,i]),_=F.useCallback(R=>{T(cx(R)),T(Cs({handler:a,reactEvent:R}))},[T,a]),k=F.useCallback(R=>{T(SS()),T(Cs({handler:u,reactEvent:R}))},[T,u]),N=F.useCallback(R=>{T(cx(R)),T(Cs({handler:f,reactEvent:R}))},[T,f]),S=F.useCallback(()=>{T(Z8())},[T]),O=F.useCallback(R=>{T(Y8(R.key))},[T]),L=F.useCallback(R=>{T(Cs({handler:o,reactEvent:R}))},[T,o]),I=F.useCallback(R=>{T(Cs({handler:d,reactEvent:R}))},[T,d]),G=F.useCallback(R=>{T(Cs({handler:c,reactEvent:R}))},[T,c]),Y=F.useCallback(R=>{T(Cs({handler:h,reactEvent:R}))},[T,h]),te=F.useCallback(R=>{T(Cs({handler:y,reactEvent:R}))},[T,y]),U=F.useCallback(R=>{j&&T(Q8(R)),T(Cs({handler:g,reactEvent:R}))},[T,j,g]),J=F.useCallback(R=>{T(Cs({handler:m,reactEvent:R}))},[T,m]),$=nG(v);return F.createElement(VS.Provider,{value:D},F.createElement(t5.Provider,{value:z},F.createElement($,{width:W??p?.width,height:P??p?.height,className:rr("recharts-wrapper",s),style:XX({position:"relative",cursor:"default",width:W,height:P},p),onClick:E,onContextMenu:L,onDoubleClick:I,onFocus:S,onKeyDown:O,onMouseDown:G,onMouseEnter:_,onMouseLeave:k,onMouseMove:N,onMouseUp:Y,onTouchEnd:J,onTouchMove:U,onTouchStart:te,ref:M},F.createElement(JX,null),t)))}),iG=["width","height","responsive","children","className","style","compact","title","desc"];function aG(e,r){if(e==null)return{};var t,s,l=oG(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function oG(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var s7=F.forwardRef((e,r)=>{var{width:t,height:s,responsive:l,children:i,className:o,style:d,compact:c,title:a,desc:u}=e,f=aG(e,iG),h=Fn(f);return c?F.createElement(F.Fragment,null,F.createElement(Zh,{width:t,height:s}),F.createElement(o6,{otherAttributes:h,title:a,desc:u},i)):F.createElement(sG,{className:o,style:d,width:t,height:s,responsive:l??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},F.createElement(o6,{otherAttributes:h,title:a,desc:u,ref:r},F.createElement(iW,null,i)))});function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ux.apply(null,arguments)}var lG={top:5,right:5,bottom:5,left:5},cG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lG,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Pb=F.forwardRef(function(r,t){var s,l=$r(r.categoricalChartProps,cG),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:d,tooltipPayloadSearcher:c,categoricalChartProps:a}=r,u={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:d,tooltipPayloadSearcher:c,eventEmitter:void 0};return F.createElement(t7,{preloadedState:{options:u},reduxStoreName:(s=a.id)!==null&&s!==void 0?s:i},F.createElement(x8,{chartData:a.data}),F.createElement(r7,{layout:l.layout,margin:l.margin}),F.createElement(n7,{baseValue:l.baseValue,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),F.createElement(s7,ux({},l,{ref:t})))}),uG=["axis"],dG=F.forwardRef((e,r)=>F.createElement(Pb,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:uG,tooltipPayloadSearcher:bm,categoricalChartProps:e,ref:r})),fG=["axis","item"],mu=F.forwardRef((e,r)=>F.createElement(Pb,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fG,tooltipPayloadSearcher:bm,categoricalChartProps:e,ref:r}));function hG(e){var r=vr();return F.useEffect(()=>{r(IX(e))},[r,e]),null}var mG=["layout"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},dx.apply(null,arguments)}function pG(e,r){if(e==null)return{};var t,s,l=gG(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)t=i[s],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}function gG(e,r){if(e==null)return{};var t={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;t[s]=e[s]}return t}var yG={top:5,right:5,bottom:5,left:5},i7={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:yG,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xG=F.forwardRef(function(r,t){var s,l=$r(r.categoricalChartProps,i7),{layout:i}=l,o=pG(l,mG),{chartName:d,defaultTooltipEventType:c,validateTooltipEventTypes:a,tooltipPayloadSearcher:u}=r,f={chartName:d,defaultTooltipEventType:c,validateTooltipEventTypes:a,tooltipPayloadSearcher:u,eventEmitter:void 0};return F.createElement(t7,{preloadedState:{options:f},reduxStoreName:(s=l.id)!==null&&s!==void 0?s:d},F.createElement(x8,{chartData:l.data}),F.createElement(r7,{layout:i,margin:l.margin}),F.createElement(n7,{baseValue:void 0,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),F.createElement(hG,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),F.createElement(s7,dx({},o,{ref:t})))});function c6(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,s)}return t}function u6(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?c6(Object(t),!0).forEach(function(s){vG(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c6(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function vG(e,r,t){return(r=bG(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bG(e){var r=wG(e,"string");return typeof r=="symbol"?r:r+""}function wG(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var s=t.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var _G=["item"],jG=u6(u6({},i7),{},{layout:"centric",startAngle:0,endAngle:360}),NG=F.forwardRef((e,r)=>{var t=$r(e,jG);return F.createElement(xG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_G,tooltipPayloadSearcher:bm,categoricalChartProps:t,ref:r})}),kG=["axis"],a7=F.forwardRef((e,r)=>F.createElement(Pb,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kG,tooltipPayloadSearcher:bm,categoricalChartProps:e,ref:r}));const SG=({dateFrom:e,dateTo:r})=>{const{data:t,loading:s,error:l}=Z6(e,r);if(s)return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:[...Array(3)].map((d,c)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-2xl mx-auto mb-4"}),n.jsx("div",{className:"w-20 h-8 bg-gray-200 rounded mb-2"}),n.jsx("div",{className:"w-24 h-4 bg-gray-200 rounded"})]},c))})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded mb-6"}),n.jsx("div",{className:"space-y-4",children:[...Array(4)].map((d,c)=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-100",children:[n.jsx("div",{className:"w-32 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},c))})]})]});if(l||!t)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:l||"Failed to load growth activity"});const i=[{name:"Revenue Growth",value:`${t.growth_rates.revenue_growth>0?"+":""}${t.growth_rates.revenue_growth.toFixed(1)}%`,icon:Xc,color:"emerald",gradient:"from-emerald-400 to-teal-500"},{name:"Booking Growth",value:`${t.growth_rates.booking_growth>0?"+":""}${t.growth_rates.booking_growth.toFixed(1)}%`,icon:mn,color:"blue",gradient:"from-blue-400 to-cyan-500"},{name:"User Growth",value:`${t.growth_rates.user_growth>0?"+":""}${t.growth_rates.user_growth.toFixed(1)}%`,icon:Xc,color:"purple",gradient:"from-purple-400 to-indigo-500"}],o=[{type:"New Bookings",count:t.recent_activity.new_bookings,color:"blue",icon:mn,gradient:"from-blue-400 to-cyan-500"},{type:"Completed Bookings",count:t.recent_activity.completed_bookings,color:"emerald",icon:mn,gradient:"from-emerald-400 to-teal-500"},{type:"New Disputes",count:t.recent_activity.new_disputes,color:"red",icon:xu,gradient:"from-red-400 to-rose-500"},{type:"Payments Received",count:t.recent_activity.payments_received,color:"green",icon:Gi,gradient:"from-green-400 to-emerald-500"}];return n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-blue-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-blue-500 to-indigo-600 rounded-full mr-3"}),"Growth Overview"]}),n.jsx("div",{className:"grid grid-cols-3 gap-4",children:i.map(d=>{const c=d.icon;return n.jsxs("div",{className:"text-center group",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br ${d.gradient} shadow-lg group-hover:scale-110 transition-transform duration-300`,children:n.jsx(c,{className:"w-8 h-8 text-white"})}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:d.value}),n.jsx("p",{className:"text-sm text-gray-600 font-medium",children:d.name})]},d.name)})})]}),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-purple-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-purple-500 to-pink-600 rounded-full mr-3"}),"Recent Activity"]}),n.jsx("div",{className:"space-y-4",children:o.map(d=>{const c=d.icon;return n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-white/60 backdrop-blur-sm hover:bg-white/80 transition-all duration-200 border border-white/30 hover:shadow-md",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-br ${d.gradient} shadow-md`,children:n.jsx(c,{className:"w-6 h-6 text-white"})}),n.jsx("span",{className:"font-semibold text-gray-900",children:d.type})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:d.count}),n.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Today"})]})]},d.type)})})]}),n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30 col-span-1 lg:col-span-2",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Xc,{className:"w-5 h-5 mr-2 text-blue-600"}),"Growth Rates Comparison"]}),n.jsx(Bi,{width:"100%",height:300,children:n.jsxs(mu,{data:[{name:"Revenue Growth",value:t.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:t.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:t.growth_rates.user_growth,color:"#8b5cf6"}],children:[n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"name",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"12px"},label:{value:"Growth %",angle:-90,position:"insideLeft"},tickFormatter:d=>`${d>0?"+":""}${d}%`}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:d=>[`${d>0?"+":""}${d.toFixed(1)}%`,"Growth"]}),n.jsx(Dl,{dataKey:"value",radius:[8,8,0,0],children:[{name:"Revenue Growth",value:t.growth_rates.revenue_growth,color:"#10b981"},{name:"Booking Growth",value:t.growth_rates.booking_growth,color:"#3b82f6"},{name:"User Growth",value:t.growth_rates.user_growth,color:"#8b5cf6"}].map((d,c)=>n.jsx(tc,{fill:d.color},`cell-${c}`))})]})})]})]})},CG=({dateFrom:e,dateTo:r})=>{const{data:t,loading:s,error:l}=CA(e,r);if(s)return n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:n.jsx("div",{className:"space-y-4",children:[...Array(6)].map((a,u)=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-8 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"flex-1 h-6 bg-gray-200 rounded-full"}),n.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded"})]},u))})})]});if(l||!t)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:l||"Failed to load revenue insights"});const i=t.trend||[],o=t.payment_methods||[],d=t.category_revenue||[],c=t.top_providers||[];return i.length>0&&Math.max(...i.map(a=>a.total_revenue||0)),i.reduce((a,u)=>a+(u.total_revenue||0),0),o.length>0&&Math.max(...o.map(a=>a.total_amount||0)),d.length>0&&Math.max(...d.map(a=>a.total_revenue||0)),n.jsxs("div",{className:"bg-gradient-to-br from-white/90 to-emerald-50/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx("div",{className:"w-2 h-6 bg-gradient-to-b from-emerald-500 to-teal-600 rounded-full mr-3"}),"Revenue Insights"]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Xc,{className:"w-5 h-5 mr-2 text-emerald-600"}),"Revenue Over Time"]}),n.jsx(Bi,{width:"100%",height:300,children:n.jsxs(dG,{data:i,children:[n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"period",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:a=>`${(a/1e3).toFixed(0)}k`}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:a=>[`${a.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(tm,{}),n.jsx(O8,{type:"monotone",dataKey:"total_revenue",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6},name:"Revenue"})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(Gi,{className:"w-5 h-5 mr-2 text-primary"}),"Payment Methods Distribution"]}),n.jsx(Bi,{width:"100%",height:250,children:n.jsxs(NG,{children:[n.jsx(m8,{data:o,cx:"50%",cy:"50%",labelLine:!1,label:({method:a,percent:u})=>`${a}: ${(u*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"total_amount",children:o.map((a,u)=>{const f=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899"];return n.jsx(tc,{fill:f[u%f.length]},`cell-${u}`)})}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:a=>[`${a.toLocaleString("en-IN")}`,"Amount"]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(dA,{className:"w-5 h-5 mr-2 text-purple-600"}),"Revenue by Category"]}),n.jsx(Bi,{width:"100%",height:250,children:n.jsxs(mu,{data:d,children:[n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"category",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:80}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"11px"},tickFormatter:a=>`${(a/1e3).toFixed(0)}k`}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"},formatter:a=>[`${a.toLocaleString("en-IN")}`,"Revenue"]}),n.jsx(Dl,{dataKey:"total_revenue",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Zi,{className:"w-5 h-5 mr-2 text-yellow-500"}),"Top Earning Providers"]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:c.map((a,u)=>n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm p-6 rounded-xl border border-white/30 hover:bg-white/80 hover:shadow-lg transition-all duration-300 hover:scale-105",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:a.name.split(" ").map(f=>f[0]).join("")}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-gray-900 truncate",children:a.name}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:a.business_name})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["",a.total_earnings.toLocaleString("en-IN")]}),n.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-100 px-2 py-1 rounded-full",children:[n.jsx(Zi,{className:"w-4 h-4 text-yellow-500 fill-current"}),n.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:[a.booking_count," bookings"]})]})]})]},a.name))})]})]})},EG=({dateFrom:e,dateTo:r})=>{const{data:t,loading:s,error:l}=AA(e,r);if(s)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((f,h)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},h))})]});if(l||!t)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:l||"Failed to load user analytics"});const i=t.activity_metrics||{};t.engagement_metrics;const o=i.total_users||0,d=i.active_users_30d||0,c=i.verified_users||0,a=i.users_with_bookings||0,u=[{name:"Total Users",value:o.toLocaleString(),change:`${c} verified`,changeType:"positive",icon:Gs,gradient:"from-blue-400 to-cyan-500"},{name:"Active Users (30d)",value:d.toLocaleString(),change:"Last 30 days",changeType:"positive",icon:Pf,gradient:"from-green-400 to-emerald-500"},{name:"Users with Bookings",value:a.toLocaleString(),change:`${o>0?Math.round(a/o*100):0}% of total`,changeType:"positive",icon:Y6,gradient:"from-purple-400 to-indigo-500"},{name:"Verified Users",value:c.toLocaleString(),change:`${o>0?Math.round(c/o*100):0}% verified`,changeType:"positive",icon:vA,gradient:"from-red-400 to-rose-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"User Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:u.map(f=>{const h=f.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${f.gradient} rounded-xl shadow-md`,children:n.jsx(h,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.value}),n.jsx("p",{className:"text-sm text-gray-600",children:f.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${f.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:f.change})]},f.name)})}),t.registration_trend&&t.registration_trend.length>0&&n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Pf,{className:"w-5 h-5 mr-2 text-blue-600"}),"User Registration Trends"]}),n.jsx(Bi,{width:"100%",height:300,children:n.jsxs(a7,{data:t.registration_trend,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"colorRegistrations",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(tm,{}),n.jsx(Yc,{type:"monotone",dataKey:"new_users",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRegistrations)",name:"New Users"})]})})]}),t.geographic_distribution&&t.geographic_distribution.length>0&&n.jsxs("div",{className:"mt-6 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(Gs,{className:"w-5 h-5 mr-2 text-purple-600"}),"User Geographic Distribution"]}),n.jsx(Bi,{width:"100%",height:300,children:n.jsxs(mu,{data:t.geographic_distribution,children:[n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"city",stroke:"#6b7280",style:{fontSize:"11px"},angle:-45,textAnchor:"end",height:100}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Dl,{dataKey:"user_count",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})]})},AG=({dateFrom:e,dateTo:r})=>{const{data:t,loading:s,error:l}=TA(e,r);if(s)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((f,h)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},h))})]});if(l||!t)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:l||"Failed to load booking analytics"});const i=t.booking_trend&&t.booking_trend.length>0?t.booking_trend[t.booking_trend.length-1]:null,o=t.booking_trend?t.booking_trend.reduce((f,h)=>f+h.total_bookings,0):0,d=t.booking_trend?t.booking_trend.reduce((f,h)=>f+h.completed_bookings,0):0,c=t.booking_trend?t.booking_trend.reduce((f,h)=>f+h.cancelled_bookings,0):0,a=t.booking_trend&&t.booking_trend.length>0?t.booking_trend.reduce((f,h)=>f+h.completion_rate,0)/t.booking_trend.length:0,u=[{name:"Total Bookings",value:o.toLocaleString(),change:`${i?.total_bookings||0} today`,changeType:"positive",icon:mn,gradient:"from-blue-400 to-cyan-500"},{name:"Completed Bookings",value:d.toLocaleString(),change:`${a.toFixed(1)}% avg completion`,changeType:"positive",icon:fn,gradient:"from-green-400 to-emerald-500"},{name:"Cancelled Bookings",value:c.toLocaleString(),change:`${(c/o*100).toFixed(1)}% cancellation rate`,changeType:"negative",icon:ai,gradient:"from-red-400 to-rose-500"},{name:"Peak Hour",value:`${t.peak_booking_times&&t.peak_booking_times.length>0?t.peak_booking_times.reduce((f,h)=>f.booking_count>h.booking_count?f:h).hour:0}:00`,change:"Most Active",changeType:"positive",icon:pn,gradient:"from-yellow-400 to-orange-500"},{name:"Search to Booking",value:`${t.conversion_funnel.search_to_booking_rate.toFixed(1)}%`,change:`${t.conversion_funnel.searches.toLocaleString()} searches`,changeType:"positive",icon:Fo,gradient:"from-purple-400 to-indigo-500"},{name:"Profile Views",value:t.conversion_funnel.profile_views.toLocaleString(),change:`${(t.conversion_funnel.profile_views/t.conversion_funnel.searches*100).toFixed(1)}% view rate`,changeType:"positive",icon:Ba,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Booking Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:u.map(f=>{const h=f.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${f.gradient} rounded-xl shadow-md`,children:n.jsx(h,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.value}),n.jsx("p",{className:"text-sm text-gray-600",children:f.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${f.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":f.changeType==="negative"?"text-red-700 bg-red-100 border border-red-200":"text-yellow-700 bg-yellow-100 border border-yellow-200"}`,children:f.change})]},f.name)})}),n.jsxs("div",{className:"mt-8 bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(mn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Booking Trends Over Time"]}),n.jsx(Bi,{width:"100%",height:350,children:n.jsxs(a7,{data:t.booking_trend||[],children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),n.jsxs("linearGradient",{id:"colorCancelled",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),n.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"date",stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"12px"}}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(tm,{}),n.jsx(Yc,{type:"monotone",dataKey:"total_bookings",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorTotal)",name:"Total Bookings"}),n.jsx(Yc,{type:"monotone",dataKey:"completed_bookings",stroke:"#10b981",fillOpacity:1,fill:"url(#colorCompleted)",name:"Completed"}),n.jsx(Yc,{type:"monotone",dataKey:"cancelled_bookings",stroke:"#ef4444",fillOpacity:1,fill:"url(#colorCancelled)",name:"Cancelled"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(fn,{className:"w-5 h-5 mr-2 text-green-600"}),"Booking Status Distribution"]}),n.jsx(Bi,{width:"100%",height:250,children:n.jsxs(mu,{data:t.status_distribution||[],children:[n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"status",stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"11px"}}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Dl,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]}),n.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-white/30",children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-6 flex items-center",children:[n.jsx(pn,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Peak Booking Times"]}),n.jsx(Bi,{width:"100%",height:250,children:n.jsxs(mu,{data:t.peak_booking_times||[],children:[n.jsx(Wi,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),n.jsx(Vi,{dataKey:"hour",stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Hour",position:"insideBottom",offset:-5}}),n.jsx(Ki,{stroke:"#6b7280",style:{fontSize:"11px"},label:{value:"Bookings",angle:-90,position:"insideLeft"}}),n.jsx(qi,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px"}}),n.jsx(Dl,{dataKey:"booking_count",fill:"#f59e0b",radius:[8,8,0,0]})]})})]})]})]})},PG=({dateFrom:e,dateTo:r})=>{const{data:t,loading:s,error:l}=MA(e,r);if(s)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,u)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},u))})]});if(l||!t)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:l||"Failed to load provider analytics"});const i=t.registration_trend&&t.registration_trend.length>0?t.registration_trend[t.registration_trend.length-1]:null,o=t.status_distribution?t.status_distribution.reduce((a,u)=>a+u.count,0):0,d=t.status_distribution?t.status_distribution.filter(a=>a.verification_status==="verified").reduce((a,u)=>a+u.count,0):0,c=[{name:"Total Providers",value:o.toLocaleString(),change:`${i?.new_providers||0} new today`,changeType:"positive",icon:Ef,gradient:"from-blue-400 to-cyan-500"},{name:"Verified Providers",value:d.toLocaleString(),change:`${(d/o*100).toFixed(1)}% verified`,changeType:"positive",icon:Pf,gradient:"from-green-400 to-emerald-500"},{name:"Average Rating",value:t.performance_metrics.avg_platform_rating.toFixed(1),change:`${t.performance_metrics.avg_completion_rate.toFixed(1)}% completion`,changeType:"positive",icon:Zi,gradient:"from-yellow-400 to-orange-500"},{name:"Active Providers",value:t.performance_metrics.active_providers.toLocaleString(),change:`${(t.performance_metrics.active_providers/o*100).toFixed(1)}% active`,changeType:"positive",icon:Fo,gradient:"from-purple-400 to-indigo-500"},{name:"Top Performer",value:t.top_performers[0]?.name||"N/A",change:`${t.top_performers[0]?.rating.toFixed(1)||"0"} rating`,changeType:"positive",icon:pn,gradient:"from-pink-400 to-rose-500"},{name:"Category Leaders",value:t.category_distribution.length.toString(),change:`${t.category_distribution[0]?.category||"N/A"} leading`,changeType:"positive",icon:Ba,gradient:"from-orange-400 to-red-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Provider Analytics"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(a=>{const u=a.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${a.gradient} rounded-xl shadow-md`,children:n.jsx(u,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.value}),n.jsx("p",{className:"text-sm text-gray-600",children:a.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${a.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:a.change})]},a.name)})})]})},TG=()=>{const{data:e,loading:r,error:t}=RA();if(r)return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20 animate-pulse",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("div",{className:"w-32 h-8 bg-gray-200 rounded"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded-full"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((l,i)=>n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-xl"}),n.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded"}),n.jsx("div",{className:"w-32 h-4 bg-gray-200 rounded"})]},i))})]});if(t||!e)return n.jsx("div",{className:"text-red-500 p-4 bg-red-50 rounded-lg",children:t||"Failed to load system performance data"});const s=[{name:"Response Time",value:`${e.current_metrics.avg_response_time_ms}ms`,change:`${e.current_metrics.avg_response_time_ms<200?"Good":"Slow"}`,changeType:e.current_metrics.avg_response_time_ms<200?"positive":"negative",icon:pn,gradient:"from-blue-400 to-cyan-500"},{name:"DB Query Time",value:`${e.current_metrics.avg_db_query_time_ms}ms`,change:`${e.current_metrics.avg_db_query_time_ms<100?"Fast":"Slow"}`,changeType:e.current_metrics.avg_db_query_time_ms<100?"positive":"negative",icon:QE,gradient:"from-purple-400 to-indigo-500"},{name:"Server Load",value:`${e.current_metrics.avg_server_load}%`,change:`${e.current_metrics.avg_server_load<80?"Normal":"High"}`,changeType:e.current_metrics.avg_server_load<80?"positive":"negative",icon:mA,gradient:"from-emerald-400 to-teal-500"},{name:"Memory Usage",value:`${e.current_metrics.avg_memory_usage}%`,change:`${e.current_metrics.avg_memory_usage<80?"Good":"High"}`,changeType:e.current_metrics.avg_memory_usage<80?"positive":"negative",icon:rA,gradient:"from-orange-400 to-red-500"},{name:"Error Rate",value:`${e.current_metrics.avg_error_rate}%`,change:`${e.current_metrics.avg_error_rate<1?"Low":"High"}`,changeType:e.current_metrics.avg_error_rate<1?"positive":"negative",icon:Ba,gradient:"from-pink-400 to-rose-500"},{name:"Uptime",value:`${e.current_metrics.avg_uptime}%`,change:`${e.current_metrics.avg_uptime>99.9?"Excellent":"Good"}`,changeType:"positive",icon:HE,gradient:"from-yellow-400 to-orange-500"}];return n.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-white/20",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"System Performance"}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",new Date().toLocaleString()]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(l=>{const i=l.icon;return n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:`flex items-center justify-center w-16 h-16 bg-gradient-to-br ${l.gradient} rounded-xl shadow-md`,children:n.jsx(i,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.value}),n.jsx("p",{className:"text-sm text-gray-600",children:l.name})]}),n.jsx("div",{className:`text-sm font-medium px-3 py-1 rounded-full inline-block ${l.changeType==="positive"?"text-emerald-700 bg-emerald-100 border border-emerald-200":"text-red-700 bg-red-100 border border-red-200"}`,children:l.change})]},l.name)})})]})},d6="kwikmedi_admin_sidebar_scroll",f6=({isMobile:e,toggleSidebar:r})=>{const{user:t,logout:s}=gn(),l=Bn(),i=Qn(),o=l.pathname==="/admin/finance-panel",c=new URLSearchParams(l.search).get("tab")||"overview",[a,u]=F.useState({}),f=F.useRef(null),h=F.useCallback(()=>{const D=f.current;if(D)try{sessionStorage.setItem(d6,String(D.scrollTop))}catch{}},[]);F.useEffect(()=>{if(f.current)try{const q=sessionStorage.getItem(d6);if(q!==null){const z=parseInt(q,10);if(!isNaN(z)&&z>=0){const B=requestAnimationFrame(()=>{const V=f.current;V&&(V.scrollTop=z)});return()=>cancelAnimationFrame(B)}}}catch{}},[l.pathname,l.search,a]),F.useEffect(()=>()=>h(),[h]),F.useEffect(()=>{const D=l.pathname,q={};D.startsWith("/admin/categories")&&(q.categories=!0),D.startsWith("/admin/helping-staff-panel")&&(q["helping-staff-panel"]=!0),D.startsWith("/admin/lab-tests")&&(q["lab-tests"]=!0),D.startsWith("/admin/site-management")&&(q["site-management"]=!0),D.startsWith("/admin/coupons")&&(q.coupons=!0),u(q)},[l.pathname]);const m=D=>{u(q=>({...q,[D]:!q[D]}))},g=[{id:"overview",label:"Overview",icon:Xc},{id:"bookings",label:"Bookings",icon:mn},{id:"vendors",label:"Vendors",icon:pA},{id:"settlements",label:"Settlements",icon:Dn},{id:"payouts",label:"Payouts",icon:Gi},{id:"gst",label:"GST Reports",icon:li},{id:"transactions",label:"Transactions",icon:Fo},...t?.role==="admin"?[{id:"staff",label:"Financial Staff",icon:Lr}]:[]],y=[{name:"Categories",icon:n.jsx(Kc,{size:20}),basePath:"/admin/categories",subItems:[{name:"Categories",to:"/admin/categories",icon:n.jsx(Kc,{size:18})},{name:"Inventory",to:"/admin/categories/inventory",icon:n.jsx(eA,{size:18})},{name:"Generic",to:"/admin/categories/generic",icon:n.jsx(Us,{size:18})},{name:"Branded",to:"/admin/categories/branded",icon:n.jsx(Tn,{size:18})}]},{name:"Helping Staff Panel",icon:n.jsx(m0,{size:20}),basePath:"/admin/helping-staff-panel",subItems:[{name:"Prescriptions",to:"/admin/helping-staff-panel/prescriptions",icon:n.jsx(li,{size:18})},{name:"Orders Pending Approval",to:"/admin/helping-staff-panel/orders",icon:n.jsx(Tn,{size:18})}]},{name:"Lab Tests",icon:n.jsx(Af,{size:20}),basePath:"/admin/lab-tests",subItems:[{name:"Bookings",to:"/admin/lab-tests/bookings",icon:n.jsx(mn,{size:18})},{name:"Categories",to:"/admin/lab-tests/categories",icon:n.jsx(Kc,{size:18})},{name:"Packages",to:"/admin/lab-tests/packages",icon:n.jsx(Tn,{size:18})}]},{name:"Site Management",icon:n.jsx(tA,{size:20}),basePath:"/admin/site-management",subItems:[{name:"Blog",to:"/admin/site-management/blog",icon:n.jsx(hw,{size:18})},{name:"Banners",to:"/admin/site-management/banners",icon:n.jsx(_l,{size:18})}]},{name:"Coupons",icon:n.jsx(yA,{size:20}),basePath:"/admin/coupons",subItems:[{name:"Medicine Booking",to:"/admin/coupons/medicine",icon:n.jsx(Ao,{size:18})},{name:"Lab Test",to:"/admin/coupons/lab-test",icon:n.jsx(Af,{size:18})}]}],p=[{type:"link",link:{name:"Dashboard",to:"/admin/dashboard",icon:n.jsx(mw,{size:20})},position:1},{type:"link",link:{name:"Vendors",to:"/admin/providers",icon:n.jsx(Ao,{size:20})},position:2},{type:"link",link:{name:"Users",to:"/admin/users",icon:n.jsx(Lr,{size:20})},position:3},{type:"expandable",section:y[0],position:4},{type:"link",link:{name:"Prescriptions",to:"/admin/prescriptions",icon:n.jsx(m0,{size:20})},position:5},{type:"link",link:{name:"Orders",to:"/admin/orders",icon:n.jsx(Tn,{size:20})},position:6},{type:"link",link:{name:"Leads",to:"/admin/leads",icon:n.jsx(JE,{size:20}),badge:"New"},position:7},{type:"expandable",section:y[1],position:8},{type:"link",link:{name:"Finance",to:"/admin/finance",icon:n.jsx(gw,{size:20})},position:9},{type:"link",link:{name:"Transactions",to:"/admin/transactions",icon:n.jsx(gw,{size:20})},position:10},{type:"expandable",section:y[4],position:11},{type:"link",link:{name:"Helpdesk",to:"/admin/helpdesk",icon:n.jsx(Ex,{size:20})},position:12},{type:"link",link:{name:"Push Notifications",to:"/admin/push-notifications",icon:n.jsx(Eo,{size:20})},position:13},{type:"expandable",section:y[2],position:14},{type:"expandable",section:y[3],position:15}],b=[{name:"Dashboard",to:"/provider",icon:n.jsx(mw,{size:20})},{name:"Opportunities",to:"/provider/opportunities",icon:n.jsx(Eo,{size:20}),badge:"New"},{name:"My Tasks",to:"/provider/tasks",icon:n.jsx(kx,{size:20})},{name:"Raise Request",to:"/provider/request",icon:n.jsx(m0,{size:20})},{name:"Previous Work",to:"/provider/history",icon:n.jsx(aA,{size:20})},{name:"Profile",to:"/provider/profile",icon:n.jsx(Lr,{size:20})}],v=[{name:"My Services",to:"/user",icon:n.jsx(hw,{size:20})},{name:"Book Service",to:"/user/new-service",icon:n.jsx(Jn,{size:20})},{name:"Payment History",to:"/user/payments",icon:n.jsx(Gi,{size:20})},{name:"Report Issue",to:"/user/report",icon:n.jsx(Ba,{size:20})}],j=[{name:"Home",to:"/",icon:n.jsx(sA,{size:20})},{name:"Login",to:"/login",icon:n.jsx(Lr,{size:20})}],T=(()=>{if(!t)return j;switch(t.role){case"admin":return[];case"provider":return b;case"user":return v;default:return j}})();return n.jsxs("div",{className:`h-screen bg-gradient-to-b from-primary via-primary/95 to-primary text-white flex flex-col transition-all duration-300 ${e?"fixed top-0 left-0 z-40 w-64 shadow-2xl transform":"w-64"}`,children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-primary/30",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-secondary flex items-center justify-center shadow-lg ring-2 ring-primary/40 overflow-hidden",children:n.jsx("img",{src:"/kwikmedi_logo.svg",alt:"KwikMedi Logo",className:"h-full w-full object-contain p-1"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-secondary rounded-full border-2 border-primary"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-bold text-xl bg-gradient-to-r from-secondary to-secondary/80 bg-clip-text text-transparent",children:"KwikMedi"}),n.jsx("div",{className:"text-xs text-secondary/80 mt-0.5",children:t?.role==="admin"?"Admin Portal":t?.role==="provider"?"Vendor Hub":t?.role==="user"?"Customer Portal":"Welcome"})]})]}),e&&n.jsx("button",{onClick:r,className:"p-2 rounded-lg hover:bg-primary/40 transition-colors",children:n.jsx(hr,{size:20})})]}),t&&n.jsx("div",{className:"p-6 border-b border-primary/30",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center shadow-lg",children:n.jsx(Lr,{size:20,className:"text-primary"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-secondary rounded-full border-2 border-primary flex items-center justify-center",children:n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-white truncate",children:t.name||"User"}),n.jsx("p",{className:"text-sm text-secondary/80 truncate",children:t.email})]})]})}),n.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto py-6 px-4",onScroll:h,children:[n.jsx("nav",{className:"space-y-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4 pb-4 border-b border-primary/30",children:n.jsx("h3",{className:"text-sm font-semibold text-secondary/80 mb-2 px-3",children:"Finance Panel"})}),g.map(D=>{const q=D.icon,z=c===D.id;return n.jsx("div",{className:"relative",children:n.jsxs("button",{onClick:()=>{i(`/admin/finance-panel?tab=${D.id}`),e&&r()},className:`w-full group flex items-center space-x-3 p-3 rounded-xl transition-all duration-200 ${z?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,children:[n.jsx("div",{className:"relative",children:n.jsx(q,{size:20})}),n.jsx("span",{className:"font-medium",children:D.label})]})},D.id)})]}):n.jsx(n.Fragment,{children:t?.role==="admin"?p.map(D=>{if(D.type==="expandable"&&D.section){const q=D.section,z=q.basePath.replace("/admin/","").replace(/-/g,"-"),B=a[z]||!1,V=l.pathname.startsWith(q.basePath);return n.jsxs("div",{className:"mb-1",children:[n.jsxs("button",{onClick:()=>m(z),className:`w-full group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${V?"bg-secondary/20 text-white":"text-secondary/80 hover:bg-primary/40 hover:text-white"}`,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"relative",children:q.icon}),n.jsx("span",{className:"font-medium",children:q.name})]}),n.jsx("div",{className:"transition-transform duration-200",style:{transform:B?"rotate(0deg)":"rotate(-90deg)"},children:n.jsx(Ka,{size:16})})]}),n.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${B?"max-h-96 opacity-100":"max-h-0 opacity-0"}`,children:n.jsx("div",{className:"pl-4 pt-1 space-y-1",children:q.subItems.map(X=>{const W=l.pathname===X.to;return n.jsxs(vl,{to:X.to,className:({isActive:P})=>`group flex items-center space-x-3 p-2.5 rounded-lg transition-all duration-200 ${P||W?"bg-secondary text-primary shadow-md":"text-secondary/70 hover:bg-primary/30 hover:text-white"}`,onClick:e?r:void 0,children:[n.jsx("div",{className:"relative",children:X.icon}),n.jsx("span",{className:"text-sm font-medium",children:X.name})]},X.to)})})})]},q.name)}else if(D.type==="link"&&D.link){const q=D.link;return n.jsxs("div",{className:"relative",children:[n.jsxs(vl,{to:q.to,className:({isActive:z})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${z?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?r:void 0,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[q.icon,q.badge&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),n.jsx("span",{className:"font-medium",children:q.name})]}),q.badge&&n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:q.badge})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===q.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},q.name)}return null}):T.map(D=>n.jsxs("div",{className:"relative",children:[n.jsxs(vl,{to:D.to,className:({isActive:q})=>`group flex items-center justify-between p-3 rounded-xl transition-all duration-200 ${q?"bg-secondary text-primary shadow-lg transform scale-[1.02]":"text-secondary/80 hover:bg-primary/40 hover:text-white hover:transform hover:scale-[1.02]"}`,onClick:e?r:void 0,children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[D.icon,D.badge&&n.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-secondary rounded-full"})]}),n.jsx("span",{className:"font-medium",children:D.name})]}),D.badge&&n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary font-semibold rounded-full",children:D.badge})]}),n.jsx("div",{className:`absolute inset-0 rounded-xl bg-secondary/20 transition-opacity duration-300 ${window.location.pathname===D.to?"opacity-100":"opacity-0"}`,style:{zIndex:-1}})]},D.name))})}),t?.role==="user"&&n.jsxs("div",{className:"mt-8 p-4 bg-secondary/20 rounded-xl border border-primary/30",children:[n.jsx("h3",{className:"text-sm font-semibold text-secondary mb-3",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs(vl,{to:"/user/orders",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(wA,{size:16}),n.jsx("span",{className:"text-sm",children:"Place Order"})]}),n.jsxs(vl,{to:"/user/prescriptions",className:"flex items-center space-x-2 p-2 rounded-lg text-secondary hover:bg-primary/30 transition-colors",children:[n.jsx(Zi,{size:16}),n.jsx("span",{className:"text-sm",children:"Upload Prescription"})]})]})]})]}),t&&n.jsx("div",{className:"p-4 border-t border-primary/30",children:n.jsxs("button",{onClick:s,className:"flex items-center justify-center w-full p-3 rounded-xl text-secondary/80 hover:bg-primary/40 hover:text-secondary transition-all duration-200 group",children:[n.jsx(Cx,{size:20,className:"mr-3 group-hover:transform group-hover:scale-110 transition-transform"}),n.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]})},OG=({toggleSidebar:e})=>{const r=Qn(),{user:t,logout:s,refreshUserData:l}=gn(),[i,o]=F.useState(!1),[d,c]=F.useState(!1),[a,u]=F.useState(0),[f,h]=F.useState(!1),m=F.useRef(null),g=F.useRef(null),y=F.useRef(),p=F.useRef(),b=()=>{s(),r("/login")},v=async()=>{h(!0);try{await l(),await new Promise(q=>setTimeout(q,100)),console.log("Header refresh completed")}catch(q){console.error("Error refreshing user data:",q)}finally{setTimeout(()=>h(!1),1e3)}},j=()=>{u(q=>q+1),p.current&&clearTimeout(p.current),a>=2?(v(),u(0)):p.current=setTimeout(()=>{u(0)},2e3)},C=[{id:1,type:"service",title:"Service Completed",message:"Your AC repair service has been completed successfully.",time:"2 hours ago",read:!1},{id:2,type:"promotion",title:"Special Offer",message:"Get 20% off on your next home cleaning service.",time:"1 day ago",read:!1},{id:3,type:"reminder",title:"Upcoming Service",message:"Your plumbing service is scheduled for tomorrow at 10:00 AM.",time:"2 days ago",read:!0}],T=C.filter(q=>!q.read).length;F.useEffect(()=>{const q=B=>{m.current&&!m.current.contains(B.target)&&o(!1),g.current&&!g.current.contains(B.target)&&c(!1)},z=B=>{B.ctrlKey&&B.shiftKey&&B.key==="R"&&(B.preventDefault(),v())};return document.addEventListener("mousedown",q),document.addEventListener("keydown",z),()=>{document.removeEventListener("mousedown",q),document.removeEventListener("keydown",z),y.current&&clearTimeout(y.current),p.current&&clearTimeout(p.current)}},[]),F.useEffect(()=>{t&&t.id&&l()},[t?.id]);const D=q=>{switch(q){case"service":return n.jsx(Zi,{size:16,className:"text-orange-500"});case"promotion":return n.jsx(pw,{size:16,className:"text-amber-500"});case"reminder":return n.jsx(pn,{size:16,className:"text-rose-400"});default:return n.jsx(Eo,{size:16,className:"text-orange-300"})}};return n.jsxs("header",{className:"bg-gradient-to-r from-orange-50/95 via-white/95 to-orange-50/95 backdrop-blur-sm shadow-sm border-b border-orange-100/70 h-16 flex items-center justify-between px-4 lg:px-6 relative z-30 text-orange-950",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx("button",{onClick:e,className:"p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 lg:hidden transition-all duration-200",children:n.jsx(lA,{size:24})})}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>c(!d),className:"relative p-2 rounded-xl text-orange-500 hover:bg-orange-100/80 hover:text-orange-700 transition-all duration-200 group",children:[n.jsx(Eo,{size:20}),T>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-gradient-to-r from-orange-500 to-amber-400 text-white text-xs rounded-full flex items-center justify-center font-semibold animate-pulse",children:T})]}),d&&n.jsxs("div",{ref:g,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-2 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-orange-900",children:"Notifications"}),n.jsxs("span",{className:"text-xs text-orange-500",children:[T," new"]})]})}),n.jsx("div",{className:"max-h-80 overflow-y-auto",children:C.map(q=>n.jsx("div",{className:`px-4 py-3 hover:bg-orange-50/60 cursor-pointer transition-colors duration-200 ${q.read?"":"bg-orange-50/70"}`,children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"mt-1",children:D(q.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"font-medium text-orange-900 text-sm",children:q.title}),!q.read&&n.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full ml-2"})]}),n.jsx("p",{className:"text-orange-700/80 text-sm mt-1",children:q.message}),n.jsx("p",{className:"text-orange-400 text-xs mt-1",children:q.time})]})]})},q.id))}),n.jsx("div",{className:"px-4 py-3 border-t border-orange-100 bg-orange-50/60",children:n.jsx("button",{className:"w-full text-center text-sm text-orange-600 hover:text-orange-700 font-medium",children:"View all notifications"})})]})]}),t?n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer p-2 rounded-xl hover:bg-orange-100/60 transition-all duration-200",onClick:()=>o(!i),onDoubleClick:j,children:[n.jsxs("div",{className:"hidden sm:block text-right",children:[n.jsx("p",{className:"text-sm font-medium text-orange-900",children:t.name||"User"}),n.jsx("p",{className:"text-xs text-orange-500 capitalize",children:t.role})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:f?n.jsx(Dn,{size:20,className:"text-orange-50 animate-spin"}):n.jsx(Lr,{size:20,className:"text-white"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white"}),f&&n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-orange-500 rounded-full border-2 border-white animate-pulse"})]}),n.jsx(Ka,{size:16,className:"text-orange-400 hidden sm:block"})]}),i&&n.jsxs("div",{ref:m,className:"absolute right-0 mt-2 w-80 bg-white/95 rounded-xl shadow-xl border border-orange-100 py-3 z-50 transform transition-all duration-200 ease-in-out",children:[n.jsx("div",{className:"px-4 py-3 border-b border-orange-100 bg-gradient-to-r from-orange-50 to-amber-50",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-amber-400 flex items-center justify-center shadow-md",children:n.jsx(Lr,{size:24,className:"text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold text-orange-900 truncate",children:t.name||"User"}),n.jsx("p",{className:"text-sm text-orange-600 truncate",children:t.email}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 capitalize",children:t.role}),n.jsxs("span",{className:"flex items-center text-xs text-emerald-600",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Online"]})]})]})]})}),n.jsx("div",{className:"px-4 py-3",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mn,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Member since"})]}),n.jsx("span",{className:"text-orange-900",children:"Jan 2024"})]}),t.role==="user"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Zi,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Services booked"})]}),n.jsx("span",{className:"text-orange-900",children:"12"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pw,{size:16,className:"text-orange-400"}),n.jsx("span",{className:"text-orange-600",children:"Loyalty points"})]}),n.jsx("span",{className:"text-amber-600 font-semibold",children:"850"})]})]})]})}),n.jsx("div",{className:"px-4 py-2 border-t border-orange-100 bg-orange-50/60",children:n.jsx("div",{className:"space-y-1",children:n.jsxs("button",{onClick:b,className:"w-full flex items-center space-x-3 text-sm text-red-600 hover:bg-red-50 py-2 px-3 rounded-lg transition-colors duration-200",children:[n.jsx(Cx,{size:16}),n.jsx("span",{children:"Sign Out"})]})})})]})]}):n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>r("/login"),className:"px-4 py-2 text-sm font-medium text-orange-700 hover:text-orange-900 transition-colors duration-200",children:"Sign In"}),n.jsx("button",{onClick:()=>r("/register"),className:"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-orange-500 to-amber-400 hover:from-orange-600 hover:to-amber-500 rounded-lg transition-all duration-200",children:"Get Started"})]})]})]})},Gr=({children:e})=>{const{user:r}=gn(),[t,s]=F.useState(!1),l=()=>{s(!t)};return n.jsxs("div",{className:"flex h-screen bg-secondary",children:[n.jsx("div",{className:"hidden lg:block",children:n.jsx(f6,{isMobile:!1,toggleSidebar:l})}),t&&n.jsxs("div",{className:"lg:hidden",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30",onClick:l}),n.jsx(f6,{isMobile:!0,toggleSidebar:l})]}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx(OG,{toggleSidebar:l}),n.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6",children:e})]})]})},MG=()=>{const[e,r]=F.useState("30d"),[t,s]=F.useState(""),[l,i]=F.useState("");F.useEffect(()=>{const d=new Date,c=d.toISOString().split("T")[0];let a;switch(e){case"7d":a=new Date(d.setDate(d.getDate()-7)).toISOString().split("T")[0];break;case"30d":a=new Date(d.setDate(d.getDate()-30)).toISOString().split("T")[0];break;case"90d":a=new Date(d.setDate(d.getDate()-90)).toISOString().split("T")[0];break;case"1y":a=new Date(d.setFullYear(d.getFullYear()-1)).toISOString().split("T")[0];break;default:a=new Date(d.setDate(d.getDate()-7)).toISOString().split("T")[0]}s(a),i(c)},[e]);const o=(d,c)=>{s(d),i(c)};return n.jsx(Gr,{children:n.jsxs("div",{className:"min-h-screen bg-secondary",children:[n.jsx(NA,{dateFrom:t,dateTo:l,onDateRangeChange:o}),n.jsx("div",{className:"pt-20 pb-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-8",children:[n.jsx(DA,{dateFrom:t,dateTo:l}),n.jsx(SG,{dateFrom:t,dateTo:l}),n.jsx(CG,{dateFrom:t,dateTo:l}),n.jsx(EG,{dateFrom:t,dateTo:l}),n.jsx(AG,{dateFrom:t,dateTo:l}),n.jsx(PG,{dateFrom:t,dateTo:l}),n.jsx(TG,{})]})})]})})},jt=({children:e,className:r=""})=>n.jsx("div",{className:`bg-white rounded-lg shadow-card overflow-hidden ${r}`,children:e}),er=({children:e,className:r=""})=>n.jsx("div",{className:`p-6 border-b border-gray-200 ${r}`,children:e}),tr=({children:e,className:r=""})=>n.jsx("h3",{className:`text-lg font-semibold text-gray-900 ${r}`,children:e}),Nt=({children:e,className:r=""})=>n.jsx("div",{className:`p-6 ${r}`,children:e}),rt=({variant:e="primary",size:r="md",children:t,fullWidth:s=!1,isLoading:l=!1,className:i="",disabled:o,...d})=>{const c="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",a={primary:"bg-primary hover:bg-primary-dark text-secondary-dark",secondary:"bg-secondary text-white hover:bg-secondary-light",outline:"border border-primary bg-transparent text-black hover:bg-primary/10 hover:text-black",ghost:"bg-transparent hover:bg-gray-100 text-gray-800",link:"bg-transparent underline-offset-4 hover:underline text-primary p-0 h-auto"},u={sm:"h-9 px-3 text-sm",md:"h-10 px-4 py-2",lg:"h-12 px-6 text-lg"},f=s?"w-full":"";return n.jsxs("button",{className:`${c} ${a[e]} ${u[r]} ${f} ${i}`,disabled:o||l,...d,children:[l?n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current\\",xmlns:"http://www.w3.org/2000/svg\\",fill:"none\\",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25\\",cx:"12\\",cy:"12\\",r:"10\\",stroke:"currentColor\\",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,t]})},IG=(e,r)=>{const t=new Array(e.length+r.length);for(let s=0;s<e.length;s++)t[s]=e[s];for(let s=0;s<r.length;s++)t[e.length+s]=r[s];return t},RG=(e,r)=>({classGroupId:e,validator:r}),o7=(e=new Map,r=null,t)=>({nextPart:e,validators:r,classGroupId:t}),Eh="-",h6=[],DG="arbitrary..",LG=e=>{const r=FG(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return zG(o);const d=o.split(Eh),c=d[0]===""&&d.length>1?1:0;return l7(d,c,r)},getConflictingClassGroupIds:(o,d)=>{if(d){const c=s[o],a=t[o];return c?a?IG(a,c):c:a||h6}return t[o]||h6}}},l7=(e,r,t)=>{if(e.length-r===0)return t.classGroupId;const l=e[r],i=t.nextPart.get(l);if(i){const a=l7(e,r+1,i);if(a)return a}const o=t.validators;if(o===null)return;const d=r===0?e.join(Eh):e.slice(r).join(Eh),c=o.length;for(let a=0;a<c;a++){const u=o[a];if(u.validator(d))return u.classGroupId}},zG=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const r=e.slice(1,-1),t=r.indexOf(":"),s=r.slice(0,t);return s?DG+s:void 0})(),FG=e=>{const{theme:r,classGroups:t}=e;return $G(t,r)},$G=(e,r)=>{const t=o7();for(const s in e){const l=e[s];Tb(l,t,s,r)}return t},Tb=(e,r,t,s)=>{const l=e.length;for(let i=0;i<l;i++){const o=e[i];BG(o,r,t,s)}},BG=(e,r,t,s)=>{if(typeof e=="string"){UG(e,r,t);return}if(typeof e=="function"){qG(e,r,t,s);return}HG(e,r,t,s)},UG=(e,r,t)=>{const s=e===""?r:c7(r,e);s.classGroupId=t},qG=(e,r,t,s)=>{if(WG(e)){Tb(e(s),r,t,s);return}r.validators===null&&(r.validators=[]),r.validators.push(RG(t,e))},HG=(e,r,t,s)=>{const l=Object.entries(e),i=l.length;for(let o=0;o<i;o++){const[d,c]=l[o];Tb(c,c7(r,d),t,s)}},c7=(e,r)=>{let t=e;const s=r.split(Eh),l=s.length;for(let i=0;i<l;i++){const o=s[i];let d=t.nextPart.get(o);d||(d=o7(),t.nextPart.set(o,d)),t=d}return t},WG=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,VG=e=>{if(e<1)return{get:()=>{},set:()=>{}};let r=0,t=Object.create(null),s=Object.create(null);const l=(i,o)=>{t[i]=o,r++,r>e&&(r=0,s=t,t=Object.create(null))};return{get(i){let o=t[i];if(o!==void 0)return o;if((o=s[i])!==void 0)return l(i,o),o},set(i,o){i in t?t[i]=o:l(i,o)}}},fx="!",m6=":",KG=[],p6=(e,r,t,s,l)=>({modifiers:e,hasImportantModifier:r,baseClassName:t,maybePostfixModifierPosition:s,isExternal:l}),XG=e=>{const{prefix:r,experimentalParseClassName:t}=e;let s=l=>{const i=[];let o=0,d=0,c=0,a;const u=l.length;for(let y=0;y<u;y++){const p=l[y];if(o===0&&d===0){if(p===m6){i.push(l.slice(c,y)),c=y+1;continue}if(p==="/"){a=y;continue}}p==="["?o++:p==="]"?o--:p==="("?d++:p===")"&&d--}const f=i.length===0?l:l.slice(c);let h=f,m=!1;f.endsWith(fx)?(h=f.slice(0,-1),m=!0):f.startsWith(fx)&&(h=f.slice(1),m=!0);const g=a&&a>c?a-c:void 0;return p6(i,m,h,g)};if(r){const l=r+m6,i=s;s=o=>o.startsWith(l)?i(o.slice(l.length)):p6(KG,!1,o,void 0,!0)}if(t){const l=s;s=i=>t({className:i,parseClassName:l})}return s},GG=e=>{const r=new Map;return e.orderSensitiveModifiers.forEach((t,s)=>{r.set(t,1e6+s)}),t=>{const s=[];let l=[];for(let i=0;i<t.length;i++){const o=t[i],d=o[0]==="[",c=r.has(o);d||c?(l.length>0&&(l.sort(),s.push(...l),l=[]),s.push(o)):l.push(o)}return l.length>0&&(l.sort(),s.push(...l)),s}},YG=e=>({cache:VG(e.cacheSize),parseClassName:XG(e),sortModifiers:GG(e),...LG(e)}),ZG=/\s+/,JG=(e,r)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:l,sortModifiers:i}=r,o=[],d=e.trim().split(ZG);let c="";for(let a=d.length-1;a>=0;a-=1){const u=d[a],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:y}=t(u);if(f){c=u+(c.length>0?" "+c:c);continue}let p=!!y,b=s(p?g.substring(0,y):g);if(!b){if(!p){c=u+(c.length>0?" "+c:c);continue}if(b=s(g),!b){c=u+(c.length>0?" "+c:c);continue}p=!1}const v=h.length===0?"":h.length===1?h[0]:i(h).join(":"),j=m?v+fx:v,C=j+b;if(o.indexOf(C)>-1)continue;o.push(C);const T=l(b,p);for(let D=0;D<T.length;++D){const q=T[D];o.push(j+q)}c=u+(c.length>0?" "+c:c)}return c},QG=(...e)=>{let r=0,t,s,l="";for(;r<e.length;)(t=e[r++])&&(s=u7(t))&&(l&&(l+=" "),l+=s);return l},u7=e=>{if(typeof e=="string")return e;let r,t="";for(let s=0;s<e.length;s++)e[s]&&(r=u7(e[s]))&&(t&&(t+=" "),t+=r);return t},eY=(e,...r)=>{let t,s,l,i;const o=c=>{const a=r.reduce((u,f)=>f(u),e());return t=YG(a),s=t.cache.get,l=t.cache.set,i=d,d(c)},d=c=>{const a=s(c);if(a)return a;const u=JG(c,t);return l(c,u),u};return i=o,(...c)=>i(QG(...c))},tY=[],Jr=e=>{const r=t=>t[e]||tY;return r.isThemeGetter=!0,r},d7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,f7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rY=/^\d+\/\d+$/,nY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,aY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yl=e=>rY.test(e),Gt=e=>!!e&&!Number.isNaN(Number(e)),Oa=e=>!!e&&Number.isInteger(Number(e)),Zg=e=>e.endsWith("%")&&Gt(e.slice(0,-1)),Mi=e=>nY.test(e),lY=()=>!0,cY=e=>sY.test(e)&&!iY.test(e),h7=()=>!1,uY=e=>aY.test(e),dY=e=>oY.test(e),fY=e=>!vt(e)&&!bt(e),hY=e=>rc(e,g7,h7),vt=e=>d7.test(e),po=e=>rc(e,y7,cY),Jg=e=>rc(e,xY,Gt),g6=e=>rc(e,m7,h7),mY=e=>rc(e,p7,dY),uf=e=>rc(e,x7,uY),bt=e=>f7.test(e),qc=e=>nc(e,y7),pY=e=>nc(e,vY),y6=e=>nc(e,m7),gY=e=>nc(e,g7),yY=e=>nc(e,p7),df=e=>nc(e,x7,!0),rc=(e,r,t)=>{const s=d7.exec(e);return s?s[1]?r(s[1]):t(s[2]):!1},nc=(e,r,t=!1)=>{const s=f7.exec(e);return s?s[1]?r(s[1]):t:!1},m7=e=>e==="position"||e==="percentage",p7=e=>e==="image"||e==="url",g7=e=>e==="length"||e==="size"||e==="bg-size",y7=e=>e==="length",xY=e=>e==="number",vY=e=>e==="family-name",x7=e=>e==="shadow",bY=()=>{const e=Jr("color"),r=Jr("font"),t=Jr("text"),s=Jr("font-weight"),l=Jr("tracking"),i=Jr("leading"),o=Jr("breakpoint"),d=Jr("container"),c=Jr("spacing"),a=Jr("radius"),u=Jr("shadow"),f=Jr("inset-shadow"),h=Jr("text-shadow"),m=Jr("drop-shadow"),g=Jr("blur"),y=Jr("perspective"),p=Jr("aspect"),b=Jr("ease"),v=Jr("animate"),j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],C=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...C(),bt,vt],D=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],z=()=>[bt,vt,c],B=()=>[yl,"full","auto",...z()],V=()=>[Oa,"none","subgrid",bt,vt],X=()=>["auto",{span:["full",Oa,bt,vt]},Oa,bt,vt],W=()=>[Oa,"auto",bt,vt],P=()=>["auto","min","max","fr",bt,vt],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],E=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...z()],k=()=>[yl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],N=()=>[e,bt,vt],S=()=>[...C(),y6,g6,{position:[bt,vt]}],O=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",gY,hY,{size:[bt,vt]}],I=()=>[Zg,qc,po],G=()=>["","none","full",a,bt,vt],Y=()=>["",Gt,qc,po],te=()=>["solid","dashed","dotted","double"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>[Gt,Zg,y6,g6],$=()=>["","none",g,bt,vt],R=()=>["none",Gt,bt,vt],K=()=>["none",Gt,bt,vt],ee=()=>[Gt,bt,vt],se=()=>[yl,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mi],breakpoint:[Mi],color:[lY],container:[Mi],"drop-shadow":[Mi],ease:["in","out","in-out"],font:[fY],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mi],shadow:[Mi],spacing:["px",Gt],text:[Mi],"text-shadow":[Mi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yl,vt,bt,p]}],container:["container"],columns:[{columns:[Gt,vt,bt,d]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[Oa,"auto",bt,vt]}],basis:[{basis:[yl,"full","auto",d,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Gt,yl,"auto","initial","none",vt]}],grow:[{grow:["",Gt,bt,vt]}],shrink:[{shrink:["",Gt,bt,vt]}],order:[{order:[Oa,"first","last","none",bt,vt]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":P()}],"auto-rows":[{"auto-rows":P()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...E(),"normal"]}],"justify-self":[{"justify-self":["auto",...E()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...E(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...E(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...E(),"baseline"]}],"place-self":[{"place-self":["auto",...E()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:k()}],w:[{w:[d,"screen",...k()]}],"min-w":[{"min-w":[d,"screen","none",...k()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[o]},...k()]}],h:[{h:["screen","lh",...k()]}],"min-h":[{"min-h":["screen","lh","none",...k()]}],"max-h":[{"max-h":["screen","lh",...k()]}],"font-size":[{text:["base",t,qc,po]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,bt,Jg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zg,vt]}],"font-family":[{font:[pY,vt,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,bt,vt]}],"line-clamp":[{"line-clamp":[Gt,"none",bt,Jg]}],leading:[{leading:[i,...z()]}],"list-image":[{"list-image":["none",bt,vt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",bt,vt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Gt,"from-font","auto",bt,po]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[Gt,"auto",bt,vt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt,vt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt,vt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:S()}],"bg-repeat":[{bg:O()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Oa,bt,vt],radial:["",bt,vt],conic:[Oa,bt,vt]},yY,mY]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...te(),"hidden","none"]}],"divide-style":[{divide:[...te(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Gt,bt,vt]}],"outline-w":[{outline:["",Gt,qc,po]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,df,uf]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",f,df,uf]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[Gt,po]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",h,df,uf]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[Gt,bt,vt]}],"mix-blend":[{"mix-blend":[...U(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":U()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":J()}],"mask-image-linear-to-pos":[{"mask-linear-to":J()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":J()}],"mask-image-t-to-pos":[{"mask-t-to":J()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":J()}],"mask-image-r-to-pos":[{"mask-r-to":J()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":J()}],"mask-image-b-to-pos":[{"mask-b-to":J()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":J()}],"mask-image-l-to-pos":[{"mask-l-to":J()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":J()}],"mask-image-x-to-pos":[{"mask-x-to":J()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":J()}],"mask-image-y-to-pos":[{"mask-y-to":J()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[bt,vt]}],"mask-image-radial-from-pos":[{"mask-radial-from":J()}],"mask-image-radial-to-pos":[{"mask-radial-to":J()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":C()}],"mask-image-conic-pos":[{"mask-conic":[Gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":J()}],"mask-image-conic-to-pos":[{"mask-conic-to":J()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:S()}],"mask-repeat":[{mask:O()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",bt,vt]}],filter:[{filter:["","none",bt,vt]}],blur:[{blur:$()}],brightness:[{brightness:[Gt,bt,vt]}],contrast:[{contrast:[Gt,bt,vt]}],"drop-shadow":[{"drop-shadow":["","none",m,df,uf]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",Gt,bt,vt]}],"hue-rotate":[{"hue-rotate":[Gt,bt,vt]}],invert:[{invert:["",Gt,bt,vt]}],saturate:[{saturate:[Gt,bt,vt]}],sepia:[{sepia:["",Gt,bt,vt]}],"backdrop-filter":[{"backdrop-filter":["","none",bt,vt]}],"backdrop-blur":[{"backdrop-blur":$()}],"backdrop-brightness":[{"backdrop-brightness":[Gt,bt,vt]}],"backdrop-contrast":[{"backdrop-contrast":[Gt,bt,vt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Gt,bt,vt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Gt,bt,vt]}],"backdrop-invert":[{"backdrop-invert":["",Gt,bt,vt]}],"backdrop-opacity":[{"backdrop-opacity":[Gt,bt,vt]}],"backdrop-saturate":[{"backdrop-saturate":[Gt,bt,vt]}],"backdrop-sepia":[{"backdrop-sepia":["",Gt,bt,vt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",bt,vt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Gt,"initial",bt,vt]}],ease:[{ease:["linear","initial",b,bt,vt]}],delay:[{delay:[Gt,bt,vt]}],animate:[{animate:["none",v,bt,vt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,bt,vt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:R()}],"rotate-x":[{"rotate-x":R()}],"rotate-y":[{"rotate-y":R()}],"rotate-z":[{"rotate-z":R()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[bt,vt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt,vt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt,vt]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[Gt,qc,po,Jg]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wY=eY(bY);function Ah(...e){return wY(rr(e))}const _Y=({value:e,onValueChange:r,children:t,className:s})=>n.jsx("div",{className:Ah("w-full",s),children:cs.Children.map(t,l=>cs.isValidElement(l)?cs.cloneElement(l,{children:cs.Children.map(l.props.children,i=>{if(cs.isValidElement(i)){const o=i.props.value===e;return cs.cloneElement(i,{onValueChange:r,className:Ah(i.props.className,o?"bg-secondary text-primary":"text-gray-500 hover:text-primary")})}return i})}):l)}),jY=({children:e,className:r})=>n.jsx("div",{className:Ah("inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500",r),children:e}),x6=({value:e,children:r,className:t,onValueChange:s})=>n.jsx("button",{className:Ah("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),onClick:()=>s?.(e),children:r}),NY=({fieldVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[e.name&&n.jsx("th",{className:"text-left pb-4",children:"Provider"}),e.contact&&n.jsx("th",{className:"text-left pb-4",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left pb-4",children:"Location"}),e.status&&n.jsx("th",{className:"text-left pb-4",children:"Status"}),e.verification&&n.jsx("th",{className:"text-left pb-4",children:"Verification"}),e.earnings&&n.jsx("th",{className:"text-left pb-4",children:"Earnings"}),e.experience&&n.jsx("th",{className:"text-left pb-4",children:"Experience"}),e.featured&&n.jsx("th",{className:"text-left pb-4",children:"Featured"}),e.action&&n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),kY=({provider:e,onStatusAction:r})=>n.jsxs("div",{className:"flex items-center space-x-2",children:[e.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs(rt,{onClick:()=>r(e.id,"approve"),className:"flex items-center space-x-1 bg-green-600 hover:bg-green-700 text-white text-xs px-2 py-1",children:[n.jsx(fn,{size:12}),n.jsx("span",{children:"Approve"})]}),n.jsxs(rt,{onClick:()=>r(e.id,"reject"),className:"flex items-center space-x-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1",children:[n.jsx(ai,{size:12}),n.jsx("span",{children:"Reject"})]})]}),e.status==="approved"&&n.jsxs(rt,{onClick:()=>r(e.id,"suspend"),className:"flex items-center space-x-1 bg-yellow-600 hover:bg-yellow-700 text-white text-xs px-2 py-1",children:[n.jsx(Ua,{size:12}),n.jsx("span",{children:"Suspend"})]}),e.status==="suspended"&&n.jsxs(rt,{onClick:()=>r(e.id,"reinstate"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(fn,{size:12}),n.jsx("span",{children:"Reinstate"})]}),e.status==="blocked"&&n.jsxs(rt,{onClick:()=>r(e.id,"approve"),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white text-xs px-2 py-1",children:[n.jsx(fn,{size:12}),n.jsx("span",{children:"Approve"})]})]}),SY=({provider:e,formatDate:r})=>{const t=l=>{switch(l){case"approved":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"blocked":return"bg-red-100 text-red-700";case"suspended":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},s=l=>{switch(l){case"approved":return n.jsx(fn,{size:14,className:"text-green-600"});case"pending":return n.jsx(pn,{size:14,className:"text-yellow-600"});case"blocked":return n.jsx(ai,{size:14,className:"text-red-600"});case"suspended":return n.jsx(Ua,{size:14,className:"text-orange-600"});default:return null}};return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[s(e.status),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Joined: ",r(e.created_at)]})]})},CY=({provider:e,fieldVisibility:r,expandingUsers:t,onStatusAction:s,onToggleDropdown:l,formatDate:i,formatCurrency:o,isExpanded:d=!1,isLoading:c=!1})=>{const a=c&&t.has(e.id),u=d||t.has(e.id);return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx(rt,{variant:"outline",size:"sm",onClick:()=>l(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-black hover:border-primary hover:shadow-md group",disabled:a,children:a?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx($o,{size:14,className:"mr-1 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:u?"Hide":"Details"}),u?n.jsx(vu,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"}):n.jsx(Ka,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"})]})})})}),r.name&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-medium text-primary",children:e.name.charAt(0)})}),n.jsx("div",{children:n.jsx("p",{className:"font-medium text-gray-900",children:e.name})})]})}),r.contact&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Yi,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.email})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Xa,{size:14,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.phone})]})]})}),r.location&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"text-sm",children:[e.city,", ",e.state]}),n.jsx("div",{className:"text-sm text-gray-500",children:e.pincode})]})}),r.status&&n.jsx("td",{className:"py-4",children:n.jsx(SY,{provider:e,formatDate:i})}),r.verification&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[e.verification_status==="verified"?n.jsx(Ua,{size:16,className:"text-green-500"}):n.jsx(Ua,{size:16,className:"text-gray-400"}),n.jsx("span",{className:"text-sm",children:e.verification_status})]})}),r.earnings&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsx("div",{className:"text-sm font-medium",children:o(e.total_earnings)}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Commission: ",e.commission_rate,"%"]})]})}),r.experience&&n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(pn,{size:14,className:"text-gray-400"}),n.jsxs("span",{className:"text-sm",children:[e.experience_years," years"]})]})}),r.featured&&n.jsx("td",{className:"py-4",children:e.is_featured?n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:"Featured"}):n.jsx("span",{className:"text-gray-400 text-xs",children:"Not Featured"})}),r.action&&n.jsx("td",{className:"py-4",children:n.jsx(kY,{provider:e,onStatusAction:s})})]})},EY=({provider:e,formatDate:r,serviceCatalog:t})=>{const s=!!(e.bank_details&&(e.bank_details.account_holder_name||e.bank_details.bank_name||e.bank_details.account_number||e.bank_details.ifsc_code)),l=F.useMemo(()=>{const u=new Map;return Object.entries(t.categories).forEach(([f,h])=>{u.set(Number(f),h.name)}),e.subcategory_links?.forEach(f=>{f.category_name&&f.category_id&&u.set(f.category_id,f.category_name)}),u},[e.subcategory_links,t]),i=F.useMemo(()=>{const u=new Map,f=(h,m)=>{const g=h!==null?`cat-${h}`:`misc-${m}`;return u.has(g)||u.set(g,{key:g,category_id:h,category_name:m,subcategories:[],services:[]}),u.get(g)};return(e.category_ids??[]).forEach(h=>{const m=l.get(h)||`Category ${h}`;f(h,m)}),(e.subcategory_links??[]).forEach(h=>{const m=h.category_id||null,g=m&&h.subcategory_id?t.categories[m]?.services?.[h.subcategory_id]??null:null,y=h.category_name||(m?l.get(m)||`Category ${m}`:"Other");f(m,y).subcategories.push({id:h.subcategory_id||null,rawName:h.subcategory_name,catalogName:g})}),(e.services??[]).forEach(h=>{const m=h.category_name||"General",y=(e.category_ids??[]).find(b=>l.get(b)===h.category_name)??null;f(y,m).services.push(h)}),u.size===0&&(e.services?.length??0)>0&&u.set("general",{key:"general",category_id:null,category_name:"Services",subcategories:[],services:e.services??[]}),Array.from(u.values())},[e.category_ids,e.subcategory_links,e.services,l,t]),o=i.length>0,[d,c]=F.useState(new Set),a=u=>{c(f=>{const h=new Set(f);return h.has(u)?h.delete(u):h.add(u),h})};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Gs,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Provider Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:r(e.created_at)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Yi,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Yi,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Xa,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-lg p-4 border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-amber-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx($i,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-amber-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-amber-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center mr-2",children:n.jsx($i,{size:16,className:"text-amber-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]}),e.services&&e.services.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-4 border border-rose-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-rose-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Nx,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-rose-900",children:"Services"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.services.map(u=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-rose-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:u.service_name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.status})]}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:u.description}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:[u.duration_minutes," mins"]}),n.jsxs("span",{className:"font-medium text-primary",children:["",u.price_min," - ",u.price_max]})]}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:u.category_name})})]},u.id))})]}),e.service_areas&&e.service_areas.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-lg p-4 border border-teal-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-teal-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx($i,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-teal-900",children:"Service Areas"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.service_areas.map((u,f)=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-teal-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900",children:u.area_name}),u.is_primary&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"Primary"})]}),n.jsxs("p",{className:"text-sm text-gray-600",children:[u.city,", ",u.state]}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Pincode: ",u.pincode]})]},f))})]}),e.documents&&e.documents.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(li,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Documents"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.documents.map(u=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-orange-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:u.document_type}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.status==="approved"?"bg-green-100 text-green-800":u.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:u.status})]}),n.jsx("p",{className:"text-sm text-gray-600",children:u.document_name}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Uploaded: ",r(u.uploaded_at)]}),u.verified_at&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Verified: ",r(u.verified_at)]}),u.rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 rounded-md",children:[n.jsx("p",{className:"text-sm font-medium text-red-700",children:"Rejection Reason"}),n.jsx("p",{className:"text-sm text-red-600 mt-1",children:u.rejection_reason})]}),u.document_url&&n.jsx(rt,{variant:"outline",size:"sm",className:"mt-3 w-full",onClick:()=>window.open(u.document_url,"_blank","noopener,noreferrer"),children:"View Document"})]},u.id))})]}),o&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(iA,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Service Coverage"})]}),n.jsx("div",{className:"space-y-3",children:i.map(u=>{const f=d.has(u.key)||u.services.length===0;return n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 shadow-sm",children:[n.jsxs("button",{type:"button",onClick:()=>a(u.key),className:"w-full flex items-center justify-between px-4 py-3 text-left",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:u.category_name}),u.category_id!==null&&n.jsxs("p",{className:"text-xs text-gray-500",children:["Category ID: ",u.category_id]}),u.services.length>0&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[u.services.length," service",u.services.length>1?"s":""]})]}),u.services.length>0&&n.jsx(Ka,{size:16,className:`text-blue-500 transition-transform ${f?"rotate-180":""}`})]}),u.subcategories.length>0&&n.jsxs("div",{className:"px-4 pb-3",children:[n.jsx("span",{className:"text-xs font-medium text-gray-500 block mb-2",children:"Services"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:u.subcategories.map((h,m)=>{const g=h.catalogName||(h.id?t.servicesById[h.id]:null)||h.rawName||(u.services.find(y=>y.id===h.id)?.service_name??null)||`Service ${h.id||m+1}`;return n.jsxs("div",{className:"px-3 py-2 rounded-lg bg-blue-50 border border-primary/20 text-sm text-blue-700 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Us,{size:14,className:"text-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:g}),h.id&&n.jsxs("p",{className:"text-xs text-blue-400",children:["Service ID: ",h.id]})]})]}),u.services.length>0&&n.jsx("button",{type:"button",onClick:()=>a(u.key),className:"text-xs text-blue-500 hover:underline",children:"View details"})]},`${u.key}-${h.id??m}`)})})]}),u.services.length>0&&f&&n.jsx("div",{className:"border-t border-blue-50 bg-blue-50/50 px-4 py-3 space-y-2",children:u.services.map(h=>n.jsxs("div",{className:"bg-white rounded-lg border border-primary/20 p-3 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("p",{className:"font-medium text-sm text-gray-900",children:h.service_name}),(h.price_min||h.price_max)&&n.jsxs("span",{className:"text-xs font-semibold text-primary",children:["",h.price_min," - ",h.price_max]})]}),h.description&&n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:h.description}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[h.duration_minutes>0&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full",children:["Duration: ",h.duration_minutes," mins"]}),h.status&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 rounded-full capitalize",children:["Status: ",h.status]})]})]},`${u.key}-service-${h.id}`))})]},u.key)})})]}),s&&e.bank_details&&n.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-cyan-50 rounded-lg p-4 border border-slate-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Gi,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Account Verification"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Holder Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_holder_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Bank Name"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.bank_name||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"Account Number"}),n.jsx("p",{className:"text-sm text-gray-800",children:e.bank_details.account_number||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-slate-100",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600 block mb-1",children:"IFSC Code"}),n.jsx("p",{className:"text-sm text-gray-800 uppercase",children:e.bank_details.ifsc_code||"N/A"})]})]})]}),e.portfolio&&e.portfolio.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(_l,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-indigo-900",children:"Portfolio"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.portfolio.map(u=>n.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-primary/20",children:[n.jsx("h5",{className:"font-medium text-gray-900 mb-2",children:u.title}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:u.before_image,alt:"Before",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"Before"})]}),n.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-gray-200",children:[n.jsx("img",{src:u.after_image,alt:"After",className:"object-cover w-full h-full"}),n.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center text-white text-xs",children:"After"})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-sm",children:[n.jsxs("span",{className:"text-gray-500",children:["Created: ",r(u.created_at)]}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:u.status})]})]},u.id))})]})]})},AY=({searchTerm:e,onSearchChange:r})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Un,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search providers...",className:"pl-8 pr-4 py-2 w-full rounded-lg border-2 border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary",value:e,onChange:t=>r(t.target.value)})]}),PY=({showFieldManagement:e,onToggleSettings:r,fieldVisibility:t,onToggleField:s,onResetFields:l})=>n.jsxs("div",{className:"relative",children:[n.jsxs(rt,{variant:"outline",size:"sm",onClick:r,className:"border-2 border-primary text-black font-semibold hover:bg-primary hover:text-black hover:border-primary group",children:[n.jsx(cy,{size:16,className:"mr-2 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:"Fields"})]}),e&&n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-[400px] flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b border-gray-100 flex-shrink-0",children:[n.jsx("h3",{className:"font-semibold text-gray-800",children:"Field Visibility"}),n.jsx(rt,{variant:"ghost",size:"sm",onClick:r,className:"h-6 w-6 p-0",children:n.jsx(hr,{size:14})})]}),n.jsx("div",{className:"overflow-y-auto flex-1 px-4 py-3 min-h-0",children:n.jsx("div",{className:"space-y-2",children:Object.entries(t).map(([i,o])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:()=>s(i),disabled:["name","status","action"].includes(i),className:`rounded border-gray-300 text-primary focus:ring-primary ${["name","status","action"].includes(i)?"opacity-50":""}`}),n.jsxs("span",{className:`text-sm capitalize ${["name","status","action"].includes(i)?"font-medium":""}`,children:[i.replace(/([A-Z])/g," $1").trim(),["name","status","action"].includes(i)&&" (Required)"]})]},i))})}),n.jsx("div",{className:"p-4 pt-3 border-t border-gray-200 flex-shrink-0",children:n.jsx(rt,{variant:"outline",size:"sm",onClick:l,className:"w-full",children:"Reset to Default"})})]})]}),TY=({currentPage:e,totalPages:r,startIndex:t,itemsPerPage:s,totalItems:l,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",t+1," to ",Math.min(t+s,l)," of ",l," providers"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ul,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",r]}),n.jsx(rt,{onClick:()=>i(Math.min(e+1,r)),disabled:e===r,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ia,{size:16})})]})]}),OY=({isOpen:e,providerId:r,action:t,reason:s,notes:l,onClose:i,onConfirm:o,onReasonChange:d,onNotesChange:c})=>{if(!e||!r||!t)return null;const a=()=>{switch(t){case"approve":return"Approve Provider";case"reject":return"Reject Provider";case"suspend":return"Suspend Provider";case"reinstate":return"Reinstate Provider";default:return""}},u=()=>{switch(t){case"approve":return"bg-green-600 text-white hover:bg-green-700";case"reject":return"bg-red-600 text-white hover:bg-red-700";case"suspend":return"bg-yellow-600 text-white hover:bg-yellow-700";case"reinstate":return"bg-primary text-white hover:bg-primary-dark";default:return""}},f=()=>{switch(t){case"approve":return"Approve";case"reject":return"Reject";case"suspend":return"Suspend";case"reinstate":return"Reinstate";default:return""}};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:a()}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:s,onChange:h=>d(h.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Additional Notes"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter any additional notes...",value:l,onChange:h=>c(h.target.value)})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(rt,{variant:"outline",onClick:i,children:"Cancel"}),n.jsx(rt,{variant:"outline",onClick:()=>o(r,t,s,l),className:u(),children:f()})]})]})})},MY=({isOpen:e,providerId:r,documentId:t,action:s,reason:l,onClose:i,onConfirm:o,onReasonChange:d})=>!e||!r||!t||!s?null:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:s==="approve"?"Approve Document":"Reject Document"}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),n.jsx("textarea",{className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Enter reason for this action...",value:l,onChange:c=>d(c.target.value)})]})}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[n.jsx(rt,{variant:"outline",onClick:i,children:"Cancel"}),n.jsx(rt,{variant:"outline",onClick:()=>o(r,t,s,l),className:`${s==="approve"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700"}`,children:s==="approve"?"Approve":"Reject"})]})]})}),v6=[{code:"+91",country:"India",flag:""},{code:"+1",country:"USA/Canada",flag:""},{code:"+44",country:"UK",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""},{code:"+65",country:"Singapore",flag:""},{code:"+60",country:"Malaysia",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+33",country:"France",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+27",country:"South Africa",flag:""}],b6={store_name:"",owner_name:"",owner_number:"",owner_country_code:"+91",store_contact_number:"",store_country_code:"+91",email:"",store_address:"",pincode:"",latitude:"",longitude:"",store_opening_time:"",store_closing_time:"",pos_billing_software_name:"",real_time_stock_capability:"",bank_account_name:"",bank_account_number:"",bank_name:"",ifsc_code:"",drug_license:null,gst_certificate:null,pan_card:null,aadhar_card:null,store_front_view:null,medicine_racks_view:null,owner_photo_with_store:null,medicine_inventory_file:null,cancel_cheque_passbook:null,shop_license:null},IY=({isOpen:e,onClose:r,onSubmit:t,isSubmitting:s})=>{const[l,i]=F.useState(b6),[o,d]=F.useState({});F.useEffect(()=>{e||(i(b6),d({}))},[e]);const c=m=>{const{name:g,value:y}=m.target;i(p=>({...p,[g]:y}))},a=(m,g)=>{const y=m.target.files?.[0]||null;if(y)if(i(p=>({...p,[g]:y})),y.type.startsWith("image/")){const p=new FileReader;p.onloadend=()=>{d(b=>({...b,[g]:p.result}))},p.readAsDataURL(y)}else d(p=>({...p,[g]:null}))},u=m=>{i(g=>({...g,[m]:null})),d(g=>{const y={...g};return delete y[m],y})},f=async m=>{if(m.preventDefault(),!l.store_name||!l.owner_name||!l.owner_number||!l.store_contact_number||!l.email||!l.store_address||!l.pincode||!l.latitude||!l.longitude||!l.store_opening_time||!l.store_closing_time||!l.pos_billing_software_name||!l.bank_account_name||!l.bank_account_number||!l.bank_name||!l.ifsc_code||!l.drug_license||!l.gst_certificate||!l.pan_card||!l.store_front_view||!l.owner_photo_with_store||!l.cancel_cheque_passbook){alert("Please fill all mandatory fields");return}const g=new FormData;g.append("store_name",l.store_name),g.append("owner_name",l.owner_name),g.append("owner_number",`${l.owner_country_code}${l.owner_number}`),g.append("store_contact_number",`${l.store_country_code}${l.store_contact_number}`),g.append("email",l.email),g.append("store_address",l.store_address),g.append("pincode",l.pincode),g.append("latitude",l.latitude),g.append("longitude",l.longitude),g.append("store_opening_time",l.store_opening_time),g.append("store_closing_time",l.store_closing_time),g.append("pos_billing_software_name",l.pos_billing_software_name),l.real_time_stock_capability&&g.append("real_time_stock_capability",l.real_time_stock_capability),g.append("bank_account_name",l.bank_account_name),g.append("bank_account_number",l.bank_account_number),g.append("bank_name",l.bank_name),g.append("ifsc_code",l.ifsc_code),l.drug_license&&g.append("drug_license",l.drug_license),l.gst_certificate&&g.append("gst_certificate",l.gst_certificate),l.pan_card&&g.append("pan_card",l.pan_card),l.aadhar_card&&g.append("aadhar_card",l.aadhar_card),l.store_front_view&&g.append("store_front_view",l.store_front_view),l.medicine_racks_view&&g.append("medicine_racks_view",l.medicine_racks_view),l.owner_photo_with_store&&g.append("owner_photo_with_store",l.owner_photo_with_store),l.medicine_inventory_file&&g.append("medicine_inventory_file",l.medicine_inventory_file),l.cancel_cheque_passbook&&g.append("cancel_cheque_passbook",l.cancel_cheque_passbook),l.shop_license&&g.append("shop_license",l.shop_license),await t(g)};if(!e)return null;const h=(m,g,y=!1,p=".pdf,.jpg,.jpeg,.png",b=!0)=>{const v=l[m],j=o[m];return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[g," ",y&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("label",{className:"flex-1 cursor-pointer",children:[n.jsx("input",{type:"file",accept:p,onChange:C=>a(C,m),className:"hidden",required:y}),n.jsxs("div",{className:"flex items-center justify-center px-4 py-2 border-2 border-dashed border-gray-300 rounded-md hover:border-primary transition-colors",children:[n.jsx(Al,{size:20,className:"mr-2 text-gray-400"}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Upload ",b?"Image":"File"]})]})]}),v&&n.jsxs("div",{className:"flex items-center space-x-2",children:[b&&j&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:j,alt:"Preview",className:"w-16 h-16 object-cover rounded"}),n.jsx("button",{type:"button",onClick:()=>u(m),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:n.jsx(hr,{size:12})})]}),!b&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-600",children:v.name}),n.jsx("button",{type:"button",onClick:()=>u(m),className:"text-red-500 hover:text-red-700",children:n.jsx(hr,{size:16})})]})]})]})]})};return n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center z-10",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Register New Provider"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:s,children:n.jsx(hr,{size:24})})]}),n.jsxs("form",{onSubmit:f,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"store_name",required:!0,value:l.store_name,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"owner_name",required:!0,value:l.owner_name,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Owner Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"owner_country_code",value:l.owner_country_code,onChange:c,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:v6.map(m=>n.jsxs("option",{value:m.code,children:[m.flag," ",m.code]},m.code))}),n.jsx("input",{type:"tel",name:"owner_number",required:!0,value:l.owner_number,onChange:c,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Contact Number (for login in app) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("select",{name:"store_country_code",value:l.store_country_code,onChange:c,className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white",children:v6.map(m=>n.jsxs("option",{value:m.code,children:[m.flag," ",m.code]},m.code))}),n.jsx("input",{type:"tel",name:"store_contact_number",required:!0,value:l.store_contact_number,onChange:c,placeholder:"XXXXXXXXXX",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email-ID ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"email",name:"email",required:!0,value:l.email,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Address With Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{name:"store_address",required:!0,value:l.store_address,onChange:c,rows:2,placeholder:"Enter full address with pincode",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pincode ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pincode",required:!0,value:l.pincode,onChange:c,placeholder:"XXXXXX",maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Latitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"latitude",required:!0,value:l.latitude,onChange:c,step:"any",placeholder:"e.g., 28.6139",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Longitude ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",name:"longitude",required:!0,value:l.longitude,onChange:c,step:"any",placeholder:"e.g., 77.2090",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Store Timings"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Opening Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_opening_time",required:!0,value:l.store_opening_time,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Store Closing Time ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",name:"store_closing_time",required:!0,value:l.store_closing_time,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Business Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["POS/Billing Software Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"pos_billing_software_name",required:!0,value:l.pos_billing_software_name,onChange:c,placeholder:"e.g., Tally, QuickBooks, etc.",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Do you have real-time stock update capability?"}),n.jsxs("select",{name:"real_time_stock_capability",value:l.real_time_stock_capability,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Bank Account Details"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Holder Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_name",required:!0,value:l.bank_account_name,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_account_number",required:!0,value:l.bank_account_number,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Name ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"bank_name",required:!0,value:l.bank_name,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["IFSC Code ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",name:"ifsc_code",required:!0,value:l.ifsc_code,onChange:c,placeholder:"ABCD0123456",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Documents"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h("drug_license","Drug license (Form 20/21)",!0),h("gst_certificate","GST Certificate",!0),h("pan_card","Pan Card (OWNER/BUSINESS)",!0),h("aadhar_card","Aadhar Card (OWNER)",!1),h("store_front_view","Front view of store (WITH SIGNBOARD)",!0),h("medicine_racks_view","Inside view of medicine racks",!1),h("owner_photo_with_store","Owner photo with store",!0),h("medicine_inventory_file","Upload Medicine Inventory File (Excel/CSV)",!1,".xlsx,.xls,.csv",!1),h("cancel_cheque_passbook","Cancel Cheque/Passbook Photo",!0),h("shop_license","Shop License (If Available)",!1)]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[n.jsx(rt,{type:"button",variant:"outline",onClick:r,disabled:s,className:"border-2 border-primary !text-black font-semibold hover:bg-gray-100 hover:border-gray-500 hover:!text-black",children:"Cancel"}),n.jsx(rt,{type:"submit",variant:"primary",disabled:s,className:"font-semibold shadow-md hover:shadow-lg",children:s?n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"mr-2 h-4 w-4 animate-spin"}),"Registering..."]}):"Register Provider"})]})]})]})})},Qg={pending:{status:"pending",verification_status:"pending"},verification_in_progress:{status:"pending",verification_status:"pending"},in_progress:{status:"pending",verification_status:"pending"},approved:{status:"approved",verification_status:"verified"},verified:{status:"approved",verification_status:"verified"},active:{status:"approved",verification_status:"verified"},rejected:{status:"blocked",verification_status:"rejected"},blocked:{status:"blocked",verification_status:"rejected"},suspend:{status:"suspended",verification_status:"verified"},suspended:{status:"suspended",verification_status:"verified"}},RY=e=>{if(!e)return Qg.pending;const r=e.toLowerCase();return Qg[r]||Qg.pending},dn=(e,r=0)=>{if(e==null||e==="")return r;const t=Number(e);return Number.isFinite(t)?t:r},wl=(e,r=!1)=>{if(e==null)return r;if(typeof e=="string"){const t=e.trim().toLowerCase();if(["true","1","yes","verified","approved"].includes(t))return!0;if(["false","0","no","pending","rejected"].includes(t))return!1}return!!e},cr=(e,r="")=>{if(e==null)return r;const t=String(e).trim();return t.length>0?t:r},Ll=(e,r=null)=>{if(e==null)return r;const t=String(e).trim();return t.length>0?t:r},DY=e=>{if(!e)return[];if(Array.isArray(e))return e.map(r=>cr(r)).filter(Boolean);if(typeof e=="string"){try{const r=JSON.parse(e);if(Array.isArray(r))return r.map(t=>cr(t)).filter(Boolean)}catch{return e.split(",").map(r=>r.trim()).filter(Boolean)}return e?[e]:[]}return[]},LY=e=>Array.isArray(e)?e.map((r,t)=>({id:dn(r?.id,t+1),service_name:cr(r?.service_name??r?.title,`Service ${t+1}`),description:cr(r?.description,""),price_min:dn(r?.price_min??r?.price??r?.price_original,0),price_max:dn(r?.price_max??r?.price??r?.price_original,0),duration_minutes:dn(r?.duration_minutes??r?.duration,0),status:cr(r?.status,"active"),category_name:cr(r?.category_name??r?.category,"General")})):[],zY=(e,r,t)=>Array.isArray(e)?e.map((s,l)=>({pincode:cr(s?.pincode,""),area_name:cr(s?.area_name??s?.name,`Area ${l+1}`),city:cr(s?.city,r),state:cr(s?.state,t),is_primary:wl(s?.is_primary??s?.primary,l===0)})):[],FY=(e,r)=>{if(Array.isArray(e?.documents)&&e.documents.length>0)return e.documents.map((o,d)=>({id:dn(o?.id,d+1),document_type:cr(o?.document_type??o?.type,`document_${d+1}`),document_name:cr(o?.document_name??o?.document_type??o?.type,`Document ${d+1}`),status:cr(o?.status,o?.verified_at?"approved":o?.rejection_reason?"rejected":"submitted"),uploaded_at:cr(o?.uploaded_at,e?.created_at||r?.created_at||new Date().toISOString()),verified_at:o?.verified_at??null,rejection_reason:o?.rejection_reason??null,document_url:Ll(o?.document_url??o?.url??o?.file_url??o?.path??o?.link??null,null)}));const t=[],s=new Set,l=(o,d)=>{const c=o.trim();if(!c)return;const a=c.toLowerCase();s.has(a)||(s.add(a),t.push({id:t.length+1,document_type:c,document_name:c,status:"submitted",uploaded_at:e?.created_at||r?.created_at||new Date().toISOString(),verified_at:null,rejection_reason:null,document_url:Ll(d??null,null)}))};return e?.documents&&typeof e.documents=="object"&&Object.entries(e.documents).forEach(([o,d])=>{if(!d)return;const c=o.replace(/_url|_doc_url/g,"").replace(/_/g," ").trim();if(c){if(Array.isArray(d))d.forEach((a,u)=>{if(!a)return;const f=d.length>1?`${c} ${u+1}`:c;if(typeof a=="string")l(f,a);else if(typeof a=="object"){const h=a.url??a?.document_url??a?.path??a?.file_url;h&&l(f,String(h))}});else if(typeof d=="string")l(c,d);else if(typeof d=="object"){const a=d.url??d?.document_url??d?.path??d?.file_url;a&&l(c,String(a))}}}),[{key:"profile_photo_url",label:"Profile Photo"},{key:"aadhaar_doc_url",label:"Aadhaar Document"},{key:"pan_doc_url",label:"PAN Document"},{key:"degree_doc_url",label:"Degree Document"}].forEach(({key:o,label:d})=>{e?.[o]&&l(d,e[o])}),t.length===0&&r?.documents?r.documents:t},$Y=(e,r)=>{if(Array.isArray(e?.portfolio)&&e.portfolio.length>0)return e.portfolio;const t=DY(e?.previous_work_images);return t.length===0?r?.portfolio??[]:t.map((s,l)=>({id:l+1,title:`Work ${l+1}`,description:"",image_path:s,before_image:s,after_image:s,display_order:l+1,status:"active",created_at:e?.created_at||r?.created_at||new Date().toISOString()}))},BY=(e,r)=>{if(!e&&!r)return null;const t=e||r;return t?{account_holder_name:cr(t.account_holder_name,r?.account_holder_name??""),bank_name:cr(t.bank_name,r?.bank_name??""),account_number:cr(t.account_number,r?.account_number??""),ifsc_code:cr(t.ifsc_code,r?.ifsc_code??"")}:null},UY=(e,r)=>Array.isArray(e)?e.map(t=>dn(t)).filter(t=>Number.isFinite(t)&&t>0):r||[],qY=(e,r)=>{if(Array.isArray(e)){const t=[];return e.forEach((s,l)=>{const i=dn(s?.category_id,s?.category?Number(s?.category):0),o=dn(s?.subcategory_id,l+1);!i&&!o||t.push({category_id:i,subcategory_id:o,category_name:Ll(s?.category_name??s?.category??null,null),subcategory_name:Ll(s?.subcategory_name??s?.subcategory??null,null)})}),t}return r||[]},xl=(e,r)=>{if(!e&&r)return r;if(!e)return{id:0,name:"",email:"",phone:"",business_name:"",address:"",pincode:"",city:"",state:"",profile_image:null,business_logo:null,experience_years:0,description:null,status:"pending",verification_status:"pending",email_verified:!1,phone_verified:!1,identity_verified:!1,documents_verified:!1,average_rating:0,total_reviews:0,total_bookings:0,total_earnings:0,commission_rate:0,is_featured:!1,created_at:new Date().toISOString(),services:[],service_areas:[],documents:[],portfolio:[]};const t=e?.details?{...e.details,...e}:e,{status:s,verification_status:l}=RY(t?.status),i=cr(t?.city,r?.city??""),o=cr(t?.state,r?.state??""),d=LY(t?.services),c=zY(t?.service_areas,i,o),a=FY(t,r),u=$Y(t,r),f=BY(t?.bank_details,r?.bank_details),h=UY(t?.categories,r?.category_ids),m=qY(t?.subcategories,r?.subcategory_links),g=cr(t?.created_at,r?.created_at??new Date().toISOString()),y=t?.average_rating??t?.rating,p=t?.total_reviews??(Array.isArray(t?.reviews)?t.reviews.length:void 0),b=t?.total_bookings??t?.completed_appointments;return{id:dn(t?.id??t?.provider_id,r?.id??0),name:cr(t?.full_name??t?.name,r?.name??""),email:cr(t?.email,r?.email??""),phone:cr(t?.phone_number??t?.phone,r?.phone??""),business_name:cr(t?.business_name,r?.business_name??""),address:cr(t?.address,r?.address??""),pincode:cr(t?.pincode,r?.pincode??""),city:i,state:o,profile_image:Ll(t?.profile_photo_url??t?.profile_image??t?.documents?.profile_photo_url,r?.profile_image??null),business_logo:Ll(t?.business_logo,r?.business_logo??null),experience_years:dn(t?.experience_years,r?.experience_years??0),description:t?.description??r?.description??null,status:s,verification_status:l,email_verified:wl(t?.email_verified,r?.email_verified??!1),phone_verified:wl(t?.phone_verified,r?.phone_verified??!1),identity_verified:wl(t?.identity_verified,r?.identity_verified??!1),documents_verified:wl(t?.documents_verified,r?.documents_verified??s==="approved"),average_rating:dn(y,r?.average_rating??0),total_reviews:dn(p,r?.total_reviews??0),total_bookings:dn(b,r?.total_bookings??0),total_earnings:dn(t?.total_earnings,r?.total_earnings??0),commission_rate:dn(t?.commission_rate,r?.commission_rate??0),is_featured:wl(t?.is_featured,r?.is_featured??!1),created_at:g,services:d.length>0?d:r?.services??[],service_areas:c.length>0?c:r?.service_areas??[],documents:a.length>0?a:r?.documents??[],portfolio:u.length>0?u:r?.portfolio??[],bank_details:f,category_ids:h,subcategory_links:m}},ff=(e,r)=>{if(!r)return e;const t=e.findIndex(l=>l.id===r.id);if(t===-1)return e;const s=[...e];return s[t]=r,s},HY={approve:{apiAction:"approve",nextStatus:"approved",verification:"verified"},reject:{apiAction:"reject",nextStatus:"blocked",verification:"rejected"},suspend:{apiAction:"suspend",nextStatus:"suspended",verification:"verified"},reinstate:{apiAction:"reinstate",nextStatus:"approved",verification:"verified"}},WY=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState(!0),[i,o]=F.useState(""),[d,c]=F.useState(1),[a,u]=F.useState(new Set),[f,h]=F.useState(!1),[m,g]=F.useState({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1}),y=5,[p,b]=F.useState("all"),[v,j]=F.useState([]),[C,T]=F.useState(!1),[D,q]=F.useState({isOpen:!1,providerId:null,action:null,reason:"",notes:""}),[z,B]=F.useState({isOpen:!1,providerId:null,documentId:null,action:null}),[V,X]=F.useState(!1),[W,P]=F.useState(!1),[M,E]=F.useState({categories:{},servicesById:{}}),_=F.useCallback(async()=>{const re=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");try{const[le,ne]=await Promise.all([fetch(`${Ie}/admin/categories`,{headers:{"Content-Type":"application/json",...re?{Authorization:`Bearer ${re}`}:{}}}),fetch(`${Ie}/admin/services`,{headers:{"Content-Type":"application/json",...re?{Authorization:`Bearer ${re}`}:{}}})]),fe=await le.json(),ue=await ne.json();if(le.ok&&Array.isArray(fe.categories)){const xe={};fe.categories.forEach(be=>{const ke=dn(be?.id,0);if(!ke)return;const Ee={},ze=Array.isArray(be?.subcategories)?be.subcategories:be?.services;Array.isArray(ze)&&ze.forEach((Fe,de)=>{const ce=dn(Fe?.id,de+1);ce&&(Ee[ce]=cr(Fe?.name??Fe?.title??Fe?.service_name,`Service ${ce}`))}),xe[ke]={name:cr(be?.name,`Category ${ke}`),services:Ee}});const ge={};ne.ok&&Array.isArray(ue.services)&&ue.services.forEach((be,ke)=>{const Ee=dn(be?.id,ke+1);Ee&&(ge[Ee]=cr(be?.title??be?.name??be?.service_name,`Service ${Ee}`))}),E({categories:xe,servicesById:ge})}else throw new Error(fe.message||"Failed to fetch categories")}catch(le){console.error("Error fetching categories catalog:",le);const ne=le instanceof Error?le.message:"Failed to fetch categories";e(ne,"error")}},[Ie,e]),k=F.useCallback(async(re=!1)=>{const le=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!le){e("Please login to view providers","error"),re&&l(!1);return}re&&l(!0);try{const ne=await fetch(`${Ie}/admin/providers`,{headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"}});if(!ne.ok)throw new Error(`HTTP error! status: ${ne.status}`);const fe=ne.headers.get("content-type");if(!fe||!fe.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),t([]);return}const ue=await ne.text();if(!ue||ue.trim()===""){console.warn("Empty response body, treating as empty list"),t([]);return}let xe;try{xe=JSON.parse(ue)}catch(ge){throw console.error("JSON parse error:",ge,"Response text:",ue),new Error("Invalid JSON response from server")}if(Array.isArray(xe.data)){const ge=xe.data.map(be=>xl(be));t(ge)}else if(xe.success===!1)console.warn("API returned error:",xe.message),t([]);else throw new Error(xe.message||"Failed to fetch providers")}catch(ne){console.error("Error fetching providers:",ne);const fe=ne instanceof Error?ne.message:"Failed to fetch providers";e(fe,"error"),t([])}finally{re&&l(!1)}},[Ie,e]),N=F.useCallback(async()=>{T(!0);const re=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!re){e("Please login to view pending providers","error"),T(!1);return}try{const le=await fetch(`${Ie}/admin/providers?list=pending`,{headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"}});if(!le.ok)throw new Error(`HTTP error! status: ${le.status}`);const ne=le.headers.get("content-type");if(!ne||!ne.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),j([]);return}const fe=await le.text();if(!fe||fe.trim()===""){console.warn("Empty response body, treating as empty list"),j([]);return}let ue;try{ue=JSON.parse(fe)}catch(xe){throw console.error("JSON parse error:",xe,"Response text:",fe),new Error("Invalid JSON response from server")}if(Array.isArray(ue.data)){const xe=ue.data.map(ge=>xl(ge));j(xe)}else if(ue.success===!1)console.warn("API returned error:",ue.message),j([]);else throw new Error(ue.message||"Failed to fetch pending providers")}catch(le){console.error("Error fetching pending providers:",le);const ne=le instanceof Error?le.message:"Failed to fetch pending providers";e(ne,"error"),j([])}finally{T(!1)}},[Ie,e]);F.useEffect(()=>{k(!0),N(),_()},[k,N,_]),F.useEffect(()=>{p==="pending"||k(),N()},[p,N,k]),F.useEffect(()=>{const re=setInterval(()=>{k(),N()},3e4);return()=>clearInterval(re)},[N,k]);const S=async re=>{const le=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!le){e("Please login to view provider details","error");return}try{const ne=await fetch(`${Ie}/admin/providers?provider_id=${re}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${le}`}}),fe=await ne.json(),ue=Array.isArray(fe?.data)?fe.data[0]:fe?.data;if(ne.ok&&ue){const xe=ue;let ge=null;t(be=>{const ke=be.find(Ee=>Ee.id===re);return ge=xl(xe,ke),ff(be,ge)}),j(be=>{if(!ge){const ke=be.find(Ee=>Ee.id===re);ge=xl(xe,ke)}return ff(be,ge)})}else throw new Error(fe.message||"Failed to fetch provider details")}catch(ne){console.error("Error fetching provider details:",ne),e(ne instanceof Error?ne.message:"Failed to fetch provider details","error")}},O=re=>{const le=new Set(a);a.has(re)?le.delete(re):(le.add(re),S(re)),u(le)},L=re=>{re==="name"||re==="status"||re==="action"||g(le=>({...le,[re]:!le[re]}))},I=()=>{g({name:!0,status:!0,action:!0,contact:!0,location:!1,verification:!1,earnings:!1,experience:!1,featured:!1})},G=()=>{q({isOpen:!1,providerId:null,action:null,reason:"",notes:""})},Y=(re,le)=>{if(le==="reject"||le==="suspend"){q({isOpen:!0,providerId:re,action:le,reason:"",notes:""});return}R(re,le)},te=r.filter(re=>re.name.toLowerCase().includes(i.toLowerCase())||re.email.toLowerCase().includes(i.toLowerCase())||re.phone.includes(i)||re.city.toLowerCase().includes(i.toLowerCase())),U=Math.ceil(te.length/y),J=(d-1)*y,$=te.slice(J,J+y),R=async(re,le,ne,fe)=>{const ue=HY[le];if(!ue)return;const xe=(fe||ne||"").trim();if((le==="reject"||le==="suspend")&&!xe){e("Please provide a reason for this action","error");return}try{const ge=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!ge){e("Please login to verify provider","error");return}const be={action:ue.apiAction};xe&&(be.notes=xe);const ke=await fetch(`${Ie}/admin/provider/verify/${re}`,{method:"PUT",headers:{Authorization:`Bearer ${ge}`,"Content-Type":"application/json"},body:JSON.stringify(be)});if(!ke.ok){let Fe="Failed to update provider status";try{const de=await ke.json();Fe=de.message||de.error?.message||Fe}catch{Fe=`Failed to update provider status: ${ke.status} ${ke.statusText}`}throw new Error(Fe)}let Ee={};if(ke.status!==204)try{const Fe=ke.headers.get("content-type");if(Fe&&Fe.includes("application/json")){const de=await ke.text();de&&de.trim()&&(Ee=JSON.parse(de))}}catch(Fe){console.warn("Failed to parse response JSON, but response was successful. Provider status was updated:",Fe),Ee={}}const ze=ue.nextStatus!=="pending";if(Ee.provider){const Fe=Ee.provider;let de=null;t(ce=>{const je=ce.find(Ue=>Ue.id===re);return de=xl(Fe,je),ff(ce,de)}),j(ce=>{if(!de){const Ce=ce.find(Ue=>Ue.id===re);de=xl(Fe,Ce)}const je=ff(ce,de);return ze?je.filter(Ce=>Ce.id!==re):je})}else t(Fe=>Fe.map(de=>de.id===re?{...de,status:ue.nextStatus,verification_status:ue.verification}:de)),j(Fe=>{const de=Fe.map(ce=>ce.id===re?{...ce,status:ue.nextStatus,verification_status:ue.verification}:ce);return ze?de.filter(ce=>ce.id!==re):de});G(),e(Ee.message||`Provider ${le}d successfully`,"success");try{await k()}catch(Fe){console.error("Error refreshing providers list:",Fe)}try{await N()}catch(Fe){console.error("Error refreshing pending providers list:",Fe)}}catch(ge){console.error("Error updating provider status:",ge),e(ge instanceof Error?ge.message:"Failed to update provider status","error")}},K=async re=>{P(!0);try{const le=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!le){e("Please login to register a provider","error"),P(!1);return}const ne=await fetch(`${Ie}/provider/register`,{method:"POST",headers:{Authorization:`Bearer ${le}`},body:re}),fe=await ne.json();if(ne.ok&&fe.provider_id){e(fe.message||"Provider registered successfully","success"),X(!1);try{await k(),await N()}catch(ue){console.error("Error refreshing providers list:",ue)}}else{const ue=fe?.error?.message||fe?.message||"Failed to register provider";e(ue,"error")}}catch(le){console.error("Error registering provider:",le),e(le instanceof Error?le.message:"Failed to register provider","error")}finally{P(!1)}},ee=async(re,le,ne,fe)=>{try{const ue=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!ue){e("Please login to update document","error");return}const ge=await(await fetch(`${Ie}/admin/providers/${re}/documents/${le}`,{method:"POST",headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"},body:JSON.stringify({action:ne,reason:fe})})).json();ge.success&&(t(be=>be.map(ke=>ke.id===re?{...ke,documents:ke.documents?.map(Ee=>Ee.id===le?{...Ee,status:ne==="approve"?"approved":"rejected",rejection_reason:fe||null}:Ee)}:ke)),e(ge.message,"success"))}catch(ue){console.error("Error updating document status:",ue),e("Failed to update document status","error")}},se=re=>re?new Date(re).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",ie=re=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(re),ae=()=>{const re=p==="pending"?v:$;return p==="pending"&&!C&&v.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(m).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:n.jsx(Gs,{size:24,className:"text-gray-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Pending Providers"}),n.jsx("p",{className:"text-gray-500 max-w-sm",children:"There are currently no vendors waiting for approval."})]})})}):C&&p==="pending"?n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(m).filter(Boolean).length+1,className:"py-12",children:n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading pending providers..."})]})})}):re.map(le=>n.jsxs(cs.Fragment,{children:[n.jsx(CY,{provider:le,fieldVisibility:m,expandingUsers:a,onStatusAction:Y,onToggleDropdown:O,formatDate:se,formatCurrency:ie,isExpanded:a.has(le.id)}),a.has(le.id)&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-primary/5 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(m).filter(Boolean).length+1,className:"p-6",children:n.jsx(EY,{provider:le,formatDate:se,serviceCatalog:M})})})]},le.id))};return n.jsxs(Gr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Vendors"}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-200 p-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center",children:n.jsx(Gs,{className:"h-5 w-5 text-white"})}),n.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"About"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:"Manage and approve pharmacy vendor profiles, monitor their performance, and handle verification requests."})]})]})]}),s&&p==="all"?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading vendors..."})]}):n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(tr,{children:"Vendors"}),n.jsx(_Y,{value:p,onValueChange:re=>b(re),children:n.jsxs(jY,{children:[n.jsxs(x6,{value:"all",className:"relative",children:["Partnered Stores",n.jsx("span",{className:"absolute -top-1 -right-1 bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full",children:r.length})]}),n.jsxs(x6,{value:"pending",className:"relative",children:["Pending Approval",n.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-100 text-yellow-700 text-xs px-2 py-0.5 rounded-full",children:v.length})]})]})})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(rt,{onClick:()=>X(!0),variant:"primary",className:"flex items-center space-x-2",children:[n.jsx(Jn,{size:18}),n.jsx("span",{children:"Add Provider"})]}),n.jsx(PY,{showFieldManagement:f,onToggleSettings:()=>h(!f),fieldVisibility:m,onToggleField:L,onResetFields:I}),n.jsx(AY,{searchTerm:i,onSearchChange:o})]})]}),n.jsxs(Nt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx(NY,{fieldVisibility:m}),n.jsx("tbody",{children:ae()})]})}),p==="all"&&U>1&&n.jsx(TY,{currentPage:d,totalPages:U,startIndex:J,itemsPerPage:y,totalItems:te.length,onPageChange:c})]})]}),n.jsx(OY,{isOpen:D.isOpen,providerId:D.providerId,action:D.action,reason:D.reason,notes:D.notes,onClose:G,onConfirm:R,onReasonChange:re=>q(le=>({...le,reason:re})),onNotesChange:re=>q(le=>({...le,notes:re}))}),n.jsx(MY,{isOpen:z.isOpen,providerId:z.providerId,documentId:z.documentId,action:z.action,reason:z.reason,onClose:()=>B({isOpen:!1,providerId:null,documentId:null,action:null}),onConfirm:ee,onReasonChange:re=>B(le=>({...le,reason:re}))}),n.jsx(IY,{isOpen:V,onClose:()=>X(!1),onSubmit:K,isSubmitting:W})]})},pu=()=>n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading users..."})]}),VY=({currentPage:e,totalPages:r,startIndex:t,itemsPerPage:s,totalItems:l,onPageChange:i})=>r<=1?null:n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",t+1," to ",Math.min(t+s,l)," of ",l," users"]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:`border-2 font-semibold transition-all duration-200 group ${e===1?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx(Ul,{size:16,className:e===1?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"}),n.jsx("span",{className:"ml-1",children:"Previous"})]}),n.jsxs("span",{className:"px-4 py-2 text-sm font-semibold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:[e," of ",r]}),n.jsxs(rt,{variant:"outline",size:"sm",onClick:()=>i(Math.min(e+1,r)),disabled:e===r,className:`border-2 font-semibold transition-all duration-200 group ${e===r?"border-gray-300 text-gray-400 cursor-not-allowed bg-gray-50":"border-primary text-black hover:bg-primary hover:text-white hover:border-primary hover:shadow-md"}`,children:[n.jsx("span",{className:"mr-1",children:"Next"}),n.jsx(ia,{size:16,className:e===r?"text-gray-400":"text-black group-hover:text-white transition-colors duration-200"})]})]})]}),KY=({searchTerm:e,onSearchChange:r})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Un,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:t=>r(t.target.value)})]}),XY=({user:e,formatDate:r,getActivityIcon:t})=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Lr,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"User Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User ID"})]}),n.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["#",e.id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Joined Date"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:r(e.created_at)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Last Login"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:r(e.last_login)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gray-600 rounded-lg flex items-center justify-center mr-3",children:n.jsx(Yi,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Contact Information"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Yi,{size:16,className:"text-primary"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.email}),e.email_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx(Xa,{size:16,className:"text-green-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Phone"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-800",children:e.phone}),e.phone_verified&&n.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Verified"})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx($i,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"Location Information"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx($i,{size:16,className:"text-purple-600"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Address"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.address}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.city,", ",e.state," - ",e.pincode]})]})]})]}),GY=({columnVisibility:e})=>n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[e.name&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Name"}),e.contact&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Contact"}),e.location&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Location"}),e.status&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Status"}),e.activity&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Activity"}),e.actions&&n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Actions"})]})}),YY=({user:e,columnVisibility:r,expandingUsers:t,onStatusChange:s,onToggleDropdown:l,formatDate:i})=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[r.name&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-3 min-w-[180px]",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center ring-2 ring-primary/10 flex-shrink-0",children:n.jsx("span",{className:"text-sm font-semibold text-primary",children:e.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"font-medium text-gray-900 truncate",children:e.name}),n.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]})]})}),r.contact&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[220px]",children:[n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx(Yi,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900 break-words",children:e.email}),e.email_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(Ua,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[n.jsx(Xa,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"text-sm text-gray-900",children:e.phone}),e.phone_verified&&n.jsxs("div",{className:"flex items-center flex-shrink-0",children:[n.jsx(Ua,{size:12,className:"text-green-500"}),n.jsx("span",{className:"text-xs text-green-600 ml-1 font-medium",children:"Verified"})]})]})]})}),r.location&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"text-sm min-w-[180px]",children:[n.jsxs("p",{className:"font-medium text-gray-900 mb-1",children:[e.city,", ",e.state]}),n.jsxs("p",{className:"text-gray-500 flex items-center",children:[n.jsx($i,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsx("span",{children:e.pincode})]})]})}),r.status&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsx("div",{className:"min-w-[120px]",children:n.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-medium ${e.status==="active"?"bg-green-100 text-green-700 border border-green-200":e.status==="suspended"?"bg-red-100 text-red-700 border border-red-200":"bg-gray-100 text-gray-700 border border-gray-200"}`,children:[n.jsx("div",{className:`w-2 h-2 rounded-full mr-2 flex-shrink-0 ${e.status==="active"?"bg-green-500":e.status==="suspended"?"bg-red-500":"bg-gray-500"}`}),e.status==="inactive"?"Active":e.status.charAt(0).toUpperCase()+e.status.slice(1)]})})}),r.activity&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"space-y-2 min-w-[200px]",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(mn,{size:14,className:"text-gray-400 flex-shrink-0"}),n.jsxs("span",{className:"text-sm text-gray-900",children:["Last: ",i(e.last_login)]})]}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center space-x-4",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(mn,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:[e.total_bookings," bookings"]})]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Gi,{size:12,className:"mr-1.5 flex-shrink-0"}),n.jsxs("span",{children:["",e.total_spent.toLocaleString()]})]})]})]})}),r.actions&&n.jsx("td",{className:"py-4 px-4 align-middle",children:n.jsxs("div",{className:"flex items-center space-x-2 min-w-[280px]",children:[n.jsxs("select",{value:e.status,onChange:o=>s(e.id,o.target.value),className:"px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20 bg-white text-gray-900",children:[n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"suspended",children:"Suspended"})]}),n.jsx(rt,{variant:"outline",size:"sm",onClick:()=>l(e.id),className:"border-2 border-primary text-black font-semibold transition-all duration-200 hover:bg-primary hover:text-black hover:border-primary hover:shadow-md group",disabled:t.has(e.id),children:t.has(e.id)?n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}):n.jsxs(n.Fragment,{children:[n.jsx($o,{size:14,className:"mr-1 text-black group-hover:text-black transition-colors duration-200"}),n.jsx("span",{className:"text-black group-hover:text-black",children:"Details"}),e.expanded?n.jsx(vu,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"}):n.jsx(Ka,{size:14,className:"ml-1 text-black group-hover:text-black transition-colors duration-200"})]})})]})})]});function hf(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ey={exports:{}};var w6;function ZY(){return w6||(w6=1,(function(e,r){(function(t){e.exports=t()})((function(){return(function t(s,l,i){function o(a,u){if(!l[a]){if(!s[a]){var f=typeof hf=="function"&&hf;if(!u&&f)return f(a,!0);if(d)return d(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var m=l[a]={exports:{}};s[a][0].call(m.exports,(function(g){return o(s[a][1][g]||g)}),m,m.exports,t,s,l,i)}return l[a].exports}for(var d=typeof hf=="function"&&hf,c=0;c<i.length;c++)o(i[c]);return o})({1:[function(t,s,l){const i=t("fs"),o=t("fast-csv"),d=t("dayjs/plugin/customParseFormat"),c=t("dayjs/plugin/utc"),a=t("dayjs").extend(d).extend(c),u=t("../utils/stream-buf"),{fs:{exists:f}}=t("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};s.exports=class{constructor(m){this.workbook=m,this.worksheet=null}async readFile(m,g){if(g=g||{},!await f(m))throw new Error("File not found: "+m);const y=i.createReadStream(m),p=await this.read(y,g);return y.close(),p}read(m,g){return g=g||{},new Promise((y,p)=>{const b=this.workbook.addWorksheet(g.sheetName),v=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],j=g.map||function(T){if(T==="")return null;const D=Number(T);if(!Number.isNaN(D)&&D!==1/0)return D;const q=v.reduce((B,V)=>{if(B)return B;const X=a(T,V,!0);return X.isValid()?X:null},null);if(q)return new Date(q.valueOf());const z=h[T];return z!==void 0?z:T},C=o.parse(g.parserOptions).on("data",T=>{b.addRow(T.map(j))}).on("end",()=>{C.emit("worksheet",b)});C.on("worksheet",y).on("error",p),m.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(m,g){return new Promise((y,p)=>{g=g||{};const b=this.workbook.getWorksheet(g.sheetName||g.sheetId),v=o.format(g.formatterOptions);m.on("finish",()=>{y()}),v.on("error",p),v.pipe(m);const{dateFormat:j,dateUTC:C}=g,T=g.map||(z=>{if(z){if(z.text||z.hyperlink)return z.hyperlink||z.text||"";if(z.formula||z.result)return z.result||"";if(z instanceof Date)return j?C?a.utc(z).format(j):a(z).format(j):C?a.utc(z).format():a(z).format();if(z.error)return z.error;if(typeof z=="object")return JSON.stringify(z)}return z}),D=g.includeEmptyRows===void 0||g.includeEmptyRows;let q=1;b&&b.eachRow((z,B)=>{if(D)for(;q++<B-1;)v.write([]);const{values:V}=z;V.shift(),v.write(V.map(T)),q=B}),v.end()})}writeFile(m,g){const y={encoding:(g=g||{}).encoding||"utf8"},p=i.createWriteStream(m,y);return this.write(p,g)}async writeBuffer(m){const g=new u;return await this.write(g,m),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,s,l){const i=t("../utils/col-cache");class o{constructor(c,a){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=c,a)if(typeof a=="string"){const f=i.decodeAddress(a);this.nativeCol=f.col+u,this.nativeColOff=0,this.nativeRow=f.row+u,this.nativeRowOff=0}else a.nativeCol!==void 0?(this.nativeCol=a.nativeCol||0,this.nativeColOff=a.nativeColOff||0,this.nativeRow=a.nativeRow||0,this.nativeRowOff=a.nativeRowOff||0):a.col!==void 0?(this.col=a.col+u,this.row=a.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(c){return c instanceof o||c==null?c:new o(c)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(c){this.nativeCol=Math.floor(c),this.nativeColOff=Math.floor((c-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(c){this.nativeRow=Math.floor(c),this.nativeRowOff=Math.floor((c-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(c){this.nativeCol=c.nativeCol,this.nativeColOff=c.nativeColOff,this.nativeRow=c.nativeRow,this.nativeRowOff=c.nativeRowOff}}s.exports=o},{"../utils/col-cache":19}],3:[function(t,s,l){const i=t("../utils/col-cache"),o=t("../utils/under-dash"),d=t("./enums"),{slideFormula:c}=t("../utils/shared-formula"),a=t("./note");class u{constructor(m,g,y){if(!m||!g)throw new Error("A Cell needs a Row");this._row=m,this._column=g,i.validateAddress(y),this._address=y,this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(m.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(m){this.style.numFmt=m}get font(){return this.style.font}set font(m){this.style.font=m}get alignment(){return this.style.alignment}set alignment(m){this.style.alignment=m}get border(){return this.style.border}set border(m){this.style.border=m}get fill(){return this.style.fill}set fill(m){this.style.fill=m}get protection(){return this.style.protection}set protection(m){this.style.protection=m}_mergeStyle(m,g,y){const p=m&&m.numFmt||g&&g.numFmt;p&&(y.numFmt=p);const b=m&&m.font||g&&g.font;b&&(y.font=b);const v=m&&m.alignment||g&&g.alignment;v&&(y.alignment=v);const j=m&&m.border||g&&g.border;j&&(y.border=j);const C=m&&m.fill||g&&g.fill;C&&(y.fill=C);const T=m&&m.protection||g&&g.protection;return T&&(y.protection=T),y}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(m,g){this._value.release(),this._value=f.create(u.Types.Merge,this,m),g||(this.style=m.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=f.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(m){return this._value.type===u.Types.Merge&&this._value.isMergedTo(m)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(m){this.type!==u.Types.Merge?(this._value.release(),this._value=f.create(f.getType(m),this,m)):this._value.master.value=m}get note(){return this._comment&&this._comment.note}set note(m){this._comment=new a(m)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(m){this.type===u.Types.String&&(this._value=f.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:m}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:m}=this._row;return{sheetName:m.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(m){this.names=[m]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(m){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),m.forEach(y=>{g.addEx(this.fullAddress,y)})}addName(m){this.workbook.definedNames.addEx(this.fullAddress,m)}removeName(m){this.workbook.definedNames.removeEx(this.fullAddress,m)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(m){this._dataValidations.add(this.address,m)}get model(){const{model:m}=this._value;return m.style=this.style,this._comment&&(m.comment=this._comment.model),m}set model(m){this._value.release(),this._value=f.create(m.type,this),this._value.model=m,m.comment&&m.comment.type==="note"&&(this._comment=a.fromModel(m.comment)),m.style?this.style=m.style:this.style={}}}u.Types=d.ValueType;const f={getType:h=>h==null?u.Types.Null:h instanceof String||typeof h=="string"?u.Types.String:typeof h=="number"?u.Types.Number:typeof h=="boolean"?u.Types.Boolean:h instanceof Date?u.Types.Date:h.text&&h.hyperlink?u.Types.Hyperlink:h.formula||h.sharedFormula?u.Types.Formula:h.richText?u.Types.RichText:h.sharedString?u.Types.SharedString:h.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(h){this.model={address:h.address,type:u.Types.Null}}get value(){return null}set value(h){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Number,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.String,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Date,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Hyperlink,text:m?m.text:void 0,hyperlink:m?m.hyperlink:void 0},m&&m.tooltip&&(this.model.tooltip=m.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(h,m){this.cell=h,this.model={address:h.address,type:u.Types.Formula,shareType:m?m.shareType:void 0,ref:m?m.ref:void 0,formula:m?m.formula:void 0,sharedFormula:m?m.sharedFormula:void 0,result:m?m.result:void 0}}_copyModel(h){const m={},g=y=>{const p=h[y];p&&(m[y]=p)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),m}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?d.FormulaType.Master:this.model.sharedFormula?d.FormulaType.Shared:d.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return u.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?d.ValueType.Null:h instanceof String||typeof h=="string"?d.ValueType.String:typeof h=="number"?d.ValueType.Number:h instanceof Date?d.ValueType.Date:h.text&&h.hyperlink?d.ValueType.Hyperlink:h.formula?d.ValueType.Formula:d.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,m=h.findCell(this.model.sharedFormula);this._translatedFormula=m&&c(m.formula,m.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Merge,master:m?m.address:void 0},this._master=m,m&&m.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof u?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.String,value:JSON.stringify(m),rawValue:m}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.SharedString,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.String,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Boolean,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(h,m){this.model={address:h.address,type:u.Types.Error,value:m}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,m)=>(h[m.t]=m.f,h),[]),create(h,m,g){const y=this.types[h];if(!y)throw new Error("Could not create Value of type "+h);return new y(m,g)}};s.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,s,l){const i=t("../utils/under-dash"),o=t("./enums"),d=t("../utils/col-cache");class c{constructor(u,f,h){this._worksheet=u,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return d.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&i.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,f){const h=this.number;f||(f=u,u=null),this._worksheet.eachRow(u,(m,g)=>{f(m.getCell(h),g)})}get values(){const u=[];return this.eachCell((f,h)=>{f&&f.type!==o.ValueType.Null&&(u[h]=f.value)}),u}set values(u){if(!u)return;const f=this.number;let h=0;u.hasOwnProperty("0")&&(h=1),u.forEach((m,g)=>{this._worksheet.getCell(g+h,f).value=m})}_applyStyle(u,f){return this.style[u]=f,this.eachCell(h=>{h[u]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const f=[];let h=null;return u&&u.forEach((m,g)=>{m.isDefault?h&&(h=null):h&&m.equivalentTo(h)?h.max=g+1:(h={min:g+1,max:g+1,width:m.width!==void 0?m.width:9,style:m.style,isCustomWidth:m.isCustomWidth,hidden:m.hidden,outlineLevel:m.outlineLevel,collapsed:m.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(u,f){const h=[];let m=1,g=0;for(f=(f=f||[]).sort((function(y,p){return y.min-p.min}));g<f.length;){const y=f[g++];for(;m<y.min;)h.push(new c(u,m++));for(;m<=y.max;)h.push(new c(u,m++,y))}return h.length?h:null}}s.exports=c},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,s,l){s.exports=class{constructor(i){this.model=i||{}}add(i,o){return this.model[i]=o}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(t,s,l){const i=t("../utils/under-dash"),o=t("../utils/col-cache"),d=t("../utils/cell-matrix"),c=t("./range"),a=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;s.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new d)}add(u,f){const h=o.decodeEx(u);this.addEx(h,f)}addEx(u,f){const h=this.getMatrix(f);if(u.top)for(let m=u.left;m<=u.right;m++)for(let g=u.top;g<=u.bottom;g++){const y={sheetName:u.sheetName,address:o.n2l(m)+g,row:g,col:m};h.addCellEx(y)}else h.addCellEx(u)}remove(u,f){const h=o.decodeEx(u);this.removeEx(h,f)}removeEx(u,f){this.getMatrix(f).removeCellEx(u)}removeAllNames(u){i.each(this.matrixMap,f=>{f.removeCellEx(u)})}forEach(u){i.each(this.matrixMap,(f,h)=>{f.forEach(m=>{u(h,m)})})}getNames(u){return this.getNamesEx(o.decodeEx(u))}getNamesEx(u){return i.map(this.matrixMap,(f,h)=>f.findCellEx(u)&&h).filter(Boolean)}_explore(u,f){f.mark=!1;const{sheetName:h}=f,m=new c(f.row,f.col,f.row,f.col,h);let g,y;function p(v,j){const C=u.findCellAt(h,v,f.col);return!(!C||!C.mark)&&(m[j]=v,C.mark=!1,!0)}for(y=f.row-1;p(y,"top");y--);for(y=f.row+1;p(y,"bottom");y++);function b(v,j){const C=[];for(y=m.top;y<=m.bottom;y++){const T=u.findCellAt(h,y,v);if(!T||!T.mark)return!1;C.push(T)}m[j]=v;for(let T=0;T<C.length;T++)C[T].mark=!1;return!0}for(g=f.col-1;b(g,"left");g--);for(g=f.col+1;b(g,"right");g++);return m}getRanges(u,f){return(f=f||this.matrixMap[u])?(f.forEach(h=>{h.mark=!0}),{name:u,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,f){u.forEachInSheet(f,(h,m,g)=>{h&&(h.row===m&&h.col===g||(h.row=m,h.col=g,h.address=o.n2l(g)+m))})}spliceRows(u,f,h,m){i.each(this.matrixMap,g=>{g.spliceRows(u,f,h,m),this.normaliseMatrix(g,u)})}spliceColumns(u,f,h,m){i.each(this.matrixMap,g=>{g.spliceColumns(u,f,h,m),this.normaliseMatrix(g,u)})}get model(){return i.map(this.matrixMap,(u,f)=>this.getRanges(f,u)).filter(u=>u.ranges.length)}set model(u){const f=this.matrixMap={};u.forEach(h=>{const m=f[h.name]=new d;h.ranges.forEach(g=>{a.test(g.split("!").pop()||"")&&m.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,s,l){s.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,s,l){const i=t("../utils/col-cache"),o=t("./anchor");s.exports=class{constructor(d,c){this.worksheet=d,this.model=c}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(d){let{type:c,imageId:a,range:u,hyperlinks:f}=d;if(this.type=c,this.imageId=a,c==="image")if(typeof u=="string"){const h=i.decode(u);this.range={tl:new o(this.worksheet,{col:h.left,row:h.top},-1),br:new o(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,u.tl,0),br:u.br&&new o(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:f||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,s,l){const i=t("../utils/under-dash");class o{constructor(c){this.note=c}get model(){let c=null;return typeof this.note==="string"?c={type:"note",note:{texts:[{text:this.note}]}}:c={type:"note",note:this.note},i.deepMerge({},o.DEFAULT_CONFIGS,c)}set model(c){const{note:a}=c,{texts:u}=a;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=a}static fromModel(c){const a=new o;return a.model=c,a}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},s.exports=o},{"../utils/under-dash":26}],10:[function(t,s,l){const i=t("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(c,a,u,f,h){if(arguments.length<4){const m=i.decodeAddress(c),g=i.decodeAddress(a);this.model={top:Math.min(m.row,g.row),left:Math.min(m.col,g.col),bottom:Math.max(m.row,g.row),right:Math.max(m.col,g.col),sheetName:u},this.setTLBR(m.row,m.col,g.row,g.col,h)}else this.model={top:Math.min(c,u),left:Math.min(a,f),bottom:Math.max(c,u),right:Math.max(a,f),sheetName:h}}decode(c){switch(c.length){case 5:this.setTLBR(c[0],c[1],c[2],c[3],c[4]);break;case 4:this.setTLBR(c[0],c[1],c[2],c[3]);break;case 3:this.setTLBR(c[0],c[1],c[2]);break;case 2:this.setTLBR(c[0],c[1]);break;case 1:{const a=c[0];if(a instanceof o)this.model={top:a.model.top,left:a.model.left,bottom:a.model.bottom,right:a.model.right,sheetName:a.sheetName};else if(a instanceof Array)this.decode(a);else if(a.top&&a.left&&a.bottom&&a.right)this.model={top:a.top,left:a.left,bottom:a.bottom,right:a.right,sheetName:a.sheetName};else{const u=i.decodeEx(a);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+c.length)}}get top(){return this.model.top||1}set top(c){this.model.top=c}get left(){return this.model.left||1}set left(c){this.model.left=c}get bottom(){return this.model.bottom||1}set bottom(c){this.model.bottom=c}get right(){return this.model.right||1}set right(c){this.model.right=c}get sheetName(){return this.model.sheetName}set sheetName(c){this.model.sheetName=c}get _serialisedSheetName(){const{sheetName:c}=this.model;return c?/^[a-zA-Z0-9]*$/.test(c)?c+"!":`'${c}'!`:""}expand(c,a,u,f){(!this.model.top||c<this.top)&&(this.top=c),(!this.model.left||a<this.left)&&(this.left=a),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(c){if(c){const{dimensions:a,number:u}=c;a&&this.expand(u,a.min,u,a.max)}}expandToAddress(c){const a=i.decodeEx(c);this.expand(a.row,a.col,a.row,a.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&!(c.bottom<this.top)&&!(c.top>this.bottom)&&!(c.right<this.left)&&!(c.left>this.right)}contains(c){const a=i.decodeEx(c);return this.containsEx(a)}containsEx(c){return(!c.sheetName||!this.sheetName||c.sheetName===this.sheetName)&&c.row>=this.top&&c.row<=this.bottom&&c.col>=this.left&&c.col<=this.right}forEachAddress(c){for(let a=this.left;a<=this.right;a++)for(let u=this.top;u<=this.bottom;u++)c(i.encodeAddress(u,a),u,a)}}s.exports=o},{"../utils/col-cache":19}],11:[function(t,s,l){const i=t("../utils/under-dash"),o=t("./enums"),d=t("../utils/col-cache"),c=t("./cell");s.exports=class{constructor(a,u){this._worksheet=a,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(a){return this._cells[a-1]}getCellEx(a){let u=this._cells[a.col-1];if(!u){const f=this._worksheet.getColumn(a.col);u=new c(this,f,a.address),this._cells[a.col-1]=u}return u}getCell(a){if(typeof a=="string"){const u=this._worksheet.getColumnKey(a);a=u?u.number:d.l2n(a)}return this._cells[a-1]||this.getCellEx({address:d.encodeAddress(this._number,a),row:this._number,col:a})}splice(a,u){const f=a+u;for(var h=arguments.length,m=new Array(h>2?h-2:0),g=2;g<h;g++)m[g-2]=arguments[g];const y=m.length-u,p=this._cells.length;let b,v,j;if(y<0)for(b=a+m.length;b<=p;b++)j=this._cells[b-1],v=this._cells[b-y-1],v?(j=this.getCell(b),j.value=v.value,j.style=v.style,j._comment=v._comment):j&&(j.value=null,j.style={},j._comment=void 0);else if(y>0)for(b=p;b>=f;b--)v=this._cells[b-1],v?(j=this.getCell(b+y),j.value=v.value,j.style=v.style,j._comment=v._comment):this._cells[b+y-1]=void 0;for(b=0;b<m.length;b++)j=this.getCell(a+b),j.value=m[b],j.style={},j._comment=void 0}eachCell(a,u){if(u||(u=a,a=null),a&&a.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)u(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==o.ValueType.Null&&u(f,h+1)})}addPageBreak(a,u){const f=this._worksheet,h=Math.max(0,a-1)||0,m=Math.max(0,u-1)||16838,g={id:this._number,max:m,man:1};h&&(g.min=h),f.rowBreaks.push(g)}get values(){const a=[];return this._cells.forEach(u=>{u&&u.type!==o.ValueType.Null&&(a[u.col]=u.value)}),a}set values(a){if(this._cells=[],a)if(a instanceof Array){let u=0;a.hasOwnProperty("0")&&(u=1),a.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:d.encodeAddress(this._number,h+u),row:this._number,col:h+u}).value=f)})}else this._worksheet.eachColumnKey((u,f)=>{a[f]!==void 0&&(this.getCellEx({address:d.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=a[f])})}get hasValues(){return i.some(this._cells,a=>a&&a.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let a=0;return this.eachCell(()=>{a++}),a}get dimensions(){let a=0,u=0;return this._cells.forEach(f=>{f&&f.type!==o.ValueType.Null&&((!a||a>f.col)&&(a=f.col),u<f.col&&(u=f.col))}),a>0?{min:a,max:u}:null}_applyStyle(a,u){return this.style[a]=u,this._cells.forEach(f=>{f&&(f[a]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(a){this._applyStyle("numFmt",a)}get font(){return this.style.font}set font(a){this._applyStyle("font",a)}get alignment(){return this.style.alignment}set alignment(a){this._applyStyle("alignment",a)}get protection(){return this.style.protection}set protection(a){this._applyStyle("protection",a)}get border(){return this.style.border}set border(a){this._applyStyle("border",a)}get fill(){return this.style.fill}set fill(a){this._applyStyle("fill",a)}get hidden(){return!!this._hidden}set hidden(a){this._hidden=a}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(a){this._outlineLevel=a}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const a=[];let u=0,f=0;return this._cells.forEach(h=>{if(h){const m=h.model;m&&((!u||u>h.col)&&(u=h.col),f<h.col&&(f=h.col),a.push(m))}}),this.height||a.length?{cells:a,number:this.number,min:u,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(a){if(a.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],a.cells.forEach(f=>{switch(f.type){case c.Types.Merge:break;default:{let h;if(f.address)h=d.decodeAddress(f.address);else if(u){const{row:m}=u,g=u.col+1;h={row:m,col:g,address:d.encodeAddress(m,g),$col$row:`$${d.n2l(g)}$${m}`}}u=h,this.getCellEx(h).model=f;break}}}),a.height?this.height=a.height:delete this.height,this.hidden=a.hidden,this.outlineLevel=a.outlineLevel||0,this.style=a.style&&JSON.parse(JSON.stringify(a.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,s,l){const i=t("../utils/col-cache");class o{constructor(c,a,u){this.table=c,this.column=a,this.index=u}_set(c,a){this.table.cacheState(),this.column[c]=a}get name(){return this.column.name}set name(c){this._set("name",c)}get filterButton(){return this.column.filterButton}set filterButton(c){this.column.filterButton=c}get style(){return this.column.style}set style(c){this.column.style=c}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(c){this._set("totalsRowLabel",c)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(c){this._set("totalsRowFunction",c)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(c){this._set("totalsRowResult",c)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(c){this._set("totalsRowFormula",c)}}s.exports=class{constructor(d,c){this.worksheet=d,c&&(this.table=c,this.validate(),this.store())}getFormula(d){switch(d.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${d.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${d.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${d.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${d.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${d.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${d.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${d.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${d.name}])`;case"custom":return d.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+d.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:d}=this,c=(y,p,b)=>{y[p]===void 0&&(y[p]=b)};c(d,"headerRow",!0),c(d,"totalsRow",!1),c(d,"style",{}),c(d.style,"theme","TableStyleMedium2"),c(d.style,"showFirstColumn",!1),c(d.style,"showLastColumn",!1),c(d.style,"showRowStripes",!1),c(d.style,"showColumnStripes",!1);const a=(y,p)=>{if(!y)throw new Error(p)};a(d.ref,"Table must have ref"),a(d.columns,"Table must have column definitions"),a(d.rows,"Table must have row definitions"),d.tl=i.decodeAddress(d.ref);const{row:u,col:f}=d.tl;a(u>0,"Table must be on valid row"),a(f>0,"Table must be on valid col");const{width:h,filterHeight:m,tableHeight:g}=this;d.autoFilterRef=i.encode(u,f,u+m-1,f+h-1),d.tableRef=i.encode(u,f,u+g-1,f+h-1),d.columns.forEach((y,p)=>{a(y.name,`Column ${p} must have a name`),p===0?c(y,"totalsRowLabel","Total"):(c(y,"totalsRowFunction","none"),y.totalsRowFormula=this.getFormula(y))})}store(){const d=(m,g)=>{g&&Object.keys(g).forEach(y=>{m[y]=g[y]})},{worksheet:c,table:a}=this,{row:u,col:f}=a.tl;let h=0;if(a.headerRow){const m=c.getRow(u+h++);a.columns.forEach((g,y)=>{const{style:p,name:b}=g,v=m.getCell(f+y);v.value=b,d(v,p)})}if(a.rows.forEach(m=>{const g=c.getRow(u+h++);m.forEach((y,p)=>{const b=g.getCell(f+p);b.value=y,d(b,a.columns[p].style)})}),a.totalsRow){const m=c.getRow(u+h++);a.columns.forEach((g,y)=>{const p=m.getCell(f+y);if(y===0)p.value=g.totalsRowLabel;else{const b=this.getFormula(g);p.value=b?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}d(p,g.style)})}}load(d){const{table:c}=this,{row:a,col:u}=c.tl;let f=0;if(c.headerRow){const h=d.getRow(a+f++);c.columns.forEach((m,g)=>{h.getCell(u+g).value=m.name})}if(c.rows.forEach(h=>{const m=d.getRow(a+f++);h.forEach((g,y)=>{m.getCell(u+y).value=g})}),c.totalsRow){const h=d.getRow(a+f++);c.columns.forEach((m,g)=>{const y=h.getCell(u+g);g===0?y.value=m.totalsRowLabel:this.getFormula(m)&&(y.value={formula:m.totalsRowFormula,result:m.totalsRowResult})})}}get model(){return this.table}set model(d){this.table=d}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const d=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let c=0;c<this._cache.tableHeight;c++){const a=this.worksheet.getRow(d.row+c);for(let u=0;u<this._cache.width;u++)a.getCell(d.col+u).value=null}else{for(let c=this.tableHeight;c<this._cache.tableHeight;c++){const a=this.worksheet.getRow(d.row+c);for(let u=0;u<this._cache.width;u++)a.getCell(d.col+u).value=null}for(let c=0;c<this.tableHeight;c++){const a=this.worksheet.getRow(d.row+c);for(let u=this.width;u<this._cache.width;u++)a.getCell(d.col+u).value=null}}this.store()}addRow(d,c){this.cacheState(),c===void 0?this.table.rows.push(d):this.table.rows.splice(c,0,d)}removeRows(d){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(d,c)}getColumn(d){const c=this.table.columns[d];return new o(this,c,d)}addColumn(d,c,a){this.cacheState(),a===void 0?(this.table.columns.push(d),this.table.rows.forEach((u,f)=>{u.push(c[f])})):(this.table.columns.splice(a,0,d),this.table.rows.forEach((u,f)=>{u.splice(a,0,c[f])}))}removeColumns(d){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(d,c),this.table.rows.forEach(a=>{a.splice(d,c)})}_assign(d,c,a){this.cacheState(),d[c]=a}get ref(){return this.table.ref}set ref(d){this._assign(this.table,"ref",d)}get name(){return this.table.name}set name(d){this.table.name=d}get displayName(){return this.table.displyName||this.table.name}set displayNamename(d){this.table.displayName=d}get headerRow(){return this.table.headerRow}set headerRow(d){this._assign(this.table,"headerRow",d)}get totalsRow(){return this.table.totalsRow}set totalsRow(d){this._assign(this.table,"totalsRow",d)}get theme(){return this.table.style.name}set theme(d){this.table.style.name=d}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(d){this.table.style.showFirstColumn=d}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(d){this.table.style.showLastColumn=d}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(d){this.table.style.showRowStripes=d}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(d){this.table.style.showColumnStripes=d}}},{"../utils/col-cache":19}],13:[function(t,s,l){const i=t("./worksheet"),o=t("./defined-names"),d=t("../xlsx/xlsx"),c=t("../csv/csv");s.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new d(this)),this._xlsx}get csv(){return this._csv||(this._csv=new c(this)),this._csv}get nextId(){for(let a=1;a<this._worksheets.length;a++)if(!this._worksheets[a])return a;return this._worksheets.length||1}addWorksheet(a,u){const f=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const h=this._worksheets.reduce((y,p)=>(p&&p.orderNo)>y?p.orderNo:y,0),m=Object.assign({},u,{id:f,name:a,orderNo:h+1,workbook:this}),g=new i(m);return this._worksheets[f]=g,g}removeWorksheetEx(a){delete this._worksheets[a.id]}removeWorksheet(a){const u=this.getWorksheet(a);u&&u.destroy()}getWorksheet(a){return a===void 0?this._worksheets.find(Boolean):typeof a=="number"?this._worksheets[a]:typeof a=="string"?this._worksheets.find(u=>u&&u.name===a):void 0}get worksheets(){return this._worksheets.slice(1).sort((a,u)=>a.orderNo-u.orderNo).filter(Boolean)}eachSheet(a){this.worksheets.forEach(u=>{a(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(a){const u=this.media.length;return this.media.push(Object.assign({},a,{type:"image"})),u}getImage(a){return this.media[a]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(a=>a.model),sheets:this.worksheets.map(a=>a.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(a){this.creator=a.creator,this.lastModifiedBy=a.lastModifiedBy,this.lastPrinted=a.lastPrinted,this.created=a.created,this.modified=a.modified,this.company=a.company,this.manager=a.manager,this.title=a.title,this.subject=a.subject,this.keywords=a.keywords,this.category=a.category,this.description=a.description,this.language=a.language,this.revision=a.revision,this.contentStatus=a.contentStatus,this.properties=a.properties,this.calcProperties=a.calcProperties,this._worksheets=[],a.worksheets.forEach(u=>{const{id:f,name:h,state:m}=u,g=a.sheets&&a.sheets.findIndex(y=>y.id===f);(this._worksheets[f]=new i({id:f,name:h,orderNo:g,state:m,workbook:this})).model=u}),this._definedNames.model=a.definedNames,this.views=a.views,this._themes=a.themes,this.media=a.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,s,l){const i=t("../utils/under-dash"),o=t("../utils/col-cache"),d=t("./range"),c=t("./row"),a=t("./column"),u=t("./enums"),f=t("./image"),h=t("./table"),m=t("./data-validations"),g=t("../utils/encryptor"),{copyStyle:y}=t("../utils/copy-style");s.exports=class{constructor(p){p=p||{},this._workbook=p.workbook,this.id=p.id,this.orderNo=p.orderNo,this.name=p.name,this.state=p.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},p.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!p.pageSetup||!p.pageSetup.fitToWidth&&!p.pageSetup.fitToHeight||p.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},p.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},p.headerFooter),this.dataValidations=new m,this.views=p.views||[],this.autoFilter=p.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(p){if(p===void 0&&(p="sheet"+this.id),this._name!==p){if(typeof p!="string")throw new Error("The name has to be a string.");if(p==="")throw new Error("The name can't be empty.");if(p==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(p))throw new Error(`Worksheet name ${p} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(p))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+p);if(p&&p.length>31&&(console.warn(`Worksheet name ${p} exceeds 31 chars. This will be truncated`),p=p.substring(0,31)),this._workbook._worksheets.find(b=>b&&b.name.toLowerCase()===p.toLowerCase()))throw new Error("Worksheet name already exists: "+p);this._name=p}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const p=new d;return this._rows.forEach(b=>{if(b){const v=b.dimensions;v&&p.expand(b.number,v.min,b.number,v.max)}}),p}get columns(){return this._columns}set columns(p){this._headerRowCount=p.reduce((j,C)=>{const T=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(j,T)},0);let b=1;const v=this._columns=[];p.forEach(j=>{const C=new a(this,b++,!1);v.push(C),C.defn=j})}getColumnKey(p){return this._keys[p]}setColumnKey(p,b){this._keys[p]=b}deleteColumnKey(p){delete this._keys[p]}eachColumnKey(p){i.each(this._keys,p)}getColumn(p){if(typeof p=="string"){const b=this._keys[p];if(b)return b;p=o.l2n(p)}if(this._columns||(this._columns=[]),p>this._columns.length){let b=this._columns.length+1;for(;b<=p;)this._columns.push(new a(this,b++))}return this._columns[p-1]}spliceColumns(p,b){const v=this._rows.length;for(var j=arguments.length,C=new Array(j>2?j-2:0),T=2;T<j;T++)C[T-2]=arguments[T];if(C.length>0)for(let B=0;B<v;B++){const V=[p,b];C.forEach(W=>{V.push(W[B]||null)});const X=this.getRow(B+1);X.splice.apply(X,V)}else this._rows.forEach(B=>{B&&B.splice(p,b)});const D=C.length-b,q=p+b,z=this._columns.length;if(D<0)for(let B=p+C.length;B<=z;B++)this.getColumn(B).defn=this.getColumn(B-D).defn;else if(D>0)for(let B=z;B>=q;B--)this.getColumn(B+D).defn=this.getColumn(B).defn;for(let B=p;B<p+C.length;B++)this.getColumn(B).defn=null;this.workbook.definedNames.spliceColumns(this.name,p,b,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let p=0;return this.eachRow(b=>{p=Math.max(p,b.cellCount)}),p}get actualColumnCount(){const p=[];let b=0;return this.eachRow(v=>{v.eachCell(j=>{let{col:C}=j;p[C]||(p[C]=!0,b++)})}),b}_commitRow(){}get _lastRowNumber(){const p=this._rows;let b=p.length;for(;b>0&&p[b-1]===void 0;)b--;return b}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(p){return this._rows[p-1]}findRows(p,b){return this._rows.slice(p-1,p-1+b)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let p=0;return this.eachRow(()=>{p++}),p}getRow(p){let b=this._rows[p-1];return b||(b=this._rows[p-1]=new c(this,p)),b}getRows(p,b){if(b<1)return;const v=[];for(let j=p;j<p+b;j++)v.push(this.getRow(j));return v}addRow(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=this._nextRow,j=this.getRow(v);return j.values=p,this._setStyleOption(v,b[0]==="i"?b:"n"),j}addRows(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const v=[];return p.forEach(j=>{v.push(this.addRow(j,b))}),v}insertRow(p,b){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(p,0,b),this._setStyleOption(p,v),this.getRow(p)}insertRows(p,b){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(p,0,...b),v!=="n")for(let j=0;j<b.length;j++)v[0]==="o"&&this.findRow(b.length+p+j)!==void 0?this._copyStyle(b.length+p+j,p+j,v[1]==="+"):v[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p+j,v[1]==="+");return this.getRows(p,b.length)}_setStyleOption(p){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";b[0]==="o"&&this.findRow(p+1)!==void 0?this._copyStyle(p+1,p,b[1]==="+"):b[0]==="i"&&this.findRow(p-1)!==void 0&&this._copyStyle(p-1,p,b[1]==="+")}_copyStyle(p,b){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this.getRow(p),C=this.getRow(b);C.style=y(j.style),j.eachCell({includeEmpty:v},(T,D)=>{C.getCell(D).style=y(T.style)}),C.height=j.height}duplicateRow(p,b){let v=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const j=this._rows[p-1],C=new Array(b).fill(j.values);this.spliceRows(p+1,v?0:b,...C);for(let T=0;T<b;T++){const D=this._rows[p+T];D.style=j.style,D.height=j.height,j.eachCell({includeEmpty:!0},(q,z)=>{D.getCell(z).style=q.style})}}spliceRows(p,b){const v=p+b;for(var j=arguments.length,C=new Array(j>2?j-2:0),T=2;T<j;T++)C[T-2]=arguments[T];const D=C.length,q=D-b,z=this._rows.length;let B,V;if(q<0)for(p===z&&(this._rows[z-1]=void 0),B=v;B<=z;B++)if(V=this._rows[B-1],V){const X=this.getRow(B+q);X.values=V.values,X.style=V.style,X.height=V.height,V.eachCell({includeEmpty:!0},(W,P)=>{X.getCell(P).style=W.style}),this._rows[B-1]=void 0}else this._rows[B+q-1]=void 0;else if(q>0)for(B=z;B>=v;B--)if(V=this._rows[B-1],V){const X=this.getRow(B+q);X.values=V.values,X.style=V.style,X.height=V.height,V.eachCell({includeEmpty:!0},(W,P)=>{if(X.getCell(P).style=W.style,W._value.constructor.name==="MergeValue"){const M=this.getRow(W._row._number+D).getCell(P),E=W._value._master,_=this.getRow(E._row._number+D).getCell(E._column._number);M.merge(_)}})}else this._rows[B+q-1]=void 0;for(B=0;B<D;B++){const X=this.getRow(p+B);X.style={},X.values=C[B]}this.workbook.definedNames.spliceRows(this.name,p,b,D)}eachRow(p,b){if(b||(b=p,p=void 0),p&&p.includeEmpty){const v=this._rows.length;for(let j=1;j<=v;j++)b(this.getRow(j),j)}else this._rows.forEach(v=>{v&&v.hasValues&&b(v,v.number)})}getSheetValues(){const p=[];return this._rows.forEach(b=>{b&&(p[b.number]=b.values)}),p}findCell(p,b){const v=o.getAddress(p,b),j=this._rows[v.row-1];return j?j.findCell(v.col):void 0}getCell(p,b){const v=o.getAddress(p,b);return this.getRow(v.row).getCellEx(v)}mergeCells(){for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];const j=new d(b);this._mergeCellsInternal(j)}mergeCellsWithoutStyle(){for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];const j=new d(b);this._mergeCellsInternal(j,!0)}_mergeCellsInternal(p,b){i.each(this._merges,j=>{if(j.intersects(p))throw new Error("Cannot merge already merged cells")});const v=this.getCell(p.top,p.left);for(let j=p.top;j<=p.bottom;j++)for(let C=p.left;C<=p.right;C++)(j>p.top||C>p.left)&&this.getCell(j,C).merge(v,b);this._merges[v.address]=p}_unMergeMaster(p){const b=this._merges[p.address];if(b){for(let v=b.top;v<=b.bottom;v++)for(let j=b.left;j<=b.right;j++)this.getCell(v,j).unmerge();delete this._merges[p.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var p=arguments.length,b=new Array(p),v=0;v<p;v++)b[v]=arguments[v];const j=new d(b);for(let C=j.top;C<=j.bottom;C++)for(let T=j.left;T<=j.right;T++){const D=this.findCell(C,T);D&&(D.type===u.ValueType.Merge?this._unMergeMaster(D.master):this._merges[D.address]&&this._unMergeMaster(D))}}fillFormula(p,b,v){let j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=o.decode(p),{top:T,left:D,bottom:q,right:z}=C,B=z-D+1,V=o.encodeAddress(T,D),X=j==="shared";let W;W=typeof v=="function"?v:Array.isArray(v)?Array.isArray(v[0])?(M,E)=>v[M-T][E-D]:(M,E)=>v[(M-T)*B+(E-D)]:()=>{};let P=!0;for(let M=T;M<=q;M++)for(let E=D;E<=z;E++)P?(this.getCell(M,E).value={shareType:j,formula:b,ref:p,result:W(M,E)},P=!1):this.getCell(M,E).value=X?{sharedFormula:V,result:W(M,E)}:W(M,E)}addImage(p,b){const v={type:"image",imageId:p,range:b};this._media.push(new f(this,v))}getImages(){return this._media.filter(p=>p.type==="image")}addBackgroundImage(p){const b={type:"background",imageId:p};this._media.push(new f(this,b))}getBackgroundImageId(){const p=this._media.find(b=>b.type==="background");return p&&p.imageId}protect(p,b){return new Promise(v=>{this.sheetProtection={sheet:!0},b&&"spinCount"in b&&(b.spinCount=Number.isFinite(b.spinCount)?Math.round(Math.max(0,b.spinCount)):1e5),p&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=b&&"spinCount"in b?b.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(p,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),b&&(this.sheetProtection=Object.assign(this.sheetProtection,b),!p&&"spinCount"in b&&delete this.sheetProtection.spinCount),v()})}unprotect(){this.sheetProtection=null}addTable(p){const b=new h(this,p);return this.tables[p.name]=b,b}getTable(p){return this.tables[p]}removeTable(p){delete this.tables[p]}getTables(){return Object.values(this.tables)}addConditionalFormatting(p){this.conditionalFormattings.push(p)}removeConditionalFormatting(p){typeof p=="number"?this.conditionalFormattings.splice(p,1):this.conditionalFormattings=p instanceof Function?this.conditionalFormattings.filter(p):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(p){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=p}get model(){const p={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(j=>j.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(j=>j.model),conditionalFormattings:this.conditionalFormattings};p.cols=a.toModel(this.columns);const b=p.rows=[],v=p.dimensions=new d;return this._rows.forEach(j=>{const C=j&&j.model;C&&(v.expand(C.number,C.min,C.number,C.max),b.push(C))}),p.merges=[],i.each(this._merges,j=>{p.merges.push(j.range)}),p}_parseRows(p){this._rows=[],p.rows.forEach(b=>{const v=new c(this,b.number);this._rows[v.number-1]=v,v.model=b})}_parseMergeCells(p){i.each(p.mergeCells,b=>{this.mergeCellsWithoutStyle(b)})}set model(p){this.name=p.name,this._columns=a.fromModel(this,p.cols),this._parseRows(p),this._parseMergeCells(p),this.dataValidations=new m(p.dataValidations),this.properties=p.properties,this.pageSetup=p.pageSetup,this.headerFooter=p.headerFooter,this.views=p.views,this.autoFilter=p.autoFilter,this._media=p.media.map(b=>new f(this,b)),this.sheetProtection=p.sheetProtection,this.tables=p.tables.reduce((b,v)=>{const j=new h;return j.model=v,b[v.name]=j,b},{}),this.conditionalFormattings=p.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,s,l){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const i={Workbook:t("./doc/workbook")},o=t("./doc/enums");Object.keys(o).forEach(d=>{i[d]=o[d]}),s.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,s,l){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");l.bufferToString=function(o){return typeof o=="string"?o:i?i.decode(o):o.toString()}},{}],17:[function(t,s,l){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=t("buffer");l.stringToBuffer=function(d){return typeof d!="string"?d:i?o.from(i.encode(d).buffer):o.from(d)}},{buffer:220}],18:[function(t,s,l){const i=t("./under-dash"),o=t("./col-cache");s.exports=class{constructor(d){this.template=d,this.sheets={}}addCell(d){this.addCellEx(o.decodeEx(d))}getCell(d){return this.findCellEx(o.decodeEx(d),!0)}findCell(d){return this.findCellEx(o.decodeEx(d),!1)}findCellAt(d,c,a){const u=this.sheets[d],f=u&&u[c];return f&&f[a]}addCellEx(d){if(d.top)for(let c=d.top;c<=d.bottom;c++)for(let a=d.left;a<=d.right;a++)this.getCellAt(d.sheetName,c,a);else this.findCellEx(d,!0)}getCellEx(d){return this.findCellEx(d,!0)}findCellEx(d,c){const a=this.findSheet(d,c),u=this.findSheetRow(a,d,c);return this.findRowCell(u,d,c)}getCellAt(d,c,a){const u=this.sheets[d]||(this.sheets[d]=[]),f=u[c]||(u[c]=[]);return f[a]||(f[a]={sheetName:d,address:o.n2l(a)+c,row:c,col:a})}removeCellEx(d){const c=this.findSheet(d);if(!c)return;const a=this.findSheetRow(c,d);a&&delete a[d.col]}forEachInSheet(d,c){const a=this.sheets[d];a&&a.forEach((u,f)=>{u&&u.forEach((h,m)=>{h&&c(h,f,m)})})}forEach(d){i.each(this.sheets,(c,a)=>{this.forEachInSheet(a,d)})}map(d){const c=[];return this.forEach(a=>{c.push(d(a))}),c}findSheet(d,c){const a=d.sheetName;return this.sheets[a]?this.sheets[a]:c?this.sheets[a]=[]:void 0}findSheetRow(d,c,a){const{row:u}=c;return d&&d[u]?d[u]:a?d[u]=[]:void 0}findRowCell(d,c,a){const{col:u}=c;return d&&d[u]?d[u]:a?d[u]=this.template?Object.assign(c,JSON.parse(JSON.stringify(this.template))):c:void 0}spliceRows(d,c,a,u){const f=this.sheets[d];if(f){const h=[];for(let m=0;m<u;m++)h.push([]);f.splice(c,a,...h)}}spliceColumns(d,c,a,u){const f=this.sheets[d];if(f){const h=[];for(let m=0;m<u;m++)h.push(null);i.each(f,m=>{m.splice(c,a,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,s,l){const i=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:d=>d<=26?1:d<=676?2:3,_fill(d){let c,a,u,f,h,m=1;if(d>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&d>=1){for(;m<=26;)c=this._dictionary[m-1],this._n2l[m]=c,this._l2n[c]=m,m++;this._l2nFill=1}if(this._l2nFill<2&&d>=2){for(m=27;m<=702;)a=m-27,u=a%26,f=Math.floor(a/26),c=this._dictionary[f]+this._dictionary[u],this._n2l[m]=c,this._l2n[c]=m,m++;this._l2nFill=2}if(this._l2nFill<3&&d>=3){for(m=703;m<=16384;)a=m-703,u=a%26,f=Math.floor(a/26)%26,h=Math.floor(a/676),c=this._dictionary[h]+this._dictionary[f]+this._dictionary[u],this._n2l[m]=c,this._l2n[c]=m,m++;this._l2nFill=3}},l2n(d){if(this._l2n[d]||this._fill(d.length),!this._l2n[d])throw new Error("Out of bounds. Invalid column letter: "+d);return this._l2n[d]},n2l(d){if(d<1||d>16384)throw new Error(d+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[d]||this._fill(this._level(d)),this._n2l[d]},_hash:{},validateAddress(d){if(!i.test(d))throw new Error("Invalid Address: "+d);return!0},decodeAddress(d){const c=d.length<5&&this._hash[d];if(c)return c;let a=!1,u="",f=0,h=!1,m="",g=0;for(let p,b=0;b<d.length;b++)if(p=d.charCodeAt(b),!h&&p>=65&&p<=90)a=!0,u+=d[b],f=26*f+p-64;else if(p>=48&&p<=57)h=!0,m+=d[b],g=10*g+p-48;else if(h&&a&&p!==36)break;if(a){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else f=void 0;h||(g=void 0);const y={address:d=u+m,col:f,row:g,$col$row:`$${u}$${m}`};return f<=100&&g<=100&&(this._hash[d]=y,this._hash[y.$col$row]=y),y},getAddress(d,c){if(c){const a=this.n2l(c)+d;return this.decodeAddress(a)}return this.decodeAddress(d)},decode(d){const c=d.split(":");if(c.length===2){const a=this.decodeAddress(c[0]),u=this.decodeAddress(c[1]),f={top:Math.min(a.row,u.row),left:Math.min(a.col,u.col),bottom:Math.max(a.row,u.row),right:Math.max(a.col,u.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(d)},decodeEx(d){const c=d.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),a=c[1]||c[2],u=c[3],f=u.split(":");if(f.length>1){let m=this.decodeAddress(f[0]),g=this.decodeAddress(f[1]);const y=Math.min(m.row,g.row),p=Math.min(m.col,g.col),b=Math.max(m.row,g.row),v=Math.max(m.col,g.col);return m=this.n2l(p)+y,g=this.n2l(v)+b,{top:y,left:p,bottom:b,right:v,sheetName:a,tl:{address:m,col:p,row:y,$col$row:`$${this.n2l(p)}$${y}`,sheetName:a},br:{address:g,col:v,row:b,$col$row:`$${this.n2l(v)}$${b}`,sheetName:a},dimensions:`${m}:${g}`}}if(u.startsWith("#"))return a?{sheetName:a,error:u}:{error:u};const h=this.decodeAddress(u);return a?{sheetName:a,...h}:h},encodeAddress:(d,c)=>o.n2l(c)+d,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(d,c){const[a,u,,f,h]=d,[m,g]=c;return m>=a&&m<=f&&g>=u&&g<=h}};s.exports=o},{}],20:[function(t,s,l){const i=(d,c)=>({...d,...c.reduce((a,u)=>(d[u]&&(a[u]={...d[u]}),a),{})}),o=function(d,c,a){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];d[a]&&(c[a]=i(d[a],u))};l.copyStyle=d=>{if(!d)return d;if(c=d,Object.keys(c).length===0)return{};var c;const a={...d};return o(d,a,"font",["color"]),o(d,a,"alignment"),o(d,a,"protection"),d.border&&(o(d,a,"border"),o(d.border,a.border,"top",["color"]),o(d.border,a.border,"left",["color"]),o(d.border,a.border,"bottom",["color"]),o(d.border,a.border,"right",["color"]),o(d.border,a.border,"diagonal",["color"])),d.fill&&(o(d,a,"fill",["fgColor","bgColor","center"]),d.fill.stops&&(a.fill.stops=d.fill.stops.map(u=>i(u,["color"])))),a}},{}],21:[function(t,s,l){(function(i){(function(){const o=t("crypto"),d={hash(c){const a=o.createHash(c);for(var u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return a.update(i.concat(f)),a.digest()},convertPasswordToHash(c,a,u,f){if(a=a.toLowerCase(),o.getHashes().indexOf(a)<0)throw new Error(`Hash algorithm '${a}' not supported!`);const h=i.from(c,"utf16le");let m=this.hash(a,i.from(u,"base64"),h);for(let g=0;g<f;g++){const y=i.alloc(4);y.writeUInt32LE(g,0),m=this.hash(a,m,y)}return m.toString("base64")},randomBytes:c=>o.randomBytes(c)};s.exports=d}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,s,l){const{SaxesParser:i}=t("saxes"),{PassThrough:o}=t("readable-stream"),{bufferToString:d}=t("./browser-buffer-decode");s.exports=async function*(c){c.pipe&&!c[Symbol.asyncIterator]&&(c=c.pipe(new o));const a=new i;let u;a.on("error",h=>{u=h});let f=[];a.on("opentag",h=>f.push({eventType:"opentag",value:h})),a.on("text",h=>f.push({eventType:"text",value:h})),a.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of c){if(a.write(d(h)),u)throw u;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,s,l){const i=t("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,d=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;s.exports={slideFormula:function(c,a,u){const f=i.decode(a),h=i.decode(u);return c.replace(o,(m,g,y,p,b)=>{if(b)return m;const v=d.exec(p);if(v){const j=v[1],C=v[2].toUpperCase(),T=v[3],D=v[4];if(C.length>3||C.length===3&&C>"XFD")return m;let q=i.l2n(C),z=parseInt(D,10);return j||(q+=h.col-f.col),T||(z+=h.row-f.row),(g||"")+(j||"")+i.n2l(q)+(T||"")+z}return m})}}},{"./col-cache":19}],24:[function(t,s,l){(function(i,o){(function(){const d=t("readable-stream"),c=t("./utils"),a=t("./string-buf");class u{constructor(p,b){this._data=p,this._encoding=b}get length(){return this.toBuffer().length}copy(p,b,v,j){return this.toBuffer().copy(p,b,v,j)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class f{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,v,j){return this._data._buf.copy(p,b,v,j)}toBuffer(){return this._data.toBuffer()}}class h{constructor(p){this._data=p}get length(){return this._data.length}copy(p,b,v,j){this._data.copy(p,b,v,j)}toBuffer(){return this._data}}class m{constructor(p){this.size=p,this.buffer=o.alloc(p),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const p=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(p,0,this.iRead,this.iWrite),p}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(p){let b;return p===0?null:p===void 0||p>=this.length?(b=this.toBuffer(),this.iRead=this.iWrite,b):(b=o.alloc(p),this.buffer.copy(b,0,this.iRead,p),this.iRead+=p,b)}write(p,b,v){const j=Math.min(v,this.size-this.iWrite);return p.copy(this.buffer,this.iWrite,b,b+j),this.iWrite+=j,j}}const g=function(y){y=y||{},this.bufSize=y.bufSize||1048576,this.buffers=[],this.batch=y.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};c.inherits(g,d.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(y=>y.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const p=this.buffers[this.buffers.length-1];if(!p.full)return p}const y=new m(this.bufSize);return this.buffers.push(y),y},async _pipe(y){await Promise.all(this.pipes.map((function(p){return new Promise(b=>{p.write(y.toBuffer(),()=>{b()})})})))},_writeToBuffers(y){let p=0;const b=y.length;for(;p<b;)p+=this._getWritableBuffer().write(y,p,b-p)},async write(y,p,b){let v;if(p instanceof Function&&(b=p,p="utf8"),b=b||c.nop,y instanceof a)v=new f(y);else if(y instanceof o)v=new h(y);else{if(!(typeof y=="string"||y instanceof String||y instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");v=new u(y,p)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(v);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(v),i.nextTick(b)):(await this._pipe(v),b());else this.paused||this.emit("data",v.toBuffer()),this._writeToBuffers(v),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(y,p,b){const v=j=>{j?b(j):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};y?this.write(y,p,v):v()},read(y){let p;if(y){for(p=[];y&&this.buffers.length&&!this.buffers[0].eod;){const b=this.buffers[0],v=b.read(y);y-=v.length,p.push(v),b.eod&&b.full&&this.buffers.shift()}return o.concat(p)}return p=this.buffers.map(b=>b.toBuffer()).filter(Boolean),this.buffers=[],o.concat(p)},setEncoding(y){this.encoding=y},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(y){this.pipes.push(y),!this.paused&&this.buffers.length&&this.end()},unpipe(y){this.pipes=this.pipes.filter(p=>p!==y)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),s.exports=g}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,s,l){(function(i){(function(){s.exports=class{constructor(o){this._buf=i.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let d=2*this._buf.length;for(;d<o;)d*=2;const c=i.alloc(d);this._buf.copy(c,0),this._buf=c}addText(o){this._buffer=void 0;let d=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;d>=this._buf.length-4;)this._grow(this._inPos+o.length),d=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=d}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,s,l){const{toString:i}=Object.prototype,o=/["&<>]/,d={each:function(c,a){c&&(Array.isArray(c)?c.forEach(a):Object.keys(c).forEach(u=>{a(c[u],u)}))},some:function(c,a){return!!c&&(Array.isArray(c)?c.some(a):Object.keys(c).some(u=>a(c[u],u)))},every:function(c,a){return!c||(Array.isArray(c)?c.every(a):Object.keys(c).every(u=>a(c[u],u)))},map:function(c,a){return c?Array.isArray(c)?c.map(a):Object.keys(c).map(u=>a(c[u],u)):[]},keyBy:(c,a)=>c.reduce((u,f)=>(u[f[a]]=f,u),{}),isEqual:function(c,a){const u=typeof c,f=typeof a,h=Array.isArray(c),m=Array.isArray(a);let g;if(u!==f)return!1;switch(typeof c){case"object":if(h||m)return!(!h||!m)&&c.length===a.length&&c.every((y,p)=>{const b=a[p];return d.isEqual(y,b)});if(c===null||a===null)return c===a;if(g=Object.keys(c),Object.keys(a).length!==g.length)return!1;for(const y of g)if(!a.hasOwnProperty(y))return!1;return d.every(c,(y,p)=>{const b=a[p];return d.isEqual(y,b)});default:return c===a}},escapeHtml(c){const a=o.exec(c);if(!a)return c;let u="",f="",h=0,m=a.index;for(;m<c.length;m++){switch(c.charAt(m)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==m&&(u+=c.substring(h,m)),h=m+1,u+=f}return h!==m?u+c.substring(h,m):u},strcmp:(c,a)=>c<a?-1:c>a?1:0,isUndefined:c=>i.call(c)==="[object Undefined]",isObject:c=>i.call(c)==="[object Object]",deepMerge(){const c=arguments[0]||{},{length:a}=arguments;let u,f,h;function m(g,y){u=c[y],h=Array.isArray(g),d.isObject(g)||h?(h?(h=!1,f=u&&Array.isArray(u)?u:[]):f=u&&d.isObject(u)?u:{},c[y]=d.deepMerge(f,g)):d.isUndefined(g)||(c[y]=g)}for(let g=0;g<a;g++)d.each(arguments[g],m);return c}};s.exports=d},{}],27:[function(t,s,l){(function(i,o){(function(){const d=t("fs"),c=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,a={nop(){},promiseImmediate:u=>new Promise(f=>{i.setImmediate?o(()=>{f(u)}):setTimeout(()=>{f(u)},1)}),inherits:function(u,f,h,m){u.super_=f,m||(m=h,h=null),h&&Object.keys(h).forEach(y=>{Object.defineProperty(u,y,Object.getOwnPropertyDescriptor(h,y))});const g={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};m&&Object.keys(m).forEach(y=>{g[y]=Object.getOwnPropertyDescriptor(m,y)}),u.prototype=Object.create(f.prototype,g)},dateToExcel:(u,f)=>25569+u.getTime()/864e5-(f?1462:0),excelToDate(u,f){const h=Math.round(24*(u-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(u){const f=u.lastIndexOf("/");return{path:u.substring(0,f),name:u.substring(f+1)}},getRelsPath(u){const f=a.parsePath(u);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(u){const f=c.exec(u);if(!f)return u;let h="",m="",g=0,y=f.index;for(;y<u.length;y++){const p=u.charCodeAt(y);switch(p){case 34:m="&quot;";break;case 38:m="&amp;";break;case 39:m="&apos;";break;case 60:m="&lt;";break;case 62:m="&gt;";break;case 127:m="";break;default:if(p<=31&&(p<=8||p>=11&&p!==13)){m="";break}continue}g!==y&&(h+=u.substring(g,y)),g=y+1,m&&(h+=m)}return g!==y?h+u.substring(g,y):h},xmlDecode:u=>u.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(u){const f=parseInt(u,10);return Number.isNaN(f)?0:f},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(f=>{d.access(u,d.constants.F_OK,h=>{f(!h)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};s.exports=a}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,s,l){const i=t("./under-dash"),o=t("./utils");function d(u,f,h){u.push(` ${f}="${o.xmlEncode(h.toString())}"`)}function c(u,f){if(f){const h=[];i.each(f,(m,g)=>{m!==void 0&&d(h,g,m)}),u.push(h.join(""))}}class a{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),c(h,f),h.push(`?>
`)}openNode(f,h){const m=this.tos,g=this._xml;m&&this.open&&g.push(">"),this._stack.push(f),g.push("<"),g.push(f),c(g,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&d(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");c(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(o.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,m){this.openNode(f,h),m!==void 0&&this.writeText(m),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}a.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},s.exports=a},{"./under-dash":26,"./utils":27}],29:[function(t,s,l){(function(i){(function(){const o=t("events"),d=t("jszip"),c=t("./stream-buf"),{stringToBuffer:a}=t("./browser-buffer-encode");class u extends o.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new d,this.stream=new c}append(h,m){m.hasOwnProperty("base64")&&m.base64?this.zip.file(m.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=a(h)),this.zip.file(m.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,m){return this.stream.pipe(h,m)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}s.exports={ZipWriter:u}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,s,l){s.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,s,l){s.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,s,l){const i=t("../../utils/parse-sax"),o=t("../../utils/xml-stream");class d{prepare(){}render(){}parseOpen(a){}parseText(a){}parseClose(a){}reconcile(a,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(a=>{a instanceof d?a.reset():a.xform&&a.xform.reset()})}mergeModel(a){this.model=Object.assign(this.model||{},a)}async parse(a){for await(const u of a)for(const{eventType:f,value:h}of u)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(a){return this.parse(i(a))}get xml(){return this.toXml(this.model)}toXml(a){const u=new o;return this.render(u,a),u.xml}static toAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(f)return u}else if(f||a!==u)return a.toString()}static toStringAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return d.toAttribute(a,u,f)}static toStringValue(a,u){return a===void 0?u:a}static toBoolAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(a===void 0){if(f)return u}else if(f||a!==u)return a?"1":"0"}static toBoolValue(a,u){return a===void 0?u:a==="1"}static toIntAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return d.toAttribute(a,u,f)}static toIntValue(a,u){return a===void 0?u:parseInt(a,10)}static toFloatAttribute(a,u){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return d.toAttribute(a,u,f)}static toFloatValue(a,u){return a===void 0?u:parseFloat(a)}}s.exports=d},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,s,l){const i=t("../base-xform"),o=t("../../../utils/col-cache");function d(a){try{return o.decodeEx(a),!0}catch{return!1}}function c(a){const u=[];let f=!1,h="";return a.split(",").forEach(m=>{if(!m)return;const g=(m.match(/'/g)||[]).length;if(!g)return void(f?h+=m+",":d(m)&&u.push(m));const y=g%2==0;!f&&y&&d(m)?u.push(m):f&&!y?(f=!1,d(h+m)&&u.push(h+m),h=""):(f=!0,h+=m+",")}),u}s.exports=class extends i{render(a,u){a.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),a.writeText(u.ranges.join(",")),a.closeNode()}parseOpen(a){return a.name==="definedName"?(this._parsedName=a.attributes.name,this._parsedLocalSheetId=a.attributes.localSheetId,this._parsedText=[],!0):!1}parseText(a){this._parsedText.push(a)}parseClose(){return this.model={name:this._parsedName,ranges:c(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,s,l){const i=t("../../../utils/utils"),o=t("../base-xform");s.exports=class extends o{render(d,c){d.leafNode("sheet",{sheetId:c.id,name:c.name,state:c.state,"r:id":c.rId})}parseOpen(d){return d.name==="sheet"&&(this.model={name:i.xmlDecode(d.attributes.name),id:parseInt(d.attributes.sheetId,10),state:d.attributes.state,rId:d.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{render(o,d){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:d.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{render(o,d){o.leafNode("workbookPr",{date1904:d.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{render(o,d){const c={xWindow:d.x||0,yWindow:d.y||0,windowWidth:d.width||12e3,windowHeight:d.height||24e3,firstSheet:d.firstSheet,activeTab:d.activeTab};d.visibility&&d.visibility!=="visible"&&(c.visibility=d.visibility),o.leafNode("workbookView",c)}parseOpen(o){if(o.name==="workbookView"){const d=this.model={},c=function(u,f,h){const m=f!==void 0?d[u]=f:h;m!==void 0&&(d[u]=m)},a=function(u,f,h){const m=f!==void 0?d[u]=parseInt(f,10):h;m!==void 0&&(d[u]=m)};return a("x",o.attributes.xWindow,0),a("y",o.attributes.yWindow,0),a("width",o.attributes.windowWidth,25e3),a("height",o.attributes.windowHeight,1e4),c("visibility",o.attributes.visibility,"visible"),a("activeTab",o.attributes.activeTab,void 0),a("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../../../utils/col-cache"),d=t("../../../utils/xml-stream"),c=t("../base-xform"),a=t("../static-xform"),u=t("../list-xform"),f=t("./defined-name-xform"),h=t("./sheet-xform"),m=t("./workbook-view-xform"),g=t("./workbook-properties-xform"),y=t("./workbook-calc-properties-xform");class p extends c{constructor(){super(),this.map={fileVersion:p.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new u({tag:"bookViews",count:!1,childXform:new m}),sheets:new u({tag:"sheets",count:!1,childXform:new h}),definedNames:new u({tag:"definedNames",count:!1,childXform:new f}),calcPr:new y}}prepare(v){v.sheets=v.worksheets;const j=[];let C=0;v.sheets.forEach(T=>{if(T.pageSetup&&T.pageSetup.printArea&&T.pageSetup.printArea.split("&&").forEach(D=>{const q=D.split(":"),z={name:"_xlnm.Print_Area",ranges:[`'${T.name}'!$${q[0]}:$${q[1]}`],localSheetId:C};j.push(z)}),T.pageSetup&&(T.pageSetup.printTitlesRow||T.pageSetup.printTitlesColumn)){const D=[];if(T.pageSetup.printTitlesColumn){const z=T.pageSetup.printTitlesColumn.split(":");D.push(`'${T.name}'!$${z[0]}:$${z[1]}`)}if(T.pageSetup.printTitlesRow){const z=T.pageSetup.printTitlesRow.split(":");D.push(`'${T.name}'!$${z[0]}:$${z[1]}`)}const q={name:"_xlnm.Print_Titles",ranges:D,localSheetId:C};j.push(q)}C++}),j.length&&(v.definedNames=v.definedNames.concat(j)),(v.media||[]).forEach((T,D)=>{T.name=T.type+(D+1)})}render(v,j){v.openXml(d.StdDocAttributes),v.openNode("workbook",p.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(v),this.map.workbookPr.render(v,j.properties),this.map.bookViews.render(v,j.views),this.map.sheets.render(v,j.sheets),this.map.definedNames.render(v,j.definedNames),this.map.calcPr.render(v,j.calcProperties),v.closeNode()}parseOpen(v){return this.parser?(this.parser.parseOpen(v),!0):(v.name==="workbook"||(this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v)),!0)}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){return this.parser?(this.parser.parseClose(v)||(this.parser=void 0),!0):v==="workbook"?(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1):!0}reconcile(v){const j=(v.workbookRels||[]).reduce((z,B)=>(z[B.Id]=B,z),{}),C=[];let T,D=0;(v.sheets||[]).forEach(z=>{const B=j[z.rId];B&&(T=v.worksheetHash["xl/"+B.Target.replace(/^(\s|\/xl\/)+/,"")],T&&(T.name=z.name,T.id=z.id,T.state=z.state,C[D++]=T))});const q=[];i.each(v.definedNames,z=>{if(z.name==="_xlnm.Print_Area"){if(T=C[z.localSheetId],T){T.pageSetup||(T.pageSetup={});const B=o.decodeEx(z.ranges[0]);T.pageSetup.printArea=T.pageSetup.printArea?`${T.pageSetup.printArea}&&${B.dimensions}`:B.dimensions}}else if(z.name==="_xlnm.Print_Titles"){if(T=C[z.localSheetId],T){T.pageSetup||(T.pageSetup={});const B=z.ranges.join(","),V=/\$/g,X=/\$\d+:\$\d+/,W=B.match(X);if(W&&W.length){const E=W[0];T.pageSetup.printTitlesRow=E.replace(V,"")}const P=/\$[A-Z]+:\$[A-Z]+/,M=B.match(P);if(M&&M.length){const E=M[0];T.pageSetup.printTitlesColumn=E.replace(V,"")}}}else q.push(z)}),v.definedNames=q,v.media.forEach((z,B)=>{z.index=B})}}p.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},p.STATIC_XFORMS={fileVersion:new a({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},s.exports=p},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,s,l){const i=t("../strings/rich-text-xform"),o=t("../../../utils/utils"),d=t("../base-xform"),c=s.exports=function(a){this.model=a};o.inherits(c,d,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(a,u){u=u||this.model,a.openNode("comment",{ref:u.ref,authorId:0}),a.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(f=>{this.richTextXform.render(a,f)}),a.closeNode(),a.closeNode()},parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"comment":return this.model={type:"note",note:{texts:[]},...a.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(a),!0;default:return!1}},parseText(a){this.parser&&this.parser.parseText(a)},parseClose(a){switch(a){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(a),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../../../utils/utils"),d=t("../base-xform"),c=t("./comment-xform"),a=s.exports=function(){this.map={comment:new c}};o.inherits(a,d,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,f){f=f||this.model,u.openXml(i.StdDocAttributes),u.openNode("comments",a.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(u,h)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,s,l){const i=t("../../base-xform");s.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,d,c){(d===c[2]||this.tag==="x:SizeWithCells"&&d===c[1])&&o.leafNode(this.tag)}parseOpen(o){return o.name===this.tag?(this.model={},this.model[this.tag]=!0,!0):!1}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,s,l){const i=t("../../base-xform");s.exports=class extends i{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,d){o.leafNode(this.tag,null,d)}parseOpen(o){return o.name===this.tag?(this.text="",!0):!1}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(o){const d=Math.floor(o.left),c=Math.floor(68*(o.left-d)),a=Math.floor(o.top),u=Math.floor(18*(o.top-a)),f=Math.floor(o.right),h=Math.floor(68*(o.right-f)),m=Math.floor(o.bottom);return[d,c,a,u,f,h,m,Math.floor(18*(o.bottom-m))]}getDefaultRect(o){const d=o.col,c=Math.max(o.row-2,0);return[d,6,c,14,d+2,2,c+4,16]}render(o,d){const c=d.anchor?this.getAnchorRect(d.anchor):this.getDefaultRect(d.refAddress);o.leafNode("x:Anchor",null,c.join(", "))}parseOpen(o){return o.name===this.tag?(this.text="",!0):!1}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,s,l){const i=t("../base-xform"),o=t("./vml-anchor-xform"),d=t("./style/vml-protection-xform"),c=t("./style/vml-position-xform"),a=["twoCells","oneCells","absolute"];s.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new d({tag:"x:Locked"}),"x:LockText":new d({tag:"x:LockText"}),"x:SizeWithCells":new c({tag:"x:SizeWithCells"}),"x:MoveWithCells":new c({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,f){const{protection:h,editAs:m}=f.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,m,a),this.map["x:SizeWithCells"].render(u,m,a),this.map["x:Anchor"].render(u,f),this.map["x:Locked"].render(u,h.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,h.lockText),u.leafNode("x:Row",null,f.refAddress.row-1),u.leafNode("x:Column",null,f.refAddress.col-1),u.closeNode()}parseOpen(u){return u.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.normalizeModel(),!1):!0}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(u).length;this.model.editAs=a[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),d=t("./vml-shape-xform");class c extends o{constructor(){super(),this.map={"v:shape":new d}}get tag(){return"xml"}render(u,f){u.openXml(i.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),f.comments.forEach((h,m)=>{this.map["v:shape"].render(u,h,m)}),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):u!==this.tag}reconcile(u,f){u.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}c.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,s,l){const i=t("../base-xform"),o=t("./vml-textbox-xform"),d=t("./vml-client-data-xform");class c extends i{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new d}}get tag(){return"v:shape"}render(u,f,h){u.openNode("v:shape",c.V_SHAPE_ATTRIBUTES(f,h)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,f),this.map["x:ClientData"].render(u,f),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?(this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1):!0}}c.V_SHAPE_ATTRIBUTES=(a,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":a.note.margins&&a.note.margins.insetmode}),s.exports=c},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(o,d,c){return`${parseFloat(o)*d.toFixed(2)}${c}`}reverseConversionUnit(o){return(o||"").split(",").map(d=>Number(parseFloat(this.conversionUnit(parseFloat(d),.1,"")).toFixed(2)))}render(o,d){const c={style:"mso-direction-alt:auto"};if(d&&d.note){let{inset:a}=d.note&&d.note.margins;Array.isArray(a)&&(a=a.map(u=>this.conversionUnit(u,10,"mm")).join(",")),a&&(c.inset=a)}o.openNode("v:textbox",c),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={inset:this.reverseConversionUnit(o.attributes.inset)}),!0}parseText(){}parseClose(o){return o!==this.tag}}},{"../base-xform":32}],48:[function(t,s,l){const i=t("./base-xform");s.exports=class extends i{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,d){this.model[o]=d.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{render(o,d){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,d.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{render(o,d){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:d.length,baseType:"lpstr"}),d.forEach(c=>{o.leafNode("vt:lpstr",void 0,c.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),d=t("../simple/string-xform"),c=t("./app-heading-pairs-xform"),a=t("./app-titles-of-parts-xform");class u extends o{constructor(){super(),this.map={Company:new d({tag:"Company"}),Manager:new d({tag:"Manager"}),HeadingPairs:new c,TitleOfParts:new a}}render(h,m){h.openXml(i.StdDocAttributes),h.openNode("Properties",u.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,m.worksheets),this.map.TitleOfParts.render(h,m.worksheets),this.map.Company.render(h,m.company||""),this.map.Manager.render(h,m.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):h.name==="Properties"?!0:(this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0))}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h==="Properties"?(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1):!0}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../base-xform");class d extends o{render(a,u){a.openXml(i.StdDocAttributes),a.openNode("Types",d.PROPERTY_ATTRIBUTES);const f={};(u.media||[]).forEach(h=>{if(h.type==="image"){const m=h.extension;f[m]||(f[m]=!0,a.leafNode("Default",{Extension:m,ContentType:"image/"+m}))}}),a.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),a.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),a.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(h=>{const m=`/xl/worksheets/sheet${h.id}.xml`;a.leafNode("Override",{PartName:m,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),a.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),a.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&a.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(h=>{a.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(h=>{a.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(a.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(h=>{let{commentName:m}=h;a.leafNode("Override",{PartName:`/xl/${m}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),a.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),a.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),a.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}d.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},s.exports=d},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),d=t("../simple/date-xform"),c=t("../simple/string-xform"),a=t("../simple/integer-xform");class u extends o{constructor(){super(),this.map={"dc:creator":new c({tag:"dc:creator"}),"dc:title":new c({tag:"dc:title"}),"dc:subject":new c({tag:"dc:subject"}),"dc:description":new c({tag:"dc:description"}),"dc:identifier":new c({tag:"dc:identifier"}),"dc:language":new c({tag:"dc:language"}),"cp:keywords":new c({tag:"cp:keywords"}),"cp:category":new c({tag:"cp:category"}),"cp:lastModifiedBy":new c({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new d({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new a({tag:"cp:revision"}),"cp:version":new c({tag:"cp:version"}),"cp:contentStatus":new c({tag:"cp:contentStatus"}),"cp:contentType":new c({tag:"cp:contentType"}),"dcterms:created":new d({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new d({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(h,m){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,m.creator),this.map["dc:title"].render(h,m.title),this.map["dc:subject"].render(h,m.subject),this.map["dc:description"].render(h,m.description),this.map["dc:identifier"].render(h,m.identifier),this.map["dc:language"].render(h,m.language),this.map["cp:keywords"].render(h,m.keywords),this.map["cp:category"].render(h,m.category),this.map["cp:lastModifiedBy"].render(h,m.lastModifiedBy),this.map["cp:lastPrinted"].render(h,m.lastPrinted),this.map["cp:revision"].render(h,m.revision),this.map["cp:version"].render(h,m.version),this.map["cp:contentStatus"].render(h,m.contentStatus),this.map["cp:contentType"].render(h,m.contentType),this.map["dcterms:created"].render(h,m.created),this.map["dcterms:modified"].render(h,m.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}u.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},s.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{render(o,d){o.leafNode("Relationship",d)}parseOpen(o){return o.name==="Relationship"?(this.model=o.attributes,!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),d=t("./relationship-xform");class c extends o{constructor(){super(),this.map={Relationship:new d}}render(u,f){f=f||this._values,u.openXml(i.StdDocAttributes),u.openNode("Relationships",c.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;if(u==="Relationships")return!1;throw new Error("Unexpected xml node in parseClose: "+u)}}c.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},s.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):(o.name===this.tag?(this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}}):(this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)),!0)}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,d){if(o&&o.rId){const c=d.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(c){const a=c[1],u=d.mediaIndex[a];return d.media[u]}}}}},{"../base-xform":32}],57:[function(t,s,l){const i=t("../base-xform"),o=t("./blip-xform");s.exports=class extends i{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(d,c){d.openNode(this.tag),this.map["a:blip"].render(d,c),d.openNode("a:stretch"),d.leafNode("a:fillRect"),d.closeNode(),d.closeNode()}parseOpen(d){return this.parser?(this.parser.parseOpen(d),!0):(d.name===this.tag?this.reset():(this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)),!0)}parseText(){}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d===this.tag?(this.model=this.map["a:blip"].model,!1):!0}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"a:blip"}render(o,d){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":d.rId,cstate:"print"})}parseOpen(o){return o.name===this.tag&&(this.model={rId:o.attributes["r:embed"]}),!0}parseText(){}parseClose(o){return o!==this.tag}}},{"../base-xform":32}],59:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){return o!==this.tag}}},{"../base-xform":32}],60:[function(t,s,l){const i=t("../base-xform"),o=t("./hlink-click-xform"),d=t("./ext-lst-xform");s.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new d}}get tag(){return"xdr:cNvPr"}render(c,a){c.openNode(this.tag,{id:a.index,name:"Picture "+a.index}),this.map["a:hlinkClick"].render(c,a),this.map["a:extLst"].render(c,a),c.closeNode()}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):(c.name===this.tag?this.reset():(this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)),!0)}parseText(){}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):c===this.tag?(this.model=this.map["a:hlinkClick"].model,!1):!0}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,s,l){const i=t("../base-xform"),o=t("../simple/integer-xform");s.exports=class extends i{constructor(d){super(),this.tag=d.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(d,c){d.openNode(this.tag),this.map["xdr:col"].render(d,c.nativeCol),this.map["xdr:colOff"].render(d,c.nativeColOff),this.map["xdr:row"].render(d,c.nativeRow),this.map["xdr:rowOff"].render(d,c.nativeRowOff),d.closeNode()}parseOpen(d){return this.parser?(this.parser.parseOpen(d),!0):(d.name===this.tag?this.reset():(this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)),!0)}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d===this.tag?(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1):!0}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,s,l){const i=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),d=t("../base-xform"),c=t("./two-cell-anchor-xform"),a=t("./one-cell-anchor-xform");class u extends d{constructor(){super(),this.map={"xdr:twoCellAnchor":new c,"xdr:oneCellAnchor":new a}}prepare(h){h.anchors.forEach((m,g)=>{m.anchorType=(function(y){return(typeof y.range=="string"?i.decode(y.range):y.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(m),this.map[m.anchorType].prepare(m,{index:g})})}get tag(){return"xdr:wsDr"}render(h,m){h.openXml(o.StdDocAttributes),h.openNode(this.tag,u.DRAWING_ATTRIBUTES),m.anchors.forEach(g=>{this.map[g.anchorType].render(h,g)}),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):(h.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)),!0)}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):h!==this.tag}reconcile(h,m){h.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,m):this.map["xdr:oneCellAnchor"].reconcile(g,m)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},s.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){return o!==this.tag}}},{"../base-xform":32}],64:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,d){o.openNode(this.tag);const c=Math.floor(9525*d.width),a=Math.floor(9525*d.height);o.addAttribute("cx",c),o.addAttribute("cy",a),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"a:hlinkClick"}render(o,d){d.hyperlinks&&d.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":d.hyperlinks.rId,tooltip:d.hyperlinks.tooltip})}parseOpen(o){return o.name===this.tag&&(this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}}),!0}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,s,l){const i=t("../base-xform"),o=t("./c-nv-pr-xform"),d=t("./c-nv-pic-pr-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new d}}get tag(){return"xdr:nvPicPr"}render(c,a){c.openNode(this.tag),this.map["xdr:cNvPr"].render(c,a),this.map["xdr:cNvPicPr"].render(c,a),c.closeNode()}parseOpen(c){return this.parser?(this.parser.parseOpen(c),!0):(c.name===this.tag?this.reset():(this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)),!0)}parseText(){}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):c===this.tag?(this.model=this.map["xdr:cNvPr"].model,!1):!0}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,s,l){const i=t("./base-cell-anchor-xform"),o=t("../static-xform"),d=t("./cell-position-xform"),c=t("./ext-xform"),a=t("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new d({tag:"xdr:from"}),"xdr:ext":new c({tag:"xdr:ext"}),"xdr:pic":new a,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,f){this.map["xdr:pic"].prepare(u.picture,f)}render(u,f){u.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,f.range.tl),this.map["xdr:ext"].render(u,f.range.ext),this.map["xdr:pic"].render(u,f.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(u,f){u.medium=this.reconcilePicture(u.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,s,l){const i=t("../base-xform"),o=t("../static-xform"),d=t("./blip-fill-xform"),c=t("./nv-pic-pr-xform"),a=t("./sp-pr");s.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new c,"xdr:blipFill":new d,"xdr:spPr":new o(a)}}get tag(){return"xdr:pic"}prepare(u,f){u.index=f.index+1}render(u,f){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,f),this.map["xdr:blipFill"].render(u,f),this.map["xdr:spPr"].render(u,f),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?this.reset():(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(){}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):u!==this.tag}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,s,l){s.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,s,l){const i=t("./base-cell-anchor-xform"),o=t("../static-xform"),d=t("./cell-position-xform"),c=t("./pic-xform");s.exports=class extends i{constructor(){super(),this.map={"xdr:from":new d({tag:"xdr:from"}),"xdr:to":new d({tag:"xdr:to"}),"xdr:pic":new c,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(a,u){this.map["xdr:pic"].prepare(a.picture,u)}render(a,u){a.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(a,u.range.tl),this.map["xdr:to"].render(a,u.range.br),this.map["xdr:pic"].render(a,u.picture),this.map["xdr:clientData"].render(a,{}),a.closeNode()}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(a,u){a.medium=this.reconcilePicture(a.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,s,l){const i=t("./base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,d){const{childXform:c}=this;o&&o.forEach((a,u)=>{d.index=u,c.prepare(a,d)})}render(o,d){if(this.always||d&&d.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,d&&d.length||0);const{childXform:c}=this;(d||[]).forEach((a,u)=>{c.render(o,a,u)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,d){if(o){const{childXform:c}=this;o.forEach(a=>{c.reconcile(a,d)})}}}},{"./base-xform":32}],72:[function(t,s,l){const i=t("../../../utils/col-cache"),o=t("../base-xform");s.exports=class extends o{get tag(){return"autoFilter"}render(d,c){if(c)if(typeof c=="string")d.leafNode("autoFilter",{ref:c});else{const a=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},u=a(c.from),f=a(c.to);u&&f&&d.leafNode("autoFilter",{ref:`${u}:${f}`})}}parseOpen(d){d.name==="autoFilter"&&(this.model=d.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,s,l){const i=t("../../../utils/utils"),o=t("../base-xform"),d=t("../../../doc/range"),c=t("../../../doc/enums"),a=t("../strings/rich-text-xform");function u(f){if(f==null)return c.ValueType.Null;if(f instanceof String||typeof f=="string")return c.ValueType.String;if(typeof f=="number")return c.ValueType.Number;if(typeof f=="boolean")return c.ValueType.Boolean;if(f instanceof Date)return c.ValueType.Date;if(f.text&&f.hyperlink)return c.ValueType.Hyperlink;if(f.formula)return c.ValueType.Formula;if(f.error)return c.ValueType.Error;throw new Error("I could not understand type of value")}s.exports=class extends o{constructor(){super(),this.richTextXForm=new a}get tag(){return"c"}prepare(f,h){const m=h.styles.addStyleModel(f.style||{},(function(g){return g.type===c.ValueType.Formula?u(g.result):g.type})(f));switch(m&&(f.styleId=m),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case c.ValueType.String:case c.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case c.ValueType.Date:h.date1904&&(f.date1904=!0);break;case c.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case c.ValueType.Merge:h.merges.add(f);break;case c.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const g=h.formulae[f.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);g.si===void 0?(g.shareType="shared",g.si=h.siFormulae++,g.range=new d(g.address,f.address)):g.range&&g.range.expandToAddress(f.address),f.si=g.si}}}renderFormula(f,h){let m=null;switch(h.shareType){case"shared":m={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":m={t:"array",ref:h.ref};break;default:h.si!==void 0&&(m={t:"shared",si:h.si})}switch(u(h.result)){case c.ValueType.Null:f.leafNode("f",m,h.formula);break;case c.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result);break;case c.ValueType.Number:f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result);break;case c.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result?1:0);break;case c.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",m,h.formula),f.leafNode("v",null,h.result.error);break;case c.ValueType.Date:f.leafNode("f",m,h.formula),f.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==c.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case c.ValueType.Null:break;case c.ValueType.Number:f.leafNode("v",null,h.value);break;case c.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case c.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case c.ValueType.String:case c.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(m=>{this.richTextXForm.render(f,m)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case c.ValueType.Date:f.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case c.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case c.ValueType.Formula:this.renderFormula(f,h);break;case c.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=c.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=c.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=c.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=c.ValueType.String;break;case"b":h.type=c.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=c.ValueType.Error,h.value={error:h.value};break;default:h.type=c.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=c.ValueType.Null:h.type=c.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const m=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(m&&(f.style=m),f.styleId!==void 0&&(f.styleId=void 0),f.type){case c.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=c.ValueType.RichText);break;case c.ValueType.Number:m&&i.isDateFmt(m.numFmt)&&(f.type=c.ValueType.Date,f.value=i.excelToDate(f.value,h.date1904));break;case c.ValueType.Formula:f.result!==void 0&&m&&i.isDateFmt(m.numFmt)&&(f.result=i.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const g=h.hyperlinkMap[f.address];g&&(f.type===c.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=c.ValueType.Hyperlink,f.hyperlink=g);const y=h.commentsMap&&h.commentsMap[f.address];y&&(f.comment=y)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,s,l){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"x14:cfIcon"}render(o,d){o.leafNode(this.tag,{iconSet:d.iconSet,iconId:d.iconId})}parseOpen(o){let{attributes:d}=o;this.model={iconSet:d.iconSet,iconId:i.toIntValue(d.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(t,s,l){const{v4:i}=t("uuid"),o=t("../../base-xform"),d=t("../../composite-xform"),c=t("./databar-ext-xform"),a=t("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends d{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new c,"x14:iconSet":this.iconSetXform=new a}}get tag(){return"x14:cfRule"}static isExt(m){return m.type==="dataBar"?c.isExt(m):!(m.type!=="iconSet"||!m.custom&&!u[m.iconSet])}prepare(m){f.isExt(m)&&(m.x14Id=`{${i()}}`.toUpperCase())}render(m,g){if(f.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(m,g);break;case"iconSet":this.renderIconSet(m,g)}}renderDataBar(m,g){m.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(m,g),m.closeNode()}renderIconSet(m,g){m.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${i()}}`}),this.iconSetXform.render(m,g),m.closeNode()}createNewModel(m){let{attributes:g}=m;return{type:g.type,x14Id:g.id,priority:o.toIntValue(g.priority)}}onParserClose(m,g){Object.assign(this.model,g.model)}}s.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,s,l){const i=t("../../composite-xform"),o=t("./f-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(d,c){d.openNode(this.tag,{type:c.type}),c.value!==void 0&&this.fExtXform.render(d,c.value),d.closeNode()}createNewModel(d){return{type:d.attributes.type}}onParserClose(d,c){d==="xm:f"&&(this.model.value=c.model?parseFloat(c.model):0)}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,s,l){const i=t("../../composite-xform"),o=t("./sqref-ext-xform"),d=t("./cf-rule-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new d}}get tag(){return"x14:conditionalFormatting"}prepare(c,a){c.rules.forEach(u=>{this.cfRule.prepare(u,a)})}render(c,a){a.rules.some(d.isExt)&&(c.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),a.rules.filter(d.isExt).forEach(u=>this.cfRule.render(c,u)),this.sqRef.render(c,a.ref),c.closeNode())}createNewModel(){return{rules:[]}}onParserClose(c,a){switch(c){case"xm:sqref":this.model.ref=a.model;break;case"x14:cfRule":this.model.rules.push(a.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,s,l){const i=t("../../composite-xform"),o=t("./cf-rule-ext-xform"),d=t("./conditional-formatting-ext-xform");s.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new d}}get tag(){return"x14:conditionalFormattings"}hasContent(c){return c.hasExtContent===void 0&&(c.hasExtContent=c.some(a=>a.rules.some(o.isExt))),c.hasExtContent}prepare(c,a){c.forEach(u=>{this.cfXform.prepare(u,a)})}render(c,a){this.hasContent(a)&&(c.openNode(this.tag),a.forEach(u=>this.cfXform.render(c,u)),c.closeNode())}createNewModel(){return[]}onParserClose(c,a){this.model.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,s,l){const i=t("../../base-xform"),o=t("../../composite-xform"),d=t("../../style/color-xform"),c=t("./cfvo-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new c,"x14:borderColor":this.borderColorXform=new d("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new d("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new d("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new d("x14:axisColor")}}static isExt(a){return!a.gradient}get tag(){return"x14:dataBar"}render(a,u){a.openNode(this.tag,{minLength:i.toIntAttribute(u.minLength,0,!0),maxLength:i.toIntAttribute(u.maxLength,100,!0),border:i.toBoolAttribute(u.border,!1),gradient:i.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(u.axisPosition,"auto"),direction:i.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(f=>{this.cfvoXform.render(a,f)}),this.borderColorXform.render(a,u.borderColor),this.negativeBorderColorXform.render(a,u.negativeBorderColor),this.negativeFillColorXform.render(a,u.negativeFillColor),this.axisColorXform.render(a,u.axisColor),a.closeNode()}createNewModel(a){let{attributes:u}=a;return{cfvo:[],minLength:i.toIntValue(u.minLength,0),maxLength:i.toIntValue(u.maxLength,100),border:i.toBoolValue(u.border,!1),gradient:i.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(u.axisPosition,"auto"),direction:i.toStringValue(u.direction,"leftToRight")}}onParserClose(a,u){const[,f]=a.split(":");f==="cfvo"?this.model.cfvo.push(u.model):this.model[f]=u.model}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,s,l){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"xm:f"}render(o,d){o.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(t,s,l){const i=t("../../base-xform"),o=t("../../composite-xform"),d=t("./cfvo-ext-xform"),c=t("./cf-icon-ext-xform");s.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new d,"x14:cfIcon":this.cfIconXform=new c}}get tag(){return"x14:iconSet"}render(a,u){a.openNode(this.tag,{iconSet:i.toStringAttribute(u.iconSet),reverse:i.toBoolAttribute(u.reverse,!1),showValue:i.toBoolAttribute(u.showValue,!0),custom:i.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(f=>{this.cfvoXform.render(a,f)}),u.icons&&u.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(a,f)}),a.closeNode()}createNewModel(a){let{attributes:u}=a;return{cfvo:[],iconSet:i.toStringValue(u.iconSet,"3TrafficLights"),reverse:i.toBoolValue(u.reverse,!1),showValue:i.toBoolValue(u.showValue,!0)}}onParserClose(a,u){const[,f]=a.split(":");switch(f){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[f]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,s,l){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"xm:sqref"}render(o,d){o.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(t,s,l){const i=t("../../base-xform"),o=t("../../composite-xform"),d=t("../../../../doc/range"),c=t("./databar-xform"),a=t("./ext-lst-ref-xform"),u=t("./formula-xform"),f=t("./color-scale-xform"),h=t("./icon-set-xform"),m={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=p=>{const{type:b,operator:v}=p;switch(b){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:b};default:return{type:b,operator:v}}};class y extends o{constructor(){super(),this.map={dataBar:this.databarXform=new c,extLst:this.extLstRefXform=new a,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(b){return b.type!=="iconSet"||!b.custom&&!m[b.iconSet]}render(b,v){switch(v.type){case"expression":this.renderExpression(b,v);break;case"cellIs":this.renderCellIs(b,v);break;case"top10":this.renderTop10(b,v);break;case"aboveAverage":this.renderAboveAverage(b,v);break;case"dataBar":this.renderDataBar(b,v);break;case"colorScale":this.renderColorScale(b,v);break;case"iconSet":this.renderIconSet(b,v);break;case"containsText":this.renderText(b,v);break;case"timePeriod":this.renderTimePeriod(b,v)}}renderExpression(b,v){b.openNode(this.tag,{type:"expression",dxfId:v.dxfId,priority:v.priority}),this.formulaXform.render(b,v.formulae[0]),b.closeNode()}renderCellIs(b,v){b.openNode(this.tag,{type:"cellIs",dxfId:v.dxfId,priority:v.priority,operator:v.operator}),v.formulae.forEach(j=>{this.formulaXform.render(b,j)}),b.closeNode()}renderTop10(b,v){b.leafNode(this.tag,{type:"top10",dxfId:v.dxfId,priority:v.priority,percent:i.toBoolAttribute(v.percent,!1),bottom:i.toBoolAttribute(v.bottom,!1),rank:i.toIntValue(v.rank,10,!0)})}renderAboveAverage(b,v){b.leafNode(this.tag,{type:"aboveAverage",dxfId:v.dxfId,priority:v.priority,aboveAverage:i.toBoolAttribute(v.aboveAverage,!0)})}renderDataBar(b,v){b.openNode(this.tag,{type:"dataBar",priority:v.priority}),this.databarXform.render(b,v),this.extLstRefXform.render(b,v),b.closeNode()}renderColorScale(b,v){b.openNode(this.tag,{type:"colorScale",priority:v.priority}),this.colorScaleXform.render(b,v),b.closeNode()}renderIconSet(b,v){y.isPrimitive(v)&&(b.openNode(this.tag,{type:"iconSet",priority:v.priority}),this.iconSetXform.render(b,v),b.closeNode())}renderText(b,v){b.openNode(this.tag,{type:v.operator,dxfId:v.dxfId,priority:v.priority,operator:i.toStringAttribute(v.operator,"containsText")});const j=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const T=new d(C.ref),{tl:D}=T;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${D})))`;case"containsBlanks":return`LEN(TRIM(${D}))=0`;case"notContainsBlanks":return`LEN(TRIM(${D}))>0`;case"containsErrors":return`ISERROR(${D})`;case"notContainsErrors":return`NOT(ISERROR(${D}))`;default:return}})(v);j&&this.formulaXform.render(b,j),b.closeNode()}renderTimePeriod(b,v){b.openNode(this.tag,{type:"timePeriod",dxfId:v.dxfId,priority:v.priority,timePeriod:v.timePeriod});const j=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const T=new d(C.ref),{tl:D}=T;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${D},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${D},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${D},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${D},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${D},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${D},1)=TODAY()-1`;case"today":return`FLOOR(${D},1)=TODAY()`;case"tomorrow":return`FLOOR(${D},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${D},1)<=6,FLOOR(${D},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0-1)),YEAR(${D})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${D})=MONTH(TODAY()),YEAR(${D})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${D})=MONTH(EDATE(TODAY(),0+1)),YEAR(${D})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(v);j&&this.formulaXform.render(b,j),b.closeNode()}createNewModel(b){let{attributes:v}=b;return{...g(v),dxfId:i.toIntValue(v.dxfId),priority:i.toIntValue(v.priority),timePeriod:v.timePeriod,percent:i.toBoolValue(v.percent),bottom:i.toBoolValue(v.bottom),rank:i.toIntValue(v.rank),aboveAverage:i.toBoolValue(v.aboveAverage)}}onParserClose(b,v){switch(b){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,v.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(v.model)}}}s.exports=y},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,s,l){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"cfvo"}render(o,d){o.leafNode(this.tag,{type:d.type,val:d.value})}parseOpen(o){this.model={type:o.attributes.type,value:i.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(t,s,l){const i=t("../../composite-xform"),o=t("../../style/color-xform"),d=t("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new d,color:this.colorXform=new o}}get tag(){return"colorScale"}render(c,a){c.openNode(this.tag),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),a.color.forEach(u=>{this.colorXform.render(c,u)}),c.closeNode()}createNewModel(c){return{cfvo:[],color:[]}}onParserClose(c,a){this.model[c].push(a.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,s,l){const i=t("../../composite-xform"),o=t("./cf-rule-xform");s.exports=class extends i{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(d,c){c.rules.some(o.isPrimitive)&&(d.openNode(this.tag,{sqref:c.ref}),c.rules.forEach(a=>{o.isPrimitive(a)&&(a.ref=c.ref,this.map.cfRule.render(d,a))}),d.closeNode())}createNewModel(d){let{attributes:c}=d;return{ref:c.sqref,rules:[]}}onParserClose(d,c){this.model.rules.push(c.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,s,l){const i=t("../../base-xform"),o=t("./conditional-formatting-xform");s.exports=class extends i{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(d,c){let a=d.reduce((u,f)=>Math.max(u,...f.rules.map(h=>h.priority||0)),1);d.forEach(u=>{u.rules.forEach(f=>{f.priority||(f.priority=a++),f.style&&(f.dxfId=c.styles.addDxfStyle(f.style))})})}render(d,c){c.forEach(a=>{this.cfXform.render(d,a)})}parseOpen(d){return this.parser?(this.parser.parseOpen(d),!0):d.name==="conditionalFormatting"?(this.parser=this.cfXform,this.parser.parseOpen(d),!0):!1}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(!!this.parser.parseClose(d)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(d,c){d.forEach(a=>{a.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=c.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,s,l){const i=t("../../composite-xform"),o=t("../../style/color-xform"),d=t("./cfvo-xform");s.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new d,color:this.colorXform=new o}}get tag(){return"dataBar"}render(c,a){c.openNode(this.tag),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),this.colorXform.render(c,a.color),c.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(c,a){switch(c){case"cfvo":this.model.cfvo.push(a.model);break;case"color":this.model.color=a.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,s,l){const i=t("../../base-xform"),o=t("../../composite-xform");class d extends i{get tag(){return"x14:id"}render(u,f){u.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class c extends o{constructor(){super(),this.map={"x14:id":this.idXform=new d}}get tag(){return"ext"}render(u,f){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,f.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,f){this.model.x14Id=f.model}}s.exports=class extends o{constructor(){super(),this.map={ext:new c}}get tag(){return"extLst"}render(a,u){a.openNode(this.tag),this.map.ext.render(a,u),a.closeNode()}createNewModel(){return{}}onParserClose(a,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,s,l){const i=t("../../base-xform");s.exports=class extends i{get tag(){return"formula"}render(o,d){o.leafNode(this.tag,null,d)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(t,s,l){const i=t("../../base-xform"),o=t("../../composite-xform"),d=t("./cfvo-xform");s.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new d}}get tag(){return"iconSet"}render(c,a){c.openNode(this.tag,{iconSet:i.toStringAttribute(a.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(a.reverse,!1),showValue:i.toBoolAttribute(a.showValue,!0)}),a.cfvo.forEach(u=>{this.cfvoXform.render(c,u)}),c.closeNode()}createNewModel(c){let{attributes:a}=c;return{iconSet:i.toStringValue(a.iconSet,"3TrafficLights"),reverse:i.toBoolValue(a.reverse),showValue:i.toBoolValue(a.showValue),cfvo:[]}}onParserClose(c,a){this.model[c].push(a.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,s,l){const i=t("../../../utils/utils"),o=t("../base-xform");s.exports=class extends o{get tag(){return"col"}prepare(d,c){const a=c.styles.addStyleModel(d.style||{});a&&(d.styleId=a)}render(d,c){d.openNode("col"),d.addAttribute("min",c.min),d.addAttribute("max",c.max),c.width&&d.addAttribute("width",c.width),c.styleId&&d.addAttribute("style",c.styleId),c.hidden&&d.addAttribute("hidden","1"),c.bestFit&&d.addAttribute("bestFit","1"),c.outlineLevel&&d.addAttribute("outlineLevel",c.outlineLevel),c.collapsed&&d.addAttribute("collapsed","1"),d.addAttribute("customWidth","1"),d.closeNode()}parseOpen(d){if(d.name==="col"){const c=this.model={min:parseInt(d.attributes.min||"0",10),max:parseInt(d.attributes.max||"0",10),width:d.attributes.width===void 0?void 0:parseFloat(d.attributes.width||"0")};return d.attributes.style&&(c.styleId=parseInt(d.attributes.style,10)),i.parseBoolean(d.attributes.hidden)&&(c.hidden=!0),i.parseBoolean(d.attributes.bestFit)&&(c.bestFit=!0),d.attributes.outlineLevel&&(c.outlineLevel=parseInt(d.attributes.outlineLevel,10)),i.parseBoolean(d.attributes.collapsed)&&(c.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(d,c){d.styleId&&(d.style=c.styles.getStyleModel(d.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../../../utils/utils"),d=t("../../../utils/col-cache"),c=t("../base-xform"),a=t("../../../doc/range");function u(h,m,g,y){const p=m[g];p!==void 0?h[g]=p:y!==void 0&&(h[g]=y)}function f(h,m,g,y){const p=m[g];p!==void 0&&(h[g]=o.parseBoolean(p))}s.exports=class extends c{get tag(){return"dataValidations"}render(h,m){const g=(function(y){const p=i.map(y,(j,C)=>({address:C,dataValidation:j,marked:!1})).sort((j,C)=>i.strcmp(j.address,C.address)),b=i.keyBy(p,"address"),v=(j,C,T)=>{for(let D=0;D<C;D++){const q=d.encodeAddress(j.row+D,T);if(!y[q]||!i.isEqual(y[j.address],y[q]))return!1}return!0};return p.map(j=>{if(!j.marked){const C=d.decodeEx(j.address);if(C.dimensions)return b[C.dimensions].marked=!0,{...j.dataValidation,sqref:j.address};let T=1,D=d.encodeAddress(C.row+T,C.col);for(;y[D]&&i.isEqual(j.dataValidation,y[D]);)T++,D=d.encodeAddress(C.row+T,C.col);let q=1;for(;v(C,T,C.col+q);)q++;for(let z=0;z<T;z++)for(let B=0;B<q;B++)D=d.encodeAddress(C.row+z,C.col+B),b[D].marked=!0;if(T>1||q>1){const z=C.row+(T-1),B=C.col+(q-1);return{...j.dataValidation,sqref:`${j.address}:${d.encodeAddress(z,B)}`}}return{...j.dataValidation,sqref:j.address}}return null}).filter(Boolean)})(m);g.length&&(h.openNode("dataValidations",{count:g.length}),g.forEach(y=>{h.openNode("dataValidation"),y.type!=="any"&&(h.addAttribute("type",y.type),y.operator&&y.type!=="list"&&y.operator!=="between"&&h.addAttribute("operator",y.operator),y.allowBlank&&h.addAttribute("allowBlank","1")),y.showInputMessage&&h.addAttribute("showInputMessage","1"),y.promptTitle&&h.addAttribute("promptTitle",y.promptTitle),y.prompt&&h.addAttribute("prompt",y.prompt),y.showErrorMessage&&h.addAttribute("showErrorMessage","1"),y.errorStyle&&h.addAttribute("errorStyle",y.errorStyle),y.errorTitle&&h.addAttribute("errorTitle",y.errorTitle),y.error&&h.addAttribute("error",y.error),h.addAttribute("sqref",y.sqref),(y.formulae||[]).forEach((p,b)=>{h.openNode("formula"+(b+1)),y.type==="date"?h.writeText(o.dateToExcel(new Date(p))):h.writeText(p),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const m={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(m,h.attributes,"allowBlank"),f(m,h.attributes,"showInputMessage"),f(m,h.attributes,"showErrorMessage"),m.type){case"any":case"list":case"custom":break;default:u(m,h.attributes,"operator","between")}return u(m,h.attributes,"promptTitle"),u(m,h.attributes,"prompt"),u(m,h.attributes,"errorStyle"),u(m,h.attributes,"errorTitle"),u(m,h.attributes,"error"),this._dataValidation=m,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(m=>{m.includes(":")?new a(m).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[m]=this._dataValidation}),!0;case"formula1":case"formula2":{let m=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":m=parseInt(m,10);break;case"decimal":m=parseFloat(m);break;case"date":m=o.excelToDate(parseFloat(m))}return this._dataValidation.formulae.push(m),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"dimension"}render(o,d){d&&o.leafNode("dimension",{ref:d})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"drawing"}render(o,d){d&&o.leafNode(this.tag,{"r:id":d.rId})}parseOpen(o){return o.name===this.tag?(this.model={rId:o.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,s,l){const i=t("../composite-xform"),o=t("./cf-ext/conditional-formattings-ext-xform");class d extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(a){return this.conditionalFormattings.hasContent(a.conditionalFormattings)}prepare(a,u){this.conditionalFormattings.prepare(a.conditionalFormattings,u)}render(a,u){a.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(a,u.conditionalFormattings),a.closeNode()}createNewModel(){return{}}onParserClose(a,u){this.model[a]=u.model}}s.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new d}}get tag(){return"extLst"}prepare(c,a){this.ext.prepare(c,a)}hasContent(c){return this.ext.hasContent(c)}render(c,a){this.hasContent(a)&&(c.openNode("extLst"),this.ext.render(c,a),c.closeNode())}createNewModel(){return{}}onParserClose(c,a){Object.assign(this.model,a.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"headerFooter"}render(o,d){if(d){o.addRollback();let c=!1;o.openNode("headerFooter"),d.differentFirst&&(o.addAttribute("differentFirst","1"),c=!0),d.differentOddEven&&(o.addAttribute("differentOddEven","1"),c=!0),d.oddHeader&&typeof d.oddHeader=="string"&&(o.leafNode("oddHeader",null,d.oddHeader),c=!0),d.oddFooter&&typeof d.oddFooter=="string"&&(o.leafNode("oddFooter",null,d.oddFooter),c=!0),d.evenHeader&&typeof d.evenHeader=="string"&&(o.leafNode("evenHeader",null,d.evenHeader),c=!0),d.evenFooter&&typeof d.evenFooter=="string"&&(o.leafNode("evenFooter",null,d.evenFooter),c=!0),d.firstHeader&&typeof d.firstHeader=="string"&&(o.leafNode("firstHeader",null,d.firstHeader),c=!0),d.firstFooter&&typeof d.firstFooter=="string"&&(o.leafNode("firstFooter",null,d.firstFooter),c=!0),c?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"hyperlink"}render(o,d){this.isInternalLink(d)?o.leafNode("hyperlink",{ref:d.address,"r:id":d.rId,tooltip:d.tooltip,location:d.target}):o.leafNode("hyperlink",{ref:d.address,"r:id":d.rId,tooltip:d.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"mergeCell"}render(o,d){o.leafNode("mergeCell",{ref:d})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../../../doc/range"),d=t("../../../utils/col-cache"),c=t("../../../doc/enums");s.exports=class{constructor(){this.merges={}}add(a){if(this.merges[a.master])this.merges[a.master].expandToAddress(a.address);else{const u=`${a.master}:${a.address}`;this.merges[a.master]=new o(u)}}get mergeCells(){return i.map(this.merges,a=>a.range)}reconcile(a,u){i.each(a,f=>{const h=d.decode(f);for(let m=h.top;m<=h.bottom;m++){const g=u[m-1];for(let y=h.left;y<=h.right;y++){const p=g.cells[y-1];p?p.type===c.ValueType.Merge&&(p.master=h.tl):g.cells[y]={type:c.ValueType.Null,address:d.encodeAddress(m,y)}}}})}getMasterAddress(a){const u=this.hash[a];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,s,l){const i=t("../base-xform"),o=d=>d!==void 0;s.exports=class extends i{get tag(){return"outlinePr"}render(d,c){return!(!c||!o(c.summaryBelow)&&!o(c.summaryRight))&&(d.leafNode(this.tag,{summaryBelow:o(c.summaryBelow)?Number(c.summaryBelow):void 0,summaryRight:o(c.summaryRight)?Number(c.summaryRight):void 0}),!0)}parseOpen(d){return d.name===this.tag&&(this.model={summaryBelow:o(d.attributes.summaryBelow)?!!Number(d.attributes.summaryBelow):void 0,summaryRight:o(d.attributes.summaryRight)?!!Number(d.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"brk"}render(o,d){o.leafNode("brk",d)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../base-xform");s.exports=class extends o{get tag(){return"pageMargins"}render(d,c){if(c){const a={left:c.left,right:c.right,top:c.top,bottom:c.bottom,header:c.header,footer:c.footer};i.some(a,u=>u!==void 0)&&d.leafNode(this.tag,a)}}parseOpen(d){return d.name===this.tag?(this.model={left:parseFloat(d.attributes.left||.7),right:parseFloat(d.attributes.right||.7),top:parseFloat(d.attributes.top||.75),bottom:parseFloat(d.attributes.bottom||.75),header:parseFloat(d.attributes.header||.3),footer:parseFloat(d.attributes.footer||.3)},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"pageSetUpPr"}render(o,d){return!(!d||!d.fitToPage)&&(o.leafNode(this.tag,{fitToPage:d.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../base-xform");function d(f){return f?"1":void 0}function c(f){if(f==="overThenDown")return f}function a(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function u(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}s.exports=class extends o{get tag(){return"pageSetup"}render(f,h){if(h){const m={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:c(h.pageOrder),blackAndWhite:d(h.blackAndWhite),draft:d(h.draft),cellComments:a(h.cellComments),errors:u(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:d(h.firstPageNumber),usePrinterDefaults:d(h.usePrinterDefaults),copies:h.copies};i.some(m,g=>g!==void 0)&&f.leafNode(this.tag,m)}}parseOpen(f){if(f.name===this.tag)return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;return!1;var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"picture"}render(o,d){d&&o.leafNode(this.tag,{"r:id":d.rId})}parseOpen(o){return o.name===this.tag?(this.model={rId:o.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../base-xform");function d(c){return c?"1":void 0}s.exports=class extends o{get tag(){return"printOptions"}render(c,a){if(a){const u={headings:d(a.showRowColHeaders),gridLines:d(a.showGridLines),horizontalCentered:d(a.horizontalCentered),verticalCentered:d(a.verticalCentered)};i.some(u,f=>f!==void 0)&&c.leafNode(this.tag,u)}}parseOpen(c){return c.name===this.tag?(this.model={showRowColHeaders:c.attributes.headings==="1",showGridLines:c.attributes.gridLines==="1",horizontalCentered:c.attributes.horizontalCentered==="1",verticalCentered:c.attributes.verticalCentered==="1"},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,s,l){const i=t("./page-breaks-xform"),o=t("../list-xform");s.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(d,c){if(c&&c.length){d.openNode(this.tag,this.$),this.count&&(d.addAttribute(this.$count,c.length),d.addAttribute("manualBreakCount",c.length));const{childXform:a}=this;c.forEach(u=>{a.render(d,u)}),d.closeNode()}else this.empty&&d.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,s,l){const i=t("../base-xform"),o=t("../../../utils/utils"),d=t("./cell-xform");s.exports=class extends i{constructor(c){super(),this.maxItems=c&&c.maxItems,this.map={c:new d}}get tag(){return"row"}prepare(c,a){const u=a.styles.addStyleModel(c.style);u&&(c.styleId=u);const f=this.map.c;c.cells.forEach(h=>{f.prepare(h,a)})}render(c,a,u){c.openNode("row"),c.addAttribute("r",a.number),a.height&&(c.addAttribute("ht",a.height),c.addAttribute("customHeight","1")),a.hidden&&c.addAttribute("hidden","1"),a.min>0&&a.max>0&&a.min<=a.max&&c.addAttribute("spans",`${a.min}:${a.max}`),a.styleId&&(c.addAttribute("s",a.styleId),c.addAttribute("customFormat","1")),c.addAttribute("x14ac:dyDescent","0.25"),a.outlineLevel&&c.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&c.addAttribute("collapsed","1");const f=this.map.c;a.cells.forEach(h=>{f.render(c,h,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;if(c.name==="row"){this.numRowsSeen+=1;const a=c.attributes.spans?c.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],u=this.model={number:parseInt(c.attributes.r,10),min:a[0],max:a[1],cells:[]};return c.attributes.s&&(u.styleId=parseInt(c.attributes.s,10)),o.parseBoolean(c.attributes.hidden)&&(u.hidden=!0),o.parseBoolean(c.attributes.bestFit)&&(u.bestFit=!0),c.attributes.ht&&(u.height=parseFloat(c.attributes.ht)),c.attributes.outlineLevel&&(u.outlineLevel=parseInt(c.attributes.outlineLevel,10)),o.parseBoolean(c.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[c.name],!!this.parser&&(this.parser.parseOpen(c),!0)}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(c,a){c.style=c.styleId?a.styles.getStyleModel(c.styleId):{},c.styleId!==void 0&&(c.styleId=void 0);const u=this.map.c;c.cells.forEach(f=>{u.reconcile(f,a)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../base-xform");s.exports=class extends o{get tag(){return"sheetFormatPr"}render(d,c){if(c){const a={defaultRowHeight:c.defaultRowHeight,outlineLevelRow:c.outlineLevelRow,outlineLevelCol:c.outlineLevelCol,"x14ac:dyDescent":c.dyDescent};c.defaultColWidth&&(a.defaultColWidth=c.defaultColWidth),c.defaultRowHeight&&c.defaultRowHeight===15||(a.customHeight="1"),i.some(a,u=>u!==void 0)&&d.leafNode("sheetFormatPr",a)}}parseOpen(d){return d.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(d.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(d.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(d.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(d.attributes.outlineLevelCol||"0",10)},d.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(d.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,s,l){const i=t("../base-xform"),o=t("../style/color-xform"),d=t("./page-setup-properties-xform"),c=t("./outline-properties-xform");s.exports=class extends i{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new d,outlinePr:new c}}get tag(){return"sheetPr"}render(a,u){if(u){a.addRollback(),a.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(a,u.tabColor)||f,f=this.map.pageSetUpPr.render(a,u.pageSetup)||f,f=this.map.outlinePr.render(a,u.outlineProperties)||f,f?(a.closeNode(),a.commit()):a.rollback()}}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name===this.tag?(this.reset(),!0):!!this.map[a.name]&&(this.parser=this.map[a.name],this.parser.parseOpen(a),!0)}parseText(a){return!!this.parser&&(this.parser.parseText(a),!0)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../base-xform");function d(a,u){return a?u:void 0}function c(a,u){return a===u||void 0}s.exports=class extends o{get tag(){return"sheetProtection"}render(a,u){if(u){const f={sheet:d(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:d(u.formatCells,"0"),formatColumns:d(u.formatColumns,"0"),formatRows:d(u.formatRows,"0"),insertColumns:d(u.insertColumns,"0"),insertRows:d(u.insertRows,"0"),insertHyperlinks:d(u.insertHyperlinks,"0"),deleteColumns:d(u.deleteColumns,"0"),deleteRows:d(u.deleteRows,"0"),sort:d(u.sort,"0"),autoFilter:d(u.autoFilter,"0"),pivotTables:d(u.pivotTables,"0")};u.sheet&&(f.algorithmName=u.algorithmName,f.hashValue=u.hashValue,f.saltValue=u.saltValue,f.spinCount=u.spinCount,f.objects=d(u.objects===!1,"1"),f.scenarios=d(u.scenarios===!1,"1")),i.some(f,h=>h!==void 0)&&a.leafNode(this.tag,f)}}parseOpen(a){return a.name===this.tag?(this.model={sheet:c(a.attributes.sheet,"1"),objects:a.attributes.objects!=="1"&&void 0,scenarios:a.attributes.scenarios!=="1"&&void 0,selectLockedCells:a.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:a.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:c(a.attributes.formatCells,"0"),formatColumns:c(a.attributes.formatColumns,"0"),formatRows:c(a.attributes.formatRows,"0"),insertColumns:c(a.attributes.insertColumns,"0"),insertRows:c(a.attributes.insertRows,"0"),insertHyperlinks:c(a.attributes.insertHyperlinks,"0"),deleteColumns:c(a.attributes.deleteColumns,"0"),deleteRows:c(a.attributes.deleteRows,"0"),sort:c(a.attributes.sort,"0"),autoFilter:c(a.attributes.autoFilter,"0"),pivotTables:c(a.attributes.pivotTables,"0")},a.attributes.algorithmName&&(this.model.algorithmName=a.attributes.algorithmName,this.model.hashValue=a.attributes.hashValue,this.model.saltValue=a.attributes.saltValue,this.model.spinCount=parseInt(a.attributes.spinCount,10)),!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,s,l){const i=t("../../../utils/col-cache"),o=t("../base-xform"),d={frozen:"frozen",frozenSplit:"frozen",split:"split"};s.exports=class extends o{get tag(){return"sheetView"}prepare(c){switch(c.state){case"frozen":case"split":break;default:c.state="normal"}}render(c,a){c.openNode("sheetView",{workbookViewId:a.workbookViewId||0});const u=function(y,p,b){b&&c.addAttribute(y,p)};let f,h,m,g;switch(u("rightToLeft","1",a.rightToLeft===!0),u("tabSelected","1",a.tabSelected),u("showRuler","0",a.showRuler===!1),u("showRowColHeaders","0",a.showRowColHeaders===!1),u("showGridLines","0",a.showGridLines===!1),u("zoomScale",a.zoomScale,a.zoomScale),u("zoomScaleNormal",a.zoomScaleNormal,a.zoomScaleNormal),u("view",a.style,a.style),a.state){case"frozen":h=a.xSplit||0,m=a.ySplit||0,f=a.topLeftCell||i.getAddress(m+1,h+1).address,g=(a.xSplit&&a.ySplit?"bottomRight":a.xSplit&&"topRight")||"bottomLeft",c.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:f,activePane:g,state:"frozen"}),c.leafNode("selection",{pane:g,activeCell:a.activeCell,sqref:a.activeCell});break;case"split":a.activePane==="topLeft"&&(a.activePane=void 0),c.leafNode("pane",{xSplit:a.xSplit||void 0,ySplit:a.ySplit||void 0,topLeftCell:a.topLeftCell,activePane:a.activePane}),c.leafNode("selection",{pane:a.activePane,activeCell:a.activeCell,sqref:a.activeCell});break;case"normal":a.activeCell&&c.leafNode("selection",{activeCell:a.activeCell,sqref:a.activeCell})}c.closeNode()}parseOpen(c){switch(c.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(c.attributes.workbookViewId,10),rightToLeft:c.attributes.rightToLeft==="1",tabSelected:c.attributes.tabSelected==="1",showRuler:c.attributes.showRuler!=="0",showRowColHeaders:c.attributes.showRowColHeaders!=="0",showGridLines:c.attributes.showGridLines!=="0",zoomScale:parseInt(c.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(c.attributes.zoomScaleNormal||"100",10),style:c.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(c.attributes.xSplit||"0",10),ySplit:parseInt(c.attributes.ySplit||"0",10),topLeftCell:c.attributes.topLeftCell,activePane:c.attributes.activePane||"topLeft",state:c.attributes.state},!0;case"selection":{const a=c.attributes.pane||"topLeft";return this.selections[a]={pane:a,activeCell:c.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(c){let a,u;return c==="sheetView"?(this.sheetView&&this.pane?(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:d[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(a.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(a.activeCell=u.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)):(a=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(a.activeCell=u.activeCell),this.sheetView.style&&(a.style=this.sheetView.style)),!1):!0}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"tablePart"}render(o,d){d&&o.leafNode(this.tag,{"r:id":d.rId})}parseOpen(o){return o.name===this.tag?(this.model={rId:o.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../../../utils/col-cache"),d=t("../../../utils/xml-stream"),c=t("../../rel-type"),a=t("./merges"),u=t("../base-xform"),f=t("../list-xform"),h=t("./row-xform"),m=t("./col-xform"),g=t("./dimension-xform"),y=t("./hyperlink-xform"),p=t("./merge-cell-xform"),b=t("./data-validations-xform"),v=t("./sheet-properties-xform"),j=t("./sheet-format-properties-xform"),C=t("./sheet-view-xform"),T=t("./sheet-protection-xform"),D=t("./page-margins-xform"),q=t("./page-setup-xform"),z=t("./print-options-xform"),B=t("./auto-filter-xform"),V=t("./picture-xform"),X=t("./drawing-xform"),W=t("./table-part-xform"),P=t("./row-breaks-xform"),M=t("./header-footer-xform"),E=t("./cf/conditional-formattings-xform"),_=t("./ext-lst-xform"),k=(S,O)=>{if(!O||!O.length)return S;if(!S||!S.length)return O;const L={},I={};return S.forEach(G=>{L[G.ref]=G,G.rules.forEach(Y=>{const{x14Id:te}=Y;te&&(I[te]=Y)})}),O.forEach(G=>{G.rules.forEach(Y=>{const te=I[Y.x14Id];te?((U,J)=>{Object.keys(J).forEach($=>{const R=U[$],K=J[$];R===void 0&&K!==void 0&&(U[$]=K)})})(te,Y):L[G.ref]?L[G.ref].rules.push(Y):S.push({ref:G.ref,rules:[Y]})})}),S};class N extends u{constructor(O){super();const{maxRows:L,maxCols:I,ignoreNodes:G}=O||{};this.ignoreNodes=G||[],this.map={sheetPr:new v,dimension:new g,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new j,cols:new f({tag:"cols",count:!1,childXform:new m}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:I}),maxItems:L}),autoFilter:new B,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new p}),rowBreaks:new P,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new y}),pageMargins:new D,dataValidations:new b,pageSetup:new q,headerFooter:new M,printOptions:new z,picture:new V,drawing:new X,sheetProtection:new T,tableParts:new f({tag:"tableParts",count:!0,childXform:new W}),conditionalFormatting:new E,extLst:new _}}prepare(O,L){L.merges=new a,O.hyperlinks=L.hyperlinks=[],O.comments=L.comments=[],L.formulae={},L.siFormulae=0,this.map.cols.prepare(O.cols,L),this.map.sheetData.prepare(O.rows,L),this.map.conditionalFormatting.prepare(O.conditionalFormattings,L),O.mergeCells=L.merges.mergeCells;const I=O.rels=[];function G(U){return"rId"+(U.length+1)}if(O.hyperlinks.forEach(U=>{const J=G(I);U.rId=J,I.push({Id:J,Type:c.Hyperlink,Target:U.target,TargetMode:"External"})}),O.comments.length>0){const U={Id:G(I),Type:c.Comments,Target:`../comments${O.id}.xml`};I.push(U);const J={Id:G(I),Type:c.VmlDrawing,Target:`../drawings/vmlDrawing${O.id}.vml`};I.push(J),O.comments.forEach($=>{$.refAddress=o.decodeAddress($.ref)}),L.commentRefs.push({commentName:"comments"+O.id,vmlDrawing:"vmlDrawing"+O.id})}const Y=[];let te;O.media.forEach(U=>{if(U.type==="background"){const J=G(I);te=L.media[U.imageId],I.push({Id:J,Type:c.Image,Target:`../media/${te.name}.${te.extension}`}),O.background={rId:J},O.image=L.media[U.imageId]}else if(U.type==="image"){let{drawing:J}=O;te=L.media[U.imageId],J||(J=O.drawing={rId:G(I),name:"drawing"+ ++L.drawingsCount,anchors:[],rels:[]},L.drawings.push(J),I.push({Id:J.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${J.name}.xml`}));let $=this.preImageId===U.imageId?Y[U.imageId]:Y[J.rels.length];$||($=G(J.rels),Y[J.rels.length]=$,J.rels.push({Id:$,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${te.name}.${te.extension}`}));const R={picture:{rId:$},range:U.range};if(U.hyperlinks&&U.hyperlinks.hyperlink){const K=G(J.rels);Y[J.rels.length]=K,R.picture.hyperlinks={tooltip:U.hyperlinks.tooltip,rId:K},J.rels.push({Id:K,Type:c.Hyperlink,Target:U.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=U.imageId,J.anchors.push(R)}}),O.tables.forEach(U=>{const J=G(I);U.rId=J,I.push({Id:J,Type:c.Table,Target:"../tables/"+U.target}),U.columns.forEach($=>{const{style:R}=$;R&&($.dxfId=L.styles.addDxfStyle(R))})}),this.map.extLst.prepare(O,L)}render(O,L){O.openXml(d.StdDocAttributes),O.openNode("worksheet",N.WORKSHEET_ATTRIBUTES);const I=L.properties?{defaultRowHeight:L.properties.defaultRowHeight,dyDescent:L.properties.dyDescent,outlineLevelCol:L.properties.outlineLevelCol,outlineLevelRow:L.properties.outlineLevelRow}:void 0;L.properties&&L.properties.defaultColWidth&&(I.defaultColWidth=L.properties.defaultColWidth);const G={outlineProperties:L.properties&&L.properties.outlineProperties,tabColor:L.properties&&L.properties.tabColor,pageSetup:L.pageSetup&&L.pageSetup.fitToPage?{fitToPage:L.pageSetup.fitToPage}:void 0},Y=L.pageSetup&&L.pageSetup.margins,te={showRowColHeaders:L.pageSetup&&L.pageSetup.showRowColHeaders,showGridLines:L.pageSetup&&L.pageSetup.showGridLines,horizontalCentered:L.pageSetup&&L.pageSetup.horizontalCentered,verticalCentered:L.pageSetup&&L.pageSetup.verticalCentered},U=L.sheetProtection;this.map.sheetPr.render(O,G),this.map.dimension.render(O,L.dimensions),this.map.sheetViews.render(O,L.views),this.map.sheetFormatPr.render(O,I),this.map.cols.render(O,L.cols),this.map.sheetData.render(O,L.rows),this.map.sheetProtection.render(O,U),this.map.autoFilter.render(O,L.autoFilter),this.map.mergeCells.render(O,L.mergeCells),this.map.conditionalFormatting.render(O,L.conditionalFormattings),this.map.dataValidations.render(O,L.dataValidations),this.map.hyperlinks.render(O,L.hyperlinks),this.map.printOptions.render(O,te),this.map.pageMargins.render(O,Y),this.map.pageSetup.render(O,L.pageSetup),this.map.headerFooter.render(O,L.headerFooter),this.map.rowBreaks.render(O,L.rowBreaks),this.map.drawing.render(O,L.drawing),this.map.picture.render(O,L.background),this.map.tableParts.render(O,L.tables),this.map.extLst.render(O,L),L.rels&&L.rels.forEach(J=>{J.Type===c.VmlDrawing&&O.leafNode("legacyDrawing",{"r:id":J.Id})}),O.closeNode()}parseOpen(O){return this.parser?(this.parser.parseOpen(O),!0):O.name==="worksheet"?(i.each(this.map,L=>{L.reset()}),!0):(this.map[O.name]&&!this.ignoreNodes.includes(O.name)&&(this.parser=this.map[O.name],this.parser.parseOpen(O)),!0)}parseText(O){this.parser&&this.parser.parseText(O)}parseClose(O){if(this.parser)return this.parser.parseClose(O)||(this.parser=void 0),!0;if(O==="worksheet"){const L=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(L.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(L.outlineProperties=this.map.sheetPr.model.outlineProperties);const I={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},G=Object.assign(I,this.map.pageSetup.model,this.map.printOptions.model),Y=k(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:L,views:this.map.sheetViews.model,pageSetup:G,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Y},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}else return!0}reconcile(O,L){const I=(O.relationships||[]).reduce((Y,te)=>{if(Y[te.Id]=te,te.Type===c.Comments&&(O.comments=L.comments[te.Target].comments),te.Type===c.VmlDrawing&&O.comments&&O.comments.length){const U=L.vmlDrawings[te.Target].comments;O.comments.forEach((J,$)=>{J.note=Object.assign({},J.note,U[$])})}return Y},{});if(L.commentsMap=(O.comments||[]).reduce((Y,te)=>(te.ref&&(Y[te.ref]=te),Y),{}),L.hyperlinkMap=(O.hyperlinks||[]).reduce((Y,te)=>(te.rId&&(Y[te.address]=I[te.rId].Target),Y),{}),L.formulae={},O.rows=O.rows&&O.rows.filter(Boolean)||[],O.rows.forEach(Y=>{Y.cells=Y.cells&&Y.cells.filter(Boolean)||[]}),this.map.cols.reconcile(O.cols,L),this.map.sheetData.reconcile(O.rows,L),this.map.conditionalFormatting.reconcile(O.conditionalFormattings,L),O.media=[],O.drawing){const Y=I[O.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Y){const te=Y[1];L.drawings[te].anchors.forEach(U=>{if(U.medium){const J={type:"image",imageId:U.medium.index,range:U.range,hyperlinks:U.picture.hyperlinks};O.media.push(J)}})}}const G=O.background&&I[O.background.rId];if(G){const Y=G.Target.split("/media/")[1],te=L.mediaIndex&&L.mediaIndex[Y];te!==void 0&&O.media.push({type:"background",imageId:te})}O.tables=(O.tables||[]).map(Y=>{const te=I[Y.rId];return L.tables[te.Target]}),delete O.relationships,delete O.hyperlinks,delete O.comments}}N.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},s.exports=N},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,d){d&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(d){try{return Number.isNaN(d.getTime())?"":d.toISOString()}catch{return""}},this._parse=o.parse||function(d){return new Date(d)}}render(o,d){d&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(d)):o.writeText(this._format(d)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,d){(d||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,d):o.writeText(d),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,d){d!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,d):o.writeText(d),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,s,l){const i=t("./base-xform"),o=t("../../utils/xml-stream");s.exports=class extends i{constructor(d){super(),this._model=d}render(d){if(!this._xml){const c=new o;(function a(u,f){u.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{a(u,h)}),f.t&&u.writeText(f.t),u.closeNode()})(c,this._model),this._xml=c.xml}d.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(d){return d!==this._model.tag}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,s,l){const i=t("./text-xform"),o=t("./rich-text-xform"),d=t("../base-xform");s.exports=class extends d{constructor(){super(),this.map={r:new o,t:new i}}get tag(){return"rPh"}render(c,a){if(c.openNode(this.tag,{sb:a.sb||0,eb:a.eb||0}),a&&a.hasOwnProperty("richText")&&a.richText){const{r:u}=this.map;a.richText.forEach(f=>{u.render(c,f)})}else a&&this.map.t.render(c,a.text);c.closeNode()}parseOpen(c){const{name:a}=c;return this.parser?(this.parser.parseOpen(c),!0):a===this.tag?(this.model={sb:parseInt(c.attributes.sb,10),eb:parseInt(c.attributes.eb,10)},!0):(this.parser=this.map[a],!!this.parser&&(this.parser.parseOpen(c),!0))}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser){if(!this.parser.parseClose(c)){switch(c){case"r":{let a=this.model.richText;a||(a=this.model.richText=[]),a.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return c!==this.tag}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,s,l){const i=t("./text-xform"),o=t("../style/font-xform"),d=t("../base-xform");class c extends d{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new o(c.FONT_OPTIONS))}render(u,f){f=f||this.model,u.openNode("r"),f.font&&this.fontXform.render(u,f.font),this.textXform.render(u,f.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}c.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},s.exports=c},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,s,l){const i=t("./text-xform"),o=t("./rich-text-xform"),d=t("./phonetic-text-xform"),c=t("../base-xform");s.exports=class extends c{constructor(a){super(),this.model=a,this.map={r:new o,t:new i,rPh:new d}}get tag(){return"si"}render(a,u){a.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(f=>{this.map.r.render(a,f)}):this.map.t.render(a,""):u!=null&&this.map.t.render(a,u),a.closeNode()}parseOpen(a){const{name:u}=a;return this.parser?(this.parser.parseOpen(a),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}return a!==this.tag}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),d=t("./shared-string-xform");s.exports=class extends o{constructor(c){super(),this.model=c||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new d)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(c){return this.model.values[c]}add(c){return c.richText?this.addRichText(c):this.addText(c)}addText(c){let a=this.hash[c];return a===void 0&&(a=this.hash[c]=this.model.values.length,this.model.values.push(c)),this.model.count++,a}addRichText(c){const a=this.sharedStringXform.toXml(c);let u=this.rich[a];return u===void 0&&(u=this.rich[a]=this.model.values.length,this.model.values.push(c)),this.model.count++,u}render(c,a){a=a||this._values,c.openXml(i.StdDocAttributes),c.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:a.count,uniqueCount:a.values.length});const u=this.sharedStringXform;a.values.forEach(f=>{u.render(c,f)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(c),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if(c==="sst")return!1;throw new Error("Unexpected xml node in parseClose: "+c)}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"t"}render(o,d){o.openNode("t"),/^\s|\n|\s$/.test(d)&&o.addAttribute("xml:space","preserve"),o.writeText(d),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,d)=>String.fromCharCode(parseInt(d,16)))}parseOpen(o){return o.name==="t"?(this._text=[],!0):!1}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,s,l){const i=t("../../../doc/enums"),o=t("../../../utils/utils"),d=t("../base-xform"),c={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,f)=>(u[f]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){return u==="vertical"||(u=o.validInt(u))>=-90&&u<=90?u:void 0},indent:u=>(u=o.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},a={toXml(u){if(u=c.textRotation(u)){if(u==="vertical")return 255;const f=Math.round(u);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(u){const f=o.validInt(u);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};s.exports=class extends d{get tag(){return"alignment"}render(u,f){u.addRollback(),u.openNode("alignment");let h=!1;function m(g,y){y&&(u.addAttribute(g,y),h=!0)}m("horizontal",c.horizontal(f.horizontal)),m("vertical",c.vertical(f.vertical)),m("wrapText",!!c.wrapText(f.wrapText)&&"1"),m("shrinkToFit",!!c.shrinkToFit(f.shrinkToFit)&&"1"),m("indent",c.indent(f.indent)),m("textRotation",a.toXml(f.textRotation)),m("readingOrder",c.readingOrder(f.readingOrder)),u.closeNode(),h?u.commit():u.rollback()}parseOpen(u){const f={};let h=!1;function m(g,y,p){g&&(f[y]=p,h=!0)}m(u.attributes.horizontal,"horizontal",u.attributes.horizontal),m(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),m(u.attributes.wrapText,"wrapText",o.parseBoolean(u.attributes.wrapText)),m(u.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(u.attributes.shrinkToFit)),m(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),m(u.attributes.textRotation,"textRotation",a.toModel(u.attributes.textRotation)),m(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,s,l){const i=t("../base-xform"),o=t("../../../utils/utils"),d=t("./color-xform");class c extends i{constructor(u){super(),this.name=u,this.map={color:new d}}get tag(){return this.name}render(u,f,h){const m=f&&f.color||h||this.defaultColor;u.openNode(this.name),f&&f.style&&(u.addAttribute("style",f.style),m&&this.map.color.render(u,m)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:f}=u.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return c.validStyleValues[u]}}c.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((a,u)=>(a[u]=!0,a),{}),s.exports=class extends i{constructor(){super(),this.map={top:new c("top"),left:new c("left"),bottom:new c("bottom"),right:new c("right"),diagonal:new c("diagonal")}}render(a,u){const{color:f}=u;function h(m,g){m&&!m.color&&u.color&&(m={...m,color:u.color}),g.render(a,m,f)}a.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&a.addAttribute("diagonalUp","1"),u.diagonal.down&&a.addAttribute("diagonalDown","1")),h(u.left,this.map.left),h(u.right,this.map.right),h(u.top,this.map.top),h(u.bottom,this.map.bottom),h(u.diagonal,this.map.diagonal),a.closeNode()}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):a.name==="border"?(this.reset(),this.diagonalUp=o.parseBoolean(a.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(a.attributes.diagonalDown),!0):(this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;if(a==="border"){const u=this.model={},f=function(h,m,g){m&&(g&&Object.assign(m,g),u[h]=m)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,d){return!!d&&(o.openNode(this.name),d.argb?o.addAttribute("rgb",d.argb):d.theme!==void 0?(o.addAttribute("theme",d.theme),d.tint!==void 0&&o.addAttribute("tint",d.tint)):d.indexed!==void 0?o.addAttribute("indexed",d.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,s,l){const i=t("../base-xform"),o=t("./alignment-xform"),d=t("./border-xform"),c=t("./fill-xform"),a=t("./font-xform"),u=t("./numfmt-xform"),f=t("./protection-xform");s.exports=class extends i{constructor(){super(),this.map={alignment:new o,border:new d,fill:new c,font:new a,numFmt:new u,protection:new f}}get tag(){return"dxf"}render(h,m){if(h.openNode(this.tag),m.font&&this.map.font.render(h,m.font),m.numFmt&&m.numFmtId){const g={id:m.numFmtId,formatCode:m.numFmt};this.map.numFmt.render(h,g)}m.fill&&this.map.fill.render(h,m.fill),m.alignment&&this.map.alignment.render(h,m.alignment),m.border&&this.map.border.render(h,m.border),m.protection&&this.map.protection.render(h,m.protection),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):h.name===this.tag?(this.reset(),!0):(this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0)}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,s,l){const i=t("../base-xform"),o=t("./color-xform");class d extends i{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(h,m){h.openNode("stop"),h.addAttribute("position",m.position),this.map.color.render(h,m.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,m){h.openNode("patternFill"),h.addAttribute("patternType",m.pattern),m.fgColor&&this.map.fgColor.render(h,m.fgColor),m.bgColor&&this.map.bgColor.render(h,m.bgColor),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):h.name==="patternFill"?(this.model={type:"pattern",pattern:h.attributes.patternType},!0):(this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0))}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={stop:new d}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,m){switch(h.openNode("gradientFill"),m.gradient){case"angle":h.addAttribute("degree",m.degree);break;case"path":h.addAttribute("type","path"),m.center.left&&(h.addAttribute("left",m.center.left),m.center.right===void 0&&h.addAttribute("right",m.center.left)),m.center.right&&h.addAttribute("right",m.center.right),m.center.top&&(h.addAttribute("top",m.center.top),m.center.bottom===void 0&&h.addAttribute("bottom",m.center.top)),m.center.bottom&&h.addAttribute("bottom",m.center.bottom)}const g=this.map.stop;m.stops.forEach(y=>{g.render(h,y)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const m=this.model={stops:[]};return h.attributes.degree?(m.gradient="angle",m.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(m.gradient="path",m.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(m.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(m.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends i{constructor(){super(),this.map={patternFill:new c,gradientFill:new a}}get tag(){return"fill"}render(h,m){switch(h.addRollback(),h.openNode("fill"),m.type){case"pattern":this.map.patternFill.render(h,m);break;case"gradient":this.map.gradientFill.render(h,m);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):h.name==="fill"?(this.model={},!0):(this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0))}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return u.validPatternValues[h]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),u.StopXform=d,u.PatternFillXform=c,u.GradientFillXform=a,s.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(t,s,l){const i=t("./color-xform"),o=t("../simple/boolean-xform"),d=t("../simple/integer-xform"),c=t("../simple/string-xform"),a=t("./underline-xform"),u=t("../../../utils/under-dash"),f=t("../base-xform");class h extends f{constructor(g){super(),this.options=g||h.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new a},charset:{prop:"charset",xform:new d({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new d({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new c({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new c({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new d({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new c({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,y){const{map:p}=this;g.openNode(this.options.tagName),u.each(this.map,(b,v)=>{p[v].xform.render(g,y[b.prop])}),g.closeNode()}parseOpen(g){return this.parser?(this.parser.parseOpen(g),!0):this.map[g.name]?(this.parser=this.map[g.name].xform,this.parser.parseOpen(g)):g.name===this.options.tagName?(this.model={},!0):!1}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const y=this.map[g];return this.parser.model&&(this.model[y.prop]=this.parser.model),this.parser=void 0,!0}return g!==this.options.tagName}}h.OPTIONS={tagName:"font",fontNameTag:"name"},s.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,s,l){const i=t("../../../utils/under-dash"),o=t("../../defaultnumformats"),d=t("../base-xform"),c=(function(){const u={};return i.each(o,(f,h)=>{f.f&&(u[f.f]=parseInt(h,10))}),u})();class a extends d{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){return f.name==="numFmt"?(this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0):!1}parseText(){}parseClose(){return!1}}a.getDefaultFmtId=function(u){return c[u]},a.getDefaultFmtCode=function(u){return o[u]&&o[u].f},s.exports=a},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,s,l){const i=t("../base-xform"),o={boolean:(d,c)=>d===void 0?c:d};s.exports=class extends i{get tag(){return"protection"}render(d,c){d.addRollback(),d.openNode("protection");let a=!1;function u(f,h){h!==void 0&&(d.addAttribute(f,h),a=!0)}u("locked",o.boolean(c.locked,!0)?void 0:"0"),u("hidden",o.boolean(c.hidden,!1)?"1":void 0),d.closeNode(),a?d.commit():d.rollback()}parseOpen(d){const c={locked:d.attributes.locked!=="0",hidden:d.attributes.hidden==="1"},a=!c.locked||c.hidden;this.model=a?c:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,s,l){const i=t("../base-xform"),o=t("./alignment-xform"),d=t("./protection-xform");s.exports=class extends i{constructor(c){super(),this.xfId=!(!c||!c.xfId),this.map={alignment:new o,protection:new d}}get tag(){return"xf"}render(c,a){c.openNode("xf",{numFmtId:a.numFmtId||0,fontId:a.fontId||0,fillId:a.fillId||0,borderId:a.borderId||0}),this.xfId&&c.addAttribute("xfId",a.xfId||0),a.numFmtId&&c.addAttribute("applyNumberFormat","1"),a.fontId&&c.addAttribute("applyFont","1"),a.fillId&&c.addAttribute("applyFill","1"),a.borderId&&c.addAttribute("applyBorder","1"),a.alignment&&c.addAttribute("applyAlignment","1"),a.protection&&c.addAttribute("applyProtection","1"),a.alignment&&this.map.alignment.render(c,a.alignment),a.protection&&this.map.protection.render(c,a.protection),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"xf":return this.model={numFmtId:parseInt(c.attributes.numFmtId,10),fontId:parseInt(c.attributes.fontId,10),fillId:parseInt(c.attributes.fillId,10),borderId:parseInt(c.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(c.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(c),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):c!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,s,l){const i=t("../../../doc/enums"),o=t("../../../utils/xml-stream"),d=t("../base-xform"),c=t("../static-xform"),a=t("../list-xform"),u=t("./font-xform"),f=t("./fill-xform"),h=t("./border-xform"),m=t("./numfmt-xform"),g=t("./style-xform"),y=t("./dxf-xform");class p extends d{constructor(v){super(),this.map={numFmts:new a({tag:"numFmts",count:!0,childXform:new m}),fonts:new a({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new a({tag:"fills",count:!0,childXform:new f}),borders:new a({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new a({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new a({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new a({tag:"dxfs",always:!0,count:!0,childXform:new y}),numFmt:new m,font:new u,fill:new f,border:new h,style:new g({xfId:!0}),cellStyles:p.STATIC_XFORMS.cellStyles,tableStyles:p.STATIC_XFORMS.tableStyles,extLst:p.STATIC_XFORMS.extLst},v&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(v,j){j=j||this.model,v.openXml(o.StdDocAttributes),v.openNode("styleSheet",p.STYLESHEET_ATTRIBUTES),this.index?(j.numFmts&&j.numFmts.length&&(v.openNode("numFmts",{count:j.numFmts.length}),j.numFmts.forEach(C=>{v.writeXml(C)}),v.closeNode()),j.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),v.openNode("fonts",{count:j.fonts.length,"x14ac:knownFonts":1}),j.fonts.forEach(C=>{v.writeXml(C)}),v.closeNode(),v.openNode("fills",{count:j.fills.length}),j.fills.forEach(C=>{v.writeXml(C)}),v.closeNode(),v.openNode("borders",{count:j.borders.length}),j.borders.forEach(C=>{v.writeXml(C)}),v.closeNode(),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),v.openNode("cellXfs",{count:j.styles.length}),j.styles.forEach(C=>{v.writeXml(C)}),v.closeNode()):(this.map.numFmts.render(v,j.numFmts),this.map.fonts.render(v,j.fonts),this.map.fills.render(v,j.fills),this.map.borders.render(v,j.borders),this.map.cellStyleXfs.render(v,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(v,j.styles)),p.STATIC_XFORMS.cellStyles.render(v),this.map.dxfs.render(v,j.dxfs),p.STATIC_XFORMS.tableStyles.render(v),p.STATIC_XFORMS.extLst.render(v),v.closeNode()}parseOpen(v){return this.parser?(this.parser.parseOpen(v),!0):v.name==="styleSheet"?(this.initIndex(),!0):(this.parser=this.map[v.name],this.parser&&this.parser.parseOpen(v),!0)}parseText(v){this.parser&&this.parser.parseText(v)}parseClose(v){if(this.parser)return this.parser.parseClose(v)||(this.parser=void 0),!0;switch(v){case"styleSheet":{this.model={};const j=(C,T)=>{T.model&&T.model.length&&(this.model[C]=T.model)};if(j("numFmts",this.map.numFmts),j("fonts",this.map.fonts),j("fills",this.map.fills),j("borders",this.map.borders),j("styles",this.map.cellXfs),j("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(T=>{C[T.id]=T.formatCode})}return!1}default:return!0}}addStyleModel(v,j){if(!v)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(v))return this.weakMap.get(v);const C={};if(j=j||i.ValueType.Number,v.numFmt)C.numFmtId=this._addNumFmtStr(v.numFmt);else switch(j){case i.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}v.font&&(C.fontId=this._addFont(v.font)),v.border&&(C.borderId=this._addBorder(v.border)),v.fill&&(C.fillId=this._addFill(v.fill)),v.alignment&&(C.alignment=v.alignment),v.protection&&(C.protection=v.protection);const T=this._addStyle(C);return this.weakMap&&this.weakMap.set(v,T),T}getStyleModel(v){const j=this.model.styles[v];if(!j)return null;let C=this.index.model[v];if(C)return C;if(C=this.index.model[v]={},j.numFmtId){const D=this.index.numFmt[j.numFmtId]||m.getDefaultFmtCode(j.numFmtId);D&&(C.numFmt=D)}function T(D,q,z){if(z||z===0){const B=q[z];B&&(C[D]=B)}}return T("font",this.model.fonts,j.fontId),T("border",this.model.borders,j.borderId),T("fill",this.model.fills,j.fillId),j.alignment&&(C.alignment=j.alignment),j.protection&&(C.protection=j.protection),C}addDxfStyle(v){return v.numFmt&&(v.numFmtId=this._addNumFmtStr(v.numFmt)),this.model.dxfs.push(v),this.model.dxfs.length-1}getDxfStyle(v){return this.model.dxfs[v]}_addStyle(v){const j=this.map.style.toXml(v);let C=this.index.style[j];return C===void 0&&(C=this.index.style[j]=this.model.styles.length,this.model.styles.push(j)),C}_addNumFmtStr(v){let j=m.getDefaultFmtId(v);if(j!==void 0||(j=this.index.numFmt[v],j!==void 0))return j;j=this.index.numFmt[v]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:j,formatCode:v});return this.model.numFmts.push(C),j}_addFont(v){const j=this.map.font.toXml(v);let C=this.index.font[j];return C===void 0&&(C=this.index.font[j]=this.model.fonts.length,this.model.fonts.push(j)),C}_addBorder(v){const j=this.map.border.toXml(v);let C=this.index.border[j];return C===void 0&&(C=this.index.border[j]=this.model.borders.length,this.model.borders.push(j)),C}_addFill(v){const j=this.map.fill.toXml(v);let C=this.index.fill[j];return C===void 0&&(C=this.index.fill[j]=this.model.fills.length,this.model.fills.push(j)),C}}p.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},p.STATIC_XFORMS={cellStyles:new c({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new c({tag:"dxfs",$:{count:0}}),tableStyles:new c({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new c({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},p.Mock=class extends p{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(b){return b.autodrain(),Promise.resolve()}addStyleModel(b,v){return v===i.ValueType.Date?this.dateStyleId:0}get dateStyleId(){if(!this._dateStyleId){const b={numFmtId:m.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(b)}return this._dateStyleId}getStyleModel(){return{}}},s.exports=p},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,s,l){const i=t("../base-xform");class o extends i{constructor(c){super(),this.model=c}get tag(){return"u"}render(c,a){if((a=a||this.model)===!0)c.leafNode("u");else{const u=o.Attributes[a];u&&c.leafNode("u",u)}}parseOpen(c){c.name==="u"&&(this.model=c.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},s.exports=o},{"../base-xform":32}],137:[function(t,s,l){const i=t("../base-xform"),o=t("./filter-column-xform");s.exports=class extends i{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(d){d.columns.forEach((c,a)=>{this.map.filterColumn.prepare(c,{index:a})})}render(d,c){return d.openNode(this.tag,{ref:c.autoFilterRef}),c.columns.forEach(a=>{this.map.filterColumn.render(d,a)}),d.closeNode(),!0}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.model={autoFilterRef:d.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[d.name],this.parser)return this.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(d===this.tag)return!1;throw new Error("Unexpected xml node in parseClose: "+d)}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"customFilter"}render(o,d){o.leafNode(this.tag,{val:d.val,operator:d.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,s,l){const i=t("../base-xform"),o=t("../list-xform"),d=t("./custom-filter-xform"),c=t("./filter-xform");s.exports=class extends i{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new d}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new c})}}get tag(){return"filterColumn"}prepare(a,u){a.colId=u.index.toString()}render(a,u){return u.customFilters?(a.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(a,u.customFilters),a.closeNode(),!0):(a.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;const{attributes:u}=a;switch(a.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(){}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model.customFilters=this.map.customFilters.model,!1):!0}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"filter"}render(o,d){o.leafNode(this.tag,{val:d.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"tableColumn"}prepare(o,d){o.id=d.index+1}render(o,d){return o.leafNode(this.tag,{id:d.id.toString(),name:d.name,totalsRowLabel:d.totalsRowLabel,totalsRowFunction:d.totalsRowFunction,dxfId:d.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:d}=o;return this.model={name:d.name,totalsRowLabel:d.totalsRowLabel,totalsRowFunction:d.totalsRowFunction,dxfId:d.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,s,l){const i=t("../base-xform");s.exports=class extends i{get tag(){return"tableStyleInfo"}render(o,d){return o.leafNode(this.tag,{name:d.theme?d.theme:void 0,showFirstColumn:d.showFirstColumn?"1":"0",showLastColumn:d.showLastColumn?"1":"0",showRowStripes:d.showRowStripes?"1":"0",showColumnStripes:d.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:d}=o;return this.model={theme:d.name?d.name:null,showFirstColumn:d.showFirstColumn==="1",showLastColumn:d.showLastColumn==="1",showRowStripes:d.showRowStripes==="1",showColumnStripes:d.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,s,l){const i=t("../../../utils/xml-stream"),o=t("../base-xform"),d=t("../list-xform"),c=t("./auto-filter-xform"),a=t("./table-column-xform"),u=t("./table-style-info-xform");class f extends o{constructor(){super(),this.map={autoFilter:new c,tableColumns:new d({tag:"tableColumns",count:!0,empty:!0,childXform:new a}),tableStyleInfo:new u}}prepare(m,g){this.map.autoFilter.prepare(m),this.map.tableColumns.prepare(m.columns,g)}get tag(){return"table"}render(m,g){m.openXml(i.StdDocAttributes),m.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(m,g),this.map.tableColumns.render(m,g.columns),this.map.tableStyleInfo.render(m,g.style),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;const{name:g,attributes:y}=m;return g===this.tag?(this.reset(),this.model={name:y.name,displayName:y.displayName||y.name,tableRef:y.ref,totalsRow:y.totalsRowCount==="1",headerRow:y.headerRowCount==="1"}):(this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m)),!0}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){return this.parser?(this.parser.parseClose(m)||(this.parser=void 0),!0):m===this.tag?(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,y)=>{this.model.columns[y].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1):!0}reconcile(m,g){m.columns.forEach(y=>{y.dxfId!==void 0&&(y.style=g.styles.getDxfStyle(y.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},s.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,s,l){(function(i,o){(function(){const d=t("fs"),c=t("jszip"),{PassThrough:a}=t("readable-stream"),u=t("../utils/zip-stream"),f=t("../utils/stream-buf"),h=t("../utils/utils"),m=t("../utils/xml-stream"),{bufferToString:g}=t("../utils/browser-buffer-decode"),y=t("./xform/style/styles-xform"),p=t("./xform/core/core-xform"),b=t("./xform/strings/shared-strings-xform"),v=t("./xform/core/relationships-xform"),j=t("./xform/core/content-types-xform"),C=t("./xform/core/app-xform"),T=t("./xform/book/workbook-xform"),D=t("./xform/sheet/worksheet-xform"),q=t("./xform/drawing/drawing-xform"),z=t("./xform/table/table-xform"),B=t("./xform/comment/comments-xform"),V=t("./xform/comment/vml-notes-xform"),X=t("./xml/theme1");class W{constructor(M){this.workbook=M}async readFile(M,E){if(!await h.fs.exists(M))throw new Error("File not found: "+M);const _=d.createReadStream(M);try{const k=await this.read(_,E);return _.close(),k}catch(k){throw _.close(),k}}parseRels(M){return new v().parseStream(M)}parseWorkbook(M){return new T().parseStream(M)}parseSharedStrings(M){return new b().parseStream(M)}reconcile(M,E){const _=new T,k=new D(E),N=new q,S=new z;_.reconcile(M);const O={media:M.media,mediaIndex:M.mediaIndex};Object.keys(M.drawings).forEach(G=>{const Y=M.drawings[G],te=M.drawingRels[G];te&&(O.rels=te.reduce((U,J)=>(U[J.Id]=J,U),{}),(Y.anchors||[]).forEach(U=>{const J=U.picture&&U.picture.hyperlinks;J&&O.rels[J.rId]&&(J.hyperlink=O.rels[J.rId].Target,delete J.rId)}),N.reconcile(Y,O))});const L={styles:M.styles};Object.values(M.tables).forEach(G=>{S.reconcile(G,L)});const I={styles:M.styles,sharedStrings:M.sharedStrings,media:M.media,mediaIndex:M.mediaIndex,date1904:M.properties&&M.properties.date1904,drawings:M.drawings,comments:M.comments,tables:M.tables,vmlDrawings:M.vmlDrawings};M.worksheets.forEach(G=>{G.relationships=M.worksheetRels[G.sheetNo],k.reconcile(G,I)}),delete M.worksheetHash,delete M.worksheetRels,delete M.globalRels,delete M.sharedStrings,delete M.workbookRels,delete M.sheetDefs,delete M.styles,delete M.mediaIndex,delete M.drawings,delete M.drawingRels,delete M.vmlDrawings}async _processWorksheetEntry(M,E,_,k,N){const S=new D(k),O=await S.parseStream(M);O.sheetNo=_,E.worksheetHash[N]=O,E.worksheets.push(O)}async _processCommentEntry(M,E,_){const k=new B,N=await k.parseStream(M);E.comments[`../${_}.xml`]=N}async _processTableEntry(M,E,_){const k=new z,N=await k.parseStream(M);E.tables[`../tables/${_}.xml`]=N}async _processWorksheetRelsEntry(M,E,_){const k=new v,N=await k.parseStream(M);E.worksheetRels[_]=N}async _processMediaEntry(M,E,_){const k=_.lastIndexOf(".");if(k>=1){const N=_.substr(k+1),S=_.substr(0,k);await new Promise((O,L)=>{const I=new f;I.on("finish",()=>{E.mediaIndex[_]=E.media.length,E.mediaIndex[S]=E.media.length;const G={type:"image",name:S,extension:N,buffer:I.toBuffer()};E.media.push(G),O()}),M.on("error",G=>{L(G)}),M.pipe(I)})}}async _processDrawingEntry(M,E,_){const k=new q,N=await k.parseStream(M);E.drawings[_]=N}async _processDrawingRelsEntry(M,E,_){const k=new v,N=await k.parseStream(M);E.drawingRels[_]=N}async _processVmlDrawingEntry(M,E,_){const k=new V,N=await k.parseStream(M);E.vmlDrawings[`../drawings/${_}.vml`]=N}async _processThemeEntry(M,E,_){await new Promise((k,N)=>{const S=new f;M.on("error",N),S.on("error",N),S.on("finish",()=>{E.themes[_]=S.read().toString(),k()}),M.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(M,E){!M[Symbol.asyncIterator]&&M.pipe&&(M=M.pipe(new a));const _=[];for await(const k of M)_.push(k);return this.load(o.concat(_),E)}async load(M,E){let _;_=E&&E.base64?o.from(M.toString(),"base64"):M;const k={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},N=await c.loadAsync(_);for(const S of Object.values(N.files))if(!S.dir){let O,L=S.name;if(L[0]==="/"&&(L=L.substr(1)),L.match(/xl\/media\//)||L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))O=new a,O.write(await S.async("nodebuffer"));else{let I;O=new a({writableObjectMode:!0,readableObjectMode:!0}),I=i.browser?g(await S.async("nodebuffer")):await S.async("string");const G=16384;for(let Y=0;Y<I.length;Y+=G)O.write(I.substring(Y,Y+G))}switch(O.end(),L){case"_rels/.rels":k.globalRels=await this.parseRels(O);break;case"xl/workbook.xml":{const I=await this.parseWorkbook(O);k.sheets=I.sheets,k.definedNames=I.definedNames,k.views=I.views,k.properties=I.properties,k.calcProperties=I.calcProperties;break}case"xl/_rels/workbook.xml.rels":k.workbookRels=await this.parseRels(O);break;case"xl/sharedStrings.xml":k.sharedStrings=new b,await k.sharedStrings.parseStream(O);break;case"xl/styles.xml":k.styles=new y,await k.styles.parseStream(O);break;case"docProps/app.xml":{const I=new C,G=await I.parseStream(O);k.company=G.company,k.manager=G.manager;break}case"docProps/core.xml":{const I=new p,G=await I.parseStream(O);Object.assign(k,G);break}default:{let I=L.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(I){await this._processWorksheetEntry(O,k,I[1],E,L);break}if(I=L.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),I){await this._processWorksheetRelsEntry(O,k,I[1]);break}if(I=L.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),I){await this._processThemeEntry(O,k,I[1]);break}if(I=L.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),I){await this._processMediaEntry(O,k,I[1]);break}if(I=L.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),I){await this._processDrawingEntry(O,k,I[1]);break}if(I=L.match(/xl\/(comments\d+)[.]xml/),I){await this._processCommentEntry(O,k,I[1]);break}if(I=L.match(/xl\/tables\/(table\d+)[.]xml/),I){await this._processTableEntry(O,k,I[1]);break}if(I=L.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),I){await this._processDrawingRelsEntry(O,k,I[1]);break}if(I=L.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),I){await this._processVmlDrawingEntry(O,k,I[1]);break}}}}return this.reconcile(k,E),this.workbook.model=k,this.workbook}async addMedia(M,E){await Promise.all(E.media.map(async _=>{if(_.type==="image"){const k=`xl/media/${_.name}.${_.extension}`;if(_.filename){const N=await(function(S,O){return new Promise((L,I)=>{d.readFile(S,O,(G,Y)=>{G?I(G):L(Y)})})})(_.filename);return M.append(N,{name:k})}if(_.buffer)return M.append(_.buffer,{name:k});if(_.base64){const N=_.base64,S=N.substring(N.indexOf(",")+1);return M.append(S,{name:k,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(M,E){const _=new q,k=new v;E.worksheets.forEach(N=>{const{drawing:S}=N;if(S){_.prepare(S,{});let O=_.toXml(S);M.append(O,{name:`xl/drawings/${S.name}.xml`}),O=k.toXml(S.rels),M.append(O,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(M,E){const _=new z;E.worksheets.forEach(k=>{const{tables:N}=k;N.forEach(S=>{_.prepare(S,{});const O=_.toXml(S);M.append(O,{name:"xl/tables/"+S.target})})})}async addContentTypes(M,E){const _=new j().toXml(E);M.append(_,{name:"[Content_Types].xml"})}async addApp(M,E){const _=new C().toXml(E);M.append(_,{name:"docProps/app.xml"})}async addCore(M,E){const _=new p;M.append(_.toXml(E),{name:"docProps/core.xml"})}async addThemes(M,E){const _=E.themes||{theme1:X};Object.keys(_).forEach(k=>{const N=_[k],S=`xl/theme/${k}.xml`;M.append(N,{name:S})})}async addOfficeRels(M){const E=new v().toXml([{Id:"rId1",Type:W.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:W.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:W.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);M.append(E,{name:"_rels/.rels"})}async addWorkbookRels(M,E){let _=1;const k=[{Id:"rId"+_++,Type:W.RelType.Styles,Target:"styles.xml"},{Id:"rId"+_++,Type:W.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&k.push({Id:"rId"+_++,Type:W.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(S=>{S.rId="rId"+_++,k.push({Id:S.rId,Type:W.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const N=new v().toXml(k);M.append(N,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(M,E){E.sharedStrings&&E.sharedStrings.count&&M.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(M,E){const{xml:_}=E.styles;_&&M.append(_,{name:"xl/styles.xml"})}async addWorkbook(M,E){const _=new T;M.append(_.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(M,E){const _=new D,k=new v,N=new B,S=new V;E.worksheets.forEach(O=>{let L=new m;_.render(L,O),M.append(L.xml,{name:`xl/worksheets/sheet${O.id}.xml`}),O.rels&&O.rels.length&&(L=new m,k.render(L,O.rels),M.append(L.xml,{name:`xl/worksheets/_rels/sheet${O.id}.xml.rels`})),O.comments.length>0&&(L=new m,N.render(L,O),M.append(L.xml,{name:`xl/comments${O.id}.xml`}),L=new m,S.render(L,O),M.append(L.xml,{name:`xl/drawings/vmlDrawing${O.id}.vml`}))})}_finalize(M){return new Promise((E,_)=>{M.on("finish",()=>{E(this)}),M.on("error",_),M.finalize()})}prepareModel(M,E){M.creator=M.creator||"ExcelJS",M.lastModifiedBy=M.lastModifiedBy||"ExcelJS",M.created=M.created||new Date,M.modified=M.modified||new Date,M.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,M.useStyles=E.useStyles===void 0||E.useStyles,M.sharedStrings=new b,M.styles=M.useStyles?new y(!0):new y.Mock;const _=new T,k=new D;_.prepare(M);const N={sharedStrings:M.sharedStrings,styles:M.styles,date1904:M.properties.date1904,drawingsCount:0,media:M.media};N.drawings=M.drawings=[],N.commentRefs=M.commentRefs=[];let S=0;M.tables=[],M.worksheets.forEach(O=>{O.tables.forEach(L=>{S++,L.target=`table${S}.xml`,L.id=S,M.tables.push(L)}),k.prepare(O,N)})}async write(M,E){E=E||{};const{model:_}=this.workbook,k=new u.ZipWriter(E.zip);return k.pipe(M),this.prepareModel(_,E),await this.addContentTypes(k,_),await this.addOfficeRels(k,_),await this.addWorkbookRels(k,_),await this.addWorksheets(k,_),await this.addSharedStrings(k,_),await this.addDrawings(k,_),await this.addTables(k,_),await Promise.all([this.addThemes(k,_),this.addStyles(k,_)]),await this.addMedia(k,_),await Promise.all([this.addApp(k,_),this.addCore(k,_)]),await this.addWorkbook(k,_),this._finalize(k)}writeFile(M,E){const _=d.createWriteStream(M);return new Promise((k,N)=>{_.on("finish",()=>{k()}),_.on("error",S=>{N(S)}),this.write(_,E).then(()=>{_.end()}).catch(S=>{N(S)})})}async writeBuffer(M){const E=new f;return await this.write(E,M),E.read()}}W.RelType=t("./rel-type"),s.exports=W}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,s,l){s.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,s,l){(function(i){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvFormatterStream=void 0;const o=t("stream"),d=t("./formatter");class c extends o.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new d.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,f,h){let m=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(g,y)=>g?(m=!0,h(g)):(y&&y.forEach(p=>{this.push(i.from(p,"utf8"))}),m=!0,h()))}catch(g){if(m)throw g;h(g)}}_flush(u){this.rowFormatter.finish((f,h)=>f?u(f):(h&&h.forEach(m=>{this.push(i.from(m,"utf8"))}),u()))}}l.CsvFormatterStream=c}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FormatterOptions=void 0,l.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),i?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),i?.quote===!0?this.quote='"':i?.quote===!1&&(this.quote=""),typeof i?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=i.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,s,l){var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=void 0;const o=i(t("lodash.isboolean")),d=i(t("lodash.isnil")),c=i(t("lodash.escaperegexp"));l.FieldFormatter=class{constructor(a){this._headers=null,this.formatterOptions=a,a.headers!==null&&(this.headers=a.headers),this.REPLACE_REGEXP=new RegExp(a.quote,"g");const u=`[${a.delimiter}${c.default(a.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(a){this._headers=a}shouldQuote(a,u){const f=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(f)?f:Array.isArray(f)?f[a]:this._headers!==null&&f[this._headers[a]]}format(a,u,f){const h=(""+(d.default(a)?"":a)).replace(/\0/g,""),{formatterOptions:m}=this;return m.quote!==""&&h.indexOf(m.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,m.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,f)?this.quoteField(h):h}quoteField(a){const{quote:u}=this.formatterOptions;return`${u}${a}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,s,l){var i=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowFormatter=void 0;const o=i(t("lodash.isfunction")),d=i(t("lodash.isequal")),c=t("./FieldFormatter"),a=t("../types");class u{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new c.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return u.isRowHashArray(h)?h.map(m=>m[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return a.isSyncTransform(h)?(m,g)=>{let y=null;try{y=h(m)}catch(p){return g(p)}return g(null,y)}:(m,g)=>{h(m,g)}}set rowTransform(h){if(!o.default(h))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(h)}format(h,m){this.callTransformer(h,(g,y)=>{if(g)return m(g);if(!h)return m(null);const p=[];if(y){const{shouldFormatColumns:b,headers:v}=this.checkHeaders(y);if(this.shouldWriteHeaders&&v&&!this.hasWrittenHeaders&&(p.push(this.formatColumns(v,!0)),this.hasWrittenHeaders=!0),b){const j=this.gatherColumns(y);p.push(this.formatColumns(j,!1))}}return m(null,p)})}finish(h){const m=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));m.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&m.push(this.formatterOptions.rowDelimiter),h(null,m)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const m=u.gatherHeaders(h);return this.headers=m,this.fieldFormatter.headers=m,this.shouldWriteHeaders?{shouldFormatColumns:!d.default(m,h),headers:m}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?u.isRowHashArray(h)?this.headers.map((m,g)=>{const y=h[g];return y?y[1]:""}):u.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((m,g)=>h[g]):this.headers.map(m=>h[m])}callTransformer(h,m){return this._rowTransform?this._rowTransform(h,m):m(null,h)}formatColumns(h,m){const g=h.map((p,b)=>this.fieldFormatter.format(p,b,m)).join(this.formatterOptions.delimiter),{rowCount:y}=this;return this.rowCount+=1,y?[this.formatterOptions.rowDelimiter,g].join(""):g}}l.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=l.RowFormatter=void 0;var i=t("./RowFormatter");Object.defineProperty(l,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var o=t("./FieldFormatter");Object.defineProperty(l,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,s,l){(function(i){(function(){var o=Object.create?function(b,v,j,C){C===void 0&&(C=j),Object.defineProperty(b,C,{enumerable:!0,get:function(){return v[j]}})}:function(b,v,j,C){C===void 0&&(C=j),b[C]=v[j]},d=Object.create?function(b,v){Object.defineProperty(b,"default",{enumerable:!0,value:v})}:function(b,v){b.default=v},c=function(b){if(b&&b.__esModule)return b;var v={};if(b!=null)for(var j in b)j!=="default"&&Object.prototype.hasOwnProperty.call(b,j)&&o(v,b,j);return d(v,b),v},a=function(b,v){for(var j in b)j==="default"||Object.prototype.hasOwnProperty.call(v,j)||o(v,b,j)};Object.defineProperty(l,"__esModule",{value:!0}),l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=l.FormatterOptions=l.CsvFormatterStream=void 0;const u=t("util"),f=t("stream"),h=c(t("fs")),m=t("./FormatterOptions"),g=t("./CsvFormatterStream");a(t("./types"),l);var y=t("./CsvFormatterStream");Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return y.CsvFormatterStream}});var p=t("./FormatterOptions");Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return p.FormatterOptions}}),l.format=b=>new g.CsvFormatterStream(new m.FormatterOptions(b)),l.write=(b,v)=>{const j=l.format(v),C=u.promisify((T,D)=>{j.write(T,void 0,D)});return b.reduce((T,D)=>T.then(()=>C(D)),Promise.resolve()).then(()=>j.end()).catch(T=>{j.emit("error",T)}),j},l.writeToStream=(b,v,j)=>l.write(v,j).pipe(b),l.writeToBuffer=function(b){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const j=[],C=new f.Writable({write(T,D,q){j.push(T),q()}});return new Promise((T,D)=>{C.on("error",D).on("finish",()=>T(i.concat(j))),l.write(b,v).pipe(C)})},l.writeToString=(b,v)=>l.writeToBuffer(b,v).then(j=>j.toString()),l.writeToPath=(b,v,j)=>{const C=h.createWriteStream(b,{encoding:"utf8"});return l.write(v,j).pipe(C)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncTransform=void 0,l.isSyncTransform=i=>i.length===1},{}],153:[function(t,s,l){(function(i){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=void 0;const o=t("string_decoder"),d=t("stream"),c=t("./transforms"),a=t("./parser");class u extends d.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new a.Parser(h),this.headerTransformer=new c.HeaderTransformer(h),this.decoder=new o.StringDecoder(h.encoding),this.rowTransformerValidator=new c.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];return super.emit(h,...g)}_transform(h,m,g){if(this.hasHitRowLimit)return g();const y=u.wrapDoneCallback(g);try{const{lines:p}=this,b=p+this.decoder.write(h),v=this.parse(b,!0);return this.processRows(v,y)}catch(p){return y(p)}}_flush(h){const m=u.wrapDoneCallback(h);if(this.hasHitRowLimit)return m();try{const g=this.lines+this.decoder.end(),y=this.parse(g,!1);return this.processRows(y,m)}catch(g){return m(g)}}parse(h,m){if(!h)return[];const{line:g,rows:y}=this.parser.parse(h,m);return this.lines=g,y}processRows(h,m){const g=h.length,y=p=>{const b=C=>C?m(C):p%100!=0?y(p+1):void i(()=>y(p+1));if(this.checkAndEmitHeaders(),p>=g||this.hasHitRowLimit)return m();if(this.parsedLineCount+=1,this.shouldSkipLine)return b();const v=h[p];this.rowCount+=1,this.parsedRowCount+=1;const j=this.rowCount;return this.transformRow(v,(C,T)=>{if(C)return this.rowCount-=1,b(C);if(!T)return b(new Error("expected transform result"));if(T.isValid){if(T.row)return this.pushRow(T.row,b)}else this.emit("data-invalid",T.row,j,T.reason);return b()})};y(0)}transformRow(h,m){try{this.headerTransformer.transform(h,(g,y)=>g?m(g):y?y.isValid?y.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(y.row,m):this.skipRow(m):(this.rowCount-=1,this.parsedRowCount-=1,m(null,{row:null,isValid:!0})):this.shouldEmitRows?m(null,{isValid:!1,row:h}):this.skipRow(m):m(new Error("Expected result from header transform")))}catch(g){m(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,m){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),m()}catch(g){m(g)}}static wrapDoneCallback(h){let m=!1;return function(g){if(g){if(m)throw g;return m=!0,void h(g)}for(var y=arguments.length,p=new Array(y>1?y-1:0),b=1;b<y;b++)p[b-1]=arguments[b];h(...p)}}}l.CsvParserStream=u}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,s,l){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0}),l.ParserOptions=void 0;const o=i(t("lodash.escaperegexp")),d=i(t("lodash.isnil"));l.ParserOptions=class{constructor(c){var a;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,c||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(a=this.escape)!==null&&a!==void 0?a:this.quote,this.supportsComments=!d.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,s,l){var i=Object.create?function(y,p,b,v){v===void 0&&(v=b),Object.defineProperty(y,v,{enumerable:!0,get:function(){return p[b]}})}:function(y,p,b,v){v===void 0&&(v=b),y[v]=p[b]},o=Object.create?function(y,p){Object.defineProperty(y,"default",{enumerable:!0,value:p})}:function(y,p){y.default=p},d=function(y){if(y&&y.__esModule)return y;var p={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&i(p,y,b);return o(p,y),p},c=function(y,p){for(var b in y)b==="default"||Object.prototype.hasOwnProperty.call(p,b)||i(p,y,b)};Object.defineProperty(l,"__esModule",{value:!0}),l.parseString=l.parseFile=l.parseStream=l.parse=l.ParserOptions=l.CsvParserStream=void 0;const a=d(t("fs")),u=t("stream"),f=t("./ParserOptions"),h=t("./CsvParserStream");c(t("./types"),l);var m=t("./CsvParserStream");Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return m.CsvParserStream}});var g=t("./ParserOptions");Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),l.parse=y=>new h.CsvParserStream(new f.ParserOptions(y)),l.parseStream=(y,p)=>y.pipe(new h.CsvParserStream(new f.ParserOptions(p))),l.parseFile=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return a.createReadStream(y).pipe(new h.CsvParserStream(new f.ParserOptions(p)))},l.parseString=(y,p)=>{const b=new u.Readable;return b.push(y),b.push(null),b.pipe(new h.CsvParserStream(new f.ParserOptions(p)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=void 0;const i=t("./Scanner"),o=t("./RowParser"),d=t("./Token");class c{constructor(u){this.parserOptions=u,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,f){const h=new i.Scanner({line:c.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(u){const f=[];let h=!0;for(;h;)h=this.parseRow(u,f);return{line:u.line,rows:f}}parseWithComments(u){const{parserOptions:f}=this,h=[];for(let m=u.nextCharacterToken;m!==null;m=u.nextCharacterToken)if(d.Token.isTokenComment(m,f)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:h};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:h};u.truncateToCursor()}else if(!this.parseRow(u,h))break;return{line:u.line,rows:h}}parseRow(u,f){if(!u.nextNonSpaceToken)return!1;const h=this.rowParser.parse(u);return h!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(h)||f.push(h),!0)}}l.Parser=c},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.RowParser=void 0;const i=t("./column"),o=t("./Token");l.RowParser=class{constructor(d){this.parserOptions=d,this.columnParser=new i.ColumnParser(d)}static isEmptyRow(d){return d.join("").replace(/\s+/g,"")===""}parse(d){const{parserOptions:c}=this,{hasMoreData:a}=d,u=d,f=[];let h=this.getStartToken(u,f);for(;h;){if(o.Token.isTokenRowDelimiter(h))return u.advancePastToken(h),!u.hasMoreCharacters&&o.Token.isTokenCarriageReturn(h,c)&&a?null:(u.truncateToCursor(),f);if(!this.shouldSkipColumnParse(u,h,f)){const m=this.columnParser.parse(u);if(m===null)return null;f.push(m)}h=u.nextNonSpaceToken}return a?null:(u.truncateToCursor(),f)}getStartToken(d,c){const a=d.nextNonSpaceToken;return a!==null&&o.Token.isTokenDelimiter(a,this.parserOptions)?(c.push(""),d.nextNonSpaceToken):a}shouldSkipColumnParse(d,c,a){const{parserOptions:u}=this;if(o.Token.isTokenDelimiter(c,u)){d.advancePastToken(c);const f=d.nextCharacterToken;if(!d.hasMoreCharacters||f!==null&&o.Token.isTokenRowDelimiter(f)||f!==null&&o.Token.isTokenDelimiter(f,u))return a.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Scanner=void 0;const i=t("./Token"),o=/((?:\r\n)|\n|\r)/;l.Scanner=class{constructor(d){this.cursor=0,this.line=d.line,this.lineLength=this.line.length,this.parserOptions=d.parserOptions,this.hasMoreData=d.hasMoreData,this.cursor=d.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:d}=this,c=this.parserOptions.NEXT_TOKEN_REGEXP;if(d.search(c)===-1)return null;const a=c.exec(d);if(a==null)return null;const u=a[1],f=this.cursor+(a.index||0);return new i.Token({token:u,startCursor:f,endCursor:f+u.length-1})}get nextCharacterToken(){const{cursor:d,lineLength:c}=this;return c<=d?null:new i.Token({token:this.line[d],startCursor:d,endCursor:d})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const d=o.exec(this.lineFromCursor);return d?(this.cursor+=(d.index||0)+d[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(d){return this.cursor=d,this}advanceToToken(d){return this.cursor=d.startCursor,this}advancePastToken(d){return this.cursor=d.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Token=void 0,l.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const o=i.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(i,o){return i.token===o.carriageReturn}static isTokenComment(i,o){return o.supportsComments&&!!i&&i.token===o.comment}static isTokenEscapeCharacter(i,o){return i.token===o.escapeChar}static isTokenQuote(i,o){return i.token===o.quote}static isTokenDelimiter(i,o){return i.token===o.delimiter}}},{}],160:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=void 0,l.ColumnFormatter=class{constructor(i){i.trim?this.format=o=>o.trim():i.ltrim?this.format=o=>o.trimLeft():i.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnParser=void 0;const i=t("./NonQuotedColumnParser"),o=t("./QuotedColumnParser"),d=t("../Token");l.ColumnParser=class{constructor(c){this.parserOptions=c,this.quotedColumnParser=new o.QuotedColumnParser(c),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(c)}parse(c){const{nextNonSpaceToken:a}=c;return a!==null&&d.Token.isTokenQuote(a,this.parserOptions)?(c.advanceToToken(a),this.quotedColumnParser.parse(c)):this.nonQuotedColumnParser.parse(c)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.NonQuotedColumnParser=void 0;const i=t("./ColumnFormatter"),o=t("../Token");l.NonQuotedColumnParser=class{constructor(d){this.parserOptions=d,this.columnFormatter=new i.ColumnFormatter(d)}parse(d){if(!d.hasMoreCharacters)return null;const{parserOptions:c}=this,a=[];let u=d.nextCharacterToken;for(;u&&!o.Token.isTokenDelimiter(u,c)&&!o.Token.isTokenRowDelimiter(u);u=d.nextCharacterToken)a.push(u.token),d.advancePastToken(u);return this.columnFormatter.format(a.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=void 0;const i=t("./ColumnFormatter"),o=t("../Token");l.QuotedColumnParser=class{constructor(d){this.parserOptions=d,this.columnFormatter=new i.ColumnFormatter(d)}parse(d){if(!d.hasMoreCharacters)return null;const c=d.cursor,{foundClosingQuote:a,col:u}=this.gatherDataBetweenQuotes(d);if(!a){if(d.advanceTo(c),!d.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${d.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(d),u}gatherDataBetweenQuotes(d){const{parserOptions:c}=this;let a=!1,u=!1;const f=[];let h=d.nextCharacterToken;for(;!u&&h!==null;h=d.nextCharacterToken){const m=o.Token.isTokenQuote(h,c);if(!a&&m)a=!0;else if(a)if(o.Token.isTokenEscapeCharacter(h,c)){d.advancePastToken(h);const g=d.nextCharacterToken;g!==null&&(o.Token.isTokenQuote(g,c)||o.Token.isTokenEscapeCharacter(g,c))?(f.push(g.token),h=g):m?u=!0:f.push(h.token)}else m?u=!0:f.push(h.token);d.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:u}}checkForMalformedColumn(d){const{parserOptions:c}=this,{nextNonSpaceToken:a}=d;if(a){const u=o.Token.isTokenDelimiter(a,c),f=o.Token.isTokenRowDelimiter(a);if(!u&&!f){const h=d.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${c.escapedDelimiter}' OR new line got: '${a.token}'. at '${h}`)}d.advanceToToken(a)}else d.hasMoreData||d.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=void 0;var i=t("./ColumnParser");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var o=t("./NonQuotedColumnParser");Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var d=t("./QuotedColumnParser");Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return d.QuotedColumnParser}});var c=t("./ColumnFormatter");Object.defineProperty(l,"ColumnFormatter",{enumerable:!0,get:function(){return c.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=l.Token=l.Scanner=l.RowParser=l.Parser=void 0;var i=t("./Parser");Object.defineProperty(l,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=t("./RowParser");Object.defineProperty(l,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var d=t("./Scanner");Object.defineProperty(l,"Scanner",{enumerable:!0,get:function(){return d.Scanner}});var c=t("./Token");Object.defineProperty(l,"Token",{enumerable:!0,get:function(){return c.Token}});var a=t("./column");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return a.ColumnParser}}),Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return a.NonQuotedColumnParser}}),Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,s,l){var i=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=void 0;const o=i(t("lodash.isundefined")),d=i(t("lodash.isfunction")),c=i(t("lodash.uniq")),a=i(t("lodash.groupby"));l.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):d.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,f){return this.shouldMapRow(u)?f(null,this.processRow(u)):f(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&u.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return f.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const f={},{headers:h,headersLength:m}=this;for(let g=0;g<m;g+=1){const y=h[g];if(!o.default(y)){const p=u[g];o.default(p)?f[y]="":f[y]=p}}return f}setHeaders(u){var f;const h=u.filter(m=>!!m);if(c.default(h).length!==h.length){const m=a.default(h),g=Object.keys(m).filter(y=>m[y].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,s,l){var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowTransformerValidator=void 0;const o=i(t("lodash.isfunction")),d=t("../types");class c{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return d.isSyncTransform(u)?(f,h)=>{let m=null;try{m=u(f)}catch(g){return h(g)}return h(null,m)}:u}static createValidator(u){return d.isSyncValidate(u)?(f,h)=>{h(null,{row:f,isValid:u(f)})}:(f,h)=>{u(f,(m,g,y)=>m?h(m):h(null,g?{row:f,isValid:g,reason:y}:{row:f,isValid:!1,reason:y}))}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}set rowValidator(u){if(!o.default(u))throw new TypeError("The validate should be a function");this._rowValidator=c.createValidator(u)}transformAndValidate(u,f){return this.callTransformer(u,(h,m)=>h?f(h):m?this.callValidator(m,(g,y)=>g?f(g):y&&!y.isValid?f(null,{row:m,isValid:!1,reason:y.reason}):f(null,{row:m,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(u,f){return this._rowTransform?this._rowTransform(u,f):f(null,u)}callValidator(u,f){return this._rowValidator?this._rowValidator(u,f):f(null,{row:u,isValid:!0})}}l.RowTransformerValidator=c},{"../types":169,"lodash.isfunction":446}],168:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=l.RowTransformerValidator=void 0;var i=t("./RowTransformerValidator");Object.defineProperty(l,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var o=t("./HeaderTransformer");Object.defineProperty(l,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncValidate=l.isSyncTransform=void 0,l.isSyncTransform=i=>i.length===1,l.isSyncValidate=i=>i.length===1},{}],170:[function(t,s,l){const i=l;i.bignum=t("bn.js"),i.define=t("./asn1/api").define,i.base=t("./asn1/base"),i.constants=t("./asn1/constants"),i.decoders=t("./asn1/decoders"),i.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,s,l){const i=t("./encoders"),o=t("./decoders"),d=t("inherits");function c(a,u){this.name=a,this.body=u,this.decoders={},this.encoders={}}l.define=function(a,u){return new c(a,u)},c.prototype._createNamed=function(a){const u=this.name;function f(h){this._initNamed(h,u)}return d(f,a),f.prototype._initNamed=function(h,m){a.call(this,h,m)},new f(this)},c.prototype._getDecoder=function(a){return a=a||"der",this.decoders.hasOwnProperty(a)||(this.decoders[a]=this._createNamed(o[a])),this.decoders[a]},c.prototype.decode=function(a,u,f){return this._getDecoder(u).decode(a,f)},c.prototype._getEncoder=function(a){return a=a||"der",this.encoders.hasOwnProperty(a)||(this.encoders[a]=this._createNamed(i[a])),this.encoders[a]},c.prototype.encode=function(a,u,f){return this._getEncoder(u).encode(a,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,s,l){const i=t("inherits"),o=t("../base/reporter").Reporter,d=t("safer-buffer").Buffer;function c(u,f){o.call(this,f),d.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function a(u,f){if(Array.isArray(u))this.length=0,this.value=u.map((function(h){return a.isEncoderBuffer(h)||(h=new a(h,f)),this.length+=h.length,h}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return f.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=d.byteLength(u);else{if(!d.isBuffer(u))return f.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}i(c,o),l.DecoderBuffer=c,c.isDecoderBuffer=function(u){return u instanceof c?!0:typeof u=="object"&&d.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},c.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},c.prototype.restore=function(u){const f=new c(this.base);return f.offset=u.offset,f.length=this.offset,this.offset=u.offset,o.prototype.restore.call(this,u.reporter),f},c.prototype.isEmpty=function(){return this.offset===this.length},c.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},c.prototype.skip=function(u,f){if(!(this.offset+u<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new c(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+u,this.offset+=u,h},c.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},l.EncoderBuffer=a,a.isEncoderBuffer=function(u){return u instanceof a?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},a.prototype.join=function(u,f){return u||(u=d.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(h){h.join(u,f),f+=h.length})):(typeof this.value=="number"?u[f]=this.value:typeof this.value=="string"?u.write(this.value,f):d.isBuffer(this.value)&&this.value.copy(u,f),f+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,s,l){const i=l;i.Reporter=t("./reporter").Reporter,i.DecoderBuffer=t("./buffer").DecoderBuffer,i.EncoderBuffer=t("./buffer").EncoderBuffer,i.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,s,l){const i=t("../base/reporter").Reporter,o=t("../base/buffer").EncoderBuffer,d=t("../base/buffer").DecoderBuffer,c=t("minimalistic-assert"),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a);function f(m,g,y){const p={};this._baseState=p,p.name=y,p.enc=m,p.parent=g||null,p.children=null,p.tag=null,p.args=null,p.reverseArgs=null,p.choice=null,p.optional=!1,p.any=!1,p.obj=!1,p.use=null,p.useDecoder=null,p.key=null,p.default=null,p.explicit=null,p.implicit=null,p.contains=null,p.parent||(p.children=[],this._wrap())}s.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const m=this._baseState,g={};h.forEach((function(p){g[p]=m[p]}));const y=new this.constructor(g.parent);return y._baseState=g,y},f.prototype._wrap=function(){const m=this._baseState;u.forEach((function(g){this[g]=function(){const y=new this.constructor(this);return m.children.push(y),y[g].apply(y,arguments)}}),this)},f.prototype._init=function(m){const g=this._baseState;c(g.parent===null),m.call(this),g.children=g.children.filter((function(y){return y._baseState.parent===this}),this),c.equal(g.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(m){const g=this._baseState,y=m.filter((function(p){return p instanceof this.constructor}),this);m=m.filter((function(p){return!(p instanceof this.constructor)}),this),y.length!==0&&(c(g.children===null),g.children=y,y.forEach((function(p){p._baseState.parent=this}),this)),m.length!==0&&(c(g.args===null),g.args=m,g.reverseArgs=m.map((function(p){if(typeof p!="object"||p.constructor!==Object)return p;const b={};return Object.keys(p).forEach((function(v){v==(0|v)&&(v|=0);const j=p[v];b[j]=v})),b})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(m){f.prototype[m]=function(){const g=this._baseState;throw new Error(m+" not implemented for encoding: "+g.enc)}})),a.forEach((function(m){f.prototype[m]=function(){const g=this._baseState,y=Array.prototype.slice.call(arguments);return c(g.tag===null),g.tag=m,this._useArgs(y),this}})),f.prototype.use=function(m){c(m);const g=this._baseState;return c(g.use===null),g.use=m,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(m){const g=this._baseState;return c(g.default===null),g.default=m,g.optional=!0,this},f.prototype.explicit=function(m){const g=this._baseState;return c(g.explicit===null&&g.implicit===null),g.explicit=m,this},f.prototype.implicit=function(m){const g=this._baseState;return c(g.explicit===null&&g.implicit===null),g.implicit=m,this},f.prototype.obj=function(){const m=this._baseState,g=Array.prototype.slice.call(arguments);return m.obj=!0,g.length!==0&&this._useArgs(g),this},f.prototype.key=function(m){const g=this._baseState;return c(g.key===null),g.key=m,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(m){const g=this._baseState;return c(g.choice===null),g.choice=m,this._useArgs(Object.keys(m).map((function(y){return m[y]}))),this},f.prototype.contains=function(m){const g=this._baseState;return c(g.use===null),g.contains=m,this},f.prototype._decode=function(m,g){const y=this._baseState;if(y.parent===null)return m.wrapResult(y.children[0]._decode(m,g));let p,b=y.default,v=!0,j=null;if(y.key!==null&&(j=m.enterKey(y.key)),y.optional){let C=null;if(y.explicit!==null?C=y.explicit:y.implicit!==null?C=y.implicit:y.tag!==null&&(C=y.tag),C!==null||y.any){if(v=this._peekTag(m,C,y.any),m.isError(v))return v}else{const T=m.save();try{y.choice===null?this._decodeGeneric(y.tag,m,g):this._decodeChoice(m,g),v=!0}catch{v=!1}m.restore(T)}}if(y.obj&&v&&(p=m.enterObject()),v){if(y.explicit!==null){const T=this._decodeTag(m,y.explicit);if(m.isError(T))return T;m=T}const C=m.offset;if(y.use===null&&y.choice===null){let T;y.any&&(T=m.save());const D=this._decodeTag(m,y.implicit!==null?y.implicit:y.tag,y.any);if(m.isError(D))return D;y.any?b=m.raw(T):m=D}if(g&&g.track&&y.tag!==null&&g.track(m.path(),C,m.length,"tagged"),g&&g.track&&y.tag!==null&&g.track(m.path(),m.offset,m.length,"content"),y.any||(b=y.choice===null?this._decodeGeneric(y.tag,m,g):this._decodeChoice(m,g)),m.isError(b))return b;if(y.any||y.choice!==null||y.children===null||y.children.forEach((function(T){T._decode(m,g)})),y.contains&&(y.tag==="octstr"||y.tag==="bitstr")){const T=new d(b);b=this._getUse(y.contains,m._reporterState.obj)._decode(T,g)}}return y.obj&&v&&(b=m.leaveObject(p)),y.key===null||b===null&&v!==!0?j!==null&&m.exitKey(j):m.leaveKey(j,y.key,b),b},f.prototype._decodeGeneric=function(m,g,y){const p=this._baseState;return m==="seq"||m==="set"?null:m==="seqof"||m==="setof"?this._decodeList(g,m,p.args[0],y):/str$/.test(m)?this._decodeStr(g,m,y):m==="objid"&&p.args?this._decodeObjid(g,p.args[0],p.args[1],y):m==="objid"?this._decodeObjid(g,null,null,y):m==="gentime"||m==="utctime"?this._decodeTime(g,m,y):m==="null_"?this._decodeNull(g,y):m==="bool"?this._decodeBool(g,y):m==="objDesc"?this._decodeStr(g,m,y):m==="int"||m==="enum"?this._decodeInt(g,p.args&&p.args[0],y):p.use!==null?this._getUse(p.use,g._reporterState.obj)._decode(g,y):g.error("unknown tag: "+m)},f.prototype._getUse=function(m,g){const y=this._baseState;return y.useDecoder=this._use(m,g),c(y.useDecoder._baseState.parent===null),y.useDecoder=y.useDecoder._baseState.children[0],y.implicit!==y.useDecoder._baseState.implicit&&(y.useDecoder=y.useDecoder.clone(),y.useDecoder._baseState.implicit=y.implicit),y.useDecoder},f.prototype._decodeChoice=function(m,g){const y=this._baseState;let p=null,b=!1;return Object.keys(y.choice).some((function(v){const j=m.save(),C=y.choice[v];try{const T=C._decode(m,g);if(m.isError(T))return!1;p={type:v,value:T},b=!0}catch{return m.restore(j),!1}return!0}),this),b?p:m.error("Choice not matched")},f.prototype._createEncoderBuffer=function(m){return new o(m,this.reporter)},f.prototype._encode=function(m,g,y){const p=this._baseState;if(p.default!==null&&p.default===m)return;const b=this._encodeValue(m,g,y);return b===void 0||this._skipDefault(b,g,y)?void 0:b},f.prototype._encodeValue=function(m,g,y){const p=this._baseState;if(p.parent===null)return p.children[0]._encode(m,g||new i);let b=null;if(this.reporter=g,p.optional&&m===void 0){if(p.default===null)return;m=p.default}let v=null,j=!1;if(p.any)b=this._createEncoderBuffer(m);else if(p.choice)b=this._encodeChoice(m,g);else if(p.contains)v=this._getUse(p.contains,y)._encode(m,g),j=!0;else if(p.children)v=p.children.map((function(C){if(C._baseState.tag==="null_")return C._encode(null,g,m);if(C._baseState.key===null)return g.error("Child should have a key");const T=g.enterKey(C._baseState.key);if(typeof m!="object")return g.error("Child expected, but input is not object");const D=C._encode(m[C._baseState.key],g,m);return g.leaveKey(T),D}),this).filter((function(C){return C})),v=this._createEncoderBuffer(v);else if(p.tag==="seqof"||p.tag==="setof"){if(!p.args||p.args.length!==1)return g.error("Too many args for : "+p.tag);if(!Array.isArray(m))return g.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,v=this._createEncoderBuffer(m.map((function(T){const D=this._baseState;return this._getUse(D.args[0],m)._encode(T,g)}),C))}else p.use!==null?b=this._getUse(p.use,y)._encode(m,g):(v=this._encodePrimitive(p.tag,m),j=!0);if(!p.any&&p.choice===null){const C=p.implicit!==null?p.implicit:p.tag,T=p.implicit===null?"universal":"context";C===null?p.use===null&&g.error("Tag could be omitted only for .use()"):p.use===null&&(b=this._encodeComposite(C,j,T,v))}return p.explicit!==null&&(b=this._encodeComposite(p.explicit,!1,"context",b)),b},f.prototype._encodeChoice=function(m,g){const y=this._baseState,p=y.choice[m.type];return p||c(!1,m.type+" not found in "+JSON.stringify(Object.keys(y.choice))),p._encode(m.value,g)},f.prototype._encodePrimitive=function(m,g){const y=this._baseState;if(/str$/.test(m))return this._encodeStr(g,m);if(m==="objid"&&y.args)return this._encodeObjid(g,y.reverseArgs[0],y.args[1]);if(m==="objid")return this._encodeObjid(g,null,null);if(m==="gentime"||m==="utctime")return this._encodeTime(g,m);if(m==="null_")return this._encodeNull();if(m==="int"||m==="enum")return this._encodeInt(g,y.args&&y.reverseArgs[0]);if(m==="bool")return this._encodeBool(g);if(m==="objDesc")return this._encodeStr(g,m);throw new Error("Unsupported tag: "+m)},f.prototype._isNumstr=function(m){return/^[0-9 ]*$/.test(m)},f.prototype._isPrintstr=function(m){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(m)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,s,l){const i=t("inherits");function o(c){this._reporterState={obj:null,path:[],options:c||{},errors:[]}}function d(c,a){this.path=c,this.rethrow(a)}l.Reporter=o,o.prototype.isError=function(c){return c instanceof d},o.prototype.save=function(){const c=this._reporterState;return{obj:c.obj,pathLen:c.path.length}},o.prototype.restore=function(c){const a=this._reporterState;a.obj=c.obj,a.path=a.path.slice(0,c.pathLen)},o.prototype.enterKey=function(c){return this._reporterState.path.push(c)},o.prototype.exitKey=function(c){const a=this._reporterState;a.path=a.path.slice(0,c-1)},o.prototype.leaveKey=function(c,a,u){const f=this._reporterState;this.exitKey(c),f.obj!==null&&(f.obj[a]=u)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const c=this._reporterState,a=c.obj;return c.obj={},a},o.prototype.leaveObject=function(c){const a=this._reporterState,u=a.obj;return a.obj=c,u},o.prototype.error=function(c){let a;const u=this._reporterState,f=c instanceof d;if(a=f?c:new d(u.path.map((function(h){return"["+JSON.stringify(h)+"]"})).join(""),c.message||c,c.stack),!u.options.partial)throw a;return f||u.errors.push(a),a},o.prototype.wrapResult=function(c){const a=this._reporterState;return a.options.partial?{result:this.isError(c)?null:c,errors:a.errors}:c},i(d,Error),d.prototype.rethrow=function(c){if(this.message=c+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,d),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this}},{inherits:440}],176:[function(t,s,l){function i(o){const d={};return Object.keys(o).forEach((function(c){(0|c)==c&&(c|=0);const a=o[c];d[a]=c})),d}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=i(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=i(l.tag)},{}],177:[function(t,s,l){const i=l;i._reverse=function(o){const d={};return Object.keys(o).forEach((function(c){(0|c)==c&&(c|=0);const a=o[c];d[a]=c})),d},i.der=t("./der")},{"./der":176}],178:[function(t,s,l){const i=t("inherits"),o=t("bn.js"),d=t("../base/buffer").DecoderBuffer,c=t("../base/node"),a=t("../constants/der");function u(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new f,this.tree._init(g.body)}function f(g){c.call(this,"der",g)}function h(g,y){let p=g.readUInt8(y);if(g.isError(p))return p;const b=a.tagClass[p>>6],v=(32&p)==0;if((31&p)==31){let j=p;for(p=0;(128&j)==128;){if(j=g.readUInt8(y),g.isError(j))return j;p<<=7,p|=127&j}}else p&=31;return{cls:b,primitive:v,tag:p,tagStr:a.tag[p]}}function m(g,y,p){let b=g.readUInt8(p);if(g.isError(b))return b;if(!y&&b===128)return null;if((128&b)==0)return b;const v=127&b;if(v>4)return g.error("length octect is too long");b=0;for(let j=0;j<v;j++){b<<=8;const C=g.readUInt8(p);if(g.isError(C))return C;b|=C}return b}s.exports=u,u.prototype.decode=function(g,y){return d.isDecoderBuffer(g)||(g=new d(g,y)),this.tree._decode(g,y)},i(f,c),f.prototype._peekTag=function(g,y,p){if(g.isEmpty())return!1;const b=g.save(),v=h(g,'Failed to peek tag: "'+y+'"');return g.isError(v)?v:(g.restore(b),v.tag===y||v.tagStr===y||v.tagStr+"of"===y||p)},f.prototype._decodeTag=function(g,y,p){const b=h(g,'Failed to decode tag of "'+y+'"');if(g.isError(b))return b;let v=m(g,b.primitive,'Failed to get length of "'+y+'"');if(g.isError(v))return v;if(!p&&b.tag!==y&&b.tagStr!==y&&b.tagStr+"of"!==y)return g.error('Failed to match tag: "'+y+'"');if(b.primitive||v!==null)return g.skip(v,'Failed to match body of: "'+y+'"');const j=g.save(),C=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(C)?C:(v=g.offset-j.offset,g.restore(j),g.skip(v,'Failed to match body of: "'+y+'"'))},f.prototype._skipUntilEnd=function(g,y){for(;;){const p=h(g,y);if(g.isError(p))return p;const b=m(g,p.primitive,y);if(g.isError(b))return b;let v;if(v=p.primitive||b!==null?g.skip(b):this._skipUntilEnd(g,y),g.isError(v))return v;if(p.tagStr==="end")break}},f.prototype._decodeList=function(g,y,p,b){const v=[];for(;!g.isEmpty();){const j=this._peekTag(g,"end");if(g.isError(j))return j;const C=p.decode(g,"der",b);if(g.isError(C)&&j)break;v.push(C)}return v},f.prototype._decodeStr=function(g,y){if(y==="bitstr"){const p=g.readUInt8();return g.isError(p)?p:{unused:p,data:g.raw()}}if(y==="bmpstr"){const p=g.raw();if(p.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let b="";for(let v=0;v<p.length/2;v++)b+=String.fromCharCode(p.readUInt16BE(2*v));return b}if(y==="numstr"){const p=g.raw().toString("ascii");return this._isNumstr(p)?p:g.error("Decoding of string type: numstr unsupported characters")}if(y==="octstr"||y==="objDesc")return g.raw();if(y==="printstr"){const p=g.raw().toString("ascii");return this._isPrintstr(p)?p:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(y)?g.raw().toString():g.error("Decoding of string type: "+y+" unsupported")},f.prototype._decodeObjid=function(g,y,p){let b;const v=[];let j=0,C=0;for(;!g.isEmpty();)C=g.readUInt8(),j<<=7,j|=127&C,(128&C)==0&&(v.push(j),j=0);128&C&&v.push(j);const T=v[0]/40|0,D=v[0]%40;if(b=p?v:[T,D].concat(v.slice(1)),y){let q=y[b.join(" ")];q===void 0&&(q=y[b.join(".")]),q!==void 0&&(b=q)}return b},f.prototype._decodeTime=function(g,y){const p=g.raw().toString();let b,v,j,C,T,D;if(y==="gentime")b=0|p.slice(0,4),v=0|p.slice(4,6),j=0|p.slice(6,8),C=0|p.slice(8,10),T=0|p.slice(10,12),D=0|p.slice(12,14);else{if(y!=="utctime")return g.error("Decoding "+y+" time is not supported yet");b=0|p.slice(0,2),v=0|p.slice(2,4),j=0|p.slice(4,6),C=0|p.slice(6,8),T=0|p.slice(8,10),D=0|p.slice(10,12),b=b<70?2e3+b:1900+b}return Date.UTC(b,v-1,j,C,T,D,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(g){const y=g.readUInt8();return g.isError(y)?y:y!==0},f.prototype._decodeInt=function(g,y){const p=g.raw();let b=new o(p);return y&&(b=y[b.toString(10)]||b),b},f.prototype._use=function(g,y){return typeof g=="function"&&(g=g(y)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,s,l){const i=l;i.der=t("./der"),i.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,s,l){const i=t("inherits"),o=t("safer-buffer").Buffer,d=t("./der");function c(a){d.call(this,a),this.enc="pem"}i(c,d),s.exports=c,c.prototype.decode=function(a,u){const f=a.toString().split(/[\r\n]+/g),h=u.label.toUpperCase(),m=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,y=-1;for(let v=0;v<f.length;v++){const j=f[v].match(m);if(j!==null&&j[2]===h){if(g!==-1){if(j[1]!=="END")break;y=v;break}if(j[1]!=="BEGIN")break;g=v}}if(g===-1||y===-1)throw new Error("PEM section not found for: "+h);const p=f.slice(g+1,y).join("");p.replace(/[^a-z0-9+/=]+/gi,"");const b=o.from(p,"base64");return d.prototype.decode.call(this,b,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,s,l){const i=t("inherits"),o=t("safer-buffer").Buffer,d=t("../base/node"),c=t("../constants/der");function a(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new u,this.tree._init(h.body)}function u(h){d.call(this,"der",h)}function f(h){return h<10?"0"+h:h}s.exports=a,a.prototype.encode=function(h,m){return this.tree._encode(h,m).join()},i(u,d),u.prototype._encodeComposite=function(h,m,g,y){const p=(function(j,C,T,D){let q;if(j==="seqof"?j="seq":j==="setof"&&(j="set"),c.tagByName.hasOwnProperty(j))q=c.tagByName[j];else{if(typeof j!="number"||(0|j)!==j)return D.error("Unknown tag: "+j);q=j}return q>=31?D.error("Multi-octet tag encoding unsupported"):(C||(q|=32),q|=c.tagClassByName[T||"universal"]<<6,q)})(h,m,g,this.reporter);if(y.length<128){const j=o.alloc(2);return j[0]=p,j[1]=y.length,this._createEncoderBuffer([j,y])}let b=1;for(let j=y.length;j>=256;j>>=8)b++;const v=o.alloc(2+b);v[0]=p,v[1]=128|b;for(let j=1+b,C=y.length;C>0;j--,C>>=8)v[j]=255&C;return this._createEncoderBuffer([v,y])},u.prototype._encodeStr=function(h,m){if(m==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(m==="bmpstr"){const g=o.alloc(2*h.length);for(let y=0;y<h.length;y++)g.writeUInt16BE(h.charCodeAt(y),2*y);return this._createEncoderBuffer(g)}return m==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):m==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)||m==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+m+" unsupported")},u.prototype._encodeObjid=function(h,m,g){if(typeof h=="string"){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=m[h].split(/[\s.]+/g);for(let v=0;v<h.length;v++)h[v]|=0}else if(Array.isArray(h)){h=h.slice();for(let v=0;v<h.length;v++)h[v]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!g){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let y=0;for(let v=0;v<h.length;v++){let j=h[v];for(y++;j>=128;j>>=7)y++}const p=o.alloc(y);let b=p.length-1;for(let v=h.length-1;v>=0;v--){let j=h[v];for(p[b--]=127&j;(j>>=7)>0;)p[b--]=128|127&j}return this._createEncoderBuffer(p)},u.prototype._encodeTime=function(h,m){let g;const y=new Date(h);return m==="gentime"?g=[f(y.getUTCFullYear()),f(y.getUTCMonth()+1),f(y.getUTCDate()),f(y.getUTCHours()),f(y.getUTCMinutes()),f(y.getUTCSeconds()),"Z"].join(""):m==="utctime"?g=[f(y.getUTCFullYear()%100),f(y.getUTCMonth()+1),f(y.getUTCDate()),f(y.getUTCHours()),f(y.getUTCMinutes()),f(y.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(g,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(h,m){if(typeof h=="string"){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=m[h]}if(typeof h!="number"&&!o.isBuffer(h)){const p=h.toArray();!h.sign&&128&p[0]&&p.unshift(0),h=o.from(p)}if(o.isBuffer(h)){let p=h.length;h.length===0&&p++;const b=o.alloc(p);return h.copy(b),h.length===0&&(b[0]=0),this._createEncoderBuffer(b)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let g=1;for(let p=h;p>=256;p>>=8)g++;const y=new Array(g);for(let p=y.length-1;p>=0;p--)y[p]=255&h,h>>=8;return 128&y[0]&&y.unshift(0),this._createEncoderBuffer(o.from(y))},u.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},u.prototype._use=function(h,m){return typeof h=="function"&&(h=h(m)),h._getEncoder("der").tree},u.prototype._skipDefault=function(h,m,g){const y=this._baseState;let p;if(y.default===null)return!1;const b=h.join();if(y.defaultBuffer===void 0&&(y.defaultBuffer=this._encodeValue(y.default,m,g).join()),b.length!==y.defaultBuffer.length)return!1;for(p=0;p<b.length;p++)if(b[p]!==y.defaultBuffer[p])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,s,l){const i=l;i.der=t("./der"),i.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,s,l){const i=t("inherits"),o=t("./der");function d(c){o.call(this,c),this.enc="pem"}i(d,o),s.exports=d,d.prototype.encode=function(c,a){const u=o.prototype.encode.call(this,c).toString("base64"),f=["-----BEGIN "+a.label+"-----"];for(let h=0;h<u.length;h+=64)f.push(u.slice(h,h+64));return f.push("-----END "+a.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,s,l){(function(i,o){function d(P,M){if(!P)throw new Error(M||"Assertion failed")}function c(P,M){P.super_=M;var E=function(){};E.prototype=M.prototype,P.prototype=new E,P.prototype.constructor=P}function a(P,M,E){if(a.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&(M!=="le"&&M!=="be"||(E=M,M=10),this._init(P||0,M||10,E||"be"))}var u;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(P,M){var E=P.charCodeAt(M);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function h(P,M,E){var _=f(P,E);return E-1>=M&&(_|=f(P,E-1)<<4),_}function m(P,M,E,_){for(var k=0,N=Math.min(P.length,E),S=M;S<N;S++){var O=P.charCodeAt(S)-48;k*=_,k+=O>=49?O-49+10:O>=17?O-17+10:O}return k}a.isBN=function(P){return P instanceof a||P!==null&&typeof P=="object"&&P.constructor.wordSize===a.wordSize&&Array.isArray(P.words)},a.max=function(P,M){return P.cmp(M)>0?P:M},a.min=function(P,M){return P.cmp(M)<0?P:M},a.prototype._init=function(P,M,E){if(typeof P=="number")return this._initNumber(P,M,E);if(typeof P=="object")return this._initArray(P,M,E);M==="hex"&&(M=16),d(M===(0|M)&&M>=2&&M<=36);var _=0;(P=P.toString().replace(/\s+/g,""))[0]==="-"&&(_++,this.negative=1),_<P.length&&(M===16?this._parseHex(P,_,E):(this._parseBase(P,M,_),E==="le"&&this._initArray(this.toArray(),M,E)))},a.prototype._initNumber=function(P,M,E){P<0&&(this.negative=1,P=-P),P<67108864?(this.words=[67108863&P],this.length=1):P<4503599627370496?(this.words=[67108863&P,P/67108864&67108863],this.length=2):(d(P<9007199254740992),this.words=[67108863&P,P/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),M,E)},a.prototype._initArray=function(P,M,E){if(d(typeof P.length=="number"),P.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(P.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,N,S=0;if(E==="be")for(_=P.length-1,k=0;_>=0;_-=3)N=P[_]|P[_-1]<<8|P[_-2]<<16,this.words[k]|=N<<S&67108863,this.words[k+1]=N>>>26-S&67108863,(S+=24)>=26&&(S-=26,k++);else if(E==="le")for(_=0,k=0;_<P.length;_+=3)N=P[_]|P[_+1]<<8|P[_+2]<<16,this.words[k]|=N<<S&67108863,this.words[k+1]=N>>>26-S&67108863,(S+=24)>=26&&(S-=26,k++);return this.strip()},a.prototype._parseHex=function(P,M,E){this.length=Math.ceil((P.length-M)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var k,N=0,S=0;if(E==="be")for(_=P.length-1;_>=M;_-=2)k=h(P,M,_)<<N,this.words[S]|=67108863&k,N>=18?(N-=18,S+=1,this.words[S]|=k>>>26):N+=8;else for(_=(P.length-M)%2==0?M+1:M;_<P.length;_+=2)k=h(P,M,_)<<N,this.words[S]|=67108863&k,N>=18?(N-=18,S+=1,this.words[S]|=k>>>26):N+=8;this.strip()},a.prototype._parseBase=function(P,M,E){this.words=[0],this.length=1;for(var _=0,k=1;k<=67108863;k*=M)_++;_--,k=k/M|0;for(var N=P.length-E,S=N%_,O=Math.min(N,N-S)+E,L=0,I=E;I<O;I+=_)L=m(P,I,I+_,M),this.imuln(k),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L);if(S!==0){var G=1;for(L=m(P,I,P.length,M),I=0;I<S;I++)G*=M;this.imuln(G),this.words[0]+L<67108864?this.words[0]+=L:this._iaddn(L)}this.strip()},a.prototype.copy=function(P){P.words=new Array(this.length);for(var M=0;M<this.length;M++)P.words[M]=this.words[M];P.length=this.length,P.negative=this.negative,P.red=this.red},a.prototype.clone=function(){var P=new a(null);return this.copy(P),P},a.prototype._expand=function(P){for(;this.length<P;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function b(P,M,E){E.negative=M.negative^P.negative;var _=P.length+M.length|0;E.length=_,_=_-1|0;var k=0|P.words[0],N=0|M.words[0],S=k*N,O=67108863&S,L=S/67108864|0;E.words[0]=O;for(var I=1;I<_;I++){for(var G=L>>>26,Y=67108863&L,te=Math.min(I,M.length-1),U=Math.max(0,I-P.length+1);U<=te;U++){var J=I-U|0;G+=(S=(k=0|P.words[J])*(N=0|M.words[U])+Y)/67108864|0,Y=67108863&S}E.words[I]=0|Y,L=0|G}return L!==0?E.words[I]=0|L:E.length--,E.strip()}a.prototype.toString=function(P,M){var E;if(M=0|M||1,(P=P||10)===16||P==="hex"){E="";for(var _=0,k=0,N=0;N<this.length;N++){var S=this.words[N],O=(16777215&(S<<_|k)).toString(16);E=(k=S>>>24-_&16777215)!==0||N!==this.length-1?g[6-O.length]+O+E:O+E,(_+=2)>=26&&(_-=26,N--)}for(k!==0&&(E=k.toString(16)+E);E.length%M!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(P===(0|P)&&P>=2&&P<=36){var L=y[P],I=p[P];E="";var G=this.clone();for(G.negative=0;!G.isZero();){var Y=G.modn(I).toString(P);E=(G=G.idivn(I)).isZero()?Y+E:g[L-Y.length]+Y+E}for(this.isZero()&&(E="0"+E);E.length%M!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}d(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var P=this.words[0];return this.length===2?P+=67108864*this.words[1]:this.length===3&&this.words[2]===1?P+=4503599627370496+67108864*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-P:P},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(P,M){return d(u!==void 0),this.toArrayLike(u,P,M)},a.prototype.toArray=function(P,M){return this.toArrayLike(Array,P,M)},a.prototype.toArrayLike=function(P,M,E){var _=this.byteLength(),k=E||Math.max(1,_);d(_<=k,"byte array longer than desired length"),d(k>0,"Requested array length <= 0"),this.strip();var N,S,O=M==="le",L=new P(k),I=this.clone();if(O){for(S=0;!I.isZero();S++)N=I.andln(255),I.iushrn(8),L[S]=N;for(;S<k;S++)L[S]=0}else{for(S=0;S<k-_;S++)L[S]=0;for(S=0;!I.isZero();S++)N=I.andln(255),I.iushrn(8),L[k-S-1]=N}return L},Math.clz32?a.prototype._countBits=function(P){return 32-Math.clz32(P)}:a.prototype._countBits=function(P){var M=P,E=0;return M>=4096&&(E+=13,M>>>=13),M>=64&&(E+=7,M>>>=7),M>=8&&(E+=4,M>>>=4),M>=2&&(E+=2,M>>>=2),E+M},a.prototype._zeroBits=function(P){if(P===0)return 26;var M=P,E=0;return(8191&M)==0&&(E+=13,M>>>=13),(127&M)==0&&(E+=7,M>>>=7),(15&M)==0&&(E+=4,M>>>=4),(3&M)==0&&(E+=2,M>>>=2),(1&M)==0&&E++,E},a.prototype.bitLength=function(){var P=this.words[this.length-1],M=this._countBits(P);return 26*(this.length-1)+M},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var P=0,M=0;M<this.length;M++){var E=this._zeroBits(this.words[M]);if(P+=E,E!==26)break}return P},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(P){return this.negative!==0?this.abs().inotn(P).iaddn(1):this.clone()},a.prototype.fromTwos=function(P){return this.testn(P-1)?this.notn(P).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(P){for(;this.length<P.length;)this.words[this.length++]=0;for(var M=0;M<P.length;M++)this.words[M]=this.words[M]|P.words[M];return this.strip()},a.prototype.ior=function(P){return d((this.negative|P.negative)==0),this.iuor(P)},a.prototype.or=function(P){return this.length>P.length?this.clone().ior(P):P.clone().ior(this)},a.prototype.uor=function(P){return this.length>P.length?this.clone().iuor(P):P.clone().iuor(this)},a.prototype.iuand=function(P){var M;M=this.length>P.length?P:this;for(var E=0;E<M.length;E++)this.words[E]=this.words[E]&P.words[E];return this.length=M.length,this.strip()},a.prototype.iand=function(P){return d((this.negative|P.negative)==0),this.iuand(P)},a.prototype.and=function(P){return this.length>P.length?this.clone().iand(P):P.clone().iand(this)},a.prototype.uand=function(P){return this.length>P.length?this.clone().iuand(P):P.clone().iuand(this)},a.prototype.iuxor=function(P){var M,E;this.length>P.length?(M=this,E=P):(M=P,E=this);for(var _=0;_<E.length;_++)this.words[_]=M.words[_]^E.words[_];if(this!==M)for(;_<M.length;_++)this.words[_]=M.words[_];return this.length=M.length,this.strip()},a.prototype.ixor=function(P){return d((this.negative|P.negative)==0),this.iuxor(P)},a.prototype.xor=function(P){return this.length>P.length?this.clone().ixor(P):P.clone().ixor(this)},a.prototype.uxor=function(P){return this.length>P.length?this.clone().iuxor(P):P.clone().iuxor(this)},a.prototype.inotn=function(P){d(typeof P=="number"&&P>=0);var M=0|Math.ceil(P/26),E=P%26;this._expand(M),E>0&&M--;for(var _=0;_<M;_++)this.words[_]=67108863&~this.words[_];return E>0&&(this.words[_]=~this.words[_]&67108863>>26-E),this.strip()},a.prototype.notn=function(P){return this.clone().inotn(P)},a.prototype.setn=function(P,M){d(typeof P=="number"&&P>=0);var E=P/26|0,_=P%26;return this._expand(E+1),this.words[E]=M?this.words[E]|1<<_:this.words[E]&~(1<<_),this.strip()},a.prototype.iadd=function(P){var M,E,_;if(this.negative!==0&&P.negative===0)return this.negative=0,M=this.isub(P),this.negative^=1,this._normSign();if(this.negative===0&&P.negative!==0)return P.negative=0,M=this.isub(P),P.negative=1,M._normSign();this.length>P.length?(E=this,_=P):(E=P,_=this);for(var k=0,N=0;N<_.length;N++)M=(0|E.words[N])+(0|_.words[N])+k,this.words[N]=67108863&M,k=M>>>26;for(;k!==0&&N<E.length;N++)M=(0|E.words[N])+k,this.words[N]=67108863&M,k=M>>>26;if(this.length=E.length,k!==0)this.words[this.length]=k,this.length++;else if(E!==this)for(;N<E.length;N++)this.words[N]=E.words[N];return this},a.prototype.add=function(P){var M;return P.negative!==0&&this.negative===0?(P.negative=0,M=this.sub(P),P.negative^=1,M):P.negative===0&&this.negative!==0?(this.negative=0,M=P.sub(this),this.negative=1,M):this.length>P.length?this.clone().iadd(P):P.clone().iadd(this)},a.prototype.isub=function(P){if(P.negative!==0){P.negative=0;var M=this.iadd(P);return P.negative=1,M._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(P),this.negative=1,this._normSign();var E,_,k=this.cmp(P);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;k>0?(E=this,_=P):(E=P,_=this);for(var N=0,S=0;S<_.length;S++)N=(M=(0|E.words[S])-(0|_.words[S])+N)>>26,this.words[S]=67108863&M;for(;N!==0&&S<E.length;S++)N=(M=(0|E.words[S])+N)>>26,this.words[S]=67108863&M;if(N===0&&S<E.length&&E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this.length=Math.max(this.length,S),E!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(P){return this.clone().isub(P)};var v=function(P,M,E){var _,k,N,S=P.words,O=M.words,L=E.words,I=0,G=0|S[0],Y=8191&G,te=G>>>13,U=0|S[1],J=8191&U,$=U>>>13,R=0|S[2],K=8191&R,ee=R>>>13,se=0|S[3],ie=8191&se,ae=se>>>13,re=0|S[4],le=8191&re,ne=re>>>13,fe=0|S[5],ue=8191&fe,xe=fe>>>13,ge=0|S[6],be=8191&ge,ke=ge>>>13,Ee=0|S[7],ze=8191&Ee,Fe=Ee>>>13,de=0|S[8],ce=8191&de,je=de>>>13,Ce=0|S[9],Ue=8191&Ce,Ye=Ce>>>13,Oe=0|O[0],qe=8191&Oe,Qe=Oe>>>13,it=0|O[1],at=8191&it,Lt=it>>>13,Ht=0|O[2],dt=8191&Ht,ye=Ht>>>13,Le=0|O[3],Ke=8191&Le,It=Le>>>13,gt=0|O[4],lt=8191&gt,Dt=gt>>>13,Wt=0|O[5],wt=8191&Wt,zt=Wt>>>13,Kt=0|O[6],At=8191&Kt,ve=Kt>>>13,Se=0|O[7],De=8191&Se,et=Se>>>13,Ct=0|O[8],Ze=8191&Ct,Pt=Ct>>>13,kt=0|O[9],ft=8191&kt,me=kt>>>13;E.negative=P.negative^M.negative,E.length=19;var Re=(I+(_=Math.imul(Y,qe))|0)+((8191&(k=(k=Math.imul(Y,Qe))+Math.imul(te,qe)|0))<<13)|0;I=((N=Math.imul(te,Qe))+(k>>>13)|0)+(Re>>>26)|0,Re&=67108863,_=Math.imul(J,qe),k=(k=Math.imul(J,Qe))+Math.imul($,qe)|0,N=Math.imul($,Qe);var $e=(I+(_=_+Math.imul(Y,at)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Lt)|0)+Math.imul(te,at)|0))<<13)|0;I=((N=N+Math.imul(te,Lt)|0)+(k>>>13)|0)+($e>>>26)|0,$e&=67108863,_=Math.imul(K,qe),k=(k=Math.imul(K,Qe))+Math.imul(ee,qe)|0,N=Math.imul(ee,Qe),_=_+Math.imul(J,at)|0,k=(k=k+Math.imul(J,Lt)|0)+Math.imul($,at)|0,N=N+Math.imul($,Lt)|0;var st=(I+(_=_+Math.imul(Y,dt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,ye)|0)+Math.imul(te,dt)|0))<<13)|0;I=((N=N+Math.imul(te,ye)|0)+(k>>>13)|0)+(st>>>26)|0,st&=67108863,_=Math.imul(ie,qe),k=(k=Math.imul(ie,Qe))+Math.imul(ae,qe)|0,N=Math.imul(ae,Qe),_=_+Math.imul(K,at)|0,k=(k=k+Math.imul(K,Lt)|0)+Math.imul(ee,at)|0,N=N+Math.imul(ee,Lt)|0,_=_+Math.imul(J,dt)|0,k=(k=k+Math.imul(J,ye)|0)+Math.imul($,dt)|0,N=N+Math.imul($,ye)|0;var ct=(I+(_=_+Math.imul(Y,Ke)|0)|0)+((8191&(k=(k=k+Math.imul(Y,It)|0)+Math.imul(te,Ke)|0))<<13)|0;I=((N=N+Math.imul(te,It)|0)+(k>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(le,qe),k=(k=Math.imul(le,Qe))+Math.imul(ne,qe)|0,N=Math.imul(ne,Qe),_=_+Math.imul(ie,at)|0,k=(k=k+Math.imul(ie,Lt)|0)+Math.imul(ae,at)|0,N=N+Math.imul(ae,Lt)|0,_=_+Math.imul(K,dt)|0,k=(k=k+Math.imul(K,ye)|0)+Math.imul(ee,dt)|0,N=N+Math.imul(ee,ye)|0,_=_+Math.imul(J,Ke)|0,k=(k=k+Math.imul(J,It)|0)+Math.imul($,Ke)|0,N=N+Math.imul($,It)|0;var Et=(I+(_=_+Math.imul(Y,lt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Dt)|0)+Math.imul(te,lt)|0))<<13)|0;I=((N=N+Math.imul(te,Dt)|0)+(k>>>13)|0)+(Et>>>26)|0,Et&=67108863,_=Math.imul(ue,qe),k=(k=Math.imul(ue,Qe))+Math.imul(xe,qe)|0,N=Math.imul(xe,Qe),_=_+Math.imul(le,at)|0,k=(k=k+Math.imul(le,Lt)|0)+Math.imul(ne,at)|0,N=N+Math.imul(ne,Lt)|0,_=_+Math.imul(ie,dt)|0,k=(k=k+Math.imul(ie,ye)|0)+Math.imul(ae,dt)|0,N=N+Math.imul(ae,ye)|0,_=_+Math.imul(K,Ke)|0,k=(k=k+Math.imul(K,It)|0)+Math.imul(ee,Ke)|0,N=N+Math.imul(ee,It)|0,_=_+Math.imul(J,lt)|0,k=(k=k+Math.imul(J,Dt)|0)+Math.imul($,lt)|0,N=N+Math.imul($,Dt)|0;var Bt=(I+(_=_+Math.imul(Y,wt)|0)|0)+((8191&(k=(k=k+Math.imul(Y,zt)|0)+Math.imul(te,wt)|0))<<13)|0;I=((N=N+Math.imul(te,zt)|0)+(k>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,_=Math.imul(be,qe),k=(k=Math.imul(be,Qe))+Math.imul(ke,qe)|0,N=Math.imul(ke,Qe),_=_+Math.imul(ue,at)|0,k=(k=k+Math.imul(ue,Lt)|0)+Math.imul(xe,at)|0,N=N+Math.imul(xe,Lt)|0,_=_+Math.imul(le,dt)|0,k=(k=k+Math.imul(le,ye)|0)+Math.imul(ne,dt)|0,N=N+Math.imul(ne,ye)|0,_=_+Math.imul(ie,Ke)|0,k=(k=k+Math.imul(ie,It)|0)+Math.imul(ae,Ke)|0,N=N+Math.imul(ae,It)|0,_=_+Math.imul(K,lt)|0,k=(k=k+Math.imul(K,Dt)|0)+Math.imul(ee,lt)|0,N=N+Math.imul(ee,Dt)|0,_=_+Math.imul(J,wt)|0,k=(k=k+Math.imul(J,zt)|0)+Math.imul($,wt)|0,N=N+Math.imul($,zt)|0;var Nn=(I+(_=_+Math.imul(Y,At)|0)|0)+((8191&(k=(k=k+Math.imul(Y,ve)|0)+Math.imul(te,At)|0))<<13)|0;I=((N=N+Math.imul(te,ve)|0)+(k>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,_=Math.imul(ze,qe),k=(k=Math.imul(ze,Qe))+Math.imul(Fe,qe)|0,N=Math.imul(Fe,Qe),_=_+Math.imul(be,at)|0,k=(k=k+Math.imul(be,Lt)|0)+Math.imul(ke,at)|0,N=N+Math.imul(ke,Lt)|0,_=_+Math.imul(ue,dt)|0,k=(k=k+Math.imul(ue,ye)|0)+Math.imul(xe,dt)|0,N=N+Math.imul(xe,ye)|0,_=_+Math.imul(le,Ke)|0,k=(k=k+Math.imul(le,It)|0)+Math.imul(ne,Ke)|0,N=N+Math.imul(ne,It)|0,_=_+Math.imul(ie,lt)|0,k=(k=k+Math.imul(ie,Dt)|0)+Math.imul(ae,lt)|0,N=N+Math.imul(ae,Dt)|0,_=_+Math.imul(K,wt)|0,k=(k=k+Math.imul(K,zt)|0)+Math.imul(ee,wt)|0,N=N+Math.imul(ee,zt)|0,_=_+Math.imul(J,At)|0,k=(k=k+Math.imul(J,ve)|0)+Math.imul($,At)|0,N=N+Math.imul($,ve)|0;var he=(I+(_=_+Math.imul(Y,De)|0)|0)+((8191&(k=(k=k+Math.imul(Y,et)|0)+Math.imul(te,De)|0))<<13)|0;I=((N=N+Math.imul(te,et)|0)+(k>>>13)|0)+(he>>>26)|0,he&=67108863,_=Math.imul(ce,qe),k=(k=Math.imul(ce,Qe))+Math.imul(je,qe)|0,N=Math.imul(je,Qe),_=_+Math.imul(ze,at)|0,k=(k=k+Math.imul(ze,Lt)|0)+Math.imul(Fe,at)|0,N=N+Math.imul(Fe,Lt)|0,_=_+Math.imul(be,dt)|0,k=(k=k+Math.imul(be,ye)|0)+Math.imul(ke,dt)|0,N=N+Math.imul(ke,ye)|0,_=_+Math.imul(ue,Ke)|0,k=(k=k+Math.imul(ue,It)|0)+Math.imul(xe,Ke)|0,N=N+Math.imul(xe,It)|0,_=_+Math.imul(le,lt)|0,k=(k=k+Math.imul(le,Dt)|0)+Math.imul(ne,lt)|0,N=N+Math.imul(ne,Dt)|0,_=_+Math.imul(ie,wt)|0,k=(k=k+Math.imul(ie,zt)|0)+Math.imul(ae,wt)|0,N=N+Math.imul(ae,zt)|0,_=_+Math.imul(K,At)|0,k=(k=k+Math.imul(K,ve)|0)+Math.imul(ee,At)|0,N=N+Math.imul(ee,ve)|0,_=_+Math.imul(J,De)|0,k=(k=k+Math.imul(J,et)|0)+Math.imul($,De)|0,N=N+Math.imul($,et)|0;var Ne=(I+(_=_+Math.imul(Y,Ze)|0)|0)+((8191&(k=(k=k+Math.imul(Y,Pt)|0)+Math.imul(te,Ze)|0))<<13)|0;I=((N=N+Math.imul(te,Pt)|0)+(k>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,_=Math.imul(Ue,qe),k=(k=Math.imul(Ue,Qe))+Math.imul(Ye,qe)|0,N=Math.imul(Ye,Qe),_=_+Math.imul(ce,at)|0,k=(k=k+Math.imul(ce,Lt)|0)+Math.imul(je,at)|0,N=N+Math.imul(je,Lt)|0,_=_+Math.imul(ze,dt)|0,k=(k=k+Math.imul(ze,ye)|0)+Math.imul(Fe,dt)|0,N=N+Math.imul(Fe,ye)|0,_=_+Math.imul(be,Ke)|0,k=(k=k+Math.imul(be,It)|0)+Math.imul(ke,Ke)|0,N=N+Math.imul(ke,It)|0,_=_+Math.imul(ue,lt)|0,k=(k=k+Math.imul(ue,Dt)|0)+Math.imul(xe,lt)|0,N=N+Math.imul(xe,Dt)|0,_=_+Math.imul(le,wt)|0,k=(k=k+Math.imul(le,zt)|0)+Math.imul(ne,wt)|0,N=N+Math.imul(ne,zt)|0,_=_+Math.imul(ie,At)|0,k=(k=k+Math.imul(ie,ve)|0)+Math.imul(ae,At)|0,N=N+Math.imul(ae,ve)|0,_=_+Math.imul(K,De)|0,k=(k=k+Math.imul(K,et)|0)+Math.imul(ee,De)|0,N=N+Math.imul(ee,et)|0,_=_+Math.imul(J,Ze)|0,k=(k=k+Math.imul(J,Pt)|0)+Math.imul($,Ze)|0,N=N+Math.imul($,Pt)|0;var Be=(I+(_=_+Math.imul(Y,ft)|0)|0)+((8191&(k=(k=k+Math.imul(Y,me)|0)+Math.imul(te,ft)|0))<<13)|0;I=((N=N+Math.imul(te,me)|0)+(k>>>13)|0)+(Be>>>26)|0,Be&=67108863,_=Math.imul(Ue,at),k=(k=Math.imul(Ue,Lt))+Math.imul(Ye,at)|0,N=Math.imul(Ye,Lt),_=_+Math.imul(ce,dt)|0,k=(k=k+Math.imul(ce,ye)|0)+Math.imul(je,dt)|0,N=N+Math.imul(je,ye)|0,_=_+Math.imul(ze,Ke)|0,k=(k=k+Math.imul(ze,It)|0)+Math.imul(Fe,Ke)|0,N=N+Math.imul(Fe,It)|0,_=_+Math.imul(be,lt)|0,k=(k=k+Math.imul(be,Dt)|0)+Math.imul(ke,lt)|0,N=N+Math.imul(ke,Dt)|0,_=_+Math.imul(ue,wt)|0,k=(k=k+Math.imul(ue,zt)|0)+Math.imul(xe,wt)|0,N=N+Math.imul(xe,zt)|0,_=_+Math.imul(le,At)|0,k=(k=k+Math.imul(le,ve)|0)+Math.imul(ne,At)|0,N=N+Math.imul(ne,ve)|0,_=_+Math.imul(ie,De)|0,k=(k=k+Math.imul(ie,et)|0)+Math.imul(ae,De)|0,N=N+Math.imul(ae,et)|0,_=_+Math.imul(K,Ze)|0,k=(k=k+Math.imul(K,Pt)|0)+Math.imul(ee,Ze)|0,N=N+Math.imul(ee,Pt)|0;var He=(I+(_=_+Math.imul(J,ft)|0)|0)+((8191&(k=(k=k+Math.imul(J,me)|0)+Math.imul($,ft)|0))<<13)|0;I=((N=N+Math.imul($,me)|0)+(k>>>13)|0)+(He>>>26)|0,He&=67108863,_=Math.imul(Ue,dt),k=(k=Math.imul(Ue,ye))+Math.imul(Ye,dt)|0,N=Math.imul(Ye,ye),_=_+Math.imul(ce,Ke)|0,k=(k=k+Math.imul(ce,It)|0)+Math.imul(je,Ke)|0,N=N+Math.imul(je,It)|0,_=_+Math.imul(ze,lt)|0,k=(k=k+Math.imul(ze,Dt)|0)+Math.imul(Fe,lt)|0,N=N+Math.imul(Fe,Dt)|0,_=_+Math.imul(be,wt)|0,k=(k=k+Math.imul(be,zt)|0)+Math.imul(ke,wt)|0,N=N+Math.imul(ke,zt)|0,_=_+Math.imul(ue,At)|0,k=(k=k+Math.imul(ue,ve)|0)+Math.imul(xe,At)|0,N=N+Math.imul(xe,ve)|0,_=_+Math.imul(le,De)|0,k=(k=k+Math.imul(le,et)|0)+Math.imul(ne,De)|0,N=N+Math.imul(ne,et)|0,_=_+Math.imul(ie,Ze)|0,k=(k=k+Math.imul(ie,Pt)|0)+Math.imul(ae,Ze)|0,N=N+Math.imul(ae,Pt)|0;var yt=(I+(_=_+Math.imul(K,ft)|0)|0)+((8191&(k=(k=k+Math.imul(K,me)|0)+Math.imul(ee,ft)|0))<<13)|0;I=((N=N+Math.imul(ee,me)|0)+(k>>>13)|0)+(yt>>>26)|0,yt&=67108863,_=Math.imul(Ue,Ke),k=(k=Math.imul(Ue,It))+Math.imul(Ye,Ke)|0,N=Math.imul(Ye,It),_=_+Math.imul(ce,lt)|0,k=(k=k+Math.imul(ce,Dt)|0)+Math.imul(je,lt)|0,N=N+Math.imul(je,Dt)|0,_=_+Math.imul(ze,wt)|0,k=(k=k+Math.imul(ze,zt)|0)+Math.imul(Fe,wt)|0,N=N+Math.imul(Fe,zt)|0,_=_+Math.imul(be,At)|0,k=(k=k+Math.imul(be,ve)|0)+Math.imul(ke,At)|0,N=N+Math.imul(ke,ve)|0,_=_+Math.imul(ue,De)|0,k=(k=k+Math.imul(ue,et)|0)+Math.imul(xe,De)|0,N=N+Math.imul(xe,et)|0,_=_+Math.imul(le,Ze)|0,k=(k=k+Math.imul(le,Pt)|0)+Math.imul(ne,Ze)|0,N=N+Math.imul(ne,Pt)|0;var Je=(I+(_=_+Math.imul(ie,ft)|0)|0)+((8191&(k=(k=k+Math.imul(ie,me)|0)+Math.imul(ae,ft)|0))<<13)|0;I=((N=N+Math.imul(ae,me)|0)+(k>>>13)|0)+(Je>>>26)|0,Je&=67108863,_=Math.imul(Ue,lt),k=(k=Math.imul(Ue,Dt))+Math.imul(Ye,lt)|0,N=Math.imul(Ye,Dt),_=_+Math.imul(ce,wt)|0,k=(k=k+Math.imul(ce,zt)|0)+Math.imul(je,wt)|0,N=N+Math.imul(je,zt)|0,_=_+Math.imul(ze,At)|0,k=(k=k+Math.imul(ze,ve)|0)+Math.imul(Fe,At)|0,N=N+Math.imul(Fe,ve)|0,_=_+Math.imul(be,De)|0,k=(k=k+Math.imul(be,et)|0)+Math.imul(ke,De)|0,N=N+Math.imul(ke,et)|0,_=_+Math.imul(ue,Ze)|0,k=(k=k+Math.imul(ue,Pt)|0)+Math.imul(xe,Ze)|0,N=N+Math.imul(xe,Pt)|0;var nt=(I+(_=_+Math.imul(le,ft)|0)|0)+((8191&(k=(k=k+Math.imul(le,me)|0)+Math.imul(ne,ft)|0))<<13)|0;I=((N=N+Math.imul(ne,me)|0)+(k>>>13)|0)+(nt>>>26)|0,nt&=67108863,_=Math.imul(Ue,wt),k=(k=Math.imul(Ue,zt))+Math.imul(Ye,wt)|0,N=Math.imul(Ye,zt),_=_+Math.imul(ce,At)|0,k=(k=k+Math.imul(ce,ve)|0)+Math.imul(je,At)|0,N=N+Math.imul(je,ve)|0,_=_+Math.imul(ze,De)|0,k=(k=k+Math.imul(ze,et)|0)+Math.imul(Fe,De)|0,N=N+Math.imul(Fe,et)|0,_=_+Math.imul(be,Ze)|0,k=(k=k+Math.imul(be,Pt)|0)+Math.imul(ke,Ze)|0,N=N+Math.imul(ke,Pt)|0;var Xt=(I+(_=_+Math.imul(ue,ft)|0)|0)+((8191&(k=(k=k+Math.imul(ue,me)|0)+Math.imul(xe,ft)|0))<<13)|0;I=((N=N+Math.imul(xe,me)|0)+(k>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,_=Math.imul(Ue,At),k=(k=Math.imul(Ue,ve))+Math.imul(Ye,At)|0,N=Math.imul(Ye,ve),_=_+Math.imul(ce,De)|0,k=(k=k+Math.imul(ce,et)|0)+Math.imul(je,De)|0,N=N+Math.imul(je,et)|0,_=_+Math.imul(ze,Ze)|0,k=(k=k+Math.imul(ze,Pt)|0)+Math.imul(Fe,Ze)|0,N=N+Math.imul(Fe,Pt)|0;var Ft=(I+(_=_+Math.imul(be,ft)|0)|0)+((8191&(k=(k=k+Math.imul(be,me)|0)+Math.imul(ke,ft)|0))<<13)|0;I=((N=N+Math.imul(ke,me)|0)+(k>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,_=Math.imul(Ue,De),k=(k=Math.imul(Ue,et))+Math.imul(Ye,De)|0,N=Math.imul(Ye,et),_=_+Math.imul(ce,Ze)|0,k=(k=k+Math.imul(ce,Pt)|0)+Math.imul(je,Ze)|0,N=N+Math.imul(je,Pt)|0;var Rt=(I+(_=_+Math.imul(ze,ft)|0)|0)+((8191&(k=(k=k+Math.imul(ze,me)|0)+Math.imul(Fe,ft)|0))<<13)|0;I=((N=N+Math.imul(Fe,me)|0)+(k>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,_=Math.imul(Ue,Ze),k=(k=Math.imul(Ue,Pt))+Math.imul(Ye,Ze)|0,N=Math.imul(Ye,Pt);var Tt=(I+(_=_+Math.imul(ce,ft)|0)|0)+((8191&(k=(k=k+Math.imul(ce,me)|0)+Math.imul(je,ft)|0))<<13)|0;I=((N=N+Math.imul(je,me)|0)+(k>>>13)|0)+(Tt>>>26)|0,Tt&=67108863;var Vt=(I+(_=Math.imul(Ue,ft))|0)+((8191&(k=(k=Math.imul(Ue,me))+Math.imul(Ye,ft)|0))<<13)|0;return I=((N=Math.imul(Ye,me))+(k>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,L[0]=Re,L[1]=$e,L[2]=st,L[3]=ct,L[4]=Et,L[5]=Bt,L[6]=Nn,L[7]=he,L[8]=Ne,L[9]=Be,L[10]=He,L[11]=yt,L[12]=Je,L[13]=nt,L[14]=Xt,L[15]=Ft,L[16]=Rt,L[17]=Tt,L[18]=Vt,I!==0&&(L[19]=I,E.length++),E};function j(P,M,E){return new C().mulp(P,M,E)}function C(P,M){this.x=P,this.y=M}Math.imul||(v=b),a.prototype.mulTo=function(P,M){var E=this.length+P.length;return this.length===10&&P.length===10?v(this,P,M):E<63?b(this,P,M):E<1024?(function(_,k,N){N.negative=k.negative^_.negative,N.length=_.length+k.length;for(var S=0,O=0,L=0;L<N.length-1;L++){var I=O;O=0;for(var G=67108863&S,Y=Math.min(L,k.length-1),te=Math.max(0,L-_.length+1);te<=Y;te++){var U=L-te,J=(0|_.words[U])*(0|k.words[te]),$=67108863&J;G=67108863&($=$+G|0),O+=(I=(I=I+(J/67108864|0)|0)+($>>>26)|0)>>>26,I&=67108863}N.words[L]=G,S=I,I=O}return S!==0?N.words[L]=S:N.length--,N.strip()})(this,P,M):j(this,P,M)},C.prototype.makeRBT=function(P){for(var M=new Array(P),E=a.prototype._countBits(P)-1,_=0;_<P;_++)M[_]=this.revBin(_,E,P);return M},C.prototype.revBin=function(P,M,E){if(P===0||P===E-1)return P;for(var _=0,k=0;k<M;k++)_|=(1&P)<<M-k-1,P>>=1;return _},C.prototype.permute=function(P,M,E,_,k,N){for(var S=0;S<N;S++)_[S]=M[P[S]],k[S]=E[P[S]]},C.prototype.transform=function(P,M,E,_,k,N){this.permute(N,P,M,E,_,k);for(var S=1;S<k;S<<=1)for(var O=S<<1,L=Math.cos(2*Math.PI/O),I=Math.sin(2*Math.PI/O),G=0;G<k;G+=O)for(var Y=L,te=I,U=0;U<S;U++){var J=E[G+U],$=_[G+U],R=E[G+U+S],K=_[G+U+S],ee=Y*R-te*K;K=Y*K+te*R,R=ee,E[G+U]=J+R,_[G+U]=$+K,E[G+U+S]=J-R,_[G+U+S]=$-K,U!==O&&(ee=L*Y-I*te,te=L*te+I*Y,Y=ee)}},C.prototype.guessLen13b=function(P,M){var E=1|Math.max(M,P),_=1&E,k=0;for(E=E/2|0;E;E>>>=1)k++;return 1<<k+1+_},C.prototype.conjugate=function(P,M,E){if(!(E<=1))for(var _=0;_<E/2;_++){var k=P[_];P[_]=P[E-_-1],P[E-_-1]=k,k=M[_],M[_]=-M[E-_-1],M[E-_-1]=-k}},C.prototype.normalize13b=function(P,M){for(var E=0,_=0;_<M/2;_++){var k=8192*Math.round(P[2*_+1]/M)+Math.round(P[2*_]/M)+E;P[_]=67108863&k,E=k<67108864?0:k/67108864|0}return P},C.prototype.convert13b=function(P,M,E,_){for(var k=0,N=0;N<M;N++)k+=0|P[N],E[2*N]=8191&k,k>>>=13,E[2*N+1]=8191&k,k>>>=13;for(N=2*M;N<_;++N)E[N]=0;d(k===0),d((-8192&k)==0)},C.prototype.stub=function(P){for(var M=new Array(P),E=0;E<P;E++)M[E]=0;return M},C.prototype.mulp=function(P,M,E){var _=2*this.guessLen13b(P.length,M.length),k=this.makeRBT(_),N=this.stub(_),S=new Array(_),O=new Array(_),L=new Array(_),I=new Array(_),G=new Array(_),Y=new Array(_),te=E.words;te.length=_,this.convert13b(P.words,P.length,S,_),this.convert13b(M.words,M.length,I,_),this.transform(S,N,O,L,_,k),this.transform(I,N,G,Y,_,k);for(var U=0;U<_;U++){var J=O[U]*G[U]-L[U]*Y[U];L[U]=O[U]*Y[U]+L[U]*G[U],O[U]=J}return this.conjugate(O,L,_),this.transform(O,L,te,N,_,k),this.conjugate(te,N,_),this.normalize13b(te,_),E.negative=P.negative^M.negative,E.length=P.length+M.length,E.strip()},a.prototype.mul=function(P){var M=new a(null);return M.words=new Array(this.length+P.length),this.mulTo(P,M)},a.prototype.mulf=function(P){var M=new a(null);return M.words=new Array(this.length+P.length),j(this,P,M)},a.prototype.imul=function(P){return this.clone().mulTo(P,this)},a.prototype.imuln=function(P){d(typeof P=="number"),d(P<67108864);for(var M=0,E=0;E<this.length;E++){var _=(0|this.words[E])*P,k=(67108863&_)+(67108863&M);M>>=26,M+=_/67108864|0,M+=k>>>26,this.words[E]=67108863&k}return M!==0&&(this.words[E]=M,this.length++),this},a.prototype.muln=function(P){return this.clone().imuln(P)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(P){var M=(function(N){for(var S=new Array(N.bitLength()),O=0;O<S.length;O++){var L=O/26|0,I=O%26;S[O]=(N.words[L]&1<<I)>>>I}return S})(P);if(M.length===0)return new a(1);for(var E=this,_=0;_<M.length&&M[_]===0;_++,E=E.sqr());if(++_<M.length)for(var k=E.sqr();_<M.length;_++,k=k.sqr())M[_]!==0&&(E=E.mul(k));return E},a.prototype.iushln=function(P){d(typeof P=="number"&&P>=0);var M,E=P%26,_=(P-E)/26,k=67108863>>>26-E<<26-E;if(E!==0){var N=0;for(M=0;M<this.length;M++){var S=this.words[M]&k,O=(0|this.words[M])-S<<E;this.words[M]=O|N,N=S>>>26-E}N&&(this.words[M]=N,this.length++)}if(_!==0){for(M=this.length-1;M>=0;M--)this.words[M+_]=this.words[M];for(M=0;M<_;M++)this.words[M]=0;this.length+=_}return this.strip()},a.prototype.ishln=function(P){return d(this.negative===0),this.iushln(P)},a.prototype.iushrn=function(P,M,E){var _;d(typeof P=="number"&&P>=0),_=M?(M-M%26)/26:0;var k=P%26,N=Math.min((P-k)/26,this.length),S=67108863^67108863>>>k<<k,O=E;if(_-=N,_=Math.max(0,_),O){for(var L=0;L<N;L++)O.words[L]=this.words[L];O.length=N}if(N!==0)if(this.length>N)for(this.length-=N,L=0;L<this.length;L++)this.words[L]=this.words[L+N];else this.words[0]=0,this.length=1;var I=0;for(L=this.length-1;L>=0&&(I!==0||L>=_);L--){var G=0|this.words[L];this.words[L]=I<<26-k|G>>>k,I=G&S}return O&&I!==0&&(O.words[O.length++]=I),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(P,M,E){return d(this.negative===0),this.iushrn(P,M,E)},a.prototype.shln=function(P){return this.clone().ishln(P)},a.prototype.ushln=function(P){return this.clone().iushln(P)},a.prototype.shrn=function(P){return this.clone().ishrn(P)},a.prototype.ushrn=function(P){return this.clone().iushrn(P)},a.prototype.testn=function(P){d(typeof P=="number"&&P>=0);var M=P%26,E=(P-M)/26,_=1<<M;return!(this.length<=E)&&!!(this.words[E]&_)},a.prototype.imaskn=function(P){d(typeof P=="number"&&P>=0);var M=P%26,E=(P-M)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(M!==0&&E++,this.length=Math.min(E,this.length),M!==0){var _=67108863^67108863>>>M<<M;this.words[this.length-1]&=_}return this.strip()},a.prototype.maskn=function(P){return this.clone().imaskn(P)},a.prototype.iaddn=function(P){return d(typeof P=="number"),d(P<67108864),P<0?this.isubn(-P):this.negative!==0?this.length===1&&(0|this.words[0])<P?(this.words[0]=P-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(P),this.negative=1,this):this._iaddn(P)},a.prototype._iaddn=function(P){this.words[0]+=P;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},a.prototype.isubn=function(P){if(d(typeof P=="number"),d(P<67108864),P<0)return this.iaddn(-P);if(this.negative!==0)return this.negative=0,this.iaddn(P),this.negative=1,this;if(this.words[0]-=P,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},a.prototype.addn=function(P){return this.clone().iaddn(P)},a.prototype.subn=function(P){return this.clone().isubn(P)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(P,M,E){var _,k,N=P.length+E;this._expand(N);var S=0;for(_=0;_<P.length;_++){k=(0|this.words[_+E])+S;var O=(0|P.words[_])*M;S=((k-=67108863&O)>>26)-(O/67108864|0),this.words[_+E]=67108863&k}for(;_<this.length-E;_++)S=(k=(0|this.words[_+E])+S)>>26,this.words[_+E]=67108863&k;if(S===0)return this.strip();for(d(S===-1),S=0,_=0;_<this.length;_++)S=(k=-(0|this.words[_])+S)>>26,this.words[_]=67108863&k;return this.negative=1,this.strip()},a.prototype._wordDiv=function(P,M){var E=(this.length,P.length),_=this.clone(),k=P,N=0|k.words[k.length-1];(E=26-this._countBits(N))!==0&&(k=k.ushln(E),_.iushln(E),N=0|k.words[k.length-1]);var S,O=_.length-k.length;if(M!=="mod"){(S=new a(null)).length=O+1,S.words=new Array(S.length);for(var L=0;L<S.length;L++)S.words[L]=0}var I=_.clone()._ishlnsubmul(k,1,O);I.negative===0&&(_=I,S&&(S.words[O]=1));for(var G=O-1;G>=0;G--){var Y=67108864*(0|_.words[k.length+G])+(0|_.words[k.length+G-1]);for(Y=Math.min(Y/N|0,67108863),_._ishlnsubmul(k,Y,G);_.negative!==0;)Y--,_.negative=0,_._ishlnsubmul(k,1,G),_.isZero()||(_.negative^=1);S&&(S.words[G]=Y)}return S&&S.strip(),_.strip(),M!=="div"&&E!==0&&_.iushrn(E),{div:S||null,mod:_}},a.prototype.divmod=function(P,M,E){return d(!P.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&P.negative===0?(N=this.neg().divmod(P,M),M!=="mod"&&(_=N.div.neg()),M!=="div"&&(k=N.mod.neg(),E&&k.negative!==0&&k.iadd(P)),{div:_,mod:k}):this.negative===0&&P.negative!==0?(N=this.divmod(P.neg(),M),M!=="mod"&&(_=N.div.neg()),{div:_,mod:N.mod}):(this.negative&P.negative)!=0?(N=this.neg().divmod(P.neg(),M),M!=="div"&&(k=N.mod.neg(),E&&k.negative!==0&&k.isub(P)),{div:N.div,mod:k}):P.length>this.length||this.cmp(P)<0?{div:new a(0),mod:this}:P.length===1?M==="div"?{div:this.divn(P.words[0]),mod:null}:M==="mod"?{div:null,mod:new a(this.modn(P.words[0]))}:{div:this.divn(P.words[0]),mod:new a(this.modn(P.words[0]))}:this._wordDiv(P,M);var _,k,N},a.prototype.div=function(P){return this.divmod(P,"div",!1).div},a.prototype.mod=function(P){return this.divmod(P,"mod",!1).mod},a.prototype.umod=function(P){return this.divmod(P,"mod",!0).mod},a.prototype.divRound=function(P){var M=this.divmod(P);if(M.mod.isZero())return M.div;var E=M.div.negative!==0?M.mod.isub(P):M.mod,_=P.ushrn(1),k=P.andln(1),N=E.cmp(_);return N<0||k===1&&N===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},a.prototype.modn=function(P){d(P<=67108863);for(var M=(1<<26)%P,E=0,_=this.length-1;_>=0;_--)E=(M*E+(0|this.words[_]))%P;return E},a.prototype.idivn=function(P){d(P<=67108863);for(var M=0,E=this.length-1;E>=0;E--){var _=(0|this.words[E])+67108864*M;this.words[E]=_/P|0,M=_%P}return this.strip()},a.prototype.divn=function(P){return this.clone().idivn(P)},a.prototype.egcd=function(P){d(P.negative===0),d(!P.isZero());var M=this,E=P.clone();M=M.negative!==0?M.umod(P):M.clone();for(var _=new a(1),k=new a(0),N=new a(0),S=new a(1),O=0;M.isEven()&&E.isEven();)M.iushrn(1),E.iushrn(1),++O;for(var L=E.clone(),I=M.clone();!M.isZero();){for(var G=0,Y=1;(M.words[0]&Y)==0&&G<26;++G,Y<<=1);if(G>0)for(M.iushrn(G);G-- >0;)(_.isOdd()||k.isOdd())&&(_.iadd(L),k.isub(I)),_.iushrn(1),k.iushrn(1);for(var te=0,U=1;(E.words[0]&U)==0&&te<26;++te,U<<=1);if(te>0)for(E.iushrn(te);te-- >0;)(N.isOdd()||S.isOdd())&&(N.iadd(L),S.isub(I)),N.iushrn(1),S.iushrn(1);M.cmp(E)>=0?(M.isub(E),_.isub(N),k.isub(S)):(E.isub(M),N.isub(_),S.isub(k))}return{a:N,b:S,gcd:E.iushln(O)}},a.prototype._invmp=function(P){d(P.negative===0),d(!P.isZero());var M=this,E=P.clone();M=M.negative!==0?M.umod(P):M.clone();for(var _,k=new a(1),N=new a(0),S=E.clone();M.cmpn(1)>0&&E.cmpn(1)>0;){for(var O=0,L=1;(M.words[0]&L)==0&&O<26;++O,L<<=1);if(O>0)for(M.iushrn(O);O-- >0;)k.isOdd()&&k.iadd(S),k.iushrn(1);for(var I=0,G=1;(E.words[0]&G)==0&&I<26;++I,G<<=1);if(I>0)for(E.iushrn(I);I-- >0;)N.isOdd()&&N.iadd(S),N.iushrn(1);M.cmp(E)>=0?(M.isub(E),k.isub(N)):(E.isub(M),N.isub(k))}return(_=M.cmpn(1)===0?k:N).cmpn(0)<0&&_.iadd(P),_},a.prototype.gcd=function(P){if(this.isZero())return P.abs();if(P.isZero())return this.abs();var M=this.clone(),E=P.clone();M.negative=0,E.negative=0;for(var _=0;M.isEven()&&E.isEven();_++)M.iushrn(1),E.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;E.isEven();)E.iushrn(1);var k=M.cmp(E);if(k<0){var N=M;M=E,E=N}else if(k===0||E.cmpn(1)===0)break;M.isub(E)}return E.iushln(_)},a.prototype.invm=function(P){return this.egcd(P).a.umod(P)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(P){return this.words[0]&P},a.prototype.bincn=function(P){d(typeof P=="number");var M=P%26,E=(P-M)/26,_=1<<M;if(this.length<=E)return this._expand(E+1),this.words[E]|=_,this;for(var k=_,N=E;k!==0&&N<this.length;N++){var S=0|this.words[N];k=(S+=k)>>>26,S&=67108863,this.words[N]=S}return k!==0&&(this.words[N]=k,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(P){var M,E=P<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)M=1;else{E&&(P=-P),d(P<=67108863,"Number is too big");var _=0|this.words[0];M=_===P?0:_<P?-1:1}return this.negative!==0?0|-M:M},a.prototype.cmp=function(P){if(this.negative!==0&&P.negative===0)return-1;if(this.negative===0&&P.negative!==0)return 1;var M=this.ucmp(P);return this.negative!==0?0|-M:M},a.prototype.ucmp=function(P){if(this.length>P.length)return 1;if(this.length<P.length)return-1;for(var M=0,E=this.length-1;E>=0;E--){var _=0|this.words[E],k=0|P.words[E];if(_!==k){_<k?M=-1:_>k&&(M=1);break}}return M},a.prototype.gtn=function(P){return this.cmpn(P)===1},a.prototype.gt=function(P){return this.cmp(P)===1},a.prototype.gten=function(P){return this.cmpn(P)>=0},a.prototype.gte=function(P){return this.cmp(P)>=0},a.prototype.ltn=function(P){return this.cmpn(P)===-1},a.prototype.lt=function(P){return this.cmp(P)===-1},a.prototype.lten=function(P){return this.cmpn(P)<=0},a.prototype.lte=function(P){return this.cmp(P)<=0},a.prototype.eqn=function(P){return this.cmpn(P)===0},a.prototype.eq=function(P){return this.cmp(P)===0},a.red=function(P){return new X(P)},a.prototype.toRed=function(P){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),P.convertTo(this)._forceRed(P)},a.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(P){return this.red=P,this},a.prototype.forceRed=function(P){return d(!this.red,"Already a number in reduction context"),this._forceRed(P)},a.prototype.redAdd=function(P){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,P)},a.prototype.redIAdd=function(P){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,P)},a.prototype.redSub=function(P){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,P)},a.prototype.redISub=function(P){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,P)},a.prototype.redShl=function(P){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,P)},a.prototype.redMul=function(P){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.mul(this,P)},a.prototype.redIMul=function(P){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,P),this.red.imul(this,P)},a.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(P){return d(this.red&&!P.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,P)};var T={k256:null,p224:null,p192:null,p25519:null};function D(P,M){this.name=P,this.p=new a(M,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function q(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function z(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function B(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function X(P){if(typeof P=="string"){var M=a._prime(P);this.m=M.p,this.prime=M}else d(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}function W(P){X.call(this,P),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}D.prototype._tmp=function(){var P=new a(null);return P.words=new Array(Math.ceil(this.n/13)),P},D.prototype.ireduce=function(P){var M,E=P;do this.split(E,this.tmp),M=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(M>this.n);var _=M<this.n?-1:E.ucmp(this.p);return _===0?(E.words[0]=0,E.length=1):_>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},D.prototype.split=function(P,M){P.iushrn(this.n,0,M)},D.prototype.imulK=function(P){return P.imul(this.k)},c(q,D),q.prototype.split=function(P,M){for(var E=Math.min(P.length,9),_=0;_<E;_++)M.words[_]=P.words[_];if(M.length=E,P.length<=9)return P.words[0]=0,void(P.length=1);var k=P.words[9];for(M.words[M.length++]=4194303&k,_=10;_<P.length;_++){var N=0|P.words[_];P.words[_-10]=(4194303&N)<<4|k>>>22,k=N}k>>>=22,P.words[_-10]=k,k===0&&P.length>10?P.length-=10:P.length-=9},q.prototype.imulK=function(P){P.words[P.length]=0,P.words[P.length+1]=0,P.length+=2;for(var M=0,E=0;E<P.length;E++){var _=0|P.words[E];M+=977*_,P.words[E]=67108863&M,M=64*_+(M/67108864|0)}return P.words[P.length-1]===0&&(P.length--,P.words[P.length-1]===0&&P.length--),P},c(z,D),c(B,D),c(V,D),V.prototype.imulK=function(P){for(var M=0,E=0;E<P.length;E++){var _=19*(0|P.words[E])+M,k=67108863&_;_>>>=26,P.words[E]=k,M=_}return M!==0&&(P.words[P.length++]=M),P},a._prime=function(P){if(T[P])return T[P];var M;if(P==="k256")M=new q;else if(P==="p224")M=new z;else if(P==="p192")M=new B;else{if(P!=="p25519")throw new Error("Unknown prime "+P);M=new V}return T[P]=M,M},X.prototype._verify1=function(P){d(P.negative===0,"red works only with positives"),d(P.red,"red works only with red numbers")},X.prototype._verify2=function(P,M){d((P.negative|M.negative)==0,"red works only with positives"),d(P.red&&P.red===M.red,"red works only with red numbers")},X.prototype.imod=function(P){return this.prime?this.prime.ireduce(P)._forceRed(this):P.umod(this.m)._forceRed(this)},X.prototype.neg=function(P){return P.isZero()?P.clone():this.m.sub(P)._forceRed(this)},X.prototype.add=function(P,M){this._verify2(P,M);var E=P.add(M);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},X.prototype.iadd=function(P,M){this._verify2(P,M);var E=P.iadd(M);return E.cmp(this.m)>=0&&E.isub(this.m),E},X.prototype.sub=function(P,M){this._verify2(P,M);var E=P.sub(M);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},X.prototype.isub=function(P,M){this._verify2(P,M);var E=P.isub(M);return E.cmpn(0)<0&&E.iadd(this.m),E},X.prototype.shl=function(P,M){return this._verify1(P),this.imod(P.ushln(M))},X.prototype.imul=function(P,M){return this._verify2(P,M),this.imod(P.imul(M))},X.prototype.mul=function(P,M){return this._verify2(P,M),this.imod(P.mul(M))},X.prototype.isqr=function(P){return this.imul(P,P.clone())},X.prototype.sqr=function(P){return this.mul(P,P)},X.prototype.sqrt=function(P){if(P.isZero())return P.clone();var M=this.m.andln(3);if(d(M%2==1),M===3){var E=this.m.add(new a(1)).iushrn(2);return this.pow(P,E)}for(var _=this.m.subn(1),k=0;!_.isZero()&&_.andln(1)===0;)k++,_.iushrn(1);d(!_.isZero());var N=new a(1).toRed(this),S=N.redNeg(),O=this.m.subn(1).iushrn(1),L=this.m.bitLength();for(L=new a(2*L*L).toRed(this);this.pow(L,O).cmp(S)!==0;)L.redIAdd(S);for(var I=this.pow(L,_),G=this.pow(P,_.addn(1).iushrn(1)),Y=this.pow(P,_),te=k;Y.cmp(N)!==0;){for(var U=Y,J=0;U.cmp(N)!==0;J++)U=U.redSqr();d(J<te);var $=this.pow(I,new a(1).iushln(te-J-1));G=G.redMul($),I=$.redSqr(),Y=Y.redMul(I),te=J}return G},X.prototype.invm=function(P){var M=P._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},X.prototype.pow=function(P,M){if(M.isZero())return new a(1).toRed(this);if(M.cmpn(1)===0)return P.clone();var E=new Array(16);E[0]=new a(1).toRed(this),E[1]=P;for(var _=2;_<E.length;_++)E[_]=this.mul(E[_-1],P);var k=E[0],N=0,S=0,O=M.bitLength()%26;for(O===0&&(O=26),_=M.length-1;_>=0;_--){for(var L=M.words[_],I=O-1;I>=0;I--){var G=L>>I&1;k!==E[0]&&(k=this.sqr(k)),G!==0||N!==0?(N<<=1,N|=G,(++S===4||_===0&&I===0)&&(k=this.mul(k,E[N]),S=0,N=0)):S=0}O=26}return k},X.prototype.convertTo=function(P){var M=P.umod(this.m);return M===P?M.clone():M},X.prototype.convertFrom=function(P){var M=P.clone();return M.red=null,M},a.mont=function(P){return new W(P)},c(W,X),W.prototype.convertTo=function(P){return this.imod(P.ushln(this.shift))},W.prototype.convertFrom=function(P){var M=this.imod(P.mul(this.rinv));return M.red=null,M},W.prototype.imul=function(P,M){if(P.isZero()||M.isZero())return P.words[0]=0,P.length=1,P;var E=P.imul(M),_=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(_).iushrn(this.shift),N=k;return k.cmp(this.m)>=0?N=k.isub(this.m):k.cmpn(0)<0&&(N=k.iadd(this.m)),N._forceRed(this)},W.prototype.mul=function(P,M){if(P.isZero()||M.isZero())return new a(0)._forceRed(this);var E=P.mul(M),_=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=E.isub(_).iushrn(this.shift),N=k;return k.cmp(this.m)>=0?N=k.isub(this.m):k.cmpn(0)<0&&(N=k.iadd(this.m)),N._forceRed(this)},W.prototype.invm=function(P){return this.imod(P._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],185:[function(t,s,l){l.byteLength=function(m){var g=f(m),y=g[0],p=g[1];return 3*(y+p)/4-p},l.toByteArray=function(m){var g,y,p=f(m),b=p[0],v=p[1],j=new d((function(D,q,z){return 3*(q+z)/4-z})(0,b,v)),C=0,T=v>0?b-4:b;for(y=0;y<T;y+=4)g=o[m.charCodeAt(y)]<<18|o[m.charCodeAt(y+1)]<<12|o[m.charCodeAt(y+2)]<<6|o[m.charCodeAt(y+3)],j[C++]=g>>16&255,j[C++]=g>>8&255,j[C++]=255&g;return v===2&&(g=o[m.charCodeAt(y)]<<2|o[m.charCodeAt(y+1)]>>4,j[C++]=255&g),v===1&&(g=o[m.charCodeAt(y)]<<10|o[m.charCodeAt(y+1)]<<4|o[m.charCodeAt(y+2)]>>2,j[C++]=g>>8&255,j[C++]=255&g),j},l.fromByteArray=function(m){for(var g,y=m.length,p=y%3,b=[],v=0,j=y-p;v<j;v+=16383)b.push(h(m,v,v+16383>j?j:v+16383));return p===1?(g=m[y-1],b.push(i[g>>2]+i[g<<4&63]+"==")):p===2&&(g=(m[y-2]<<8)+m[y-1],b.push(i[g>>10]+i[g>>4&63]+i[g<<2&63]+"=")),b.join("")};for(var i=[],o=[],d=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=c.length;a<u;++a)i[a]=c[a],o[c.charCodeAt(a)]=a;function f(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=m.indexOf("=");return y===-1&&(y=g),[y,y===g?0:4-y%4]}function h(m,g,y){for(var p,b,v=[],j=g;j<y;j+=3)p=(m[j]<<16&16711680)+(m[j+1]<<8&65280)+(255&m[j+2]),v.push(i[(b=p)>>18&63]+i[b>>12&63]+i[b>>6&63]+i[63&b]);return v.join("")}o[45]=62,o[95]=63},{}],186:[function(t,s,l){(function(i,o){function d(E,_){if(!E)throw new Error(_||"Assertion failed")}function c(E,_){E.super_=_;var k=function(){};k.prototype=_.prototype,E.prototype=new k,E.prototype.constructor=E}function a(E,_,k){if(a.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(_!=="le"&&_!=="be"||(k=_,_=10),this._init(E||0,_||10,k||"be"))}var u;typeof i=="object"?i.exports=a:(void 0).BN=a,a.BN=a,a.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function f(E,_){var k=E.charCodeAt(_);return k>=48&&k<=57?k-48:k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:void d(!1,"Invalid character in "+E)}function h(E,_,k){var N=f(E,k);return k-1>=_&&(N|=f(E,k-1)<<4),N}function m(E,_,k,N){for(var S=0,O=0,L=Math.min(E.length,k),I=_;I<L;I++){var G=E.charCodeAt(I)-48;S*=N,O=G>=49?G-49+10:G>=17?G-17+10:G,d(G>=0&&O<N,"Invalid character"),S+=O}return S}function g(E,_){E.words=_.words,E.length=_.length,E.negative=_.negative,E.red=_.red}if(a.isBN=function(E){return E instanceof a||E!==null&&typeof E=="object"&&E.constructor.wordSize===a.wordSize&&Array.isArray(E.words)},a.max=function(E,_){return E.cmp(_)>0?E:_},a.min=function(E,_){return E.cmp(_)<0?E:_},a.prototype._init=function(E,_,k){if(typeof E=="number")return this._initNumber(E,_,k);if(typeof E=="object")return this._initArray(E,_,k);_==="hex"&&(_=16),d(_===(0|_)&&_>=2&&_<=36);var N=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(N++,this.negative=1),N<E.length&&(_===16?this._parseHex(E,N,k):(this._parseBase(E,_,N),k==="le"&&this._initArray(this.toArray(),_,k)))},a.prototype._initNumber=function(E,_,k){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(d(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),_,k)},a.prototype._initArray=function(E,_,k){if(d(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var S,O,L=0;if(k==="be")for(N=E.length-1,S=0;N>=0;N-=3)O=E[N]|E[N-1]<<8|E[N-2]<<16,this.words[S]|=O<<L&67108863,this.words[S+1]=O>>>26-L&67108863,(L+=24)>=26&&(L-=26,S++);else if(k==="le")for(N=0,S=0;N<E.length;N+=3)O=E[N]|E[N+1]<<8|E[N+2]<<16,this.words[S]|=O<<L&67108863,this.words[S+1]=O>>>26-L&67108863,(L+=24)>=26&&(L-=26,S++);return this._strip()},a.prototype._parseHex=function(E,_,k){this.length=Math.ceil((E.length-_)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var S,O=0,L=0;if(k==="be")for(N=E.length-1;N>=_;N-=2)S=h(E,_,N)<<O,this.words[L]|=67108863&S,O>=18?(O-=18,L+=1,this.words[L]|=S>>>26):O+=8;else for(N=(E.length-_)%2==0?_+1:_;N<E.length;N+=2)S=h(E,_,N)<<O,this.words[L]|=67108863&S,O>=18?(O-=18,L+=1,this.words[L]|=S>>>26):O+=8;this._strip()},a.prototype._parseBase=function(E,_,k){this.words=[0],this.length=1;for(var N=0,S=1;S<=67108863;S*=_)N++;N--,S=S/_|0;for(var O=E.length-k,L=O%N,I=Math.min(O,O-L)+k,G=0,Y=k;Y<I;Y+=N)G=m(E,Y,Y+N,_),this.imuln(S),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G);if(L!==0){var te=1;for(G=m(E,Y,E.length,_),Y=0;Y<L;Y++)te*=_;this.imuln(te),this.words[0]+G<67108864?this.words[0]+=G:this._iaddn(G)}this._strip()},a.prototype.copy=function(E){E.words=new Array(this.length);for(var _=0;_<this.length;_++)E.words[_]=this.words[_];E.length=this.length,E.negative=this.negative,E.red=this.red},a.prototype._move=function(E){g(E,this)},a.prototype.clone=function(){var E=new a(null);return this.copy(E),E},a.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{a.prototype.inspect=y}else a.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(E,_){var k;if(_=0|_||1,(E=E||10)===16||E==="hex"){k="";for(var N=0,S=0,O=0;O<this.length;O++){var L=this.words[O],I=(16777215&(L<<N|S)).toString(16);S=L>>>24-N&16777215,(N+=2)>=26&&(N-=26,O--),k=S!==0||O!==this.length-1?p[6-I.length]+I+k:I+k}for(S!==0&&(k=S.toString(16)+k);k.length%_!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(E===(0|E)&&E>=2&&E<=36){var G=b[E],Y=v[E];k="";var te=this.clone();for(te.negative=0;!te.isZero();){var U=te.modrn(Y).toString(E);k=(te=te.idivn(Y)).isZero()?U+k:p[G-U.length]+U+k}for(this.isZero()&&(k="0"+k);k.length%_!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}d(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},a.prototype.toJSON=function(){return this.toString(16,2)},u&&(a.prototype.toBuffer=function(E,_){return this.toArrayLike(u,E,_)}),a.prototype.toArray=function(E,_){return this.toArrayLike(Array,E,_)};function j(E,_,k){k.negative=_.negative^E.negative;var N=E.length+_.length|0;k.length=N,N=N-1|0;var S=0|E.words[0],O=0|_.words[0],L=S*O,I=67108863&L,G=L/67108864|0;k.words[0]=I;for(var Y=1;Y<N;Y++){for(var te=G>>>26,U=67108863&G,J=Math.min(Y,_.length-1),$=Math.max(0,Y-E.length+1);$<=J;$++){var R=Y-$|0;te+=(L=(S=0|E.words[R])*(O=0|_.words[$])+U)/67108864|0,U=67108863&L}k.words[Y]=0|U,G=0|te}return G!==0?k.words[Y]=0|G:k.length--,k._strip()}a.prototype.toArrayLike=function(E,_,k){this._strip();var N=this.byteLength(),S=k||Math.max(1,N);d(N<=S,"byte array longer than desired length"),d(S>0,"Requested array length <= 0");var O=(function(L,I){return L.allocUnsafe?L.allocUnsafe(I):new L(I)})(E,S);return this["_toArrayLike"+(_==="le"?"LE":"BE")](O,N),O},a.prototype._toArrayLikeLE=function(E,_){for(var k=0,N=0,S=0,O=0;S<this.length;S++){var L=this.words[S]<<O|N;E[k++]=255&L,k<E.length&&(E[k++]=L>>8&255),k<E.length&&(E[k++]=L>>16&255),O===6?(k<E.length&&(E[k++]=L>>24&255),N=0,O=0):(N=L>>>24,O+=2)}if(k<E.length)for(E[k++]=N;k<E.length;)E[k++]=0},a.prototype._toArrayLikeBE=function(E,_){for(var k=E.length-1,N=0,S=0,O=0;S<this.length;S++){var L=this.words[S]<<O|N;E[k--]=255&L,k>=0&&(E[k--]=L>>8&255),k>=0&&(E[k--]=L>>16&255),O===6?(k>=0&&(E[k--]=L>>24&255),N=0,O=0):(N=L>>>24,O+=2)}if(k>=0)for(E[k--]=N;k>=0;)E[k--]=0},Math.clz32?a.prototype._countBits=function(E){return 32-Math.clz32(E)}:a.prototype._countBits=function(E){var _=E,k=0;return _>=4096&&(k+=13,_>>>=13),_>=64&&(k+=7,_>>>=7),_>=8&&(k+=4,_>>>=4),_>=2&&(k+=2,_>>>=2),k+_},a.prototype._zeroBits=function(E){if(E===0)return 26;var _=E,k=0;return(8191&_)==0&&(k+=13,_>>>=13),(127&_)==0&&(k+=7,_>>>=7),(15&_)==0&&(k+=4,_>>>=4),(3&_)==0&&(k+=2,_>>>=2),(1&_)==0&&k++,k},a.prototype.bitLength=function(){var E=this.words[this.length-1],_=this._countBits(E);return 26*(this.length-1)+_},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,_=0;_<this.length;_++){var k=this._zeroBits(this.words[_]);if(E+=k,k!==26)break}return E},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},a.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var _=0;_<E.length;_++)this.words[_]=this.words[_]|E.words[_];return this._strip()},a.prototype.ior=function(E){return d((this.negative|E.negative)==0),this.iuor(E)},a.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},a.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},a.prototype.iuand=function(E){var _;_=this.length>E.length?E:this;for(var k=0;k<_.length;k++)this.words[k]=this.words[k]&E.words[k];return this.length=_.length,this._strip()},a.prototype.iand=function(E){return d((this.negative|E.negative)==0),this.iuand(E)},a.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},a.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},a.prototype.iuxor=function(E){var _,k;this.length>E.length?(_=this,k=E):(_=E,k=this);for(var N=0;N<k.length;N++)this.words[N]=_.words[N]^k.words[N];if(this!==_)for(;N<_.length;N++)this.words[N]=_.words[N];return this.length=_.length,this._strip()},a.prototype.ixor=function(E){return d((this.negative|E.negative)==0),this.iuxor(E)},a.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},a.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},a.prototype.inotn=function(E){d(typeof E=="number"&&E>=0);var _=0|Math.ceil(E/26),k=E%26;this._expand(_),k>0&&_--;for(var N=0;N<_;N++)this.words[N]=67108863&~this.words[N];return k>0&&(this.words[N]=~this.words[N]&67108863>>26-k),this._strip()},a.prototype.notn=function(E){return this.clone().inotn(E)},a.prototype.setn=function(E,_){d(typeof E=="number"&&E>=0);var k=E/26|0,N=E%26;return this._expand(k+1),this.words[k]=_?this.words[k]|1<<N:this.words[k]&~(1<<N),this._strip()},a.prototype.iadd=function(E){var _,k,N;if(this.negative!==0&&E.negative===0)return this.negative=0,_=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,_=this.isub(E),E.negative=1,_._normSign();this.length>E.length?(k=this,N=E):(k=E,N=this);for(var S=0,O=0;O<N.length;O++)_=(0|k.words[O])+(0|N.words[O])+S,this.words[O]=67108863&_,S=_>>>26;for(;S!==0&&O<k.length;O++)_=(0|k.words[O])+S,this.words[O]=67108863&_,S=_>>>26;if(this.length=k.length,S!==0)this.words[this.length]=S,this.length++;else if(k!==this)for(;O<k.length;O++)this.words[O]=k.words[O];return this},a.prototype.add=function(E){var _;return E.negative!==0&&this.negative===0?(E.negative=0,_=this.sub(E),E.negative^=1,_):E.negative===0&&this.negative!==0?(this.negative=0,_=E.sub(this),this.negative=1,_):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},a.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var _=this.iadd(E);return E.negative=1,_._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var k,N,S=this.cmp(E);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(k=this,N=E):(k=E,N=this);for(var O=0,L=0;L<N.length;L++)O=(_=(0|k.words[L])-(0|N.words[L])+O)>>26,this.words[L]=67108863&_;for(;O!==0&&L<k.length;L++)O=(_=(0|k.words[L])+O)>>26,this.words[L]=67108863&_;if(O===0&&L<k.length&&k!==this)for(;L<k.length;L++)this.words[L]=k.words[L];return this.length=Math.max(this.length,L),k!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(E){return this.clone().isub(E)};var C=function(E,_,k){var N,S,O,L=E.words,I=_.words,G=k.words,Y=0,te=0|L[0],U=8191&te,J=te>>>13,$=0|L[1],R=8191&$,K=$>>>13,ee=0|L[2],se=8191&ee,ie=ee>>>13,ae=0|L[3],re=8191&ae,le=ae>>>13,ne=0|L[4],fe=8191&ne,ue=ne>>>13,xe=0|L[5],ge=8191&xe,be=xe>>>13,ke=0|L[6],Ee=8191&ke,ze=ke>>>13,Fe=0|L[7],de=8191&Fe,ce=Fe>>>13,je=0|L[8],Ce=8191&je,Ue=je>>>13,Ye=0|L[9],Oe=8191&Ye,qe=Ye>>>13,Qe=0|I[0],it=8191&Qe,at=Qe>>>13,Lt=0|I[1],Ht=8191&Lt,dt=Lt>>>13,ye=0|I[2],Le=8191&ye,Ke=ye>>>13,It=0|I[3],gt=8191&It,lt=It>>>13,Dt=0|I[4],Wt=8191&Dt,wt=Dt>>>13,zt=0|I[5],Kt=8191&zt,At=zt>>>13,ve=0|I[6],Se=8191&ve,De=ve>>>13,et=0|I[7],Ct=8191&et,Ze=et>>>13,Pt=0|I[8],kt=8191&Pt,ft=Pt>>>13,me=0|I[9],Re=8191&me,$e=me>>>13;k.negative=E.negative^_.negative,k.length=19;var st=(Y+(N=Math.imul(U,it))|0)+((8191&(S=(S=Math.imul(U,at))+Math.imul(J,it)|0))<<13)|0;Y=((O=Math.imul(J,at))+(S>>>13)|0)+(st>>>26)|0,st&=67108863,N=Math.imul(R,it),S=(S=Math.imul(R,at))+Math.imul(K,it)|0,O=Math.imul(K,at);var ct=(Y+(N=N+Math.imul(U,Ht)|0)|0)+((8191&(S=(S=S+Math.imul(U,dt)|0)+Math.imul(J,Ht)|0))<<13)|0;Y=((O=O+Math.imul(J,dt)|0)+(S>>>13)|0)+(ct>>>26)|0,ct&=67108863,N=Math.imul(se,it),S=(S=Math.imul(se,at))+Math.imul(ie,it)|0,O=Math.imul(ie,at),N=N+Math.imul(R,Ht)|0,S=(S=S+Math.imul(R,dt)|0)+Math.imul(K,Ht)|0,O=O+Math.imul(K,dt)|0;var Et=(Y+(N=N+Math.imul(U,Le)|0)|0)+((8191&(S=(S=S+Math.imul(U,Ke)|0)+Math.imul(J,Le)|0))<<13)|0;Y=((O=O+Math.imul(J,Ke)|0)+(S>>>13)|0)+(Et>>>26)|0,Et&=67108863,N=Math.imul(re,it),S=(S=Math.imul(re,at))+Math.imul(le,it)|0,O=Math.imul(le,at),N=N+Math.imul(se,Ht)|0,S=(S=S+Math.imul(se,dt)|0)+Math.imul(ie,Ht)|0,O=O+Math.imul(ie,dt)|0,N=N+Math.imul(R,Le)|0,S=(S=S+Math.imul(R,Ke)|0)+Math.imul(K,Le)|0,O=O+Math.imul(K,Ke)|0;var Bt=(Y+(N=N+Math.imul(U,gt)|0)|0)+((8191&(S=(S=S+Math.imul(U,lt)|0)+Math.imul(J,gt)|0))<<13)|0;Y=((O=O+Math.imul(J,lt)|0)+(S>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,N=Math.imul(fe,it),S=(S=Math.imul(fe,at))+Math.imul(ue,it)|0,O=Math.imul(ue,at),N=N+Math.imul(re,Ht)|0,S=(S=S+Math.imul(re,dt)|0)+Math.imul(le,Ht)|0,O=O+Math.imul(le,dt)|0,N=N+Math.imul(se,Le)|0,S=(S=S+Math.imul(se,Ke)|0)+Math.imul(ie,Le)|0,O=O+Math.imul(ie,Ke)|0,N=N+Math.imul(R,gt)|0,S=(S=S+Math.imul(R,lt)|0)+Math.imul(K,gt)|0,O=O+Math.imul(K,lt)|0;var Nn=(Y+(N=N+Math.imul(U,Wt)|0)|0)+((8191&(S=(S=S+Math.imul(U,wt)|0)+Math.imul(J,Wt)|0))<<13)|0;Y=((O=O+Math.imul(J,wt)|0)+(S>>>13)|0)+(Nn>>>26)|0,Nn&=67108863,N=Math.imul(ge,it),S=(S=Math.imul(ge,at))+Math.imul(be,it)|0,O=Math.imul(be,at),N=N+Math.imul(fe,Ht)|0,S=(S=S+Math.imul(fe,dt)|0)+Math.imul(ue,Ht)|0,O=O+Math.imul(ue,dt)|0,N=N+Math.imul(re,Le)|0,S=(S=S+Math.imul(re,Ke)|0)+Math.imul(le,Le)|0,O=O+Math.imul(le,Ke)|0,N=N+Math.imul(se,gt)|0,S=(S=S+Math.imul(se,lt)|0)+Math.imul(ie,gt)|0,O=O+Math.imul(ie,lt)|0,N=N+Math.imul(R,Wt)|0,S=(S=S+Math.imul(R,wt)|0)+Math.imul(K,Wt)|0,O=O+Math.imul(K,wt)|0;var he=(Y+(N=N+Math.imul(U,Kt)|0)|0)+((8191&(S=(S=S+Math.imul(U,At)|0)+Math.imul(J,Kt)|0))<<13)|0;Y=((O=O+Math.imul(J,At)|0)+(S>>>13)|0)+(he>>>26)|0,he&=67108863,N=Math.imul(Ee,it),S=(S=Math.imul(Ee,at))+Math.imul(ze,it)|0,O=Math.imul(ze,at),N=N+Math.imul(ge,Ht)|0,S=(S=S+Math.imul(ge,dt)|0)+Math.imul(be,Ht)|0,O=O+Math.imul(be,dt)|0,N=N+Math.imul(fe,Le)|0,S=(S=S+Math.imul(fe,Ke)|0)+Math.imul(ue,Le)|0,O=O+Math.imul(ue,Ke)|0,N=N+Math.imul(re,gt)|0,S=(S=S+Math.imul(re,lt)|0)+Math.imul(le,gt)|0,O=O+Math.imul(le,lt)|0,N=N+Math.imul(se,Wt)|0,S=(S=S+Math.imul(se,wt)|0)+Math.imul(ie,Wt)|0,O=O+Math.imul(ie,wt)|0,N=N+Math.imul(R,Kt)|0,S=(S=S+Math.imul(R,At)|0)+Math.imul(K,Kt)|0,O=O+Math.imul(K,At)|0;var Ne=(Y+(N=N+Math.imul(U,Se)|0)|0)+((8191&(S=(S=S+Math.imul(U,De)|0)+Math.imul(J,Se)|0))<<13)|0;Y=((O=O+Math.imul(J,De)|0)+(S>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,N=Math.imul(de,it),S=(S=Math.imul(de,at))+Math.imul(ce,it)|0,O=Math.imul(ce,at),N=N+Math.imul(Ee,Ht)|0,S=(S=S+Math.imul(Ee,dt)|0)+Math.imul(ze,Ht)|0,O=O+Math.imul(ze,dt)|0,N=N+Math.imul(ge,Le)|0,S=(S=S+Math.imul(ge,Ke)|0)+Math.imul(be,Le)|0,O=O+Math.imul(be,Ke)|0,N=N+Math.imul(fe,gt)|0,S=(S=S+Math.imul(fe,lt)|0)+Math.imul(ue,gt)|0,O=O+Math.imul(ue,lt)|0,N=N+Math.imul(re,Wt)|0,S=(S=S+Math.imul(re,wt)|0)+Math.imul(le,Wt)|0,O=O+Math.imul(le,wt)|0,N=N+Math.imul(se,Kt)|0,S=(S=S+Math.imul(se,At)|0)+Math.imul(ie,Kt)|0,O=O+Math.imul(ie,At)|0,N=N+Math.imul(R,Se)|0,S=(S=S+Math.imul(R,De)|0)+Math.imul(K,Se)|0,O=O+Math.imul(K,De)|0;var Be=(Y+(N=N+Math.imul(U,Ct)|0)|0)+((8191&(S=(S=S+Math.imul(U,Ze)|0)+Math.imul(J,Ct)|0))<<13)|0;Y=((O=O+Math.imul(J,Ze)|0)+(S>>>13)|0)+(Be>>>26)|0,Be&=67108863,N=Math.imul(Ce,it),S=(S=Math.imul(Ce,at))+Math.imul(Ue,it)|0,O=Math.imul(Ue,at),N=N+Math.imul(de,Ht)|0,S=(S=S+Math.imul(de,dt)|0)+Math.imul(ce,Ht)|0,O=O+Math.imul(ce,dt)|0,N=N+Math.imul(Ee,Le)|0,S=(S=S+Math.imul(Ee,Ke)|0)+Math.imul(ze,Le)|0,O=O+Math.imul(ze,Ke)|0,N=N+Math.imul(ge,gt)|0,S=(S=S+Math.imul(ge,lt)|0)+Math.imul(be,gt)|0,O=O+Math.imul(be,lt)|0,N=N+Math.imul(fe,Wt)|0,S=(S=S+Math.imul(fe,wt)|0)+Math.imul(ue,Wt)|0,O=O+Math.imul(ue,wt)|0,N=N+Math.imul(re,Kt)|0,S=(S=S+Math.imul(re,At)|0)+Math.imul(le,Kt)|0,O=O+Math.imul(le,At)|0,N=N+Math.imul(se,Se)|0,S=(S=S+Math.imul(se,De)|0)+Math.imul(ie,Se)|0,O=O+Math.imul(ie,De)|0,N=N+Math.imul(R,Ct)|0,S=(S=S+Math.imul(R,Ze)|0)+Math.imul(K,Ct)|0,O=O+Math.imul(K,Ze)|0;var He=(Y+(N=N+Math.imul(U,kt)|0)|0)+((8191&(S=(S=S+Math.imul(U,ft)|0)+Math.imul(J,kt)|0))<<13)|0;Y=((O=O+Math.imul(J,ft)|0)+(S>>>13)|0)+(He>>>26)|0,He&=67108863,N=Math.imul(Oe,it),S=(S=Math.imul(Oe,at))+Math.imul(qe,it)|0,O=Math.imul(qe,at),N=N+Math.imul(Ce,Ht)|0,S=(S=S+Math.imul(Ce,dt)|0)+Math.imul(Ue,Ht)|0,O=O+Math.imul(Ue,dt)|0,N=N+Math.imul(de,Le)|0,S=(S=S+Math.imul(de,Ke)|0)+Math.imul(ce,Le)|0,O=O+Math.imul(ce,Ke)|0,N=N+Math.imul(Ee,gt)|0,S=(S=S+Math.imul(Ee,lt)|0)+Math.imul(ze,gt)|0,O=O+Math.imul(ze,lt)|0,N=N+Math.imul(ge,Wt)|0,S=(S=S+Math.imul(ge,wt)|0)+Math.imul(be,Wt)|0,O=O+Math.imul(be,wt)|0,N=N+Math.imul(fe,Kt)|0,S=(S=S+Math.imul(fe,At)|0)+Math.imul(ue,Kt)|0,O=O+Math.imul(ue,At)|0,N=N+Math.imul(re,Se)|0,S=(S=S+Math.imul(re,De)|0)+Math.imul(le,Se)|0,O=O+Math.imul(le,De)|0,N=N+Math.imul(se,Ct)|0,S=(S=S+Math.imul(se,Ze)|0)+Math.imul(ie,Ct)|0,O=O+Math.imul(ie,Ze)|0,N=N+Math.imul(R,kt)|0,S=(S=S+Math.imul(R,ft)|0)+Math.imul(K,kt)|0,O=O+Math.imul(K,ft)|0;var yt=(Y+(N=N+Math.imul(U,Re)|0)|0)+((8191&(S=(S=S+Math.imul(U,$e)|0)+Math.imul(J,Re)|0))<<13)|0;Y=((O=O+Math.imul(J,$e)|0)+(S>>>13)|0)+(yt>>>26)|0,yt&=67108863,N=Math.imul(Oe,Ht),S=(S=Math.imul(Oe,dt))+Math.imul(qe,Ht)|0,O=Math.imul(qe,dt),N=N+Math.imul(Ce,Le)|0,S=(S=S+Math.imul(Ce,Ke)|0)+Math.imul(Ue,Le)|0,O=O+Math.imul(Ue,Ke)|0,N=N+Math.imul(de,gt)|0,S=(S=S+Math.imul(de,lt)|0)+Math.imul(ce,gt)|0,O=O+Math.imul(ce,lt)|0,N=N+Math.imul(Ee,Wt)|0,S=(S=S+Math.imul(Ee,wt)|0)+Math.imul(ze,Wt)|0,O=O+Math.imul(ze,wt)|0,N=N+Math.imul(ge,Kt)|0,S=(S=S+Math.imul(ge,At)|0)+Math.imul(be,Kt)|0,O=O+Math.imul(be,At)|0,N=N+Math.imul(fe,Se)|0,S=(S=S+Math.imul(fe,De)|0)+Math.imul(ue,Se)|0,O=O+Math.imul(ue,De)|0,N=N+Math.imul(re,Ct)|0,S=(S=S+Math.imul(re,Ze)|0)+Math.imul(le,Ct)|0,O=O+Math.imul(le,Ze)|0,N=N+Math.imul(se,kt)|0,S=(S=S+Math.imul(se,ft)|0)+Math.imul(ie,kt)|0,O=O+Math.imul(ie,ft)|0;var Je=(Y+(N=N+Math.imul(R,Re)|0)|0)+((8191&(S=(S=S+Math.imul(R,$e)|0)+Math.imul(K,Re)|0))<<13)|0;Y=((O=O+Math.imul(K,$e)|0)+(S>>>13)|0)+(Je>>>26)|0,Je&=67108863,N=Math.imul(Oe,Le),S=(S=Math.imul(Oe,Ke))+Math.imul(qe,Le)|0,O=Math.imul(qe,Ke),N=N+Math.imul(Ce,gt)|0,S=(S=S+Math.imul(Ce,lt)|0)+Math.imul(Ue,gt)|0,O=O+Math.imul(Ue,lt)|0,N=N+Math.imul(de,Wt)|0,S=(S=S+Math.imul(de,wt)|0)+Math.imul(ce,Wt)|0,O=O+Math.imul(ce,wt)|0,N=N+Math.imul(Ee,Kt)|0,S=(S=S+Math.imul(Ee,At)|0)+Math.imul(ze,Kt)|0,O=O+Math.imul(ze,At)|0,N=N+Math.imul(ge,Se)|0,S=(S=S+Math.imul(ge,De)|0)+Math.imul(be,Se)|0,O=O+Math.imul(be,De)|0,N=N+Math.imul(fe,Ct)|0,S=(S=S+Math.imul(fe,Ze)|0)+Math.imul(ue,Ct)|0,O=O+Math.imul(ue,Ze)|0,N=N+Math.imul(re,kt)|0,S=(S=S+Math.imul(re,ft)|0)+Math.imul(le,kt)|0,O=O+Math.imul(le,ft)|0;var nt=(Y+(N=N+Math.imul(se,Re)|0)|0)+((8191&(S=(S=S+Math.imul(se,$e)|0)+Math.imul(ie,Re)|0))<<13)|0;Y=((O=O+Math.imul(ie,$e)|0)+(S>>>13)|0)+(nt>>>26)|0,nt&=67108863,N=Math.imul(Oe,gt),S=(S=Math.imul(Oe,lt))+Math.imul(qe,gt)|0,O=Math.imul(qe,lt),N=N+Math.imul(Ce,Wt)|0,S=(S=S+Math.imul(Ce,wt)|0)+Math.imul(Ue,Wt)|0,O=O+Math.imul(Ue,wt)|0,N=N+Math.imul(de,Kt)|0,S=(S=S+Math.imul(de,At)|0)+Math.imul(ce,Kt)|0,O=O+Math.imul(ce,At)|0,N=N+Math.imul(Ee,Se)|0,S=(S=S+Math.imul(Ee,De)|0)+Math.imul(ze,Se)|0,O=O+Math.imul(ze,De)|0,N=N+Math.imul(ge,Ct)|0,S=(S=S+Math.imul(ge,Ze)|0)+Math.imul(be,Ct)|0,O=O+Math.imul(be,Ze)|0,N=N+Math.imul(fe,kt)|0,S=(S=S+Math.imul(fe,ft)|0)+Math.imul(ue,kt)|0,O=O+Math.imul(ue,ft)|0;var Xt=(Y+(N=N+Math.imul(re,Re)|0)|0)+((8191&(S=(S=S+Math.imul(re,$e)|0)+Math.imul(le,Re)|0))<<13)|0;Y=((O=O+Math.imul(le,$e)|0)+(S>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,N=Math.imul(Oe,Wt),S=(S=Math.imul(Oe,wt))+Math.imul(qe,Wt)|0,O=Math.imul(qe,wt),N=N+Math.imul(Ce,Kt)|0,S=(S=S+Math.imul(Ce,At)|0)+Math.imul(Ue,Kt)|0,O=O+Math.imul(Ue,At)|0,N=N+Math.imul(de,Se)|0,S=(S=S+Math.imul(de,De)|0)+Math.imul(ce,Se)|0,O=O+Math.imul(ce,De)|0,N=N+Math.imul(Ee,Ct)|0,S=(S=S+Math.imul(Ee,Ze)|0)+Math.imul(ze,Ct)|0,O=O+Math.imul(ze,Ze)|0,N=N+Math.imul(ge,kt)|0,S=(S=S+Math.imul(ge,ft)|0)+Math.imul(be,kt)|0,O=O+Math.imul(be,ft)|0;var Ft=(Y+(N=N+Math.imul(fe,Re)|0)|0)+((8191&(S=(S=S+Math.imul(fe,$e)|0)+Math.imul(ue,Re)|0))<<13)|0;Y=((O=O+Math.imul(ue,$e)|0)+(S>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,N=Math.imul(Oe,Kt),S=(S=Math.imul(Oe,At))+Math.imul(qe,Kt)|0,O=Math.imul(qe,At),N=N+Math.imul(Ce,Se)|0,S=(S=S+Math.imul(Ce,De)|0)+Math.imul(Ue,Se)|0,O=O+Math.imul(Ue,De)|0,N=N+Math.imul(de,Ct)|0,S=(S=S+Math.imul(de,Ze)|0)+Math.imul(ce,Ct)|0,O=O+Math.imul(ce,Ze)|0,N=N+Math.imul(Ee,kt)|0,S=(S=S+Math.imul(Ee,ft)|0)+Math.imul(ze,kt)|0,O=O+Math.imul(ze,ft)|0;var Rt=(Y+(N=N+Math.imul(ge,Re)|0)|0)+((8191&(S=(S=S+Math.imul(ge,$e)|0)+Math.imul(be,Re)|0))<<13)|0;Y=((O=O+Math.imul(be,$e)|0)+(S>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,N=Math.imul(Oe,Se),S=(S=Math.imul(Oe,De))+Math.imul(qe,Se)|0,O=Math.imul(qe,De),N=N+Math.imul(Ce,Ct)|0,S=(S=S+Math.imul(Ce,Ze)|0)+Math.imul(Ue,Ct)|0,O=O+Math.imul(Ue,Ze)|0,N=N+Math.imul(de,kt)|0,S=(S=S+Math.imul(de,ft)|0)+Math.imul(ce,kt)|0,O=O+Math.imul(ce,ft)|0;var Tt=(Y+(N=N+Math.imul(Ee,Re)|0)|0)+((8191&(S=(S=S+Math.imul(Ee,$e)|0)+Math.imul(ze,Re)|0))<<13)|0;Y=((O=O+Math.imul(ze,$e)|0)+(S>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,N=Math.imul(Oe,Ct),S=(S=Math.imul(Oe,Ze))+Math.imul(qe,Ct)|0,O=Math.imul(qe,Ze),N=N+Math.imul(Ce,kt)|0,S=(S=S+Math.imul(Ce,ft)|0)+Math.imul(Ue,kt)|0,O=O+Math.imul(Ue,ft)|0;var Vt=(Y+(N=N+Math.imul(de,Re)|0)|0)+((8191&(S=(S=S+Math.imul(de,$e)|0)+Math.imul(ce,Re)|0))<<13)|0;Y=((O=O+Math.imul(ce,$e)|0)+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,N=Math.imul(Oe,kt),S=(S=Math.imul(Oe,ft))+Math.imul(qe,kt)|0,O=Math.imul(qe,ft);var ir=(Y+(N=N+Math.imul(Ce,Re)|0)|0)+((8191&(S=(S=S+Math.imul(Ce,$e)|0)+Math.imul(Ue,Re)|0))<<13)|0;Y=((O=O+Math.imul(Ue,$e)|0)+(S>>>13)|0)+(ir>>>26)|0,ir&=67108863;var lr=(Y+(N=Math.imul(Oe,Re))|0)+((8191&(S=(S=Math.imul(Oe,$e))+Math.imul(qe,Re)|0))<<13)|0;return Y=((O=Math.imul(qe,$e))+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863,G[0]=st,G[1]=ct,G[2]=Et,G[3]=Bt,G[4]=Nn,G[5]=he,G[6]=Ne,G[7]=Be,G[8]=He,G[9]=yt,G[10]=Je,G[11]=nt,G[12]=Xt,G[13]=Ft,G[14]=Rt,G[15]=Tt,G[16]=Vt,G[17]=ir,G[18]=lr,Y!==0&&(G[19]=Y,k.length++),k};function T(E,_,k){k.negative=_.negative^E.negative,k.length=E.length+_.length;for(var N=0,S=0,O=0;O<k.length-1;O++){var L=S;S=0;for(var I=67108863&N,G=Math.min(O,_.length-1),Y=Math.max(0,O-E.length+1);Y<=G;Y++){var te=O-Y,U=(0|E.words[te])*(0|_.words[Y]),J=67108863&U;I=67108863&(J=J+I|0),S+=(L=(L=L+(U/67108864|0)|0)+(J>>>26)|0)>>>26,L&=67108863}k.words[O]=I,N=L,L=S}return N!==0?k.words[O]=N:k.length--,k._strip()}function D(E,_,k){return T(E,_,k)}Math.imul||(C=j),a.prototype.mulTo=function(E,_){var k=this.length+E.length;return this.length===10&&E.length===10?C(this,E,_):k<63?j(this,E,_):k<1024?T(this,E,_):D(this,E,_)},a.prototype.mul=function(E){var _=new a(null);return _.words=new Array(this.length+E.length),this.mulTo(E,_)},a.prototype.mulf=function(E){var _=new a(null);return _.words=new Array(this.length+E.length),D(this,E,_)},a.prototype.imul=function(E){return this.clone().mulTo(E,this)},a.prototype.imuln=function(E){var _=E<0;_&&(E=-E),d(typeof E=="number"),d(E<67108864);for(var k=0,N=0;N<this.length;N++){var S=(0|this.words[N])*E,O=(67108863&S)+(67108863&k);k>>=26,k+=S/67108864|0,k+=O>>>26,this.words[N]=67108863&O}return k!==0&&(this.words[N]=k,this.length++),_?this.ineg():this},a.prototype.muln=function(E){return this.clone().imuln(E)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(E){var _=(function(O){for(var L=new Array(O.bitLength()),I=0;I<L.length;I++){var G=I/26|0,Y=I%26;L[I]=O.words[G]>>>Y&1}return L})(E);if(_.length===0)return new a(1);for(var k=this,N=0;N<_.length&&_[N]===0;N++,k=k.sqr());if(++N<_.length)for(var S=k.sqr();N<_.length;N++,S=S.sqr())_[N]!==0&&(k=k.mul(S));return k},a.prototype.iushln=function(E){d(typeof E=="number"&&E>=0);var _,k=E%26,N=(E-k)/26,S=67108863>>>26-k<<26-k;if(k!==0){var O=0;for(_=0;_<this.length;_++){var L=this.words[_]&S,I=(0|this.words[_])-L<<k;this.words[_]=I|O,O=L>>>26-k}O&&(this.words[_]=O,this.length++)}if(N!==0){for(_=this.length-1;_>=0;_--)this.words[_+N]=this.words[_];for(_=0;_<N;_++)this.words[_]=0;this.length+=N}return this._strip()},a.prototype.ishln=function(E){return d(this.negative===0),this.iushln(E)},a.prototype.iushrn=function(E,_,k){var N;d(typeof E=="number"&&E>=0),N=_?(_-_%26)/26:0;var S=E%26,O=Math.min((E-S)/26,this.length),L=67108863^67108863>>>S<<S,I=k;if(N-=O,N=Math.max(0,N),I){for(var G=0;G<O;G++)I.words[G]=this.words[G];I.length=O}if(O!==0)if(this.length>O)for(this.length-=O,G=0;G<this.length;G++)this.words[G]=this.words[G+O];else this.words[0]=0,this.length=1;var Y=0;for(G=this.length-1;G>=0&&(Y!==0||G>=N);G--){var te=0|this.words[G];this.words[G]=Y<<26-S|te>>>S,Y=te&L}return I&&Y!==0&&(I.words[I.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(E,_,k){return d(this.negative===0),this.iushrn(E,_,k)},a.prototype.shln=function(E){return this.clone().ishln(E)},a.prototype.ushln=function(E){return this.clone().iushln(E)},a.prototype.shrn=function(E){return this.clone().ishrn(E)},a.prototype.ushrn=function(E){return this.clone().iushrn(E)},a.prototype.testn=function(E){d(typeof E=="number"&&E>=0);var _=E%26,k=(E-_)/26,N=1<<_;return!(this.length<=k)&&!!(this.words[k]&N)},a.prototype.imaskn=function(E){d(typeof E=="number"&&E>=0);var _=E%26,k=(E-_)/26;if(d(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(_!==0&&k++,this.length=Math.min(k,this.length),_!==0){var N=67108863^67108863>>>_<<_;this.words[this.length-1]&=N}return this._strip()},a.prototype.maskn=function(E){return this.clone().imaskn(E)},a.prototype.iaddn=function(E){return d(typeof E=="number"),d(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},a.prototype._iaddn=function(E){this.words[0]+=E;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},a.prototype.isubn=function(E){if(d(typeof E=="number"),d(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},a.prototype.addn=function(E){return this.clone().iaddn(E)},a.prototype.subn=function(E){return this.clone().isubn(E)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(E,_,k){var N,S,O=E.length+k;this._expand(O);var L=0;for(N=0;N<E.length;N++){S=(0|this.words[N+k])+L;var I=(0|E.words[N])*_;L=((S-=67108863&I)>>26)-(I/67108864|0),this.words[N+k]=67108863&S}for(;N<this.length-k;N++)L=(S=(0|this.words[N+k])+L)>>26,this.words[N+k]=67108863&S;if(L===0)return this._strip();for(d(L===-1),L=0,N=0;N<this.length;N++)L=(S=-(0|this.words[N])+L)>>26,this.words[N]=67108863&S;return this.negative=1,this._strip()},a.prototype._wordDiv=function(E,_){var k=(this.length,E.length),N=this.clone(),S=E,O=0|S.words[S.length-1];(k=26-this._countBits(O))!==0&&(S=S.ushln(k),N.iushln(k),O=0|S.words[S.length-1]);var L,I=N.length-S.length;if(_!=="mod"){(L=new a(null)).length=I+1,L.words=new Array(L.length);for(var G=0;G<L.length;G++)L.words[G]=0}var Y=N.clone()._ishlnsubmul(S,1,I);Y.negative===0&&(N=Y,L&&(L.words[I]=1));for(var te=I-1;te>=0;te--){var U=67108864*(0|N.words[S.length+te])+(0|N.words[S.length+te-1]);for(U=Math.min(U/O|0,67108863),N._ishlnsubmul(S,U,te);N.negative!==0;)U--,N.negative=0,N._ishlnsubmul(S,1,te),N.isZero()||(N.negative^=1);L&&(L.words[te]=U)}return L&&L._strip(),N._strip(),_!=="div"&&k!==0&&N.iushrn(k),{div:L||null,mod:N}},a.prototype.divmod=function(E,_,k){return d(!E.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:this.negative!==0&&E.negative===0?(O=this.neg().divmod(E,_),_!=="mod"&&(N=O.div.neg()),_!=="div"&&(S=O.mod.neg(),k&&S.negative!==0&&S.iadd(E)),{div:N,mod:S}):this.negative===0&&E.negative!==0?(O=this.divmod(E.neg(),_),_!=="mod"&&(N=O.div.neg()),{div:N,mod:O.mod}):(this.negative&E.negative)!=0?(O=this.neg().divmod(E.neg(),_),_!=="div"&&(S=O.mod.neg(),k&&S.negative!==0&&S.isub(E)),{div:O.div,mod:S}):E.length>this.length||this.cmp(E)<0?{div:new a(0),mod:this}:E.length===1?_==="div"?{div:this.divn(E.words[0]),mod:null}:_==="mod"?{div:null,mod:new a(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new a(this.modrn(E.words[0]))}:this._wordDiv(E,_);var N,S,O},a.prototype.div=function(E){return this.divmod(E,"div",!1).div},a.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},a.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},a.prototype.divRound=function(E){var _=this.divmod(E);if(_.mod.isZero())return _.div;var k=_.div.negative!==0?_.mod.isub(E):_.mod,N=E.ushrn(1),S=E.andln(1),O=k.cmp(N);return O<0||S===1&&O===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},a.prototype.modrn=function(E){var _=E<0;_&&(E=-E),d(E<=67108863);for(var k=(1<<26)%E,N=0,S=this.length-1;S>=0;S--)N=(k*N+(0|this.words[S]))%E;return _?-N:N},a.prototype.modn=function(E){return this.modrn(E)},a.prototype.idivn=function(E){var _=E<0;_&&(E=-E),d(E<=67108863);for(var k=0,N=this.length-1;N>=0;N--){var S=(0|this.words[N])+67108864*k;this.words[N]=S/E|0,k=S%E}return this._strip(),_?this.ineg():this},a.prototype.divn=function(E){return this.clone().idivn(E)},a.prototype.egcd=function(E){d(E.negative===0),d(!E.isZero());var _=this,k=E.clone();_=_.negative!==0?_.umod(E):_.clone();for(var N=new a(1),S=new a(0),O=new a(0),L=new a(1),I=0;_.isEven()&&k.isEven();)_.iushrn(1),k.iushrn(1),++I;for(var G=k.clone(),Y=_.clone();!_.isZero();){for(var te=0,U=1;(_.words[0]&U)==0&&te<26;++te,U<<=1);if(te>0)for(_.iushrn(te);te-- >0;)(N.isOdd()||S.isOdd())&&(N.iadd(G),S.isub(Y)),N.iushrn(1),S.iushrn(1);for(var J=0,$=1;(k.words[0]&$)==0&&J<26;++J,$<<=1);if(J>0)for(k.iushrn(J);J-- >0;)(O.isOdd()||L.isOdd())&&(O.iadd(G),L.isub(Y)),O.iushrn(1),L.iushrn(1);_.cmp(k)>=0?(_.isub(k),N.isub(O),S.isub(L)):(k.isub(_),O.isub(N),L.isub(S))}return{a:O,b:L,gcd:k.iushln(I)}},a.prototype._invmp=function(E){d(E.negative===0),d(!E.isZero());var _=this,k=E.clone();_=_.negative!==0?_.umod(E):_.clone();for(var N,S=new a(1),O=new a(0),L=k.clone();_.cmpn(1)>0&&k.cmpn(1)>0;){for(var I=0,G=1;(_.words[0]&G)==0&&I<26;++I,G<<=1);if(I>0)for(_.iushrn(I);I-- >0;)S.isOdd()&&S.iadd(L),S.iushrn(1);for(var Y=0,te=1;(k.words[0]&te)==0&&Y<26;++Y,te<<=1);if(Y>0)for(k.iushrn(Y);Y-- >0;)O.isOdd()&&O.iadd(L),O.iushrn(1);_.cmp(k)>=0?(_.isub(k),S.isub(O)):(k.isub(_),O.isub(S))}return(N=_.cmpn(1)===0?S:O).cmpn(0)<0&&N.iadd(E),N},a.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var _=this.clone(),k=E.clone();_.negative=0,k.negative=0;for(var N=0;_.isEven()&&k.isEven();N++)_.iushrn(1),k.iushrn(1);for(;;){for(;_.isEven();)_.iushrn(1);for(;k.isEven();)k.iushrn(1);var S=_.cmp(k);if(S<0){var O=_;_=k,k=O}else if(S===0||k.cmpn(1)===0)break;_.isub(k)}return k.iushln(N)},a.prototype.invm=function(E){return this.egcd(E).a.umod(E)},a.prototype.isEven=function(){return(1&this.words[0])==0},a.prototype.isOdd=function(){return(1&this.words[0])==1},a.prototype.andln=function(E){return this.words[0]&E},a.prototype.bincn=function(E){d(typeof E=="number");var _=E%26,k=(E-_)/26,N=1<<_;if(this.length<=k)return this._expand(k+1),this.words[k]|=N,this;for(var S=N,O=k;S!==0&&O<this.length;O++){var L=0|this.words[O];S=(L+=S)>>>26,L&=67108863,this.words[O]=L}return S!==0&&(this.words[O]=S,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(E){var _,k=E<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this._strip(),this.length>1)_=1;else{k&&(E=-E),d(E<=67108863,"Number is too big");var N=0|this.words[0];_=N===E?0:N<E?-1:1}return this.negative!==0?0|-_:_},a.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var _=this.ucmp(E);return this.negative!==0?0|-_:_},a.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var _=0,k=this.length-1;k>=0;k--){var N=0|this.words[k],S=0|E.words[k];if(N!==S){N<S?_=-1:N>S&&(_=1);break}}return _},a.prototype.gtn=function(E){return this.cmpn(E)===1},a.prototype.gt=function(E){return this.cmp(E)===1},a.prototype.gten=function(E){return this.cmpn(E)>=0},a.prototype.gte=function(E){return this.cmp(E)>=0},a.prototype.ltn=function(E){return this.cmpn(E)===-1},a.prototype.lt=function(E){return this.cmp(E)===-1},a.prototype.lten=function(E){return this.cmpn(E)<=0},a.prototype.lte=function(E){return this.cmp(E)<=0},a.prototype.eqn=function(E){return this.cmpn(E)===0},a.prototype.eq=function(E){return this.cmp(E)===0},a.red=function(E){return new P(E)},a.prototype.toRed=function(E){return d(!this.red,"Already a number in reduction context"),d(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},a.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(E){return this.red=E,this},a.prototype.forceRed=function(E){return d(!this.red,"Already a number in reduction context"),this._forceRed(E)},a.prototype.redAdd=function(E){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},a.prototype.redIAdd=function(E){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},a.prototype.redSub=function(E){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},a.prototype.redISub=function(E){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},a.prototype.redShl=function(E){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},a.prototype.redMul=function(E){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},a.prototype.redIMul=function(E){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},a.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(E){return d(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var q={k256:null,p224:null,p192:null,p25519:null};function z(E,_){this.name=E,this.p=new a(_,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function B(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function X(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function W(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(E){if(typeof E=="string"){var _=a._prime(E);this.m=_.p,this.prime=_}else d(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function M(E){P.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}z.prototype._tmp=function(){var E=new a(null);return E.words=new Array(Math.ceil(this.n/13)),E},z.prototype.ireduce=function(E){var _,k=E;do this.split(k,this.tmp),_=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(_>this.n);var N=_<this.n?-1:k.ucmp(this.p);return N===0?(k.words[0]=0,k.length=1):N>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},z.prototype.split=function(E,_){E.iushrn(this.n,0,_)},z.prototype.imulK=function(E){return E.imul(this.k)},c(B,z),B.prototype.split=function(E,_){for(var k=Math.min(E.length,9),N=0;N<k;N++)_.words[N]=E.words[N];if(_.length=k,E.length<=9)return E.words[0]=0,void(E.length=1);var S=E.words[9];for(_.words[_.length++]=4194303&S,N=10;N<E.length;N++){var O=0|E.words[N];E.words[N-10]=(4194303&O)<<4|S>>>22,S=O}S>>>=22,E.words[N-10]=S,S===0&&E.length>10?E.length-=10:E.length-=9},B.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var _=0,k=0;k<E.length;k++){var N=0|E.words[k];_+=977*N,E.words[k]=67108863&_,_=64*N+(_/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},c(V,z),c(X,z),c(W,z),W.prototype.imulK=function(E){for(var _=0,k=0;k<E.length;k++){var N=19*(0|E.words[k])+_,S=67108863&N;N>>>=26,E.words[k]=S,_=N}return _!==0&&(E.words[E.length++]=_),E},a._prime=function(E){if(q[E])return q[E];var _;if(E==="k256")_=new B;else if(E==="p224")_=new V;else if(E==="p192")_=new X;else{if(E!=="p25519")throw new Error("Unknown prime "+E);_=new W}return q[E]=_,_},P.prototype._verify1=function(E){d(E.negative===0,"red works only with positives"),d(E.red,"red works only with red numbers")},P.prototype._verify2=function(E,_){d((E.negative|_.negative)==0,"red works only with positives"),d(E.red&&E.red===_.red,"red works only with red numbers")},P.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(g(E,E.umod(this.m)._forceRed(this)),E)},P.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},P.prototype.add=function(E,_){this._verify2(E,_);var k=E.add(_);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},P.prototype.iadd=function(E,_){this._verify2(E,_);var k=E.iadd(_);return k.cmp(this.m)>=0&&k.isub(this.m),k},P.prototype.sub=function(E,_){this._verify2(E,_);var k=E.sub(_);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},P.prototype.isub=function(E,_){this._verify2(E,_);var k=E.isub(_);return k.cmpn(0)<0&&k.iadd(this.m),k},P.prototype.shl=function(E,_){return this._verify1(E),this.imod(E.ushln(_))},P.prototype.imul=function(E,_){return this._verify2(E,_),this.imod(E.imul(_))},P.prototype.mul=function(E,_){return this._verify2(E,_),this.imod(E.mul(_))},P.prototype.isqr=function(E){return this.imul(E,E.clone())},P.prototype.sqr=function(E){return this.mul(E,E)},P.prototype.sqrt=function(E){if(E.isZero())return E.clone();var _=this.m.andln(3);if(d(_%2==1),_===3){var k=this.m.add(new a(1)).iushrn(2);return this.pow(E,k)}for(var N=this.m.subn(1),S=0;!N.isZero()&&N.andln(1)===0;)S++,N.iushrn(1);d(!N.isZero());var O=new a(1).toRed(this),L=O.redNeg(),I=this.m.subn(1).iushrn(1),G=this.m.bitLength();for(G=new a(2*G*G).toRed(this);this.pow(G,I).cmp(L)!==0;)G.redIAdd(L);for(var Y=this.pow(G,N),te=this.pow(E,N.addn(1).iushrn(1)),U=this.pow(E,N),J=S;U.cmp(O)!==0;){for(var $=U,R=0;$.cmp(O)!==0;R++)$=$.redSqr();d(R<J);var K=this.pow(Y,new a(1).iushln(J-R-1));te=te.redMul(K),Y=K.redSqr(),U=U.redMul(Y),J=R}return te},P.prototype.invm=function(E){var _=E._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},P.prototype.pow=function(E,_){if(_.isZero())return new a(1).toRed(this);if(_.cmpn(1)===0)return E.clone();var k=new Array(16);k[0]=new a(1).toRed(this),k[1]=E;for(var N=2;N<k.length;N++)k[N]=this.mul(k[N-1],E);var S=k[0],O=0,L=0,I=_.bitLength()%26;for(I===0&&(I=26),N=_.length-1;N>=0;N--){for(var G=_.words[N],Y=I-1;Y>=0;Y--){var te=G>>Y&1;S!==k[0]&&(S=this.sqr(S)),te!==0||O!==0?(O<<=1,O|=te,(++L===4||N===0&&Y===0)&&(S=this.mul(S,k[O]),L=0,O=0)):L=0}I=26}return S},P.prototype.convertTo=function(E){var _=E.umod(this.m);return _===E?_.clone():_},P.prototype.convertFrom=function(E){var _=E.clone();return _.red=null,_},a.mont=function(E){return new M(E)},c(M,P),M.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},M.prototype.convertFrom=function(E){var _=this.imod(E.mul(this.rinv));return _.red=null,_},M.prototype.imul=function(E,_){if(E.isZero()||_.isZero())return E.words[0]=0,E.length=1,E;var k=E.imul(_),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=k.isub(N).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},M.prototype.mul=function(E,_){if(E.isZero()||_.isZero())return new a(0)._forceRed(this);var k=E.mul(_),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=k.isub(N).iushrn(this.shift),O=S;return S.cmp(this.m)>=0?O=S.isub(this.m):S.cmpn(0)<0&&(O=S.iadd(this.m)),O._forceRed(this)},M.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(s===void 0||s)},{buffer:188}],187:[function(t,s,l){var i;function o(c){this.rand=c}if(s.exports=function(c){return i||(i=new o(null)),i.generate(c)},s.exports.Rand=o,o.prototype.generate=function(c){return this._rand(c)},o.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var a=new Uint8Array(c),u=0;u<a.length;u++)a[u]=this.rand.getByte();return a},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(c){var a=new Uint8Array(c);return self.crypto.getRandomValues(a),a}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(c){var a=new Uint8Array(c);return self.msCrypto.getRandomValues(a),a}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var d=t("crypto");if(typeof d.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(c){return d.randomBytes(c)}}catch{}},{crypto:188}],188:[function(t,s,l){},{}],189:[function(t,s,l){var i=t("safe-buffer").Buffer;function o(h){i.isBuffer(h)||(h=i.from(h));for(var m=h.length/4|0,g=new Array(m),y=0;y<m;y++)g[y]=h.readUInt32BE(4*y);return g}function d(h){for(;0<h.length;h++)h[0]=0}function c(h,m,g,y,p){for(var b,v,j,C,T=g[0],D=g[1],q=g[2],z=g[3],B=h[0]^m[0],V=h[1]^m[1],X=h[2]^m[2],W=h[3]^m[3],P=4,M=1;M<p;M++)b=T[B>>>24]^D[V>>>16&255]^q[X>>>8&255]^z[255&W]^m[P++],v=T[V>>>24]^D[X>>>16&255]^q[W>>>8&255]^z[255&B]^m[P++],j=T[X>>>24]^D[W>>>16&255]^q[B>>>8&255]^z[255&V]^m[P++],C=T[W>>>24]^D[B>>>16&255]^q[V>>>8&255]^z[255&X]^m[P++],B=b,V=v,X=j,W=C;return b=(y[B>>>24]<<24|y[V>>>16&255]<<16|y[X>>>8&255]<<8|y[255&W])^m[P++],v=(y[V>>>24]<<24|y[X>>>16&255]<<16|y[W>>>8&255]<<8|y[255&B])^m[P++],j=(y[X>>>24]<<24|y[W>>>16&255]<<16|y[B>>>8&255]<<8|y[255&V])^m[P++],C=(y[W>>>24]<<24|y[B>>>16&255]<<16|y[V>>>8&255]<<8|y[255&X])^m[P++],[b>>>=0,v>>>=0,j>>>=0,C>>>=0]}var a=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var h=new Array(256),m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(var g=[],y=[],p=[[],[],[],[]],b=[[],[],[],[]],v=0,j=0,C=0;C<256;++C){var T=j^j<<1^j<<2^j<<3^j<<4;T=T>>>8^255&T^99,g[v]=T,y[T]=v;var D=h[v],q=h[D],z=h[q],B=257*h[T]^16843008*T;p[0][v]=B<<24|B>>>8,p[1][v]=B<<16|B>>>16,p[2][v]=B<<8|B>>>24,p[3][v]=B,B=16843009*z^65537*q^257*D^16843008*v,b[0][T]=B<<24|B>>>8,b[1][T]=B<<16|B>>>16,b[2][T]=B<<8|B>>>24,b[3][T]=B,v===0?v=j=1:(v=D^h[h[h[z^D]]],j^=h[h[j]])}return{SBOX:g,INV_SBOX:y,SUB_MIX:p,INV_SUB_MIX:b}})();function f(h){this._key=o(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,m=h.length,g=m+6,y=4*(g+1),p=[],b=0;b<m;b++)p[b]=h[b];for(b=m;b<y;b++){var v=p[b-1];b%m==0?(v=v<<8|v>>>24,v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v],v^=a[b/m|0]<<24):m>6&&b%m==4&&(v=u.SBOX[v>>>24]<<24|u.SBOX[v>>>16&255]<<16|u.SBOX[v>>>8&255]<<8|u.SBOX[255&v]),p[b]=p[b-m]^v}for(var j=[],C=0;C<y;C++){var T=y-C,D=p[T-(C%4?0:4)];j[C]=C<4||T<=4?D:u.INV_SUB_MIX[0][u.SBOX[D>>>24]]^u.INV_SUB_MIX[1][u.SBOX[D>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[D>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&D]]}this._nRounds=g,this._keySchedule=p,this._invKeySchedule=j},f.prototype.encryptBlockRaw=function(h){return c(h=o(h),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var m=this.encryptBlockRaw(h),g=i.allocUnsafe(16);return g.writeUInt32BE(m[0],0),g.writeUInt32BE(m[1],4),g.writeUInt32BE(m[2],8),g.writeUInt32BE(m[3],12),g},f.prototype.decryptBlock=function(h){var m=(h=o(h))[1];h[1]=h[3],h[3]=m;var g=c(h,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),y=i.allocUnsafe(16);return y.writeUInt32BE(g[0],0),y.writeUInt32BE(g[3],4),y.writeUInt32BE(g[2],8),y.writeUInt32BE(g[1],12),y},f.prototype.scrub=function(){d(this._keySchedule),d(this._invKeySchedule),d(this._key)},s.exports.AES=f},{"safe-buffer":494}],190:[function(t,s,l){var i=t("./aes"),o=t("safe-buffer").Buffer,d=t("cipher-base"),c=t("inherits"),a=t("./ghash"),u=t("buffer-xor"),f=t("./incr32");function h(m,g,y,p){d.call(this);var b=o.alloc(4,0);this._cipher=new i.AES(g);var v=this._cipher.encryptBlock(b);this._ghash=new a(v),y=(function(j,C,T){if(C.length===12)return j._finID=o.concat([C,o.from([0,0,0,1])]),o.concat([C,o.from([0,0,0,2])]);var D=new a(T),q=C.length,z=q%16;D.update(C),z&&(z=16-z,D.update(o.alloc(z,0))),D.update(o.alloc(8,0));var B=8*q,V=o.alloc(8);V.writeUIntBE(B,0,8),D.update(V),j._finID=D.state;var X=o.from(j._finID);return f(X),X})(this,y,v),this._prev=o.from(y),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=p,this._alen=0,this._len=0,this._mode=m,this._authTag=null,this._called=!1}c(h,d),h.prototype._update=function(m){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=o.alloc(g,0),this._ghash.update(g))}this._called=!0;var y=this._mode.encrypt(this,m);return this._decrypt?this._ghash.update(m):this._ghash.update(y),this._len+=m.length,y},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var m=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(g,y){var p=0;g.length!==y.length&&p++;for(var b=Math.min(g.length,y.length),v=0;v<b;++v)p+=g[v]^y[v];return p})(m,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=m,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(m){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=m},h.prototype.setAAD=function(m){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(m),this._alen+=m.length},s.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,s,l){var i=t("./encrypter"),o=t("./decrypter"),d=t("./modes/list.json");l.createCipher=l.Cipher=i.createCipher,l.createCipheriv=l.Cipheriv=i.createCipheriv,l.createDecipher=l.Decipher=o.createDecipher,l.createDecipheriv=l.Decipheriv=o.createDecipheriv,l.listCiphers=l.getCiphers=function(){return Object.keys(d)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,s,l){var i=t("./authCipher"),o=t("safe-buffer").Buffer,d=t("./modes"),c=t("./streamCipher"),a=t("cipher-base"),u=t("./aes"),f=t("evp_bytestokey");function h(y,p,b){a.call(this),this._cache=new m,this._last=void 0,this._cipher=new u.AES(p),this._prev=o.from(b),this._mode=y,this._autopadding=!0}function m(){this.cache=o.allocUnsafe(0)}function g(y,p,b){var v=d[y.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=o.from(b)),v.mode!=="GCM"&&b.length!==v.iv)throw new TypeError("invalid iv length "+b.length);if(typeof p=="string"&&(p=o.from(p)),p.length!==v.key/8)throw new TypeError("invalid key length "+p.length);return v.type==="stream"?new c(v.module,p,b,!0):v.type==="auth"?new i(v.module,p,b,!0):new h(v.module,p,b)}t("inherits")(h,a),h.prototype._update=function(y){var p,b;this._cache.add(y);for(var v=[];p=this._cache.get(this._autopadding);)b=this._mode.decrypt(this,p),v.push(b);return o.concat(v)},h.prototype._final=function(){var y=this._cache.flush();if(this._autopadding)return(function(p){var b=p[15];if(b<1||b>16)throw new Error("unable to decrypt data");for(var v=-1;++v<b;)if(p[v+(16-b)]!==b)throw new Error("unable to decrypt data");if(b!==16)return p.slice(0,16-b)})(this._mode.decrypt(this,y));if(y)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(y){return this._autopadding=!!y,this},m.prototype.add=function(y){this.cache=o.concat([this.cache,y])},m.prototype.get=function(y){var p;if(y){if(this.cache.length>16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p}else if(this.cache.length>=16)return p=this.cache.slice(0,16),this.cache=this.cache.slice(16),p;return null},m.prototype.flush=function(){if(this.cache.length)return this.cache},l.createDecipher=function(y,p){var b=d[y.toLowerCase()];if(!b)throw new TypeError("invalid suite type");var v=f(p,!1,b.key,b.iv);return g(y,v.key,v.iv)},l.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,s,l){var i=t("./modes"),o=t("./authCipher"),d=t("safe-buffer").Buffer,c=t("./streamCipher"),a=t("cipher-base"),u=t("./aes"),f=t("evp_bytestokey");function h(p,b,v){a.call(this),this._cache=new g,this._cipher=new u.AES(b),this._prev=d.from(v),this._mode=p,this._autopadding=!0}t("inherits")(h,a),h.prototype._update=function(p){var b,v;this._cache.add(p);for(var j=[];b=this._cache.get();)v=this._mode.encrypt(this,b),j.push(v);return d.concat(j)};var m=d.alloc(16,16);function g(){this.cache=d.allocUnsafe(0)}function y(p,b,v){var j=i[p.toLowerCase()];if(!j)throw new TypeError("invalid suite type");if(typeof b=="string"&&(b=d.from(b)),b.length!==j.key/8)throw new TypeError("invalid key length "+b.length);if(typeof v=="string"&&(v=d.from(v)),j.mode!=="GCM"&&v.length!==j.iv)throw new TypeError("invalid iv length "+v.length);return j.type==="stream"?new c(j.module,b,v):j.type==="auth"?new o(j.module,b,v):new h(j.module,b,v)}h.prototype._final=function(){var p=this._cache.flush();if(this._autopadding)return p=this._mode.encrypt(this,p),this._cipher.scrub(),p;if(!p.equals(m))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(p){return this._autopadding=!!p,this},g.prototype.add=function(p){this.cache=d.concat([this.cache,p])},g.prototype.get=function(){if(this.cache.length>15){var p=this.cache.slice(0,16);return this.cache=this.cache.slice(16),p}return null},g.prototype.flush=function(){for(var p=16-this.cache.length,b=d.allocUnsafe(p),v=-1;++v<p;)b.writeUInt8(p,v);return d.concat([this.cache,b])},l.createCipheriv=y,l.createCipher=function(p,b){var v=i[p.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var j=f(b,!1,v.key,v.iv);return y(p,j.key,j.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,s,l){var i=t("safe-buffer").Buffer,o=i.alloc(16,0);function d(a){var u=i.allocUnsafe(16);return u.writeUInt32BE(a[0]>>>0,0),u.writeUInt32BE(a[1]>>>0,4),u.writeUInt32BE(a[2]>>>0,8),u.writeUInt32BE(a[3]>>>0,12),u}function c(a){this.h=a,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}c.prototype.ghash=function(a){for(var u=-1;++u<a.length;)this.state[u]^=a[u];this._multiply()},c.prototype._multiply=function(){for(var a,u,f,h=[(a=this.h).readUInt32BE(0),a.readUInt32BE(4),a.readUInt32BE(8),a.readUInt32BE(12)],m=[0,0,0,0],g=-1;++g<128;){for((this.state[~~(g/8)]&1<<7-g%8)!=0&&(m[0]^=h[0],m[1]^=h[1],m[2]^=h[2],m[3]^=h[3]),f=(1&h[3])!=0,u=3;u>0;u--)h[u]=h[u]>>>1|(1&h[u-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=d(m)},c.prototype.update=function(a){var u;for(this.cache=i.concat([this.cache,a]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},c.prototype.final=function(a,u){return this.cache.length&&this.ghash(i.concat([this.cache,o],16)),this.ghash(d([0,a,0,u])),this.state},s.exports=c},{"safe-buffer":494}],195:[function(t,s,l){s.exports=function(i){for(var o,d=i.length;d--;){if((o=i.readUInt8(d))!==255){o++,i.writeUInt8(o,d);break}i.writeUInt8(0,d)}}},{}],196:[function(t,s,l){var i=t("buffer-xor");l.encrypt=function(o,d){var c=i(d,o._prev);return o._prev=o._cipher.encryptBlock(c),o._prev},l.decrypt=function(o,d){var c=o._prev;o._prev=d;var a=o._cipher.decryptBlock(d);return i(a,c)}},{"buffer-xor":219}],197:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("buffer-xor");function d(c,a,u){var f=a.length,h=o(a,c._cache);return c._cache=c._cache.slice(f),c._prev=i.concat([c._prev,u?a:h]),h}l.encrypt=function(c,a,u){for(var f,h=i.allocUnsafe(0);a.length;){if(c._cache.length===0&&(c._cache=c._cipher.encryptBlock(c._prev),c._prev=i.allocUnsafe(0)),!(c._cache.length<=a.length)){h=i.concat([h,d(c,a,u)]);break}f=c._cache.length,h=i.concat([h,d(c,a.slice(0,f),u)]),a=a.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,s,l){var i=t("safe-buffer").Buffer;function o(c,a,u){for(var f,h,m=-1,g=0;++m<8;)f=a&1<<7-m?128:0,g+=(128&(h=c._cipher.encryptBlock(c._prev)[0]^f))>>m%8,c._prev=d(c._prev,u?f:h);return g}function d(c,a){var u=c.length,f=-1,h=i.allocUnsafe(c.length);for(c=i.concat([c,i.from([a])]);++f<u;)h[f]=c[f]<<1|c[f+1]>>7;return h}l.encrypt=function(c,a,u){for(var f=a.length,h=i.allocUnsafe(f),m=-1;++m<f;)h[m]=o(c,a[m],u);return h}},{"safe-buffer":494}],199:[function(t,s,l){var i=t("safe-buffer").Buffer;function o(d,c,a){var u=d._cipher.encryptBlock(d._prev)[0]^c;return d._prev=i.concat([d._prev.slice(1),i.from([a?c:u])]),u}l.encrypt=function(d,c,a){for(var u=c.length,f=i.allocUnsafe(u),h=-1;++h<u;)f[h]=o(d,c[h],a);return f}},{"safe-buffer":494}],200:[function(t,s,l){var i=t("buffer-xor"),o=t("safe-buffer").Buffer,d=t("../incr32");function c(a){var u=a._cipher.encryptBlockRaw(a._prev);return d(a._prev),u}l.encrypt=function(a,u){var f=Math.ceil(u.length/16),h=a._cache.length;a._cache=o.concat([a._cache,o.allocUnsafe(16*f)]);for(var m=0;m<f;m++){var g=c(a),y=h+16*m;a._cache.writeUInt32BE(g[0],y+0),a._cache.writeUInt32BE(g[1],y+4),a._cache.writeUInt32BE(g[2],y+8),a._cache.writeUInt32BE(g[3],y+12)}var p=a._cache.slice(0,u.length);return a._cache=a._cache.slice(u.length),i(u,p)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,s,l){l.encrypt=function(i,o){return i._cipher.encryptBlock(o)},l.decrypt=function(i,o){return i._cipher.decryptBlock(o)}},{}],202:[function(t,s,l){var i={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},o=t("./list.json");for(var d in o)o[d].module=i[o[d].mode];s.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,s,l){s.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,s,l){(function(i){(function(){var o=t("buffer-xor");function d(c){return c._prev=c._cipher.encryptBlock(c._prev),c._prev}l.encrypt=function(c,a){for(;c._cache.length<a.length;)c._cache=i.concat([c._cache,d(c)]);var u=c._cache.slice(0,a.length);return c._cache=c._cache.slice(a.length),o(a,u)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,s,l){var i=t("./aes"),o=t("safe-buffer").Buffer,d=t("cipher-base");function c(a,u,f,h){d.call(this),this._cipher=new i.AES(u),this._prev=o.from(f),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=h,this._mode=a}t("inherits")(c,d),c.prototype._update=function(a){return this._mode.encrypt(this,a,this._decrypt)},c.prototype._final=function(){this._cipher.scrub()},s.exports=c},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,s,l){var i=t("browserify-des"),o=t("browserify-aes/browser"),d=t("browserify-aes/modes"),c=t("browserify-des/modes"),a=t("evp_bytestokey");function u(h,m,g){if(h=h.toLowerCase(),d[h])return o.createCipheriv(h,m,g);if(c[h])return new i({key:m,iv:g,mode:h});throw new TypeError("invalid suite type")}function f(h,m,g){if(h=h.toLowerCase(),d[h])return o.createDecipheriv(h,m,g);if(c[h])return new i({key:m,iv:g,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}l.createCipher=l.Cipher=function(h,m){var g,y;if(h=h.toLowerCase(),d[h])g=d[h].key,y=d[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");g=8*c[h].key,y=c[h].iv}var p=a(m,!1,g,y);return u(h,p.key,p.iv)},l.createCipheriv=l.Cipheriv=u,l.createDecipher=l.Decipher=function(h,m){var g,y;if(h=h.toLowerCase(),d[h])g=d[h].key,y=d[h].iv;else{if(!c[h])throw new TypeError("invalid suite type");g=8*c[h].key,y=c[h].iv}var p=a(m,!1,g,y);return f(h,p.key,p.iv)},l.createDecipheriv=l.Decipheriv=f,l.listCiphers=l.getCiphers=function(){return Object.keys(c).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,s,l){var i=t("cipher-base"),o=t("des.js"),d=t("inherits"),c=t("safe-buffer").Buffer,a={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function u(f){i.call(this);var h,m=f.mode.toLowerCase(),g=a[m];h=f.decrypt?"decrypt":"encrypt";var y=f.key;c.isBuffer(y)||(y=c.from(y)),m!=="des-ede"&&m!=="des-ede-cbc"||(y=c.concat([y,y.slice(0,8)]));var p=f.iv;c.isBuffer(p)||(p=c.from(p)),this._des=g.create({key:y,iv:p,type:h})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],s.exports=u,d(u,i),u.prototype._update=function(f){return c.from(this._des.update(f))},u.prototype._final=function(){return c.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,s,l){l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}},{}],209:[function(t,s,l){(function(i){(function(){var o=t("bn.js"),d=t("randombytes");function c(u){var f,h=u.modulus.byteLength();do f=new o(d(h));while(f.cmp(u.modulus)>=0||!f.umod(u.prime1)||!f.umod(u.prime2));return f}function a(u,f){var h=(function(q){var z=c(q);return{blinder:z.toRed(o.mont(q.modulus)).redPow(new o(q.publicExponent)).fromRed(),unblinder:z.invm(q.modulus)}})(f),m=f.modulus.byteLength(),g=new o(u).mul(h.blinder).umod(f.modulus),y=g.toRed(o.mont(f.prime1)),p=g.toRed(o.mont(f.prime2)),b=f.coefficient,v=f.prime1,j=f.prime2,C=y.redPow(f.exponent1).fromRed(),T=p.redPow(f.exponent2).fromRed(),D=C.isub(T).imul(b).umod(v).imul(j);return T.iadd(D).imul(h.unblinder).umod(f.modulus).toArrayLike(i,"be",m)}a.getr=c,s.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,s,l){s.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,s,l){s.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,s,l){s.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("create-hash"),d=t("readable-stream"),c=t("inherits"),a=t("./sign"),u=t("./verify"),f=t("./algorithms.json");function h(p){d.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function m(p){d.Writable.call(this);var b=f[p];if(!b)throw new Error("Unknown message digest");this._hash=o(b.hash),this._tag=b.id,this._signType=b.sign}function g(p){return new h(p)}function y(p){return new m(p)}Object.keys(f).forEach((function(p){f[p].id=i.from(f[p].id,"hex"),f[p.toLowerCase()]=f[p]})),c(h,d.Writable),h.prototype._write=function(p,b,v){this._hash.update(p),v()},h.prototype.update=function(p,b){return typeof p=="string"&&(p=i.from(p,b)),this._hash.update(p),this},h.prototype.sign=function(p,b){this.end();var v=this._hash.digest(),j=a(v,p,this._hashType,this._signType,this._tag);return b?j.toString(b):j},c(m,d.Writable),m.prototype._write=function(p,b,v){this._hash.update(p),v()},m.prototype.update=function(p,b){return typeof p=="string"&&(p=i.from(p,b)),this._hash.update(p),this},m.prototype.verify=function(p,b,v){typeof b=="string"&&(b=i.from(b,v)),this.end();var j=this._hash.digest();return u(b,j,p,this._signType,this._tag)},s.exports={Sign:g,Verify:y,createSign:g,createVerify:y}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("create-hmac"),d=t("browserify-rsa"),c=t("elliptic").ec,a=t("bn.js"),u=t("parse-asn1"),f=t("./curves.json");function h(p,b,v,j){if((p=i.from(p.toArray())).length<b.byteLength()){var C=i.alloc(b.byteLength()-p.length);p=i.concat([C,p])}var T=v.length,D=(function(B,V){B=(B=m(B,V)).mod(V);var X=i.from(B.toArray());if(X.length<V.byteLength()){var W=i.alloc(V.byteLength()-X.length);X=i.concat([W,X])}return X})(v,b),q=i.alloc(T);q.fill(1);var z=i.alloc(T);return z=o(j,z).update(q).update(i.from([0])).update(p).update(D).digest(),q=o(j,z).update(q).digest(),{k:z=o(j,z).update(q).update(i.from([1])).update(p).update(D).digest(),v:q=o(j,z).update(q).digest()}}function m(p,b){var v=new a(p),j=(p.length<<3)-b.bitLength();return j>0&&v.ishrn(j),v}function g(p,b,v){var j,C;do{for(j=i.alloc(0);8*j.length<p.bitLength();)b.v=o(v,b.k).update(b.v).digest(),j=i.concat([j,b.v]);C=m(j,p),b.k=o(v,b.k).update(b.v).update(i.from([0])).digest(),b.v=o(v,b.k).update(b.v).digest()}while(C.cmp(p)!==-1);return C}function y(p,b,v,j){return p.toRed(a.mont(v)).redPow(b).fromRed().mod(j)}s.exports=function(p,b,v,j,C){var T=u(b);if(T.curve){if(j!=="ecdsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(B,V){var X=f[V.curve.join(".")];if(!X)throw new Error("unknown curve "+V.curve.join("."));var W=new c(X).keyFromPrivate(V.privateKey).sign(B);return i.from(W.toDER())})(p,T)}if(T.type==="dsa"){if(j!=="dsa")throw new Error("wrong private key type");return(function(B,V,X){for(var W,P=V.params.priv_key,M=V.params.p,E=V.params.q,_=V.params.g,k=new a(0),N=m(B,E).mod(E),S=!1,O=h(P,E,B,X);S===!1;)W=g(E,O,X),k=y(_,W,M,E),(S=W.invm(E).imul(N.add(P.mul(k))).mod(E)).cmpn(0)===0&&(S=!1,k=new a(0));return(function(L,I){L=L.toArray(),I=I.toArray(),128&L[0]&&(L=[0].concat(L)),128&I[0]&&(I=[0].concat(I));var G=[48,L.length+I.length+4,2,L.length];return G=G.concat(L,[2,I.length],I),i.from(G)})(k,S)})(p,T,v)}if(j!=="rsa"&&j!=="ecdsa/rsa")throw new Error("wrong private key type");p=i.concat([C,p]);for(var D=T.modulus.byteLength(),q=[0,1];p.length+q.length+1<D;)q.push(255);q.push(0);for(var z=-1;++z<p.length;)q.push(p[z]);return d(q,T)},s.exports.getKey=h,s.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("bn.js"),d=t("elliptic").ec,c=t("parse-asn1"),a=t("./curves.json");function u(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}s.exports=function(f,h,m,g,y){var p=c(m);if(p.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(q,z,B){var V=a[B.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+B.data.algorithm.curve.join("."));var X=new d(V),W=B.data.subjectPrivateKey.data;return X.verify(z,q,W)})(f,h,p)}if(p.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return(function(q,z,B){var V=B.data.p,X=B.data.q,W=B.data.g,P=B.data.pub_key,M=c.signature.decode(q,"der"),E=M.s,_=M.r;u(E,X),u(_,X);var k=o.mont(V),N=E.invm(X);return W.toRed(k).redPow(new o(z).mul(N).mod(X)).fromRed().mul(P.toRed(k).redPow(_.mul(N).mod(X)).fromRed()).mod(V).mod(X).cmp(_)===0})(f,h,p)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([y,h]);for(var b=p.modulus.byteLength(),v=[1],j=0;h.length+v.length+2<b;)v.push(255),j++;v.push(0);for(var C=-1;++C<h.length;)v.push(h[C]);v=i.from(v);var T=o.mont(p.modulus);f=(f=new o(f).toRed(T)).redPow(new o(p.publicExponent)),f=i.from(f.fromRed().toArray());var D=j<8?1:0;for(b=Math.min(f.length,v.length),f.length!==v.length&&(D=1),C=-1;++C<b;)D|=f[C]^v[C];return D===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,s,l){},{}],217:[function(t,s,l){var i=t("buffer"),o=i.Buffer;function d(a,u){for(var f in a)u[f]=a[f]}function c(a,u,f){return o(a,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=i:(d(i,l),l.Buffer=c),d(o,c),c.from=function(a,u,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,u,f)},c.alloc=function(a,u,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=o(a);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},c.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},c.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],218:[function(t,s,l){var i=t("safe-buffer").Buffer,o=i.isEncoding||function(p){switch((p=""+p)&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(p){var b;switch(this.encoding=(function(v){var j=(function(C){if(!C)return"utf8";for(var T;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(T)return;C=(""+C).toLowerCase(),T=!0}})(v);if(typeof j!="string"&&(i.isEncoding===o||!o(v)))throw new Error("Unknown encoding: "+v);return j||v})(p),this.encoding){case"utf16le":this.text=u,this.end=f,b=4;break;case"utf8":this.fillLast=a,b=4;break;case"base64":this.text=h,this.end=m,b=3;break;default:return this.write=g,void(this.end=y)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(b)}function c(p){return p<=127?0:p>>5==6?2:p>>4==14?3:p>>3==30?4:p>>6==2?-1:-2}function a(p){var b=this.lastTotal-this.lastNeed,v=(function(j,C,T){if((192&C[0])!=128)return j.lastNeed=0,"";if(j.lastNeed>1&&C.length>1){if((192&C[1])!=128)return j.lastNeed=1,"";if(j.lastNeed>2&&C.length>2&&(192&C[2])!=128)return j.lastNeed=2,""}})(this,p);return v!==void 0?v:this.lastNeed<=p.length?(p.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(p.copy(this.lastChar,b,0,p.length),void(this.lastNeed-=p.length))}function u(p,b){if((p.length-b)%2==0){var v=p.toString("utf16le",b);if(v){var j=v.charCodeAt(v.length-1);if(j>=55296&&j<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",b,p.length-1)}function f(p){var b=p&&p.length?this.write(p):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,v)}return b}function h(p,b){var v=(p.length-b)%3;return v===0?p.toString("base64",b):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",b,p.length-v))}function m(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function g(p){return p.toString(this.encoding)}function y(p){return p&&p.length?this.write(p):""}l.StringDecoder=d,d.prototype.write=function(p){if(p.length===0)return"";var b,v;if(this.lastNeed){if((b=this.fillLast(p))===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<p.length?b?b+this.text(p,v):this.text(p,v):b||""},d.prototype.end=function(p){var b=p&&p.length?this.write(p):"";return this.lastNeed?b+"":b},d.prototype.text=function(p,b){var v=(function(C,T,D){var q=T.length-1;if(q<D)return 0;var z=c(T[q]);return z>=0?(z>0&&(C.lastNeed=z-1),z):--q<D||z===-2?0:(z=c(T[q]))>=0?(z>0&&(C.lastNeed=z-2),z):--q<D||z===-2?0:(z=c(T[q]))>=0?(z>0&&(z===2?z=0:C.lastNeed=z-3),z):0})(this,p,b);if(!this.lastNeed)return p.toString("utf8",b);this.lastTotal=v;var j=p.length-(v-this.lastNeed);return p.copy(this.lastChar,0,j),p.toString("utf8",b,j)},d.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length}},{"safe-buffer":217}],219:[function(t,s,l){(function(i){(function(){s.exports=function(o,d){for(var c=Math.min(o.length,d.length),a=new i(c),u=0;u<c;++u)a[u]=o[u]^d[u];return a}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,s,l){(function(i){(function(){var o=t("base64-js"),d=t("ieee754");l.Buffer=a,l.SlowBuffer=function($){return+$!=$&&($=0),a.alloc(+$)},l.INSPECT_MAX_BYTES=50;function c($){if($>2147483647)throw new RangeError('The value "'+$+'" is invalid for option "size"');var R=new Uint8Array($);return R.__proto__=a.prototype,R}function a($,R,K){if(typeof $=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h($)}return u($,R,K)}function u($,R,K){if(typeof $=="string")return(function(ie,ae){if(typeof ae=="string"&&ae!==""||(ae="utf8"),!a.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);var re=0|y(ie,ae),le=c(re),ne=le.write(ie,ae);return ne!==re&&(le=le.slice(0,ne)),le})($,R);if(ArrayBuffer.isView($))return m($);if($==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $);if(U($,ArrayBuffer)||$&&U($.buffer,ArrayBuffer))return(function(ie,ae,re){if(ae<0||ie.byteLength<ae)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<ae+(re||0))throw new RangeError('"length" is outside of buffer bounds');var le;return le=ae===void 0&&re===void 0?new Uint8Array(ie):re===void 0?new Uint8Array(ie,ae):new Uint8Array(ie,ae,re),le.__proto__=a.prototype,le})($,R,K);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=$.valueOf&&$.valueOf();if(ee!=null&&ee!==$)return a.from(ee,R,K);var se=(function(ie){if(a.isBuffer(ie)){var ae=0|g(ie.length),re=c(ae);return re.length===0||ie.copy(re,0,0,ae),re}if(ie.length!==void 0)return typeof ie.length!="number"||J(ie.length)?c(0):m(ie);if(ie.type==="Buffer"&&Array.isArray(ie.data))return m(ie.data)})($);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return a.from($[Symbol.toPrimitive]("string"),R,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof $)}function f($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function h($){return f($),c($<0?0:0|g($))}function m($){for(var R=$.length<0?0:0|g($.length),K=c(R),ee=0;ee<R;ee+=1)K[ee]=255&$[ee];return K}function g($){if($>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|$}function y($,R){if(a.isBuffer($))return $.length;if(ArrayBuffer.isView($)||U($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof $);var K=$.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&K===0)return 0;for(var se=!1;;)switch(R){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return G($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return Y($).length;default:if(se)return ee?-1:G($).length;R=(""+R).toLowerCase(),se=!0}}function p($,R,K){var ee=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(R>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return M(this,R,K);case"utf8":case"utf-8":return X(this,R,K);case"ascii":return W(this,R,K);case"latin1":case"binary":return P(this,R,K);case"base64":return V(this,R,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,R,K);default:if(ee)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),ee=!0}}function b($,R,K){var ee=$[R];$[R]=$[K],$[K]=ee}function v($,R,K,ee,se){if($.length===0)return-1;if(typeof K=="string"?(ee=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),J(K=+K)&&(K=se?0:$.length-1),K<0&&(K=$.length+K),K>=$.length){if(se)return-1;K=$.length-1}else if(K<0){if(!se)return-1;K=0}if(typeof R=="string"&&(R=a.from(R,ee)),a.isBuffer(R))return R.length===0?-1:j($,R,K,ee,se);if(typeof R=="number")return R&=255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call($,R,K):Uint8Array.prototype.lastIndexOf.call($,R,K):j($,[R],K,ee,se);throw new TypeError("val must be string, number or Buffer")}function j($,R,K,ee,se){var ie,ae=1,re=$.length,le=R.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if($.length<2||R.length<2)return-1;ae=2,re/=2,le/=2,K/=2}function ne(ge,be){return ae===1?ge[be]:ge.readUInt16BE(be*ae)}if(se){var fe=-1;for(ie=K;ie<re;ie++)if(ne($,ie)===ne(R,fe===-1?0:ie-fe)){if(fe===-1&&(fe=ie),ie-fe+1===le)return fe*ae}else fe!==-1&&(ie-=ie-fe),fe=-1}else for(K+le>re&&(K=re-le),ie=K;ie>=0;ie--){for(var ue=!0,xe=0;xe<le;xe++)if(ne($,ie+xe)!==ne(R,xe)){ue=!1;break}if(ue)return ie}return-1}function C($,R,K,ee){K=Number(K)||0;var se=$.length-K;ee?(ee=Number(ee))>se&&(ee=se):ee=se;var ie=R.length;ee>ie/2&&(ee=ie/2);for(var ae=0;ae<ee;++ae){var re=parseInt(R.substr(2*ae,2),16);if(J(re))return ae;$[K+ae]=re}return ae}function T($,R,K,ee){return te(G(R,$.length-K),$,K,ee)}function D($,R,K,ee){return te((function(se){for(var ie=[],ae=0;ae<se.length;++ae)ie.push(255&se.charCodeAt(ae));return ie})(R),$,K,ee)}function q($,R,K,ee){return D($,R,K,ee)}function z($,R,K,ee){return te(Y(R),$,K,ee)}function B($,R,K,ee){return te((function(se,ie){for(var ae,re,le,ne=[],fe=0;fe<se.length&&!((ie-=2)<0);++fe)ae=se.charCodeAt(fe),re=ae>>8,le=ae%256,ne.push(le),ne.push(re);return ne})(R,$.length-K),$,K,ee)}function V($,R,K){return R===0&&K===$.length?o.fromByteArray($):o.fromByteArray($.slice(R,K))}function X($,R,K){K=Math.min($.length,K);for(var ee=[],se=R;se<K;){var ie,ae,re,le,ne=$[se],fe=null,ue=ne>239?4:ne>223?3:ne>191?2:1;if(se+ue<=K)switch(ue){case 1:ne<128&&(fe=ne);break;case 2:(192&(ie=$[se+1]))==128&&(le=(31&ne)<<6|63&ie)>127&&(fe=le);break;case 3:ie=$[se+1],ae=$[se+2],(192&ie)==128&&(192&ae)==128&&(le=(15&ne)<<12|(63&ie)<<6|63&ae)>2047&&(le<55296||le>57343)&&(fe=le);break;case 4:ie=$[se+1],ae=$[se+2],re=$[se+3],(192&ie)==128&&(192&ae)==128&&(192&re)==128&&(le=(15&ne)<<18|(63&ie)<<12|(63&ae)<<6|63&re)>65535&&le<1114112&&(fe=le)}fe===null?(fe=65533,ue=1):fe>65535&&(fe-=65536,ee.push(fe>>>10&1023|55296),fe=56320|1023&fe),ee.push(fe),se+=ue}return(function(xe){var ge=xe.length;if(ge<=4096)return String.fromCharCode.apply(String,xe);for(var be="",ke=0;ke<ge;)be+=String.fromCharCode.apply(String,xe.slice(ke,ke+=4096));return be})(ee)}l.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=(function(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42}catch{return!1}})(),a.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function($,R,K){return u($,R,K)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function($,R,K){return(function(ee,se,ie){return f(ee),ee<=0?c(ee):se!==void 0?typeof ie=="string"?c(ee).fill(se,ie):c(ee).fill(se):c(ee)})($,R,K)},a.allocUnsafe=function($){return h($)},a.allocUnsafeSlow=function($){return h($)},a.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==a.prototype},a.compare=function($,R){if(U($,Uint8Array)&&($=a.from($,$.offset,$.byteLength)),U(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer($)||!a.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===R)return 0;for(var K=$.length,ee=R.length,se=0,ie=Math.min(K,ee);se<ie;++se)if($[se]!==R[se]){K=$[se],ee=R[se];break}return K<ee?-1:ee<K?1:0},a.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function($,R){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return a.alloc(0);var K;if(R===void 0)for(R=0,K=0;K<$.length;++K)R+=$[K].length;var ee=a.allocUnsafe(R),se=0;for(K=0;K<$.length;++K){var ie=$[K];if(U(ie,Uint8Array)&&(ie=a.from(ie)),!a.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(ee,se),se+=ie.length}return ee},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<$;R+=2)b(this,R,R+1);return this},a.prototype.swap32=function(){var $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<$;R+=4)b(this,R,R+3),b(this,R+1,R+2);return this},a.prototype.swap64=function(){var $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<$;R+=8)b(this,R,R+7),b(this,R+1,R+6),b(this,R+2,R+5),b(this,R+3,R+4);return this},a.prototype.toString=function(){var $=this.length;return $===0?"":arguments.length===0?X(this,0,$):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function($){if(!a.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$||a.compare(this,$)===0},a.prototype.inspect=function(){var $="",R=l.INSPECT_MAX_BYTES;return $=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&($+=" ... "),"<Buffer "+$+">"},a.prototype.compare=function($,R,K,ee,se){if(U($,Uint8Array)&&($=a.from($,$.offset,$.byteLength)),!a.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof $);if(R===void 0&&(R=0),K===void 0&&(K=$?$.length:0),ee===void 0&&(ee=0),se===void 0&&(se=this.length),R<0||K>$.length||ee<0||se>this.length)throw new RangeError("out of range index");if(ee>=se&&R>=K)return 0;if(ee>=se)return-1;if(R>=K)return 1;if(this===$)return 0;for(var ie=(se>>>=0)-(ee>>>=0),ae=(K>>>=0)-(R>>>=0),re=Math.min(ie,ae),le=this.slice(ee,se),ne=$.slice(R,K),fe=0;fe<re;++fe)if(le[fe]!==ne[fe]){ie=le[fe],ae=ne[fe];break}return ie<ae?-1:ae<ie?1:0},a.prototype.includes=function($,R,K){return this.indexOf($,R,K)!==-1},a.prototype.indexOf=function($,R,K){return v(this,$,R,K,!0)},a.prototype.lastIndexOf=function($,R,K){return v(this,$,R,K,!1)},a.prototype.write=function($,R,K,ee){if(R===void 0)ee="utf8",K=this.length,R=0;else if(K===void 0&&typeof R=="string")ee=R,K=this.length,R=0;else{if(!isFinite(R))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");R>>>=0,isFinite(K)?(K>>>=0,ee===void 0&&(ee="utf8")):(ee=K,K=void 0)}var se=this.length-R;if((K===void 0||K>se)&&(K=se),$.length>0&&(K<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var ie=!1;;)switch(ee){case"hex":return C(this,$,R,K);case"utf8":case"utf-8":return T(this,$,R,K);case"ascii":return D(this,$,R,K);case"latin1":case"binary":return q(this,$,R,K);case"base64":return z(this,$,R,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,$,R,K);default:if(ie)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),ie=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W($,R,K){var ee="";K=Math.min($.length,K);for(var se=R;se<K;++se)ee+=String.fromCharCode(127&$[se]);return ee}function P($,R,K){var ee="";K=Math.min($.length,K);for(var se=R;se<K;++se)ee+=String.fromCharCode($[se]);return ee}function M($,R,K){var ee=$.length;(!R||R<0)&&(R=0),(!K||K<0||K>ee)&&(K=ee);for(var se="",ie=R;ie<K;++ie)se+=I($[ie]);return se}function E($,R,K){for(var ee=$.slice(R,K),se="",ie=0;ie<ee.length;ie+=2)se+=String.fromCharCode(ee[ie]+256*ee[ie+1]);return se}function _($,R,K){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+R>K)throw new RangeError("Trying to access beyond buffer length")}function k($,R,K,ee,se,ie){if(!a.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>se||R<ie)throw new RangeError('"value" argument is out of bounds');if(K+ee>$.length)throw new RangeError("Index out of range")}function N($,R,K,ee,se,ie){if(K+ee>$.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function S($,R,K,ee,se){return R=+R,K>>>=0,se||N($,0,K,4),d.write($,R,K,ee,23,4),K+4}function O($,R,K,ee,se){return R=+R,K>>>=0,se||N($,0,K,8),d.write($,R,K,ee,52,8),K+8}a.prototype.slice=function($,R){var K=this.length;($=~~$)<0?($+=K)<0&&($=0):$>K&&($=K),(R=R===void 0?K:~~R)<0?(R+=K)<0&&(R=0):R>K&&(R=K),R<$&&(R=$);var ee=this.subarray($,R);return ee.__proto__=a.prototype,ee},a.prototype.readUIntLE=function($,R,K){$>>>=0,R>>>=0,K||_($,R,this.length);for(var ee=this[$],se=1,ie=0;++ie<R&&(se*=256);)ee+=this[$+ie]*se;return ee},a.prototype.readUIntBE=function($,R,K){$>>>=0,R>>>=0,K||_($,R,this.length);for(var ee=this[$+--R],se=1;R>0&&(se*=256);)ee+=this[$+--R]*se;return ee},a.prototype.readUInt8=function($,R){return $>>>=0,R||_($,1,this.length),this[$]},a.prototype.readUInt16LE=function($,R){return $>>>=0,R||_($,2,this.length),this[$]|this[$+1]<<8},a.prototype.readUInt16BE=function($,R){return $>>>=0,R||_($,2,this.length),this[$]<<8|this[$+1]},a.prototype.readUInt32LE=function($,R){return $>>>=0,R||_($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},a.prototype.readUInt32BE=function($,R){return $>>>=0,R||_($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},a.prototype.readIntLE=function($,R,K){$>>>=0,R>>>=0,K||_($,R,this.length);for(var ee=this[$],se=1,ie=0;++ie<R&&(se*=256);)ee+=this[$+ie]*se;return ee>=(se*=128)&&(ee-=Math.pow(2,8*R)),ee},a.prototype.readIntBE=function($,R,K){$>>>=0,R>>>=0,K||_($,R,this.length);for(var ee=R,se=1,ie=this[$+--ee];ee>0&&(se*=256);)ie+=this[$+--ee]*se;return ie>=(se*=128)&&(ie-=Math.pow(2,8*R)),ie},a.prototype.readInt8=function($,R){return $>>>=0,R||_($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},a.prototype.readInt16LE=function($,R){$>>>=0,R||_($,2,this.length);var K=this[$]|this[$+1]<<8;return 32768&K?4294901760|K:K},a.prototype.readInt16BE=function($,R){$>>>=0,R||_($,2,this.length);var K=this[$+1]|this[$]<<8;return 32768&K?4294901760|K:K},a.prototype.readInt32LE=function($,R){return $>>>=0,R||_($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},a.prototype.readInt32BE=function($,R){return $>>>=0,R||_($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},a.prototype.readFloatLE=function($,R){return $>>>=0,R||_($,4,this.length),d.read(this,$,!0,23,4)},a.prototype.readFloatBE=function($,R){return $>>>=0,R||_($,4,this.length),d.read(this,$,!1,23,4)},a.prototype.readDoubleLE=function($,R){return $>>>=0,R||_($,8,this.length),d.read(this,$,!0,52,8)},a.prototype.readDoubleBE=function($,R){return $>>>=0,R||_($,8,this.length),d.read(this,$,!1,52,8)},a.prototype.writeUIntLE=function($,R,K,ee){$=+$,R>>>=0,K>>>=0,ee||k(this,$,R,K,Math.pow(2,8*K)-1,0);var se=1,ie=0;for(this[R]=255&$;++ie<K&&(se*=256);)this[R+ie]=$/se&255;return R+K},a.prototype.writeUIntBE=function($,R,K,ee){$=+$,R>>>=0,K>>>=0,ee||k(this,$,R,K,Math.pow(2,8*K)-1,0);var se=K-1,ie=1;for(this[R+se]=255&$;--se>=0&&(ie*=256);)this[R+se]=$/ie&255;return R+K},a.prototype.writeUInt8=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,1,255,0),this[R]=255&$,R+1},a.prototype.writeUInt16LE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,2,65535,0),this[R]=255&$,this[R+1]=$>>>8,R+2},a.prototype.writeUInt16BE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,2,65535,0),this[R]=$>>>8,this[R+1]=255&$,R+2},a.prototype.writeUInt32LE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,4,4294967295,0),this[R+3]=$>>>24,this[R+2]=$>>>16,this[R+1]=$>>>8,this[R]=255&$,R+4},a.prototype.writeUInt32BE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,4,4294967295,0),this[R]=$>>>24,this[R+1]=$>>>16,this[R+2]=$>>>8,this[R+3]=255&$,R+4},a.prototype.writeIntLE=function($,R,K,ee){if($=+$,R>>>=0,!ee){var se=Math.pow(2,8*K-1);k(this,$,R,K,se-1,-se)}var ie=0,ae=1,re=0;for(this[R]=255&$;++ie<K&&(ae*=256);)$<0&&re===0&&this[R+ie-1]!==0&&(re=1),this[R+ie]=($/ae>>0)-re&255;return R+K},a.prototype.writeIntBE=function($,R,K,ee){if($=+$,R>>>=0,!ee){var se=Math.pow(2,8*K-1);k(this,$,R,K,se-1,-se)}var ie=K-1,ae=1,re=0;for(this[R+ie]=255&$;--ie>=0&&(ae*=256);)$<0&&re===0&&this[R+ie+1]!==0&&(re=1),this[R+ie]=($/ae>>0)-re&255;return R+K},a.prototype.writeInt8=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,1,127,-128),$<0&&($=255+$+1),this[R]=255&$,R+1},a.prototype.writeInt16LE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,2,32767,-32768),this[R]=255&$,this[R+1]=$>>>8,R+2},a.prototype.writeInt16BE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,2,32767,-32768),this[R]=$>>>8,this[R+1]=255&$,R+2},a.prototype.writeInt32LE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,4,2147483647,-2147483648),this[R]=255&$,this[R+1]=$>>>8,this[R+2]=$>>>16,this[R+3]=$>>>24,R+4},a.prototype.writeInt32BE=function($,R,K){return $=+$,R>>>=0,K||k(this,$,R,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[R]=$>>>24,this[R+1]=$>>>16,this[R+2]=$>>>8,this[R+3]=255&$,R+4},a.prototype.writeFloatLE=function($,R,K){return S(this,$,R,!0,K)},a.prototype.writeFloatBE=function($,R,K){return S(this,$,R,!1,K)},a.prototype.writeDoubleLE=function($,R,K){return O(this,$,R,!0,K)},a.prototype.writeDoubleBE=function($,R,K){return O(this,$,R,!1,K)},a.prototype.copy=function($,R,K,ee){if(!a.isBuffer($))throw new TypeError("argument should be a Buffer");if(K||(K=0),ee||ee===0||(ee=this.length),R>=$.length&&(R=$.length),R||(R=0),ee>0&&ee<K&&(ee=K),ee===K||$.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),$.length-R<ee-K&&(ee=$.length-R+K);var se=ee-K;if(this===$&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(R,K,ee);else if(this===$&&K<R&&R<ee)for(var ie=se-1;ie>=0;--ie)$[ie+R]=this[ie+K];else Uint8Array.prototype.set.call($,this.subarray(K,ee),R);return se},a.prototype.fill=function($,R,K,ee){if(typeof $=="string"){if(typeof R=="string"?(ee=R,R=0,K=this.length):typeof K=="string"&&(ee=K,K=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!a.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if($.length===1){var se=$.charCodeAt(0);(ee==="utf8"&&se<128||ee==="latin1")&&($=se)}}else typeof $=="number"&&($&=255);if(R<0||this.length<R||this.length<K)throw new RangeError("Out of range index");if(K<=R)return this;var ie;if(R>>>=0,K=K===void 0?this.length:K>>>0,$||($=0),typeof $=="number")for(ie=R;ie<K;++ie)this[ie]=$;else{var ae=a.isBuffer($)?$:a.from($,ee),re=ae.length;if(re===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(ie=0;ie<K-R;++ie)this[ie+R]=ae[ie%re]}return this};var L=/[^+/0-9A-Za-z-_]/g;function I($){return $<16?"0"+$.toString(16):$.toString(16)}function G($,R){var K;R=R||1/0;for(var ee=$.length,se=null,ie=[],ae=0;ae<ee;++ae){if((K=$.charCodeAt(ae))>55295&&K<57344){if(!se){if(K>56319){(R-=3)>-1&&ie.push(239,191,189);continue}if(ae+1===ee){(R-=3)>-1&&ie.push(239,191,189);continue}se=K;continue}if(K<56320){(R-=3)>-1&&ie.push(239,191,189),se=K;continue}K=65536+(se-55296<<10|K-56320)}else se&&(R-=3)>-1&&ie.push(239,191,189);if(se=null,K<128){if((R-=1)<0)break;ie.push(K)}else if(K<2048){if((R-=2)<0)break;ie.push(K>>6|192,63&K|128)}else if(K<65536){if((R-=3)<0)break;ie.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((R-=4)<0)break;ie.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return ie}function Y($){return o.toByteArray((function(R){if((R=(R=R.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;R.length%4!=0;)R+="=";return R})($))}function te($,R,K,ee){for(var se=0;se<ee&&!(se+K>=R.length||se>=$.length);++se)R[se+K]=$[se];return se}function U($,R){return $ instanceof R||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===R.name}function J($){return $!=$}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("stream").Transform,d=t("string_decoder").StringDecoder;function c(a){o.call(this),this.hashMode=typeof a=="string",this.hashMode?this[a]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(c,o),c.prototype.update=function(a,u,f){typeof a=="string"&&(a=i.from(a,u));var h=this._update(a);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},c.prototype.setAutoPadding=function(){},c.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},c.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},c.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},c.prototype._transform=function(a,u,f){var h;try{this.hashMode?this._update(a):this.push(this._update(a))}catch(m){h=m}finally{f(h)}},c.prototype._flush=function(a){var u;try{this.push(this.__final())}catch(f){u=f}a(u)},c.prototype._finalOrDigest=function(a){var u=this.__final()||i.alloc(0);return a&&(u=this._toString(u,a,!0)),u},c.prototype._toString=function(a,u,f){if(this._decoder||(this._decoder=new d(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var h=this._decoder.write(a);return f&&(h+=this._decoder.end()),h},s.exports=c},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,s,l){var i=t("../internals/is-callable"),o=t("../internals/try-to-string"),d=TypeError;s.exports=function(c){if(i(c))return c;throw new d(o(c)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,s,l){var i=t("../internals/is-constructor"),o=t("../internals/try-to-string"),d=TypeError;s.exports=function(c){if(i(c))return c;throw new d(o(c)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,s,l){var i=t("../internals/is-callable"),o=String,d=TypeError;s.exports=function(c){if(typeof c=="object"||i(c))return c;throw new d("Can't set "+o(c)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,s,l){var i=t("../internals/well-known-symbol"),o=t("../internals/object-create"),d=t("../internals/object-define-property").f,c=i("unscopables"),a=Array.prototype;a[c]===void 0&&d(a,c,{configurable:!0,value:o(null)}),s.exports=function(u){a[c][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,s,l){var i=t("../internals/object-is-prototype-of"),o=TypeError;s.exports=function(d,c){if(i(c,d))return d;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,s,l){var i=t("../internals/is-object"),o=String,d=TypeError;s.exports=function(c){if(i(c))return c;throw new d(o(c)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,s,l){var i=t("../internals/to-indexed-object"),o=t("../internals/to-absolute-index"),d=t("../internals/length-of-array-like"),c=function(a){return function(u,f,h){var m,g=i(u),y=d(g),p=o(h,y);if(a&&f!=f){for(;y>p;)if((m=g[p++])!=m)return!0}else for(;y>p;p++)if((a||p in g)&&g[p]===f)return a||p||0;return!a&&-1}};s.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,s,l){var i=t("../internals/function-bind-context"),o=t("../internals/function-uncurry-this"),d=t("../internals/indexed-object"),c=t("../internals/to-object"),a=t("../internals/length-of-array-like"),u=t("../internals/array-species-create"),f=o([].push),h=function(m){var g=m===1,y=m===2,p=m===3,b=m===4,v=m===6,j=m===7,C=m===5||v;return function(T,D,q,z){for(var B,V,X=c(T),W=d(X),P=i(D,q),M=a(W),E=0,_=z||u,k=g?_(T,M):y||j?_(T,0):void 0;M>E;E++)if((C||E in W)&&(V=P(B=W[E],E,X),m))if(g)k[E]=V;else if(V)switch(m){case 3:return!0;case 5:return B;case 6:return E;case 2:f(k,B)}else switch(m){case 4:return!1;case 7:f(k,B)}return v?-1:p||b?b:k}};s.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,s,l){var i=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),d=t("../internals/create-property"),c=Array,a=Math.max;s.exports=function(u,f,h){for(var m=o(u),g=i(f,m),y=i(h===void 0?m:h,m),p=c(a(y-g,0)),b=0;g<y;g++,b++)d(p,b,u[g]);return p.length=b,p}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,s,l){var i=t("../internals/function-uncurry-this");s.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,s,l){var i=t("../internals/is-array"),o=t("../internals/is-constructor"),d=t("../internals/is-object"),c=t("../internals/well-known-symbol")("species"),a=Array;s.exports=function(u){var f;return i(u)&&(f=u.constructor,(o(f)&&(f===a||i(f.prototype))||d(f)&&(f=f[c])===null)&&(f=void 0)),f===void 0?a:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,s,l){var i=t("../internals/array-species-constructor");s.exports=function(o,d){return new(i(o))(d===0?0:d)}},{"../internals/array-species-constructor":232}],234:[function(t,s,l){var i=t("../internals/well-known-symbol")("iterator"),o=!1;try{var d=0,c={next:function(){return{done:!!d++}},return:function(){o=!0}};c[i]=function(){return this},Array.from(c,(function(){throw 2}))}catch{}s.exports=function(a,u){try{if(!u&&!o)return!1}catch{return!1}var f=!1;try{var h={};h[i]=function(){return{next:function(){return{done:f=!0}}}},a(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=i({}.toString),d=i("".slice);s.exports=function(c){return d(o(c),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,s,l){var i=t("../internals/to-string-tag-support"),o=t("../internals/is-callable"),d=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("toStringTag"),a=Object,u=d((function(){return arguments})())==="Arguments";s.exports=i?d:function(f){var h,m,g;return f===void 0?"Undefined":f===null?"Null":typeof(m=(function(y,p){try{return y[p]}catch{}})(h=a(f),c))=="string"?m:u?d(h):(g=d(h))==="Object"&&o(h.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,s,l){var i=t("../internals/has-own-property"),o=t("../internals/own-keys"),d=t("../internals/object-get-own-property-descriptor"),c=t("../internals/object-define-property");s.exports=function(a,u,f){for(var h=o(u),m=c.f,g=d.f,y=0;y<h.length;y++){var p=h[y];i(a,p)||f&&i(f,p)||m(a,p,g(u,p))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,s,l){var i=t("../internals/well-known-symbol")("match");s.exports=function(o){var d=/./;try{"/./"[o](d)}catch{try{return d[i]=!1,"/./"[o](d)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,s,l){var i=t("../internals/fails");s.exports=!i((function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype}))},{"../internals/fails":260}],240:[function(t,s,l){s.exports=function(i,o){return{value:i,done:o}}},{}],241:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/object-define-property"),d=t("../internals/create-property-descriptor");s.exports=i?function(c,a,u){return o.f(c,a,d(1,u))}:function(c,a,u){return c[a]=u,c}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,s,l){s.exports=function(i,o){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:o}}},{}],243:[function(t,s,l){var i=t("../internals/to-property-key"),o=t("../internals/object-define-property"),d=t("../internals/create-property-descriptor");s.exports=function(c,a,u){var f=i(a);f in c?o.f(c,f,d(0,u)):c[f]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,s,l){var i=t("../internals/make-built-in"),o=t("../internals/object-define-property");s.exports=function(d,c,a){return a.get&&i(a.get,c,{getter:!0}),a.set&&i(a.set,c,{setter:!0}),o.f(d,c,a)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,s,l){var i=t("../internals/is-callable"),o=t("../internals/object-define-property"),d=t("../internals/make-built-in"),c=t("../internals/define-global-property");s.exports=function(a,u,f,h){h||(h={});var m=h.enumerable,g=h.name!==void 0?h.name:u;if(i(f)&&d(f,g,h),h.global)m?a[u]=f:c(u,f);else{try{h.unsafe?a[u]&&(m=!0):delete a[u]}catch{}m?a[u]=f:o.f(a,u,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return a}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,s,l){var i=t("../internals/global"),o=Object.defineProperty;s.exports=function(d,c){try{o(i,d,{value:c,configurable:!0,writable:!0})}catch{i[d]=c}return c}},{"../internals/global":274}],247:[function(t,s,l){var i=t("../internals/fails");s.exports=!i((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,s,l){var i=typeof document=="object"&&document.all,o=i===void 0&&i!==void 0;s.exports={all:i,IS_HTMLDDA:o}},{}],249:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/is-object"),d=i.document,c=o(d)&&o(d.createElement);s.exports=function(a){return c?d.createElement(a):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,s,l){var i=t("../internals/engine-is-deno"),o=t("../internals/engine-is-node");s.exports=!i&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,s,l){s.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,s,l){var i=t("../internals/engine-user-agent");s.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,s,l){var i=t("../internals/engine-user-agent");s.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/classof-raw");s.exports=o(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,s,l){var i=t("../internals/engine-user-agent");s.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(t,s,l){s.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,s,l){var i,o,d=t("../internals/global"),c=t("../internals/engine-user-agent"),a=d.process,u=d.Deno,f=a&&a.versions||u&&u.version,h=f&&f.v8;h&&(o=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!o&&c&&(!(i=c.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=c.match(/Chrome\/(\d+)/))&&(o=+i[1]),s.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,s,l){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/create-non-enumerable-property"),c=t("../internals/define-built-in"),a=t("../internals/define-global-property"),u=t("../internals/copy-constructor-properties"),f=t("../internals/is-forced");s.exports=function(h,m){var g,y,p,b,v,j=h.target,C=h.global,T=h.stat;if(g=C?i:T?i[j]||a(j,{}):(i[j]||{}).prototype)for(y in m){if(b=m[y],p=h.dontCallGetSet?(v=o(g,y))&&v.value:g[y],!f(C?y:j+(T?".":"#")+y,h.forced)&&p!==void 0){if(typeof b==typeof p)continue;u(b,p)}(h.sham||p&&p.sham)&&d(b,"sham",!0),c(g,y,b,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,s,l){s.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(t,s,l){var i=t("../internals/function-bind-native"),o=Function.prototype,d=o.apply,c=o.call;s.exports=typeof Reflect=="object"&&Reflect.apply||(i?c.bind(d):function(){return c.apply(d,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,s,l){var i=t("../internals/function-uncurry-this-clause"),o=t("../internals/a-callable"),d=t("../internals/function-bind-native"),c=i(i.bind);s.exports=function(a,u){return o(a),u===void 0?a:d?c(a,u):function(){return a.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,s,l){var i=t("../internals/fails");s.exports=!i((function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,s,l){var i=t("../internals/function-bind-native"),o=Function.prototype.call;s.exports=i?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/has-own-property"),d=Function.prototype,c=i&&Object.getOwnPropertyDescriptor,a=o(d,"name"),u=a&&(function(){}).name==="something",f=a&&(!i||i&&c(d,"name").configurable);s.exports={EXISTS:a,PROPER:u,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/a-callable");s.exports=function(d,c,a){try{return i(o(Object.getOwnPropertyDescriptor(d,c)[a]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,s,l){var i=t("../internals/classof-raw"),o=t("../internals/function-uncurry-this");s.exports=function(d){if(i(d)==="Function")return o(d)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,s,l){var i=t("../internals/function-bind-native"),o=Function.prototype,d=o.call,c=i&&o.bind.bind(d,d);s.exports=i?c:function(a){return function(){return d.apply(a,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/is-callable"),d=function(c){return o(c)?c:void 0};s.exports=function(c,a){return arguments.length<2?d(i[c]):i[c]&&i[c][a]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,s,l){var i=t("../internals/classof"),o=t("../internals/get-method"),d=t("../internals/is-null-or-undefined"),c=t("../internals/iterators"),a=t("../internals/well-known-symbol")("iterator");s.exports=function(u){if(!d(u))return o(u,a)||o(u,"@@iterator")||c[i(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,s,l){var i=t("../internals/function-call"),o=t("../internals/a-callable"),d=t("../internals/an-object"),c=t("../internals/try-to-string"),a=t("../internals/get-iterator-method"),u=TypeError;s.exports=function(f,h){var m=arguments.length<2?a(f):h;if(o(m))return d(i(m,f));throw new u(c(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/is-array"),d=t("../internals/is-callable"),c=t("../internals/classof-raw"),a=t("../internals/to-string"),u=i([].push);s.exports=function(f){if(d(f))return f;if(o(f)){for(var h=f.length,m=[],g=0;g<h;g++){var y=f[g];typeof y=="string"?u(m,y):typeof y!="number"&&c(y)!=="Number"&&c(y)!=="String"||u(m,a(y))}var p=m.length,b=!0;return function(v,j){if(b)return b=!1,j;if(o(this))return j;for(var C=0;C<p;C++)if(m[C]===v)return j}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,s,l){var i=t("../internals/a-callable"),o=t("../internals/is-null-or-undefined");s.exports=function(d,c){var a=d[c];return o(a)?void 0:i(a)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,s,l){(function(i){(function(){var o=function(d){return d&&d.Math===Math&&d};s.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof i=="object"&&i)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/to-object"),d=i({}.hasOwnProperty);s.exports=Object.hasOwn||function(c,a){return d(o(c),a)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,s,l){s.exports={}},{}],277:[function(t,s,l){s.exports=function(i,o){try{arguments.length===1?console.error(i):console.error(i,o)}catch{}}},{}],278:[function(t,s,l){var i=t("../internals/get-built-in");s.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/fails"),d=t("../internals/document-create-element");s.exports=!i&&!o((function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/fails"),d=t("../internals/classof-raw"),c=Object,a=i("".split);s.exports=o((function(){return!c("z").propertyIsEnumerable(0)}))?function(u){return d(u)==="String"?a(u,""):c(u)}:c},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/is-callable"),d=t("../internals/shared-store"),c=i(Function.toString);o(d.inspectSource)||(d.inspectSource=function(a){return c(a)}),s.exports=d.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,s,l){var i,o,d,c=t("../internals/weak-map-basic-detection"),a=t("../internals/global"),u=t("../internals/is-object"),f=t("../internals/create-non-enumerable-property"),h=t("../internals/has-own-property"),m=t("../internals/shared-store"),g=t("../internals/shared-key"),y=t("../internals/hidden-keys"),p=a.TypeError,b=a.WeakMap;if(c||m.state){var v=m.state||(m.state=new b);v.get=v.get,v.has=v.has,v.set=v.set,i=function(C,T){if(v.has(C))throw new p("Object already initialized");return T.facade=C,v.set(C,T),T},o=function(C){return v.get(C)||{}},d=function(C){return v.has(C)}}else{var j=g("state");y[j]=!0,i=function(C,T){if(h(C,j))throw new p("Object already initialized");return T.facade=C,f(C,j,T),T},o=function(C){return h(C,j)?C[j]:{}},d=function(C){return h(C,j)}}s.exports={set:i,get:o,has:d,enforce:function(C){return d(C)?o(C):i(C,{})},getterFor:function(C){return function(T){var D;if(!u(T)||(D=o(T)).type!==C)throw new p("Incompatible receiver, "+C+" required");return D}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,s,l){var i=t("../internals/well-known-symbol"),o=t("../internals/iterators"),d=i("iterator"),c=Array.prototype;s.exports=function(a){return a!==void 0&&(o.Array===a||c[d]===a)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,s,l){var i=t("../internals/classof-raw");s.exports=Array.isArray||function(o){return i(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,s,l){var i=t("../internals/document-all"),o=i.all;s.exports=i.IS_HTMLDDA?function(d){return typeof d=="function"||d===o}:function(d){return typeof d=="function"}},{"../internals/document-all":248}],286:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/fails"),d=t("../internals/is-callable"),c=t("../internals/classof"),a=t("../internals/get-built-in"),u=t("../internals/inspect-source"),f=function(){},h=[],m=a("Reflect","construct"),g=/^\s*(?:class|function)\b/,y=i(g.exec),p=!g.test(f),b=function(j){if(!d(j))return!1;try{return m(f,h,j),!0}catch{return!1}},v=function(j){if(!d(j))return!1;switch(c(j)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!y(g,u(j))}catch{return!0}};v.sham=!0,s.exports=!m||o((function(){var j;return b(b.call)||!b(Object)||!b((function(){j=!0}))||j}))?v:b},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,s,l){var i=t("../internals/fails"),o=t("../internals/is-callable"),d=/#|\.prototype\./,c=function(m,g){var y=u[a(m)];return y===h||y!==f&&(o(g)?i(g):!!g)},a=c.normalize=function(m){return String(m).replace(d,".").toLowerCase()},u=c.data={},f=c.NATIVE="N",h=c.POLYFILL="P";s.exports=c},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,s,l){s.exports=function(i){return i==null}},{}],289:[function(t,s,l){var i=t("../internals/is-callable"),o=t("../internals/document-all"),d=o.all;s.exports=o.IS_HTMLDDA?function(c){return typeof c=="object"?c!==null:i(c)||c===d}:function(c){return typeof c=="object"?c!==null:i(c)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,s,l){s.exports=!1},{}],291:[function(t,s,l){var i=t("../internals/is-object"),o=t("../internals/classof-raw"),d=t("../internals/well-known-symbol")("match");s.exports=function(c){var a;return i(c)&&((a=c[d])!==void 0?!!a:o(c)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,s,l){var i=t("../internals/get-built-in"),o=t("../internals/is-callable"),d=t("../internals/object-is-prototype-of"),c=t("../internals/use-symbol-as-uid"),a=Object;s.exports=c?function(u){return typeof u=="symbol"}:function(u){var f=i("Symbol");return o(f)&&d(f.prototype,a(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,s,l){var i=t("../internals/function-bind-context"),o=t("../internals/function-call"),d=t("../internals/an-object"),c=t("../internals/try-to-string"),a=t("../internals/is-array-iterator-method"),u=t("../internals/length-of-array-like"),f=t("../internals/object-is-prototype-of"),h=t("../internals/get-iterator"),m=t("../internals/get-iterator-method"),g=t("../internals/iterator-close"),y=TypeError,p=function(v,j){this.stopped=v,this.result=j},b=p.prototype;s.exports=function(v,j,C){var T,D,q,z,B,V,X,W=C&&C.that,P=!(!C||!C.AS_ENTRIES),M=!(!C||!C.IS_RECORD),E=!(!C||!C.IS_ITERATOR),_=!(!C||!C.INTERRUPTED),k=i(j,W),N=function(O){return T&&g(T,"normal",O),new p(!0,O)},S=function(O){return P?(d(O),_?k(O[0],O[1],N):k(O[0],O[1])):_?k(O,N):k(O)};if(M)T=v.iterator;else if(E)T=v;else{if(!(D=m(v)))throw new y(c(v)+" is not iterable");if(a(D)){for(q=0,z=u(v);z>q;q++)if((B=S(v[q]))&&f(b,B))return B;return new p(!1)}T=h(v,D)}for(V=M?v.next:T.next;!(X=o(V,T)).done;){try{B=S(X.value)}catch(O){g(T,"throw",O)}if(typeof B=="object"&&B&&f(b,B))return B}return new p(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,s,l){var i=t("../internals/function-call"),o=t("../internals/an-object"),d=t("../internals/get-method");s.exports=function(c,a,u){var f,h;o(c);try{if(!(f=d(c,"return"))){if(a==="throw")throw u;return u}f=i(f,c)}catch(m){h=!0,f=m}if(a==="throw")throw u;if(h)throw f;return o(f),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,s,l){var i=t("../internals/iterators-core").IteratorPrototype,o=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),c=t("../internals/set-to-string-tag"),a=t("../internals/iterators"),u=function(){return this};s.exports=function(f,h,m,g){var y=h+" Iterator";return f.prototype=o(i,{next:d(+!g,m)}),c(f,y,!1,!0),a[y]=u,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/function-call"),d=t("../internals/is-pure"),c=t("../internals/function-name"),a=t("../internals/is-callable"),u=t("../internals/iterator-create-constructor"),f=t("../internals/object-get-prototype-of"),h=t("../internals/object-set-prototype-of"),m=t("../internals/set-to-string-tag"),g=t("../internals/create-non-enumerable-property"),y=t("../internals/define-built-in"),p=t("../internals/well-known-symbol"),b=t("../internals/iterators"),v=t("../internals/iterators-core"),j=c.PROPER,C=c.CONFIGURABLE,T=v.IteratorPrototype,D=v.BUGGY_SAFARI_ITERATORS,q=p("iterator"),z=function(){return this};s.exports=function(B,V,X,W,P,M,E){u(X,V,W);var _,k,N,S=function(U){if(U===P&&Y)return Y;if(!D&&U&&U in I)return I[U];switch(U){case"keys":case"values":case"entries":return function(){return new X(this,U)}}return function(){return new X(this)}},O=V+" Iterator",L=!1,I=B.prototype,G=I[q]||I["@@iterator"]||P&&I[P],Y=!D&&G||S(P),te=V==="Array"&&I.entries||G;if(te&&(_=f(te.call(new B)))!==Object.prototype&&_.next&&(d||f(_)===T||(h?h(_,T):a(_[q])||y(_,q,z)),m(_,O,!0,!0),d&&(b[O]=z)),j&&P==="values"&&G&&G.name!=="values"&&(!d&&C?g(I,"name","values"):(L=!0,Y=function(){return o(G,this)})),P)if(k={values:S("values"),keys:M?Y:S("keys"),entries:S("entries")},E)for(N in k)(D||L||!(N in I))&&y(I,N,k[N]);else i({target:V,proto:!0,forced:D||L},k);return d&&!E||I[q]===Y||y(I,q,Y,{name:P}),b[V]=Y,k}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,s,l){var i,o,d,c=t("../internals/fails"),a=t("../internals/is-callable"),u=t("../internals/is-object"),f=t("../internals/object-create"),h=t("../internals/object-get-prototype-of"),m=t("../internals/define-built-in"),g=t("../internals/well-known-symbol"),y=t("../internals/is-pure"),p=g("iterator"),b=!1;[].keys&&("next"in(d=[].keys())?(o=h(h(d)))!==Object.prototype&&(i=o):b=!0),!u(i)||c((function(){var v={};return i[p].call(v)!==v}))?i={}:y&&(i=f(i)),a(i[p])||m(i,p,(function(){return this})),s.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:b}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,s,l){arguments[4][276][0].apply(l,arguments)},{dup:276}],299:[function(t,s,l){var i=t("../internals/to-length");s.exports=function(o){return i(o.length)}},{"../internals/to-length":343}],300:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/fails"),d=t("../internals/is-callable"),c=t("../internals/has-own-property"),a=t("../internals/descriptors"),u=t("../internals/function-name").CONFIGURABLE,f=t("../internals/inspect-source"),h=t("../internals/internal-state"),m=h.enforce,g=h.get,y=String,p=Object.defineProperty,b=i("".slice),v=i("".replace),j=i([].join),C=a&&!o((function(){return p((function(){}),"length",{value:8}).length!==8})),T=String(String).split("String"),D=s.exports=function(q,z,B){b(y(z),0,7)==="Symbol("&&(z="["+v(y(z),/^Symbol\(([^)]*)\)/,"$1")+"]"),B&&B.getter&&(z="get "+z),B&&B.setter&&(z="set "+z),(!c(q,"name")||u&&q.name!==z)&&(a?p(q,"name",{value:z,configurable:!0}):q.name=z),C&&B&&c(B,"arity")&&q.length!==B.arity&&p(q,"length",{value:B.arity});try{B&&c(B,"constructor")&&B.constructor?a&&p(q,"prototype",{writable:!1}):q.prototype&&(q.prototype=void 0)}catch{}var V=m(q);return c(V,"source")||(V.source=j(T,typeof z=="string"?z:"")),q};Function.prototype.toString=D((function(){return d(this)&&g(this).source||f(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,s,l){var i=Math.ceil,o=Math.floor;s.exports=Math.trunc||function(d){var c=+d;return(c>0?o:i)(c)}},{}],302:[function(t,s,l){var i,o,d,c,a,u=t("../internals/global"),f=t("../internals/function-bind-context"),h=t("../internals/object-get-own-property-descriptor").f,m=t("../internals/task").set,g=t("../internals/queue"),y=t("../internals/engine-is-ios"),p=t("../internals/engine-is-ios-pebble"),b=t("../internals/engine-is-webos-webkit"),v=t("../internals/engine-is-node"),j=u.MutationObserver||u.WebKitMutationObserver,C=u.document,T=u.process,D=u.Promise,q=h(u,"queueMicrotask"),z=q&&q.value;if(!z){var B=new g,V=function(){var X,W;for(v&&(X=T.domain)&&X.exit();W=B.get();)try{W()}catch(P){throw B.head&&i(),P}X&&X.enter()};y||v||b||!j||!C?!p&&D&&D.resolve?((c=D.resolve(void 0)).constructor=D,a=f(c.then,c),i=function(){a(V)}):v?i=function(){T.nextTick(V)}:(m=f(m,u),i=function(){m(V)}):(o=!0,d=C.createTextNode(""),new j(V).observe(d,{characterData:!0}),i=function(){d.data=o=!o}),z=function(X){B.head||i(),B.add(X)}}s.exports=z},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,s,l){var i=t("../internals/a-callable"),o=TypeError,d=function(c){var a,u;this.promise=new c((function(f,h){if(a!==void 0||u!==void 0)throw new o("Bad Promise constructor");a=f,u=h})),this.resolve=i(a),this.reject=i(u)};s.exports.f=function(c){return new d(c)}},{"../internals/a-callable":222}],304:[function(t,s,l){var i=t("../internals/is-regexp"),o=TypeError;s.exports=function(d){if(i(d))throw new o("The method doesn't accept regular expressions");return d}},{"../internals/is-regexp":291}],305:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/function-uncurry-this"),d=t("../internals/function-call"),c=t("../internals/fails"),a=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),f=t("../internals/object-property-is-enumerable"),h=t("../internals/to-object"),m=t("../internals/indexed-object"),g=Object.assign,y=Object.defineProperty,p=o([].concat);s.exports=!g||c((function(){if(i&&g({b:1},g(y({},"a",{enumerable:!0,get:function(){y(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},v={},j=Symbol("assign detection");return b[j]=7,"abcdefghijklmnopqrst".split("").forEach((function(C){v[C]=C})),g({},b)[j]!==7||a(g({},v)).join("")!=="abcdefghijklmnopqrst"}))?function(b,v){for(var j=h(b),C=arguments.length,T=1,D=u.f,q=f.f;C>T;)for(var z,B=m(arguments[T++]),V=D?p(a(B),D(B)):a(B),X=V.length,W=0;X>W;)z=V[W++],i&&!d(q,B,z)||(j[z]=B[z]);return j}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,s,l){var i,o=t("../internals/an-object"),d=t("../internals/object-define-properties"),c=t("../internals/enum-bug-keys"),a=t("../internals/hidden-keys"),u=t("../internals/html"),f=t("../internals/document-create-element"),h=t("../internals/shared-key"),m=h("IE_PROTO"),g=function(){},y=function(v){return"<script>"+v+"<\/script>"},p=function(v){v.write(y("")),v.close();var j=v.parentWindow.Object;return v=null,j},b=function(){try{i=new ActiveXObject("htmlfile")}catch{}var v,j;b=typeof document<"u"?document.domain&&i?p(i):((j=f("iframe")).style.display="none",u.appendChild(j),j.src="javascript:",(v=j.contentWindow.document).open(),v.write(y("document.F=Object")),v.close(),v.F):p(i);for(var C=c.length;C--;)delete b.prototype[c[C]];return b()};a[m]=!0,s.exports=Object.create||function(v,j){var C;return v!==null?(g.prototype=o(v),C=new g,g.prototype=null,C[m]=v):C=b(),j===void 0?C:d.f(C,j)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/v8-prototype-define-bug"),d=t("../internals/object-define-property"),c=t("../internals/an-object"),a=t("../internals/to-indexed-object"),u=t("../internals/object-keys");l.f=i&&!o?Object.defineProperties:function(f,h){c(f);for(var m,g=a(h),y=u(h),p=y.length,b=0;p>b;)d.f(f,m=y[b++],g[m]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/ie8-dom-define"),d=t("../internals/v8-prototype-define-bug"),c=t("../internals/an-object"),a=t("../internals/to-property-key"),u=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;l.f=i?d?function(m,g,y){if(c(m),g=a(g),c(y),typeof m=="function"&&g==="prototype"&&"value"in y&&"writable"in y&&!y.writable){var p=h(m,g);p&&p.writable&&(m[g]=y.value,y={configurable:"configurable"in y?y.configurable:p.configurable,enumerable:"enumerable"in y?y.enumerable:p.enumerable,writable:!1})}return f(m,g,y)}:f:function(m,g,y){if(c(m),g=a(g),c(y),o)try{return f(m,g,y)}catch{}if("get"in y||"set"in y)throw new u("Accessors not supported");return"value"in y&&(m[g]=y.value),m}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/function-call"),d=t("../internals/object-property-is-enumerable"),c=t("../internals/create-property-descriptor"),a=t("../internals/to-indexed-object"),u=t("../internals/to-property-key"),f=t("../internals/has-own-property"),h=t("../internals/ie8-dom-define"),m=Object.getOwnPropertyDescriptor;l.f=i?m:function(g,y){if(g=a(g),y=u(y),h)try{return m(g,y)}catch{}if(f(g,y))return c(!o(d.f,g,y),g[y])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,s,l){var i=t("../internals/classof-raw"),o=t("../internals/to-indexed-object"),d=t("../internals/object-get-own-property-names").f,c=t("../internals/array-slice-simple"),a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(u){return a&&i(u)==="Window"?(function(f){try{return d(f)}catch{return c(a)}})(u):d(o(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,s,l){var i=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(d){return i(d,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,s,l){l.f=Object.getOwnPropertySymbols},{}],313:[function(t,s,l){var i=t("../internals/has-own-property"),o=t("../internals/is-callable"),d=t("../internals/to-object"),c=t("../internals/shared-key"),a=t("../internals/correct-prototype-getter"),u=c("IE_PROTO"),f=Object,h=f.prototype;s.exports=a?f.getPrototypeOf:function(m){var g=d(m);if(i(g,u))return g[u];var y=g.constructor;return o(y)&&g instanceof y?y.prototype:g instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,s,l){var i=t("../internals/function-uncurry-this");s.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=t("../internals/has-own-property"),d=t("../internals/to-indexed-object"),c=t("../internals/array-includes").indexOf,a=t("../internals/hidden-keys"),u=i([].push);s.exports=function(f,h){var m,g=d(f),y=0,p=[];for(m in g)!o(a,m)&&o(g,m)&&u(p,m);for(;h.length>y;)o(g,m=h[y++])&&(~c(p,m)||u(p,m));return p}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,s,l){var i=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys");s.exports=Object.keys||function(d){return i(d,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,s,l){var i={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,d=o&&!i.call({1:2},1);l.f=d?function(c){var a=o(this,c);return!!a&&a.enumerable}:i},{}],318:[function(t,s,l){var i=t("../internals/function-uncurry-this-accessor"),o=t("../internals/an-object"),d=t("../internals/a-possible-prototype");s.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var c,a=!1,u={};try{(c=i(Object.prototype,"__proto__","set"))(u,[]),a=u instanceof Array}catch{}return function(f,h){return o(f),d(h),a?c(f,h):f.__proto__=h,f}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/fails"),d=t("../internals/function-uncurry-this"),c=t("../internals/object-get-prototype-of"),a=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),f=d(t("../internals/object-property-is-enumerable").f),h=d([].push),m=i&&o((function(){var y=Object.create(null);return y[2]=2,!f(y,2)})),g=function(y){return function(p){for(var b,v=u(p),j=a(v),C=m&&c(v)===null,T=j.length,D=0,q=[];T>D;)b=j[D++],i&&!(C?b in v:f(v,b))||h(q,y?[b,v[b]]:v[b]);return q}};s.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,s,l){var i=t("../internals/function-call"),o=t("../internals/is-callable"),d=t("../internals/is-object"),c=TypeError;s.exports=function(a,u){var f,h;if(u==="string"&&o(f=a.toString)&&!d(h=i(f,a))||o(f=a.valueOf)&&!d(h=i(f,a))||u!=="string"&&o(f=a.toString)&&!d(h=i(f,a)))return h;throw new c("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,s,l){var i=t("../internals/get-built-in"),o=t("../internals/function-uncurry-this"),d=t("../internals/object-get-own-property-names"),c=t("../internals/object-get-own-property-symbols"),a=t("../internals/an-object"),u=o([].concat);s.exports=i("Reflect","ownKeys")||function(f){var h=d.f(a(f)),m=c.f;return m?u(h,m(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,s,l){var i=t("../internals/global");s.exports=i},{"../internals/global":274}],323:[function(t,s,l){s.exports=function(i){try{return{error:!1,value:i()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/promise-native-constructor"),d=t("../internals/is-callable"),c=t("../internals/is-forced"),a=t("../internals/inspect-source"),u=t("../internals/well-known-symbol"),f=t("../internals/engine-is-browser"),h=t("../internals/engine-is-deno"),m=t("../internals/is-pure"),g=t("../internals/engine-v8-version"),y=o&&o.prototype,p=u("species"),b=!1,v=d(i.PromiseRejectionEvent),j=c("Promise",(function(){var C=a(o),T=C!==String(o);if(!T&&g===66||m&&(!y.catch||!y.finally))return!0;if(!g||g<51||!/native code/.test(C)){var D=new o((function(z){z(1)})),q=function(z){z((function(){}),(function(){}))};if((D.constructor={})[p]=q,!(b=D.then((function(){}))instanceof q))return!0}return!T&&(f||h)&&!v}));s.exports={CONSTRUCTOR:j,REJECTION_EVENT:v,SUBCLASSING:b}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,s,l){var i=t("../internals/global");s.exports=i.Promise},{"../internals/global":274}],326:[function(t,s,l){var i=t("../internals/an-object"),o=t("../internals/is-object"),d=t("../internals/new-promise-capability");s.exports=function(c,a){if(i(c),o(a)&&a.constructor===c)return a;var u=d.f(c);return(0,u.resolve)(a),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,s,l){var i=t("../internals/promise-native-constructor"),o=t("../internals/check-correctness-of-iteration"),d=t("../internals/promise-constructor-detection").CONSTRUCTOR;s.exports=d||!o((function(c){i.all(c).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,s,l){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(o){var d={item:o,next:null},c=this.tail;c?c.next=d:this.head=d,this.tail=d},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},s.exports=i},{}],329:[function(t,s,l){var i=t("../internals/is-null-or-undefined"),o=TypeError;s.exports=function(d){if(i(d))throw new o("Can't call method on "+d);return d}},{"../internals/is-null-or-undefined":288}],330:[function(t,s,l){var i=t("../internals/get-built-in"),o=t("../internals/define-built-in-accessor"),d=t("../internals/well-known-symbol"),c=t("../internals/descriptors"),a=d("species");s.exports=function(u){var f=i(u);c&&f&&!f[a]&&o(f,a,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,s,l){var i=t("../internals/object-define-property").f,o=t("../internals/has-own-property"),d=t("../internals/well-known-symbol")("toStringTag");s.exports=function(c,a,u){c&&!u&&(c=c.prototype),c&&!o(c,d)&&i(c,d,{configurable:!0,value:a})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,s,l){var i=t("../internals/shared"),o=t("../internals/uid"),d=i("keys");s.exports=function(c){return d[c]||(d[c]=o(c))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/define-global-property"),d=i["__core-js_shared__"]||o("__core-js_shared__",{});s.exports=d},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,s,l){var i=t("../internals/is-pure"),o=t("../internals/shared-store");(s.exports=function(d,c){return o[d]||(o[d]=c!==void 0?c:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,s,l){var i=t("../internals/an-object"),o=t("../internals/a-constructor"),d=t("../internals/is-null-or-undefined"),c=t("../internals/well-known-symbol")("species");s.exports=function(a,u){var f,h=i(a).constructor;return h===void 0||d(f=i(h)[c])?u:o(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,s,l){var i=t("../internals/engine-v8-version"),o=t("../internals/fails"),d=t("../internals/global").String;s.exports=!!Object.getOwnPropertySymbols&&!o((function(){var c=Symbol("symbol detection");return!d(c)||!(Object(c)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,s,l){var i=t("../internals/function-call"),o=t("../internals/get-built-in"),d=t("../internals/well-known-symbol"),c=t("../internals/define-built-in");s.exports=function(){var a=o("Symbol"),u=a&&a.prototype,f=u&&u.valueOf,h=d("toPrimitive");u&&!u[h]&&c(u,h,(function(m){return i(f,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,s,l){var i=t("../internals/symbol-constructor-detection");s.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,s,l){var i,o,d,c,a=t("../internals/global"),u=t("../internals/function-apply"),f=t("../internals/function-bind-context"),h=t("../internals/is-callable"),m=t("../internals/has-own-property"),g=t("../internals/fails"),y=t("../internals/html"),p=t("../internals/array-slice"),b=t("../internals/document-create-element"),v=t("../internals/validate-arguments-length"),j=t("../internals/engine-is-ios"),C=t("../internals/engine-is-node"),T=a.setImmediate,D=a.clearImmediate,q=a.process,z=a.Dispatch,B=a.Function,V=a.MessageChannel,X=a.String,W=0,P={};g((function(){i=a.location}));var M=function(N){if(m(P,N)){var S=P[N];delete P[N],S()}},E=function(N){return function(){M(N)}},_=function(N){M(N.data)},k=function(N){a.postMessage(X(N),i.protocol+"//"+i.host)};T&&D||(T=function(N){v(arguments.length,1);var S=h(N)?N:B(N),O=p(arguments,1);return P[++W]=function(){u(S,void 0,O)},o(W),W},D=function(N){delete P[N]},C?o=function(N){q.nextTick(E(N))}:z&&z.now?o=function(N){z.now(E(N))}:V&&!j?(c=(d=new V).port2,d.port1.onmessage=_,o=f(c.postMessage,c)):a.addEventListener&&h(a.postMessage)&&!a.importScripts&&i&&i.protocol!=="file:"&&!g(k)?(o=k,a.addEventListener("message",_,!1)):o="onreadystatechange"in b("script")?function(N){y.appendChild(b("script")).onreadystatechange=function(){y.removeChild(this),M(N)}}:function(N){setTimeout(E(N),0)}),s.exports={set:T,clear:D}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,s,l){var i=t("../internals/to-integer-or-infinity"),o=Math.max,d=Math.min;s.exports=function(c,a){var u=i(c);return u<0?o(u+a,0):d(u,a)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,s,l){var i=t("../internals/indexed-object"),o=t("../internals/require-object-coercible");s.exports=function(d){return i(o(d))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,s,l){var i=t("../internals/math-trunc");s.exports=function(o){var d=+o;return d!=d||d===0?0:i(d)}},{"../internals/math-trunc":301}],343:[function(t,s,l){var i=t("../internals/to-integer-or-infinity"),o=Math.min;s.exports=function(d){return d>0?o(i(d),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,s,l){var i=t("../internals/require-object-coercible"),o=Object;s.exports=function(d){return o(i(d))}},{"../internals/require-object-coercible":329}],345:[function(t,s,l){var i=t("../internals/function-call"),o=t("../internals/is-object"),d=t("../internals/is-symbol"),c=t("../internals/get-method"),a=t("../internals/ordinary-to-primitive"),u=t("../internals/well-known-symbol"),f=TypeError,h=u("toPrimitive");s.exports=function(m,g){if(!o(m)||d(m))return m;var y,p=c(m,h);if(p){if(g===void 0&&(g="default"),y=i(p,m,g),!o(y)||d(y))return y;throw new f("Can't convert object to primitive value")}return g===void 0&&(g="number"),a(m,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,s,l){var i=t("../internals/to-primitive"),o=t("../internals/is-symbol");s.exports=function(d){var c=i(d,"string");return o(c)?c:c+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,s,l){var i={};i[t("../internals/well-known-symbol")("toStringTag")]="z",s.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,s,l){var i=t("../internals/classof"),o=String;s.exports=function(d){if(i(d)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(d)}},{"../internals/classof":236}],349:[function(t,s,l){var i=String;s.exports=function(o){try{return i(o)}catch{return"Object"}}},{}],350:[function(t,s,l){var i=t("../internals/function-uncurry-this"),o=0,d=Math.random(),c=i(1 .toString);s.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+c(++o+d,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,s,l){var i=t("../internals/symbol-constructor-detection");s.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,s,l){var i=t("../internals/descriptors"),o=t("../internals/fails");s.exports=i&&o((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,s,l){var i=TypeError;s.exports=function(o,d){if(o<d)throw new i("Not enough arguments");return o}},{}],354:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/is-callable"),d=i.WeakMap;s.exports=o(d)&&/native code/.test(String(d))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,s,l){var i=t("../internals/path"),o=t("../internals/has-own-property"),d=t("../internals/well-known-symbol-wrapped"),c=t("../internals/object-define-property").f;s.exports=function(a){var u=i.Symbol||(i.Symbol={});o(u,a)||c(u,a,{value:d.f(a)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,s,l){var i=t("../internals/well-known-symbol");l.f=i},{"../internals/well-known-symbol":357}],357:[function(t,s,l){var i=t("../internals/global"),o=t("../internals/shared"),d=t("../internals/has-own-property"),c=t("../internals/uid"),a=t("../internals/symbol-constructor-detection"),u=t("../internals/use-symbol-as-uid"),f=i.Symbol,h=o("wks"),m=u?f.for||f:f&&f.withoutSetter||c;s.exports=function(g){return d(h,g)||(h[g]=a&&d(f,g)?f[g]:m("Symbol."+g)),h[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/array-iteration").findIndex,d=t("../internals/add-to-unscopables"),c=!0;"findIndex"in[]&&Array(1).findIndex((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{findIndex:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),d("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/array-iteration").find,d=t("../internals/add-to-unscopables"),c=!0;"find"in[]&&Array(1).find((function(){c=!1})),i({target:"Array",proto:!0,forced:c},{find:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),d("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/array-includes").includes,d=t("../internals/fails"),c=t("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:d((function(){return!Array(1).includes()}))},{includes:function(a){return o(this,a,arguments.length>1?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,s,l){var i=t("../internals/to-indexed-object"),o=t("../internals/add-to-unscopables"),d=t("../internals/iterators"),c=t("../internals/internal-state"),a=t("../internals/object-define-property").f,u=t("../internals/iterator-define"),f=t("../internals/create-iter-result-object"),h=t("../internals/is-pure"),m=t("../internals/descriptors"),g=c.set,y=c.getterFor("Array Iterator");s.exports=u(Array,"Array",(function(b,v){g(this,{type:"Array Iterator",target:i(b),index:0,kind:v})}),(function(){var b=y(this),v=b.target,j=b.kind,C=b.index++;if(!v||C>=v.length)return b.target=void 0,f(void 0,!0);switch(j){case"keys":return f(C,!1);case"values":return f(v[C],!1)}return f([C,v[C]],!1)}),"values");var p=d.Arguments=d.Array;if(o("keys"),o("values"),o("entries"),!h&&m&&p.name!=="values")try{a(p,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/get-built-in"),d=t("../internals/function-apply"),c=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),u=t("../internals/fails"),f=t("../internals/is-callable"),h=t("../internals/is-symbol"),m=t("../internals/array-slice"),g=t("../internals/get-json-replacer-function"),y=t("../internals/symbol-constructor-detection"),p=String,b=o("JSON","stringify"),v=a(/./.exec),j=a("".charAt),C=a("".charCodeAt),T=a("".replace),D=a(1 .toString),q=/[\uD800-\uDFFF]/g,z=/^[\uD800-\uDBFF]$/,B=/^[\uDC00-\uDFFF]$/,V=!y||u((function(){var M=o("Symbol")("stringify detection");return b([M])!=="[null]"||b({a:M})!=="{}"||b(Object(M))!=="{}"})),X=u((function(){return b("\uDF06\uD834")!=='"\\udf06\\ud834"'||b("\uDEAD")!=='"\\udead"'})),W=function(M,E){var _=m(arguments),k=g(E);if(f(k)||M!==void 0&&!h(M))return _[1]=function(N,S){if(f(k)&&(S=c(k,this,p(N),S)),!h(S))return S},d(b,null,_)},P=function(M,E,_){var k=j(_,E-1),N=j(_,E+1);return v(z,M)&&!v(B,N)||v(B,M)&&!v(z,k)?"\\u"+D(C(M,0),16):M};b&&i({target:"JSON",stat:!0,arity:3,forced:V||X},{stringify:function(M,E,_){var k=m(arguments),N=d(V?W:b,null,k);return X&&typeof N=="string"?T(N,q,P):N}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,s,l){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/symbol-constructor-detection"),d=t("../internals/fails"),c=t("../internals/object-get-own-property-symbols"),a=t("../internals/to-object");i({target:"Object",stat:!0,forced:!o||d((function(){c.f(1)}))},{getOwnPropertySymbols:function(u){var f=c.f;return f?f(a(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/to-object"),d=t("../internals/object-keys");i({target:"Object",stat:!0,forced:t("../internals/fails")((function(){d(1)}))},{keys:function(c){return d(o(c))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(d){return o(d)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/function-call"),d=t("../internals/a-callable"),c=t("../internals/new-promise-capability"),a=t("../internals/perform"),u=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,m=c.f(h),g=m.resolve,y=m.reject,p=a((function(){var b=d(h.resolve),v=[],j=0,C=1;u(f,(function(T){var D=j++,q=!1;C++,o(b,h,T).then((function(z){q||(q=!0,v[D]=z,--C||g(v))}),y)})),--C||g(v)}));return p.error&&y(p.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/is-pure"),d=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-native-constructor"),a=t("../internals/get-built-in"),u=t("../internals/is-callable"),f=t("../internals/define-built-in"),h=c&&c.prototype;if(i({target:"Promise",proto:!0,forced:d,real:!0},{catch:function(g){return this.then(void 0,g)}}),!o&&u(c)){var m=a("Promise").prototype.catch;h.catch!==m&&f(h,"catch",m,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,s,l){var i,o,d,c=t("../internals/export"),a=t("../internals/is-pure"),u=t("../internals/engine-is-node"),f=t("../internals/global"),h=t("../internals/function-call"),m=t("../internals/define-built-in"),g=t("../internals/object-set-prototype-of"),y=t("../internals/set-to-string-tag"),p=t("../internals/set-species"),b=t("../internals/a-callable"),v=t("../internals/is-callable"),j=t("../internals/is-object"),C=t("../internals/an-instance"),T=t("../internals/species-constructor"),D=t("../internals/task").set,q=t("../internals/microtask"),z=t("../internals/host-report-errors"),B=t("../internals/perform"),V=t("../internals/queue"),X=t("../internals/internal-state"),W=t("../internals/promise-native-constructor"),P=t("../internals/promise-constructor-detection"),M=t("../internals/new-promise-capability"),E=P.CONSTRUCTOR,_=P.REJECTION_EVENT,k=P.SUBCLASSING,N=X.getterFor("Promise"),S=X.set,O=W&&W.prototype,L=W,I=O,G=f.TypeError,Y=f.document,te=f.process,U=M.f,J=U,$=!!(Y&&Y.createEvent&&f.dispatchEvent),R=function(ue){var xe;return!(!j(ue)||!v(xe=ue.then))&&xe},K=function(ue,xe){var ge,be,ke,Ee=xe.value,ze=xe.state===1,Fe=ze?ue.ok:ue.fail,de=ue.resolve,ce=ue.reject,je=ue.domain;try{Fe?(ze||(xe.rejection===2&&re(xe),xe.rejection=1),Fe===!0?ge=Ee:(je&&je.enter(),ge=Fe(Ee),je&&(je.exit(),ke=!0)),ge===ue.promise?ce(new G("Promise-chain cycle")):(be=R(ge))?h(be,ge,de,ce):de(ge)):ce(Ee)}catch(Ce){je&&!ke&&je.exit(),ce(Ce)}},ee=function(ue,xe){ue.notified||(ue.notified=!0,q((function(){for(var ge,be=ue.reactions;ge=be.get();)K(ge,ue);ue.notified=!1,xe&&!ue.rejection&&ie(ue)})))},se=function(ue,xe,ge){var be,ke;$?((be=Y.createEvent("Event")).promise=xe,be.reason=ge,be.initEvent(ue,!1,!0),f.dispatchEvent(be)):be={promise:xe,reason:ge},!_&&(ke=f["on"+ue])?ke(be):ue==="unhandledrejection"&&z("Unhandled promise rejection",ge)},ie=function(ue){h(D,f,(function(){var xe,ge=ue.facade,be=ue.value;if(ae(ue)&&(xe=B((function(){u?te.emit("unhandledRejection",be,ge):se("unhandledrejection",ge,be)})),ue.rejection=u||ae(ue)?2:1,xe.error))throw xe.value}))},ae=function(ue){return ue.rejection!==1&&!ue.parent},re=function(ue){h(D,f,(function(){var xe=ue.facade;u?te.emit("rejectionHandled",xe):se("rejectionhandled",xe,ue.value)}))},le=function(ue,xe,ge){return function(be){ue(xe,be,ge)}},ne=function(ue,xe,ge){ue.done||(ue.done=!0,ge&&(ue=ge),ue.value=xe,ue.state=2,ee(ue,!0))},fe=function(ue,xe,ge){if(!ue.done){ue.done=!0,ge&&(ue=ge);try{if(ue.facade===xe)throw new G("Promise can't be resolved itself");var be=R(xe);be?q((function(){var ke={done:!1};try{h(be,xe,le(fe,ke,ue),le(ne,ke,ue))}catch(Ee){ne(ke,Ee,ue)}})):(ue.value=xe,ue.state=1,ee(ue,!1))}catch(ke){ne({done:!1},ke,ue)}}};if(E&&(I=(L=function(ue){C(this,I),b(ue),h(i,this);var xe=N(this);try{ue(le(fe,xe),le(ne,xe))}catch(ge){ne(xe,ge)}}).prototype,(i=function(ue){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=m(I,"then",(function(ue,xe){var ge=N(this),be=U(T(this,L));return ge.parent=!0,be.ok=!v(ue)||ue,be.fail=v(xe)&&xe,be.domain=u?te.domain:void 0,ge.state===0?ge.reactions.add(be):q((function(){K(be,ge)})),be.promise})),o=function(){var ue=new i,xe=N(ue);this.promise=ue,this.resolve=le(fe,xe),this.reject=le(ne,xe)},M.f=U=function(ue){return ue===L||ue===void 0?new o(ue):J(ue)},!a&&v(W)&&O!==Object.prototype)){d=O.then,k||m(O,"then",(function(ue,xe){var ge=this;return new L((function(be,ke){h(d,ge,be,ke)})).then(ue,xe)}),{unsafe:!0});try{delete O.constructor}catch{}g&&g(O,I)}c({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:L}),y(L,"Promise",!1,!0),p("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/is-pure"),d=t("../internals/promise-native-constructor"),c=t("../internals/fails"),a=t("../internals/get-built-in"),u=t("../internals/is-callable"),f=t("../internals/species-constructor"),h=t("../internals/promise-resolve"),m=t("../internals/define-built-in"),g=d&&d.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!d&&c((function(){g.finally.call({then:function(){}},(function(){}))}))},{finally:function(p){var b=f(this,a("Promise")),v=u(p);return this.then(v?function(j){return h(b,p()).then((function(){return j}))}:p,v?function(j){return h(b,p()).then((function(){throw j}))}:p)}}),!o&&u(d)){var y=a("Promise").prototype.finally;g.finally!==y&&m(g,"finally",y,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,s,l){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/function-call"),d=t("../internals/a-callable"),c=t("../internals/new-promise-capability"),a=t("../internals/perform"),u=t("../internals/iterate");i({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,m=c.f(h),g=m.reject,y=a((function(){var p=d(h.resolve);u(f,(function(b){o(p,h,b).then(m.resolve,g)}))}));return y.error&&g(y.value),m.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/function-call"),d=t("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(c){var a=d.f(this);return o(a.reject,void 0,c),a.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/get-built-in"),d=t("../internals/is-pure"),c=t("../internals/promise-native-constructor"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-resolve"),f=o("Promise"),h=d&&!a;i({target:"Promise",stat:!0,forced:d||a},{resolve:function(m){return u(h&&this===f?c:this,m)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/function-uncurry-this"),d=t("../internals/to-absolute-index"),c=RangeError,a=String.fromCharCode,u=String.fromCodePoint,f=o([].join);i({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(h){for(var m,g=[],y=arguments.length,p=0;y>p;){if(m=+arguments[p++],d(m,1114111)!==m)throw new c(m+" is not a valid code point");g[p]=m<65536?a(m):a(55296+((m-=65536)>>10),m%1024+56320)}return f(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/function-uncurry-this"),d=t("../internals/not-a-regexp"),c=t("../internals/require-object-coercible"),a=t("../internals/to-string"),u=t("../internals/correct-is-regexp-logic"),f=o("".indexOf);i({target:"String",proto:!0,forced:!u("includes")},{includes:function(h){return!!~f(a(c(this)),a(d(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,s,l){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/global"),d=t("../internals/function-call"),c=t("../internals/function-uncurry-this"),a=t("../internals/is-pure"),u=t("../internals/descriptors"),f=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),m=t("../internals/has-own-property"),g=t("../internals/object-is-prototype-of"),y=t("../internals/an-object"),p=t("../internals/to-indexed-object"),b=t("../internals/to-property-key"),v=t("../internals/to-string"),j=t("../internals/create-property-descriptor"),C=t("../internals/object-create"),T=t("../internals/object-keys"),D=t("../internals/object-get-own-property-names"),q=t("../internals/object-get-own-property-names-external"),z=t("../internals/object-get-own-property-symbols"),B=t("../internals/object-get-own-property-descriptor"),V=t("../internals/object-define-property"),X=t("../internals/object-define-properties"),W=t("../internals/object-property-is-enumerable"),P=t("../internals/define-built-in"),M=t("../internals/define-built-in-accessor"),E=t("../internals/shared"),_=t("../internals/shared-key"),k=t("../internals/hidden-keys"),N=t("../internals/uid"),S=t("../internals/well-known-symbol"),O=t("../internals/well-known-symbol-wrapped"),L=t("../internals/well-known-symbol-define"),I=t("../internals/symbol-define-to-primitive"),G=t("../internals/set-to-string-tag"),Y=t("../internals/internal-state"),te=t("../internals/array-iteration").forEach,U=_("hidden"),J=Y.set,$=Y.getterFor("Symbol"),R=Object.prototype,K=o.Symbol,ee=K&&K.prototype,se=o.RangeError,ie=o.TypeError,ae=o.QObject,re=B.f,le=V.f,ne=q.f,fe=W.f,ue=c([].push),xe=E("symbols"),ge=E("op-symbols"),be=E("wks"),ke=!ae||!ae.prototype||!ae.prototype.findChild,Ee=function(Oe,qe,Qe){var it=re(R,qe);it&&delete R[qe],le(Oe,qe,Qe),it&&Oe!==R&&le(R,qe,it)},ze=u&&h((function(){return C(le({},"a",{get:function(){return le(this,"a",{value:7}).a}})).a!==7}))?Ee:le,Fe=function(Oe,qe){var Qe=xe[Oe]=C(ee);return J(Qe,{type:"Symbol",tag:Oe,description:qe}),u||(Qe.description=qe),Qe},de=function(Oe,qe,Qe){Oe===R&&de(ge,qe,Qe),y(Oe);var it=b(qe);return y(Qe),m(xe,it)?(Qe.enumerable?(m(Oe,U)&&Oe[U][it]&&(Oe[U][it]=!1),Qe=C(Qe,{enumerable:j(0,!1)})):(m(Oe,U)||le(Oe,U,j(1,{})),Oe[U][it]=!0),ze(Oe,it,Qe)):le(Oe,it,Qe)},ce=function(Oe,qe){y(Oe);var Qe=p(qe),it=T(Qe).concat(Ye(Qe));return te(it,(function(at){u&&!d(je,Qe,at)||de(Oe,at,Qe[at])})),Oe},je=function(Oe){var qe=b(Oe),Qe=d(fe,this,qe);return!(this===R&&m(xe,qe)&&!m(ge,qe))&&(!(Qe||!m(this,qe)||!m(xe,qe)||m(this,U)&&this[U][qe])||Qe)},Ce=function(Oe,qe){var Qe=p(Oe),it=b(qe);if(Qe!==R||!m(xe,it)||m(ge,it)){var at=re(Qe,it);return!at||!m(xe,it)||m(Qe,U)&&Qe[U][it]||(at.enumerable=!0),at}},Ue=function(Oe){var qe=ne(p(Oe)),Qe=[];return te(qe,(function(it){m(xe,it)||m(k,it)||ue(Qe,it)})),Qe},Ye=function(Oe){var qe=Oe===R,Qe=ne(qe?ge:p(Oe)),it=[];return te(Qe,(function(at){!m(xe,at)||qe&&!m(R,at)||ue(it,xe[at])})),it};f||(P(ee=(K=function(){if(g(ee,this))throw new ie("Symbol is not a constructor");var Oe=arguments.length&&arguments[0]!==void 0?v(arguments[0]):void 0,qe=N(Oe),Qe=function(it){this===R&&d(Qe,ge,it),m(this,U)&&m(this[U],qe)&&(this[U][qe]=!1);var at=j(1,it);try{ze(this,qe,at)}catch(Lt){if(!(Lt instanceof se))throw Lt;Ee(this,qe,at)}};return u&&ke&&ze(R,qe,{configurable:!0,set:Qe}),Fe(qe,Oe)}).prototype,"toString",(function(){return $(this).tag})),P(K,"withoutSetter",(function(Oe){return Fe(N(Oe),Oe)})),W.f=je,V.f=de,X.f=ce,B.f=Ce,D.f=q.f=Ue,z.f=Ye,O.f=function(Oe){return Fe(S(Oe),Oe)},u&&(M(ee,"description",{configurable:!0,get:function(){return $(this).description}}),a||P(R,"propertyIsEnumerable",je,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:K}),te(T(be),(function(Oe){L(Oe)})),i({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ke=!0},useSimple:function(){ke=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!u},{create:function(Oe,qe){return qe===void 0?C(Oe):ce(C(Oe),qe)},defineProperty:de,defineProperties:ce,getOwnPropertyDescriptor:Ce}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:Ue}),I(),G(K,"Symbol"),k[U]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/get-built-in"),d=t("../internals/has-own-property"),c=t("../internals/to-string"),a=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),f=a("string-to-symbol-registry"),h=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{for:function(m){var g=c(m);if(d(f,g))return f[g];var y=o("Symbol")(g);return f[g]=y,h[y]=g,y}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,s,l){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,s,l){var i=t("../internals/export"),o=t("../internals/has-own-property"),d=t("../internals/is-symbol"),c=t("../internals/try-to-string"),a=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),f=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!u},{keyFor:function(h){if(!d(h))throw new TypeError(c(h)+" is not a symbol");if(o(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,s,l){function i(o){return Object.prototype.toString.call(o)}l.isArray=function(o){return Array.isArray?Array.isArray(o):i(o)==="[object Array]"},l.isBoolean=function(o){return typeof o=="boolean"},l.isNull=function(o){return o===null},l.isNullOrUndefined=function(o){return o==null},l.isNumber=function(o){return typeof o=="number"},l.isString=function(o){return typeof o=="string"},l.isSymbol=function(o){return typeof o=="symbol"},l.isUndefined=function(o){return o===void 0},l.isRegExp=function(o){return i(o)==="[object RegExp]"},l.isObject=function(o){return typeof o=="object"&&o!==null},l.isDate=function(o){return i(o)==="[object Date]"},l.isError=function(o){return i(o)==="[object Error]"||o instanceof Error},l.isFunction=function(o){return typeof o=="function"},l.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},l.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,s,l){(function(i){(function(){var o=t("elliptic"),d=t("bn.js");s.exports=function(f){return new a(f)};var c={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(f){this.curveType=c[f],this.curveType||(this.curveType={name:f}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function u(f,h,m){Array.isArray(f)||(f=f.toArray());var g=new i(f);if(m&&g.length<m){var y=new i(m-g.length);y.fill(0),g=i.concat([y,g])}return h?g.toString(h):g}c.p224=c.secp224r1,c.p256=c.secp256r1=c.prime256v1,c.p192=c.secp192r1=c.prime192v1,c.p384=c.secp384r1,c.p521=c.secp521r1,a.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},a.prototype.computeSecret=function(f,h,m){return h=h||"utf8",i.isBuffer(f)||(f=new i(f,h)),u(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),m,this.curveType.byteLength)},a.prototype.getPublicKey=function(f,h){var m=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(m[m.length-1]%2?m[0]=7:m[0]=6),u(m,f)},a.prototype.getPrivateKey=function(f){return u(this.keys.getPrivate(),f)},a.prototype.setPublicKey=function(f,h){return h=h||"utf8",i.isBuffer(f)||(f=new i(f,h)),this.keys._importPublic(f),this},a.prototype.setPrivateKey=function(f,h){h=h||"utf8",i.isBuffer(f)||(f=new i(f,h));var m=new d(f);return m=m.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(m),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],386:[function(t,s,l){var i=t("inherits"),o=t("md5.js"),d=t("ripemd160"),c=t("sha.js"),a=t("cipher-base");function u(f){a.call(this,"digest"),this._hash=f}i(u,a),u.prototype._update=function(f){this._hash.update(f)},u.prototype._final=function(){return this._hash.digest()},s.exports=function(f){return(f=f.toLowerCase())==="md5"?new o:f==="rmd160"||f==="ripemd160"?new d:new u(c(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,s,l){var i=t("md5.js");s.exports=function(o){return new i().update(o).digest()}},{"md5.js":450}],388:[function(t,s,l){var i=t("inherits"),o=t("./legacy"),d=t("cipher-base"),c=t("safe-buffer").Buffer,a=t("create-hash/md5"),u=t("ripemd160"),f=t("sha.js"),h=c.alloc(128);function m(g,y){d.call(this,"digest"),typeof y=="string"&&(y=c.from(y));var p=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=y,y.length>p?y=(g==="rmd160"?new u:f(g)).update(y).digest():y.length<p&&(y=c.concat([y,h],p));for(var b=this._ipad=c.allocUnsafe(p),v=this._opad=c.allocUnsafe(p),j=0;j<p;j++)b[j]=54^y[j],v[j]=92^y[j];this._hash=g==="rmd160"?new u:f(g),this._hash.update(b)}i(m,d),m.prototype._update=function(g){this._hash.update(g)},m.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new u:f(this._alg)).update(this._opad).update(g).digest()},s.exports=function(g,y){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new m("rmd160",y):g==="md5"?new o(a,y):new m(g,y)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,s,l){var i=t("inherits"),o=t("safe-buffer").Buffer,d=t("cipher-base"),c=o.alloc(128);function a(u,f){d.call(this,"digest"),typeof f=="string"&&(f=o.from(f)),this._alg=u,this._key=f,f.length>64?f=u(f):f.length<64&&(f=o.concat([f,c],64));for(var h=this._ipad=o.allocUnsafe(64),m=this._opad=o.allocUnsafe(64),g=0;g<64;g++)h[g]=54^f[g],m[g]=92^f[g];this._hash=[h]}i(a,d),a.prototype._update=function(u){this._hash.push(u)},a.prototype._final=function(){var u=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,u]))},s.exports=a},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,s,l){l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=t("randombytes"),l.createHash=l.Hash=t("create-hash"),l.createHmac=l.Hmac=t("create-hmac");var i=t("browserify-sign/algos"),o=Object.keys(i),d=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);l.getHashes=function(){return d};var c=t("pbkdf2");l.pbkdf2=c.pbkdf2,l.pbkdf2Sync=c.pbkdf2Sync;var a=t("browserify-cipher");l.Cipher=a.Cipher,l.createCipher=a.createCipher,l.Cipheriv=a.Cipheriv,l.createCipheriv=a.createCipheriv,l.Decipher=a.Decipher,l.createDecipher=a.createDecipher,l.Decipheriv=a.Decipheriv,l.createDecipheriv=a.createDecipheriv,l.getCiphers=a.getCiphers,l.listCiphers=a.listCiphers;var u=t("diffie-hellman");l.DiffieHellmanGroup=u.DiffieHellmanGroup,l.createDiffieHellmanGroup=u.createDiffieHellmanGroup,l.getDiffieHellman=u.getDiffieHellman,l.createDiffieHellman=u.createDiffieHellman,l.DiffieHellman=u.DiffieHellman;var f=t("browserify-sign");l.createSign=f.createSign,l.Sign=f.Sign,l.createVerify=f.createVerify,l.Verify=f.Verify,l.createECDH=t("create-ecdh");var h=t("public-encrypt");l.publicEncrypt=h.publicEncrypt,l.privateEncrypt=h.privateEncrypt,l.publicDecrypt=h.publicDecrypt,l.privateDecrypt=h.privateDecrypt;var m=t("randomfill");l.randomFill=m.randomFill,l.randomFillSync=m.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,s,l){(function(i,o){typeof l=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=o()})(void 0,(function(){var i=6e4,o=36e5,d="millisecond",c="second",a="minute",u="hour",f="day",h="week",m="month",g="quarter",y="year",p="date",b="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var k=["th","st","nd","rd"],N=_%100;return"["+_+(k[(N-20)%10]||k[N]||k[0])+"]"}},T=function(_,k,N){var S=String(_);return!S||S.length>=k?_:""+Array(k+1-S.length).join(N)+_},D={s:T,z:function(_){var k=-_.utcOffset(),N=Math.abs(k),S=Math.floor(N/60),O=N%60;return(k<=0?"+":"-")+T(S,2,"0")+":"+T(O,2,"0")},m:function _(k,N){if(k.date()<N.date())return-_(N,k);var S=12*(N.year()-k.year())+(N.month()-k.month()),O=k.clone().add(S,m),L=N-O<0,I=k.clone().add(S+(L?-1:1),m);return+(-(S+(N-O)/(L?O-I:I-O))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:m,y,w:h,d:f,D:p,h:u,m:a,s:c,ms:d,Q:g}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},q="en",z={};z[q]=C;var B="$isDayjsObject",V=function(_){return _ instanceof M||!(!_||!_[B])},X=function _(k,N,S){var O;if(!k)return q;if(typeof k=="string"){var L=k.toLowerCase();z[L]&&(O=L),N&&(z[L]=N,O=L);var I=k.split("-");if(!O&&I.length>1)return _(I[0])}else{var G=k.name;z[G]=k,O=G}return!S&&O&&(q=O),O||!S&&q},W=function(_,k){if(V(_))return _.clone();var N=typeof k=="object"?k:{};return N.date=_,N.args=arguments,new M(N)},P=D;P.l=X,P.i=V,P.w=function(_,k){return W(_,{locale:k.$L,utc:k.$u,x:k.$x,$offset:k.$offset})};var M=(function(){function _(N){this.$L=X(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[B]=!0}var k=_.prototype;return k.parse=function(N){this.$d=(function(S){var O=S.date,L=S.utc;if(O===null)return new Date(NaN);if(P.u(O))return new Date;if(O instanceof Date)return new Date(O);if(typeof O=="string"&&!/Z$/i.test(O)){var I=O.match(v);if(I){var G=I[2]-1||0,Y=(I[7]||"0").substring(0,3);return L?new Date(Date.UTC(I[1],G,I[3]||1,I[4]||0,I[5]||0,I[6]||0,Y)):new Date(I[1],G,I[3]||1,I[4]||0,I[5]||0,I[6]||0,Y)}}return new Date(O)})(N),this.init()},k.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},k.$utils=function(){return P},k.isValid=function(){return this.$d.toString()!==b},k.isSame=function(N,S){var O=W(N);return this.startOf(S)<=O&&O<=this.endOf(S)},k.isAfter=function(N,S){return W(N)<this.startOf(S)},k.isBefore=function(N,S){return this.endOf(S)<W(N)},k.$g=function(N,S,O){return P.u(N)?this[S]:this.set(O,N)},k.unix=function(){return Math.floor(this.valueOf()/1e3)},k.valueOf=function(){return this.$d.getTime()},k.startOf=function(N,S){var O=this,L=!!P.u(S)||S,I=P.p(N),G=function(ee,se){var ie=P.w(O.$u?Date.UTC(O.$y,se,ee):new Date(O.$y,se,ee),O);return L?ie:ie.endOf(f)},Y=function(ee,se){return P.w(O.toDate()[ee].apply(O.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(se)),O)},te=this.$W,U=this.$M,J=this.$D,$="set"+(this.$u?"UTC":"");switch(I){case y:return L?G(1,0):G(31,11);case m:return L?G(1,U):G(0,U+1);case h:var R=this.$locale().weekStart||0,K=(te<R?te+7:te)-R;return G(L?J-K:J+(6-K),U);case f:case p:return Y($+"Hours",0);case u:return Y($+"Minutes",1);case a:return Y($+"Seconds",2);case c:return Y($+"Milliseconds",3);default:return this.clone()}},k.endOf=function(N){return this.startOf(N,!1)},k.$set=function(N,S){var O,L=P.p(N),I="set"+(this.$u?"UTC":""),G=(O={},O[f]=I+"Date",O[p]=I+"Date",O[m]=I+"Month",O[y]=I+"FullYear",O[u]=I+"Hours",O[a]=I+"Minutes",O[c]=I+"Seconds",O[d]=I+"Milliseconds",O)[L],Y=L===f?this.$D+(S-this.$W):S;if(L===m||L===y){var te=this.clone().set(p,1);te.$d[G](Y),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else G&&this.$d[G](Y);return this.init(),this},k.set=function(N,S){return this.clone().$set(N,S)},k.get=function(N){return this[P.p(N)]()},k.add=function(N,S){var O,L=this;N=Number(N);var I=P.p(S),G=function(U){var J=W(L);return P.w(J.date(J.date()+Math.round(U*N)),L)};if(I===m)return this.set(m,this.$M+N);if(I===y)return this.set(y,this.$y+N);if(I===f)return G(1);if(I===h)return G(7);var Y=(O={},O[a]=i,O[u]=o,O[c]=1e3,O)[I]||1,te=this.$d.getTime()+N*Y;return P.w(te,this)},k.subtract=function(N,S){return this.add(-1*N,S)},k.format=function(N){var S=this,O=this.$locale();if(!this.isValid())return O.invalidDate||b;var L=N||"YYYY-MM-DDTHH:mm:ssZ",I=P.z(this),G=this.$H,Y=this.$m,te=this.$M,U=O.weekdays,J=O.months,$=O.meridiem,R=function(se,ie,ae,re){return se&&(se[ie]||se(S,L))||ae[ie].slice(0,re)},K=function(se){return P.s(G%12||12,se,"0")},ee=$||function(se,ie,ae){var re=se<12?"AM":"PM";return ae?re.toLowerCase():re};return L.replace(j,(function(se,ie){return ie||(function(ae){switch(ae){case"YY":return String(S.$y).slice(-2);case"YYYY":return P.s(S.$y,4,"0");case"M":return te+1;case"MM":return P.s(te+1,2,"0");case"MMM":return R(O.monthsShort,te,J,3);case"MMMM":return R(J,te);case"D":return S.$D;case"DD":return P.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return R(O.weekdaysMin,S.$W,U,2);case"ddd":return R(O.weekdaysShort,S.$W,U,3);case"dddd":return U[S.$W];case"H":return String(G);case"HH":return P.s(G,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return ee(G,Y,!0);case"A":return ee(G,Y,!1);case"m":return String(Y);case"mm":return P.s(Y,2,"0");case"s":return String(S.$s);case"ss":return P.s(S.$s,2,"0");case"SSS":return P.s(S.$ms,3,"0");case"Z":return I}return null})(se)||I.replace(":","")}))},k.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},k.diff=function(N,S,O){var L,I=this,G=P.p(S),Y=W(N),te=(Y.utcOffset()-this.utcOffset())*i,U=this-Y,J=function(){return P.m(I,Y)};switch(G){case y:L=J()/12;break;case m:L=J();break;case g:L=J()/3;break;case h:L=(U-te)/6048e5;break;case f:L=(U-te)/864e5;break;case u:L=U/o;break;case a:L=U/i;break;case c:L=U/1e3;break;default:L=U}return O?L:P.a(L)},k.daysInMonth=function(){return this.endOf(m).$D},k.$locale=function(){return z[this.$L]},k.locale=function(N,S){if(!N)return this.$L;var O=this.clone(),L=X(N,S,!0);return L&&(O.$L=L),O},k.clone=function(){return P.w(this.$d,this)},k.toDate=function(){return new Date(this.valueOf())},k.toJSON=function(){return this.isValid()?this.toISOString():null},k.toISOString=function(){return this.$d.toISOString()},k.toString=function(){return this.$d.toUTCString()},_})(),E=M.prototype;return W.prototype=E,[["$ms",d],["$s",c],["$m",a],["$H",u],["$W",f],["$M",m],["$y",y],["$D",p]].forEach((function(_){E[_[1]]=function(k){return this.$g(k,_[0],_[1])}})),W.extend=function(_,k){return _.$i||(_(k,M,W),_.$i=!0),W},W.locale=X,W.isDayjs=V,W.unix=function(_){return W(1e3*_)},W.en=z[q],W.Ls=z,W.p={},W}))},{}],392:[function(t,s,l){(function(i,o){typeof l=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=o()})(void 0,(function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,d=/\d\d/,c=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,u={},f=function(v){return(v=+v)+(v>68?1900:2e3)},h=function(v){return function(j){this[v]=+j}},m=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=(function(j){if(!j||j==="Z")return 0;var C=j.match(/([+-]|\d\d)/g),T=60*C[1]+(+C[2]||0);return T===0?0:C[0]==="+"?-T:T})(v)}],g=function(v){var j=u[v];return j&&(j.indexOf?j:j.s.concat(j.f))},y=function(v,j){var C,T=u.meridiem;if(T){for(var D=1;D<=24;D+=1)if(v.indexOf(T(D,0,j))>-1){C=D>12;break}}else C=v===(j?"pm":"PM");return C},p={A:[a,function(v){this.afternoon=y(v,!1)}],a:[a,function(v){this.afternoon=y(v,!0)}],S:[/\d/,function(v){this.milliseconds=100*+v}],SS:[d,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[c,h("seconds")],ss:[c,h("seconds")],m:[c,h("minutes")],mm:[c,h("minutes")],H:[c,h("hours")],h:[c,h("hours")],HH:[c,h("hours")],hh:[c,h("hours")],D:[c,h("day")],DD:[d,h("day")],Do:[a,function(v){var j=u.ordinal,C=v.match(/\d+/);if(this.day=C[0],j)for(var T=1;T<=31;T+=1)j(T).replace(/\[|\]/g,"")===v&&(this.day=T)}],M:[c,h("month")],MM:[d,h("month")],MMM:[a,function(v){var j=g("months"),C=(g("monthsShort")||j.map((function(T){return T.slice(0,3)}))).indexOf(v)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[a,function(v){var j=g("months").indexOf(v)+1;if(j<1)throw new Error;this.month=j%12||j}],Y:[/[+-]?\d+/,h("year")],YY:[d,function(v){this.year=f(v)}],YYYY:[/\d{4}/,h("year")],Z:m,ZZ:m};function b(v){var j,C;j=v,C=u&&u.formats;for(var T=(v=j.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(W,P,M){var E=M&&M.toUpperCase();return P||C[M]||i[M]||C[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(_,k,N){return k||N.slice(1)}))}))).match(o),D=T.length,q=0;q<D;q+=1){var z=T[q],B=p[z],V=B&&B[0],X=B&&B[1];T[q]=X?{regex:V,parser:X}:z.replace(/^\[|\]$/g,"")}return function(W){for(var P={},M=0,E=0;M<D;M+=1){var _=T[M];if(typeof _=="string")E+=_.length;else{var k=_.regex,N=_.parser,S=W.slice(E),O=k.exec(S)[0];N.call(P,O),W=W.replace(O,"")}}return(function(L){var I=L.afternoon;if(I!==void 0){var G=L.hours;I?G<12&&(L.hours+=12):G===12&&(L.hours=0),delete L.afternoon}})(P),P}}return function(v,j,C){C.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(f=v.parseTwoDigitYear);var T=j.prototype,D=T.parse;T.parse=function(q){var z=q.date,B=q.utc,V=q.args;this.$u=B;var X=V[1];if(typeof X=="string"){var W=V[2]===!0,P=V[3]===!0,M=W||P,E=V[2];P&&(E=V[2]),u=this.$locale(),!W&&E&&(u=C.Ls[E]),this.$d=(function(S,O,L){try{if(["x","X"].indexOf(O)>-1)return new Date((O==="X"?1e3:1)*S);var I=b(O)(S),G=I.year,Y=I.month,te=I.day,U=I.hours,J=I.minutes,$=I.seconds,R=I.milliseconds,K=I.zone,ee=new Date,se=te||(G||Y?1:ee.getDate()),ie=G||ee.getFullYear(),ae=0;G&&!Y||(ae=Y>0?Y-1:ee.getMonth());var re=U||0,le=J||0,ne=$||0,fe=R||0;return K?new Date(Date.UTC(ie,ae,se,re,le,ne,fe+60*K.offset*1e3)):L?new Date(Date.UTC(ie,ae,se,re,le,ne,fe)):new Date(ie,ae,se,re,le,ne,fe)}catch{return new Date("")}})(z,X,B),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),M&&z!=this.format(X)&&(this.$d=new Date("")),u={}}else if(X instanceof Array)for(var _=X.length,k=1;k<=_;k+=1){V[1]=X[k-1];var N=C.apply(this,V);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}k===_&&(this.$d=new Date(""))}else D.call(this,q)}}}))},{}],393:[function(t,s,l){(function(i,o){typeof l=="object"&&s!==void 0?s.exports=o():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=o()})(void 0,(function(){var i="minute",o=/[+-]\d\d(?::?\d\d)?/g,d=/([+-]|\d\d)/g;return function(c,a,u){var f=a.prototype;u.utc=function(v){var j={date:v,utc:!0,args:arguments};return new a(j)},f.utc=function(v){var j=u(this.toDate(),{locale:this.$L,utc:!0});return v?j.add(this.utcOffset(),i):j},f.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),h.call(this,v)};var m=f.init;f.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else m.call(this)};var g=f.utcOffset;f.utcOffset=function(v,j){var C=this.$utils().u;if(C(v))return this.$u?0:C(this.$offset)?g.call(this):this.$offset;if(typeof v=="string"&&(v=(function(z){z===void 0&&(z="");var B=z.match(o);if(!B)return null;var V=(""+B[0]).match(d)||["-",0,0],X=V[0],W=60*+V[1]+ +V[2];return W===0?0:X==="+"?W:-W})(v))===null)return this;var T=Math.abs(v)<=16?60*v:v,D=this;if(j)return D.$offset=T,D.$u=v===0,D;if(v!==0){var q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(D=this.local().add(T+q,i)).$offset=T,D.$x.$localOffset=q}else D=this.utc();return D};var y=f.format;f.format=function(v){var j=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return y.call(this,j)},f.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var p=f.toDate;f.toDate=function(v){return v==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var b=f.diff;f.diff=function(v,j,C){if(v&&this.$u===v.$u)return b.call(this,v,j,C);var T=this.local(),D=u(v).local();return b.call(T,D,j,C)}}}))},{}],394:[function(t,s,l){l.utils=t("./des/utils"),l.Cipher=t("./des/cipher"),l.DES=t("./des/des"),l.CBC=t("./des/cbc"),l.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,s,l){var i=t("minimalistic-assert"),o=t("inherits"),d={};function c(a){i.equal(a.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=a[u]}l.instantiate=function(a){function u(g){a.call(this,g),this._cbcInit()}o(u,a);for(var f=Object.keys(d),h=0;h<f.length;h++){var m=f[h];u.prototype[m]=d[m]}return u.create=function(g){return new u(g)},u},d._cbcInit=function(){var a=new c(this.options.iv);this._cbcState=a},d._update=function(a,u,f,h){var m=this._cbcState,g=this.constructor.super_.prototype,y=m.iv;if(this.type==="encrypt"){for(var p=0;p<this.blockSize;p++)y[p]^=a[u+p];for(g._update.call(this,y,0,f,h),p=0;p<this.blockSize;p++)y[p]=f[h+p]}else{for(g._update.call(this,a,u,f,h),p=0;p<this.blockSize;p++)f[h+p]^=y[p];for(p=0;p<this.blockSize;p++)y[p]=a[u+p]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,s,l){var i=t("minimalistic-assert");function o(d){this.options=d,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=d.padding!==!1}s.exports=o,o.prototype._init=function(){},o.prototype.update=function(d){return d.length===0?[]:this.type==="decrypt"?this._updateDecrypt(d):this._updateEncrypt(d)},o.prototype._buffer=function(d,c){for(var a=Math.min(this.buffer.length-this.bufferOff,d.length-c),u=0;u<a;u++)this.buffer[this.bufferOff+u]=d[c+u];return this.bufferOff+=a,a},o.prototype._flushBuffer=function(d,c){return this._update(this.buffer,0,d,c),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(d){var c=0,a=0,u=(this.bufferOff+d.length)/this.blockSize|0,f=new Array(u*this.blockSize);this.bufferOff!==0&&(c+=this._buffer(d,c),this.bufferOff===this.buffer.length&&(a+=this._flushBuffer(f,a)));for(var h=d.length-(d.length-c)%this.blockSize;c<h;c+=this.blockSize)this._update(d,c,f,a),a+=this.blockSize;for(;c<d.length;c++,this.bufferOff++)this.buffer[this.bufferOff]=d[c];return f},o.prototype._updateDecrypt=function(d){for(var c=0,a=0,u=Math.ceil((this.bufferOff+d.length)/this.blockSize)-1,f=new Array(u*this.blockSize);u>0;u--)c+=this._buffer(d,c),a+=this._flushBuffer(f,a);return c+=this._buffer(d,c),f},o.prototype.final=function(d){var c,a;return d&&(c=this.update(d)),a=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),c?c.concat(a):a},o.prototype._pad=function(d,c){if(c===0)return!1;for(;c<d.length;)d[c++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var d=new Array(this.blockSize);return this._update(this.buffer,0,d,0),d},o.prototype._unpad=function(d){return d},o.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var d=new Array(this.blockSize);return this._flushBuffer(d,0),this._unpad(d)}},{"minimalistic-assert":453}],397:[function(t,s,l){var i=t("minimalistic-assert"),o=t("inherits"),d=t("./utils"),c=t("./cipher");function a(){this.tmp=new Array(2),this.keys=null}function u(h){c.call(this,h);var m=new a;this._desState=m,this.deriveKeys(m,h.key)}o(u,c),s.exports=u,u.create=function(h){return new u(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(h,m){h.keys=new Array(32),i.equal(m.length,this.blockSize,"Invalid key length");var g=d.readUInt32BE(m,0),y=d.readUInt32BE(m,4);d.pc1(g,y,h.tmp,0),g=h.tmp[0],y=h.tmp[1];for(var p=0;p<h.keys.length;p+=2){var b=f[p>>>1];g=d.r28shl(g,b),y=d.r28shl(y,b),d.pc2(g,y,h.keys,p)}},u.prototype._update=function(h,m,g,y){var p=this._desState,b=d.readUInt32BE(h,m),v=d.readUInt32BE(h,m+4);d.ip(b,v,p.tmp,0),b=p.tmp[0],v=p.tmp[1],this.type==="encrypt"?this._encrypt(p,b,v,p.tmp,0):this._decrypt(p,b,v,p.tmp,0),b=p.tmp[0],v=p.tmp[1],d.writeUInt32BE(g,b,y),d.writeUInt32BE(g,v,y+4)},u.prototype._pad=function(h,m){if(this.padding===!1)return!1;for(var g=h.length-m,y=m;y<h.length;y++)h[y]=g;return!0},u.prototype._unpad=function(h){if(this.padding===!1)return h;for(var m=h[h.length-1],g=h.length-m;g<h.length;g++)i.equal(h[g],m);return h.slice(0,h.length-m)},u.prototype._encrypt=function(h,m,g,y,p){for(var b=m,v=g,j=0;j<h.keys.length;j+=2){var C=h.keys[j],T=h.keys[j+1];d.expand(v,h.tmp,0),C^=h.tmp[0],T^=h.tmp[1];var D=d.substitute(C,T),q=v;v=(b^d.permute(D))>>>0,b=q}d.rip(v,b,y,p)},u.prototype._decrypt=function(h,m,g,y,p){for(var b=g,v=m,j=h.keys.length-2;j>=0;j-=2){var C=h.keys[j],T=h.keys[j+1];d.expand(b,h.tmp,0),C^=h.tmp[0],T^=h.tmp[1];var D=d.substitute(C,T),q=b;b=(v^d.permute(D))>>>0,v=q}d.rip(b,v,y,p)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,s,l){var i=t("minimalistic-assert"),o=t("inherits"),d=t("./cipher"),c=t("./des");function a(f,h){i.equal(h.length,24,"Invalid key length");var m=h.slice(0,8),g=h.slice(8,16),y=h.slice(16,24);this.ciphers=f==="encrypt"?[c.create({type:"encrypt",key:m}),c.create({type:"decrypt",key:g}),c.create({type:"encrypt",key:y})]:[c.create({type:"decrypt",key:y}),c.create({type:"encrypt",key:g}),c.create({type:"decrypt",key:m})]}function u(f){d.call(this,f);var h=new a(this.type,this.options.key);this._edeState=h}o(u,d),s.exports=u,u.create=function(f){return new u(f)},u.prototype._update=function(f,h,m,g){var y=this._edeState;y.ciphers[0]._update(f,h,m,g),y.ciphers[1]._update(m,g,m,g),y.ciphers[2]._update(m,g,m,g)},u.prototype._pad=c.prototype._pad,u.prototype._unpad=c.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,s,l){l.readUInt32BE=function(c,a){return(c[0+a]<<24|c[1+a]<<16|c[2+a]<<8|c[3+a])>>>0},l.writeUInt32BE=function(c,a,u){c[0+u]=a>>>24,c[1+u]=a>>>16&255,c[2+u]=a>>>8&255,c[3+u]=255&a},l.ip=function(c,a,u,f){for(var h=0,m=0,g=6;g>=0;g-=2){for(var y=0;y<=24;y+=8)h<<=1,h|=a>>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=c>>>y+g&1}for(g=6;g>=0;g-=2){for(y=1;y<=25;y+=8)m<<=1,m|=a>>>y+g&1;for(y=1;y<=25;y+=8)m<<=1,m|=c>>>y+g&1}u[f+0]=h>>>0,u[f+1]=m>>>0},l.rip=function(c,a,u,f){for(var h=0,m=0,g=0;g<4;g++)for(var y=24;y>=0;y-=8)h<<=1,h|=a>>>y+g&1,h<<=1,h|=c>>>y+g&1;for(g=4;g<8;g++)for(y=24;y>=0;y-=8)m<<=1,m|=a>>>y+g&1,m<<=1,m|=c>>>y+g&1;u[f+0]=h>>>0,u[f+1]=m>>>0},l.pc1=function(c,a,u,f){for(var h=0,m=0,g=7;g>=5;g--){for(var y=0;y<=24;y+=8)h<<=1,h|=a>>y+g&1;for(y=0;y<=24;y+=8)h<<=1,h|=c>>y+g&1}for(y=0;y<=24;y+=8)h<<=1,h|=a>>y+g&1;for(g=1;g<=3;g++){for(y=0;y<=24;y+=8)m<<=1,m|=a>>y+g&1;for(y=0;y<=24;y+=8)m<<=1,m|=c>>y+g&1}for(y=0;y<=24;y+=8)m<<=1,m|=c>>y+g&1;u[f+0]=h>>>0,u[f+1]=m>>>0},l.r28shl=function(c,a){return c<<a&268435455|c>>>28-a};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(c,a,u,f){for(var h=0,m=0,g=i.length>>>1,y=0;y<g;y++)h<<=1,h|=c>>>i[y]&1;for(y=g;y<i.length;y++)m<<=1,m|=a>>>i[y]&1;u[f+0]=h>>>0,u[f+1]=m>>>0},l.expand=function(c,a,u){var f=0,h=0;f=(1&c)<<5|c>>>27;for(var m=23;m>=15;m-=4)f<<=6,f|=c>>>m&63;for(m=11;m>=3;m-=4)h|=c>>>m&63,h<<=6;h|=(31&c)<<1|c>>>31,a[u+0]=f>>>0,a[u+1]=h>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(c,a){for(var u=0,f=0;f<4;f++)u<<=4,u|=o[64*f+(c>>>18-6*f&63)];for(f=0;f<4;f++)u<<=4,u|=o[256+64*f+(a>>>18-6*f&63)];return u>>>0};var d=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(c){for(var a=0,u=0;u<d.length;u++)a<<=1,a|=c>>>d[u]&1;return a>>>0},l.padSplit=function(c,a,u){for(var f=c.toString(2);f.length<a;)f="0"+f;for(var h=[],m=0;m<a;m+=u)h.push(f.slice(m,m+u));return h.join(" ")}},{}],400:[function(t,s,l){(function(i){(function(){var o=t("./lib/generatePrime"),d=t("./lib/primes.json"),c=t("./lib/dh"),a={binary:!0,hex:!0,base64:!0};l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=function(u){var f=new i(d[u].prime,"hex"),h=new i(d[u].gen,"hex");return new c(f,h)},l.createDiffieHellman=l.DiffieHellman=function u(f,h,m,g){return i.isBuffer(h)||a[h]===void 0?u(f,"binary",h,m):(h=h||"binary",g=g||"binary",m=m||new i([2]),i.isBuffer(m)||(m=new i(m,g)),typeof f=="number"?new c(o(f,m),m,!0):(i.isBuffer(f)||(f=new i(f,h)),new c(f,m,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,s,l){(function(i){(function(){var o=t("bn.js"),d=new(t("miller-rabin")),c=new o(24),a=new o(11),u=new o(10),f=new o(3),h=new o(7),m=t("./generatePrime"),g=t("randombytes");function y(C,T){return T=T||"utf8",i.isBuffer(C)||(C=new i(C,T)),this._pub=new o(C),this}function p(C,T){return T=T||"utf8",i.isBuffer(C)||(C=new i(C,T)),this._priv=new o(C),this}s.exports=v;var b={};function v(C,T,D){this.setGenerator(T),this.__prime=new o(C),this._prime=o.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,D?(this.setPublicKey=y,this.setPrivateKey=p):this._primeCode=8}function j(C,T){var D=new i(C.toArray());return T?D.toString(T):D}Object.defineProperty(v.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(C,T){var D=T.toString("hex"),q=[D,C.toString(16)].join("_");if(q in b)return b[q];var z,B=0;if(C.isEven()||!m.simpleSieve||!m.fermatTest(C)||!d.test(C))return B+=1,B+=D==="02"||D==="05"?8:4,b[q]=B,B;switch(d.test(C.shrn(1))||(B+=2),D){case"02":C.mod(c).cmp(a)&&(B+=8);break;case"05":(z=C.mod(u)).cmp(f)&&z.cmp(h)&&(B+=8);break;default:B+=4}return b[q]=B,B})(this.__prime,this.__gen)),this._primeCode}}),v.prototype.generateKeys=function(){return this._priv||(this._priv=new o(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},v.prototype.computeSecret=function(C){var T=(C=(C=new o(C)).toRed(this._prime)).redPow(this._priv).fromRed(),D=new i(T.toArray()),q=this.getPrime();if(D.length<q.length){var z=new i(q.length-D.length);z.fill(0),D=i.concat([z,D])}return D},v.prototype.getPublicKey=function(C){return j(this._pub,C)},v.prototype.getPrivateKey=function(C){return j(this._priv,C)},v.prototype.getPrime=function(C){return j(this.__prime,C)},v.prototype.getGenerator=function(C){return j(this._gen,C)},v.prototype.setGenerator=function(C,T){return T=T||"utf8",i.isBuffer(C)||(C=new i(C,T)),this.__gen=C,this._gen=new o(C),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,s,l){var i=t("randombytes");s.exports=C,C.simpleSieve=v,C.fermatTest=j;var o=t("bn.js"),d=new o(24),c=new(t("miller-rabin")),a=new o(1),u=new o(2),f=new o(5),h=(new o(16),new o(8),new o(10)),m=new o(3),g=(new o(7),new o(11)),y=new o(4),p=(new o(12),null);function b(){if(p!==null)return p;var T=[];T[0]=2;for(var D=1,q=3;q<1048576;q+=2){for(var z=Math.ceil(Math.sqrt(q)),B=0;B<D&&T[B]<=z&&q%T[B]!=0;B++);D!==B&&T[B]<=z||(T[D++]=q)}return p=T,T}function v(T){for(var D=b(),q=0;q<D.length;q++)if(T.modn(D[q])===0)return T.cmpn(D[q])===0;return!0}function j(T){var D=o.mont(T);return u.toRed(D).redPow(T.subn(1)).fromRed().cmpn(1)===0}function C(T,D){if(T<16)return new o(D===2||D===5?[140,123]:[140,39]);var q,z;for(D=new o(D);;){for(q=new o(i(Math.ceil(T/8)));q.bitLength()>T;)q.ishrn(1);if(q.isEven()&&q.iadd(a),q.testn(1)||q.iadd(u),D.cmp(u)){if(!D.cmp(f))for(;q.mod(h).cmp(m);)q.iadd(y)}else for(;q.mod(d).cmp(g);)q.iadd(y);if(v(z=q.shrn(1))&&v(q)&&j(z)&&j(q)&&c.test(z)&&c.test(q))return q}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,s,l){s.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],405:[function(t,s,l){var i=l;i.version=t("../package.json").version,i.utils=t("./elliptic/utils"),i.rand=t("brorand"),i.curve=t("./elliptic/curve"),i.curves=t("./elliptic/curves"),i.ec=t("./elliptic/ec"),i.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,s,l){var i=t("bn.js"),o=t("../utils"),d=o.getNAF,c=o.getJSF,a=o.assert;function u(h,m){this.type=h,this.p=new i(m.p,16),this.red=m.prime?i.red(m.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=m.n&&new i(m.n,16),this.g=m.g&&this.pointFromJSON(m.g,m.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,m){this.curve=h,this.type=m,this.precomputed=null}s.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(h,m){a(h.precomputed);var g=h._getDoubles(),y=d(m,1,this._bitLength),p=(1<<g.step+1)-(g.step%2==0?2:1);p/=3;var b,v,j=[];for(b=0;b<y.length;b+=g.step){v=0;for(var C=b+g.step-1;C>=b;C--)v=(v<<1)+y[C];j.push(v)}for(var T=this.jpoint(null,null,null),D=this.jpoint(null,null,null),q=p;q>0;q--){for(b=0;b<j.length;b++)(v=j[b])===q?D=D.mixedAdd(g.points[b]):v===-q&&(D=D.mixedAdd(g.points[b].neg()));T=T.add(D)}return T.toP()},u.prototype._wnafMul=function(h,m){var g=4,y=h._getNAFPoints(g);g=y.wnd;for(var p=y.points,b=d(m,g,this._bitLength),v=this.jpoint(null,null,null),j=b.length-1;j>=0;j--){for(var C=0;j>=0&&b[j]===0;j--)C++;if(j>=0&&C++,v=v.dblp(C),j<0)break;var T=b[j];a(T!==0),v=h.type==="affine"?T>0?v.mixedAdd(p[T-1>>1]):v.mixedAdd(p[-T-1>>1].neg()):T>0?v.add(p[T-1>>1]):v.add(p[-T-1>>1].neg())}return h.type==="affine"?v.toP():v},u.prototype._wnafMulAdd=function(h,m,g,y,p){var b,v,j,C=this._wnafT1,T=this._wnafT2,D=this._wnafT3,q=0;for(b=0;b<y;b++){var z=(j=m[b])._getNAFPoints(h);C[b]=z.wnd,T[b]=z.points}for(b=y-1;b>=1;b-=2){var B=b-1,V=b;if(C[B]===1&&C[V]===1){var X=[m[B],null,null,m[V]];m[B].y.cmp(m[V].y)===0?(X[1]=m[B].add(m[V]),X[2]=m[B].toJ().mixedAdd(m[V].neg())):m[B].y.cmp(m[V].y.redNeg())===0?(X[1]=m[B].toJ().mixedAdd(m[V]),X[2]=m[B].add(m[V].neg())):(X[1]=m[B].toJ().mixedAdd(m[V]),X[2]=m[B].toJ().mixedAdd(m[V].neg()));var W=[-3,-1,-5,-7,0,7,5,1,3],P=c(g[B],g[V]);for(q=Math.max(P[0].length,q),D[B]=new Array(q),D[V]=new Array(q),v=0;v<q;v++){var M=0|P[0][v],E=0|P[1][v];D[B][v]=W[3*(M+1)+(E+1)],D[V][v]=0,T[B]=X}}else D[B]=d(g[B],C[B],this._bitLength),D[V]=d(g[V],C[V],this._bitLength),q=Math.max(D[B].length,q),q=Math.max(D[V].length,q)}var _=this.jpoint(null,null,null),k=this._wnafT4;for(b=q;b>=0;b--){for(var N=0;b>=0;){var S=!0;for(v=0;v<y;v++)k[v]=0|D[v][b],k[v]!==0&&(S=!1);if(!S)break;N++,b--}if(b>=0&&N++,_=_.dblp(N),b<0)break;for(v=0;v<y;v++){var O=k[v];O!==0&&(O>0?j=T[v][O-1>>1]:O<0&&(j=T[v][-O-1>>1].neg()),_=j.type==="affine"?_.mixedAdd(j):_.add(j))}}for(b=0;b<y;b++)T[b]=null;return p?_:_.toP()},u.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(h,m){h=o.toArray(h,m);var g=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*g)return h[0]===6?a(h[h.length-1]%2==0):h[0]===7&&a(h[h.length-1]%2==1),this.point(h.slice(1,1+g),h.slice(1+g,1+2*g));if((h[0]===2||h[0]===3)&&h.length-1===g)return this.pointFromX(h.slice(1,1+g),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var m=this.curve.p.byteLength(),g=this.getX().toArray("be",m);return h?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",m))},f.prototype.encode=function(h,m){return o.encode(this._encode(m),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var m={doubles:null,naf:null,beta:null};return m.naf=this._getNAFPoints(8),m.doubles=this._getDoubles(4,h),m.beta=this._getBeta(),this.precomputed=m,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var m=this.precomputed.doubles;return!!m&&m.points.length>=Math.ceil((h.bitLength()+1)/m.step)},f.prototype._getDoubles=function(h,m){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],y=this,p=0;p<m;p+=h){for(var b=0;b<h;b++)y=y.dbl();g.push(y)}return{step:h,points:g}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var m=[this],g=(1<<h)-1,y=g===1?null:this.dbl(),p=1;p<g;p++)m[p]=m[p-1].add(y);return{wnd:h,points:m}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var m=this,g=0;g<h;g++)m=m.dbl();return m}},{"../utils":419,"bn.js":420}],407:[function(t,s,l){var i=t("../utils"),o=t("bn.js"),d=t("inherits"),c=t("./base"),a=i.assert;function u(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,c.call(this,"edwards",h),this.a=new o(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,m,g,y,p){c.BasePoint.call(this,h,"projective"),m===null&&g===null&&y===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(m,16),this.y=new o(g,16),this.z=y?new o(y,16):this.curve.one,this.t=p&&new o(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}d(u,c),s.exports=u,u.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},u.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},u.prototype.jpoint=function(h,m,g,y){return this.point(h,m,g,y)},u.prototype.pointFromX=function(h,m){(h=new o(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),y=this.c2.redSub(this.a.redMul(g)),p=this.one.redSub(this.c2.redMul(this.d).redMul(g)),b=y.redMul(p.redInvm()),v=b.redSqrt();if(v.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var j=v.fromRed().isOdd();return(m&&!j||!m&&j)&&(v=v.redNeg()),this.point(h,v)},u.prototype.pointFromY=function(h,m){(h=new o(h,16)).red||(h=h.toRed(this.red));var g=h.redSqr(),y=g.redSub(this.c2),p=g.redMul(this.d).redMul(this.c2).redSub(this.a),b=y.redMul(p.redInvm());if(b.cmp(this.zero)===0){if(m)throw new Error("invalid point");return this.point(this.zero,h)}var v=b.redSqrt();if(v.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return v.fromRed().isOdd()!==m&&(v=v.redNeg()),this.point(v,h)},u.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var m=h.x.redSqr(),g=h.y.redSqr(),y=m.redMul(this.a).redAdd(g),p=this.c2.redMul(this.one.redAdd(this.d.redMul(m).redMul(g)));return y.cmp(p)===0},d(f,c.BasePoint),u.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},u.prototype.point=function(h,m,g,y){return new f(this,h,m,g,y)},f.fromJSON=function(h,m){return new f(h,m[0],m[1],m[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),m=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var y=this.curve._mulA(h),p=this.x.redAdd(this.y).redSqr().redISub(h).redISub(m),b=y.redAdd(m),v=b.redSub(g),j=y.redSub(m),C=p.redMul(v),T=b.redMul(j),D=p.redMul(j),q=v.redMul(b);return this.curve.point(C,T,q,D)},f.prototype._projDbl=function(){var h,m,g,y,p,b,v=this.x.redAdd(this.y).redSqr(),j=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var T=(y=this.curve._mulA(j)).redAdd(C);this.zOne?(h=v.redSub(j).redSub(C).redMul(T.redSub(this.curve.two)),m=T.redMul(y.redSub(C)),g=T.redSqr().redSub(T).redSub(T)):(p=this.z.redSqr(),b=T.redSub(p).redISub(p),h=v.redSub(j).redISub(C).redMul(b),m=T.redMul(y.redSub(C)),g=T.redMul(b))}else y=j.redAdd(C),p=this.curve._mulC(this.z).redSqr(),b=y.redSub(p).redSub(p),h=this.curve._mulC(v.redISub(y)).redMul(b),m=this.curve._mulC(y).redMul(j.redISub(C)),g=y.redMul(b);return this.curve.point(h,m,g)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var m=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),g=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),y=this.t.redMul(this.curve.dd).redMul(h.t),p=this.z.redMul(h.z.redAdd(h.z)),b=g.redSub(m),v=p.redSub(y),j=p.redAdd(y),C=g.redAdd(m),T=b.redMul(v),D=j.redMul(C),q=b.redMul(C),z=v.redMul(j);return this.curve.point(T,D,z,q)},f.prototype._projAdd=function(h){var m,g,y=this.z.redMul(h.z),p=y.redSqr(),b=this.x.redMul(h.x),v=this.y.redMul(h.y),j=this.curve.d.redMul(b).redMul(v),C=p.redSub(j),T=p.redAdd(j),D=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(b).redISub(v),q=y.redMul(C).redMul(D);return this.curve.twisted?(m=y.redMul(T).redMul(v.redSub(this.curve._mulA(b))),g=C.redMul(T)):(m=y.redMul(T).redMul(v.redSub(b)),g=this.curve._mulC(C).redMul(T)),this.curve.point(q,m,g)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,m,g){return this.curve._wnafMulAdd(1,[this,m],[h,g],2,!1)},f.prototype.jmulAdd=function(h,m,g){return this.curve._wnafMulAdd(1,[this,m],[h,g],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var m=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(m)===0)return!0;for(var g=h.clone(),y=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(y),this.x.cmp(m)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,s,l){var i=l;i.base=t("./base"),i.short=t("./short"),i.mont=t("./mont"),i.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,s,l){var i=t("bn.js"),o=t("inherits"),d=t("./base"),c=t("../utils");function a(f){d.call(this,"mont",f),this.a=new i(f.a,16).toRed(this.red),this.b=new i(f.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(f,h,m){d.BasePoint.call(this,f,"projective"),h===null&&m===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(a,d),s.exports=a,a.prototype.validate=function(f){var h=f.normalize().x,m=h.redSqr(),g=m.redMul(h).redAdd(m.redMul(this.a)).redAdd(h);return g.redSqrt().redSqr().cmp(g)===0},o(u,d.BasePoint),a.prototype.decodePoint=function(f,h){return this.point(c.toArray(f,h),1)},a.prototype.point=function(f,h){return new u(this,f,h)},a.prototype.pointFromJSON=function(f){return u.fromJSON(this,f)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(f,h){return new u(f,h[0],h[1]||f.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),m=f.redSub(h),g=f.redMul(h),y=m.redMul(h.redAdd(this.curve.a24.redMul(m)));return this.curve.point(g,y)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(f,h){var m=this.x.redAdd(this.z),g=this.x.redSub(this.z),y=f.x.redAdd(f.z),p=f.x.redSub(f.z).redMul(m),b=y.redMul(g),v=h.z.redMul(p.redAdd(b).redSqr()),j=h.x.redMul(p.redISub(b).redSqr());return this.curve.point(v,j)},u.prototype.mul=function(f){for(var h=f.clone(),m=this,g=this.curve.point(null,null),y=[];h.cmpn(0)!==0;h.iushrn(1))y.push(h.andln(1));for(var p=y.length-1;p>=0;p--)y[p]===0?(m=m.diffAdd(g,this),g=g.dbl()):(g=m.diffAdd(g,this),m=m.dbl());return g},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,s,l){var i=t("../utils"),o=t("bn.js"),d=t("inherits"),c=t("./base"),a=i.assert;function u(m){c.call(this,"short",m),this.a=new o(m.a,16).toRed(this.red),this.b=new o(m.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(m),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(m,g,y,p){c.BasePoint.call(this,m,"affine"),g===null&&y===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(g,16),this.y=new o(y,16),p&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(m,g,y,p){c.BasePoint.call(this,m,"jacobian"),g===null&&y===null&&p===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(g,16),this.y=new o(y,16),this.z=new o(p,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}d(u,c),s.exports=u,u.prototype._getEndomorphism=function(m){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,y;if(m.beta)g=new o(m.beta,16).toRed(this.red);else{var p=this._getEndoRoots(this.p);g=(g=p[0].cmp(p[1])<0?p[0]:p[1]).toRed(this.red)}if(m.lambda)y=new o(m.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(g))===0?y=b[0]:(y=b[1],a(this.g.mul(y).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:y,basis:m.basis?m.basis.map((function(v){return{a:new o(v.a,16),b:new o(v.b,16)}})):this._getEndoBasis(y)}}},u.prototype._getEndoRoots=function(m){var g=m===this.p?this.red:o.mont(m),y=new o(2).toRed(g).redInvm(),p=y.redNeg(),b=new o(3).toRed(g).redNeg().redSqrt().redMul(y);return[p.redAdd(b).fromRed(),p.redSub(b).fromRed()]},u.prototype._getEndoBasis=function(m){for(var g,y,p,b,v,j,C,T,D,q=this.n.ushrn(Math.floor(this.n.bitLength()/2)),z=m,B=this.n.clone(),V=new o(1),X=new o(0),W=new o(0),P=new o(1),M=0;z.cmpn(0)!==0;){var E=B.div(z);T=B.sub(E.mul(z)),D=W.sub(E.mul(V));var _=P.sub(E.mul(X));if(!p&&T.cmp(q)<0)g=C.neg(),y=V,p=T.neg(),b=D;else if(p&&++M==2)break;C=T,B=z,z=T,W=V,V=D,P=X,X=_}v=T.neg(),j=D;var k=p.sqr().add(b.sqr());return v.sqr().add(j.sqr()).cmp(k)>=0&&(v=g,j=y),p.negative&&(p=p.neg(),b=b.neg()),v.negative&&(v=v.neg(),j=j.neg()),[{a:p,b},{a:v,b:j}]},u.prototype._endoSplit=function(m){var g=this.endo.basis,y=g[0],p=g[1],b=p.b.mul(m).divRound(this.n),v=y.b.neg().mul(m).divRound(this.n),j=b.mul(y.a),C=v.mul(p.a),T=b.mul(y.b),D=v.mul(p.b);return{k1:m.sub(j).sub(C),k2:T.add(D).neg()}},u.prototype.pointFromX=function(m,g){(m=new o(m,16)).red||(m=m.toRed(this.red));var y=m.redSqr().redMul(m).redIAdd(m.redMul(this.a)).redIAdd(this.b),p=y.redSqrt();if(p.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var b=p.fromRed().isOdd();return(g&&!b||!g&&b)&&(p=p.redNeg()),this.point(m,p)},u.prototype.validate=function(m){if(m.inf)return!0;var g=m.x,y=m.y,p=this.a.redMul(g),b=g.redSqr().redMul(g).redIAdd(p).redIAdd(this.b);return y.redSqr().redISub(b).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(m,g,y){for(var p=this._endoWnafT1,b=this._endoWnafT2,v=0;v<m.length;v++){var j=this._endoSplit(g[v]),C=m[v],T=C._getBeta();j.k1.negative&&(j.k1.ineg(),C=C.neg(!0)),j.k2.negative&&(j.k2.ineg(),T=T.neg(!0)),p[2*v]=C,p[2*v+1]=T,b[2*v]=j.k1,b[2*v+1]=j.k2}for(var D=this._wnafMulAdd(1,p,b,2*v,y),q=0;q<2*v;q++)p[q]=null,b[q]=null;return D},d(f,c.BasePoint),u.prototype.point=function(m,g,y){return new f(this,m,g,y)},u.prototype.pointFromJSON=function(m,g){return f.fromJSON(this,m,g)},f.prototype._getBeta=function(){if(this.curve.endo){var m=this.precomputed;if(m&&m.beta)return m.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(m){var y=this.curve,p=function(b){return y.point(b.x.redMul(y.endo.beta),b.y)};m.beta=g,g.precomputed={beta:null,naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(p)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(p)}}}return g}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(m,g,y){typeof g=="string"&&(g=JSON.parse(g));var p=m.point(g[0],g[1],y);if(!g[2])return p;function b(j){return m.point(j[0],j[1],y)}var v=g[2];return p.precomputed={beta:null,doubles:v.doubles&&{step:v.doubles.step,points:[p].concat(v.doubles.points.map(b))},naf:v.naf&&{wnd:v.naf.wnd,points:[p].concat(v.naf.points.map(b))}},p},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(m){if(this.inf)return m;if(m.inf)return this;if(this.eq(m))return this.dbl();if(this.neg().eq(m))return this.curve.point(null,null);if(this.x.cmp(m.x)===0)return this.curve.point(null,null);var g=this.y.redSub(m.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(m.x).redInvm()));var y=g.redSqr().redISub(this.x).redISub(m.x),p=g.redMul(this.x.redSub(y)).redISub(this.y);return this.curve.point(y,p)},f.prototype.dbl=function(){if(this.inf)return this;var m=this.y.redAdd(this.y);if(m.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,y=this.x.redSqr(),p=m.redInvm(),b=y.redAdd(y).redIAdd(y).redIAdd(g).redMul(p),v=b.redSqr().redISub(this.x.redAdd(this.x)),j=b.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,j)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(m){return m=new o(m,16),this.isInfinity()?this:this._hasDoubles(m)?this.curve._fixedNafMul(this,m):this.curve.endo?this.curve._endoWnafMulAdd([this],[m]):this.curve._wnafMul(this,m)},f.prototype.mulAdd=function(m,g,y){var p=[this,g],b=[m,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,b):this.curve._wnafMulAdd(1,p,b,2)},f.prototype.jmulAdd=function(m,g,y){var p=[this,g],b=[m,y];return this.curve.endo?this.curve._endoWnafMulAdd(p,b,!0):this.curve._wnafMulAdd(1,p,b,2,!0)},f.prototype.eq=function(m){return this===m||this.inf===m.inf&&(this.inf||this.x.cmp(m.x)===0&&this.y.cmp(m.y)===0)},f.prototype.neg=function(m){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(m&&this.precomputed){var y=this.precomputed,p=function(b){return b.neg()};g.precomputed={naf:y.naf&&{wnd:y.naf.wnd,points:y.naf.points.map(p)},doubles:y.doubles&&{step:y.doubles.step,points:y.doubles.points.map(p)}}}return g},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},d(h,c.BasePoint),u.prototype.jpoint=function(m,g,y){return new h(this,m,g,y)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var m=this.z.redInvm(),g=m.redSqr(),y=this.x.redMul(g),p=this.y.redMul(g).redMul(m);return this.curve.point(y,p)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(m){if(this.isInfinity())return m;if(m.isInfinity())return this;var g=m.z.redSqr(),y=this.z.redSqr(),p=this.x.redMul(g),b=m.x.redMul(y),v=this.y.redMul(g.redMul(m.z)),j=m.y.redMul(y.redMul(this.z)),C=p.redSub(b),T=v.redSub(j);if(C.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var D=C.redSqr(),q=D.redMul(C),z=p.redMul(D),B=T.redSqr().redIAdd(q).redISub(z).redISub(z),V=T.redMul(z.redISub(B)).redISub(v.redMul(q)),X=this.z.redMul(m.z).redMul(C);return this.curve.jpoint(B,V,X)},h.prototype.mixedAdd=function(m){if(this.isInfinity())return m.toJ();if(m.isInfinity())return this;var g=this.z.redSqr(),y=this.x,p=m.x.redMul(g),b=this.y,v=m.y.redMul(g).redMul(this.z),j=y.redSub(p),C=b.redSub(v);if(j.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=j.redSqr(),D=T.redMul(j),q=y.redMul(T),z=C.redSqr().redIAdd(D).redISub(q).redISub(q),B=C.redMul(q.redISub(z)).redISub(b.redMul(D)),V=this.z.redMul(j);return this.curve.jpoint(z,B,V)},h.prototype.dblp=function(m){if(m===0)return this;if(this.isInfinity())return this;if(!m)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var y=this;for(g=0;g<m;g++)y=y.dbl();return y}var p=this.curve.a,b=this.curve.tinv,v=this.x,j=this.y,C=this.z,T=C.redSqr().redSqr(),D=j.redAdd(j);for(g=0;g<m;g++){var q=v.redSqr(),z=D.redSqr(),B=z.redSqr(),V=q.redAdd(q).redIAdd(q).redIAdd(p.redMul(T)),X=v.redMul(z),W=V.redSqr().redISub(X.redAdd(X)),P=X.redISub(W),M=V.redMul(P);M=M.redIAdd(M).redISub(B);var E=D.redMul(C);g+1<m&&(T=T.redMul(B)),v=W,C=E,D=M}return this.curve.jpoint(v,D.redMul(b),C)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var m,g,y;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),v=b.redSqr(),j=this.x.redAdd(b).redSqr().redISub(p).redISub(v);j=j.redIAdd(j);var C=p.redAdd(p).redIAdd(p),T=C.redSqr().redISub(j).redISub(j),D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),m=T,g=C.redMul(j.redISub(T)).redISub(D),y=this.y.redAdd(this.y)}else{var q=this.x.redSqr(),z=this.y.redSqr(),B=z.redSqr(),V=this.x.redAdd(z).redSqr().redISub(q).redISub(B);V=V.redIAdd(V);var X=q.redAdd(q).redIAdd(q),W=X.redSqr(),P=B.redIAdd(B);P=(P=P.redIAdd(P)).redIAdd(P),m=W.redISub(V).redISub(V),g=X.redMul(V.redISub(m)).redISub(P),y=(y=this.y.redMul(this.z)).redIAdd(y)}return this.curve.jpoint(m,g,y)},h.prototype._threeDbl=function(){var m,g,y;if(this.zOne){var p=this.x.redSqr(),b=this.y.redSqr(),v=b.redSqr(),j=this.x.redAdd(b).redSqr().redISub(p).redISub(v);j=j.redIAdd(j);var C=p.redAdd(p).redIAdd(p).redIAdd(this.curve.a),T=C.redSqr().redISub(j).redISub(j);m=T;var D=v.redIAdd(v);D=(D=D.redIAdd(D)).redIAdd(D),g=C.redMul(j.redISub(T)).redISub(D),y=this.y.redAdd(this.y)}else{var q=this.z.redSqr(),z=this.y.redSqr(),B=this.x.redMul(z),V=this.x.redSub(q).redMul(this.x.redAdd(q));V=V.redAdd(V).redIAdd(V);var X=B.redIAdd(B),W=(X=X.redIAdd(X)).redAdd(X);m=V.redSqr().redISub(W),y=this.y.redAdd(this.z).redSqr().redISub(z).redISub(q);var P=z.redSqr();P=(P=(P=P.redIAdd(P)).redIAdd(P)).redIAdd(P),g=V.redMul(X.redISub(m)).redISub(P)}return this.curve.jpoint(m,g,y)},h.prototype._dbl=function(){var m=this.curve.a,g=this.x,y=this.y,p=this.z,b=p.redSqr().redSqr(),v=g.redSqr(),j=y.redSqr(),C=v.redAdd(v).redIAdd(v).redIAdd(m.redMul(b)),T=g.redAdd(g),D=(T=T.redIAdd(T)).redMul(j),q=C.redSqr().redISub(D.redAdd(D)),z=D.redISub(q),B=j.redSqr();B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var V=C.redMul(z).redISub(B),X=y.redAdd(y).redMul(p);return this.curve.jpoint(q,V,X)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var m=this.x.redSqr(),g=this.y.redSqr(),y=this.z.redSqr(),p=g.redSqr(),b=m.redAdd(m).redIAdd(m),v=b.redSqr(),j=this.x.redAdd(g).redSqr().redISub(m).redISub(p),C=(j=(j=(j=j.redIAdd(j)).redAdd(j).redIAdd(j)).redISub(v)).redSqr(),T=p.redIAdd(p);T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T);var D=b.redIAdd(j).redSqr().redISub(v).redISub(C).redISub(T),q=g.redMul(D);q=(q=q.redIAdd(q)).redIAdd(q);var z=this.x.redMul(C).redISub(q);z=(z=z.redIAdd(z)).redIAdd(z);var B=this.y.redMul(D.redMul(T.redISub(D)).redISub(j.redMul(C)));B=(B=(B=B.redIAdd(B)).redIAdd(B)).redIAdd(B);var V=this.z.redAdd(j).redSqr().redISub(y).redISub(C);return this.curve.jpoint(z,B,V)},h.prototype.mul=function(m,g){return m=new o(m,g),this.curve._wnafMul(this,m)},h.prototype.eq=function(m){if(m.type==="affine")return this.eq(m.toJ());if(this===m)return!0;var g=this.z.redSqr(),y=m.z.redSqr();if(this.x.redMul(y).redISub(m.x.redMul(g)).cmpn(0)!==0)return!1;var p=g.redMul(this.z),b=y.redMul(m.z);return this.y.redMul(b).redISub(m.y.redMul(p)).cmpn(0)===0},h.prototype.eqXToP=function(m){var g=this.z.redSqr(),y=m.toRed(this.curve.red).redMul(g);if(this.x.cmp(y)===0)return!0;for(var p=m.clone(),b=this.curve.redN.redMul(g);;){if(p.iadd(this.curve.n),p.cmp(this.curve.p)>=0)return!1;if(y.redIAdd(b),this.x.cmp(y)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,s,l){var i,o=l,d=t("hash.js"),c=t("./curve"),a=t("./utils").assert;function u(h){h.type==="short"?this.curve=new c.short(h):h.type==="edwards"?this.curve=new c.edwards(h):this.curve=new c.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,m){Object.defineProperty(o,h,{configurable:!0,enumerable:!0,get:function(){var g=new u(m);return Object.defineProperty(o,h,{configurable:!0,enumerable:!0,value:g}),g}})}o.PresetCurve=u,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:d.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:d.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:d.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:d.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:d.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=t("./precomputed/secp256k1")}catch{i=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:d.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,s,l){var i=t("bn.js"),o=t("hmac-drbg"),d=t("../utils"),c=t("../curves"),a=t("brorand"),u=d.assert,f=t("./key"),h=t("./signature");function m(g){if(!(this instanceof m))return new m(g);typeof g=="string"&&(u(Object.prototype.hasOwnProperty.call(c,g),"Unknown curve "+g),g=c[g]),g instanceof c.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}s.exports=m,m.prototype.keyPair=function(g){return new f(this,g)},m.prototype.keyFromPrivate=function(g,y){return f.fromPrivate(this,g,y)},m.prototype.keyFromPublic=function(g,y){return f.fromPublic(this,g,y)},m.prototype.genKeyPair=function(g){g||(g={});for(var y=new o({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||a(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),p=this.n.byteLength(),b=this.n.sub(new i(2));;){var v=new i(y.generate(p));if(!(v.cmp(b)>0))return v.iaddn(1),this.keyFromPrivate(v)}},m.prototype._truncateToN=function(g,y){var p=8*g.byteLength()-this.n.bitLength();return p>0&&(g=g.ushrn(p)),!y&&g.cmp(this.n)>=0?g.sub(this.n):g},m.prototype.sign=function(g,y,p,b){typeof p=="object"&&(b=p,p=null),b||(b={}),y=this.keyFromPrivate(y,p),g=this._truncateToN(new i(g,16));for(var v=this.n.byteLength(),j=y.getPrivate().toArray("be",v),C=g.toArray("be",v),T=new o({hash:this.hash,entropy:j,nonce:C,pers:b.pers,persEnc:b.persEnc||"utf8"}),D=this.n.sub(new i(1)),q=0;;q++){var z=b.k?b.k(q):new i(T.generate(this.n.byteLength()));if(!((z=this._truncateToN(z,!0)).cmpn(1)<=0||z.cmp(D)>=0)){var B=this.g.mul(z);if(!B.isInfinity()){var V=B.getX(),X=V.umod(this.n);if(X.cmpn(0)!==0){var W=z.invm(this.n).mul(X.mul(y.getPrivate()).iadd(g));if((W=W.umod(this.n)).cmpn(0)!==0){var P=(B.getY().isOdd()?1:0)|(V.cmp(X)!==0?2:0);return b.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),P^=1),new h({r:X,s:W,recoveryParam:P})}}}}}},m.prototype.verify=function(g,y,p,b){g=this._truncateToN(new i(g,16)),p=this.keyFromPublic(p,b);var v=(y=new h(y,"hex")).r,j=y.s;if(v.cmpn(1)<0||v.cmp(this.n)>=0||j.cmpn(1)<0||j.cmp(this.n)>=0)return!1;var C,T=j.invm(this.n),D=T.mul(g).umod(this.n),q=T.mul(v).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(D,p.getPublic(),q)).isInfinity()&&C.eqXToP(v):!(C=this.g.mulAdd(D,p.getPublic(),q)).isInfinity()&&C.getX().umod(this.n).cmp(v)===0},m.prototype.recoverPubKey=function(g,y,p,b){u((3&p)===p,"The recovery param is more than two bits"),y=new h(y,b);var v=this.n,j=new i(g),C=y.r,T=y.s,D=1&p,q=p>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&q)throw new Error("Unable to find sencond key candinate");C=q?this.curve.pointFromX(C.add(this.curve.n),D):this.curve.pointFromX(C,D);var z=y.r.invm(v),B=v.sub(j).mul(z).umod(v),V=T.mul(z).umod(v);return this.g.mulAdd(B,C,V)},m.prototype.getKeyRecoveryParam=function(g,y,p,b){if((y=new h(y,b)).recoveryParam!==null)return y.recoveryParam;for(var v=0;v<4;v++){var j;try{j=this.recoverPubKey(g,y,v)}catch{continue}if(j.eq(p))return v}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,s,l){var i=t("bn.js"),o=t("../utils").assert;function d(c,a){this.ec=c,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}s.exports=d,d.fromPublic=function(c,a,u){return a instanceof d?a:new d(c,{pub:a,pubEnc:u})},d.fromPrivate=function(c,a,u){return a instanceof d?a:new d(c,{priv:a,privEnc:u})},d.prototype.validate=function(){var c=this.getPublic();return c.isInfinity()?{result:!1,reason:"Invalid public key"}:c.validate()?c.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},d.prototype.getPublic=function(c,a){return typeof c=="string"&&(a=c,c=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,c):this.pub},d.prototype.getPrivate=function(c){return c==="hex"?this.priv.toString(16,2):this.priv},d.prototype._importPrivate=function(c,a){this.priv=new i(c,a||16),this.priv=this.priv.umod(this.ec.curve.n)},d.prototype._importPublic=function(c,a){if(c.x||c.y)return this.ec.curve.type==="mont"?o(c.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(c.x&&c.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(c.x,c.y));this.pub=this.ec.curve.decodePoint(c,a)},d.prototype.derive=function(c){return c.validate()||o(c.validate(),"public point not validated"),c.mul(this.priv).getX()},d.prototype.sign=function(c,a,u){return this.ec.sign(c,this,a,u)},d.prototype.verify=function(c,a){return this.ec.verify(c,a,this)},d.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,s,l){var i=t("bn.js"),o=t("../utils"),d=o.assert;function c(m,g){if(m instanceof c)return m;this._importDER(m,g)||(d(m.r&&m.s,"Signature without r or s"),this.r=new i(m.r,16),this.s=new i(m.s,16),m.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=m.recoveryParam)}function a(){this.place=0}function u(m,g){var y=m[g.place++];if(!(128&y))return y;var p=15&y;if(p===0||p>4)return!1;for(var b=0,v=0,j=g.place;v<p;v++,j++)b<<=8,b|=m[j],b>>>=0;return!(b<=127)&&(g.place=j,b)}function f(m){for(var g=0,y=m.length-1;!m[g]&&!(128&m[g+1])&&g<y;)g++;return g===0?m:m.slice(g)}function h(m,g){if(g<128)m.push(g);else{var y=1+(Math.log(g)/Math.LN2>>>3);for(m.push(128|y);--y;)m.push(g>>>(y<<3)&255);m.push(g)}}s.exports=c,c.prototype._importDER=function(m,g){m=o.toArray(m,g);var y=new a;if(m[y.place++]!==48)return!1;var p=u(m,y);if(p===!1||p+y.place!==m.length||m[y.place++]!==2)return!1;var b=u(m,y);if(b===!1)return!1;var v=m.slice(y.place,b+y.place);if(y.place+=b,m[y.place++]!==2)return!1;var j=u(m,y);if(j===!1||m.length!==j+y.place)return!1;var C=m.slice(y.place,j+y.place);if(v[0]===0){if(!(128&v[1]))return!1;v=v.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new i(v),this.s=new i(C),this.recoveryParam=null,!0},c.prototype.toDER=function(m){var g=this.r.toArray(),y=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&y[0]&&(y=[0].concat(y)),g=f(g),y=f(y);!(y[0]||128&y[1]);)y=y.slice(1);var p=[2];h(p,g.length),(p=p.concat(g)).push(2),h(p,y.length);var b=p.concat(y),v=[48];return h(v,b.length),v=v.concat(b),o.encode(v,m)}},{"../utils":419,"bn.js":420}],415:[function(t,s,l){var i=t("hash.js"),o=t("../curves"),d=t("../utils"),c=d.assert,a=d.parseBytes,u=t("./key"),f=t("./signature");function h(m){if(c(m==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(m);m=o[m].curve,this.curve=m,this.g=m.g,this.g.precompute(m.n.bitLength()+1),this.pointClass=m.point().constructor,this.encodingLength=Math.ceil(m.n.bitLength()/8),this.hash=i.sha512}s.exports=h,h.prototype.sign=function(m,g){m=a(m);var y=this.keyFromSecret(g),p=this.hashInt(y.messagePrefix(),m),b=this.g.mul(p),v=this.encodePoint(b),j=this.hashInt(v,y.pubBytes(),m).mul(y.priv()),C=p.add(j).umod(this.curve.n);return this.makeSignature({R:b,S:C,Rencoded:v})},h.prototype.verify=function(m,g,y){m=a(m),g=this.makeSignature(g);var p=this.keyFromPublic(y),b=this.hashInt(g.Rencoded(),p.pubBytes(),m),v=this.g.mul(g.S());return g.R().add(p.pub().mul(b)).eq(v)},h.prototype.hashInt=function(){for(var m=this.hash(),g=0;g<arguments.length;g++)m.update(arguments[g]);return d.intFromLE(m.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(m){return u.fromPublic(this,m)},h.prototype.keyFromSecret=function(m){return u.fromSecret(this,m)},h.prototype.makeSignature=function(m){return m instanceof f?m:new f(this,m)},h.prototype.encodePoint=function(m){var g=m.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=m.getX().isOdd()?128:0,g},h.prototype.decodePoint=function(m){var g=(m=d.parseBytes(m)).length-1,y=m.slice(0,g).concat(-129&m[g]),p=(128&m[g])!=0,b=d.intFromLE(y);return this.curve.pointFromY(b,p)},h.prototype.encodeInt=function(m){return m.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(m){return d.intFromLE(m)},h.prototype.isPoint=function(m){return m instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,s,l){var i=t("../utils"),o=i.assert,d=i.parseBytes,c=i.cachedProperty;function a(u,f){this.eddsa=u,this._secret=d(f.secret),u.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=d(f.pub)}a.fromPublic=function(u,f){return f instanceof a?f:new a(u,{pub:f})},a.fromSecret=function(u,f){return f instanceof a?f:new a(u,{secret:f})},a.prototype.secret=function(){return this._secret},c(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),c(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),c(a,"privBytes",(function(){var u=this.eddsa,f=this.hash(),h=u.encodingLength-1,m=f.slice(0,u.encodingLength);return m[0]&=248,m[h]&=127,m[h]|=64,m})),c(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),c(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),c(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(u){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},a.prototype.verify=function(u,f){return this.eddsa.verify(u,f,this)},a.prototype.getSecret=function(u){return o(this._secret,"KeyPair is public only"),i.encode(this.secret(),u)},a.prototype.getPublic=function(u){return i.encode(this.pubBytes(),u)},s.exports=a},{"../utils":419}],417:[function(t,s,l){var i=t("bn.js"),o=t("../utils"),d=o.assert,c=o.cachedProperty,a=o.parseBytes;function u(f,h){this.eddsa=f,typeof h!="object"&&(h=a(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),d(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}c(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),c(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),c(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),c(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},s.exports=u},{"../utils":419,"bn.js":420}],418:[function(t,s,l){s.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,s,l){var i=l,o=t("bn.js"),d=t("minimalistic-assert"),c=t("minimalistic-crypto-utils");i.assert=d,i.toArray=c.toArray,i.zero2=c.zero2,i.toHex=c.toHex,i.encode=c.encode,i.getNAF=function(a,u,f){var h=new Array(Math.max(a.bitLength(),f)+1);h.fill(0);for(var m=1<<u+1,g=a.clone(),y=0;y<h.length;y++){var p,b=g.andln(m-1);g.isOdd()?(p=b>(m>>1)-1?(m>>1)-b:b,g.isubn(p)):p=0,h[y]=p,g.iushrn(1)}return h},i.getJSF=function(a,u){var f=[[],[]];a=a.clone(),u=u.clone();for(var h,m=0,g=0;a.cmpn(-m)>0||u.cmpn(-g)>0;){var y,p,b=a.andln(3)+m&3,v=u.andln(3)+g&3;b===3&&(b=-1),v===3&&(v=-1),y=(1&b)==0?0:(h=a.andln(7)+m&7)!==3&&h!==5||v!==2?b:-b,f[0].push(y),p=(1&v)==0?0:(h=u.andln(7)+g&7)!==3&&h!==5||b!==2?v:-v,f[1].push(p),2*m===y+1&&(m=1-m),2*g===p+1&&(g=1-g),a.iushrn(1),u.iushrn(1)}return f},i.cachedProperty=function(a,u,f){var h="_"+u;a.prototype[u]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},i.parseBytes=function(a){return typeof a=="string"?i.toArray(a,"hex"):a},i.intFromLE=function(a){return new o(a,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],421:[function(t,s,l){s.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,s,l){var i=Object.create||function(z){var B=function(){};return B.prototype=z,new B},o=Object.keys||function(z){var B=[];for(var V in z)Object.prototype.hasOwnProperty.call(z,V)&&B.push(V);return V},d=Function.prototype.bind||function(z){var B=this;return function(){return B.apply(z,arguments)}};function c(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}s.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0;var a,u=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),a=f.x===0}catch{a=!1}function h(z){return z._maxListeners===void 0?c.defaultMaxListeners:z._maxListeners}function m(z,B,V){if(B)z.call(V);else for(var X=z.length,W=q(z,X),P=0;P<X;++P)W[P].call(V)}function g(z,B,V,X){if(B)z.call(V,X);else for(var W=z.length,P=q(z,W),M=0;M<W;++M)P[M].call(V,X)}function y(z,B,V,X,W){if(B)z.call(V,X,W);else for(var P=z.length,M=q(z,P),E=0;E<P;++E)M[E].call(V,X,W)}function p(z,B,V,X,W,P){if(B)z.call(V,X,W,P);else for(var M=z.length,E=q(z,M),_=0;_<M;++_)E[_].call(V,X,W,P)}function b(z,B,V,X){if(B)z.apply(V,X);else for(var W=z.length,P=q(z,W),M=0;M<W;++M)P[M].apply(V,X)}function v(z,B,V,X){var W,P,M;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((P=z._events)?(P.newListener&&(z.emit("newListener",B,V.listener?V.listener:V),P=z._events),M=P[B]):(P=z._events=i(null),z._eventsCount=0),M){if(typeof M=="function"?M=P[B]=X?[V,M]:[M,V]:X?M.unshift(V):M.push(V),!M.warned&&(W=h(z))&&W>0&&M.length>W){M.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+M.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=z,E.type=B,E.count=M.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else M=P[B]=V,++z._eventsCount;return z}function j(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var z=new Array(arguments.length),B=0;B<z.length;++B)z[B]=arguments[B];this.listener.apply(this.target,z)}}function C(z,B,V){var X={fired:!1,wrapFn:void 0,target:z,type:B,listener:V},W=d.call(j,X);return W.listener=V,X.wrapFn=W,W}function T(z,B,V){var X=z._events;if(!X)return[];var W=X[B];return W?typeof W=="function"?V?[W.listener||W]:[W]:V?(function(P){for(var M=new Array(P.length),E=0;E<M.length;++E)M[E]=P[E].listener||P[E];return M})(W):q(W,W.length):[]}function D(z){var B=this._events;if(B){var V=B[z];if(typeof V=="function")return 1;if(V)return V.length}return 0}function q(z,B){for(var V=new Array(B),X=0;X<B;++X)V[X]=z[X];return V}a?Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(z){if(typeof z!="number"||z<0||z!=z)throw new TypeError('"defaultMaxListeners" must be a positive number');u=z}}):c.defaultMaxListeners=u,c.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this},c.prototype.getMaxListeners=function(){return h(this)},c.prototype.emit=function(z){var B,V,X,W,P,M,E=z==="error";if(M=this._events)E=E&&M.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&(B=arguments[1]),B instanceof Error)throw B;var _=new Error('Unhandled "error" event. ('+B+")");throw _.context=B,_}if(!(V=M[z]))return!1;var k=typeof V=="function";switch(X=arguments.length){case 1:m(V,k,this);break;case 2:g(V,k,this,arguments[1]);break;case 3:y(V,k,this,arguments[1],arguments[2]);break;case 4:p(V,k,this,arguments[1],arguments[2],arguments[3]);break;default:for(W=new Array(X-1),P=1;P<X;P++)W[P-1]=arguments[P];b(V,k,this,W)}return!0},c.prototype.addListener=function(z,B){return v(this,z,B,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(z,B){return v(this,z,B,!0)},c.prototype.once=function(z,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.on(z,C(this,z,B)),this},c.prototype.prependOnceListener=function(z,B){if(typeof B!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(z,C(this,z,B)),this},c.prototype.removeListener=function(z,B){var V,X,W,P,M;if(typeof B!="function")throw new TypeError('"listener" argument must be a function');if(!(X=this._events))return this;if(!(V=X[z]))return this;if(V===B||V.listener===B)--this._eventsCount==0?this._events=i(null):(delete X[z],X.removeListener&&this.emit("removeListener",z,V.listener||B));else if(typeof V!="function"){for(W=-1,P=V.length-1;P>=0;P--)if(V[P]===B||V[P].listener===B){M=V[P].listener,W=P;break}if(W<0)return this;W===0?V.shift():(function(E,_){for(var k=_,N=k+1,S=E.length;N<S;k+=1,N+=1)E[k]=E[N];E.pop()})(V,W),V.length===1&&(X[z]=V[0]),X.removeListener&&this.emit("removeListener",z,M||B)}return this},c.prototype.removeAllListeners=function(z){var B,V,X;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):V[z]&&(--this._eventsCount==0?this._events=i(null):delete V[z]),this;if(arguments.length===0){var W,P=o(V);for(X=0;X<P.length;++X)(W=P[X])!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(B=V[z])=="function")this.removeListener(z,B);else if(B)for(X=B.length-1;X>=0;X--)this.removeListener(z,B[X]);return this},c.prototype.listeners=function(z){return T(this,z,!0)},c.prototype.rawListeners=function(z){return T(this,z,!1)},c.listenerCount=function(z,B){return typeof z.listenerCount=="function"?z.listenerCount(B):D.call(z,B)},c.prototype.listenerCount=D,c.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("md5.js");s.exports=function(d,c,a,u){if(i.isBuffer(d)||(d=i.from(d,"binary")),c&&(i.isBuffer(c)||(c=i.from(c,"binary")),c.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=a/8,h=i.alloc(f),m=i.alloc(u||0),g=i.alloc(0);f>0||u>0;){var y=new o;y.update(g),y.update(d),c&&y.update(c),g=y.digest();var p=0;if(f>0){var b=h.length-f;p=Math.min(f,g.length),g.copy(h,b,0,p),f-=p}if(p<g.length&&u>0){var v=m.length-u,j=Math.min(u,g.length-p);g.copy(m,v,p,p+j),u-=j}}return g.fill(0),{key:h,iv:m}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=l.ParserOptions=l.parseFile=l.parseStream=l.parseString=l.parse=l.FormatterOptions=l.CsvFormatterStream=l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=void 0;var i=t("@fast-csv/format");Object.defineProperty(l,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(l,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(l,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(l,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(l,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(l,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var o=t("@fast-csv/parse");Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(l,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(l,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(l,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("readable-stream").Transform;function d(c){o.call(this),this._block=i.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(d,o),d.prototype._transform=function(c,a,u){var f=null;try{this.update(c,a)}catch(h){f=h}u(f)},d.prototype._flush=function(c){var a=null;try{this.push(this.digest())}catch(u){a=u}c(a)},d.prototype.update=function(c,a){if((function(y,p){if(!i.isBuffer(y)&&typeof y!="string")throw new TypeError(p+" must be a string or a buffer")})(c,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(c)||(c=i.from(c,a));for(var u=this._block,f=0;this._blockOffset+c.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)u[h++]=c[f++];this._update(),this._blockOffset=0}for(;f<c.length;)u[this._blockOffset++]=c[f++];for(var m=0,g=8*c.length;g>0;++m)this._length[m]+=g,(g=this._length[m]/4294967296|0)>0&&(this._length[m]-=4294967296*g);return this},d.prototype._update=function(){throw new Error("_update is not implemented")},d.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var a=this._digest();c!==void 0&&(a=a.toString(c)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return a},d.prototype._digest=function(){throw new Error("_digest is not implemented")},s.exports=d},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,s,l){var i=l;i.utils=t("./hash/utils"),i.common=t("./hash/common"),i.sha=t("./hash/sha"),i.ripemd=t("./hash/ripemd"),i.hmac=t("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,s,l){var i=t("./utils"),o=t("minimalistic-assert");function d(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=d,d.prototype.update=function(c,a){if(c=i.toArray(c,a),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){var u=(c=this.pending).length%this._delta8;this.pending=c.slice(c.length-u,c.length),this.pending.length===0&&(this.pending=null),c=i.join32(c,0,c.length-u,this.endian);for(var f=0;f<c.length;f+=this._delta32)this._update(c,f,f+this._delta32)}return this},d.prototype.digest=function(c){return this.update(this._pad()),o(this.pending===null),this._digest(c)},d.prototype._pad=function(){var c=this.pendingTotal,a=this._delta8,u=a-(c+this.padLength)%a,f=new Array(u+this.padLength);f[0]=128;for(var h=1;h<u;h++)f[h]=0;if(c<<=3,this.endian==="big"){for(var m=8;m<this.padLength;m++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=c>>>24&255,f[h++]=c>>>16&255,f[h++]=c>>>8&255,f[h++]=255&c}else for(f[h++]=255&c,f[h++]=c>>>8&255,f[h++]=c>>>16&255,f[h++]=c>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,m=8;m<this.padLength;m++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,s,l){var i=t("./utils"),o=t("minimalistic-assert");function d(c,a,u){if(!(this instanceof d))return new d(c,a,u);this.Hash=c,this.blockSize=c.blockSize/8,this.outSize=c.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(a,u))}s.exports=d,d.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),o(c.length<=this.blockSize);for(var a=c.length;a<this.blockSize;a++)c.push(0);for(a=0;a<c.length;a++)c[a]^=54;for(this.inner=new this.Hash().update(c),a=0;a<c.length;a++)c[a]^=106;this.outer=new this.Hash().update(c)},d.prototype.update=function(c,a){return this.inner.update(c,a),this},d.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,s,l){var i=t("./utils"),o=t("./common"),d=i.rotl32,c=i.sum32,a=i.sum32_3,u=i.sum32_4,f=o.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function m(C,T,D,q){return C<=15?T^D^q:C<=31?T&D|~T&q:C<=47?(T|~D)^q:C<=63?T&q|D&~q:T^(D|~q)}function g(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function y(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}i.inherits(h,f),l.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(C,T){for(var D=this.h[0],q=this.h[1],z=this.h[2],B=this.h[3],V=this.h[4],X=D,W=q,P=z,M=B,E=V,_=0;_<80;_++){var k=c(d(u(D,m(_,q,z,B),C[p[_]+T],g(_)),v[_]),V);D=V,V=B,B=d(z,10),z=q,q=k,k=c(d(u(X,m(79-_,W,P,M),C[b[_]+T],y(_)),j[_]),E),X=E,E=M,M=d(P,10),P=W,W=k}k=a(this.h[1],z,M),this.h[1]=a(this.h[2],B,E),this.h[2]=a(this.h[3],V,X),this.h[3]=a(this.h[4],D,W),this.h[4]=a(this.h[0],q,P),this.h[0]=k},h.prototype._digest=function(C){return C==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],j=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,s,l){l.sha1=t("./sha/1"),l.sha224=t("./sha/224"),l.sha256=t("./sha/256"),l.sha384=t("./sha/384"),l.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,s,l){var i=t("../utils"),o=t("../common"),d=t("./common"),c=i.rotl32,a=i.sum32,u=i.sum32_5,f=d.ft_1,h=o.BlockHash,m=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(g,h),s.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(y,p){for(var b=this.W,v=0;v<16;v++)b[v]=y[p+v];for(;v<b.length;v++)b[v]=c(b[v-3]^b[v-8]^b[v-14]^b[v-16],1);var j=this.h[0],C=this.h[1],T=this.h[2],D=this.h[3],q=this.h[4];for(v=0;v<b.length;v++){var z=~~(v/20),B=u(c(j,5),f(z,C,T,D),q,b[v],m[z]);q=D,D=T,T=c(C,30),C=j,j=B}this.h[0]=a(this.h[0],j),this.h[1]=a(this.h[1],C),this.h[2]=a(this.h[2],T),this.h[3]=a(this.h[3],D),this.h[4]=a(this.h[4],q)},g.prototype._digest=function(y){return y==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,s,l){var i=t("../utils"),o=t("./256");function d(){if(!(this instanceof d))return new d;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(d,o),s.exports=d,d.blockSize=512,d.outSize=224,d.hmacStrength=192,d.padLength=64,d.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,s,l){var i=t("../utils"),o=t("../common"),d=t("./common"),c=t("minimalistic-assert"),a=i.sum32,u=i.sum32_4,f=i.sum32_5,h=d.ch32,m=d.maj32,g=d.s0_256,y=d.s1_256,p=d.g0_256,b=d.g1_256,v=o.BlockHash,j=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=j,this.W=new Array(64)}i.inherits(C,v),s.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(T,D){for(var q=this.W,z=0;z<16;z++)q[z]=T[D+z];for(;z<q.length;z++)q[z]=u(b(q[z-2]),q[z-7],p(q[z-15]),q[z-16]);var B=this.h[0],V=this.h[1],X=this.h[2],W=this.h[3],P=this.h[4],M=this.h[5],E=this.h[6],_=this.h[7];for(c(this.k.length===q.length),z=0;z<q.length;z++){var k=f(_,y(P),h(P,M,E),this.k[z],q[z]),N=a(g(B),m(B,V,X));_=E,E=M,M=P,P=a(W,k),W=X,X=V,V=B,B=a(k,N)}this.h[0]=a(this.h[0],B),this.h[1]=a(this.h[1],V),this.h[2]=a(this.h[2],X),this.h[3]=a(this.h[3],W),this.h[4]=a(this.h[4],P),this.h[5]=a(this.h[5],M),this.h[6]=a(this.h[6],E),this.h[7]=a(this.h[7],_)},C.prototype._digest=function(T){return T==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,s,l){var i=t("../utils"),o=t("./512");function d(){if(!(this instanceof d))return new d;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(d,o),s.exports=d,d.blockSize=1024,d.outSize=384,d.hmacStrength=192,d.padLength=128,d.prototype._digest=function(c){return c==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,s,l){var i=t("../utils"),o=t("../common"),d=t("minimalistic-assert"),c=i.rotr64_hi,a=i.rotr64_lo,u=i.shr64_hi,f=i.shr64_lo,h=i.sum64,m=i.sum64_hi,g=i.sum64_lo,y=i.sum64_4_hi,p=i.sum64_4_lo,b=i.sum64_5_hi,v=i.sum64_5_lo,j=o.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;j.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function D(N,S,O,L,I){var G=N&O^~N&I;return G<0&&(G+=4294967296),G}function q(N,S,O,L,I,G){var Y=S&L^~S&G;return Y<0&&(Y+=4294967296),Y}function z(N,S,O,L,I){var G=N&O^N&I^O&I;return G<0&&(G+=4294967296),G}function B(N,S,O,L,I,G){var Y=S&L^S&G^L&G;return Y<0&&(Y+=4294967296),Y}function V(N,S){var O=c(N,S,28)^c(S,N,2)^c(S,N,7);return O<0&&(O+=4294967296),O}function X(N,S){var O=a(N,S,28)^a(S,N,2)^a(S,N,7);return O<0&&(O+=4294967296),O}function W(N,S){var O=c(N,S,14)^c(N,S,18)^c(S,N,9);return O<0&&(O+=4294967296),O}function P(N,S){var O=a(N,S,14)^a(N,S,18)^a(S,N,9);return O<0&&(O+=4294967296),O}function M(N,S){var O=c(N,S,1)^c(N,S,8)^u(N,S,7);return O<0&&(O+=4294967296),O}function E(N,S){var O=a(N,S,1)^a(N,S,8)^f(N,S,7);return O<0&&(O+=4294967296),O}function _(N,S){var O=c(N,S,19)^c(S,N,29)^u(N,S,6);return O<0&&(O+=4294967296),O}function k(N,S){var O=a(N,S,19)^a(S,N,29)^f(N,S,6);return O<0&&(O+=4294967296),O}i.inherits(T,j),s.exports=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(N,S){for(var O=this.W,L=0;L<32;L++)O[L]=N[S+L];for(;L<O.length;L+=2){var I=_(O[L-4],O[L-3]),G=k(O[L-4],O[L-3]),Y=O[L-14],te=O[L-13],U=M(O[L-30],O[L-29]),J=E(O[L-30],O[L-29]),$=O[L-32],R=O[L-31];O[L]=y(I,G,Y,te,U,J,$,R),O[L+1]=p(I,G,Y,te,U,J,$,R)}},T.prototype._update=function(N,S){this._prepareBlock(N,S);var O=this.W,L=this.h[0],I=this.h[1],G=this.h[2],Y=this.h[3],te=this.h[4],U=this.h[5],J=this.h[6],$=this.h[7],R=this.h[8],K=this.h[9],ee=this.h[10],se=this.h[11],ie=this.h[12],ae=this.h[13],re=this.h[14],le=this.h[15];d(this.k.length===O.length);for(var ne=0;ne<O.length;ne+=2){var fe=re,ue=le,xe=W(R,K),ge=P(R,K),be=D(R,K,ee,se,ie),ke=q(R,K,ee,se,ie,ae),Ee=this.k[ne],ze=this.k[ne+1],Fe=O[ne],de=O[ne+1],ce=b(fe,ue,xe,ge,be,ke,Ee,ze,Fe,de),je=v(fe,ue,xe,ge,be,ke,Ee,ze,Fe,de);fe=V(L,I),ue=X(L,I),xe=z(L,I,G,Y,te),ge=B(L,I,G,Y,te,U);var Ce=m(fe,ue,xe,ge),Ue=g(fe,ue,xe,ge);re=ie,le=ae,ie=ee,ae=se,ee=R,se=K,R=m(J,$,ce,je),K=g($,$,ce,je),J=te,$=U,te=G,U=Y,G=L,Y=I,L=m(ce,je,Ce,Ue),I=g(ce,je,Ce,Ue)}h(this.h,0,L,I),h(this.h,2,G,Y),h(this.h,4,te,U),h(this.h,6,J,$),h(this.h,8,R,K),h(this.h,10,ee,se),h(this.h,12,ie,ae),h(this.h,14,re,le)},T.prototype._digest=function(N){return N==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,s,l){var i=t("../utils").rotr32;function o(a,u,f){return a&u^~a&f}function d(a,u,f){return a&u^a&f^u&f}function c(a,u,f){return a^u^f}l.ft_1=function(a,u,f,h){return a===0?o(u,f,h):a===1||a===3?c(u,f,h):a===2?d(u,f,h):void 0},l.ch32=o,l.maj32=d,l.p32=c,l.s0_256=function(a){return i(a,2)^i(a,13)^i(a,22)},l.s1_256=function(a){return i(a,6)^i(a,11)^i(a,25)},l.g0_256=function(a){return i(a,7)^i(a,18)^a>>>3},l.g1_256=function(a){return i(a,17)^i(a,19)^a>>>10}},{"../utils":437}],437:[function(t,s,l){var i=t("minimalistic-assert"),o=t("inherits");function d(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function c(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function a(f){return f.length===1?"0"+f:f}function u(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}l.inherits=o,l.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var m=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),y=0;y<f.length;y+=2)m.push(parseInt(f[y]+f[y+1],16))}else for(var g=0,y=0;y<f.length;y++){var p=f.charCodeAt(y);p<128?m[g++]=p:p<2048?(m[g++]=p>>6|192,m[g++]=63&p|128):d(f,y)?(p=65536+((1023&p)<<10)+(1023&f.charCodeAt(++y)),m[g++]=p>>18|240,m[g++]=p>>12&63|128,m[g++]=p>>6&63|128,m[g++]=63&p|128):(m[g++]=p>>12|224,m[g++]=p>>6&63|128,m[g++]=63&p|128)}else for(y=0;y<f.length;y++)m[y]=0|f[y];return m},l.toHex=function(f){for(var h="",m=0;m<f.length;m++)h+=a(f[m].toString(16));return h},l.htonl=c,l.toHex32=function(f,h){for(var m="",g=0;g<f.length;g++){var y=f[g];h==="little"&&(y=c(y)),m+=u(y.toString(16))}return m},l.zero2=a,l.zero8=u,l.join32=function(f,h,m,g){var y=m-h;i(y%4==0);for(var p=new Array(y/4),b=0,v=h;b<p.length;b++,v+=4){var j;j=g==="big"?f[v]<<24|f[v+1]<<16|f[v+2]<<8|f[v+3]:f[v+3]<<24|f[v+2]<<16|f[v+1]<<8|f[v],p[b]=j>>>0}return p},l.split32=function(f,h){for(var m=new Array(4*f.length),g=0,y=0;g<f.length;g++,y+=4){var p=f[g];h==="big"?(m[y]=p>>>24,m[y+1]=p>>>16&255,m[y+2]=p>>>8&255,m[y+3]=255&p):(m[y+3]=p>>>24,m[y+2]=p>>>16&255,m[y+1]=p>>>8&255,m[y]=255&p)}return m},l.rotr32=function(f,h){return f>>>h|f<<32-h},l.rotl32=function(f,h){return f<<h|f>>>32-h},l.sum32=function(f,h){return f+h>>>0},l.sum32_3=function(f,h,m){return f+h+m>>>0},l.sum32_4=function(f,h,m,g){return f+h+m+g>>>0},l.sum32_5=function(f,h,m,g,y){return f+h+m+g+y>>>0},l.sum64=function(f,h,m,g){var y=f[h],p=g+f[h+1]>>>0,b=(p<g?1:0)+m+y;f[h]=b>>>0,f[h+1]=p},l.sum64_hi=function(f,h,m,g){return(h+g>>>0<h?1:0)+f+m>>>0},l.sum64_lo=function(f,h,m,g){return h+g>>>0},l.sum64_4_hi=function(f,h,m,g,y,p,b,v){var j=0,C=h;return j+=(C=C+g>>>0)<h?1:0,j+=(C=C+p>>>0)<p?1:0,f+m+y+b+(j+=(C=C+v>>>0)<v?1:0)>>>0},l.sum64_4_lo=function(f,h,m,g,y,p,b,v){return h+g+p+v>>>0},l.sum64_5_hi=function(f,h,m,g,y,p,b,v,j,C){var T=0,D=h;return T+=(D=D+g>>>0)<h?1:0,T+=(D=D+p>>>0)<p?1:0,T+=(D=D+v>>>0)<v?1:0,f+m+y+b+j+(T+=(D=D+C>>>0)<C?1:0)>>>0},l.sum64_5_lo=function(f,h,m,g,y,p,b,v,j,C){return h+g+p+v+C>>>0},l.rotr64_hi=function(f,h,m){return(h<<32-m|f>>>m)>>>0},l.rotr64_lo=function(f,h,m){return(f<<32-m|h>>>m)>>>0},l.shr64_hi=function(f,h,m){return f>>>m},l.shr64_lo=function(f,h,m){return(f<<32-m|h>>>m)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,s,l){var i=t("hash.js"),o=t("minimalistic-crypto-utils"),d=t("minimalistic-assert");function c(a){if(!(this instanceof c))return new c(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=o.toArray(a.entropy,a.entropyEnc||"hex"),f=o.toArray(a.nonce,a.nonceEnc||"hex"),h=o.toArray(a.pers,a.persEnc||"hex");d(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,f,h)}s.exports=c,c.prototype._init=function(a,u,f){var h=a.concat(u).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var m=0;m<this.V.length;m++)this.K[m]=0,this.V[m]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},c.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},c.prototype._update=function(a){var u=this._hmac().update(this.V).update([0]);a&&(u=u.update(a)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())},c.prototype.reseed=function(a,u,f,h){typeof u!="string"&&(h=f,f=u,u=null),a=o.toArray(a,u),f=o.toArray(f,h),d(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(f||[])),this._reseed=1},c.prototype.generate=function(a,u,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(h=f,f=u,u=null),f&&(f=o.toArray(f,h||"hex"),this._update(f));for(var m=[];m.length<a;)this.V=this._hmac().update(this.V).digest(),m=m.concat(this.V);var g=m.slice(0,a);return this._update(f),this._reseed++,o.encode(g,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,s,l){l.read=function(i,o,d,c,a){var u,f,h=8*a-c-1,m=(1<<h)-1,g=m>>1,y=-7,p=d?a-1:0,b=d?-1:1,v=i[o+p];for(p+=b,u=v&(1<<-y)-1,v>>=-y,y+=h;y>0;u=256*u+i[o+p],p+=b,y-=8);for(f=u&(1<<-y)-1,u>>=-y,y+=c;y>0;f=256*f+i[o+p],p+=b,y-=8);if(u===0)u=1-g;else{if(u===m)return f?NaN:1/0*(v?-1:1);f+=Math.pow(2,c),u-=g}return(v?-1:1)*f*Math.pow(2,u-c)},l.write=function(i,o,d,c,a,u){var f,h,m,g=8*u-a-1,y=(1<<g)-1,p=y>>1,b=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:u-1,j=c?1:-1,C=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(h=isNaN(o)?1:0,f=y):(f=Math.floor(Math.log(o)/Math.LN2),o*(m=Math.pow(2,-f))<1&&(f--,m*=2),(o+=f+p>=1?b/m:b*Math.pow(2,1-p))*m>=2&&(f++,m/=2),f+p>=y?(h=0,f=y):f+p>=1?(h=(o*m-1)*Math.pow(2,a),f+=p):(h=o*Math.pow(2,p-1)*Math.pow(2,a),f=0));a>=8;i[d+v]=255&h,v+=j,h/=256,a-=8);for(f=f<<a|h,g+=a;g>0;i[d+v]=255&f,v+=j,f/=256,g-=8);i[d+v-j]|=128*C}},{}],440:[function(t,s,l){typeof Object.create=="function"?s.exports=function(i,o){o&&(i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:s.exports=function(i,o){if(o){i.super_=o;var d=function(){};d.prototype=o.prototype,i.prototype=new d,i.prototype.constructor=i}}},{}],441:[function(t,s,l){(function(i,o,d,c,a,u,f,h){(function(){(function(m){typeof l=="object"&&s!==void 0?s.exports=m():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=m()})((function(){return(function m(g,y,p){function b(C,T){if(!y[C]){if(!g[C]){var D=typeof t=="function"&&t;if(!T&&D)return D(C,!0);if(v)return v(C,!0);var q=new Error("Cannot find module '"+C+"'");throw q.code="MODULE_NOT_FOUND",q}var z=y[C]={exports:{}};g[C][0].call(z.exports,(function(B){return b(g[C][1][B]||B)}),z,z.exports,m,g,y,p)}return y[C].exports}for(var v=typeof t=="function"&&t,j=0;j<p.length;j++)b(p[j]);return b})({1:[function(m,g,y){var p=m("./utils"),b=m("./support"),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";y.encode=function(j){for(var C,T,D,q,z,B,V,X=[],W=0,P=j.length,M=P,E=p.getTypeOf(j)!=="string";W<j.length;)M=P-W,D=E?(C=j[W++],T=W<P?j[W++]:0,W<P?j[W++]:0):(C=j.charCodeAt(W++),T=W<P?j.charCodeAt(W++):0,W<P?j.charCodeAt(W++):0),q=C>>2,z=(3&C)<<4|T>>4,B=1<M?(15&T)<<2|D>>6:64,V=2<M?63&D:64,X.push(v.charAt(q)+v.charAt(z)+v.charAt(B)+v.charAt(V));return X.join("")},y.decode=function(j){var C,T,D,q,z,B,V=0,X=0,W="data:";if(j.substr(0,W.length)===W)throw new Error("Invalid base64 input, it looks like a data url.");var P,M=3*(j=j.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(j.charAt(j.length-1)===v.charAt(64)&&M--,j.charAt(j.length-2)===v.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=b.uint8array?new Uint8Array(0|M):new Array(0|M);V<j.length;)C=v.indexOf(j.charAt(V++))<<2|(q=v.indexOf(j.charAt(V++)))>>4,T=(15&q)<<4|(z=v.indexOf(j.charAt(V++)))>>2,D=(3&z)<<6|(B=v.indexOf(j.charAt(V++))),P[X++]=C,z!==64&&(P[X++]=T),B!==64&&(P[X++]=D);return P}},{"./support":30,"./utils":32}],2:[function(m,g,y){var p=m("./external"),b=m("./stream/DataWorker"),v=m("./stream/Crc32Probe"),j=m("./stream/DataLengthProbe");function C(T,D,q,z,B){this.compressedSize=T,this.uncompressedSize=D,this.crc32=q,this.compression=z,this.compressedContent=B}C.prototype={getContentWorker:function(){var T=new b(p.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new j("data_length")),D=this;return T.on("end",(function(){if(this.streamInfo.data_length!==D.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),T},getCompressedWorker:function(){return new b(p.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(T,D,q){return T.pipe(new v).pipe(new j("uncompressedSize")).pipe(D.compressWorker(q)).pipe(new j("compressedSize")).withStreamInfo("compression",D)},g.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(m,g,y){var p=m("./stream/GenericWorker");y.STORE={magic:"\0\0",compressWorker:function(){return new p("STORE compression")},uncompressWorker:function(){return new p("STORE decompression")}},y.DEFLATE=m("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(m,g,y){var p=m("./utils"),b=(function(){for(var v,j=[],C=0;C<256;C++){v=C;for(var T=0;T<8;T++)v=1&v?3988292384^v>>>1:v>>>1;j[C]=v}return j})();g.exports=function(v,j){return v!==void 0&&v.length?p.getTypeOf(v)!=="string"?(function(C,T,D,q){var z=b,B=0+D;C^=-1;for(var V=0;V<B;V++)C=C>>>8^z[255&(C^T[V])];return-1^C})(0|j,v,v.length):(function(C,T,D,q){var z=b,B=0+D;C^=-1;for(var V=0;V<B;V++)C=C>>>8^z[255&(C^T.charCodeAt(V))];return-1^C})(0|j,v,v.length):0}},{"./utils":32}],5:[function(m,g,y){y.base64=!1,y.binary=!1,y.dir=!1,y.createFolders=!0,y.date=null,y.compression=null,y.compressionOptions=null,y.comment=null,y.unixPermissions=null,y.dosPermissions=null},{}],6:[function(m,g,y){var p;p=typeof Promise<"u"?Promise:m("lie"),g.exports={Promise:p}},{lie:37}],7:[function(m,g,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=m("pako"),v=m("./utils"),j=m("./stream/GenericWorker"),C=p?"uint8array":"array";function T(D,q){j.call(this,"FlateWorker/"+D),this._pako=null,this._pakoAction=D,this._pakoOptions=q,this.meta={}}y.magic="\b\0",v.inherits(T,j),T.prototype.processChunk=function(D){this.meta=D.meta,this._pako===null&&this._createPako(),this._pako.push(v.transformTo(C,D.data),!1)},T.prototype.flush=function(){j.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){j.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var D=this;this._pako.onData=function(q){D.push({data:q,meta:D.meta})}},y.compressWorker=function(D){return new T("Deflate",D)},y.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(m,g,y){function p(z,B){var V,X="";for(V=0;V<B;V++)X+=String.fromCharCode(255&z),z>>>=8;return X}function b(z,B,V,X,W,P){var M,E,_=z.file,k=z.compression,N=P!==C.utf8encode,S=v.transformTo("string",P(_.name)),O=v.transformTo("string",C.utf8encode(_.name)),L=_.comment,I=v.transformTo("string",P(L)),G=v.transformTo("string",C.utf8encode(L)),Y=O.length!==_.name.length,te=G.length!==L.length,U="",J="",$="",R=_.dir,K=_.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};B&&!V||(ee.crc32=z.crc32,ee.compressedSize=z.compressedSize,ee.uncompressedSize=z.uncompressedSize);var se=0;B&&(se|=8),N||!Y&&!te||(se|=2048);var ie=0,ae=0;R&&(ie|=16),W==="UNIX"?(ae=798,ie|=(function(le,ne){var fe=le;return le||(fe=ne?16893:33204),(65535&fe)<<16})(_.unixPermissions,R)):(ae=20,ie|=(function(le){return 63&(le||0)})(_.dosPermissions)),M=K.getUTCHours(),M<<=6,M|=K.getUTCMinutes(),M<<=5,M|=K.getUTCSeconds()/2,E=K.getUTCFullYear()-1980,E<<=4,E|=K.getUTCMonth()+1,E<<=5,E|=K.getUTCDate(),Y&&(J=p(1,1)+p(T(S),4)+O,U+="up"+p(J.length,2)+J),te&&($=p(1,1)+p(T(I),4)+G,U+="uc"+p($.length,2)+$);var re="";return re+=`
\0`,re+=p(se,2),re+=k.magic,re+=p(M,2),re+=p(E,2),re+=p(ee.crc32,4),re+=p(ee.compressedSize,4),re+=p(ee.uncompressedSize,4),re+=p(S.length,2),re+=p(U.length,2),{fileRecord:D.LOCAL_FILE_HEADER+re+S+U,dirRecord:D.CENTRAL_FILE_HEADER+p(ae,2)+re+p(I.length,2)+"\0\0\0\0"+p(ie,4)+p(X,4)+S+U+I}}var v=m("../utils"),j=m("../stream/GenericWorker"),C=m("../utf8"),T=m("../crc32"),D=m("../signature");function q(z,B,V,X){j.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=B,this.zipPlatform=V,this.encodeFileName=X,this.streamFiles=z,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}v.inherits(q,j),q.prototype.push=function(z){var B=z.meta.percent||0,V=this.entriesCount,X=this._sources.length;this.accumulate?this.contentBuffer.push(z):(this.bytesWritten+=z.data.length,j.prototype.push.call(this,{data:z.data,meta:{currentFile:this.currentFile,percent:V?(B+100*(V-X-1))/V:100}}))},q.prototype.openedSource=function(z){this.currentSourceOffset=this.bytesWritten,this.currentFile=z.file.name;var B=this.streamFiles&&!z.file.dir;if(B){var V=b(z,B,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},q.prototype.closedSource=function(z){this.accumulate=!1;var B=this.streamFiles&&!z.file.dir,V=b(z,B,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),B)this.push({data:(function(X){return D.DATA_DESCRIPTOR+p(X.crc32,4)+p(X.compressedSize,4)+p(X.uncompressedSize,4)})(z),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},q.prototype.flush=function(){for(var z=this.bytesWritten,B=0;B<this.dirRecords.length;B++)this.push({data:this.dirRecords[B],meta:{percent:100}});var V=this.bytesWritten-z,X=(function(W,P,M,E,_){var k=v.transformTo("string",_(E));return D.CENTRAL_DIRECTORY_END+"\0\0\0\0"+p(W,2)+p(W,2)+p(P,4)+p(M,4)+p(k.length,2)+k})(this.dirRecords.length,V,z,this.zipComment,this.encodeFileName);this.push({data:X,meta:{percent:100}})},q.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},q.prototype.registerPrevious=function(z){this._sources.push(z);var B=this;return z.on("data",(function(V){B.processChunk(V)})),z.on("end",(function(){B.closedSource(B.previous.streamInfo),B._sources.length?B.prepareNextSource():B.end()})),z.on("error",(function(V){B.error(V)})),this},q.prototype.resume=function(){return!!j.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},q.prototype.error=function(z){var B=this._sources;if(!j.prototype.error.call(this,z))return!1;for(var V=0;V<B.length;V++)try{B[V].error(z)}catch{}return!0},q.prototype.lock=function(){j.prototype.lock.call(this);for(var z=this._sources,B=0;B<z.length;B++)z[B].lock()},g.exports=q},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(m,g,y){var p=m("../compressions"),b=m("./ZipFileWorker");y.generateWorker=function(v,j,C){var T=new b(j.streamFiles,C,j.platform,j.encodeFileName),D=0;try{v.forEach((function(q,z){D++;var B=(function(P,M){var E=P||M,_=p[E];if(!_)throw new Error(E+" is not a valid compression method !");return _})(z.options.compression,j.compression),V=z.options.compressionOptions||j.compressionOptions||{},X=z.dir,W=z.date;z._compressWorker(B,V).withStreamInfo("file",{name:q,dir:X,date:W,comment:z.comment||"",unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions}).pipe(T)})),T.entriesCount=D}catch(q){T.error(q)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(m,g,y){function p(){if(!(this instanceof p))return new p;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new p;for(var v in this)typeof this[v]!="function"&&(b[v]=this[v]);return b}}(p.prototype=m("./object")).loadAsync=m("./load"),p.support=m("./support"),p.defaults=m("./defaults"),p.version="3.10.1",p.loadAsync=function(b,v){return new p().loadAsync(b,v)},p.external=m("./external"),g.exports=p},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(m,g,y){var p=m("./utils"),b=m("./external"),v=m("./utf8"),j=m("./zipEntries"),C=m("./stream/Crc32Probe"),T=m("./nodejsUtils");function D(q){return new b.Promise((function(z,B){var V=q.decompressed.getContentWorker().pipe(new C);V.on("error",(function(X){B(X)})).on("end",(function(){V.streamInfo.crc32!==q.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):z()})).resume()}))}g.exports=function(q,z){var B=this;return z=p.extend(z||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:v.utf8decode}),T.isNode&&T.isStream(q)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):p.prepareContent("the loaded zip file",q,!0,z.optimizedBinaryString,z.base64).then((function(V){var X=new j(z);return X.load(V),X})).then((function(V){var X=[b.Promise.resolve(V)],W=V.files;if(z.checkCRC32)for(var P=0;P<W.length;P++)X.push(D(W[P]));return b.Promise.all(X)})).then((function(V){for(var X=V.shift(),W=X.files,P=0;P<W.length;P++){var M=W[P],E=M.fileNameStr,_=p.resolve(M.fileNameStr);B.file(_,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:z.createFolders}),M.dir||(B.file(_).unsafeOriginalName=E)}return X.zipComment.length&&(B.comment=X.zipComment),B}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(m,g,y){var p=m("../utils"),b=m("../stream/GenericWorker");function v(j,C){b.call(this,"Nodejs stream input adapter for "+j),this._upstreamEnded=!1,this._bindStream(C)}p.inherits(v,b),v.prototype._bindStream=function(j){var C=this;(this._stream=j).pause(),j.on("data",(function(T){C.push({data:T,meta:{percent:0}})})).on("error",(function(T){C.isPaused?this.generatedError=T:C.error(T)})).on("end",(function(){C.isPaused?C._upstreamEnded=!0:C.end()}))},v.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},v.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=v},{"../stream/GenericWorker":28,"../utils":32}],13:[function(m,g,y){var p=m("readable-stream").Readable;function b(v,j,C){p.call(this,j),this._helper=v;var T=this;v.on("data",(function(D,q){T.push(D)||T._helper.pause(),C&&C(q)})).on("error",(function(D){T.emit("error",D)})).on("end",(function(){T.push(null)}))}m("../utils").inherits(b,p),b.prototype._read=function(){this._helper.resume()},g.exports=b},{"../utils":32,"readable-stream":16}],14:[function(m,g,y){g.exports={isNode:d!==void 0,newBufferFrom:function(p,b){if(d.from&&d.from!==Uint8Array.from)return d.from(p,b);if(typeof p=="number")throw new Error('The "data" argument must not be a number');return new d(p,b)},allocBuffer:function(p){if(d.alloc)return d.alloc(p);var b=new d(p);return b.fill(0),b},isBuffer:function(p){return d.isBuffer(p)},isStream:function(p){return p&&typeof p.on=="function"&&typeof p.pause=="function"&&typeof p.resume=="function"}}},{}],15:[function(m,g,y){function p(_,k,N){var S,O=v.getTypeOf(k),L=v.extend(N||{},T);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(_=W(_)),L.createFolders&&(S=X(_))&&P.call(this,S,!0);var I=O==="string"&&L.binary===!1&&L.base64===!1;N&&N.binary!==void 0||(L.binary=!I),(k instanceof D&&k.uncompressedSize===0||L.dir||!k||k.length===0)&&(L.base64=!1,L.binary=!0,k="",L.compression="STORE",O="string");var G;G=k instanceof D||k instanceof j?k:B.isNode&&B.isStream(k)?new V(_,k):v.prepareContent(_,k,L.binary,L.optimizedBinaryString,L.base64);var Y=new q(_,G,L);this.files[_]=Y}var b=m("./utf8"),v=m("./utils"),j=m("./stream/GenericWorker"),C=m("./stream/StreamHelper"),T=m("./defaults"),D=m("./compressedObject"),q=m("./zipObject"),z=m("./generate"),B=m("./nodejsUtils"),V=m("./nodejs/NodejsStreamInputAdapter"),X=function(_){_.slice(-1)==="/"&&(_=_.substring(0,_.length-1));var k=_.lastIndexOf("/");return 0<k?_.substring(0,k):""},W=function(_){return _.slice(-1)!=="/"&&(_+="/"),_},P=function(_,k){return k=k!==void 0?k:T.createFolders,_=W(_),this.files[_]||p.call(this,_,null,{dir:!0,createFolders:k}),this.files[_]};function M(_){return Object.prototype.toString.call(_)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(_){var k,N,S;for(k in this.files)S=this.files[k],(N=k.slice(this.root.length,k.length))&&k.slice(0,this.root.length)===this.root&&_(N,S)},filter:function(_){var k=[];return this.forEach((function(N,S){_(N,S)&&k.push(S)})),k},file:function(_,k,N){if(arguments.length!==1)return _=this.root+_,p.call(this,_,k,N),this;if(M(_)){var S=_;return this.filter((function(L,I){return!I.dir&&S.test(L)}))}var O=this.files[this.root+_];return O&&!O.dir?O:null},folder:function(_){if(!_)return this;if(M(_))return this.filter((function(O,L){return L.dir&&_.test(O)}));var k=this.root+_,N=P.call(this,k),S=this.clone();return S.root=N.name,S},remove:function(_){_=this.root+_;var k=this.files[_];if(k||(_.slice(-1)!=="/"&&(_+="/"),k=this.files[_]),k&&!k.dir)delete this.files[_];else for(var N=this.filter((function(O,L){return L.name.slice(0,_.length)===_})),S=0;S<N.length;S++)delete this.files[N[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(_){var k,N={};try{if((N=v.extend(_||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");v.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var S=N.comment||this.comment||"";k=z.generateWorker(this,N,S)}catch(O){(k=new j("error")).error(O)}return new C(k,N.type||"string",N.mimeType)},generateAsync:function(_,k){return this.generateInternalStream(_).accumulate(k)},generateNodeStream:function(_,k){return(_=_||{}).type||(_.type="nodebuffer"),this.generateInternalStream(_).toNodejsStream(k)}};g.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(m,g,y){g.exports=m("stream")},{stream:void 0}],17:[function(m,g,y){var p=m("./DataReader");function b(v){p.call(this,v);for(var j=0;j<this.data.length;j++)v[j]=255&v[j]}m("../utils").inherits(b,p),b.prototype.byteAt=function(v){return this.data[this.zero+v]},b.prototype.lastIndexOfSignature=function(v){for(var j=v.charCodeAt(0),C=v.charCodeAt(1),T=v.charCodeAt(2),D=v.charCodeAt(3),q=this.length-4;0<=q;--q)if(this.data[q]===j&&this.data[q+1]===C&&this.data[q+2]===T&&this.data[q+3]===D)return q-this.zero;return-1},b.prototype.readAndCheckSignature=function(v){var j=v.charCodeAt(0),C=v.charCodeAt(1),T=v.charCodeAt(2),D=v.charCodeAt(3),q=this.readData(4);return j===q[0]&&C===q[1]&&T===q[2]&&D===q[3]},b.prototype.readData=function(v){if(this.checkOffset(v),v===0)return[];var j=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},g.exports=b},{"../utils":32,"./DataReader":18}],18:[function(m,g,y){var p=m("../utils");function b(v){this.data=v,this.length=v.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(v){this.checkIndex(this.index+v)},checkIndex:function(v){if(this.length<this.zero+v||v<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+v+"). Corrupted zip ?")},setIndex:function(v){this.checkIndex(v),this.index=v},skip:function(v){this.setIndex(this.index+v)},byteAt:function(){},readInt:function(v){var j,C=0;for(this.checkOffset(v),j=this.index+v-1;j>=this.index;j--)C=(C<<8)+this.byteAt(j);return this.index+=v,C},readString:function(v){return p.transformTo("string",this.readData(v))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var v=this.readInt(4);return new Date(Date.UTC(1980+(v>>25&127),(v>>21&15)-1,v>>16&31,v>>11&31,v>>5&63,(31&v)<<1))}},g.exports=b},{"../utils":32}],19:[function(m,g,y){var p=m("./Uint8ArrayReader");function b(v){p.call(this,v)}m("../utils").inherits(b,p),b.prototype.readData=function(v){this.checkOffset(v);var j=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},g.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(m,g,y){var p=m("./DataReader");function b(v){p.call(this,v)}m("../utils").inherits(b,p),b.prototype.byteAt=function(v){return this.data.charCodeAt(this.zero+v)},b.prototype.lastIndexOfSignature=function(v){return this.data.lastIndexOf(v)-this.zero},b.prototype.readAndCheckSignature=function(v){return v===this.readData(4)},b.prototype.readData=function(v){this.checkOffset(v);var j=this.data.slice(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},g.exports=b},{"../utils":32,"./DataReader":18}],21:[function(m,g,y){var p=m("./ArrayReader");function b(v){p.call(this,v)}m("../utils").inherits(b,p),b.prototype.readData=function(v){if(this.checkOffset(v),v===0)return new Uint8Array(0);var j=this.data.subarray(this.zero+this.index,this.zero+this.index+v);return this.index+=v,j},g.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(m,g,y){var p=m("../utils"),b=m("../support"),v=m("./ArrayReader"),j=m("./StringReader"),C=m("./NodeBufferReader"),T=m("./Uint8ArrayReader");g.exports=function(D){var q=p.getTypeOf(D);return p.checkSupport(q),q!=="string"||b.uint8array?q==="nodebuffer"?new C(D):b.uint8array?new T(p.transformTo("uint8array",D)):new v(p.transformTo("array",D)):new j(D)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(m,g,y){y.LOCAL_FILE_HEADER="PK",y.CENTRAL_FILE_HEADER="PK",y.CENTRAL_DIRECTORY_END="PK",y.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",y.ZIP64_CENTRAL_DIRECTORY_END="PK",y.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(m,g,y){var p=m("./GenericWorker"),b=m("../utils");function v(j){p.call(this,"ConvertWorker to "+j),this.destType=j}b.inherits(v,p),v.prototype.processChunk=function(j){this.push({data:b.transformTo(this.destType,j.data),meta:j.meta})},g.exports=v},{"../utils":32,"./GenericWorker":28}],25:[function(m,g,y){var p=m("./GenericWorker"),b=m("../crc32");function v(){p.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}m("../utils").inherits(v,p),v.prototype.processChunk=function(j){this.streamInfo.crc32=b(j.data,this.streamInfo.crc32||0),this.push(j)},g.exports=v},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(m,g,y){var p=m("../utils"),b=m("./GenericWorker");function v(j){b.call(this,"DataLengthProbe for "+j),this.propName=j,this.withStreamInfo(j,0)}p.inherits(v,b),v.prototype.processChunk=function(j){if(j){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+j.data.length}b.prototype.processChunk.call(this,j)},g.exports=v},{"../utils":32,"./GenericWorker":28}],27:[function(m,g,y){var p=m("../utils"),b=m("./GenericWorker");function v(j){b.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,j.then((function(T){C.dataIsReady=!0,C.data=T,C.max=T&&T.length||0,C.type=p.getTypeOf(T),C.isPaused||C._tickAndRepeat()}),(function(T){C.error(T)}))}p.inherits(v,b),v.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},v.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,p.delay(this._tickAndRepeat,[],this)),!0)},v.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(p.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},v.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var j=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":j=this.data.substring(this.index,C);break;case"uint8array":j=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":j=this.data.slice(this.index,C)}return this.index=C,this.push({data:j,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=v},{"../utils":32,"./GenericWorker":28}],28:[function(m,g,y){function p(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}p.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,v){return this._listeners[b].push(v),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,v){if(this._listeners[b])for(var j=0;j<this._listeners[b].length;j++)this._listeners[b][j].call(this,v)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var v=this;return b.on("data",(function(j){v.processChunk(j)})),b.on("end",(function(){v.end()})),b.on("error",(function(j){v.error(j)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,v){return this.extraStreamInfo[b]=v,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},g.exports=p},{}],29:[function(m,g,y){var p=m("../utils"),b=m("./ConvertWorker"),v=m("./GenericWorker"),j=m("../base64"),C=m("../support"),T=m("../external"),D=null;if(C.nodestream)try{D=m("../nodejs/NodejsStreamOutputAdapter")}catch{}function q(z,B,V){var X=B;switch(B){case"blob":case"arraybuffer":X="uint8array";break;case"base64":X="string"}try{this._internalType=X,this._outputType=B,this._mimeType=V,p.checkSupport(X),this._worker=z.pipe(new b(X)),z.lock()}catch(W){this._worker=new v("error"),this._worker.error(W)}}q.prototype={accumulate:function(z){return(function(B,V){return new T.Promise((function(X,W){var P=[],M=B._internalType,E=B._outputType,_=B._mimeType;B.on("data",(function(k,N){P.push(k),V&&V(N)})).on("error",(function(k){P=[],W(k)})).on("end",(function(){try{var k=(function(N,S,O){switch(N){case"blob":return p.newBlob(p.transformTo("arraybuffer",S),O);case"base64":return j.encode(S);default:return p.transformTo(N,S)}})(E,(function(N,S){var O,L=0,I=null,G=0;for(O=0;O<S.length;O++)G+=S[O].length;switch(N){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(I=new Uint8Array(G),O=0;O<S.length;O++)I.set(S[O],L),L+=S[O].length;return I;case"nodebuffer":return d.concat(S);default:throw new Error("concat : unsupported type '"+N+"'")}})(M,P),_);X(k)}catch(N){W(N)}P=[]})).resume()}))})(this,z)},on:function(z,B){var V=this;return z==="data"?this._worker.on(z,(function(X){B.call(V,X.data,X.meta)})):this._worker.on(z,(function(){p.delay(B,arguments,V)})),this},resume:function(){return p.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(z){if(p.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new D(this,{objectMode:this._outputType!=="nodebuffer"},z)}},g.exports=q},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(m,g,y){if(y.base64=!0,y.array=!0,y.string=!0,y.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",y.nodebuffer=d!==void 0,y.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")y.blob=!1;else{var p=new ArrayBuffer(0);try{y.blob=new Blob([p],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(p),y.blob=b.getBlob("application/zip").size===0}catch{y.blob=!1}}}try{y.nodestream=!!m("readable-stream").Readable}catch{y.nodestream=!1}},{"readable-stream":16}],31:[function(m,g,y){for(var p=m("./utils"),b=m("./support"),v=m("./nodejsUtils"),j=m("./stream/GenericWorker"),C=new Array(256),T=0;T<256;T++)C[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function D(){j.call(this,"utf-8 decode"),this.leftOver=null}function q(){j.call(this,"utf-8 encode")}C[254]=C[254]=1,y.utf8encode=function(z){return b.nodebuffer?v.newBufferFrom(z,"utf-8"):(function(B){var V,X,W,P,M,E=B.length,_=0;for(P=0;P<E;P++)(64512&(X=B.charCodeAt(P)))==55296&&P+1<E&&(64512&(W=B.charCodeAt(P+1)))==56320&&(X=65536+(X-55296<<10)+(W-56320),P++),_+=X<128?1:X<2048?2:X<65536?3:4;for(V=b.uint8array?new Uint8Array(_):new Array(_),P=M=0;M<_;P++)(64512&(X=B.charCodeAt(P)))==55296&&P+1<E&&(64512&(W=B.charCodeAt(P+1)))==56320&&(X=65536+(X-55296<<10)+(W-56320),P++),X<128?V[M++]=X:(X<2048?V[M++]=192|X>>>6:(X<65536?V[M++]=224|X>>>12:(V[M++]=240|X>>>18,V[M++]=128|X>>>12&63),V[M++]=128|X>>>6&63),V[M++]=128|63&X);return V})(z)},y.utf8decode=function(z){return b.nodebuffer?p.transformTo("nodebuffer",z).toString("utf-8"):(function(B){var V,X,W,P,M=B.length,E=new Array(2*M);for(V=X=0;V<M;)if((W=B[V++])<128)E[X++]=W;else if(4<(P=C[W]))E[X++]=65533,V+=P-1;else{for(W&=P===2?31:P===3?15:7;1<P&&V<M;)W=W<<6|63&B[V++],P--;1<P?E[X++]=65533:W<65536?E[X++]=W:(W-=65536,E[X++]=55296|W>>10&1023,E[X++]=56320|1023&W)}return E.length!==X&&(E.subarray?E=E.subarray(0,X):E.length=X),p.applyFromCharCode(E)})(z=p.transformTo(b.uint8array?"uint8array":"array",z))},p.inherits(D,j),D.prototype.processChunk=function(z){var B=p.transformTo(b.uint8array?"uint8array":"array",z.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var V=B;(B=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),B.set(V,this.leftOver.length)}else B=this.leftOver.concat(B);this.leftOver=null}var X=(function(P,M){var E;for((M=M||P.length)>P.length&&(M=P.length),E=M-1;0<=E&&(192&P[E])==128;)E--;return E<0||E===0?M:E+C[P[E]]>M?E:M})(B),W=B;X!==B.length&&(b.uint8array?(W=B.subarray(0,X),this.leftOver=B.subarray(X,B.length)):(W=B.slice(0,X),this.leftOver=B.slice(X,B.length))),this.push({data:y.utf8decode(W),meta:z.meta})},D.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:y.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},y.Utf8DecodeWorker=D,p.inherits(q,j),q.prototype.processChunk=function(z){this.push({data:y.utf8encode(z.data),meta:z.meta})},y.Utf8EncodeWorker=q},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(m,g,y){var p=m("./support"),b=m("./base64"),v=m("./nodejsUtils"),j=m("./external");function C(V){return V}function T(V,X){for(var W=0;W<V.length;++W)X[W]=255&V.charCodeAt(W);return X}m("setimmediate"),y.newBlob=function(V,X){y.checkSupport("blob");try{return new Blob([V],{type:X})}catch{try{var W=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return W.append(V),W.getBlob(X)}catch{throw new Error("Bug : can't construct the Blob.")}}};var D={stringifyByChunk:function(V,X,W){var P=[],M=0,E=V.length;if(E<=W)return String.fromCharCode.apply(null,V);for(;M<E;)X==="array"||X==="nodebuffer"?P.push(String.fromCharCode.apply(null,V.slice(M,Math.min(M+W,E)))):P.push(String.fromCharCode.apply(null,V.subarray(M,Math.min(M+W,E)))),M+=W;return P.join("")},stringifyByChar:function(V){for(var X="",W=0;W<V.length;W++)X+=String.fromCharCode(V[W]);return X},applyCanBeUsed:{uint8array:(function(){try{return p.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return p.nodebuffer&&String.fromCharCode.apply(null,v.allocBuffer(1)).length===1}catch{return!1}})()}};function q(V){var X=65536,W=y.getTypeOf(V),P=!0;if(W==="uint8array"?P=D.applyCanBeUsed.uint8array:W==="nodebuffer"&&(P=D.applyCanBeUsed.nodebuffer),P)for(;1<X;)try{return D.stringifyByChunk(V,W,X)}catch{X=Math.floor(X/2)}return D.stringifyByChar(V)}function z(V,X){for(var W=0;W<V.length;W++)X[W]=V[W];return X}y.applyFromCharCode=q;var B={};B.string={string:C,array:function(V){return T(V,new Array(V.length))},arraybuffer:function(V){return B.string.uint8array(V).buffer},uint8array:function(V){return T(V,new Uint8Array(V.length))},nodebuffer:function(V){return T(V,v.allocBuffer(V.length))}},B.array={string:q,array:C,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return v.newBufferFrom(V)}},B.arraybuffer={string:function(V){return q(new Uint8Array(V))},array:function(V){return z(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:C,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return v.newBufferFrom(new Uint8Array(V))}},B.uint8array={string:q,array:function(V){return z(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:C,nodebuffer:function(V){return v.newBufferFrom(V)}},B.nodebuffer={string:q,array:function(V){return z(V,new Array(V.length))},arraybuffer:function(V){return B.nodebuffer.uint8array(V).buffer},uint8array:function(V){return z(V,new Uint8Array(V.length))},nodebuffer:C},y.transformTo=function(V,X){if(X=X||"",!V)return X;y.checkSupport(V);var W=y.getTypeOf(X);return B[W][V](X)},y.resolve=function(V){for(var X=V.split("/"),W=[],P=0;P<X.length;P++){var M=X[P];M==="."||M===""&&P!==0&&P!==X.length-1||(M===".."?W.pop():W.push(M))}return W.join("/")},y.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":p.nodebuffer&&v.isBuffer(V)?"nodebuffer":p.uint8array&&V instanceof Uint8Array?"uint8array":p.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},y.checkSupport=function(V){if(!p[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},y.MAX_VALUE_16BITS=65535,y.MAX_VALUE_32BITS=-1,y.pretty=function(V){var X,W,P="";for(W=0;W<(V||"").length;W++)P+="\\x"+((X=V.charCodeAt(W))<16?"0":"")+X.toString(16).toUpperCase();return P},y.delay=function(V,X,W){h((function(){V.apply(W||null,X||[])}))},y.inherits=function(V,X){function W(){}W.prototype=X.prototype,V.prototype=new W},y.extend=function(){var V,X,W={};for(V=0;V<arguments.length;V++)for(X in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],X)&&W[X]===void 0&&(W[X]=arguments[V][X]);return W},y.prepareContent=function(V,X,W,P,M){return j.Promise.resolve(X).then((function(E){return p.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new j.Promise((function(_,k){var N=new FileReader;N.onload=function(S){_(S.target.result)},N.onerror=function(S){k(S.target.error)},N.readAsArrayBuffer(E)})):E})).then((function(E){var _=y.getTypeOf(E);return _?(_==="arraybuffer"?E=y.transformTo("uint8array",E):_==="string"&&(M?E=b.decode(E):W&&P!==!0&&(E=(function(k){return T(k,p.uint8array?new Uint8Array(k.length):new Array(k.length))})(E))),E):j.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(m,g,y){var p=m("./reader/readerFor"),b=m("./utils"),v=m("./signature"),j=m("./zipEntry"),C=m("./support");function T(D){this.files=[],this.loadOptions=D}T.prototype={checkSignature:function(D){if(!this.reader.readAndCheckSignature(D)){this.reader.index-=4;var q=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(q)+", expected "+b.pretty(D)+")")}},isSignature:function(D,q){var z=this.reader.index;this.reader.setIndex(D);var B=this.reader.readString(4)===q;return this.reader.setIndex(z),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var D=this.reader.readData(this.zipCommentLength),q=C.uint8array?"uint8array":"array",z=b.transformTo(q,D);this.zipComment=this.loadOptions.decodeFileName(z)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var D,q,z,B=this.zip64EndOfCentralSize-44;0<B;)D=this.reader.readInt(2),q=this.reader.readInt(4),z=this.reader.readData(q),this.zip64ExtensibleData[D]={id:D,length:q,value:z}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var D,q;for(D=0;D<this.files.length;D++)q=this.files[D],this.reader.setIndex(q.localHeaderOffset),this.checkSignature(v.LOCAL_FILE_HEADER),q.readLocalPart(this.reader),q.handleUTF8(),q.processAttributes()},readCentralDir:function(){var D;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(v.CENTRAL_FILE_HEADER);)(D=new j({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(D);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var D=this.reader.lastIndexOfSignature(v.CENTRAL_DIRECTORY_END);if(D<0)throw this.isSignature(0,v.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(D);var q=D;if(this.checkSignature(v.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(D=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(D),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,v.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(v.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var z=this.centralDirOffset+this.centralDirSize;this.zip64&&(z+=20,z+=12+this.zip64EndOfCentralSize);var B=q-z;if(0<B)this.isSignature(q,v.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(D){this.reader=p(D)},load:function(D){this.prepareReader(D),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(m,g,y){var p=m("./reader/readerFor"),b=m("./utils"),v=m("./compressedObject"),j=m("./crc32"),C=m("./utf8"),T=m("./compressions"),D=m("./support");function q(z,B){this.options=z,this.loadOptions=B}q.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(z){var B,V;if(z.skip(22),this.fileNameLength=z.readInt(2),V=z.readInt(2),this.fileName=z.readData(this.fileNameLength),z.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((B=(function(X){for(var W in T)if(Object.prototype.hasOwnProperty.call(T,W)&&T[W].magic===X)return T[W];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new v(this.compressedSize,this.uncompressedSize,this.crc32,B,z.readData(this.compressedSize))},readCentralPart:function(z){this.versionMadeBy=z.readInt(2),z.skip(2),this.bitFlag=z.readInt(2),this.compressionMethod=z.readString(2),this.date=z.readDate(),this.crc32=z.readInt(4),this.compressedSize=z.readInt(4),this.uncompressedSize=z.readInt(4);var B=z.readInt(2);if(this.extraFieldsLength=z.readInt(2),this.fileCommentLength=z.readInt(2),this.diskNumberStart=z.readInt(2),this.internalFileAttributes=z.readInt(2),this.externalFileAttributes=z.readInt(4),this.localHeaderOffset=z.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");z.skip(B),this.readExtraFields(z),this.parseZIP64ExtraField(z),this.fileComment=z.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var z=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),z==0&&(this.dosPermissions=63&this.externalFileAttributes),z==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var z=p(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=z.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=z.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=z.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=z.readInt(4))}},readExtraFields:function(z){var B,V,X,W=z.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});z.index+4<W;)B=z.readInt(2),V=z.readInt(2),X=z.readData(V),this.extraFields[B]={id:B,length:V,value:X};z.setIndex(W)},handleUTF8:function(){var z=D.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var B=this.findExtraFieldUnicodePath();if(B!==null)this.fileNameStr=B;else{var V=b.transformTo(z,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var X=this.findExtraFieldUnicodeComment();if(X!==null)this.fileCommentStr=X;else{var W=b.transformTo(z,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(W)}}},findExtraFieldUnicodePath:function(){var z=this.extraFields[28789];if(z){var B=p(z.value);return B.readInt(1)!==1||j(this.fileName)!==B.readInt(4)?null:C.utf8decode(B.readData(z.length-5))}return null},findExtraFieldUnicodeComment:function(){var z=this.extraFields[25461];if(z){var B=p(z.value);return B.readInt(1)!==1||j(this.fileComment)!==B.readInt(4)?null:C.utf8decode(B.readData(z.length-5))}return null}},g.exports=q},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(m,g,y){function p(B,V,X){this.name=B,this.dir=X.dir,this.date=X.date,this.comment=X.comment,this.unixPermissions=X.unixPermissions,this.dosPermissions=X.dosPermissions,this._data=V,this._dataBinary=X.binary,this.options={compression:X.compression,compressionOptions:X.compressionOptions}}var b=m("./stream/StreamHelper"),v=m("./stream/DataWorker"),j=m("./utf8"),C=m("./compressedObject"),T=m("./stream/GenericWorker");p.prototype={internalStream:function(B){var V=null,X="string";try{if(!B)throw new Error("No output type specified.");var W=(X=B.toLowerCase())==="string"||X==="text";X!=="binarystring"&&X!=="text"||(X="string"),V=this._decompressWorker();var P=!this._dataBinary;P&&!W&&(V=V.pipe(new j.Utf8EncodeWorker)),!P&&W&&(V=V.pipe(new j.Utf8DecodeWorker))}catch(M){(V=new T("error")).error(M)}return new b(V,X,"")},async:function(B,V){return this.internalStream(B).accumulate(V)},nodeStream:function(B,V){return this.internalStream(B||"nodebuffer").toNodejsStream(V)},_compressWorker:function(B,V){if(this._data instanceof C&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var X=this._decompressWorker();return this._dataBinary||(X=X.pipe(new j.Utf8EncodeWorker)),C.createWorkerFrom(X,B,V)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof T?this._data:new v(this._data)}};for(var D=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],q=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},z=0;z<D.length;z++)p.prototype[D[z]]=q;g.exports=p},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(m,g,y){(function(p){var b,v,j=p.MutationObserver||p.WebKitMutationObserver;if(j){var C=0,T=new j(B),D=p.document.createTextNode("");T.observe(D,{characterData:!0}),b=function(){D.data=C=++C%2}}else if(p.setImmediate||p.MessageChannel===void 0)b="document"in p&&"onreadystatechange"in p.document.createElement("script")?function(){var V=p.document.createElement("script");V.onreadystatechange=function(){B(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},p.document.documentElement.appendChild(V)}:function(){setTimeout(B,0)};else{var q=new p.MessageChannel;q.port1.onmessage=B,b=function(){q.port2.postMessage(0)}}var z=[];function B(){var V,X;v=!0;for(var W=z.length;W;){for(X=z,z=[],V=-1;++V<W;)X[V]();W=z.length}v=!1}g.exports=function(V){z.push(V)!==1||v||b()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(m,g,y){var p=m("immediate");function b(){}var v={},j=["REJECTED"],C=["FULFILLED"],T=["PENDING"];function D(W){if(typeof W!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,W!==b&&V(this,W)}function q(W,P,M){this.promise=W,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function z(W,P,M){p((function(){var E;try{E=P(M)}catch(_){return v.reject(W,_)}E===W?v.reject(W,new TypeError("Cannot resolve promise with itself")):v.resolve(W,E)}))}function B(W){var P=W&&W.then;if(W&&(typeof W=="object"||typeof W=="function")&&typeof P=="function")return function(){P.apply(W,arguments)}}function V(W,P){var M=!1;function E(N){M||(M=!0,v.reject(W,N))}function _(N){M||(M=!0,v.resolve(W,N))}var k=X((function(){P(_,E)}));k.status==="error"&&E(k.value)}function X(W,P){var M={};try{M.value=W(P),M.status="success"}catch(E){M.status="error",M.value=E}return M}(g.exports=D).prototype.finally=function(W){if(typeof W!="function")return this;var P=this.constructor;return this.then((function(M){return P.resolve(W()).then((function(){return M}))}),(function(M){return P.resolve(W()).then((function(){throw M}))}))},D.prototype.catch=function(W){return this.then(null,W)},D.prototype.then=function(W,P){if(typeof W!="function"&&this.state===C||typeof P!="function"&&this.state===j)return this;var M=new this.constructor(b);return this.state!==T?z(M,this.state===C?W:P,this.outcome):this.queue.push(new q(M,W,P)),M},q.prototype.callFulfilled=function(W){v.resolve(this.promise,W)},q.prototype.otherCallFulfilled=function(W){z(this.promise,this.onFulfilled,W)},q.prototype.callRejected=function(W){v.reject(this.promise,W)},q.prototype.otherCallRejected=function(W){z(this.promise,this.onRejected,W)},v.resolve=function(W,P){var M=X(B,P);if(M.status==="error")return v.reject(W,M.value);var E=M.value;if(E)V(W,E);else{W.state=C,W.outcome=P;for(var _=-1,k=W.queue.length;++_<k;)W.queue[_].callFulfilled(P)}return W},v.reject=function(W,P){W.state=j,W.outcome=P;for(var M=-1,E=W.queue.length;++M<E;)W.queue[M].callRejected(P);return W},D.resolve=function(W){return W instanceof this?W:v.resolve(new this(b),W)},D.reject=function(W){var P=new this(b);return v.reject(P,W)},D.all=function(W){var P=this;if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=W.length,E=!1;if(!M)return this.resolve([]);for(var _=new Array(M),k=0,N=-1,S=new this(b);++N<M;)O(W[N],N);return S;function O(L,I){P.resolve(L).then((function(G){_[I]=G,++k!==M||E||(E=!0,v.resolve(S,_))}),(function(G){E||(E=!0,v.reject(S,G))}))}},D.race=function(W){if(Object.prototype.toString.call(W)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=W.length,M=!1;if(!P)return this.resolve([]);for(var E,_=-1,k=new this(b);++_<P;)E=W[_],this.resolve(E).then((function(N){M||(M=!0,v.resolve(k,N))}),(function(N){M||(M=!0,v.reject(k,N))}));return k}},{immediate:36}],38:[function(m,g,y){var p={};(0,m("./lib/utils/common").assign)(p,m("./lib/deflate"),m("./lib/inflate"),m("./lib/zlib/constants")),g.exports=p},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(m,g,y){var p=m("./zlib/deflate"),b=m("./utils/common"),v=m("./utils/strings"),j=m("./zlib/messages"),C=m("./zlib/zstream"),T=Object.prototype.toString;function D(z){if(!(this instanceof D))return new D(z);this.options=b.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},z||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var V=p.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(V!==0)throw new Error(j[V]);if(B.header&&p.deflateSetHeader(this.strm,B.header),B.dictionary){var X;if(X=typeof B.dictionary=="string"?v.string2buf(B.dictionary):T.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(V=p.deflateSetDictionary(this.strm,X))!==0)throw new Error(j[V]);this._dict_set=!0}}function q(z,B){var V=new D(B);if(V.push(z,!0),V.err)throw V.msg||j[V.err];return V.result}D.prototype.push=function(z,B){var V,X,W=this.strm,P=this.options.chunkSize;if(this.ended)return!1;X=B===~~B?B:B===!0?4:0,typeof z=="string"?W.input=v.string2buf(z):T.call(z)==="[object ArrayBuffer]"?W.input=new Uint8Array(z):W.input=z,W.next_in=0,W.avail_in=W.input.length;do{if(W.avail_out===0&&(W.output=new b.Buf8(P),W.next_out=0,W.avail_out=P),(V=p.deflate(W,X))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);W.avail_out!==0&&(W.avail_in!==0||X!==4&&X!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(b.shrinkBuf(W.output,W.next_out))):this.onData(b.shrinkBuf(W.output,W.next_out)))}while((0<W.avail_in||W.avail_out===0)&&V!==1);return X===4?(V=p.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):X!==2||(this.onEnd(0),!(W.avail_out=0))},D.prototype.onData=function(z){this.chunks.push(z)},D.prototype.onEnd=function(z){z===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=z,this.msg=this.strm.msg},y.Deflate=D,y.deflate=q,y.deflateRaw=function(z,B){return(B=B||{}).raw=!0,q(z,B)},y.gzip=function(z,B){return(B=B||{}).gzip=!0,q(z,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(m,g,y){var p=m("./zlib/inflate"),b=m("./utils/common"),v=m("./utils/strings"),j=m("./zlib/constants"),C=m("./zlib/messages"),T=m("./zlib/zstream"),D=m("./zlib/gzheader"),q=Object.prototype.toString;function z(V){if(!(this instanceof z))return new z(V);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},V||{});var X=this.options;X.raw&&0<=X.windowBits&&X.windowBits<16&&(X.windowBits=-X.windowBits,X.windowBits===0&&(X.windowBits=-15)),!(0<=X.windowBits&&X.windowBits<16)||V&&V.windowBits||(X.windowBits+=32),15<X.windowBits&&X.windowBits<48&&(15&X.windowBits)==0&&(X.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var W=p.inflateInit2(this.strm,X.windowBits);if(W!==j.Z_OK)throw new Error(C[W]);this.header=new D,p.inflateGetHeader(this.strm,this.header)}function B(V,X){var W=new z(X);if(W.push(V,!0),W.err)throw W.msg||C[W.err];return W.result}z.prototype.push=function(V,X){var W,P,M,E,_,k,N=this.strm,S=this.options.chunkSize,O=this.options.dictionary,L=!1;if(this.ended)return!1;P=X===~~X?X:X===!0?j.Z_FINISH:j.Z_NO_FLUSH,typeof V=="string"?N.input=v.binstring2buf(V):q.call(V)==="[object ArrayBuffer]"?N.input=new Uint8Array(V):N.input=V,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new b.Buf8(S),N.next_out=0,N.avail_out=S),(W=p.inflate(N,j.Z_NO_FLUSH))===j.Z_NEED_DICT&&O&&(k=typeof O=="string"?v.string2buf(O):q.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,W=p.inflateSetDictionary(this.strm,k)),W===j.Z_BUF_ERROR&&L===!0&&(W=j.Z_OK,L=!1),W!==j.Z_STREAM_END&&W!==j.Z_OK)return this.onEnd(W),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&W!==j.Z_STREAM_END&&(N.avail_in!==0||P!==j.Z_FINISH&&P!==j.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=v.utf8border(N.output,N.next_out),E=N.next_out-M,_=v.buf2string(N.output,M),N.next_out=E,N.avail_out=S-E,E&&b.arraySet(N.output,N.output,M,E,0),this.onData(_)):this.onData(b.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(L=!0)}while((0<N.avail_in||N.avail_out===0)&&W!==j.Z_STREAM_END);return W===j.Z_STREAM_END&&(P=j.Z_FINISH),P===j.Z_FINISH?(W=p.inflateEnd(this.strm),this.onEnd(W),this.ended=!0,W===j.Z_OK):P!==j.Z_SYNC_FLUSH||(this.onEnd(j.Z_OK),!(N.avail_out=0))},z.prototype.onData=function(V){this.chunks.push(V)},z.prototype.onEnd=function(V){V===j.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},y.Inflate=z,y.inflate=B,y.inflateRaw=function(V,X){return(X=X||{}).raw=!0,B(V,X)},y.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(m,g,y){var p=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";y.assign=function(j){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var T=C.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var D in T)T.hasOwnProperty(D)&&(j[D]=T[D])}}return j},y.shrinkBuf=function(j,C){return j.length===C?j:j.subarray?j.subarray(0,C):(j.length=C,j)};var b={arraySet:function(j,C,T,D,q){if(C.subarray&&j.subarray)j.set(C.subarray(T,T+D),q);else for(var z=0;z<D;z++)j[q+z]=C[T+z]},flattenChunks:function(j){var C,T,D,q,z,B;for(C=D=0,T=j.length;C<T;C++)D+=j[C].length;for(B=new Uint8Array(D),C=q=0,T=j.length;C<T;C++)z=j[C],B.set(z,q),q+=z.length;return B}},v={arraySet:function(j,C,T,D,q){for(var z=0;z<D;z++)j[q+z]=C[T+z]},flattenChunks:function(j){return[].concat.apply([],j)}};y.setTyped=function(j){j?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,b)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,v))},y.setTyped(p)},{}],42:[function(m,g,y){var p=m("./common"),b=!0,v=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{v=!1}for(var j=new p.Buf8(256),C=0;C<256;C++)j[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function T(D,q){if(q<65537&&(D.subarray&&v||!D.subarray&&b))return String.fromCharCode.apply(null,p.shrinkBuf(D,q));for(var z="",B=0;B<q;B++)z+=String.fromCharCode(D[B]);return z}j[254]=j[254]=1,y.string2buf=function(D){var q,z,B,V,X,W=D.length,P=0;for(V=0;V<W;V++)(64512&(z=D.charCodeAt(V)))==55296&&V+1<W&&(64512&(B=D.charCodeAt(V+1)))==56320&&(z=65536+(z-55296<<10)+(B-56320),V++),P+=z<128?1:z<2048?2:z<65536?3:4;for(q=new p.Buf8(P),V=X=0;X<P;V++)(64512&(z=D.charCodeAt(V)))==55296&&V+1<W&&(64512&(B=D.charCodeAt(V+1)))==56320&&(z=65536+(z-55296<<10)+(B-56320),V++),z<128?q[X++]=z:(z<2048?q[X++]=192|z>>>6:(z<65536?q[X++]=224|z>>>12:(q[X++]=240|z>>>18,q[X++]=128|z>>>12&63),q[X++]=128|z>>>6&63),q[X++]=128|63&z);return q},y.buf2binstring=function(D){return T(D,D.length)},y.binstring2buf=function(D){for(var q=new p.Buf8(D.length),z=0,B=q.length;z<B;z++)q[z]=D.charCodeAt(z);return q},y.buf2string=function(D,q){var z,B,V,X,W=q||D.length,P=new Array(2*W);for(z=B=0;z<W;)if((V=D[z++])<128)P[B++]=V;else if(4<(X=j[V]))P[B++]=65533,z+=X-1;else{for(V&=X===2?31:X===3?15:7;1<X&&z<W;)V=V<<6|63&D[z++],X--;1<X?P[B++]=65533:V<65536?P[B++]=V:(V-=65536,P[B++]=55296|V>>10&1023,P[B++]=56320|1023&V)}return T(P,B)},y.utf8border=function(D,q){var z;for((q=q||D.length)>D.length&&(q=D.length),z=q-1;0<=z&&(192&D[z])==128;)z--;return z<0||z===0?q:z+j[D[z]]>q?z:q}},{"./common":41}],43:[function(m,g,y){g.exports=function(p,b,v,j){for(var C=65535&p|0,T=p>>>16&65535|0,D=0;v!==0;){for(v-=D=2e3<v?2e3:v;T=T+(C=C+b[j++]|0)|0,--D;);C%=65521,T%=65521}return C|T<<16|0}},{}],44:[function(m,g,y){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(m,g,y){var p=(function(){for(var b,v=[],j=0;j<256;j++){b=j;for(var C=0;C<8;C++)b=1&b?3988292384^b>>>1:b>>>1;v[j]=b}return v})();g.exports=function(b,v,j,C){var T=p,D=C+j;b^=-1;for(var q=C;q<D;q++)b=b>>>8^T[255&(b^v[q])];return-1^b}},{}],46:[function(m,g,y){var p,b=m("../utils/common"),v=m("./trees"),j=m("./adler32"),C=m("./crc32"),T=m("./messages"),D=-2,q=258,z=262,B=113;function V(U,J){return U.msg=T[J],J}function X(U){return(U<<1)-(4<U?9:0)}function W(U){for(var J=U.length;0<=--J;)U[J]=0}function P(U){var J=U.state,$=J.pending;$>U.avail_out&&($=U.avail_out),$!==0&&(b.arraySet(U.output,J.pending_buf,J.pending_out,$,U.next_out),U.next_out+=$,J.pending_out+=$,U.total_out+=$,U.avail_out-=$,J.pending-=$,J.pending===0&&(J.pending_out=0))}function M(U,J){v._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,J),U.block_start=U.strstart,P(U.strm)}function E(U,J){U.pending_buf[U.pending++]=J}function _(U,J){U.pending_buf[U.pending++]=J>>>8&255,U.pending_buf[U.pending++]=255&J}function k(U,J){var $,R,K=U.max_chain_length,ee=U.strstart,se=U.prev_length,ie=U.nice_match,ae=U.strstart>U.w_size-z?U.strstart-(U.w_size-z):0,re=U.window,le=U.w_mask,ne=U.prev,fe=U.strstart+q,ue=re[ee+se-1],xe=re[ee+se];U.prev_length>=U.good_match&&(K>>=2),ie>U.lookahead&&(ie=U.lookahead);do if(re[($=J)+se]===xe&&re[$+se-1]===ue&&re[$]===re[ee]&&re[++$]===re[ee+1]){ee+=2,$++;do;while(re[++ee]===re[++$]&&re[++ee]===re[++$]&&re[++ee]===re[++$]&&re[++ee]===re[++$]&&re[++ee]===re[++$]&&re[++ee]===re[++$]&&re[++ee]===re[++$]&&re[++ee]===re[++$]&&ee<fe);if(R=q-(fe-ee),ee=fe-q,se<R){if(U.match_start=J,ie<=(se=R))break;ue=re[ee+se-1],xe=re[ee+se]}}while((J=ne[J&le])>ae&&--K!=0);return se<=U.lookahead?se:U.lookahead}function N(U){var J,$,R,K,ee,se,ie,ae,re,le,ne=U.w_size;do{if(K=U.window_size-U.lookahead-U.strstart,U.strstart>=ne+(ne-z)){for(b.arraySet(U.window,U.window,ne,ne,0),U.match_start-=ne,U.strstart-=ne,U.block_start-=ne,J=$=U.hash_size;R=U.head[--J],U.head[J]=ne<=R?R-ne:0,--$;);for(J=$=ne;R=U.prev[--J],U.prev[J]=ne<=R?R-ne:0,--$;);K+=ne}if(U.strm.avail_in===0)break;if(se=U.strm,ie=U.window,ae=U.strstart+U.lookahead,le=void 0,(re=K)<(le=se.avail_in)&&(le=re),$=le===0?0:(se.avail_in-=le,b.arraySet(ie,se.input,se.next_in,le,ae),se.state.wrap===1?se.adler=j(se.adler,ie,le,ae):se.state.wrap===2&&(se.adler=C(se.adler,ie,le,ae)),se.next_in+=le,se.total_in+=le,le),U.lookahead+=$,U.lookahead+U.insert>=3)for(ee=U.strstart-U.insert,U.ins_h=U.window[ee],U.ins_h=(U.ins_h<<U.hash_shift^U.window[ee+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[ee+3-1])&U.hash_mask,U.prev[ee&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=ee,ee++,U.insert--,!(U.lookahead+U.insert<3)););}while(U.lookahead<z&&U.strm.avail_in!==0)}function S(U,J){for(var $,R;;){if(U.lookahead<z){if(N(U),U.lookahead<z&&J===0)return 1;if(U.lookahead===0)break}if($=0,U.lookahead>=3&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,$=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),$!==0&&U.strstart-$<=U.w_size-z&&(U.match_length=k(U,$)),U.match_length>=3)if(R=v._tr_tally(U,U.strstart-U.match_start,U.match_length-3),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=3){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,$=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else R=v._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(R&&(M(U,!1),U.strm.avail_out===0))return 1}return U.insert=U.strstart<2?U.strstart:2,J===4?(M(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(M(U,!1),U.strm.avail_out===0)?1:2}function O(U,J){for(var $,R,K;;){if(U.lookahead<z){if(N(U),U.lookahead<z&&J===0)return 1;if(U.lookahead===0)break}if($=0,U.lookahead>=3&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,$=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=2,$!==0&&U.prev_length<U.max_lazy_match&&U.strstart-$<=U.w_size-z&&(U.match_length=k(U,$),U.match_length<=5&&(U.strategy===1||U.match_length===3&&4096<U.strstart-U.match_start)&&(U.match_length=2)),U.prev_length>=3&&U.match_length<=U.prev_length){for(K=U.strstart+U.lookahead-3,R=v._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-3),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=K&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+3-1])&U.hash_mask,$=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=2,U.strstart++,R&&(M(U,!1),U.strm.avail_out===0))return 1}else if(U.match_available){if((R=v._tr_tally(U,0,U.window[U.strstart-1]))&&M(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return 1}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(R=v._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<2?U.strstart:2,J===4?(M(U,!0),U.strm.avail_out===0?3:4):U.last_lit&&(M(U,!1),U.strm.avail_out===0)?1:2}function L(U,J,$,R,K){this.good_length=U,this.max_lazy=J,this.nice_length=$,this.max_chain=R,this.func=K}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(1146),this.dyn_dtree=new b.Buf16(122),this.bl_tree=new b.Buf16(78),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(16),this.heap=new b.Buf16(573),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(573),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(U){var J;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=2,(J=U.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?42:B,U.adler=J.wrap===2?0:1,J.last_flush=0,v._tr_init(J),0):V(U,D)}function Y(U){var J=G(U);return J===0&&(function($){$.window_size=2*$.w_size,W($.head),$.max_lazy_match=p[$.level].max_lazy,$.good_match=p[$.level].good_length,$.nice_match=p[$.level].nice_length,$.max_chain_length=p[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=2,$.match_available=0,$.ins_h=0})(U.state),J}function te(U,J,$,R,K,ee){if(!U)return D;var se=1;if(J===-1&&(J=6),R<0?(se=0,R=-R):15<R&&(se=2,R-=16),K<1||9<K||$!==8||R<8||15<R||J<0||9<J||ee<0||4<ee)return V(U,D);R===8&&(R=9);var ie=new I;return(U.state=ie).strm=U,ie.wrap=se,ie.gzhead=null,ie.w_bits=R,ie.w_size=1<<ie.w_bits,ie.w_mask=ie.w_size-1,ie.hash_bits=K+7,ie.hash_size=1<<ie.hash_bits,ie.hash_mask=ie.hash_size-1,ie.hash_shift=~~((ie.hash_bits+3-1)/3),ie.window=new b.Buf8(2*ie.w_size),ie.head=new b.Buf16(ie.hash_size),ie.prev=new b.Buf16(ie.w_size),ie.lit_bufsize=1<<K+6,ie.pending_buf_size=4*ie.lit_bufsize,ie.pending_buf=new b.Buf8(ie.pending_buf_size),ie.d_buf=1*ie.lit_bufsize,ie.l_buf=3*ie.lit_bufsize,ie.level=J,ie.strategy=ee,ie.method=$,Y(U)}p=[new L(0,0,0,0,(function(U,J){var $=65535;for($>U.pending_buf_size-5&&($=U.pending_buf_size-5);;){if(U.lookahead<=1){if(N(U),U.lookahead===0&&J===0)return 1;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var R=U.block_start+$;if((U.strstart===0||U.strstart>=R)&&(U.lookahead=U.strstart-R,U.strstart=R,M(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-z&&(M(U,!1),U.strm.avail_out===0))return 1}return U.insert=0,J===4?(M(U,!0),U.strm.avail_out===0?3:4):(U.strstart>U.block_start&&(M(U,!1),U.strm.avail_out),1)})),new L(4,4,8,4,S),new L(4,5,16,8,S),new L(4,6,32,32,S),new L(4,4,16,16,O),new L(8,16,32,32,O),new L(8,16,128,128,O),new L(8,32,128,256,O),new L(32,128,258,1024,O),new L(32,258,258,4096,O)],y.deflateInit=function(U,J){return te(U,J,8,15,8,0)},y.deflateInit2=te,y.deflateReset=Y,y.deflateResetKeep=G,y.deflateSetHeader=function(U,J){return U&&U.state?U.state.wrap!==2?D:(U.state.gzhead=J,0):D},y.deflate=function(U,J){var $,R,K,ee;if(!U||!U.state||5<J||J<0)return U?V(U,D):D;if(R=U.state,!U.output||!U.input&&U.avail_in!==0||R.status===666&&J!==4)return V(U,U.avail_out===0?-5:D);if(R.strm=U,$=R.last_flush,R.last_flush=J,R.status===42)if(R.wrap===2)U.adler=0,E(R,31),E(R,139),E(R,8),R.gzhead?(E(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),E(R,255&R.gzhead.time),E(R,R.gzhead.time>>8&255),E(R,R.gzhead.time>>16&255),E(R,R.gzhead.time>>24&255),E(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),E(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(E(R,255&R.gzhead.extra.length),E(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(U.adler=C(U.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(E(R,0),E(R,0),E(R,0),E(R,0),E(R,0),E(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),E(R,3),R.status=B);else{var se=8+(R.w_bits-8<<4)<<8;se|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(se|=32),se+=31-se%31,R.status=B,_(R,se),R.strstart!==0&&(_(R,U.adler>>>16),_(R,65535&U.adler)),U.adler=1}if(R.status===69)if(R.gzhead.extra){for(K=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>K&&(U.adler=C(U.adler,R.pending_buf,R.pending-K,K)),P(U),K=R.pending,R.pending!==R.pending_buf_size));)E(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>K&&(U.adler=C(U.adler,R.pending_buf,R.pending-K,K)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){K=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>K&&(U.adler=C(U.adler,R.pending_buf,R.pending-K,K)),P(U),K=R.pending,R.pending===R.pending_buf_size)){ee=1;break}ee=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,E(R,ee)}while(ee!==0);R.gzhead.hcrc&&R.pending>K&&(U.adler=C(U.adler,R.pending_buf,R.pending-K,K)),ee===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){K=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>K&&(U.adler=C(U.adler,R.pending_buf,R.pending-K,K)),P(U),K=R.pending,R.pending===R.pending_buf_size)){ee=1;break}ee=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,E(R,ee)}while(ee!==0);R.gzhead.hcrc&&R.pending>K&&(U.adler=C(U.adler,R.pending_buf,R.pending-K,K)),ee===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&P(U),R.pending+2<=R.pending_buf_size&&(E(R,255&U.adler),E(R,U.adler>>8&255),U.adler=0,R.status=B)):R.status=B),R.pending!==0){if(P(U),U.avail_out===0)return R.last_flush=-1,0}else if(U.avail_in===0&&X(J)<=X($)&&J!==4)return V(U,-5);if(R.status===666&&U.avail_in!==0)return V(U,-5);if(U.avail_in!==0||R.lookahead!==0||J!==0&&R.status!==666){var ie=R.strategy===2?(function(ae,re){for(var le;;){if(ae.lookahead===0&&(N(ae),ae.lookahead===0)){if(re===0)return 1;break}if(ae.match_length=0,le=v._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,le&&(M(ae,!1),ae.strm.avail_out===0))return 1}return ae.insert=0,re===4?(M(ae,!0),ae.strm.avail_out===0?3:4):ae.last_lit&&(M(ae,!1),ae.strm.avail_out===0)?1:2})(R,J):R.strategy===3?(function(ae,re){for(var le,ne,fe,ue,xe=ae.window;;){if(ae.lookahead<=q){if(N(ae),ae.lookahead<=q&&re===0)return 1;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=3&&0<ae.strstart&&(ne=xe[fe=ae.strstart-1])===xe[++fe]&&ne===xe[++fe]&&ne===xe[++fe]){ue=ae.strstart+q;do;while(ne===xe[++fe]&&ne===xe[++fe]&&ne===xe[++fe]&&ne===xe[++fe]&&ne===xe[++fe]&&ne===xe[++fe]&&ne===xe[++fe]&&ne===xe[++fe]&&fe<ue);ae.match_length=q-(ue-fe),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=3?(le=v._tr_tally(ae,1,ae.match_length-3),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(le=v._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),le&&(M(ae,!1),ae.strm.avail_out===0))return 1}return ae.insert=0,re===4?(M(ae,!0),ae.strm.avail_out===0?3:4):ae.last_lit&&(M(ae,!1),ae.strm.avail_out===0)?1:2})(R,J):p[R.level].func(R,J);if(ie!==3&&ie!==4||(R.status=666),ie===1||ie===3)return U.avail_out===0&&(R.last_flush=-1),0;if(ie===2&&(J===1?v._tr_align(R):J!==5&&(v._tr_stored_block(R,0,0,!1),J===3&&(W(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),P(U),U.avail_out===0))return R.last_flush=-1,0}return J!==4?0:R.wrap<=0?1:(R.wrap===2?(E(R,255&U.adler),E(R,U.adler>>8&255),E(R,U.adler>>16&255),E(R,U.adler>>24&255),E(R,255&U.total_in),E(R,U.total_in>>8&255),E(R,U.total_in>>16&255),E(R,U.total_in>>24&255)):(_(R,U.adler>>>16),_(R,65535&U.adler)),P(U),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?0:1)},y.deflateEnd=function(U){var J;return U&&U.state?(J=U.state.status)!==42&&J!==69&&J!==73&&J!==91&&J!==103&&J!==B&&J!==666?V(U,D):(U.state=null,J===B?V(U,-3):0):D},y.deflateSetDictionary=function(U,J){var $,R,K,ee,se,ie,ae,re,le=J.length;if(!U||!U.state||(ee=($=U.state).wrap)===2||ee===1&&$.status!==42||$.lookahead)return D;for(ee===1&&(U.adler=j(U.adler,J,le,0)),$.wrap=0,le>=$.w_size&&(ee===0&&(W($.head),$.strstart=0,$.block_start=0,$.insert=0),re=new b.Buf8($.w_size),b.arraySet(re,J,le-$.w_size,$.w_size,0),J=re,le=$.w_size),se=U.avail_in,ie=U.next_in,ae=U.input,U.avail_in=le,U.next_in=0,U.input=J,N($);$.lookahead>=3;){for(R=$.strstart,K=$.lookahead-2;$.ins_h=($.ins_h<<$.hash_shift^$.window[R+3-1])&$.hash_mask,$.prev[R&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=R,R++,--K;);$.strstart=R,$.lookahead=2,N($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=2,$.match_available=0,U.next_in=ie,U.input=ae,U.avail_in=se,$.wrap=ee,0},y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(m,g,y){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(m,g,y){g.exports=function(p,b){var v,j,C,T,D,q,z,B,V,X,W,P,M,E,_,k,N,S,O,L,I,G,Y,te,U;v=p.state,j=p.next_in,te=p.input,C=j+(p.avail_in-5),T=p.next_out,U=p.output,D=T-(b-p.avail_out),q=T+(p.avail_out-257),z=v.dmax,B=v.wsize,V=v.whave,X=v.wnext,W=v.window,P=v.hold,M=v.bits,E=v.lencode,_=v.distcode,k=(1<<v.lenbits)-1,N=(1<<v.distbits)-1;e:do{M<15&&(P+=te[j++]<<M,M+=8,P+=te[j++]<<M,M+=8),S=E[P&k];t:for(;;){if(P>>>=O=S>>>24,M-=O,(O=S>>>16&255)==0)U[T++]=65535&S;else{if(!(16&O)){if((64&O)==0){S=E[(65535&S)+(P&(1<<O)-1)];continue t}if(32&O){v.mode=12;break e}p.msg="invalid literal/length code",v.mode=30;break e}L=65535&S,(O&=15)&&(M<O&&(P+=te[j++]<<M,M+=8),L+=P&(1<<O)-1,P>>>=O,M-=O),M<15&&(P+=te[j++]<<M,M+=8,P+=te[j++]<<M,M+=8),S=_[P&N];r:for(;;){if(P>>>=O=S>>>24,M-=O,!(16&(O=S>>>16&255))){if((64&O)==0){S=_[(65535&S)+(P&(1<<O)-1)];continue r}p.msg="invalid distance code",v.mode=30;break e}if(I=65535&S,M<(O&=15)&&(P+=te[j++]<<M,(M+=8)<O&&(P+=te[j++]<<M,M+=8)),z<(I+=P&(1<<O)-1)){p.msg="invalid distance too far back",v.mode=30;break e}if(P>>>=O,M-=O,(O=T-D)<I){if(V<(O=I-O)&&v.sane){p.msg="invalid distance too far back",v.mode=30;break e}if(Y=W,(G=0)===X){if(G+=B-O,O<L){for(L-=O;U[T++]=W[G++],--O;);G=T-I,Y=U}}else if(X<O){if(G+=B+X-O,(O-=X)<L){for(L-=O;U[T++]=W[G++],--O;);if(G=0,X<L){for(L-=O=X;U[T++]=W[G++],--O;);G=T-I,Y=U}}}else if(G+=X-O,O<L){for(L-=O;U[T++]=W[G++],--O;);G=T-I,Y=U}for(;2<L;)U[T++]=Y[G++],U[T++]=Y[G++],U[T++]=Y[G++],L-=3;L&&(U[T++]=Y[G++],1<L&&(U[T++]=Y[G++]))}else{for(G=T-I;U[T++]=U[G++],U[T++]=U[G++],U[T++]=U[G++],2<(L-=3););L&&(U[T++]=U[G++],1<L&&(U[T++]=U[G++]))}break}}break}}while(j<C&&T<q);j-=L=M>>3,P&=(1<<(M-=L<<3))-1,p.next_in=j,p.next_out=T,p.avail_in=j<C?C-j+5:5-(j-C),p.avail_out=T<q?q-T+257:257-(T-q),v.hold=P,v.bits=M}},{}],49:[function(m,g,y){var p=m("../utils/common"),b=m("./adler32"),v=m("./crc32"),j=m("./inffast"),C=m("./inftrees"),T=-2;function D(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function q(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new p.Buf16(320),this.work=new p.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(k){var N;return k&&k.state?(N=k.state,k.total_in=k.total_out=N.total=0,k.msg="",N.wrap&&(k.adler=1&N.wrap),N.mode=1,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new p.Buf32(852),N.distcode=N.distdyn=new p.Buf32(592),N.sane=1,N.back=-1,0):T}function B(k){var N;return k&&k.state?((N=k.state).wsize=0,N.whave=0,N.wnext=0,z(k)):T}function V(k,N){var S,O;return k&&k.state?(O=k.state,N<0?(S=0,N=-N):(S=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?T:(O.window!==null&&O.wbits!==N&&(O.window=null),O.wrap=S,O.wbits=N,B(k))):T}function X(k,N){var S,O;return k?(O=new q,(k.state=O).window=null,(S=V(k,N))!==0&&(k.state=null),S):T}var W,P,M=!0;function E(k){if(M){var N;for(W=new p.Buf32(512),P=new p.Buf32(32),N=0;N<144;)k.lens[N++]=8;for(;N<256;)k.lens[N++]=9;for(;N<280;)k.lens[N++]=7;for(;N<288;)k.lens[N++]=8;for(C(1,k.lens,0,288,W,0,k.work,{bits:9}),N=0;N<32;)k.lens[N++]=5;C(2,k.lens,0,32,P,0,k.work,{bits:5}),M=!1}k.lencode=W,k.lenbits=9,k.distcode=P,k.distbits=5}function _(k,N,S,O){var L,I=k.state;return I.window===null&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new p.Buf8(I.wsize)),O>=I.wsize?(p.arraySet(I.window,N,S-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(O<(L=I.wsize-I.wnext)&&(L=O),p.arraySet(I.window,N,S-O,L,I.wnext),(O-=L)?(p.arraySet(I.window,N,S-O,O,0),I.wnext=O,I.whave=I.wsize):(I.wnext+=L,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=L))),0}y.inflateReset=B,y.inflateReset2=V,y.inflateResetKeep=z,y.inflateInit=function(k){return X(k,15)},y.inflateInit2=X,y.inflate=function(k,N){var S,O,L,I,G,Y,te,U,J,$,R,K,ee,se,ie,ae,re,le,ne,fe,ue,xe,ge,be,ke=0,Ee=new p.Buf8(4),ze=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return T;(S=k.state).mode===12&&(S.mode=13),G=k.next_out,L=k.output,te=k.avail_out,I=k.next_in,O=k.input,Y=k.avail_in,U=S.hold,J=S.bits,$=Y,R=te,xe=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;J<16;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(2&S.wrap&&U===35615){Ee[S.check=0]=255&U,Ee[1]=U>>>8&255,S.check=v(S.check,Ee,2,0),J=U=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&U)<<8)+(U>>8))%31){k.msg="incorrect header check",S.mode=30;break}if((15&U)!=8){k.msg="unknown compression method",S.mode=30;break}if(J-=4,ue=8+(15&(U>>>=4)),S.wbits===0)S.wbits=ue;else if(ue>S.wbits){k.msg="invalid window size",S.mode=30;break}S.dmax=1<<ue,k.adler=S.check=1,S.mode=512&U?10:12,J=U=0;break;case 2:for(;J<16;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(S.flags=U,(255&S.flags)!=8){k.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){k.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=U>>8&1),512&S.flags&&(Ee[0]=255&U,Ee[1]=U>>>8&255,S.check=v(S.check,Ee,2,0)),J=U=0,S.mode=3;case 3:for(;J<32;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}S.head&&(S.head.time=U),512&S.flags&&(Ee[0]=255&U,Ee[1]=U>>>8&255,Ee[2]=U>>>16&255,Ee[3]=U>>>24&255,S.check=v(S.check,Ee,4,0)),J=U=0,S.mode=4;case 4:for(;J<16;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}S.head&&(S.head.xflags=255&U,S.head.os=U>>8),512&S.flags&&(Ee[0]=255&U,Ee[1]=U>>>8&255,S.check=v(S.check,Ee,2,0)),J=U=0,S.mode=5;case 5:if(1024&S.flags){for(;J<16;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}S.length=U,S.head&&(S.head.extra_len=U),512&S.flags&&(Ee[0]=255&U,Ee[1]=U>>>8&255,S.check=v(S.check,Ee,2,0)),J=U=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(Y<(K=S.length)&&(K=Y),K&&(S.head&&(ue=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),p.arraySet(S.head.extra,O,I,K,ue)),512&S.flags&&(S.check=v(S.check,O,K,I)),Y-=K,I+=K,S.length-=K),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(Y===0)break e;for(K=0;ue=O[I+K++],S.head&&ue&&S.length<65536&&(S.head.name+=String.fromCharCode(ue)),ue&&K<Y;);if(512&S.flags&&(S.check=v(S.check,O,K,I)),Y-=K,I+=K,ue)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(Y===0)break e;for(K=0;ue=O[I+K++],S.head&&ue&&S.length<65536&&(S.head.comment+=String.fromCharCode(ue)),ue&&K<Y;);if(512&S.flags&&(S.check=v(S.check,O,K,I)),Y-=K,I+=K,ue)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;J<16;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(U!==(65535&S.check)){k.msg="header crc mismatch",S.mode=30;break}J=U=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),k.adler=S.check=0,S.mode=12;break;case 10:for(;J<32;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}k.adler=S.check=D(U),J=U=0,S.mode=11;case 11:if(S.havedict===0)return k.next_out=G,k.avail_out=te,k.next_in=I,k.avail_in=Y,S.hold=U,S.bits=J,2;k.adler=S.check=1,S.mode=12;case 12:if(N===5||N===6)break e;case 13:if(S.last){U>>>=7&J,J-=7&J,S.mode=27;break}for(;J<3;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}switch(S.last=1&U,J-=1,3&(U>>>=1)){case 0:S.mode=14;break;case 1:if(E(S),S.mode=20,N!==6)break;U>>>=2,J-=2;break e;case 2:S.mode=17;break;case 3:k.msg="invalid block type",S.mode=30}U>>>=2,J-=2;break;case 14:for(U>>>=7&J,J-=7&J;J<32;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if((65535&U)!=(U>>>16^65535)){k.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&U,J=U=0,S.mode=15,N===6)break e;case 15:S.mode=16;case 16:if(K=S.length){if(Y<K&&(K=Y),te<K&&(K=te),K===0)break e;p.arraySet(L,O,I,K,G),Y-=K,I+=K,te-=K,G+=K,S.length-=K;break}S.mode=12;break;case 17:for(;J<14;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(S.nlen=257+(31&U),U>>>=5,J-=5,S.ndist=1+(31&U),U>>>=5,J-=5,S.ncode=4+(15&U),U>>>=4,J-=4,286<S.nlen||30<S.ndist){k.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;J<3;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}S.lens[ze[S.have++]]=7&U,U>>>=3,J-=3}for(;S.have<19;)S.lens[ze[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,ge={bits:S.lenbits},xe=C(0,S.lens,0,19,S.lencode,0,S.work,ge),S.lenbits=ge.bits,xe){k.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;ae=(ke=S.lencode[U&(1<<S.lenbits)-1])>>>16&255,re=65535&ke,!((ie=ke>>>24)<=J);){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(re<16)U>>>=ie,J-=ie,S.lens[S.have++]=re;else{if(re===16){for(be=ie+2;J<be;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(U>>>=ie,J-=ie,S.have===0){k.msg="invalid bit length repeat",S.mode=30;break}ue=S.lens[S.have-1],K=3+(3&U),U>>>=2,J-=2}else if(re===17){for(be=ie+3;J<be;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}J-=ie,ue=0,K=3+(7&(U>>>=ie)),U>>>=3,J-=3}else{for(be=ie+7;J<be;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}J-=ie,ue=0,K=11+(127&(U>>>=ie)),U>>>=7,J-=7}if(S.have+K>S.nlen+S.ndist){k.msg="invalid bit length repeat",S.mode=30;break}for(;K--;)S.lens[S.have++]=ue}}if(S.mode===30)break;if(S.lens[256]===0){k.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,ge={bits:S.lenbits},xe=C(1,S.lens,0,S.nlen,S.lencode,0,S.work,ge),S.lenbits=ge.bits,xe){k.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,ge={bits:S.distbits},xe=C(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,ge),S.distbits=ge.bits,xe){k.msg="invalid distances set",S.mode=30;break}if(S.mode=20,N===6)break e;case 20:S.mode=21;case 21:if(6<=Y&&258<=te){k.next_out=G,k.avail_out=te,k.next_in=I,k.avail_in=Y,S.hold=U,S.bits=J,j(k,R),G=k.next_out,L=k.output,te=k.avail_out,I=k.next_in,O=k.input,Y=k.avail_in,U=S.hold,J=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;ae=(ke=S.lencode[U&(1<<S.lenbits)-1])>>>16&255,re=65535&ke,!((ie=ke>>>24)<=J);){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(ae&&(240&ae)==0){for(le=ie,ne=ae,fe=re;ae=(ke=S.lencode[fe+((U&(1<<le+ne)-1)>>le)])>>>16&255,re=65535&ke,!(le+(ie=ke>>>24)<=J);){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}U>>>=le,J-=le,S.back+=le}if(U>>>=ie,J-=ie,S.back+=ie,S.length=re,ae===0){S.mode=26;break}if(32&ae){S.back=-1,S.mode=12;break}if(64&ae){k.msg="invalid literal/length code",S.mode=30;break}S.extra=15&ae,S.mode=22;case 22:if(S.extra){for(be=S.extra;J<be;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}S.length+=U&(1<<S.extra)-1,U>>>=S.extra,J-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;ae=(ke=S.distcode[U&(1<<S.distbits)-1])>>>16&255,re=65535&ke,!((ie=ke>>>24)<=J);){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if((240&ae)==0){for(le=ie,ne=ae,fe=re;ae=(ke=S.distcode[fe+((U&(1<<le+ne)-1)>>le)])>>>16&255,re=65535&ke,!(le+(ie=ke>>>24)<=J);){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}U>>>=le,J-=le,S.back+=le}if(U>>>=ie,J-=ie,S.back+=ie,64&ae){k.msg="invalid distance code",S.mode=30;break}S.offset=re,S.extra=15&ae,S.mode=24;case 24:if(S.extra){for(be=S.extra;J<be;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}S.offset+=U&(1<<S.extra)-1,U>>>=S.extra,J-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){k.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(te===0)break e;if(K=R-te,S.offset>K){if((K=S.offset-K)>S.whave&&S.sane){k.msg="invalid distance too far back",S.mode=30;break}ee=K>S.wnext?(K-=S.wnext,S.wsize-K):S.wnext-K,K>S.length&&(K=S.length),se=S.window}else se=L,ee=G-S.offset,K=S.length;for(te<K&&(K=te),te-=K,S.length-=K;L[G++]=se[ee++],--K;);S.length===0&&(S.mode=21);break;case 26:if(te===0)break e;L[G++]=S.length,te--,S.mode=21;break;case 27:if(S.wrap){for(;J<32;){if(Y===0)break e;Y--,U|=O[I++]<<J,J+=8}if(R-=te,k.total_out+=R,S.total+=R,R&&(k.adler=S.check=S.flags?v(S.check,L,R,G-R):b(S.check,L,R,G-R)),R=te,(S.flags?U:D(U))!==S.check){k.msg="incorrect data check",S.mode=30;break}J=U=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;J<32;){if(Y===0)break e;Y--,U+=O[I++]<<J,J+=8}if(U!==(4294967295&S.total)){k.msg="incorrect length check",S.mode=30;break}J=U=0}S.mode=29;case 29:xe=1;break e;case 30:xe=-3;break e;case 31:return-4;default:return T}return k.next_out=G,k.avail_out=te,k.next_in=I,k.avail_in=Y,S.hold=U,S.bits=J,(S.wsize||R!==k.avail_out&&S.mode<30&&(S.mode<27||N!==4))&&_(k,k.output,k.next_out,R-k.avail_out)?(S.mode=31,-4):($-=k.avail_in,R-=k.avail_out,k.total_in+=$,k.total_out+=R,S.total+=R,S.wrap&&R&&(k.adler=S.check=S.flags?v(S.check,L,R,k.next_out-R):b(S.check,L,R,k.next_out-R)),k.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),($==0&&R===0||N===4)&&xe===0&&(xe=-5),xe)},y.inflateEnd=function(k){if(!k||!k.state)return T;var N=k.state;return N.window&&(N.window=null),k.state=null,0},y.inflateGetHeader=function(k,N){var S;return k&&k.state?(2&(S=k.state).wrap)==0?T:((S.head=N).done=!1,0):T},y.inflateSetDictionary=function(k,N){var S,O=N.length;return k&&k.state?(S=k.state).wrap!==0&&S.mode!==11?T:S.mode===11&&b(1,N,O,0)!==S.check?-3:_(k,N,O,O)?(S.mode=31,-4):(S.havedict=1,0):T},y.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(m,g,y){var p=m("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],v=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],j=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(T,D,q,z,B,V,X,W){var P,M,E,_,k,N,S,O,L,I=W.bits,G=0,Y=0,te=0,U=0,J=0,$=0,R=0,K=0,ee=0,se=0,ie=null,ae=0,re=new p.Buf16(16),le=new p.Buf16(16),ne=null,fe=0;for(G=0;G<=15;G++)re[G]=0;for(Y=0;Y<z;Y++)re[D[q+Y]]++;for(J=I,U=15;1<=U&&re[U]===0;U--);if(U<J&&(J=U),U===0)return B[V++]=20971520,B[V++]=20971520,W.bits=1,0;for(te=1;te<U&&re[te]===0;te++);for(J<te&&(J=te),G=K=1;G<=15;G++)if(K<<=1,(K-=re[G])<0)return-1;if(0<K&&(T===0||U!==1))return-1;for(le[1]=0,G=1;G<15;G++)le[G+1]=le[G]+re[G];for(Y=0;Y<z;Y++)D[q+Y]!==0&&(X[le[D[q+Y]]++]=Y);if(N=T===0?(ie=ne=X,19):T===1?(ie=b,ae-=257,ne=v,fe-=257,256):(ie=j,ne=C,-1),G=te,k=V,R=Y=se=0,E=-1,_=(ee=1<<($=J))-1,T===1&&852<ee||T===2&&592<ee)return 1;for(;;){for(S=G-R,L=X[Y]<N?(O=0,X[Y]):X[Y]>N?(O=ne[fe+X[Y]],ie[ae+X[Y]]):(O=96,0),P=1<<G-R,te=M=1<<$;B[k+(se>>R)+(M-=P)]=S<<24|O<<16|L|0,M!==0;);for(P=1<<G-1;se&P;)P>>=1;if(P!==0?(se&=P-1,se+=P):se=0,Y++,--re[G]==0){if(G===U)break;G=D[q+X[Y]]}if(J<G&&(se&_)!==E){for(R===0&&(R=J),k+=te,K=1<<($=G-R);$+R<U&&!((K-=re[$+R])<=0);)$++,K<<=1;if(ee+=1<<$,T===1&&852<ee||T===2&&592<ee)return 1;B[E=se&_]=J<<24|$<<16|k-V|0}}return se!==0&&(B[k+se]=G-R<<24|64<<16|0),W.bits=J,0}},{"../utils/common":41}],51:[function(m,g,y){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(m,g,y){var p=m("../utils/common");function b(ne){for(var fe=ne.length;0<=--fe;)ne[fe]=0}var v=256,j=286,C=30,T=15,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);b(V);var X=new Array(60);b(X);var W=new Array(512);b(W);var P=new Array(256);b(P);var M=new Array(29);b(M);var E,_,k,N=new Array(C);function S(ne,fe,ue,xe,ge){this.static_tree=ne,this.extra_bits=fe,this.extra_base=ue,this.elems=xe,this.max_length=ge,this.has_stree=ne&&ne.length}function O(ne,fe){this.dyn_tree=ne,this.max_code=0,this.stat_desc=fe}function L(ne){return ne<256?W[ne]:W[256+(ne>>>7)]}function I(ne,fe){ne.pending_buf[ne.pending++]=255&fe,ne.pending_buf[ne.pending++]=fe>>>8&255}function G(ne,fe,ue){ne.bi_valid>16-ue?(ne.bi_buf|=fe<<ne.bi_valid&65535,I(ne,ne.bi_buf),ne.bi_buf=fe>>16-ne.bi_valid,ne.bi_valid+=ue-16):(ne.bi_buf|=fe<<ne.bi_valid&65535,ne.bi_valid+=ue)}function Y(ne,fe,ue){G(ne,ue[2*fe],ue[2*fe+1])}function te(ne,fe){for(var ue=0;ue|=1&ne,ne>>>=1,ue<<=1,0<--fe;);return ue>>>1}function U(ne,fe,ue){var xe,ge,be=new Array(16),ke=0;for(xe=1;xe<=T;xe++)be[xe]=ke=ke+ue[xe-1]<<1;for(ge=0;ge<=fe;ge++){var Ee=ne[2*ge+1];Ee!==0&&(ne[2*ge]=te(be[Ee]++,Ee))}}function J(ne){var fe;for(fe=0;fe<j;fe++)ne.dyn_ltree[2*fe]=0;for(fe=0;fe<C;fe++)ne.dyn_dtree[2*fe]=0;for(fe=0;fe<19;fe++)ne.bl_tree[2*fe]=0;ne.dyn_ltree[512]=1,ne.opt_len=ne.static_len=0,ne.last_lit=ne.matches=0}function $(ne){8<ne.bi_valid?I(ne,ne.bi_buf):0<ne.bi_valid&&(ne.pending_buf[ne.pending++]=ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0}function R(ne,fe,ue,xe){var ge=2*fe,be=2*ue;return ne[ge]<ne[be]||ne[ge]===ne[be]&&xe[fe]<=xe[ue]}function K(ne,fe,ue){for(var xe=ne.heap[ue],ge=ue<<1;ge<=ne.heap_len&&(ge<ne.heap_len&&R(fe,ne.heap[ge+1],ne.heap[ge],ne.depth)&&ge++,!R(fe,xe,ne.heap[ge],ne.depth));)ne.heap[ue]=ne.heap[ge],ue=ge,ge<<=1;ne.heap[ue]=xe}function ee(ne,fe,ue){var xe,ge,be,ke,Ee=0;if(ne.last_lit!==0)for(;xe=ne.pending_buf[ne.d_buf+2*Ee]<<8|ne.pending_buf[ne.d_buf+2*Ee+1],ge=ne.pending_buf[ne.l_buf+Ee],Ee++,xe===0?Y(ne,ge,fe):(Y(ne,(be=P[ge])+v+1,fe),(ke=D[be])!==0&&G(ne,ge-=M[be],ke),Y(ne,be=L(--xe),ue),(ke=q[be])!==0&&G(ne,xe-=N[be],ke)),Ee<ne.last_lit;);Y(ne,256,fe)}function se(ne,fe){var ue,xe,ge,be=fe.dyn_tree,ke=fe.stat_desc.static_tree,Ee=fe.stat_desc.has_stree,ze=fe.stat_desc.elems,Fe=-1;for(ne.heap_len=0,ne.heap_max=573,ue=0;ue<ze;ue++)be[2*ue]!==0?(ne.heap[++ne.heap_len]=Fe=ue,ne.depth[ue]=0):be[2*ue+1]=0;for(;ne.heap_len<2;)be[2*(ge=ne.heap[++ne.heap_len]=Fe<2?++Fe:0)]=1,ne.depth[ge]=0,ne.opt_len--,Ee&&(ne.static_len-=ke[2*ge+1]);for(fe.max_code=Fe,ue=ne.heap_len>>1;1<=ue;ue--)K(ne,be,ue);for(ge=ze;ue=ne.heap[1],ne.heap[1]=ne.heap[ne.heap_len--],K(ne,be,1),xe=ne.heap[1],ne.heap[--ne.heap_max]=ue,ne.heap[--ne.heap_max]=xe,be[2*ge]=be[2*ue]+be[2*xe],ne.depth[ge]=(ne.depth[ue]>=ne.depth[xe]?ne.depth[ue]:ne.depth[xe])+1,be[2*ue+1]=be[2*xe+1]=ge,ne.heap[1]=ge++,K(ne,be,1),2<=ne.heap_len;);ne.heap[--ne.heap_max]=ne.heap[1],(function(de,ce){var je,Ce,Ue,Ye,Oe,qe,Qe=ce.dyn_tree,it=ce.max_code,at=ce.stat_desc.static_tree,Lt=ce.stat_desc.has_stree,Ht=ce.stat_desc.extra_bits,dt=ce.stat_desc.extra_base,ye=ce.stat_desc.max_length,Le=0;for(Ye=0;Ye<=T;Ye++)de.bl_count[Ye]=0;for(Qe[2*de.heap[de.heap_max]+1]=0,je=de.heap_max+1;je<573;je++)ye<(Ye=Qe[2*Qe[2*(Ce=de.heap[je])+1]+1]+1)&&(Ye=ye,Le++),Qe[2*Ce+1]=Ye,it<Ce||(de.bl_count[Ye]++,Oe=0,dt<=Ce&&(Oe=Ht[Ce-dt]),qe=Qe[2*Ce],de.opt_len+=qe*(Ye+Oe),Lt&&(de.static_len+=qe*(at[2*Ce+1]+Oe)));if(Le!==0){do{for(Ye=ye-1;de.bl_count[Ye]===0;)Ye--;de.bl_count[Ye]--,de.bl_count[Ye+1]+=2,de.bl_count[ye]--,Le-=2}while(0<Le);for(Ye=ye;Ye!==0;Ye--)for(Ce=de.bl_count[Ye];Ce!==0;)it<(Ue=de.heap[--je])||(Qe[2*Ue+1]!==Ye&&(de.opt_len+=(Ye-Qe[2*Ue+1])*Qe[2*Ue],Qe[2*Ue+1]=Ye),Ce--)}})(ne,fe),U(be,Fe,ne.bl_count)}function ie(ne,fe,ue){var xe,ge,be=-1,ke=fe[1],Ee=0,ze=7,Fe=4;for(ke===0&&(ze=138,Fe=3),fe[2*(ue+1)+1]=65535,xe=0;xe<=ue;xe++)ge=ke,ke=fe[2*(xe+1)+1],++Ee<ze&&ge===ke||(Ee<Fe?ne.bl_tree[2*ge]+=Ee:ge!==0?(ge!==be&&ne.bl_tree[2*ge]++,ne.bl_tree[32]++):Ee<=10?ne.bl_tree[34]++:ne.bl_tree[36]++,be=ge,Fe=(Ee=0)===ke?(ze=138,3):ge===ke?(ze=6,3):(ze=7,4))}function ae(ne,fe,ue){var xe,ge,be=-1,ke=fe[1],Ee=0,ze=7,Fe=4;for(ke===0&&(ze=138,Fe=3),xe=0;xe<=ue;xe++)if(ge=ke,ke=fe[2*(xe+1)+1],!(++Ee<ze&&ge===ke)){if(Ee<Fe)for(;Y(ne,ge,ne.bl_tree),--Ee!=0;);else ge!==0?(ge!==be&&(Y(ne,ge,ne.bl_tree),Ee--),Y(ne,16,ne.bl_tree),G(ne,Ee-3,2)):Ee<=10?(Y(ne,17,ne.bl_tree),G(ne,Ee-3,3)):(Y(ne,18,ne.bl_tree),G(ne,Ee-11,7));be=ge,Fe=(Ee=0)===ke?(ze=138,3):ge===ke?(ze=6,3):(ze=7,4)}}b(N);var re=!1;function le(ne,fe,ue,xe){G(ne,0+(xe?1:0),3),(function(ge,be,ke,Ee){$(ge),I(ge,ke),I(ge,~ke),p.arraySet(ge.pending_buf,ge.window,be,ke,ge.pending),ge.pending+=ke})(ne,fe,ue)}y._tr_init=function(ne){re||((function(){var fe,ue,xe,ge,be,ke=new Array(16);for(ge=xe=0;ge<28;ge++)for(M[ge]=xe,fe=0;fe<1<<D[ge];fe++)P[xe++]=ge;for(P[xe-1]=ge,ge=be=0;ge<16;ge++)for(N[ge]=be,fe=0;fe<1<<q[ge];fe++)W[be++]=ge;for(be>>=7;ge<C;ge++)for(N[ge]=be<<7,fe=0;fe<1<<q[ge]-7;fe++)W[256+be++]=ge;for(ue=0;ue<=T;ue++)ke[ue]=0;for(fe=0;fe<=143;)V[2*fe+1]=8,fe++,ke[8]++;for(;fe<=255;)V[2*fe+1]=9,fe++,ke[9]++;for(;fe<=279;)V[2*fe+1]=7,fe++,ke[7]++;for(;fe<=287;)V[2*fe+1]=8,fe++,ke[8]++;for(U(V,287,ke),fe=0;fe<C;fe++)X[2*fe+1]=5,X[2*fe]=te(fe,5);E=new S(V,D,257,j,T),_=new S(X,q,0,C,T),k=new S(new Array(0),z,0,19,7)})(),re=!0),ne.l_desc=new O(ne.dyn_ltree,E),ne.d_desc=new O(ne.dyn_dtree,_),ne.bl_desc=new O(ne.bl_tree,k),ne.bi_buf=0,ne.bi_valid=0,J(ne)},y._tr_stored_block=le,y._tr_flush_block=function(ne,fe,ue,xe){var ge,be,ke=0;0<ne.level?(ne.strm.data_type===2&&(ne.strm.data_type=(function(Ee){var ze,Fe=4093624447;for(ze=0;ze<=31;ze++,Fe>>>=1)if(1&Fe&&Ee.dyn_ltree[2*ze]!==0)return 0;if(Ee.dyn_ltree[18]!==0||Ee.dyn_ltree[20]!==0||Ee.dyn_ltree[26]!==0)return 1;for(ze=32;ze<v;ze++)if(Ee.dyn_ltree[2*ze]!==0)return 1;return 0})(ne)),se(ne,ne.l_desc),se(ne,ne.d_desc),ke=(function(Ee){var ze;for(ie(Ee,Ee.dyn_ltree,Ee.l_desc.max_code),ie(Ee,Ee.dyn_dtree,Ee.d_desc.max_code),se(Ee,Ee.bl_desc),ze=18;3<=ze&&Ee.bl_tree[2*B[ze]+1]===0;ze--);return Ee.opt_len+=3*(ze+1)+5+5+4,ze})(ne),ge=ne.opt_len+3+7>>>3,(be=ne.static_len+3+7>>>3)<=ge&&(ge=be)):ge=be=ue+5,ue+4<=ge&&fe!==-1?le(ne,fe,ue,xe):ne.strategy===4||be===ge?(G(ne,2+(xe?1:0),3),ee(ne,V,X)):(G(ne,4+(xe?1:0),3),(function(Ee,ze,Fe,de){var ce;for(G(Ee,ze-257,5),G(Ee,Fe-1,5),G(Ee,de-4,4),ce=0;ce<de;ce++)G(Ee,Ee.bl_tree[2*B[ce]+1],3);ae(Ee,Ee.dyn_ltree,ze-1),ae(Ee,Ee.dyn_dtree,Fe-1)})(ne,ne.l_desc.max_code+1,ne.d_desc.max_code+1,ke+1),ee(ne,ne.dyn_ltree,ne.dyn_dtree)),J(ne),xe&&$(ne)},y._tr_tally=function(ne,fe,ue){return ne.pending_buf[ne.d_buf+2*ne.last_lit]=fe>>>8&255,ne.pending_buf[ne.d_buf+2*ne.last_lit+1]=255&fe,ne.pending_buf[ne.l_buf+ne.last_lit]=255&ue,ne.last_lit++,fe===0?ne.dyn_ltree[2*ue]++:(ne.matches++,fe--,ne.dyn_ltree[2*(P[ue]+v+1)]++,ne.dyn_dtree[2*L(fe)]++),ne.last_lit===ne.lit_bufsize-1},y._tr_align=function(ne){G(ne,2,3),Y(ne,256,V),(function(fe){fe.bi_valid===16?(I(fe,fe.bi_buf),fe.bi_buf=0,fe.bi_valid=0):8<=fe.bi_valid&&(fe.pending_buf[fe.pending++]=255&fe.bi_buf,fe.bi_buf>>=8,fe.bi_valid-=8)})(ne)}},{"../utils/common":41}],53:[function(m,g,y){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(m,g,y){(function(p){(function(b,v){if(!b.setImmediate){var j,C,T,D,q=1,z={},B=!1,V=b.document,X=Object.getPrototypeOf&&Object.getPrototypeOf(b);X=X&&X.setTimeout?X:b,j={}.toString.call(b.process)==="[object process]"?function(E){i.nextTick((function(){P(E)}))}:(function(){if(b.postMessage&&!b.importScripts){var E=!0,_=b.onmessage;return b.onmessage=function(){E=!1},b.postMessage("","*"),b.onmessage=_,E}})()?(D="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",M,!1):b.attachEvent("onmessage",M),function(E){b.postMessage(D+E,"*")}):b.MessageChannel?((T=new MessageChannel).port1.onmessage=function(E){P(E.data)},function(E){T.port2.postMessage(E)}):V&&"onreadystatechange"in V.createElement("script")?(C=V.documentElement,function(E){var _=V.createElement("script");_.onreadystatechange=function(){P(E),_.onreadystatechange=null,C.removeChild(_),_=null},C.appendChild(_)}):function(E){setTimeout(P,0,E)},X.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var _=new Array(arguments.length-1),k=0;k<_.length;k++)_[k]=arguments[k+1];var N={callback:E,args:_};return z[q]=N,j(q),q++},X.clearImmediate=W}function W(E){delete z[E]}function P(E){if(B)setTimeout(P,0,E);else{var _=z[E];if(_){B=!0;try{(function(k){var N=k.callback,S=k.args;switch(S.length){case 0:N();break;case 1:N(S[0]);break;case 2:N(S[0],S[1]);break;case 3:N(S[0],S[1],S[2]);break;default:N.apply(void 0,S)}})(_)}finally{W(E),B=!1}}}}function M(E){E.source===b&&typeof E.data=="string"&&E.data.indexOf(D)===0&&P(+E.data.slice(D.length))}})(typeof self>"u"?p===void 0?this:p:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,s,l){(function(i){(function(){var o=/[\\^$.*+?()[\]{}|]/g,d=RegExp(o.source),c=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,u=c||a||Function("return this")(),f=Object.prototype.toString,h=u.Symbol,m=h?h.prototype:void 0,g=m?m.toString:void 0;function y(p){if(typeof p=="string")return p;if((function(v){return typeof v=="symbol"||(function(j){return!!j&&typeof j=="object"})(v)&&f.call(v)=="[object Symbol]"})(p))return g?g.call(p):"";var b=p+"";return b=="0"&&1/p==-1/0?"-0":b}s.exports=function(p){var b;return(p=(b=p)==null?"":y(b))&&d.test(p)?p.replace(o,"\\$&"):p}}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,s,l){(function(i){(function(){var o="[object Arguments]",d="[object Map]",c="[object Object]",a="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,y=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[o]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b[d]=b["[object Number]"]=b[c]=b["[object RegExp]"]=b[a]=b["[object String]"]=b["[object WeakMap]"]=!1;var v=typeof i=="object"&&i&&i.Object===Object&&i,j=typeof self=="object"&&self&&self.Object===Object&&self,C=v||j||Function("return this")(),T=typeof l=="object"&&l&&!l.nodeType&&l,D=T&&typeof s=="object"&&s&&!s.nodeType&&s,q=D&&D.exports===T&&v.process,z=(function(){try{return q&&q.binding("util")}catch{}})(),B=z&&z.isTypedArray;function V(he,Ne,Be,He){for(var yt=-1,Je=he?he.length:0;++yt<Je;){var nt=he[yt];Ne(He,nt,Be(nt),he)}return He}function X(he,Ne){for(var Be=-1,He=he?he.length:0;++Be<He;)if(Ne(he[Be],Be,he))return!0;return!1}function W(he){var Ne=!1;if(he!=null&&typeof he.toString!="function")try{Ne=!!(he+"")}catch{}return Ne}function P(he){var Ne=-1,Be=Array(he.size);return he.forEach((function(He,yt){Be[++Ne]=[yt,He]})),Be}function M(he){var Ne=-1,Be=Array(he.size);return he.forEach((function(He){Be[++Ne]=He})),Be}var E,_,k,N=Array.prototype,S=Function.prototype,O=Object.prototype,L=C["__core-js_shared__"],I=(E=/[^.]+$/.exec(L&&L.keys&&L.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",G=S.toString,Y=O.hasOwnProperty,te=O.toString,U=RegExp("^"+G.call(Y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),J=C.Symbol,$=C.Uint8Array,R=O.propertyIsEnumerable,K=N.splice,ee=(_=Object.keys,k=Object,function(he){return _(k(he))}),se=lt(C,"DataView"),ie=lt(C,"Map"),ae=lt(C,"Promise"),re=lt(C,"Set"),le=lt(C,"WeakMap"),ne=lt(Object,"create"),fe=Se(se),ue=Se(ie),xe=Se(ae),ge=Se(re),be=Se(le),ke=J?J.prototype:void 0,Ee=ke?ke.valueOf:void 0,ze=ke?ke.toString:void 0;function Fe(he){var Ne=-1,Be=he?he.length:0;for(this.clear();++Ne<Be;){var He=he[Ne];this.set(He[0],He[1])}}function de(he){var Ne=-1,Be=he?he.length:0;for(this.clear();++Ne<Be;){var He=he[Ne];this.set(He[0],He[1])}}function ce(he){var Ne=-1,Be=he?he.length:0;for(this.clear();++Ne<Be;){var He=he[Ne];this.set(He[0],He[1])}}function je(he){var Ne=-1,Be=he?he.length:0;for(this.__data__=new ce;++Ne<Be;)this.add(he[Ne])}function Ce(he){this.__data__=new de(he)}function Ue(he,Ne){var Be=kt(he)||Pt(he)?(function(nt,Xt){for(var Ft=-1,Rt=Array(nt);++Ft<nt;)Rt[Ft]=Xt(Ft);return Rt})(he.length,String):[],He=Be.length,yt=!!He;for(var Je in he)!Y.call(he,Je)||yt&&(Je=="length"||Wt(Je,He))||Be.push(Je);return Be}function Ye(he,Ne){for(var Be=he.length;Be--;)if(Ze(he[Be][0],Ne))return Be;return-1}function Oe(he,Ne,Be,He){return Qe(he,(function(yt,Je,nt){Ne(He,yt,Be(yt),nt)})),He}Fe.prototype.clear=function(){this.__data__=ne?ne(null):{}},Fe.prototype.delete=function(he){return this.has(he)&&delete this.__data__[he]},Fe.prototype.get=function(he){var Ne=this.__data__;if(ne){var Be=Ne[he];return Be==="__lodash_hash_undefined__"?void 0:Be}return Y.call(Ne,he)?Ne[he]:void 0},Fe.prototype.has=function(he){var Ne=this.__data__;return ne?Ne[he]!==void 0:Y.call(Ne,he)},Fe.prototype.set=function(he,Ne){return this.__data__[he]=ne&&Ne===void 0?"__lodash_hash_undefined__":Ne,this},de.prototype.clear=function(){this.__data__=[]},de.prototype.delete=function(he){var Ne=this.__data__,Be=Ye(Ne,he);return!(Be<0)&&(Be==Ne.length-1?Ne.pop():K.call(Ne,Be,1),!0)},de.prototype.get=function(he){var Ne=this.__data__,Be=Ye(Ne,he);return Be<0?void 0:Ne[Be][1]},de.prototype.has=function(he){return Ye(this.__data__,he)>-1},de.prototype.set=function(he,Ne){var Be=this.__data__,He=Ye(Be,he);return He<0?Be.push([he,Ne]):Be[He][1]=Ne,this},ce.prototype.clear=function(){this.__data__={hash:new Fe,map:new(ie||de),string:new Fe}},ce.prototype.delete=function(he){return gt(this,he).delete(he)},ce.prototype.get=function(he){return gt(this,he).get(he)},ce.prototype.has=function(he){return gt(this,he).has(he)},ce.prototype.set=function(he,Ne){return gt(this,he).set(he,Ne),this},je.prototype.add=je.prototype.push=function(he){return this.__data__.set(he,"__lodash_hash_undefined__"),this},je.prototype.has=function(he){return this.__data__.has(he)},Ce.prototype.clear=function(){this.__data__=new de},Ce.prototype.delete=function(he){return this.__data__.delete(he)},Ce.prototype.get=function(he){return this.__data__.get(he)},Ce.prototype.has=function(he){return this.__data__.has(he)},Ce.prototype.set=function(he,Ne){var Be=this.__data__;if(Be instanceof de){var He=Be.__data__;if(!ie||He.length<199)return He.push([he,Ne]),this;Be=this.__data__=new ce(He)}return Be.set(he,Ne),this};var qe,Qe=(qe=function(he,Ne){return he&&it(he,Ne,Bt)},function(he,Ne){if(he==null)return he;if(!ft(he))return qe(he,Ne);for(var Be=he.length,He=-1,yt=Object(he);++He<Be&&Ne(yt[He],He,yt)!==!1;);return he}),it=(function(he){return function(Ne,Be,He){for(var yt=-1,Je=Object(Ne),nt=He(Ne),Xt=nt.length;Xt--;){var Ft=nt[++yt];if(Be(Je[Ft],Ft,Je)===!1)break}return Ne}})();function at(he,Ne){for(var Be=0,He=(Ne=wt(Ne,he)?[Ne]:Ke(Ne)).length;he!=null&&Be<He;)he=he[ve(Ne[Be++])];return Be&&Be==He?he:void 0}function Lt(he,Ne){return he!=null&&Ne in Object(he)}function Ht(he,Ne,Be,He,yt){return he===Ne||(he==null||Ne==null||!$e(he)&&!st(Ne)?he!=he&&Ne!=Ne:(function(Je,nt,Xt,Ft,Rt,Tt){var Vt=kt(Je),ir=kt(nt),lr="[object Array]",br="[object Array]";Vt||(lr=(lr=Dt(Je))==o?c:lr),ir||(br=(br=Dt(nt))==o?c:br);var Pr=lr==c&&!W(Je),Hr=br==c&&!W(nt),vn=lr==br;if(vn&&!Pr)return Tt||(Tt=new Ce),Vt||Et(Je)?It(Je,nt,Xt,Ft,Rt,Tt):(function(nr,Yt,Hn,wi,pa,Ut,ys){switch(Hn){case"[object DataView]":if(nr.byteLength!=Yt.byteLength||nr.byteOffset!=Yt.byteOffset)return!1;nr=nr.buffer,Yt=Yt.buffer;case"[object ArrayBuffer]":return!(nr.byteLength!=Yt.byteLength||!wi(new $(nr),new $(Yt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ze(+nr,+Yt);case"[object Error]":return nr.name==Yt.name&&nr.message==Yt.message;case"[object RegExp]":case"[object String]":return nr==Yt+"";case d:var Is=P;case a:var _i=2&Ut;if(Is||(Is=M),nr.size!=Yt.size&&!_i)return!1;var Qa=ys.get(nr);if(Qa)return Qa==Yt;Ut|=1,ys.set(nr,Yt);var ji=It(Is(nr),Is(Yt),wi,pa,Ut,ys);return ys.delete(nr),ji;case"[object Symbol]":if(Ee)return Ee.call(nr)==Ee.call(Yt)}return!1})(Je,nt,lr,Xt,Ft,Rt,Tt);if(!(2&Rt)){var gs=Pr&&Y.call(Je,"__wrapped__"),ha=Hr&&Y.call(nt,"__wrapped__");if(gs||ha){var ma=gs?Je.value():Je,Js=ha?nt.value():nt;return Tt||(Tt=new Ce),Xt(ma,Js,Ft,Rt,Tt)}}return vn?(Tt||(Tt=new Ce),(function(nr,Yt,Hn,wi,pa,Ut){var ys=2&pa,Is=Bt(nr),_i=Is.length,Qa=Bt(Yt).length;if(_i!=Qa&&!ys)return!1;for(var ji=_i;ji--;){var Rs=Is[ji];if(!(ys?Rs in Yt:Y.call(Yt,Rs)))return!1}var qo=Ut.get(nr);if(qo&&Ut.get(Yt))return qo==Yt;var Ni=!0;Ut.set(nr,Yt),Ut.set(Yt,nr);for(var xs=ys;++ji<_i;){Rs=Is[ji];var ts=nr[Rs],rs=Yt[Rs];if(wi)var ga=ys?wi(rs,ts,Rs,Yt,nr,Ut):wi(ts,rs,Rs,nr,Yt,Ut);if(!(ga===void 0?ts===rs||Hn(ts,rs,wi,pa,Ut):ga)){Ni=!1;break}xs||(xs=Rs=="constructor")}if(Ni&&!xs){var Qs=nr.constructor,ns=Yt.constructor;Qs==ns||!("constructor"in nr)||!("constructor"in Yt)||typeof Qs=="function"&&Qs instanceof Qs&&typeof ns=="function"&&ns instanceof ns||(Ni=!1)}return Ut.delete(nr),Ut.delete(Yt),Ni})(Je,nt,Xt,Ft,Rt,Tt)):!1})(he,Ne,Ht,Be,He,yt))}function dt(he){return!(!$e(he)||(function(Ne){return!!I&&I in Ne})(he))&&(me(he)||W(he)?U:y).test(Se(he))}function ye(he){return typeof he=="function"?he:he==null?Nn:typeof he=="object"?kt(he)?(function(He,yt){return wt(He)&&zt(yt)?Kt(ve(He),yt):function(Je){var nt=(function(Xt,Ft,Rt){var Tt=Xt==null?void 0:at(Xt,Ft);return Tt===void 0?Rt:Tt})(Je,He);return nt===void 0&&nt===yt?(function(Xt,Ft){return Xt!=null&&(function(Rt,Tt,Vt){Tt=wt(Tt,Rt)?[Tt]:Ke(Tt);for(var ir,lr=-1,br=Tt.length;++lr<br;){var Pr=ve(Tt[lr]);if(!(ir=Rt!=null&&Vt(Rt,Pr)))break;Rt=Rt[Pr]}return ir||!!(br=Rt?Rt.length:0)&&Re(br)&&Wt(Pr,br)&&(kt(Rt)||Pt(Rt))})(Xt,Ft,Lt)})(Je,He):Ht(yt,nt,void 0,3)}})(he[0],he[1]):(function(He){var yt=(function(Je){for(var nt=Bt(Je),Xt=nt.length;Xt--;){var Ft=nt[Xt],Rt=Je[Ft];nt[Xt]=[Ft,Rt,zt(Rt)]}return nt})(He);return yt.length==1&&yt[0][2]?Kt(yt[0][0],yt[0][1]):function(Je){return Je===He||(function(nt,Xt,Ft,Rt){var Tt=Ft.length,Vt=Tt;if(nt==null)return!Vt;for(nt=Object(nt);Tt--;){var ir=Ft[Tt];if(ir[2]?ir[1]!==nt[ir[0]]:!(ir[0]in nt))return!1}for(;++Tt<Vt;){var lr=(ir=Ft[Tt])[0],br=nt[lr],Pr=ir[1];if(ir[2]){if(br===void 0&&!(lr in nt))return!1}else{var Hr=new Ce,vn;if(!(vn===void 0?Ht(Pr,br,Rt,3,Hr):vn))return!1}}return!0})(Je,He,yt)}})(he):wt(Ne=he)?(Be=ve(Ne),function(He){return He?.[Be]}):(function(He){return function(yt){return at(yt,He)}})(Ne);var Ne,Be}function Le(he){if(Be=(Ne=he)&&Ne.constructor,He=typeof Be=="function"&&Be.prototype||O,Ne!==He)return ee(he);var Ne,Be,He,yt=[];for(var Je in Object(he))Y.call(he,Je)&&Je!="constructor"&&yt.push(Je);return yt}function Ke(he){return kt(he)?he:At(he)}function It(he,Ne,Be,He,yt,Je){var nt=2&yt,Xt=he.length,Ft=Ne.length;if(Xt!=Ft&&!(nt&&Ft>Xt))return!1;var Rt=Je.get(he);if(Rt&&Je.get(Ne))return Rt==Ne;var Tt=-1,Vt=!0,ir=1&yt?new je:void 0;for(Je.set(he,Ne),Je.set(Ne,he);++Tt<Xt;){var lr=he[Tt],br=Ne[Tt];if(He)var Pr=nt?He(br,lr,Tt,Ne,he,Je):He(lr,br,Tt,he,Ne,Je);if(Pr!==void 0){if(Pr)continue;Vt=!1;break}if(ir){if(!X(Ne,(function(Hr,vn){if(!ir.has(vn)&&(lr===Hr||Be(lr,Hr,He,yt,Je)))return ir.add(vn)}))){Vt=!1;break}}else if(lr!==br&&!Be(lr,br,He,yt,Je)){Vt=!1;break}}return Je.delete(he),Je.delete(Ne),Vt}function gt(he,Ne){var Be,He,yt=he.__data__;return((He=typeof(Be=Ne))=="string"||He=="number"||He=="symbol"||He=="boolean"?Be!=="__proto__":Be===null)?yt[typeof Ne=="string"?"string":"hash"]:yt.map}function lt(he,Ne){var Be=(function(He,yt){return He?.[yt]})(he,Ne);return dt(Be)?Be:void 0}var Dt=function(he){return te.call(he)};function Wt(he,Ne){return!!(Ne=Ne??9007199254740991)&&(typeof he=="number"||p.test(he))&&he>-1&&he%1==0&&he<Ne}function wt(he,Ne){if(kt(he))return!1;var Be=typeof he;return!(Be!="number"&&Be!="symbol"&&Be!="boolean"&&he!=null&&!ct(he))||f.test(he)||!u.test(he)||Ne!=null&&he in Object(Ne)}function zt(he){return he==he&&!$e(he)}function Kt(he,Ne){return function(Be){return Be!=null&&Be[he]===Ne&&(Ne!==void 0||he in Object(Be))}}(se&&Dt(new se(new ArrayBuffer(1)))!="[object DataView]"||ie&&Dt(new ie)!=d||ae&&Dt(ae.resolve())!="[object Promise]"||re&&Dt(new re)!=a||le&&Dt(new le)!="[object WeakMap]")&&(Dt=function(he){var Ne=te.call(he),Be=Ne==c?he.constructor:void 0,He=Be?Se(Be):void 0;if(He)switch(He){case fe:return"[object DataView]";case ue:return d;case xe:return"[object Promise]";case ge:return a;case be:return"[object WeakMap]"}return Ne});var At=Ct((function(he){var Ne;he=(Ne=he)==null?"":(function(He){if(typeof He=="string")return He;if(ct(He))return ze?ze.call(He):"";var yt=He+"";return yt=="0"&&1/He==-1/0?"-0":yt})(Ne);var Be=[];return h.test(he)&&Be.push(""),he.replace(m,(function(He,yt,Je,nt){Be.push(Je?nt.replace(g,"$1"):yt||He)})),Be}));function ve(he){if(typeof he=="string"||ct(he))return he;var Ne=he+"";return Ne=="0"&&1/he==-1/0?"-0":Ne}function Se(he){if(he!=null){try{return G.call(he)}catch{}try{return he+""}catch{}}return""}var De,et=(De=function(he,Ne,Be){Y.call(he,Be)?he[Be].push(Ne):he[Be]=[Ne]},function(he,Ne){var Be=kt(he)?V:Oe,He={};return Be(he,De,ye(Ne),He)});function Ct(he,Ne){if(typeof he!="function"||Ne&&typeof Ne!="function")throw new TypeError("Expected a function");var Be=function(){var He=arguments,yt=Ne?Ne.apply(this,He):He[0],Je=Be.cache;if(Je.has(yt))return Je.get(yt);var nt=he.apply(this,He);return Be.cache=Je.set(yt,nt),nt};return Be.cache=new(Ct.Cache||ce),Be}function Ze(he,Ne){return he===Ne||he!=he&&Ne!=Ne}function Pt(he){return(function(Ne){return st(Ne)&&ft(Ne)})(he)&&Y.call(he,"callee")&&(!R.call(he,"callee")||te.call(he)==o)}Ct.Cache=ce;var kt=Array.isArray;function ft(he){return he!=null&&Re(he.length)&&!me(he)}function me(he){var Ne=$e(he)?te.call(he):"";return Ne=="[object Function]"||Ne=="[object GeneratorFunction]"}function Re(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=9007199254740991}function $e(he){var Ne=typeof he;return!!he&&(Ne=="object"||Ne=="function")}function st(he){return!!he&&typeof he=="object"}function ct(he){return typeof he=="symbol"||st(he)&&te.call(he)=="[object Symbol]"}var Et=B?(function(he){return function(Ne){return he(Ne)}})(B):function(he){return st(he)&&Re(he.length)&&!!b[te.call(he)]};function Bt(he){return ft(he)?Ue(he):Le(he)}function Nn(he){return he}s.exports=et}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,s,l){var i=Object.prototype.toString;s.exports=function(o){return o===!0||o===!1||(function(d){return!!d&&typeof d=="object"})(o)&&i.call(o)=="[object Boolean]"}},{}],445:[function(t,s,l){(function(i){(function(){var o="[object Arguments]",d="[object Map]",c="[object Object]",a="[object Set]",u=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[o]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[d]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h[a]=h["[object String]"]=h["[object WeakMap]"]=!1;var m=typeof i=="object"&&i&&i.Object===Object&&i,g=typeof self=="object"&&self&&self.Object===Object&&self,y=m||g||Function("return this")(),p=typeof l=="object"&&l&&!l.nodeType&&l,b=p&&typeof s=="object"&&s&&!s.nodeType&&s,v=b&&b.exports===p,j=v&&m.process,C=(function(){try{return j&&j.binding&&j.binding("util")}catch{}})(),T=C&&C.isTypedArray;function D(ve,Se){for(var De=-1,et=ve==null?0:ve.length;++De<et;)if(Se(ve[De],De,ve))return!0;return!1}function q(ve){var Se=-1,De=Array(ve.size);return ve.forEach((function(et,Ct){De[++Se]=[Ct,et]})),De}function z(ve){var Se=-1,De=Array(ve.size);return ve.forEach((function(et){De[++Se]=et})),De}var B,V,X,W=Array.prototype,P=Function.prototype,M=Object.prototype,E=y["__core-js_shared__"],_=P.toString,k=M.hasOwnProperty,N=(B=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",S=M.toString,O=RegExp("^"+_.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=v?y.Buffer:void 0,I=y.Symbol,G=y.Uint8Array,Y=M.propertyIsEnumerable,te=W.splice,U=I?I.toStringTag:void 0,J=Object.getOwnPropertySymbols,$=L?L.isBuffer:void 0,R=(V=Object.keys,X=Object,function(ve){return V(X(ve))}),K=Lt(y,"DataView"),ee=Lt(y,"Map"),se=Lt(y,"Promise"),ie=Lt(y,"Set"),ae=Lt(y,"WeakMap"),re=Lt(Object,"create"),le=Le(K),ne=Le(ee),fe=Le(se),ue=Le(ie),xe=Le(ae),ge=I?I.prototype:void 0,be=ge?ge.valueOf:void 0;function ke(ve){var Se=-1,De=ve==null?0:ve.length;for(this.clear();++Se<De;){var et=ve[Se];this.set(et[0],et[1])}}function Ee(ve){var Se=-1,De=ve==null?0:ve.length;for(this.clear();++Se<De;){var et=ve[Se];this.set(et[0],et[1])}}function ze(ve){var Se=-1,De=ve==null?0:ve.length;for(this.clear();++Se<De;){var et=ve[Se];this.set(et[0],et[1])}}function Fe(ve){var Se=-1,De=ve==null?0:ve.length;for(this.__data__=new ze;++Se<De;)this.add(ve[Se])}function de(ve){var Se=this.__data__=new Ee(ve);this.size=Se.size}function ce(ve,Se){var De=gt(ve),et=!De&&It(ve),Ct=!De&&!et&&lt(ve),Ze=!De&&!et&&!Ct&&Kt(ve),Pt=De||et||Ct||Ze,kt=Pt?(function(Re,$e){for(var st=-1,ct=Array(Re);++st<Re;)ct[st]=$e(st);return ct})(ve.length,String):[],ft=kt.length;for(var me in ve)!k.call(ve,me)||Pt&&(me=="length"||Ct&&(me=="offset"||me=="parent")||Ze&&(me=="buffer"||me=="byteLength"||me=="byteOffset")||ye(me,ft))||kt.push(me);return kt}function je(ve,Se){for(var De=ve.length;De--;)if(Ke(ve[De][0],Se))return De;return-1}function Ce(ve){return ve==null?ve===void 0?"[object Undefined]":"[object Null]":U&&U in Object(ve)?(function(Se){var De=k.call(Se,U),et=Se[U];try{Se[U]=void 0;var Ct=!0}catch{}var Ze=S.call(Se);return Ct&&(De?Se[U]=et:delete Se[U]),Ze})(ve):(function(Se){return S.call(Se)})(ve)}function Ue(ve){return zt(ve)&&Ce(ve)==o}function Ye(ve,Se,De,et,Ct){return ve===Se||(ve==null||Se==null||!zt(ve)&&!zt(Se)?ve!=ve&&Se!=Se:(function(Ze,Pt,kt,ft,me,Re){var $e=gt(Ze),st=gt(Pt),ct=$e?"[object Array]":dt(Ze),Et=st?"[object Array]":dt(Pt),Bt=(ct=ct==o?c:ct)==c,Nn=(Et=Et==o?c:Et)==c,he=ct==Et;if(he&&lt(Ze)){if(!lt(Pt))return!1;$e=!0,Bt=!1}if(he&&!Bt)return Re||(Re=new de),$e||Kt(Ze)?Qe(Ze,Pt,kt,ft,me,Re):(function(Je,nt,Xt,Ft,Rt,Tt,Vt){switch(Xt){case"[object DataView]":if(Je.byteLength!=nt.byteLength||Je.byteOffset!=nt.byteOffset)return!1;Je=Je.buffer,nt=nt.buffer;case"[object ArrayBuffer]":return!(Je.byteLength!=nt.byteLength||!Tt(new G(Je),new G(nt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ke(+Je,+nt);case"[object Error]":return Je.name==nt.name&&Je.message==nt.message;case"[object RegExp]":case"[object String]":return Je==nt+"";case d:var ir=q;case a:var lr=1&Ft;if(ir||(ir=z),Je.size!=nt.size&&!lr)return!1;var br=Vt.get(Je);if(br)return br==nt;Ft|=2,Vt.set(Je,nt);var Pr=Qe(ir(Je),ir(nt),Ft,Rt,Tt,Vt);return Vt.delete(Je),Pr;case"[object Symbol]":if(be)return be.call(Je)==be.call(nt)}return!1})(Ze,Pt,ct,kt,ft,me,Re);if(!(1&kt)){var Ne=Bt&&k.call(Ze,"__wrapped__"),Be=Nn&&k.call(Pt,"__wrapped__");if(Ne||Be){var He=Ne?Ze.value():Ze,yt=Be?Pt.value():Pt;return Re||(Re=new de),me(He,yt,kt,ft,Re)}}return he?(Re||(Re=new de),(function(Je,nt,Xt,Ft,Rt,Tt){var Vt=1&Xt,ir=it(Je),lr=ir.length,br=it(nt).length;if(lr!=br&&!Vt)return!1;for(var Pr=lr;Pr--;){var Hr=ir[Pr];if(!(Vt?Hr in nt:k.call(nt,Hr)))return!1}var vn=Tt.get(Je);if(vn&&Tt.get(nt))return vn==nt;var gs=!0;Tt.set(Je,nt),Tt.set(nt,Je);for(var ha=Vt;++Pr<lr;){Hr=ir[Pr];var ma=Je[Hr],Js=nt[Hr];if(Ft)var nr=Vt?Ft(Js,ma,Hr,nt,Je,Tt):Ft(ma,Js,Hr,Je,nt,Tt);if(!(nr===void 0?ma===Js||Rt(ma,Js,Xt,Ft,Tt):nr)){gs=!1;break}ha||(ha=Hr=="constructor")}if(gs&&!ha){var Yt=Je.constructor,Hn=nt.constructor;Yt==Hn||!("constructor"in Je)||!("constructor"in nt)||typeof Yt=="function"&&Yt instanceof Yt&&typeof Hn=="function"&&Hn instanceof Hn||(gs=!1)}return Tt.delete(Je),Tt.delete(nt),gs})(Ze,Pt,kt,ft,me,Re)):!1})(ve,Se,De,et,Ye,Ct))}function Oe(ve){return!(!wt(ve)||(function(Se){return!!N&&N in Se})(ve))&&(Dt(ve)?O:u).test(Le(ve))}function qe(ve){if(De=(Se=ve)&&Se.constructor,et=typeof De=="function"&&De.prototype||M,Se!==et)return R(ve);var Se,De,et,Ct=[];for(var Ze in Object(ve))k.call(ve,Ze)&&Ze!="constructor"&&Ct.push(Ze);return Ct}function Qe(ve,Se,De,et,Ct,Ze){var Pt=1&De,kt=ve.length,ft=Se.length;if(kt!=ft&&!(Pt&&ft>kt))return!1;var me=Ze.get(ve);if(me&&Ze.get(Se))return me==Se;var Re=-1,$e=!0,st=2&De?new Fe:void 0;for(Ze.set(ve,Se),Ze.set(Se,ve);++Re<kt;){var ct=ve[Re],Et=Se[Re];if(et)var Bt=Pt?et(Et,ct,Re,Se,ve,Ze):et(ct,Et,Re,ve,Se,Ze);if(Bt!==void 0){if(Bt)continue;$e=!1;break}if(st){if(!D(Se,(function(Nn,he){if(Ne=he,!st.has(Ne)&&(ct===Nn||Ct(ct,Nn,De,et,Ze)))return st.push(he);var Ne}))){$e=!1;break}}else if(ct!==Et&&!Ct(ct,Et,De,et,Ze)){$e=!1;break}}return Ze.delete(ve),Ze.delete(Se),$e}function it(ve){return(function(Se,De,et){var Ct=De(Se);return gt(Se)?Ct:(function(Ze,Pt){for(var kt=-1,ft=Pt.length,me=Ze.length;++kt<ft;)Ze[me+kt]=Pt[kt];return Ze})(Ct,et(Se))})(ve,At,Ht)}function at(ve,Se){var De,et,Ct=ve.__data__;return((et=typeof(De=Se))=="string"||et=="number"||et=="symbol"||et=="boolean"?De!=="__proto__":De===null)?Ct[typeof Se=="string"?"string":"hash"]:Ct.map}function Lt(ve,Se){var De=(function(et,Ct){return et?.[Ct]})(ve,Se);return Oe(De)?De:void 0}ke.prototype.clear=function(){this.__data__=re?re(null):{},this.size=0},ke.prototype.delete=function(ve){var Se=this.has(ve)&&delete this.__data__[ve];return this.size-=Se?1:0,Se},ke.prototype.get=function(ve){var Se=this.__data__;if(re){var De=Se[ve];return De==="__lodash_hash_undefined__"?void 0:De}return k.call(Se,ve)?Se[ve]:void 0},ke.prototype.has=function(ve){var Se=this.__data__;return re?Se[ve]!==void 0:k.call(Se,ve)},ke.prototype.set=function(ve,Se){var De=this.__data__;return this.size+=this.has(ve)?0:1,De[ve]=re&&Se===void 0?"__lodash_hash_undefined__":Se,this},Ee.prototype.clear=function(){this.__data__=[],this.size=0},Ee.prototype.delete=function(ve){var Se=this.__data__,De=je(Se,ve);return!(De<0)&&(De==Se.length-1?Se.pop():te.call(Se,De,1),--this.size,!0)},Ee.prototype.get=function(ve){var Se=this.__data__,De=je(Se,ve);return De<0?void 0:Se[De][1]},Ee.prototype.has=function(ve){return je(this.__data__,ve)>-1},Ee.prototype.set=function(ve,Se){var De=this.__data__,et=je(De,ve);return et<0?(++this.size,De.push([ve,Se])):De[et][1]=Se,this},ze.prototype.clear=function(){this.size=0,this.__data__={hash:new ke,map:new(ee||Ee),string:new ke}},ze.prototype.delete=function(ve){var Se=at(this,ve).delete(ve);return this.size-=Se?1:0,Se},ze.prototype.get=function(ve){return at(this,ve).get(ve)},ze.prototype.has=function(ve){return at(this,ve).has(ve)},ze.prototype.set=function(ve,Se){var De=at(this,ve),et=De.size;return De.set(ve,Se),this.size+=De.size==et?0:1,this},Fe.prototype.add=Fe.prototype.push=function(ve){return this.__data__.set(ve,"__lodash_hash_undefined__"),this},Fe.prototype.has=function(ve){return this.__data__.has(ve)},de.prototype.clear=function(){this.__data__=new Ee,this.size=0},de.prototype.delete=function(ve){var Se=this.__data__,De=Se.delete(ve);return this.size=Se.size,De},de.prototype.get=function(ve){return this.__data__.get(ve)},de.prototype.has=function(ve){return this.__data__.has(ve)},de.prototype.set=function(ve,Se){var De=this.__data__;if(De instanceof Ee){var et=De.__data__;if(!ee||et.length<199)return et.push([ve,Se]),this.size=++De.size,this;De=this.__data__=new ze(et)}return De.set(ve,Se),this.size=De.size,this};var Ht=J?function(ve){return ve==null?[]:(ve=Object(ve),(function(Se,De){for(var et=-1,Ct=Se==null?0:Se.length,Ze=0,Pt=[];++et<Ct;){var kt=Se[et];De(kt,et,Se)&&(Pt[Ze++]=kt)}return Pt})(J(ve),(function(Se){return Y.call(ve,Se)})))}:function(){return[]},dt=Ce;function ye(ve,Se){return!!(Se=Se??9007199254740991)&&(typeof ve=="number"||f.test(ve))&&ve>-1&&ve%1==0&&ve<Se}function Le(ve){if(ve!=null){try{return _.call(ve)}catch{}try{return ve+""}catch{}}return""}function Ke(ve,Se){return ve===Se||ve!=ve&&Se!=Se}(K&&dt(new K(new ArrayBuffer(1)))!="[object DataView]"||ee&&dt(new ee)!=d||se&&dt(se.resolve())!="[object Promise]"||ie&&dt(new ie)!=a||ae&&dt(new ae)!="[object WeakMap]")&&(dt=function(ve){var Se=Ce(ve),De=Se==c?ve.constructor:void 0,et=De?Le(De):"";if(et)switch(et){case le:return"[object DataView]";case ne:return d;case fe:return"[object Promise]";case ue:return a;case xe:return"[object WeakMap]"}return Se});var It=Ue((function(){return arguments})())?Ue:function(ve){return zt(ve)&&k.call(ve,"callee")&&!Y.call(ve,"callee")},gt=Array.isArray,lt=$||function(){return!1};function Dt(ve){if(!wt(ve))return!1;var Se=Ce(ve);return Se=="[object Function]"||Se=="[object GeneratorFunction]"||Se=="[object AsyncFunction]"||Se=="[object Proxy]"}function Wt(ve){return typeof ve=="number"&&ve>-1&&ve%1==0&&ve<=9007199254740991}function wt(ve){var Se=typeof ve;return ve!=null&&(Se=="object"||Se=="function")}function zt(ve){return ve!=null&&typeof ve=="object"}var Kt=T?(function(ve){return function(Se){return ve(Se)}})(T):function(ve){return zt(ve)&&Wt(ve.length)&&!!h[Ce(ve)]};function At(ve){return(Se=ve)!=null&&Wt(Se.length)&&!Dt(Se)?ce(ve):qe(ve);var Se}s.exports=function(ve,Se){return Ye(ve,Se)}}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,s,l){(function(i){(function(){var o=typeof i=="object"&&i&&i.Object===Object&&i,d=typeof self=="object"&&self&&self.Object===Object&&self,c=o||d||Function("return this")(),a=Object.prototype,u=a.hasOwnProperty,f=a.toString,h=c.Symbol,m=h?h.toStringTag:void 0;function g(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":m&&m in Object(y)?(function(p){var b=u.call(p,m),v=p[m];try{p[m]=void 0;var j=!0}catch{}var C=f.call(p);return j&&(b?p[m]=v:delete p[m]),C})(y):(function(p){return f.call(p)})(y)}s.exports=function(y){if(!(function(b){var v=typeof b;return b!=null&&(v=="object"||v=="function")})(y))return!1;var p=g(y);return p=="[object Function]"||p=="[object GeneratorFunction]"||p=="[object AsyncFunction]"||p=="[object Proxy]"}}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,s,l){s.exports=function(i){return i==null}},{}],448:[function(t,s,l){s.exports=function(i){return i===void 0}},{}],449:[function(t,s,l){(function(i){(function(){var o=/^\[object .+?Constructor\]$/,d=typeof i=="object"&&i&&i.Object===Object&&i,c=typeof self=="object"&&self&&self.Object===Object&&self,a=d||c||Function("return this")();function u(I,G){return!!(I&&I.length)&&(function(Y,te,U){if(te!=te)return(function(R,K,ee,se){for(var ie=R.length,ae=ee+-1;++ae<ie;)if(K(R[ae],ae,R))return ae;return-1})(Y,f,U);for(var J=U-1,$=Y.length;++J<$;)if(Y[J]===te)return J;return-1})(I,G,0)>-1}function f(I){return I!=I}function h(I,G){return I.has(G)}function m(I){var G=-1,Y=Array(I.size);return I.forEach((function(te){Y[++G]=te})),Y}var g,y=Array.prototype,p=Function.prototype,b=Object.prototype,v=a["__core-js_shared__"],j=(g=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",C=p.toString,T=b.hasOwnProperty,D=b.toString,q=RegExp("^"+C.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=y.splice,B=O(a,"Map"),V=O(a,"Set"),X=O(Object,"create");function W(I){var G=-1,Y=I?I.length:0;for(this.clear();++G<Y;){var te=I[G];this.set(te[0],te[1])}}function P(I){var G=-1,Y=I?I.length:0;for(this.clear();++G<Y;){var te=I[G];this.set(te[0],te[1])}}function M(I){var G=-1,Y=I?I.length:0;for(this.clear();++G<Y;){var te=I[G];this.set(te[0],te[1])}}function E(I){var G=-1,Y=I?I.length:0;for(this.__data__=new M;++G<Y;)this.add(I[G])}function _(I,G){for(var Y,te,U=I.length;U--;)if((Y=I[U][0])===(te=G)||Y!=Y&&te!=te)return U;return-1}function k(I){return!(!L(I)||(G=I,j&&j in G))&&((function(Y){var te=L(Y)?D.call(Y):"";return te=="[object Function]"||te=="[object GeneratorFunction]"})(I)||(function(Y){var te=!1;if(Y!=null&&typeof Y.toString!="function")try{te=!!(Y+"")}catch{}return te})(I)?q:o).test((function(Y){if(Y!=null){try{return C.call(Y)}catch{}try{return Y+""}catch{}}return""})(I));var G}W.prototype.clear=function(){this.__data__=X?X(null):{}},W.prototype.delete=function(I){return this.has(I)&&delete this.__data__[I]},W.prototype.get=function(I){var G=this.__data__;if(X){var Y=G[I];return Y==="__lodash_hash_undefined__"?void 0:Y}return T.call(G,I)?G[I]:void 0},W.prototype.has=function(I){var G=this.__data__;return X?G[I]!==void 0:T.call(G,I)},W.prototype.set=function(I,G){return this.__data__[I]=X&&G===void 0?"__lodash_hash_undefined__":G,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(I){var G=this.__data__,Y=_(G,I);return!(Y<0)&&(Y==G.length-1?G.pop():z.call(G,Y,1),!0)},P.prototype.get=function(I){var G=this.__data__,Y=_(G,I);return Y<0?void 0:G[Y][1]},P.prototype.has=function(I){return _(this.__data__,I)>-1},P.prototype.set=function(I,G){var Y=this.__data__,te=_(Y,I);return te<0?Y.push([I,G]):Y[te][1]=G,this},M.prototype.clear=function(){this.__data__={hash:new W,map:new(B||P),string:new W}},M.prototype.delete=function(I){return S(this,I).delete(I)},M.prototype.get=function(I){return S(this,I).get(I)},M.prototype.has=function(I){return S(this,I).has(I)},M.prototype.set=function(I,G){return S(this,I).set(I,G),this},E.prototype.add=E.prototype.push=function(I){return this.__data__.set(I,"__lodash_hash_undefined__"),this},E.prototype.has=function(I){return this.__data__.has(I)};var N=V&&1/m(new V([,-0]))[1]==1/0?function(I){return new V(I)}:function(){};function S(I,G){var Y,te,U=I.__data__;return((te=typeof(Y=G))=="string"||te=="number"||te=="symbol"||te=="boolean"?Y!=="__proto__":Y===null)?U[typeof G=="string"?"string":"hash"]:U.map}function O(I,G){var Y=(function(te,U){return te?.[U]})(I,G);return k(Y)?Y:void 0}function L(I){var G=typeof I;return!!I&&(G=="object"||G=="function")}s.exports=function(I){return I&&I.length?(function(G,Y,te){var U=-1,J=u,$=G.length,R=!0,K=[],ee=K;if($>=200){var se=N(G);if(se)return m(se);R=!1,J=h,ee=new E}else ee=K;e:for(;++U<$;){var ie=G[U],ae=ie;if(ie=ie!==0?ie:0,R&&ae==ae){for(var re=ee.length;re--;)if(ee[re]===ae)continue e;K.push(ie)}else J(ee,ae,te)||(ee!==K&&ee.push(ae),K.push(ie))}return K})(I):[]}}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,s,l){var i=t("inherits"),o=t("hash-base"),d=t("safe-buffer").Buffer,c=new Array(16);function a(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(y,p){return y<<p|y>>>32-p}function f(y,p,b,v,j,C,T){return u(y+(p&b|~p&v)+j+C|0,T)+p|0}function h(y,p,b,v,j,C,T){return u(y+(p&v|b&~v)+j+C|0,T)+p|0}function m(y,p,b,v,j,C,T){return u(y+(p^b^v)+j+C|0,T)+p|0}function g(y,p,b,v,j,C,T){return u(y+(b^(p|~v))+j+C|0,T)+p|0}i(a,o),a.prototype._update=function(){for(var y=c,p=0;p<16;++p)y[p]=this._block.readInt32LE(4*p);var b=this._a,v=this._b,j=this._c,C=this._d;b=f(b,v,j,C,y[0],3614090360,7),C=f(C,b,v,j,y[1],3905402710,12),j=f(j,C,b,v,y[2],606105819,17),v=f(v,j,C,b,y[3],3250441966,22),b=f(b,v,j,C,y[4],4118548399,7),C=f(C,b,v,j,y[5],1200080426,12),j=f(j,C,b,v,y[6],2821735955,17),v=f(v,j,C,b,y[7],4249261313,22),b=f(b,v,j,C,y[8],1770035416,7),C=f(C,b,v,j,y[9],2336552879,12),j=f(j,C,b,v,y[10],4294925233,17),v=f(v,j,C,b,y[11],2304563134,22),b=f(b,v,j,C,y[12],1804603682,7),C=f(C,b,v,j,y[13],4254626195,12),j=f(j,C,b,v,y[14],2792965006,17),b=h(b,v=f(v,j,C,b,y[15],1236535329,22),j,C,y[1],4129170786,5),C=h(C,b,v,j,y[6],3225465664,9),j=h(j,C,b,v,y[11],643717713,14),v=h(v,j,C,b,y[0],3921069994,20),b=h(b,v,j,C,y[5],3593408605,5),C=h(C,b,v,j,y[10],38016083,9),j=h(j,C,b,v,y[15],3634488961,14),v=h(v,j,C,b,y[4],3889429448,20),b=h(b,v,j,C,y[9],568446438,5),C=h(C,b,v,j,y[14],3275163606,9),j=h(j,C,b,v,y[3],4107603335,14),v=h(v,j,C,b,y[8],1163531501,20),b=h(b,v,j,C,y[13],2850285829,5),C=h(C,b,v,j,y[2],4243563512,9),j=h(j,C,b,v,y[7],1735328473,14),b=m(b,v=h(v,j,C,b,y[12],2368359562,20),j,C,y[5],4294588738,4),C=m(C,b,v,j,y[8],2272392833,11),j=m(j,C,b,v,y[11],1839030562,16),v=m(v,j,C,b,y[14],4259657740,23),b=m(b,v,j,C,y[1],2763975236,4),C=m(C,b,v,j,y[4],1272893353,11),j=m(j,C,b,v,y[7],4139469664,16),v=m(v,j,C,b,y[10],3200236656,23),b=m(b,v,j,C,y[13],681279174,4),C=m(C,b,v,j,y[0],3936430074,11),j=m(j,C,b,v,y[3],3572445317,16),v=m(v,j,C,b,y[6],76029189,23),b=m(b,v,j,C,y[9],3654602809,4),C=m(C,b,v,j,y[12],3873151461,11),j=m(j,C,b,v,y[15],530742520,16),b=g(b,v=m(v,j,C,b,y[2],3299628645,23),j,C,y[0],4096336452,6),C=g(C,b,v,j,y[7],1126891415,10),j=g(j,C,b,v,y[14],2878612391,15),v=g(v,j,C,b,y[5],4237533241,21),b=g(b,v,j,C,y[12],1700485571,6),C=g(C,b,v,j,y[3],2399980690,10),j=g(j,C,b,v,y[10],4293915773,15),v=g(v,j,C,b,y[1],2240044497,21),b=g(b,v,j,C,y[8],1873313359,6),C=g(C,b,v,j,y[15],4264355552,10),j=g(j,C,b,v,y[6],2734768916,15),v=g(v,j,C,b,y[13],1309151649,21),b=g(b,v,j,C,y[4],4149444226,6),C=g(C,b,v,j,y[11],3174756917,10),j=g(j,C,b,v,y[2],718787259,15),v=g(v,j,C,b,y[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+v|0,this._c=this._c+j|0,this._d=this._d+C|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var y=d.allocUnsafe(16);return y.writeInt32LE(this._a,0),y.writeInt32LE(this._b,4),y.writeInt32LE(this._c,8),y.writeInt32LE(this._d,12),y},s.exports=a},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,s,l){var i=t("bn.js"),o=t("brorand");function d(c){this.rand=c||new o.Rand}s.exports=d,d.create=function(c){return new d(c)},d.prototype._randbelow=function(c){var a=c.bitLength(),u=Math.ceil(a/8);do var f=new i(this.rand.generate(u));while(f.cmp(c)>=0);return f},d.prototype._randrange=function(c,a){var u=a.sub(c);return c.add(this._randbelow(u))},d.prototype.test=function(c,a,u){var f=c.bitLength(),h=i.mont(c),m=new i(1).toRed(h);a||(a=Math.max(1,f/48|0));for(var g=c.subn(1),y=0;!g.testn(y);y++);for(var p=c.shrn(y),b=g.toRed(h);a>0;a--){var v=this._randrange(new i(2),g);u&&u(v);var j=v.toRed(h).redPow(p);if(j.cmp(m)!==0&&j.cmp(b)!==0){for(var C=1;C<y;C++){if((j=j.redSqr()).cmp(m)===0)return!1;if(j.cmp(b)===0)break}if(C===y)return!1}}return!0},d.prototype.getDivisor=function(c,a){var u=c.bitLength(),f=i.mont(c),h=new i(1).toRed(f);a||(a=Math.max(1,u/48|0));for(var m=c.subn(1),g=0;!m.testn(g);g++);for(var y=c.shrn(g),p=m.toRed(f);a>0;a--){var b=this._randrange(new i(2),m),v=c.gcd(b);if(v.cmpn(1)!==0)return v;var j=b.toRed(f).redPow(y);if(j.cmp(h)!==0&&j.cmp(p)!==0){for(var C=1;C<g;C++){if((j=j.redSqr()).cmp(h)===0)return j.fromRed().subn(1).gcd(c);if(j.cmp(p)===0)break}if(C===g)return(j=j.redSqr()).fromRed().subn(1).gcd(c)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],453:[function(t,s,l){function i(o,d){if(!o)throw new Error(d||"Assertion failed")}s.exports=i,i.equal=function(o,d,c){if(o!=d)throw new Error(c||"Assertion failed: "+o+" != "+d)}},{}],454:[function(t,s,l){var i=l;function o(c){return c.length===1?"0"+c:c}function d(c){for(var a="",u=0;u<c.length;u++)a+=o(c[u].toString(16));return a}i.toArray=function(c,a){if(Array.isArray(c))return c.slice();if(!c)return[];var u=[];if(typeof c!="string"){for(var f=0;f<c.length;f++)u[f]=0|c[f];return u}if(a==="hex")for((c=c.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(c="0"+c),f=0;f<c.length;f+=2)u.push(parseInt(c[f]+c[f+1],16));else for(f=0;f<c.length;f++){var h=c.charCodeAt(f),m=h>>8,g=255&h;m?u.push(m,g):u.push(g)}return u},i.zero2=o,i.toHex=d,i.encode=function(c,a){return a==="hex"?d(c):c}},{}],455:[function(t,s,l){s.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,s,l){var i=t("asn1.js");l.certificate=t("./certificate");var o=i.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));l.RSAPrivateKey=o;var d=i.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));l.RSAPublicKey=d;var c=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}));l.PublicKey=c;var a=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=i.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())}));l.PrivateKey=u;var f=i.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));l.EncryptedPrivateKey=f;var h=i.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));l.DSAPrivateKey=h,l.DSAparam=i.define("DSAparam",(function(){this.int()}));var m=i.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())}));l.ECPrivateKey=m;var g=i.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));l.signature=i.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,s,l){var i=t("asn1.js"),o=i.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),d=i.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),c=i.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),a=i.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(c),this.key("subjectPublicKey").bitstr())})),u=i.define("RelativeDistinguishedName",(function(){this.setof(d)})),f=i.define("RDNSequence",(function(){this.seqof(u)})),h=i.define("Name",(function(){this.choice({rdnSequence:this.use(f)})})),m=i.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))})),g=i.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),y=i.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(c),this.key("issuer").use(h),this.key("validity").use(m),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())})),p=i.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(y),this.key("signatureAlgorithm").use(c),this.key("signatureValue").bitstr())}));s.exports=p},{"asn1.js":170}],458:[function(t,s,l){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,d=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=t("evp_bytestokey"),a=t("browserify-aes"),u=t("safe-buffer").Buffer;s.exports=function(f,h){var m,g=f.toString(),y=g.match(i);if(y){var p="aes"+y[1],b=u.from(y[2],"hex"),v=u.from(y[3].replace(/[\r\n]/g,""),"base64"),j=c(h,b.slice(0,8),parseInt(y[1],10)).key,C=[],T=a.createDecipheriv(p,j,b);C.push(T.update(v)),C.push(T.final()),m=u.concat(C)}else{var D=g.match(d);m=u.from(D[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(o)[1],data:m}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,s,l){var i=t("./asn1"),o=t("./aesid.json"),d=t("./fixProc"),c=t("browserify-aes"),a=t("pbkdf2"),u=t("safe-buffer").Buffer;function f(h){var m;typeof h!="object"||u.isBuffer(h)||(m=h.passphrase,h=h.key),typeof h=="string"&&(h=u.from(h));var g,y,p=d(h,m),b=p.tag,v=p.data;switch(b){case"CERTIFICATE":y=i.certificate.decode(v,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(y||(y=i.PublicKey.decode(v,"der")),g=y.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(y.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return y.subjectPrivateKey=y.subjectPublicKey,{type:"ec",data:y};case"1.2.840.10040.4.1":return y.algorithm.params.pub_key=i.DSAparam.decode(y.subjectPublicKey.data,"der"),{type:"dsa",data:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":v=(function(j,C){var T=j.algorithm.decrypt.kde.kdeparams.salt,D=parseInt(j.algorithm.decrypt.kde.kdeparams.iters.toString(),10),q=o[j.algorithm.decrypt.cipher.algo.join(".")],z=j.algorithm.decrypt.cipher.iv,B=j.subjectPrivateKey,V=parseInt(q.split("-")[1],10)/8,X=a.pbkdf2Sync(C,T,D,V,"sha1"),W=c.createDecipheriv(q,X,z),P=[];return P.push(W.update(B)),P.push(W.final()),u.concat(P)})(v=i.EncryptedPrivateKey.decode(v,"der"),m);case"PRIVATE KEY":switch(g=(y=i.PrivateKey.decode(v,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(y.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:y.algorithm.curve,privateKey:i.ECPrivateKey.decode(y.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return y.algorithm.params.priv_key=i.DSAparam.decode(y.subjectPrivateKey,"der"),{type:"dsa",params:y.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(v,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(v,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(v,"der")};case"EC PRIVATE KEY":return{curve:(v=i.ECPrivateKey.decode(v,"der")).parameters.value,privateKey:v.privateKey};default:throw new Error("unknown key type "+b)}}s.exports=f,f.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,s,l){l.pbkdf2=t("./lib/async"),l.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,s,l){(function(i){(function(){var o,d,c=t("safe-buffer").Buffer,a=t("./precondition"),u=t("./default-encoding"),f=t("./sync"),h=t("./to-buffer"),m=i.crypto&&i.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function p(){return d||(d=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function b(v,j,C,T,D){return m.importKey("raw",v,{name:"PBKDF2"},!1,["deriveBits"]).then((function(q){return m.deriveBits({name:"PBKDF2",salt:j,iterations:C,hash:{name:D}},q,T<<3)})).then((function(q){return c.from(q)}))}s.exports=function(v,j,C,T,D,q){typeof D=="function"&&(q=D,D=void 0);var z=g[(D=D||"sha1").toLowerCase()];if(z&&typeof i.Promise=="function"){if(a(C,T),v=h(v,u,"Password"),j=h(j,u,"Salt"),typeof q!="function")throw new Error("No callback provided to pbkdf2");(function(B,V){B.then((function(X){p()((function(){V(null,X)}))}),(function(X){p()((function(){V(X)}))}))})((function(B){if(i.process&&!i.process.browser||!m||!m.importKey||!m.deriveBits)return Promise.resolve(!1);if(y[B]!==void 0)return y[B];var V=b(o=o||c.alloc(8),o,10,128,B).then((function(){return!0})).catch((function(){return!1}));return y[B]=V,V})(z).then((function(B){return B?b(v,j,C,T,z):f(v,j,C,T,D)})),q)}else p()((function(){var B;try{B=f(v,j,C,T,D)}catch(V){return q(V)}q(null,B)}))}}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,s,l){(function(i,o){(function(){var d;o.process&&o.process.browser?d="utf-8":o.process&&o.process.version?d=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":d="utf-8",s.exports=d}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,s,l){var i=Math.pow(2,30)-1;s.exports=function(o,d){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof d!="number")throw new TypeError("Key length not a number");if(d<0||d>i||d!=d)throw new TypeError("Bad key length")}},{}],464:[function(t,s,l){var i=t("create-hash/md5"),o=t("ripemd160"),d=t("sha.js"),c=t("safe-buffer").Buffer,a=t("./precondition"),u=t("./default-encoding"),f=t("./to-buffer"),h=c.alloc(128),m={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(y,p,b){var v=(function(z){function B(V){return d(z).update(V).digest()}return z==="rmd160"||z==="ripemd160"?function(V){return new o().update(V).digest()}:z==="md5"?i:B})(y),j=y==="sha512"||y==="sha384"?128:64;p.length>j?p=v(p):p.length<j&&(p=c.concat([p,h],j));for(var C=c.allocUnsafe(j+m[y]),T=c.allocUnsafe(j+m[y]),D=0;D<j;D++)C[D]=54^p[D],T[D]=92^p[D];var q=c.allocUnsafe(j+b+4);C.copy(q,0,0,j),this.ipad1=q,this.ipad2=C,this.opad=T,this.alg=y,this.blocksize=j,this.hash=v,this.size=m[y]}g.prototype.run=function(y,p){return y.copy(p,this.blocksize),this.hash(p).copy(this.opad,this.blocksize),this.hash(this.opad)},s.exports=function(y,p,b,v,j){a(b,v);var C=new g(j=j||"sha1",y=f(y,u,"Password"),(p=f(p,u,"Salt")).length),T=c.allocUnsafe(v),D=c.allocUnsafe(p.length+4);p.copy(D,0,0,p.length);for(var q=0,z=m[j],B=Math.ceil(v/z),V=1;V<=B;V++){D.writeUInt32BE(V,p.length);for(var X=C.run(D,C.ipad1),W=X,P=1;P<b;P++){W=C.run(W,C.ipad2);for(var M=0;M<z;M++)X[M]^=W[M]}X.copy(T,q),q+=z}return T}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,s,l){var i=t("safe-buffer").Buffer;s.exports=function(o,d,c){if(i.isBuffer(o))return o;if(typeof o=="string")return i.from(o,d);if(ArrayBuffer.isView(o))return i.from(o.buffer);throw new TypeError(c+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,s,l){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?s.exports={nextTick:function(o,d,c,a){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var u,f,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(o);case 2:return i.nextTick((function(){o.call(null,d)}));case 3:return i.nextTick((function(){o.call(null,d,c)}));case 4:return i.nextTick((function(){o.call(null,d,c,a)}));default:for(u=new Array(h-1),f=0;f<u.length;)u[f++]=arguments[f];return i.nextTick((function(){o.apply(null,u)}))}}}:s.exports=i}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,s,l){var i,o,d=s.exports={};function c(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(j){if(i===setTimeout)return setTimeout(j,0);if((i===c||!i)&&setTimeout)return i=setTimeout,setTimeout(j,0);try{return i(j,0)}catch{try{return i.call(null,j,0)}catch{return i.call(this,j,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:c}catch{i=c}try{o=typeof clearTimeout=="function"?clearTimeout:a}catch{o=a}})();var f,h=[],m=!1,g=-1;function y(){m&&f&&(m=!1,f.length?h=f.concat(h):g=-1,h.length&&p())}function p(){if(!m){var j=u(y);m=!0;for(var C=h.length;C;){for(f=h,h=[];++g<C;)f&&f[g].run();g=-1,C=h.length}f=null,m=!1,(function(T){if(o===clearTimeout)return clearTimeout(T);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(T);try{o(T)}catch{try{return o.call(null,T)}catch{return o.call(this,T)}}})(j)}}function b(j,C){this.fun=j,this.array=C}function v(){}d.nextTick=function(j){var C=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)C[T-1]=arguments[T];h.push(new b(j,C)),h.length!==1||m||u(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=v,d.addListener=v,d.once=v,d.off=v,d.removeListener=v,d.removeAllListeners=v,d.emit=v,d.prependListener=v,d.prependOnceListener=v,d.listeners=function(j){return[]},d.binding=function(j){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(j){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],468:[function(t,s,l){l.publicEncrypt=t("./publicEncrypt"),l.privateDecrypt=t("./privateDecrypt"),l.privateEncrypt=function(i,o){return l.publicEncrypt(i,o,!0)},l.publicDecrypt=function(i,o){return l.privateDecrypt(i,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,s,l){var i=t("create-hash"),o=t("safe-buffer").Buffer;function d(c){var a=o.allocUnsafe(4);return a.writeUInt32BE(c,0),a}s.exports=function(c,a){for(var u,f=o.alloc(0),h=0;f.length<a;)u=d(h++),f=o.concat([f,i("sha1").update(c).update(u).digest()]);return f.slice(0,a)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,s,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],471:[function(t,s,l){var i=t("parse-asn1"),o=t("./mgf"),d=t("./xor"),c=t("bn.js"),a=t("browserify-rsa"),u=t("create-hash"),f=t("./withPublic"),h=t("safe-buffer").Buffer;s.exports=function(m,g,y){var p;p=m.padding?m.padding:y?1:4;var b,v=i(m),j=v.modulus.byteLength();if(g.length>j||new c(g).cmp(v.modulus)>=0)throw new Error("decryption error");b=y?f(new c(g),v):a(g,v);var C=h.alloc(j-b.length);if(b=h.concat([C,b],j),p===4)return(function(T,D){var q=T.modulus.byteLength(),z=u("sha1").update(h.alloc(0)).digest(),B=z.length;if(D[0]!==0)throw new Error("decryption error");var V=D.slice(1,B+1),X=D.slice(B+1),W=d(V,o(X,B)),P=d(X,o(W,q-B-1));if((function(E,_){E=h.from(E),_=h.from(_);var k=0,N=E.length;E.length!==_.length&&(k++,N=Math.min(E.length,_.length));for(var S=-1;++S<N;)k+=E[S]^_[S];return k})(z,P.slice(0,B)))throw new Error("decryption error");for(var M=B;P[M]===0;)M++;if(P[M++]!==1)throw new Error("decryption error");return P.slice(M)})(v,b);if(p===1)return(function(T,D,q){for(var z=D.slice(0,2),B=2,V=0;D[B++]!==0;)if(B>=D.length){V++;break}var X=D.slice(2,B-1);if((z.toString("hex")!=="0002"&&!q||z.toString("hex")!=="0001"&&q)&&V++,X.length<8&&V++,V)throw new Error("decryption error");return D.slice(B)})(0,b,y);if(p===3)return b;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,s,l){var i=t("parse-asn1"),o=t("randombytes"),d=t("create-hash"),c=t("./mgf"),a=t("./xor"),u=t("bn.js"),f=t("./withPublic"),h=t("browserify-rsa"),m=t("safe-buffer").Buffer;s.exports=function(g,y,p){var b;b=g.padding?g.padding:p?1:4;var v,j=i(g);if(b===4)v=(function(C,T){var D=C.modulus.byteLength(),q=T.length,z=d("sha1").update(m.alloc(0)).digest(),B=z.length,V=2*B;if(q>D-V-2)throw new Error("message too long");var X=m.alloc(D-q-V-2),W=D-B-1,P=o(B),M=a(m.concat([z,X,m.alloc(1,1),T],W),c(P,W)),E=a(P,c(M,B));return new u(m.concat([m.alloc(1),E,M],D))})(j,y);else if(b===1)v=(function(C,T,D){var q,z=T.length,B=C.modulus.byteLength();if(z>B-11)throw new Error("message too long");return q=D?m.alloc(B-z-3,255):(function(V){for(var X,W=m.allocUnsafe(V),P=0,M=o(2*V),E=0;P<V;)E===M.length&&(M=o(2*V),E=0),(X=M[E++])&&(W[P++]=X);return W})(B-z-3),new u(m.concat([m.from([0,D?1:2]),q,m.alloc(1),T],B))})(j,y,p);else{if(b!==3)throw new Error("unknown padding");if((v=new u(y)).cmp(j.modulus)>=0)throw new Error("data too long for modulus")}return p?h(v,j):f(v,j)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,s,l){var i=t("bn.js"),o=t("safe-buffer").Buffer;s.exports=function(d,c){return o.from(d.toRed(i.mont(c.modulus)).redPow(new i(c.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,s,l){s.exports=function(i,o){for(var d=i.length,c=-1;++c<d;)i[c]^=o[c];return i}},{}],475:[function(t,s,l){(function(i,o){(function(){var d=t("safe-buffer").Buffer,c=o.crypto||o.msCrypto;c&&c.getRandomValues?s.exports=function(a,u){if(a>4294967295)throw new RangeError("requested too many random bytes");var f=d.allocUnsafe(a);if(a>0)if(a>65536)for(var h=0;h<a;h+=65536)c.getRandomValues(f.slice(h,h+65536));else c.getRandomValues(f);return typeof u=="function"?i.nextTick((function(){u(null,f)})):f}:s.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,s,l){(function(i,o){(function(){function d(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var c=t("safe-buffer"),a=t("randombytes"),u=c.Buffer,f=c.kMaxLength,h=o.crypto||o.msCrypto,m=Math.pow(2,32)-1;function g(b,v){if(typeof b!="number"||b!=b)throw new TypeError("offset must be a number");if(b>m||b<0)throw new TypeError("offset must be a uint32");if(b>f||b>v)throw new RangeError("offset out of range")}function y(b,v,j){if(typeof b!="number"||b!=b)throw new TypeError("size must be a number");if(b>m||b<0)throw new TypeError("size must be a uint32");if(b+v>j||b>f)throw new RangeError("buffer too small")}function p(b,v,j,C){if(i.browser){var T=b.buffer,D=new Uint8Array(T,v,j);return h.getRandomValues(D),C?void i.nextTick((function(){C(null,b)})):b}if(!C)return a(j).copy(b,v),b;a(j,(function(q,z){if(q)return C(q);z.copy(b,v),C(null,b)}))}h&&h.getRandomValues||!i.browser?(l.randomFill=function(b,v,j,C){if(!(u.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof v=="function")C=v,v=0,j=b.length;else if(typeof j=="function")C=j,j=b.length-v;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return g(v,b.length),y(j,v,b.length),p(b,v,j,C)},l.randomFillSync=function(b,v,j){if(v===void 0&&(v=0),!(u.isBuffer(b)||b instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(v,b.length),j===void 0&&(j=b.length-v),y(j,v,b.length),p(b,v,j)}):(l.randomFill=d,l.randomFillSync=d)}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,s,l){var i={};function o(c,a,u){u||(u=Error);var f=(function(h){var m,g;function y(p,b,v){return h.call(this,(function(j,C,T){return typeof a=="string"?a:a(j,C,T)})(p,b,v))||this}return g=h,(m=y).prototype=Object.create(g.prototype),m.prototype.constructor=m,m.__proto__=g,y})(u);f.prototype.name=u.name,f.prototype.code=c,i[c]=f}function d(c,a){if(Array.isArray(c)){var u=c.length;return c=c.map((function(f){return String(f)})),u>2?"one of ".concat(a," ").concat(c.slice(0,u-1).join(", "),", or ")+c[u-1]:u===2?"one of ".concat(a," ").concat(c[0]," or ").concat(c[1]):"of ".concat(a," ").concat(c[0])}return"of ".concat(a," ").concat(String(c))}o("ERR_INVALID_OPT_VALUE",(function(c,a){return'The value "'+a+'" is invalid for option "'+c+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(c,a,u){var f,h,m;if(typeof a=="string"&&(h="not ",a.substr(0,h.length)===h)?(f="must not be",a=a.replace(/^not /,"")):f="must be",(function(y,p,b){return(b===void 0||b>y.length)&&(b=y.length),y.substring(b-p.length,b)===p})(c," argument"))m="The ".concat(c," ").concat(f," ").concat(d(a,"type"));else{var g=(function(y,p,b){return typeof b!="number"&&(b=0),!(b+p.length>y.length)&&y.indexOf(p,b)!==-1})(c,".")?"property":"argument";m='The "'.concat(c,'" ').concat(g," ").concat(f," ").concat(d(a,"type"))}return m+=". Received type ".concat(typeof u)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(c){return"The "+c+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(c){return"Cannot call "+c+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(c){return"Unknown encoding: "+c}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),s.exports.codes=i},{}],478:[function(t,s,l){(function(i){(function(){var o=Object.keys||function(y){var p=[];for(var b in y)p.push(b);return p};s.exports=h;var d=t("./_stream_readable"),c=t("./_stream_writable");t("inherits")(h,d);for(var a=o(c.prototype),u=0;u<a.length;u++){var f=a[u];h.prototype[f]||(h.prototype[f]=c.prototype[f])}function h(y){if(!(this instanceof h))return new h(y);d.call(this,y),c.call(this,y),this.allowHalfOpen=!0,y&&(y.readable===!1&&(this.readable=!1),y.writable===!1&&(this.writable=!1),y.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",m)))}function m(){this._writableState.ended||i.nextTick(g,this)}function g(y){y.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,s,l){s.exports=o;var i=t("./_stream_transform");function o(d){if(!(this instanceof o))return new o(d);i.call(this,d)}t("inherits")(o,i),o.prototype._transform=function(d,c,a){a(null,d)}},{"./_stream_transform":481,inherits:440}],480:[function(t,s,l){(function(i,o){(function(){var d;s.exports=W,W.ReadableState=X,t("events").EventEmitter;var c=function($,R){return $.listeners(R).length},a=t("./internal/streams/stream"),u=t("buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,m=t("util");h=m&&m.debuglog?m.debuglog("stream"):function(){};var g,y,p,b=t("./internal/streams/buffer_list"),v=t("./internal/streams/destroy"),j=t("./internal/streams/state").getHighWaterMark,C=t("../errors").codes,T=C.ERR_INVALID_ARG_TYPE,D=C.ERR_STREAM_PUSH_AFTER_EOF,q=C.ERR_METHOD_NOT_IMPLEMENTED,z=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(W,a);var B=v.errorOrDestroy,V=["error","close","destroy","pause","resume"];function X($,R,K){d=d||t("./_stream_duplex"),$=$||{},typeof K!="boolean"&&(K=R instanceof d),this.objectMode=!!$.objectMode,K&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=j(this,$,"readableHighWaterMark",K),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(g||(g=t("string_decoder/").StringDecoder),this.decoder=new g($.encoding),this.encoding=$.encoding)}function W($){if(d=d||t("./_stream_duplex"),!(this instanceof W))return new W($);var R=this instanceof d;this._readableState=new X($,this,R),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),a.call(this)}function P($,R,K,ee,se){h("readableAddChunk",R);var ie,ae=$._readableState;if(R===null)ae.reading=!1,(function(re,le){if(h("onEofChunk"),!le.ended){if(le.decoder){var ne=le.decoder.end();ne&&ne.length&&(le.buffer.push(ne),le.length+=le.objectMode?1:ne.length)}le.ended=!0,le.sync?_(re):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,k(re)))}})($,ae);else if(se||(ie=(function(re,le){var ne;fe=le,u.isBuffer(fe)||fe instanceof f||typeof le=="string"||le===void 0||re.objectMode||(ne=new T("chunk",["string","Buffer","Uint8Array"],le));var fe;return ne})(ae,R)),ie)B($,ie);else if(ae.objectMode||R&&R.length>0)if(typeof R=="string"||ae.objectMode||Object.getPrototypeOf(R)===u.prototype||(R=(function(re){return u.from(re)})(R)),ee)ae.endEmitted?B($,new z):M($,ae,R,!0);else if(ae.ended)B($,new D);else{if(ae.destroyed)return!1;ae.reading=!1,ae.decoder&&!K?(R=ae.decoder.write(R),ae.objectMode||R.length!==0?M($,ae,R,!1):N($,ae)):M($,ae,R,!1)}else ee||(ae.reading=!1,N($,ae));return!ae.ended&&(ae.length<ae.highWaterMark||ae.length===0)}function M($,R,K,ee){R.flowing&&R.length===0&&!R.sync?(R.awaitDrain=0,$.emit("data",K)):(R.length+=R.objectMode?1:K.length,ee?R.buffer.unshift(K):R.buffer.push(K),R.needReadable&&_($)),N($,R)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),W.prototype.destroy=v.destroy,W.prototype._undestroy=v.undestroy,W.prototype._destroy=function($,R){R($)},W.prototype.push=function($,R){var K,ee=this._readableState;return ee.objectMode?K=!0:typeof $=="string"&&((R=R||ee.defaultEncoding)!==ee.encoding&&($=u.from($,R),R=""),K=!0),P(this,$,R,!1,K)},W.prototype.unshift=function($){return P(this,$,null,!0,!1)},W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function($){g||(g=t("string_decoder/").StringDecoder);var R=new g($);this._readableState.decoder=R,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,ee="";K!==null;)ee+=R.write(K.data),K=K.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};function E($,R){return $<=0||R.length===0&&R.ended?0:R.objectMode?1:$!=$?R.flowing&&R.length?R.buffer.head.data.length:R.length:($>R.highWaterMark&&(R.highWaterMark=(function(K){return K>=1073741824?K=1073741824:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K})($)),$<=R.length?$:R.ended?R.length:(R.needReadable=!0,0))}function _($){var R=$._readableState;h("emitReadable",R.needReadable,R.emittedReadable),R.needReadable=!1,R.emittedReadable||(h("emitReadable",R.flowing),R.emittedReadable=!0,i.nextTick(k,$))}function k($){var R=$._readableState;h("emitReadable_",R.destroyed,R.length,R.ended),R.destroyed||!R.length&&!R.ended||($.emit("readable"),R.emittedReadable=!1),R.needReadable=!R.flowing&&!R.ended&&R.length<=R.highWaterMark,G($)}function N($,R){R.readingMore||(R.readingMore=!0,i.nextTick(S,$,R))}function S($,R){for(;!R.reading&&!R.ended&&(R.length<R.highWaterMark||R.flowing&&R.length===0);){var K=R.length;if(h("maybeReadMore read 0"),$.read(0),K===R.length)break}R.readingMore=!1}function O($){var R=$._readableState;R.readableListening=$.listenerCount("readable")>0,R.resumeScheduled&&!R.paused?R.flowing=!0:$.listenerCount("data")>0&&$.resume()}function L($){h("readable nexttick read 0"),$.read(0)}function I($,R){h("resume",R.reading),R.reading||$.read(0),R.resumeScheduled=!1,$.emit("resume"),G($),R.flowing&&!R.reading&&$.read(0)}function G($){var R=$._readableState;for(h("flow",R.flowing);R.flowing&&$.read()!==null;);}function Y($,R){return R.length===0?null:(R.objectMode?K=R.buffer.shift():!$||$>=R.length?(K=R.decoder?R.buffer.join(""):R.buffer.length===1?R.buffer.first():R.buffer.concat(R.length),R.buffer.clear()):K=R.buffer.consume($,R.decoder),K);var K}function te($){var R=$._readableState;h("endReadable",R.endEmitted),R.endEmitted||(R.ended=!0,i.nextTick(U,R,$))}function U($,R){if(h("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,R.readable=!1,R.emit("end"),$.autoDestroy)){var K=R._writableState;(!K||K.autoDestroy&&K.finished)&&R.destroy()}}function J($,R){for(var K=0,ee=$.length;K<ee;K++)if($[K]===R)return K;return-1}W.prototype.read=function($){h("read",$),$=parseInt($,10);var R=this._readableState,K=$;if($!==0&&(R.emittedReadable=!1),$===0&&R.needReadable&&((R.highWaterMark!==0?R.length>=R.highWaterMark:R.length>0)||R.ended))return h("read: emitReadable",R.length,R.ended),R.length===0&&R.ended?te(this):_(this),null;if(($=E($,R))===0&&R.ended)return R.length===0&&te(this),null;var ee,se=R.needReadable;return h("need readable",se),(R.length===0||R.length-$<R.highWaterMark)&&h("length less than watermark",se=!0),R.ended||R.reading?h("reading or ended",se=!1):se&&(h("do read"),R.reading=!0,R.sync=!0,R.length===0&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||($=E(K,R))),(ee=$>0?Y($,R):null)===null?(R.needReadable=R.length<=R.highWaterMark,$=0):(R.length-=$,R.awaitDrain=0),R.length===0&&(R.ended||(R.needReadable=!0),K!==$&&R.ended&&te(this)),ee!==null&&this.emit("data",ee),ee},W.prototype._read=function($){B(this,new q("_read()"))},W.prototype.pipe=function($,R){var K=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=$;break;case 1:ee.pipes=[ee.pipes,$];break;default:ee.pipes.push($)}ee.pipesCount+=1,h("pipe count=%d opts=%j",ee.pipesCount,R);var se=(!R||R.end!==!1)&&$!==i.stdout&&$!==i.stderr?ae:ge;function ie(be,ke){h("onunpipe"),be===K&&ke&&ke.hasUnpiped===!1&&(ke.hasUnpiped=!0,h("cleanup"),$.removeListener("close",ue),$.removeListener("finish",xe),$.removeListener("drain",re),$.removeListener("error",fe),$.removeListener("unpipe",ie),K.removeListener("end",ae),K.removeListener("end",ge),K.removeListener("data",ne),le=!0,!ee.awaitDrain||$._writableState&&!$._writableState.needDrain||re())}function ae(){h("onend"),$.end()}ee.endEmitted?i.nextTick(se):K.once("end",se),$.on("unpipe",ie);var re=(function(be){return function(){var ke=be._readableState;h("pipeOnDrain",ke.awaitDrain),ke.awaitDrain&&ke.awaitDrain--,ke.awaitDrain===0&&c(be,"data")&&(ke.flowing=!0,G(be))}})(K);$.on("drain",re);var le=!1;function ne(be){h("ondata");var ke=$.write(be);h("dest.write",ke),ke===!1&&((ee.pipesCount===1&&ee.pipes===$||ee.pipesCount>1&&J(ee.pipes,$)!==-1)&&!le&&(h("false write response, pause",ee.awaitDrain),ee.awaitDrain++),K.pause())}function fe(be){h("onerror",be),ge(),$.removeListener("error",fe),c($,"error")===0&&B($,be)}function ue(){$.removeListener("finish",xe),ge()}function xe(){h("onfinish"),$.removeListener("close",ue),ge()}function ge(){h("unpipe"),K.unpipe($)}return K.on("data",ne),(function(be,ke,Ee){if(typeof be.prependListener=="function")return be.prependListener(ke,Ee);be._events&&be._events[ke]?Array.isArray(be._events[ke])?be._events[ke].unshift(Ee):be._events[ke]=[Ee,be._events[ke]]:be.on(ke,Ee)})($,"error",fe),$.once("close",ue),$.once("finish",xe),$.emit("pipe",K),ee.flowing||(h("pipe resume"),K.resume()),$},W.prototype.unpipe=function($){var R=this._readableState,K={hasUnpiped:!1};if(R.pipesCount===0)return this;if(R.pipesCount===1)return $&&$!==R.pipes||($||($=R.pipes),R.pipes=null,R.pipesCount=0,R.flowing=!1,$&&$.emit("unpipe",this,K)),this;if(!$){var ee=R.pipes,se=R.pipesCount;R.pipes=null,R.pipesCount=0,R.flowing=!1;for(var ie=0;ie<se;ie++)ee[ie].emit("unpipe",this,{hasUnpiped:!1});return this}var ae=J(R.pipes,$);return ae===-1||(R.pipes.splice(ae,1),R.pipesCount-=1,R.pipesCount===1&&(R.pipes=R.pipes[0]),$.emit("unpipe",this,K)),this},W.prototype.on=function($,R){var K=a.prototype.on.call(this,$,R),ee=this._readableState;return $==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):$==="readable"&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,h("on readable",ee.length,ee.reading),ee.length?_(this):ee.reading||i.nextTick(L,this))),K},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function($,R){var K=a.prototype.removeListener.call(this,$,R);return $==="readable"&&i.nextTick(O,this),K},W.prototype.removeAllListeners=function($){var R=a.prototype.removeAllListeners.apply(this,arguments);return $!=="readable"&&$!==void 0||i.nextTick(O,this),R},W.prototype.resume=function(){var $=this._readableState;return $.flowing||(h("resume"),$.flowing=!$.readableListening,(function(R,K){K.resumeScheduled||(K.resumeScheduled=!0,i.nextTick(I,R,K))})(this,$)),$.paused=!1,this},W.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},W.prototype.wrap=function($){var R=this,K=this._readableState,ee=!1;for(var se in $.on("end",(function(){if(h("wrapped end"),K.decoder&&!K.ended){var ae=K.decoder.end();ae&&ae.length&&R.push(ae)}R.push(null)})),$.on("data",(function(ae){h("wrapped data"),K.decoder&&(ae=K.decoder.write(ae)),K.objectMode&&ae==null||(K.objectMode||ae&&ae.length)&&(R.push(ae)||(ee=!0,$.pause()))})),$)this[se]===void 0&&typeof $[se]=="function"&&(this[se]=(function(ae){return function(){return $[ae].apply($,arguments)}})(se));for(var ie=0;ie<V.length;ie++)$.on(V[ie],this.emit.bind(this,V[ie]));return this._read=function(ae){h("wrapped _read",ae),ee&&(ee=!1,$.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return y===void 0&&(y=t("./internal/streams/async_iterator")),y(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),W._fromList=Y,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(W.from=function($,R){return p===void 0&&(p=t("./internal/streams/from")),p(W,$,R)})}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,s,l){s.exports=h;var i=t("../errors").codes,o=i.ERR_METHOD_NOT_IMPLEMENTED,d=i.ERR_MULTIPLE_CALLBACK,c=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function f(y,p){var b=this._transformState;b.transforming=!1;var v=b.writecb;if(v===null)return this.emit("error",new d);b.writechunk=null,b.writecb=null,p!=null&&this.push(p),v(y);var j=this._readableState;j.reading=!1,(j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}function h(y){if(!(this instanceof h))return new h(y);u.call(this,y),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",m)}function m(){var y=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush((function(p,b){g(y,p,b)}))}function g(y,p,b){if(p)return y.emit("error",p);if(b!=null&&y.push(b),y._writableState.length)throw new a;if(y._transformState.transforming)throw new c;return y.push(null)}t("inherits")(h,u),h.prototype.push=function(y,p){return this._transformState.needTransform=!1,u.prototype.push.call(this,y,p)},h.prototype._transform=function(y,p,b){b(new o("_transform()"))},h.prototype._write=function(y,p,b){var v=this._transformState;if(v.writecb=b,v.writechunk=y,v.writeencoding=p,!v.transforming){var j=this._readableState;(v.needTransform||j.needReadable||j.length<j.highWaterMark)&&this._read(j.highWaterMark)}},h.prototype._read=function(y){var p=this._transformState;p.writechunk===null||p.transforming?p.needTransform=!0:(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform))},h.prototype._destroy=function(y,p){u.prototype._destroy.call(this,y,(function(b){p(b)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,s,l){(function(i,o){(function(){function d(S){var O=this;this.next=null,this.entry=null,this.finish=function(){(function(L,I,G){var Y=L.entry;for(L.entry=null;Y;){var te=Y.callback;I.pendingcb--,te(G),Y=Y.next}I.corkedRequestsFree.next=L})(O,S)}}var c;s.exports=W,W.WritableState=X;var a={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),f=t("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},m,g=t("./internal/streams/destroy"),y=t("./internal/streams/state").getHighWaterMark,p=t("../errors").codes,b=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,j=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_STREAM_CANNOT_PIPE,T=p.ERR_STREAM_DESTROYED,D=p.ERR_STREAM_NULL_VALUES,q=p.ERR_STREAM_WRITE_AFTER_END,z=p.ERR_UNKNOWN_ENCODING,B=g.errorOrDestroy;function V(){}function X(S,O,L){c=c||t("./_stream_duplex"),S=S||{},typeof L!="boolean"&&(L=O instanceof c),this.objectMode=!!S.objectMode,L&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=y(this,S,"writableHighWaterMark",L),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=S.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(G){(function(Y,te){var U=Y._writableState,J=U.sync,$=U.writecb;if(typeof $!="function")throw new j;if((function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0})(U),te)(function(K,ee,se,ie,ae){--ee.pendingcb,se?(i.nextTick(ae,ie),i.nextTick(N,K,ee),K._writableState.errorEmitted=!0,B(K,ie)):(ae(ie),K._writableState.errorEmitted=!0,B(K,ie),N(K,ee))})(Y,U,J,te,$);else{var R=_(U)||Y.destroyed;R||U.corked||U.bufferProcessing||!U.bufferedRequest||E(Y,U),J?i.nextTick(M,Y,U,R,$):M(Y,U,R,$)}})(O,G)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function W(S){var O=this instanceof(c=c||t("./_stream_duplex"));if(!O&&!m.call(W,this))return new W(S);this._writableState=new X(S,this,O),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),u.call(this)}function P(S,O,L,I,G,Y,te){O.writelen=I,O.writecb=te,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new T("write")):L?S._writev(G,O.onwrite):S._write(G,Y,O.onwrite),O.sync=!1}function M(S,O,L,I){L||(function(G,Y){Y.length===0&&Y.needDrain&&(Y.needDrain=!1,G.emit("drain"))})(S,O),O.pendingcb--,I(),N(S,O)}function E(S,O){O.bufferProcessing=!0;var L=O.bufferedRequest;if(S._writev&&L&&L.next){var I=O.bufferedRequestCount,G=new Array(I),Y=O.corkedRequestsFree;Y.entry=L;for(var te=0,U=!0;L;)G[te]=L,L.isBuf||(U=!1),L=L.next,te+=1;G.allBuffers=U,P(S,O,!0,O.length,G,"",Y.finish),O.pendingcb++,O.lastBufferedRequest=null,Y.next?(O.corkedRequestsFree=Y.next,Y.next=null):O.corkedRequestsFree=new d(O),O.bufferedRequestCount=0}else{for(;L;){var J=L.chunk,$=L.encoding,R=L.callback;if(P(S,O,!1,O.objectMode?1:J.length,J,$,R),L=L.next,O.bufferedRequestCount--,O.writing)break}L===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=L,O.bufferProcessing=!1}function _(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function k(S,O){S._final((function(L){O.pendingcb--,L&&B(S,L),O.prefinished=!0,S.emit("prefinish"),N(S,O)}))}function N(S,O){var L=_(O);if(L&&((function(G,Y){Y.prefinished||Y.finalCalled||(typeof G._final!="function"||Y.destroyed?(Y.prefinished=!0,G.emit("prefinish")):(Y.pendingcb++,Y.finalCalled=!0,i.nextTick(k,G,Y)))})(S,O),O.pendingcb===0&&(O.finished=!0,S.emit("finish"),O.autoDestroy))){var I=S._readableState;(!I||I.autoDestroy&&I.endEmitted)&&S.destroy()}return L}t("inherits")(W,u),X.prototype.getBuffer=function(){for(var S=this.bufferedRequest,O=[];S;)O.push(S),S=S.next;return O},(function(){try{Object.defineProperty(X.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(S){return!!m.call(this,S)||this===W&&S&&S._writableState instanceof X}})):m=function(S){return S instanceof this},W.prototype.pipe=function(){B(this,new C)},W.prototype.write=function(S,O,L){var I,G=this._writableState,Y=!1,te=!G.objectMode&&(I=S,f.isBuffer(I)||I instanceof h);return te&&!f.isBuffer(S)&&(S=(function(U){return f.from(U)})(S)),typeof O=="function"&&(L=O,O=null),te?O="buffer":O||(O=G.defaultEncoding),typeof L!="function"&&(L=V),G.ending?(function(U,J){var $=new q;B(U,$),i.nextTick(J,$)})(this,L):(te||(function(U,J,$,R){var K;return $===null?K=new D:typeof $=="string"||J.objectMode||(K=new b("chunk",["string","Buffer"],$)),!K||(B(U,K),i.nextTick(R,K),!1)})(this,G,S,L))&&(G.pendingcb++,Y=(function(U,J,$,R,K,ee){if(!$){var se=(function(le,ne,fe){return le.objectMode||le.decodeStrings===!1||typeof ne!="string"||(ne=f.from(ne,fe)),ne})(J,R,K);R!==se&&($=!0,K="buffer",R=se)}var ie=J.objectMode?1:R.length;J.length+=ie;var ae=J.length<J.highWaterMark;if(ae||(J.needDrain=!0),J.writing||J.corked){var re=J.lastBufferedRequest;J.lastBufferedRequest={chunk:R,encoding:K,isBuf:$,callback:ee,next:null},re?re.next=J.lastBufferedRequest:J.bufferedRequest=J.lastBufferedRequest,J.bufferedRequestCount+=1}else P(U,J,!1,ie,R,K,ee);return ae})(this,G,te,S,O,L)),Y},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||E(this,S))},W.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new z(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),W.prototype._write=function(S,O,L){L(new v("_write()"))},W.prototype._writev=null,W.prototype.end=function(S,O,L){var I=this._writableState;return typeof S=="function"?(L=S,S=null,O=null):typeof O=="function"&&(L=O,O=null),S!=null&&this.write(S,O),I.corked&&(I.corked=1,this.uncork()),I.ending||(function(G,Y,te){Y.ending=!0,N(G,Y),te&&(Y.finished?i.nextTick(te):G.once("finish",te)),Y.ended=!0,G.writable=!1})(this,I,L),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),W.prototype.destroy=g.destroy,W.prototype._undestroy=g.undestroy,W.prototype._destroy=function(S,O){O(S)}}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,s,l){(function(i){(function(){var o;function d(T,D,q){return(D=(function(z){var B=(function(V,X){if(typeof V!="object"||V===null)return V;var W=V[Symbol.toPrimitive];if(W!==void 0){var P=W.call(V,X);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(V)})(z,"string");return typeof B=="symbol"?B:String(B)})(D))in T?Object.defineProperty(T,D,{value:q,enumerable:!0,configurable:!0,writable:!0}):T[D]=q,T}var c=t("./end-of-stream"),a=Symbol("lastResolve"),u=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),m=Symbol("lastPromise"),g=Symbol("handlePromise"),y=Symbol("stream");function p(T,D){return{value:T,done:D}}function b(T){var D=T[a];if(D!==null){var q=T[y].read();q!==null&&(T[m]=null,T[a]=null,T[u]=null,D(p(q,!1)))}}function v(T){i.nextTick(b,T)}var j=Object.getPrototypeOf((function(){})),C=Object.setPrototypeOf((d(o={get stream(){return this[y]},next:function(){var T=this,D=this[f];if(D!==null)return Promise.reject(D);if(this[h])return Promise.resolve(p(void 0,!0));if(this[y].destroyed)return new Promise((function(V,X){i.nextTick((function(){T[f]?X(T[f]):V(p(void 0,!0))}))}));var q,z=this[m];if(z)q=new Promise((function(V,X){return function(W,P){V.then((function(){X[h]?W(p(void 0,!0)):X[g](W,P)}),P)}})(z,this));else{var B=this[y].read();if(B!==null)return Promise.resolve(p(B,!1));q=new Promise(this[g])}return this[m]=q,q}},Symbol.asyncIterator,(function(){return this})),d(o,"return",(function(){var T=this;return new Promise((function(D,q){T[y].destroy(null,(function(z){z?q(z):D(p(void 0,!0))}))}))})),o),j);s.exports=function(T){var D,q=Object.create(C,(d(D={},y,{value:T,writable:!0}),d(D,a,{value:null,writable:!0}),d(D,u,{value:null,writable:!0}),d(D,f,{value:null,writable:!0}),d(D,h,{value:T._readableState.endEmitted,writable:!0}),d(D,g,{value:function(z,B){var V=q[y].read();V?(q[m]=null,q[a]=null,q[u]=null,z(p(V,!1))):(q[a]=z,q[u]=B)},writable:!0}),D));return q[m]=null,c(T,(function(z){if(z&&z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=q[u];return B!==null&&(q[m]=null,q[a]=null,q[u]=null,B(z)),void(q[f]=z)}var V=q[a];V!==null&&(q[m]=null,q[a]=null,q[u]=null,V(p(void 0,!0))),q[h]=!0})),T.on("readable",v.bind(null,q)),q}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,s,l){function i(m,g){var y=Object.keys(m);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(m);g&&(p=p.filter((function(b){return Object.getOwnPropertyDescriptor(m,b).enumerable}))),y.push.apply(y,p)}return y}function o(m){for(var g=1;g<arguments.length;g++){var y=arguments[g]!=null?arguments[g]:{};g%2?i(Object(y),!0).forEach((function(p){d(m,p,y[p])})):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(y)):i(Object(y)).forEach((function(p){Object.defineProperty(m,p,Object.getOwnPropertyDescriptor(y,p))}))}return m}function d(m,g,y){return(g=a(g))in m?Object.defineProperty(m,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[g]=y,m}function c(m,g){for(var y=0;y<g.length;y++){var p=g[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,a(p.key),p)}}function a(m){var g=(function(y,p){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var v=b.call(y,p);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(y)})(m,"string");return typeof g=="symbol"?g:String(g)}var u=t("buffer").Buffer,f=t("util").inspect,h=f&&f.custom||"inspect";s.exports=(function(){function m(){(function(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")})(this,m),this.head=null,this.tail=null,this.length=0}var g,y;return g=m,(y=[{key:"push",value:function(p){var b={data:p,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length}},{key:"unshift",value:function(p){var b={data:p,next:this.head};this.length===0&&(this.tail=b),this.head=b,++this.length}},{key:"shift",value:function(){if(this.length!==0){var p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(p){if(this.length===0)return"";for(var b=this.head,v=""+b.data;b=b.next;)v+=p+b.data;return v}},{key:"concat",value:function(p){if(this.length===0)return u.alloc(0);for(var b,v,j,C=u.allocUnsafe(p>>>0),T=this.head,D=0;T;)b=T.data,v=C,j=D,u.prototype.copy.call(b,v,j),D+=T.data.length,T=T.next;return C}},{key:"consume",value:function(p,b){var v;return p<this.head.data.length?(v=this.head.data.slice(0,p),this.head.data=this.head.data.slice(p)):v=p===this.head.data.length?this.shift():b?this._getString(p):this._getBuffer(p),v}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(p){var b=this.head,v=1,j=b.data;for(p-=j.length;b=b.next;){var C=b.data,T=p>C.length?C.length:p;if(T===C.length?j+=C:j+=C.slice(0,p),(p-=T)==0){T===C.length?(++v,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=C.slice(T));break}++v}return this.length-=v,j}},{key:"_getBuffer",value:function(p){var b=u.allocUnsafe(p),v=this.head,j=1;for(v.data.copy(b),p-=v.data.length;v=v.next;){var C=v.data,T=p>C.length?C.length:p;if(C.copy(b,b.length-p,0,T),(p-=T)==0){T===C.length?(++j,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=C.slice(T));break}++j}return this.length-=j,b}},{key:h,value:function(p,b){return f(this,o(o({},b),{},{depth:0,customInspect:!1}))}}])&&c(g.prototype,y),Object.defineProperty(g,"prototype",{writable:!1}),m})()},{buffer:220,util:188}],485:[function(t,s,l){(function(i){(function(){function o(a,u){c(a,u),d(a)}function d(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function c(a,u){a.emit("error",u)}s.exports={destroy:function(a,u){var f=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(c,this,a)):i.nextTick(c,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,(function(g){!u&&g?f._writableState?f._writableState.errorEmitted?i.nextTick(d,f):(f._writableState.errorEmitted=!0,i.nextTick(o,f,g)):i.nextTick(o,f,g):u?(i.nextTick(d,f),u(g)):i.nextTick(d,f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(a,u){var f=a._readableState,h=a._writableState;f&&f.autoDestroy||h&&h.autoDestroy?a.destroy(u):a.emit("error",u)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,s,l){var i=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}s.exports=function d(c,a,u){if(typeof a=="function")return d(c,null,a);a||(a={}),u=(function(T){var D=!1;return function(){if(!D){D=!0;for(var q=arguments.length,z=new Array(q),B=0;B<q;B++)z[B]=arguments[B];T.apply(this,z)}}})(u||o);var f=a.readable||a.readable!==!1&&c.readable,h=a.writable||a.writable!==!1&&c.writable,m=function(){c.writable||y()},g=c._writableState&&c._writableState.finished,y=function(){h=!1,g=!0,f||u.call(c)},p=c._readableState&&c._readableState.endEmitted,b=function(){f=!1,p=!0,h||u.call(c)},v=function(T){u.call(c,T)},j=function(){var T;return f&&!p?(c._readableState&&c._readableState.ended||(T=new i),u.call(c,T)):h&&!g?(c._writableState&&c._writableState.ended||(T=new i),u.call(c,T)):void 0},C=function(){c.req.on("finish",y)};return(function(T){return T.setHeader&&typeof T.abort=="function"})(c)?(c.on("complete",y),c.on("abort",j),c.req?C():c.on("request",C)):h&&!c._writableState&&(c.on("end",m),c.on("close",m)),c.on("end",b),c.on("finish",y),a.error!==!1&&c.on("error",v),c.on("close",j),function(){c.removeListener("complete",y),c.removeListener("abort",j),c.removeListener("request",C),c.req&&c.req.removeListener("finish",y),c.removeListener("end",m),c.removeListener("close",m),c.removeListener("finish",y),c.removeListener("end",b),c.removeListener("error",v),c.removeListener("close",j)}}},{"../../../errors":477}],487:[function(t,s,l){s.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,s,l){var i,o=t("../../../errors").codes,d=o.ERR_MISSING_ARGS,c=o.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function u(g,y,p,b){b=(function(C){var T=!1;return function(){T||(T=!0,C.apply(void 0,arguments))}})(b);var v=!1;g.on("close",(function(){v=!0})),i===void 0&&(i=t("./end-of-stream")),i(g,{readable:y,writable:p},(function(C){if(C)return b(C);v=!0,b()}));var j=!1;return function(C){if(!v&&!j)return j=!0,(function(T){return T.setHeader&&typeof T.abort=="function"})(g)?g.abort():typeof g.destroy=="function"?g.destroy():void b(C||new c("pipe"))}}function f(g){g()}function h(g,y){return g.pipe(y)}function m(g){return g.length?typeof g[g.length-1]!="function"?a:g.pop():a}s.exports=function(){for(var g=arguments.length,y=new Array(g),p=0;p<g;p++)y[p]=arguments[p];var b,v=m(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new d("streams");var j=y.map((function(C,T){var D=T<y.length-1;return u(C,D,T>0,(function(q){b||(b=q),q&&j.forEach(f),D||(j.forEach(f),v(b))}))}));return y.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,s,l){var i=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;s.exports={getHighWaterMark:function(o,d,c,a){var u=(function(f,h,m){return f.highWaterMark!=null?f.highWaterMark:h?f[m]:null})(d,a,c);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new i(a?c:"highWaterMark",u);return Math.floor(u)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,s,l){s.exports=t("events").EventEmitter},{events:422}],491:[function(t,s,l){(l=s.exports=t("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=t("./lib/_stream_writable.js"),l.Duplex=t("./lib/_stream_duplex.js"),l.Transform=t("./lib/_stream_transform.js"),l.PassThrough=t("./lib/_stream_passthrough.js"),l.finished=t("./lib/internal/streams/end-of-stream.js"),l.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,s,l){var i=(function(o){var d=Object.prototype,c=d.hasOwnProperty,a=Object.defineProperty||function(N,S,O){N[S]=O.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.asyncIterator||"@@asyncIterator",m=u.toStringTag||"@@toStringTag";function g(N,S,O){return Object.defineProperty(N,S,{value:O,enumerable:!0,configurable:!0,writable:!0}),N[S]}try{g({},"")}catch{g=function(S,O,L){return S[O]=L}}function y(N,S,O,L){var I=S&&S.prototype instanceof v?S:v,G=Object.create(I.prototype),Y=new E(L||[]);return a(G,"_invoke",{value:X(N,O,Y)}),G}function p(N,S,O){try{return{type:"normal",arg:N.call(S,O)}}catch(L){return{type:"throw",arg:L}}}o.wrap=y;var b={};function v(){}function j(){}function C(){}var T={};g(T,f,(function(){return this}));var D=Object.getPrototypeOf,q=D&&D(D(_([])));q&&q!==d&&c.call(q,f)&&(T=q);var z=C.prototype=v.prototype=Object.create(T);function B(N){["next","throw","return"].forEach((function(S){g(N,S,(function(O){return this._invoke(S,O)}))}))}function V(N,S){var O;a(this,"_invoke",{value:function(L,I){function G(){return new S((function(Y,te){(function U(J,$,R,K){var ee=p(N[J],N,$);if(ee.type!=="throw"){var se=ee.arg,ie=se.value;return ie&&typeof ie=="object"&&c.call(ie,"__await")?S.resolve(ie.__await).then((function(ae){U("next",ae,R,K)}),(function(ae){U("throw",ae,R,K)})):S.resolve(ie).then((function(ae){se.value=ae,R(se)}),(function(ae){return U("throw",ae,R,K)}))}K(ee.arg)})(L,I,Y,te)}))}return O=O?O.then(G,G):G()}})}function X(N,S,O){var L="suspendedStart";return function(I,G){if(L==="executing")throw new Error("Generator is already running");if(L==="completed"){if(I==="throw")throw G;return k()}for(O.method=I,O.arg=G;;){var Y=O.delegate;if(Y){var te=W(Y,O);if(te){if(te===b)continue;return te}}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(L==="suspendedStart")throw L="completed",O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);L="executing";var U=p(N,S,O);if(U.type==="normal"){if(L=O.done?"completed":"suspendedYield",U.arg===b)continue;return{value:U.arg,done:O.done}}U.type==="throw"&&(L="completed",O.method="throw",O.arg=U.arg)}}}function W(N,S){var O=S.method,L=N.iterator[O];if(L===void 0)return S.delegate=null,O==="throw"&&N.iterator.return&&(S.method="return",S.arg=void 0,W(N,S),S.method==="throw")||O!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+O+"' method")),b;var I=p(L,N.iterator,S.arg);if(I.type==="throw")return S.method="throw",S.arg=I.arg,S.delegate=null,b;var G=I.arg;return G?G.done?(S[N.resultName]=G.value,S.next=N.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,b):G:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,b)}function P(N){var S={tryLoc:N[0]};1 in N&&(S.catchLoc=N[1]),2 in N&&(S.finallyLoc=N[2],S.afterLoc=N[3]),this.tryEntries.push(S)}function M(N){var S=N.completion||{};S.type="normal",delete S.arg,N.completion=S}function E(N){this.tryEntries=[{tryLoc:"root"}],N.forEach(P,this),this.reset(!0)}function _(N){if(N){var S=N[f];if(S)return S.call(N);if(typeof N.next=="function")return N;if(!isNaN(N.length)){var O=-1,L=function I(){for(;++O<N.length;)if(c.call(N,O))return I.value=N[O],I.done=!1,I;return I.value=void 0,I.done=!0,I};return L.next=L}}return{next:k}}function k(){return{value:void 0,done:!0}}return j.prototype=C,a(z,"constructor",{value:C,configurable:!0}),a(C,"constructor",{value:j,configurable:!0}),j.displayName=g(C,m,"GeneratorFunction"),o.isGeneratorFunction=function(N){var S=typeof N=="function"&&N.constructor;return!!S&&(S===j||(S.displayName||S.name)==="GeneratorFunction")},o.mark=function(N){return Object.setPrototypeOf?Object.setPrototypeOf(N,C):(N.__proto__=C,g(N,m,"GeneratorFunction")),N.prototype=Object.create(z),N},o.awrap=function(N){return{__await:N}},B(V.prototype),g(V.prototype,h,(function(){return this})),o.AsyncIterator=V,o.async=function(N,S,O,L,I){I===void 0&&(I=Promise);var G=new V(y(N,S,O,L),I);return o.isGeneratorFunction(S)?G:G.next().then((function(Y){return Y.done?Y.value:G.next()}))},B(z),g(z,m,"Generator"),g(z,f,(function(){return this})),g(z,"toString",(function(){return"[object Generator]"})),o.keys=function(N){var S=Object(N),O=[];for(var L in S)O.push(L);return O.reverse(),function I(){for(;O.length;){var G=O.pop();if(G in S)return I.value=G,I.done=!1,I}return I.done=!0,I}},o.values=_,E.prototype={constructor:E,reset:function(N){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!N)for(var S in this)S.charAt(0)==="t"&&c.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var N=this.tryEntries[0].completion;if(N.type==="throw")throw N.arg;return this.rval},dispatchException:function(N){if(this.done)throw N;var S=this;function O(U,J){return G.type="throw",G.arg=N,S.next=U,J&&(S.method="next",S.arg=void 0),!!J}for(var L=this.tryEntries.length-1;L>=0;--L){var I=this.tryEntries[L],G=I.completion;if(I.tryLoc==="root")return O("end");if(I.tryLoc<=this.prev){var Y=c.call(I,"catchLoc"),te=c.call(I,"finallyLoc");if(Y&&te){if(this.prev<I.catchLoc)return O(I.catchLoc,!0);if(this.prev<I.finallyLoc)return O(I.finallyLoc)}else if(Y){if(this.prev<I.catchLoc)return O(I.catchLoc,!0)}else{if(!te)throw new Error("try statement without catch or finally");if(this.prev<I.finallyLoc)return O(I.finallyLoc)}}}},abrupt:function(N,S){for(var O=this.tryEntries.length-1;O>=0;--O){var L=this.tryEntries[O];if(L.tryLoc<=this.prev&&c.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var I=L;break}}I&&(N==="break"||N==="continue")&&I.tryLoc<=S&&S<=I.finallyLoc&&(I=null);var G=I?I.completion:{};return G.type=N,G.arg=S,I?(this.method="next",this.next=I.finallyLoc,b):this.complete(G)},complete:function(N,S){if(N.type==="throw")throw N.arg;return N.type==="break"||N.type==="continue"?this.next=N.arg:N.type==="return"?(this.rval=this.arg=N.arg,this.method="return",this.next="end"):N.type==="normal"&&S&&(this.next=S),b},finish:function(N){for(var S=this.tryEntries.length-1;S>=0;--S){var O=this.tryEntries[S];if(O.finallyLoc===N)return this.complete(O.completion,O.afterLoc),M(O),b}},catch:function(N){for(var S=this.tryEntries.length-1;S>=0;--S){var O=this.tryEntries[S];if(O.tryLoc===N){var L=O.completion;if(L.type==="throw"){var I=L.arg;M(O)}return I}}throw new Error("illegal catch attempt")},delegateYield:function(N,S,O){return this.delegate={iterator:_(N),resultName:S,nextLoc:O},this.method==="next"&&(this.arg=void 0),b}},o})(typeof s=="object"?s.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(t,s,l){var i=t("buffer").Buffer,o=t("inherits"),d=t("hash-base"),c=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],m=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function y(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(D,q){return D<<q|D>>>32-q}function b(D,q,z,B,V,X,W,P){return p(D+(q^z^B)+X+W|0,P)+V|0}function v(D,q,z,B,V,X,W,P){return p(D+(q&z|~q&B)+X+W|0,P)+V|0}function j(D,q,z,B,V,X,W,P){return p(D+((q|~z)^B)+X+W|0,P)+V|0}function C(D,q,z,B,V,X,W,P){return p(D+(q&B|z&~B)+X+W|0,P)+V|0}function T(D,q,z,B,V,X,W,P){return p(D+(q^(z|~B))+X+W|0,P)+V|0}o(y,d),y.prototype._update=function(){for(var D=c,q=0;q<16;++q)D[q]=this._block.readInt32LE(4*q);for(var z=0|this._a,B=0|this._b,V=0|this._c,X=0|this._d,W=0|this._e,P=0|this._a,M=0|this._b,E=0|this._c,_=0|this._d,k=0|this._e,N=0;N<80;N+=1){var S,O;N<16?(S=b(z,B,V,X,W,D[a[N]],m[0],f[N]),O=T(P,M,E,_,k,D[u[N]],g[0],h[N])):N<32?(S=v(z,B,V,X,W,D[a[N]],m[1],f[N]),O=C(P,M,E,_,k,D[u[N]],g[1],h[N])):N<48?(S=j(z,B,V,X,W,D[a[N]],m[2],f[N]),O=j(P,M,E,_,k,D[u[N]],g[2],h[N])):N<64?(S=C(z,B,V,X,W,D[a[N]],m[3],f[N]),O=v(P,M,E,_,k,D[u[N]],g[3],h[N])):(S=T(z,B,V,X,W,D[a[N]],m[4],f[N]),O=b(P,M,E,_,k,D[u[N]],g[4],h[N])),z=W,W=X,X=p(V,10),V=B,B=S,P=k,k=_,_=p(E,10),E=M,M=O}var L=this._b+V+_|0;this._b=this._c+X+k|0,this._c=this._d+W+P|0,this._d=this._e+z+M|0,this._e=this._a+B+E|0,this._a=L},y.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var D=i.alloc?i.alloc(20):new i(20);return D.writeInt32LE(this._a,0),D.writeInt32LE(this._b,4),D.writeInt32LE(this._c,8),D.writeInt32LE(this._d,12),D.writeInt32LE(this._e,16),D},s.exports=y},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,s,l){var i=t("buffer"),o=i.Buffer;function d(a,u){for(var f in a)u[f]=a[f]}function c(a,u,f){return o(a,u,f)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?s.exports=i:(d(i,l),l.Buffer=c),c.prototype=Object.create(o.prototype),d(o,c),c.from=function(a,u,f){if(typeof a=="number")throw new TypeError("Argument must not be a number");return o(a,u,f)},c.alloc=function(a,u,f){if(typeof a!="number")throw new TypeError("Argument must be a number");var h=o(a);return u!==void 0?typeof f=="string"?h.fill(u,f):h.fill(u):h.fill(0),h},c.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return o(a)},c.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(a)}},{buffer:220}],495:[function(t,s,l){(function(i){(function(){var o,d=t("buffer"),c=d.Buffer,a={};for(o in d)d.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(a[o]=d[o]);var u=a.Buffer={};for(o in c)c.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(u[o]=c[o]);if(a.Buffer.prototype=c.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(f,h,m){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return c(f,h,m)}),u.alloc||(u.alloc=function(f,h,m){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var g=c(f);return h&&h.length!==0?typeof m=="string"?g.fill(h,m):g.fill(h):g.fill(0),g}),!a.kStringMaxLength)try{a.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),s.exports=a}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0});const i=t("xmlchars/xml/1.0/ed5"),o=t("xmlchars/xml/1.1/ed2"),d=t("xmlchars/xmlns/1.0/ed3");var c=i.isS,a=i.isChar,u=i.isNameStartChar,f=i.isNameChar,h=i.S_LIST,m=i.NAME_RE,g=o.isChar,y=d.isNCNameStartChar,p=d.isNCNameChar,b=d.NC_NAME_RE;const v="http://www.w3.org/XML/1998/namespace",j="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:v,xmlns:j},T={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},D=_=>_===34||_===39,q=[34,39],z=[...q,91,62],B=[...q,60,93],V=[61,63,...h],X=[...h,62,38,60];function W(_,k,N){switch(k){case"xml":N!==v&&_.fail(`xml prefix must be bound to ${v}.`);break;case"xmlns":N!==j&&_.fail(`xmlns prefix must be bound to ${j}.`)}switch(N){case j:_.fail(k===""?`the default namespace may not be set to ${N}.`:`may not assign a prefix (even "xmlns") to the URI ${j}.`);break;case v:switch(k){case"xml":break;case"":_.fail(`the default namespace may not be set to ${N}.`);break;default:_.fail("may not assign the xml namespace to another prefix.")}}}const P=_=>b.test(_),M=_=>m.test(_);l.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};l.SaxesParser=class{constructor(_){this.opt=_??{},this.fragmentOpt=!!this.opt.fragment;const k=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,k){this.nameStartCheck=y,this.nameCheck=p,this.isName=P,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const N=this.opt.additionalNamespaces;N!=null&&((function(S,O){for(const L of Object.keys(O))W(S,L,O[L])})(this,N),Object.assign(this.ns,N))}else this.nameStartCheck=u,this.nameCheck=f,this.isName=M,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var _;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:k}=this;this.state=k?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=k,this.xmlDeclPossible=!k,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:N}=this.opt;if(N===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");N="1.0"}this.setXMLVersion(N),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(T),(_=this.readyHandler)===null||_===void 0||_.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(_,k){this[E[_]]=k}off(_){this[E[_]]=void 0}makeError(_){var k;let N=(k=this.fileName)!==null&&k!==void 0?k:"";return this.trackPosition&&(N.length>0&&(N+=":"),N+=`${this.line}:${this.column}`),N.length>0&&(N+=": "),new Error(N+_)}fail(_){const k=this.makeError(_),N=this.errorHandler;if(N===void 0)throw k;return N(k),this}write(_){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let k=!1;_===null?(k=!0,_=""):typeof _=="object"&&(_=_.toString()),this.carriedFromPrevious!==void 0&&(_=`${this.carriedFromPrevious}${_}`,this.carriedFromPrevious=void 0);let N=_.length;const S=_.charCodeAt(N-1);!k&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=_[N-1],N--,_=_.slice(0,N));const{stateTable:O}=this;for(this.chunk=_,this.i=0;this.i<N;)O[this.state].call(this);return this.chunkPosition+=N,k?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:_,i:k}=this;if(this.prevI=k,this.i=k+1,k>=_.length)return-1;const N=_.charCodeAt(k);if(this.column++,N<55296){if(N>=32||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return _.charCodeAt(k+1)===10&&(this.i=k+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const S=65536+1024*(N-55296)+(_.charCodeAt(k+1)-56320);return this.i=k+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:_,i:k}=this;if(this.prevI=k,this.i=k+1,k>=_.length)return-1;const N=_.charCodeAt(k);if(this.column++,N<55296){if(N>31&&N<127||N>159&&N!==8232||N===9)return N;switch(N){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const O=_.charCodeAt(k+1);O!==10&&O!==133||(this.i=k+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),N}}if(N>56319)return N>=57344&&N<=65533||this.fail("disallowed character."),N;const S=65536+1024*(N-55296)+(_.charCodeAt(k+1)-56320);return this.i=k+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const _=this.getCode();return _===-2?10:_}unget(){this.i=this.prevI,this.column--}captureTo(_){let{i:k}=this;const{chunk:N}=this;for(;;){const S=this.getCode(),O=S===-2,L=O?10:S;if(L===-1||_.includes(L))return this.text+=N.slice(k,this.prevI),L;O&&(this.text+=N.slice(k,this.prevI)+`
`,k=this.i)}}captureToChar(_){let{i:k}=this;const{chunk:N}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=N.slice(k,this.prevI)+`
`,k=this.i,S=10;break;case-1:return this.text+=N.slice(k),!1}if(S===_)return this.text+=N.slice(k,this.prevI),!0}}captureNameChars(){const{chunk:_,i:k}=this;for(;;){const N=this.getCode();if(N===-1)return this.name+=_.slice(k),-1;if(!f(N))return this.name+=_.slice(k,this.prevI),N===-2?10:N}}skipSpaces(){for(;;){const _=this.getCodeNorm();if(_===-1||!c(_))return _}}setXMLVersion(_){this.currentXMLVersion=_,_==="1.0"?(this.isChar=a,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const _=this.i,k=this.skipSpaces();switch(this.prevI!==_&&(this.xmlDeclPossible=!1),k){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var _;const k=this.captureTo(z);switch(k){case 62:(_=this.doctypeHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(k),k===91?this.state=4:D(k)&&(this.state=3,this.q=k)}}sDoctypeQuote(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.q=null,this.state=2)}sDTD(){const _=this.captureTo(B);_!==-1&&(this.text+=String.fromCodePoint(_),_===93?this.state=2:_===60?this.state=6:D(_)&&(this.state=5,this.q=_))}sDTDQuoted(){const _=this.q;this.captureToChar(_)&&(this.text+=String.fromCodePoint(_),this.state=4,this.q=null)}sDTDOpenWaka(){const _=this.getCodeNorm();switch(this.text+=String.fromCodePoint(_),_){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const _=String.fromCodePoint(this.getCodeNorm()),k=this.openWakaBang+=_;this.text+=_,k!=="-"&&(this.state=k==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),this.state=_===45?10:8}sDTDCommentEnded(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const _=this.getCodeNorm();this.text+=String.fromCodePoint(_),_===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:_}=this;const{chunk:k}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=k.slice(_,this.prevI)+`
`,_=this.i;break;case 59:{const{entityReturnState:N}=this,S=this.entity+k.slice(_,this.prevI);let O;this.state=N,S===""?(this.fail("empty entity name."),O="&;"):(O=this.parseEntity(S),this.entity=""),N===13&&this.textHandler===void 0||(this.text+=O);break e}case-1:this.entity+=k.slice(_);break e}}sOpenWaka(){const _=this.getCode();if(u(_))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(_){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var _;const k=this.getCodeNorm();k===45?(this.state=19,(_=this.commentHandler)===null||_===void 0||_.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(k),this.state=17)}sCommentEnded(){const _=this.getCodeNorm();_!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(_),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const _=this.getCodeNorm();_===93?this.state=22:(this.text+="]"+String.fromCodePoint(_),this.state=20)}sCDataEnding2(){var _;const k=this.getCodeNorm();switch(k){case 62:(_=this.cdataHandler)===null||_===void 0||_.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(k),this.state=20}}sPIFirstChar(){const _=this.getCodeNorm();this.nameStartCheck(_)?(this.piTarget+=String.fromCodePoint(_),this.state=24):_===63||c(_)?(this.fail("processing instruction without a target."),this.state=_===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(_),this.state=24)}sPIRest(){const{chunk:_,i:k}=this;for(;;){const N=this.getCodeNorm();if(N===-1)return void(this.piTarget+=_.slice(k));if(!this.nameCheck(N)){this.piTarget+=_.slice(k,this.prevI);const S=N===63;S||c(N)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(N));break}}}sPIBody(){if(this.text.length===0){const _=this.getCodeNorm();_===63?this.state=26:c(_)||(this.text=String.fromCodePoint(_))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var _;const k=this.getCodeNorm();if(k===62){const{piTarget:N}=this;N.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(_=this.piHandler)===null||_===void 0||_.call(this,{target:N,body:this.text}),this.piTarget=this.text="",this.state=13}else k===63?this.text+="?":(this.text+="?"+String.fromCodePoint(k),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const _=this.skipSpaces();_!==63?_!==-1&&(this.state=28,this.name=String.fromCodePoint(_)):this.state=33}sXMLDeclName(){const _=this.captureTo(V);if(_===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(c(_)||_===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=_===61?30:29}}sXMLDeclEq(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(_!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const _=this.getCodeNorm();if(_===63)return this.state=33,void this.fail("XML declaration is incomplete.");c(_)||(D(_)?this.q=_:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const _=this.captureTo([this.q,63]);if(_===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(_===-1)return;const k=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const N=k;this.xmlDecl.version=N,/^1\.[0-9]+$/.test(N)?this.opt.forceXMLVersion||this.setXMLVersion(N):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(k)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=k;break;case"standalone":k!=="yes"&&k!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=k}this.name="",this.state=32}sXMLDeclSeparator(){const _=this.getCodeNorm();_!==63?(c(_)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var _;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(_=this.xmldeclHandler)===null||_===void 0||_.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var _;const k=this.captureNameChars();if(k===-1)return;const N=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=N.ns=Object.create(null)),(_=this.openTagStartHandler)===null||_===void 0||_.call(this,N),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),k){case 62:this.openTag();break;case 47:this.state=35;break;default:c(k)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const _=this.skipSpaces();_!==-1&&(u(_)?(this.unget(),this.state=37):_===62?this.openTag():_===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const _=this.captureNameChars();_===61?this.state=39:c(_)?this.state=38:_===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):_!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const _=this.skipSpaces();switch(_){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",_===62?this.openTag():u(_)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const _=this.getCodeNorm();D(_)?(this.q=_,this.state=40):c(_)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:_,chunk:k}=this;let{i:N}=this;for(;;)switch(this.getCode()){case _:return this.pushAttrib(this.name,this.text+k.slice(N,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=k.slice(N,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=k.slice(N,this.prevI)+" ",N=this.i;break;case 60:return this.text+=k.slice(N,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=k.slice(N))}}sAttribValueClosed(){const _=this.getCodeNorm();c(_)?this.state=36:_===62?this.openTag():_===47?this.state=35:u(_)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const _=this.captureTo(X);switch(_){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",_===62?this.openTag():this.state=36}}sCloseTag(){const _=this.captureNameChars();_===62?this.closeTag():c(_)?this.state=44:_!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:_,forbiddenState:k}=this;const{chunk:N,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:O}=this,L=N.slice(_,this.prevI);O.length!==0?(S(O+L),this.text=""):L.length!==0&&S(L)}k=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=N.slice(_,this.prevI)),k=0;break e;case 93:switch(k){case 0:k=1;break;case 1:k=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:k===2&&this.fail('the string "]]>" is disallowed in char data.'),k=0;break;case-2:S!==void 0&&(this.text+=N.slice(_,this.prevI)+`
`),_=this.i,k=0;break;case-1:S!==void 0&&(this.text+=N.slice(_));break e;default:k=0}this.forbiddenState=k}handleTextOutsideRoot(){let{i:_}=this;const{chunk:k,textHandler:N}=this;let S=!1;e:for(;;){const O=this.getCode();switch(O){case 60:if(this.state=15,N!==void 0){const{text:L}=this,I=k.slice(_,this.prevI);L.length!==0?(N(L+I),this.text=""):I.length!==0&&N(I)}break e;case 38:this.state=14,this.entityReturnState=13,N!==void 0&&(this.text+=k.slice(_,this.prevI)),S=!0;break e;case-2:N!==void 0&&(this.text+=k.slice(_,this.prevI)+`
`),_=this.i;break;case-1:N!==void 0&&(this.text+=k.slice(_));break e;default:c(O)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(_,k){var N;const{prefix:S,local:O}=this.qname(_),L={name:_,prefix:S,local:O,value:k};if(this.attribList.push(L),(N=this.attributeHandler)===null||N===void 0||N.call(this,L),S==="xmlns"){const I=k.trim();this.currentXMLVersion==="1.0"&&I===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[O]=I,W(this,O,I)}else if(_==="xmlns"){const I=k.trim();this.topNS[""]=I,W(this,"",I)}}pushAttribPlain(_,k){var N;const S={name:_,value:k};this.attribList.push(S),(N=this.attributeHandler)===null||N===void 0||N.call(this,S)}end(){var _,k;this.sawRoot||this.fail("document must contain a root element.");const{tags:N}=this;for(;N.length>0;){const O=N.pop();this.fail("unclosed tag: "+O.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((_=this.textHandler)===null||_===void 0||_.call(this,S),this.text=""),this._closed=!0,(k=this.endHandler)===null||k===void 0||k.call(this),this._init(),this}resolve(_){var k,N;let S=this.topNS[_];if(S!==void 0)return S;const{tags:O}=this;for(let L=O.length-1;L>=0;L--)if(S=O[L].ns[_],S!==void 0)return S;return S=this.ns[_],S!==void 0?S:(N=(k=this.opt).resolvePrefix)===null||N===void 0?void 0:N.call(k,_)}qname(_){const k=_.indexOf(":");if(k===-1)return{prefix:"",local:_};const N=_.slice(k+1),S=_.slice(0,k);return(S===""||N===""||N.includes(":"))&&this.fail(`malformed name: ${_}.`),{prefix:S,local:N}}processAttribsNS(){var _;const{attribList:k}=this,N=this.tag;{const{prefix:L,local:I}=this.qname(N.name);N.prefix=L,N.local=I;const G=N.uri=(_=this.resolve(L))!==null&&_!==void 0?_:"";L!==""&&(L==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),G===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(L)}.`),N.uri=L))}if(k.length===0)return;const{attributes:S}=N,O=new Set;for(const L of k){const{name:I,prefix:G,local:Y}=L;let te,U;G===""?(te=I==="xmlns"?j:"",U=I):(te=this.resolve(G),te===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(G)}.`),te=G),U=`{${te}}${Y}`),O.has(U)&&this.fail(`duplicate attribute: ${U}.`),O.add(U),L.uri=te,S[I]=L}this.attribList=[]}processAttribsPlain(){const{attribList:_}=this,k=this.tag.attributes;for(const{name:N,value:S}of _)k[N]!==void 0&&this.fail(`duplicate attribute: ${N}.`),k[N]=S;this.attribList=[]}openTag(){var _;this.processAttribs();const{tags:k}=this,N=this.tag;N.isSelfClosing=!1,(_=this.openTagHandler)===null||_===void 0||_.call(this,N),k.push(N),this.state=13,this.name=""}openSelfClosingTag(){var _,k,N;this.processAttribs();const{tags:S}=this,O=this.tag;O.isSelfClosing=!0,(_=this.openTagHandler)===null||_===void 0||_.call(this,O),(k=this.closeTagHandler)===null||k===void 0||k.call(this,O),(this.tag=(N=S[S.length-1])!==null&&N!==void 0?N:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:_,name:k}=this;if(this.state=13,this.name="",k==="")return this.fail("weird empty close tag."),void(this.text+="</>");const N=this.closeTagHandler;let S=_.length;for(;S-- >0;){const O=this.tag=_.pop();if(this.topNS=O.ns,N?.(O),O.name===k)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${k}.`),this.text+=`</${k}>`)}parseEntity(_){if(_[0]!=="#"){const N=this.ENTITIES[_];return N!==void 0?N:(this.fail(this.isName(_)?"undefined entity.":"disallowed character in entity name."),`&${_};`)}let k=NaN;return _[1]==="x"&&/^#x[0-9a-f]+$/i.test(_)?k=parseInt(_.slice(2),16):/^#[0-9]+$/.test(_)&&(k=parseInt(_.slice(1),10)),this.isChar(k)?String.fromCodePoint(k):(this.fail("malformed character entity."),`&${_};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,s,l){var i=t("safe-buffer").Buffer;function o(d,c){this._block=i.alloc(d),this._finalSize=c,this._blockSize=d,this._len=0}o.prototype.update=function(d,c){typeof d=="string"&&(c=c||"utf8",d=i.from(d,c));for(var a=this._block,u=this._blockSize,f=d.length,h=this._len,m=0;m<f;){for(var g=h%u,y=Math.min(f-m,u-g),p=0;p<y;p++)a[g+p]=d[m+p];m+=y,(h+=y)%u==0&&this._update(a)}return this._len+=f,this},o.prototype.digest=function(d){var c=this._len%this._blockSize;this._block[c]=128,this._block.fill(0,c+1),c>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=8*this._len;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var u=(4294967295&a)>>>0,f=(a-u)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var h=this._hash();return d?h.toString(d):h},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},s.exports=o},{"safe-buffer":494}],498:[function(t,s,l){var i=s.exports=function(o){o=o.toLowerCase();var d=i[o];if(!d)throw new Error(o+" is not supported (we accept pull requests)");return new d};i.sha=t("./sha"),i.sha1=t("./sha1"),i.sha224=t("./sha224"),i.sha256=t("./sha256"),i.sha384=t("./sha384"),i.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,s,l){var i=t("inherits"),o=t("./hash"),d=t("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,o.call(this,64,56)}function f(m){return m<<30|m>>>2}function h(m,g,y,p){return m===0?g&y|~g&p:m===2?g&y|g&p|y&p:g^y^p}i(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(m){for(var g,y=this._w,p=0|this._a,b=0|this._b,v=0|this._c,j=0|this._d,C=0|this._e,T=0;T<16;++T)y[T]=m.readInt32BE(4*T);for(;T<80;++T)y[T]=y[T-3]^y[T-8]^y[T-14]^y[T-16];for(var D=0;D<80;++D){var q=~~(D/20),z=0|((g=p)<<5|g>>>27)+h(q,b,v,j)+C+y[D]+c[q];C=j,j=v,v=f(b),b=p,p=z}this._a=p+this._a|0,this._b=b+this._b|0,this._c=v+this._c|0,this._d=j+this._d|0,this._e=C+this._e|0},u.prototype._hash=function(){var m=d.allocUnsafe(20);return m.writeInt32BE(0|this._a,0),m.writeInt32BE(0|this._b,4),m.writeInt32BE(0|this._c,8),m.writeInt32BE(0|this._d,12),m.writeInt32BE(0|this._e,16),m},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,s,l){var i=t("inherits"),o=t("./hash"),d=t("safe-buffer").Buffer,c=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,o.call(this,64,56)}function f(g){return g<<5|g>>>27}function h(g){return g<<30|g>>>2}function m(g,y,p,b){return g===0?y&p|~y&b:g===2?y&p|y&b|p&b:y^p^b}i(u,o),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(g){for(var y,p=this._w,b=0|this._a,v=0|this._b,j=0|this._c,C=0|this._d,T=0|this._e,D=0;D<16;++D)p[D]=g.readInt32BE(4*D);for(;D<80;++D)p[D]=(y=p[D-3]^p[D-8]^p[D-14]^p[D-16])<<1|y>>>31;for(var q=0;q<80;++q){var z=~~(q/20),B=f(b)+m(z,v,j,C)+T+p[q]+c[z]|0;T=C,C=j,j=h(v),v=b,b=B}this._a=b+this._a|0,this._b=v+this._b|0,this._c=j+this._c|0,this._d=C+this._d|0,this._e=T+this._e|0},u.prototype._hash=function(){var g=d.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,s,l){var i=t("inherits"),o=t("./sha256"),d=t("./hash"),c=t("safe-buffer").Buffer,a=new Array(64);function u(){this.init(),this._w=a,d.call(this,64,56)}i(u,o),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var f=c.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},s.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,s,l){var i=t("inherits"),o=t("./hash"),d=t("safe-buffer").Buffer,c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}function f(p,b,v){return v^p&(b^v)}function h(p,b,v){return p&b|v&(p|b)}function m(p){return(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10)}function g(p){return(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7)}function y(p){return(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3}i(u,o),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(p){for(var b,v=this._w,j=0|this._a,C=0|this._b,T=0|this._c,D=0|this._d,q=0|this._e,z=0|this._f,B=0|this._g,V=0|this._h,X=0;X<16;++X)v[X]=p.readInt32BE(4*X);for(;X<64;++X)v[X]=0|(((b=v[X-2])>>>17|b<<15)^(b>>>19|b<<13)^b>>>10)+v[X-7]+y(v[X-15])+v[X-16];for(var W=0;W<64;++W){var P=V+g(q)+f(q,z,B)+c[W]+v[W]|0,M=m(j)+h(j,C,T)|0;V=B,B=z,z=q,q=D+P|0,D=T,T=C,C=j,j=P+M|0}this._a=j+this._a|0,this._b=C+this._b|0,this._c=T+this._c|0,this._d=D+this._d|0,this._e=q+this._e|0,this._f=z+this._f|0,this._g=B+this._g|0,this._h=V+this._h|0},u.prototype._hash=function(){var p=d.allocUnsafe(32);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p.writeInt32BE(this._h,28),p},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,s,l){var i=t("inherits"),o=t("./sha512"),d=t("./hash"),c=t("safe-buffer").Buffer,a=new Array(160);function u(){this.init(),this._w=a,d.call(this,128,112)}i(u,o),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var f=c.allocUnsafe(48);function h(m,g,y){f.writeInt32BE(m,y),f.writeInt32BE(g,y+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},s.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,s,l){var i=t("inherits"),o=t("./hash"),d=t("safe-buffer").Buffer,c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}function f(C,T,D){return D^C&(T^D)}function h(C,T,D){return C&T|D&(C|T)}function m(C,T){return(C>>>28|T<<4)^(T>>>2|C<<30)^(T>>>7|C<<25)}function g(C,T){return(C>>>14|T<<18)^(C>>>18|T<<14)^(T>>>9|C<<23)}function y(C,T){return(C>>>1|T<<31)^(C>>>8|T<<24)^C>>>7}function p(C,T){return(C>>>1|T<<31)^(C>>>8|T<<24)^(C>>>7|T<<25)}function b(C,T){return(C>>>19|T<<13)^(T>>>29|C<<3)^C>>>6}function v(C,T){return(C>>>19|T<<13)^(T>>>29|C<<3)^(C>>>6|T<<26)}function j(C,T){return C>>>0<T>>>0?1:0}i(u,o),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(C){for(var T=this._w,D=0|this._ah,q=0|this._bh,z=0|this._ch,B=0|this._dh,V=0|this._eh,X=0|this._fh,W=0|this._gh,P=0|this._hh,M=0|this._al,E=0|this._bl,_=0|this._cl,k=0|this._dl,N=0|this._el,S=0|this._fl,O=0|this._gl,L=0|this._hl,I=0;I<32;I+=2)T[I]=C.readInt32BE(4*I),T[I+1]=C.readInt32BE(4*I+4);for(;I<160;I+=2){var G=T[I-30],Y=T[I-30+1],te=y(G,Y),U=p(Y,G),J=b(G=T[I-4],Y=T[I-4+1]),$=v(Y,G),R=T[I-14],K=T[I-14+1],ee=T[I-32],se=T[I-32+1],ie=U+K|0,ae=te+R+j(ie,U)|0;ae=(ae=ae+J+j(ie=ie+$|0,$)|0)+ee+j(ie=ie+se|0,se)|0,T[I]=ae,T[I+1]=ie}for(var re=0;re<160;re+=2){ae=T[re],ie=T[re+1];var le=h(D,q,z),ne=h(M,E,_),fe=m(D,M),ue=m(M,D),xe=g(V,N),ge=g(N,V),be=c[re],ke=c[re+1],Ee=f(V,X,W),ze=f(N,S,O),Fe=L+ge|0,de=P+xe+j(Fe,L)|0;de=(de=(de=de+Ee+j(Fe=Fe+ze|0,ze)|0)+be+j(Fe=Fe+ke|0,ke)|0)+ae+j(Fe=Fe+ie|0,ie)|0;var ce=ue+ne|0,je=fe+le+j(ce,ue)|0;P=W,L=O,W=X,O=S,X=V,S=N,V=B+de+j(N=k+Fe|0,k)|0,B=z,k=_,z=q,_=E,q=D,E=M,D=de+je+j(M=Fe+ce|0,Fe)|0}this._al=this._al+M|0,this._bl=this._bl+E|0,this._cl=this._cl+_|0,this._dl=this._dl+k|0,this._el=this._el+N|0,this._fl=this._fl+S|0,this._gl=this._gl+O|0,this._hl=this._hl+L|0,this._ah=this._ah+D+j(this._al,M)|0,this._bh=this._bh+q+j(this._bl,E)|0,this._ch=this._ch+z+j(this._cl,_)|0,this._dh=this._dh+B+j(this._dl,k)|0,this._eh=this._eh+V+j(this._el,N)|0,this._fh=this._fh+X+j(this._fl,S)|0,this._gh=this._gh+W+j(this._gl,O)|0,this._hh=this._hh+P+j(this._hl,L)|0},u.prototype._hash=function(){var C=d.allocUnsafe(64);function T(D,q,z){C.writeInt32BE(D,z),C.writeInt32BE(q,z+4)}return T(this._ah,this._al,0),T(this._bh,this._bl,8),T(this._ch,this._cl,16),T(this._dh,this._dl,24),T(this._eh,this._el,32),T(this._fh,this._fl,40),T(this._gh,this._gl,48),T(this._hh,this._hl,56),C},s.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,s,l){s.exports=o;var i=t("events").EventEmitter;function o(){i.call(this)}t("inherits")(o,i),o.Readable=t("readable-stream/readable.js"),o.Writable=t("readable-stream/writable.js"),o.Duplex=t("readable-stream/duplex.js"),o.Transform=t("readable-stream/transform.js"),o.PassThrough=t("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(d,c){var a=this;function u(b){d.writable&&d.write(b)===!1&&a.pause&&a.pause()}function f(){a.readable&&a.resume&&a.resume()}a.on("data",u),d.on("drain",f),d._isStdio||c&&c.end===!1||(a.on("end",m),a.on("close",g));var h=!1;function m(){h||(h=!0,d.end())}function g(){h||(h=!0,typeof d.destroy=="function"&&d.destroy())}function y(b){if(p(),i.listenerCount(this,"error")===0)throw b}function p(){a.removeListener("data",u),d.removeListener("drain",f),a.removeListener("end",m),a.removeListener("close",g),a.removeListener("error",y),d.removeListener("error",y),a.removeListener("end",p),a.removeListener("close",p),d.removeListener("close",p)}return a.on("error",y),d.on("error",y),a.on("end",p),a.on("close",p),d.on("close",p),d.emit("pipe",a),d}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,s,l){var i={}.toString;s.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},{}],507:[function(t,s,l){s.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,s,l){var i=t("process-nextick-args"),o=Object.keys||function(p){var b=[];for(var v in p)b.push(v);return b};s.exports=m;var d=Object.create(t("core-util-is"));d.inherits=t("inherits");var c=t("./_stream_readable"),a=t("./_stream_writable");d.inherits(m,c);for(var u=o(a.prototype),f=0;f<u.length;f++){var h=u[f];m.prototype[h]||(m.prototype[h]=a.prototype[h])}function m(p){if(!(this instanceof m))return new m(p);c.call(this,p),a.call(this,p),p&&p.readable===!1&&(this.readable=!1),p&&p.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,p&&p.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||i.nextTick(y,this)}function y(p){p.end()}Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),m.prototype._destroy=function(p,b){this.push(null),this.end(),i.nextTick(b,p)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,s,l){s.exports=d;var i=t("./_stream_transform"),o=Object.create(t("core-util-is"));function d(c){if(!(this instanceof d))return new d(c);i.call(this,c)}o.inherits=t("inherits"),o.inherits(d,i),d.prototype._transform=function(c,a,u){u(null,c)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,s,l){(function(i,o){(function(){var d=t("process-nextick-args");s.exports=D;var c,a=t("isarray");D.ReadableState=T,t("events").EventEmitter;var u=function(L,I){return L.listeners(I).length},f=t("./internal/streams/stream"),h=t("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(t("core-util-is"));g.inherits=t("inherits");var y=t("util"),p=void 0;p=y&&y.debuglog?y.debuglog("stream"):function(){};var b,v=t("./internal/streams/BufferList"),j=t("./internal/streams/destroy");g.inherits(D,f);var C=["error","close","destroy","pause","resume"];function T(L,I){L=L||{};var G=I instanceof(c=c||t("./_stream_duplex"));this.objectMode=!!L.objectMode,G&&(this.objectMode=this.objectMode||!!L.readableObjectMode);var Y=L.highWaterMark,te=L.readableHighWaterMark,U=this.objectMode?16:16384;this.highWaterMark=Y||Y===0?Y:G&&(te||te===0)?te:U,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(b||(b=t("string_decoder/").StringDecoder),this.decoder=new b(L.encoding),this.encoding=L.encoding)}function D(L){if(c=c||t("./_stream_duplex"),!(this instanceof D))return new D(L);this._readableState=new T(L,this),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),f.call(this)}function q(L,I,G,Y,te){var U,J=L._readableState;return I===null?(J.reading=!1,(function($,R){if(!R.ended){if(R.decoder){var K=R.decoder.end();K&&K.length&&(R.buffer.push(K),R.length+=R.objectMode?1:K.length)}R.ended=!0,V($)}})(L,J)):(te||(U=(function($,R){var K;ee=R,h.isBuffer(ee)||ee instanceof m||typeof R=="string"||R===void 0||$.objectMode||(K=new TypeError("Invalid non-string/buffer chunk"));var ee;return K})(J,I)),U?L.emit("error",U):J.objectMode||I&&I.length>0?(typeof I=="string"||J.objectMode||Object.getPrototypeOf(I)===h.prototype||(I=(function($){return h.from($)})(I)),Y?J.endEmitted?L.emit("error",new Error("stream.unshift() after end event")):z(L,J,I,!0):J.ended?L.emit("error",new Error("stream.push() after EOF")):(J.reading=!1,J.decoder&&!G?(I=J.decoder.write(I),J.objectMode||I.length!==0?z(L,J,I,!1):W(L,J)):z(L,J,I,!1))):Y||(J.reading=!1)),(function($){return!$.ended&&($.needReadable||$.length<$.highWaterMark||$.length===0)})(J)}function z(L,I,G,Y){I.flowing&&I.length===0&&!I.sync?(L.emit("data",G),L.read(0)):(I.length+=I.objectMode?1:G.length,Y?I.buffer.unshift(G):I.buffer.push(G),I.needReadable&&V(L)),W(L,I)}Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(L){this._readableState&&(this._readableState.destroyed=L)}}),D.prototype.destroy=j.destroy,D.prototype._undestroy=j.undestroy,D.prototype._destroy=function(L,I){this.push(null),I(L)},D.prototype.push=function(L,I){var G,Y=this._readableState;return Y.objectMode?G=!0:typeof L=="string"&&((I=I||Y.defaultEncoding)!==Y.encoding&&(L=h.from(L,I),I=""),G=!0),q(this,L,I,!1,G)},D.prototype.unshift=function(L){return q(this,L,null,!0,!1)},D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(L){return b||(b=t("string_decoder/").StringDecoder),this._readableState.decoder=new b(L),this._readableState.encoding=L,this};function B(L,I){return L<=0||I.length===0&&I.ended?0:I.objectMode?1:L!=L?I.flowing&&I.length?I.buffer.head.data.length:I.length:(L>I.highWaterMark&&(I.highWaterMark=(function(G){return G>=8388608?G=8388608:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G})(L)),L<=I.length?L:I.ended?I.length:(I.needReadable=!0,0))}function V(L){var I=L._readableState;I.needReadable=!1,I.emittedReadable||(p("emitReadable",I.flowing),I.emittedReadable=!0,I.sync?d.nextTick(X,L):X(L))}function X(L){p("emit readable"),L.emit("readable"),_(L)}function W(L,I){I.readingMore||(I.readingMore=!0,d.nextTick(P,L,I))}function P(L,I){for(var G=I.length;!I.reading&&!I.flowing&&!I.ended&&I.length<I.highWaterMark&&(p("maybeReadMore read 0"),L.read(0),G!==I.length);)G=I.length;I.readingMore=!1}function M(L){p("readable nexttick read 0"),L.read(0)}function E(L,I){I.reading||(p("resume read 0"),L.read(0)),I.resumeScheduled=!1,I.awaitDrain=0,L.emit("resume"),_(L),I.flowing&&!I.reading&&L.read(0)}function _(L){var I=L._readableState;for(p("flow",I.flowing);I.flowing&&L.read()!==null;);}function k(L,I){return I.length===0?null:(I.objectMode?G=I.buffer.shift():!L||L>=I.length?(G=I.decoder?I.buffer.join(""):I.buffer.length===1?I.buffer.head.data:I.buffer.concat(I.length),I.buffer.clear()):G=(function(Y,te,U){var J;return Y<te.head.data.length?(J=te.head.data.slice(0,Y),te.head.data=te.head.data.slice(Y)):J=Y===te.head.data.length?te.shift():U?(function($,R){var K=R.head,ee=1,se=K.data;for($-=se.length;K=K.next;){var ie=K.data,ae=$>ie.length?ie.length:$;if(ae===ie.length?se+=ie:se+=ie.slice(0,$),($-=ae)===0){ae===ie.length?(++ee,K.next?R.head=K.next:R.head=R.tail=null):(R.head=K,K.data=ie.slice(ae));break}++ee}return R.length-=ee,se})(Y,te):(function($,R){var K=h.allocUnsafe($),ee=R.head,se=1;for(ee.data.copy(K),$-=ee.data.length;ee=ee.next;){var ie=ee.data,ae=$>ie.length?ie.length:$;if(ie.copy(K,K.length-$,0,ae),($-=ae)===0){ae===ie.length?(++se,ee.next?R.head=ee.next:R.head=R.tail=null):(R.head=ee,ee.data=ie.slice(ae));break}++se}return R.length-=se,K})(Y,te),J})(L,I.buffer,I.decoder),G);var G}function N(L){var I=L._readableState;if(I.length>0)throw new Error('"endReadable()" called on non-empty stream');I.endEmitted||(I.ended=!0,d.nextTick(S,I,L))}function S(L,I){L.endEmitted||L.length!==0||(L.endEmitted=!0,I.readable=!1,I.emit("end"))}function O(L,I){for(var G=0,Y=L.length;G<Y;G++)if(L[G]===I)return G;return-1}D.prototype.read=function(L){p("read",L),L=parseInt(L,10);var I=this._readableState,G=L;if(L!==0&&(I.emittedReadable=!1),L===0&&I.needReadable&&(I.length>=I.highWaterMark||I.ended))return p("read: emitReadable",I.length,I.ended),I.length===0&&I.ended?N(this):V(this),null;if((L=B(L,I))===0&&I.ended)return I.length===0&&N(this),null;var Y,te=I.needReadable;return p("need readable",te),(I.length===0||I.length-L<I.highWaterMark)&&p("length less than watermark",te=!0),I.ended||I.reading?p("reading or ended",te=!1):te&&(p("do read"),I.reading=!0,I.sync=!0,I.length===0&&(I.needReadable=!0),this._read(I.highWaterMark),I.sync=!1,I.reading||(L=B(G,I))),(Y=L>0?k(L,I):null)===null?(I.needReadable=!0,L=0):I.length-=L,I.length===0&&(I.ended||(I.needReadable=!0),G!==L&&I.ended&&N(this)),Y!==null&&this.emit("data",Y),Y},D.prototype._read=function(L){this.emit("error",new Error("_read() is not implemented"))},D.prototype.pipe=function(L,I){var G=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=L;break;case 1:Y.pipes=[Y.pipes,L];break;default:Y.pipes.push(L)}Y.pipesCount+=1,p("pipe count=%d opts=%j",Y.pipesCount,I);var te=(!I||I.end!==!1)&&L!==i.stdout&&L!==i.stderr?J:re;function U(le,ne){p("onunpipe"),le===G&&ne&&ne.hasUnpiped===!1&&(ne.hasUnpiped=!0,p("cleanup"),L.removeListener("close",ie),L.removeListener("finish",ae),L.removeListener("drain",$),L.removeListener("error",se),L.removeListener("unpipe",U),G.removeListener("end",J),G.removeListener("end",re),G.removeListener("data",ee),R=!0,!Y.awaitDrain||L._writableState&&!L._writableState.needDrain||$())}function J(){p("onend"),L.end()}Y.endEmitted?d.nextTick(te):G.once("end",te),L.on("unpipe",U);var $=(function(le){return function(){var ne=le._readableState;p("pipeOnDrain",ne.awaitDrain),ne.awaitDrain&&ne.awaitDrain--,ne.awaitDrain===0&&u(le,"data")&&(ne.flowing=!0,_(le))}})(G);L.on("drain",$);var R=!1,K=!1;function ee(le){p("ondata"),K=!1,L.write(le)!==!1||K||((Y.pipesCount===1&&Y.pipes===L||Y.pipesCount>1&&O(Y.pipes,L)!==-1)&&!R&&(p("false write response, pause",Y.awaitDrain),Y.awaitDrain++,K=!0),G.pause())}function se(le){p("onerror",le),re(),L.removeListener("error",se),u(L,"error")===0&&L.emit("error",le)}function ie(){L.removeListener("finish",ae),re()}function ae(){p("onfinish"),L.removeListener("close",ie),re()}function re(){p("unpipe"),G.unpipe(L)}return G.on("data",ee),(function(le,ne,fe){if(typeof le.prependListener=="function")return le.prependListener(ne,fe);le._events&&le._events[ne]?a(le._events[ne])?le._events[ne].unshift(fe):le._events[ne]=[fe,le._events[ne]]:le.on(ne,fe)})(L,"error",se),L.once("close",ie),L.once("finish",ae),L.emit("pipe",G),Y.flowing||(p("pipe resume"),G.resume()),L},D.prototype.unpipe=function(L){var I=this._readableState,G={hasUnpiped:!1};if(I.pipesCount===0)return this;if(I.pipesCount===1)return L&&L!==I.pipes||(L||(L=I.pipes),I.pipes=null,I.pipesCount=0,I.flowing=!1,L&&L.emit("unpipe",this,G)),this;if(!L){var Y=I.pipes,te=I.pipesCount;I.pipes=null,I.pipesCount=0,I.flowing=!1;for(var U=0;U<te;U++)Y[U].emit("unpipe",this,{hasUnpiped:!1});return this}var J=O(I.pipes,L);return J===-1||(I.pipes.splice(J,1),I.pipesCount-=1,I.pipesCount===1&&(I.pipes=I.pipes[0]),L.emit("unpipe",this,G)),this},D.prototype.on=function(L,I){var G=f.prototype.on.call(this,L,I);if(L==="data")this._readableState.flowing!==!1&&this.resume();else if(L==="readable"){var Y=this._readableState;Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.emittedReadable=!1,Y.reading?Y.length&&V(this):d.nextTick(M,this))}return G},D.prototype.addListener=D.prototype.on,D.prototype.resume=function(){var L=this._readableState;return L.flowing||(p("resume"),L.flowing=!0,(function(I,G){G.resumeScheduled||(G.resumeScheduled=!0,d.nextTick(E,I,G))})(this,L)),this},D.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},D.prototype.wrap=function(L){var I=this,G=this._readableState,Y=!1;for(var te in L.on("end",(function(){if(p("wrapped end"),G.decoder&&!G.ended){var J=G.decoder.end();J&&J.length&&I.push(J)}I.push(null)})),L.on("data",(function(J){p("wrapped data"),G.decoder&&(J=G.decoder.write(J)),G.objectMode&&J==null||(G.objectMode||J&&J.length)&&(I.push(J)||(Y=!0,L.pause()))})),L)this[te]===void 0&&typeof L[te]=="function"&&(this[te]=(function(J){return function(){return L[J].apply(L,arguments)}})(te));for(var U=0;U<C.length;U++)L.on(C[U],this.emit.bind(this,C[U]));return this._read=function(J){p("wrapped _read",J),Y&&(Y=!1,L.resume())},this},Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),D._fromList=k}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,s,l){s.exports=c;var i=t("./_stream_duplex"),o=Object.create(t("core-util-is"));function d(f,h){var m=this._transformState;m.transforming=!1;var g=m.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));m.writechunk=null,m.writecb=null,h!=null&&this.push(h),g(f);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);i.call(this,f),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",a)}function a(){var f=this;typeof this._flush=="function"?this._flush((function(h,m){u(f,h,m)})):u(this,null,null)}function u(f,h,m){if(h)return f.emit("error",h);if(m!=null&&f.push(m),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}o.inherits=t("inherits"),o.inherits(c,i),c.prototype.push=function(f,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,h)},c.prototype._transform=function(f,h,m){throw new Error("_transform() is not implemented")},c.prototype._write=function(f,h,m){var g=this._transformState;if(g.writecb=m,g.writechunk=f,g.writeencoding=h,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},c.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},c.prototype._destroy=function(f,h){var m=this;i.prototype._destroy.call(this,f,(function(g){h(g),m.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,s,l){(function(i,o,d){(function(){var c=t("process-nextick-args");function a(W){var P=this;this.next=null,this.entry=null,this.finish=function(){(function(M,E,_){var k=M.entry;for(M.entry=null;k;){var N=k.callback;E.pendingcb--,N(_),k=k.next}E.corkedRequestsFree.next=M})(P,W)}}s.exports=T;var u,f=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?d:c.nextTick;T.WritableState=C;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var m={deprecate:t("util-deprecate")},g=t("./internal/streams/stream"),y=t("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b,v=t("./internal/streams/destroy");function j(){}function C(W,P){u=u||t("./_stream_duplex"),W=W||{};var M=P instanceof u;this.objectMode=!!W.objectMode,M&&(this.objectMode=this.objectMode||!!W.writableObjectMode);var E=W.highWaterMark,_=W.writableHighWaterMark,k=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:M&&(_||_===0)?_:k,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=W.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=W.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(O,L){var I=O._writableState,G=I.sync,Y=I.writecb;if((function(U){U.writing=!1,U.writecb=null,U.length-=U.writelen,U.writelen=0})(I),L)(function(U,J,$,R,K){--J.pendingcb,$?(c.nextTick(K,R),c.nextTick(X,U,J),U._writableState.errorEmitted=!0,U.emit("error",R)):(K(R),U._writableState.errorEmitted=!0,U.emit("error",R),X(U,J))})(O,I,G,L,Y);else{var te=B(I);te||I.corked||I.bufferProcessing||!I.bufferedRequest||z(O,I),G?f(q,O,I,te,Y):q(O,I,te,Y)}})(P,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function T(W){if(u=u||t("./_stream_duplex"),!(b.call(T,this)||this instanceof u))return new T(W);this._writableState=new C(W,this),this.writable=!0,W&&(typeof W.write=="function"&&(this._write=W.write),typeof W.writev=="function"&&(this._writev=W.writev),typeof W.destroy=="function"&&(this._destroy=W.destroy),typeof W.final=="function"&&(this._final=W.final)),g.call(this)}function D(W,P,M,E,_,k,N){P.writelen=E,P.writecb=N,P.writing=!0,P.sync=!0,M?W._writev(_,P.onwrite):W._write(_,k,P.onwrite),P.sync=!1}function q(W,P,M,E){M||(function(_,k){k.length===0&&k.needDrain&&(k.needDrain=!1,_.emit("drain"))})(W,P),P.pendingcb--,E(),X(W,P)}function z(W,P){P.bufferProcessing=!0;var M=P.bufferedRequest;if(W._writev&&M&&M.next){var E=P.bufferedRequestCount,_=new Array(E),k=P.corkedRequestsFree;k.entry=M;for(var N=0,S=!0;M;)_[N]=M,M.isBuf||(S=!1),M=M.next,N+=1;_.allBuffers=S,D(W,P,!0,P.length,_,"",k.finish),P.pendingcb++,P.lastBufferedRequest=null,k.next?(P.corkedRequestsFree=k.next,k.next=null):P.corkedRequestsFree=new a(P),P.bufferedRequestCount=0}else{for(;M;){var O=M.chunk,L=M.encoding,I=M.callback;if(D(W,P,!1,P.objectMode?1:O.length,O,L,I),M=M.next,P.bufferedRequestCount--,P.writing)break}M===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=M,P.bufferProcessing=!1}function B(W){return W.ending&&W.length===0&&W.bufferedRequest===null&&!W.finished&&!W.writing}function V(W,P){W._final((function(M){P.pendingcb--,M&&W.emit("error",M),P.prefinished=!0,W.emit("prefinish"),X(W,P)}))}function X(W,P){var M=B(P);return M&&((function(E,_){_.prefinished||_.finalCalled||(typeof E._final=="function"?(_.pendingcb++,_.finalCalled=!0,c.nextTick(V,E,_)):(_.prefinished=!0,E.emit("prefinish")))})(W,P),P.pendingcb===0&&(P.finished=!0,W.emit("finish"))),M}h.inherits(T,g),C.prototype.getBuffer=function(){for(var W=this.bufferedRequest,P=[];W;)P.push(W),W=W.next;return P},(function(){try{Object.defineProperty(C.prototype,"buffer",{get:m.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(W){return!!b.call(this,W)||this===T&&W&&W._writableState instanceof C}})):b=function(W){return W instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(W,P,M){var E,_=this._writableState,k=!1,N=!_.objectMode&&(E=W,y.isBuffer(E)||E instanceof p);return N&&!y.isBuffer(W)&&(W=(function(S){return y.from(S)})(W)),typeof P=="function"&&(M=P,P=null),N?P="buffer":P||(P=_.defaultEncoding),typeof M!="function"&&(M=j),_.ended?(function(S,O){var L=new Error("write after end");S.emit("error",L),c.nextTick(O,L)})(this,M):(N||(function(S,O,L,I){var G=!0,Y=!1;return L===null?Y=new TypeError("May not write null values to stream"):typeof L=="string"||L===void 0||O.objectMode||(Y=new TypeError("Invalid non-string/buffer chunk")),Y&&(S.emit("error",Y),c.nextTick(I,Y),G=!1),G})(this,_,W,M))&&(_.pendingcb++,k=(function(S,O,L,I,G,Y){if(!L){var te=(function(R,K,ee){return R.objectMode||R.decodeStrings===!1||typeof K!="string"||(K=y.from(K,ee)),K})(O,I,G);I!==te&&(L=!0,G="buffer",I=te)}var U=O.objectMode?1:I.length;O.length+=U;var J=O.length<O.highWaterMark;if(J||(O.needDrain=!0),O.writing||O.corked){var $=O.lastBufferedRequest;O.lastBufferedRequest={chunk:I,encoding:G,isBuf:L,callback:Y,next:null},$?$.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else D(S,O,!1,U,I,G,Y);return J})(this,_,N,W,P,M)),k},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var W=this._writableState;W.corked&&(W.corked--,W.writing||W.corked||W.bufferProcessing||!W.bufferedRequest||z(this,W))},T.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(W,P,M){M(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(W,P,M){var E=this._writableState;typeof W=="function"?(M=W,W=null,P=null):typeof P=="function"&&(M=P,P=null),W!=null&&this.write(W,P),E.corked&&(E.corked=1,this.uncork()),E.ending||(function(_,k,N){k.ending=!0,X(_,k),N&&(k.finished?c.nextTick(N):_.once("finish",N)),k.ended=!0,_.writable=!1})(this,E,M)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),T.prototype.destroy=v.destroy,T.prototype._undestroy=v.undestroy,T.prototype._destroy=function(W,P){this.end(),P(W)}}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,s,l){var i=t("safe-buffer").Buffer,o=t("util");s.exports=(function(){function d(){(function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}return d.prototype.push=function(c){var a={data:c,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},d.prototype.unshift=function(c){var a={data:c,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},d.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(c){if(this.length===0)return"";for(var a=this.head,u=""+a.data;a=a.next;)u+=c+a.data;return u},d.prototype.concat=function(c){if(this.length===0)return i.alloc(0);for(var a,u,f,h=i.allocUnsafe(c>>>0),m=this.head,g=0;m;)a=m.data,u=h,f=g,a.copy(u,f),g+=m.data.length,m=m.next;return h},d})(),o&&o.inspect&&o.inspect.custom&&(s.exports.prototype[o.inspect.custom]=function(){var d=o.inspect({length:this.length});return this.constructor.name+" "+d})},{"safe-buffer":520,util:188}],514:[function(t,s,l){var i=t("process-nextick-args");function o(d,c){d.emit("error",c)}s.exports={destroy:function(d,c){var a=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(c?c(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(o,this,d)):i.nextTick(o,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,(function(h){!c&&h?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,i.nextTick(o,a,h)):i.nextTick(o,a,h):c&&c(h)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,s,l){arguments[4][490][0].apply(l,arguments)},{dup:490,events:422}],516:[function(t,s,l){s.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,s,l){(l=s.exports=t("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=t("./lib/_stream_writable.js"),l.Duplex=t("./lib/_stream_duplex.js"),l.Transform=t("./lib/_stream_transform.js"),l.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,s,l){s.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,s,l){s.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,s,l){arguments[4][217][0].apply(l,arguments)},{buffer:220,dup:217}],521:[function(t,s,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,s,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,s,l){(function(i,o){(function(){var d=t("process/browser.js").nextTick,c=Function.prototype.apply,a=Array.prototype.slice,u={},f=0;function h(m,g){this._id=m,this._clearFn=g}l.setTimeout=function(){return new h(c.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new h(c.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(m){m.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(m,g){clearTimeout(m._idleTimeoutId),m._idleTimeout=g},l.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},l._unrefActive=l.active=function(m){clearTimeout(m._idleTimeoutId);var g=m._idleTimeout;g>=0&&(m._idleTimeoutId=setTimeout((function(){m._onTimeout&&m._onTimeout()}),g))},l.setImmediate=typeof i=="function"?i:function(m){var g=f++,y=!(arguments.length<2)&&a.call(arguments,1);return u[g]=!0,d((function(){u[g]&&(y?m.apply(null,y):m.call(null),l.clearImmediate(g))})),g},l.clearImmediate=typeof o=="function"?o:function(m){delete u[m]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,s,l){(function(i){(function(){function o(d){try{if(!i.localStorage)return!1}catch{return!1}var c=i.localStorage[d];return c!=null&&String(c).toLowerCase()==="true"}s.exports=function(d,c){if(o("noDeprecation"))return d;var a=!1;return function(){if(!a){if(o("throwDeprecation"))throw new Error(c);o("traceDeprecation")?console.trace(c):console.warn(c),a=!0}return d.apply(this,arguments)}}}).call(this)}).call(this,typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,s,l){typeof Object.create=="function"?s.exports=function(i,o){i.super_=o,i.prototype=Object.create(o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:s.exports=function(i,o){i.super_=o;var d=function(){};d.prototype=o.prototype,i.prototype=new d,i.prototype.constructor=i}},{}],526:[function(t,s,l){s.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(t,s,l){(function(i,o){(function(){var d=/%[sdj%]/g;l.format=function(_){if(!C(_)){for(var k=[],N=0;N<arguments.length;N++)k.push(u(arguments[N]));return k.join(" ")}N=1;for(var S=arguments,O=S.length,L=String(_).replace(d,(function(G){if(G==="%%")return"%";if(N>=O)return G;switch(G){case"%s":return String(S[N++]);case"%d":return Number(S[N++]);case"%j":try{return JSON.stringify(S[N++])}catch{return"[Circular]"}default:return G}})),I=S[N];N<O;I=S[++N])v(I)||!q(I)?L+=" "+I:L+=" "+u(I);return L},l.deprecate=function(_,k){if(T(o.process))return function(){return l.deprecate(_,k).apply(this,arguments)};if(i.noDeprecation===!0)return _;var N=!1;return function(){if(!N){if(i.throwDeprecation)throw new Error(k);i.traceDeprecation?console.trace(k):console.error(k),N=!0}return _.apply(this,arguments)}};var c,a={};function u(_,k){var N={seen:[],stylize:h};return arguments.length>=3&&(N.depth=arguments[2]),arguments.length>=4&&(N.colors=arguments[3]),b(k)?N.showHidden=k:k&&l._extend(N,k),T(N.showHidden)&&(N.showHidden=!1),T(N.depth)&&(N.depth=2),T(N.colors)&&(N.colors=!1),T(N.customInspect)&&(N.customInspect=!0),N.colors&&(N.stylize=f),m(N,_,N.depth)}function f(_,k){var N=u.styles[k];return N?"\x1B["+u.colors[N][0]+"m"+_+"\x1B["+u.colors[N][1]+"m":_}function h(_,k){return _}function m(_,k,N){if(_.customInspect&&k&&V(k.inspect)&&k.inspect!==l.inspect&&(!k.constructor||k.constructor.prototype!==k)){var S=k.inspect(N,_);return C(S)||(S=m(_,S,N)),S}var O=(function($,R){if(T(R))return $.stylize("undefined","undefined");if(C(R)){var K="'"+JSON.stringify(R).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(K,"string")}if(j(R))return $.stylize(""+R,"number");if(b(R))return $.stylize(""+R,"boolean");if(v(R))return $.stylize("null","null")})(_,k);if(O)return O;var L=Object.keys(k),I=(function($){var R={};return $.forEach((function(K,ee){R[K]=!0})),R})(L);if(_.showHidden&&(L=Object.getOwnPropertyNames(k)),B(k)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return g(k);if(L.length===0){if(V(k)){var G=k.name?": "+k.name:"";return _.stylize("[Function"+G+"]","special")}if(D(k))return _.stylize(RegExp.prototype.toString.call(k),"regexp");if(z(k))return _.stylize(Date.prototype.toString.call(k),"date");if(B(k))return g(k)}var Y,te="",U=!1,J=["{","}"];return p(k)&&(U=!0,J=["[","]"]),V(k)&&(te=" [Function"+(k.name?": "+k.name:"")+"]"),D(k)&&(te=" "+RegExp.prototype.toString.call(k)),z(k)&&(te=" "+Date.prototype.toUTCString.call(k)),B(k)&&(te=" "+g(k)),L.length!==0||U&&k.length!=0?N<0?D(k)?_.stylize(RegExp.prototype.toString.call(k),"regexp"):_.stylize("[Object]","special"):(_.seen.push(k),Y=U?(function($,R,K,ee,se){for(var ie=[],ae=0,re=R.length;ae<re;++ae)E(R,String(ae))?ie.push(y($,R,K,ee,String(ae),!0)):ie.push("");return se.forEach((function(le){le.match(/^\d+$/)||ie.push(y($,R,K,ee,le,!0))})),ie})(_,k,N,I,L):L.map((function($){return y(_,k,N,I,$,U)})),_.seen.pop(),(function($,R,K){return $.reduce((function(ee,se){return se.indexOf(`
`)>=0,ee+se.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?K[0]+(R===""?"":R+`
 `)+" "+$.join(`,
  `)+" "+K[1]:K[0]+R+" "+$.join(", ")+" "+K[1]})(Y,te,J)):J[0]+te+J[1]}function g(_){return"["+Error.prototype.toString.call(_)+"]"}function y(_,k,N,S,O,L){var I,G,Y;if((Y=Object.getOwnPropertyDescriptor(k,O)||{value:k[O]}).get?G=Y.set?_.stylize("[Getter/Setter]","special"):_.stylize("[Getter]","special"):Y.set&&(G=_.stylize("[Setter]","special")),E(S,O)||(I="["+O+"]"),G||(_.seen.indexOf(Y.value)<0?(G=v(N)?m(_,Y.value,null):m(_,Y.value,N-1)).indexOf(`
`)>-1&&(G=L?G.split(`
`).map((function(te){return"  "+te})).join(`
`).substr(2):`
`+G.split(`
`).map((function(te){return"   "+te})).join(`
`)):G=_.stylize("[Circular]","special")),T(I)){if(L&&O.match(/^\d+$/))return G;(I=JSON.stringify(""+O)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.substr(1,I.length-2),I=_.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=_.stylize(I,"string"))}return I+": "+G}function p(_){return Array.isArray(_)}function b(_){return typeof _=="boolean"}function v(_){return _===null}function j(_){return typeof _=="number"}function C(_){return typeof _=="string"}function T(_){return _===void 0}function D(_){return q(_)&&X(_)==="[object RegExp]"}function q(_){return typeof _=="object"&&_!==null}function z(_){return q(_)&&X(_)==="[object Date]"}function B(_){return q(_)&&(X(_)==="[object Error]"||_ instanceof Error)}function V(_){return typeof _=="function"}function X(_){return Object.prototype.toString.call(_)}function W(_){return _<10?"0"+_.toString(10):_.toString(10)}l.debuglog=function(_){if(T(c)&&(c=i.env.NODE_DEBUG||""),_=_.toUpperCase(),!a[_])if(new RegExp("\\b"+_+"\\b","i").test(c)){var k=i.pid;a[_]=function(){var N=l.format.apply(l,arguments);console.error("%s %d: %s",_,k,N)}}else a[_]=function(){};return a[_]},l.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=p,l.isBoolean=b,l.isNull=v,l.isNullOrUndefined=function(_){return _==null},l.isNumber=j,l.isString=C,l.isSymbol=function(_){return typeof _=="symbol"},l.isUndefined=T,l.isRegExp=D,l.isObject=q,l.isDate=z,l.isError=B,l.isFunction=V,l.isPrimitive=function(_){return _===null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||typeof _=="symbol"||_===void 0},l.isBuffer=t("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var _=new Date,k=[W(_.getHours()),W(_.getMinutes()),W(_.getSeconds())].join(":");return[_.getDate(),P[_.getMonth()],k].join(" ")}function E(_,k){return Object.prototype.hasOwnProperty.call(_,k)}l.log=function(){console.log("%s - %s",M(),l.format.apply(l,arguments))},l.inherits=t("inherits"),l._extend=function(_,k){if(!k||!q(k))return _;for(var N=Object.keys(k),S=N.length;S--;)_[N[S]]=k[N[S]];return _}}).call(this)}).call(this,t("_process"),typeof Qt<"u"?Qt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(l,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(l,"v4",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(l,"v5",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(l,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(l,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(l,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(l,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return m.default}});var i=g(t("./v1.js")),o=g(t("./v3.js")),d=g(t("./v4.js")),c=g(t("./v5.js")),a=g(t("./nil.js")),u=g(t("./version.js")),f=g(t("./validate.js")),h=g(t("./stringify.js")),m=g(t("./parse.js"));function g(y){return y&&y.__esModule?y:{default:y}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,s,l){function i(m){return 14+(m+64>>>9<<4)+1}function o(m,g){const y=(65535&m)+(65535&g);return(m>>16)+(g>>16)+(y>>16)<<16|65535&y}function d(m,g,y,p,b,v){return o((j=o(o(g,m),o(p,v)))<<(C=b)|j>>>32-C,y);var j,C}function c(m,g,y,p,b,v,j){return d(g&y|~g&p,m,g,b,v,j)}function a(m,g,y,p,b,v,j){return d(g&p|y&~p,m,g,b,v,j)}function u(m,g,y,p,b,v,j){return d(g^y^p,m,g,b,v,j)}function f(m,g,y,p,b,v,j){return d(y^(g|~p),m,g,b,v,j)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var h=function(m){if(typeof m=="string"){const g=unescape(encodeURIComponent(m));m=new Uint8Array(g.length);for(let y=0;y<g.length;++y)m[y]=g.charCodeAt(y)}return(function(g){const y=[],p=32*g.length;for(let b=0;b<p;b+=8){const v=g[b>>5]>>>b%32&255,j=parseInt("0123456789abcdef".charAt(v>>>4&15)+"0123456789abcdef".charAt(15&v),16);y.push(j)}return y})((function(g,y){g[y>>5]|=128<<y%32,g[i(y)-1]=y;let p=1732584193,b=-271733879,v=-1732584194,j=271733878;for(let C=0;C<g.length;C+=16){const T=p,D=b,q=v,z=j;p=c(p,b,v,j,g[C],7,-680876936),j=c(j,p,b,v,g[C+1],12,-389564586),v=c(v,j,p,b,g[C+2],17,606105819),b=c(b,v,j,p,g[C+3],22,-1044525330),p=c(p,b,v,j,g[C+4],7,-176418897),j=c(j,p,b,v,g[C+5],12,1200080426),v=c(v,j,p,b,g[C+6],17,-1473231341),b=c(b,v,j,p,g[C+7],22,-45705983),p=c(p,b,v,j,g[C+8],7,1770035416),j=c(j,p,b,v,g[C+9],12,-1958414417),v=c(v,j,p,b,g[C+10],17,-42063),b=c(b,v,j,p,g[C+11],22,-1990404162),p=c(p,b,v,j,g[C+12],7,1804603682),j=c(j,p,b,v,g[C+13],12,-40341101),v=c(v,j,p,b,g[C+14],17,-1502002290),b=c(b,v,j,p,g[C+15],22,1236535329),p=a(p,b,v,j,g[C+1],5,-165796510),j=a(j,p,b,v,g[C+6],9,-1069501632),v=a(v,j,p,b,g[C+11],14,643717713),b=a(b,v,j,p,g[C],20,-373897302),p=a(p,b,v,j,g[C+5],5,-701558691),j=a(j,p,b,v,g[C+10],9,38016083),v=a(v,j,p,b,g[C+15],14,-660478335),b=a(b,v,j,p,g[C+4],20,-405537848),p=a(p,b,v,j,g[C+9],5,568446438),j=a(j,p,b,v,g[C+14],9,-1019803690),v=a(v,j,p,b,g[C+3],14,-187363961),b=a(b,v,j,p,g[C+8],20,1163531501),p=a(p,b,v,j,g[C+13],5,-1444681467),j=a(j,p,b,v,g[C+2],9,-51403784),v=a(v,j,p,b,g[C+7],14,1735328473),b=a(b,v,j,p,g[C+12],20,-1926607734),p=u(p,b,v,j,g[C+5],4,-378558),j=u(j,p,b,v,g[C+8],11,-2022574463),v=u(v,j,p,b,g[C+11],16,1839030562),b=u(b,v,j,p,g[C+14],23,-35309556),p=u(p,b,v,j,g[C+1],4,-1530992060),j=u(j,p,b,v,g[C+4],11,1272893353),v=u(v,j,p,b,g[C+7],16,-155497632),b=u(b,v,j,p,g[C+10],23,-1094730640),p=u(p,b,v,j,g[C+13],4,681279174),j=u(j,p,b,v,g[C],11,-358537222),v=u(v,j,p,b,g[C+3],16,-722521979),b=u(b,v,j,p,g[C+6],23,76029189),p=u(p,b,v,j,g[C+9],4,-640364487),j=u(j,p,b,v,g[C+12],11,-421815835),v=u(v,j,p,b,g[C+15],16,530742520),b=u(b,v,j,p,g[C+2],23,-995338651),p=f(p,b,v,j,g[C],6,-198630844),j=f(j,p,b,v,g[C+7],10,1126891415),v=f(v,j,p,b,g[C+14],15,-1416354905),b=f(b,v,j,p,g[C+5],21,-57434055),p=f(p,b,v,j,g[C+12],6,1700485571),j=f(j,p,b,v,g[C+3],10,-1894986606),v=f(v,j,p,b,g[C+10],15,-1051523),b=f(b,v,j,p,g[C+1],21,-2054922799),p=f(p,b,v,j,g[C+8],6,1873313359),j=f(j,p,b,v,g[C+15],10,-30611744),v=f(v,j,p,b,g[C+6],15,-1560198380),b=f(b,v,j,p,g[C+13],21,1309151649),p=f(p,b,v,j,g[C+4],6,-145523070),j=f(j,p,b,v,g[C+11],10,-1120210379),v=f(v,j,p,b,g[C+2],15,718787259),b=f(b,v,j,p,g[C+9],21,-343485551),p=o(p,T),b=o(b,D),v=o(v,q),j=o(j,z)}return[p,b,v,j]})((function(g){if(g.length===0)return[];const y=8*g.length,p=new Uint32Array(i(y));for(let b=0;b<y;b+=8)p[b>>5]|=(255&g[b/8])<<b%32;return p})(m),8*m.length))};l.default=h},{}],530:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,o=(i=t("./validate.js"))&&i.__esModule?i:{default:i},d=function(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");let a;const u=new Uint8Array(16);return u[0]=(a=parseInt(c.slice(0,8),16))>>>24,u[1]=a>>>16&255,u[2]=a>>>8&255,u[3]=255&a,u[4]=(a=parseInt(c.slice(9,13),16))>>>8,u[5]=255&a,u[6]=(a=parseInt(c.slice(14,18),16))>>>8,u[7]=255&a,u[8]=(a=parseInt(c.slice(19,23),16))>>>8,u[9]=255&a,u[10]=(a=parseInt(c.slice(24,36),16))/1099511627776&255,u[11]=a/4294967296&255,u[12]=a>>>24&255,u[13]=a>>>16&255,u[14]=a>>>8&255,u[15]=255&a,u};l.default=d},{"./validate.js":541}],532:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,s,l){let i;Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)};const o=new Uint8Array(16)},{}],534:[function(t,s,l){function i(c,a,u,f){switch(c){case 0:return a&u^~a&f;case 1:return a^u^f;case 2:return a&u^a&f^u&f;case 3:return a^u^f}}function o(c,a){return c<<a|c>>>32-a}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var d=function(c){const a=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const g=unescape(encodeURIComponent(c));c=[];for(let y=0;y<g.length;++y)c.push(g.charCodeAt(y))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const f=c.length/4+2,h=Math.ceil(f/16),m=new Array(h);for(let g=0;g<h;++g){const y=new Uint32Array(16);for(let p=0;p<16;++p)y[p]=c[64*g+4*p]<<24|c[64*g+4*p+1]<<16|c[64*g+4*p+2]<<8|c[64*g+4*p+3];m[g]=y}m[h-1][14]=8*(c.length-1)/Math.pow(2,32),m[h-1][14]=Math.floor(m[h-1][14]),m[h-1][15]=8*(c.length-1)&4294967295;for(let g=0;g<h;++g){const y=new Uint32Array(80);for(let T=0;T<16;++T)y[T]=m[g][T];for(let T=16;T<80;++T)y[T]=o(y[T-3]^y[T-8]^y[T-14]^y[T-16],1);let p=u[0],b=u[1],v=u[2],j=u[3],C=u[4];for(let T=0;T<80;++T){const D=Math.floor(T/20),q=o(p,5)+i(D,b,v,j)+C+a[D]+y[T]>>>0;C=j,j=v,v=o(b,30)>>>0,b=p,p=q}u[0]=u[0]+p>>>0,u[1]=u[1]+b>>>0,u[2]=u[2]+v>>>0,u[3]=u[3]+j>>>0,u[4]=u[4]+C>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};l.default=d},{}],535:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,o=(i=t("./validate.js"))&&i.__esModule?i:{default:i};const d=[];for(let a=0;a<256;++a)d.push((a+256).toString(16).substr(1));var c=function(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(d[a[u+0]]+d[a[u+1]]+d[a[u+2]]+d[a[u+3]]+"-"+d[a[u+4]]+d[a[u+5]]+"-"+d[a[u+6]]+d[a[u+7]]+"-"+d[a[u+8]]+d[a[u+9]]+"-"+d[a[u+10]]+d[a[u+11]]+d[a[u+12]]+d[a[u+13]]+d[a[u+14]]+d[a[u+15]]).toLowerCase();if(!(0,o.default)(f))throw TypeError("Stringified UUID is invalid");return f};l.default=c},{"./validate.js":541}],536:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=d(t("./rng.js")),o=d(t("./stringify.js"));function d(m){return m&&m.__esModule?m:{default:m}}let c,a,u=0,f=0;var h=function(m,g,y){let p=g&&y||0;const b=g||new Array(16);let v=(m=m||{}).node||c,j=m.clockseq!==void 0?m.clockseq:a;if(v==null||j==null){const B=m.random||(m.rng||i.default)();v==null&&(v=c=[1|B[0],B[1],B[2],B[3],B[4],B[5]]),j==null&&(j=a=16383&(B[6]<<8|B[7]))}let C=m.msecs!==void 0?m.msecs:Date.now(),T=m.nsecs!==void 0?m.nsecs:f+1;const D=C-u+(T-f)/1e4;if(D<0&&m.clockseq===void 0&&(j=j+1&16383),(D<0||C>u)&&m.nsecs===void 0&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=C,f=T,a=j,C+=122192928e5;const q=(1e4*(268435455&C)+T)%4294967296;b[p++]=q>>>24&255,b[p++]=q>>>16&255,b[p++]=q>>>8&255,b[p++]=255&q;const z=C/4294967296*1e4&268435455;b[p++]=z>>>8&255,b[p++]=255&z,b[p++]=z>>>24&15|16,b[p++]=z>>>16&255,b[p++]=j>>>8|128,b[p++]=255&j;for(let B=0;B<6;++B)b[p+B]=v[B];return g||(0,o.default)(b)};l.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=d(t("./v35.js")),o=d(t("./md5.js"));function d(a){return a&&a.__esModule?a:{default:a}}var c=(0,i.default)("v3",48,o.default);l.default=c},{"./md5.js":529,"./v35.js":538}],538:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(u,f,h){function m(g,y,p,b){if(typeof g=="string"&&(g=(function(j){j=unescape(encodeURIComponent(j));const C=[];for(let T=0;T<j.length;++T)C.push(j.charCodeAt(T));return C})(g)),typeof y=="string"&&(y=(0,o.default)(y)),y.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+g.length);if(v.set(y),v.set(g,y.length),v=h(v),v[6]=15&v[6]|f,v[8]=63&v[8]|128,p){b=b||0;for(let j=0;j<16;++j)p[b+j]=v[j];return p}return(0,i.default)(v)}try{m.name=u}catch{}return m.DNS=c,m.URL=a,m},l.URL=l.DNS=void 0;var i=d(t("./stringify.js")),o=d(t("./parse.js"));function d(u){return u&&u.__esModule?u:{default:u}}const c="6ba7b810-9dad-11d1-80b4-00c04fd430c8";l.DNS=c;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";l.URL=a},{"./parse.js":531,"./stringify.js":535}],539:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=d(t("./rng.js")),o=d(t("./stringify.js"));function d(a){return a&&a.__esModule?a:{default:a}}var c=function(a,u,f){const h=(a=a||{}).random||(a.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,u){f=f||0;for(let m=0;m<16;++m)u[f+m]=h[m];return u}return(0,o.default)(h)};l.default=c},{"./rng.js":533,"./stringify.js":535}],540:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=d(t("./v35.js")),o=d(t("./sha1.js"));function d(a){return a&&a.__esModule?a:{default:a}}var c=(0,i.default)("v5",80,o.default);l.default=c},{"./sha1.js":534,"./v35.js":538}],541:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,o=(i=t("./regex.js"))&&i.__esModule?i:{default:i},d=function(c){return typeof c=="string"&&o.default.test(c)};l.default=d},{"./regex.js":532}],542:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,o=(i=t("./validate.js"))&&i.__esModule?i:{default:i},d=function(c){if(!(0,o.default)(c))throw TypeError("Invalid UUID");return parseInt(c.substr(14,1),16)};l.default=d},{"./validate.js":541}],543:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR=`	
\r ---`,l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},l.isS=function(o){return o===32||o===10||o===13||o===9},l.isNameStartChar=i,l.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(t,s,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR="---",l.RESTRICTED_CHAR="-\b\v\f---",l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.RESTRICTED_CHAR_RE=new RegExp("^["+l.RESTRICTED_CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function i(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},l.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},l.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},l.isS=function(o){return o===32||o===10||o===13||o===9},l.isNameStartChar=i,l.isNameChar=function(o){return i(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(t,s,l){function i(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(l,"__esModule",{value:!0}),l.NC_NAME_START_CHAR="A-Z_a-z------------",l.NC_NAME_CHAR="-"+l.NC_NAME_START_CHAR+".0-9--",l.NC_NAME_START_CHAR_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]$","u"),l.NC_NAME_CHAR_RE=new RegExp("^["+l.NC_NAME_CHAR+"]$","u"),l.NC_NAME_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]["+l.NC_NAME_CHAR+"]*$","u"),l.isNCNameStartChar=i,l.isNCNameChar=function(o){return i(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)}))})(ey)),ey.exports}var JY=ZY();const v7=gi(JY),QY=e=>({id:e.id||0,name:e.full_name||e.name||"Unknown",email:e.email||"",phone:e.phone_number||e.phone||"",address:e.address||"",pincode:e.pincode||"",city:e.city||"",state:e.state||"",profile_image:e.profile_photo_url||e.profile_image||"",status:e.status==="active"||e.status==="inactive"||e.status==="suspended"?e.status:"active",email_verified:e.email_verified!==void 0?e.email_verified:!0,phone_verified:e.phone_verified!==void 0?e.phone_verified:!0,created_at:e.created_at||new Date().toISOString(),updated_at:e.updated_at||e.created_at||new Date().toISOString(),last_login:e.last_login||e.updated_at||e.created_at||new Date().toISOString(),total_bookings:e.total_bookings||e.completed_appointments||0,total_spent:e.total_spent||0,recent_activities:(e.recent_activities||e.activities||[]).map(r=>({activity_type:r.activity_type||r.type||"unknown",description:r.description||"",ip_address:r.ip_address||"",created_at:r.created_at||new Date().toISOString()})),expanded:!1}),eZ=()=>{const[e,r]=F.useState([]),[t,s]=F.useState(!0),[l,i]=F.useState(""),[o,d]=F.useState(1),[c,a]=F.useState(new Set),u={name:!0,contact:!0,location:!0,status:!0,activity:!0,actions:!0},f=5,{addToast:h}=Fr(),{user:m}=gn(),g=F.useCallback(async()=>{const q=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!q){h("Please login to view users","error"),s(!1);return}try{s(!0);const z=await fetch(`${Ie}/admin/users`,{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(!z.ok){if(z.status===401){h("Authentication failed. Please log in again.","error"),s(!1);return}throw new Error(`HTTP error! status: ${z.status}`)}const B=z.headers.get("content-type");if(!B||!B.includes("application/json")){console.warn("Response is not JSON, treating as empty list"),r([]),s(!1);return}const V=await z.text();if(!V||V.trim()===""){console.warn("Empty response body, treating as empty list"),r([]),s(!1);return}let X;try{X=JSON.parse(V)}catch(M){throw console.error("JSON parse error:",M,"Response text:",V),new Error("Invalid JSON response from server")}let W=[];if(Array.isArray(X.data))W=X.data;else if(Array.isArray(X.users))W=X.users;else if(Array.isArray(X))W=X;else if(X.success===!1){console.warn("API returned error:",X.message),r([]),s(!1);return}else throw new Error(X.message||"Invalid response format from server");const P=W.map(M=>QY(M));r(P)}catch(z){console.error("Error fetching users:",z);const B=z instanceof Error?z.message:"Failed to fetch users";h(B,"error"),r([])}finally{s(!1)}},[h]);F.useEffect(()=>{g()},[g]);const y=e.filter(q=>q.name.toLowerCase().includes(l.toLowerCase())||q.email.toLowerCase().includes(l.toLowerCase())||q.phone.includes(l)||q.city.toLowerCase().includes(l.toLowerCase())),p=Math.ceil(y.length/f),b=(o-1)*f,v=y.slice(b,b+f),j=async(q,z)=>{const B=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!B){h("Please login to update user status","error");return}let V={};const X=m?.name||m?.full_name||"Admin User";z==="suspended"?V={action:"suspend",notes:"User suspended by admin",admin_name:X}:V={action:"activate"};try{r(e.map(_=>_.id===q?{..._,status:z,updated_at:new Date().toISOString()}:_));const W=await fetch(`${Ie}/admin/users/${q}/status`,{method:"PUT",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify(V)});let P=null;const M=W.headers.get("content-type");if(M&&M.includes("application/json")&&W.status!==204)try{const _=await W.text();_&&_.trim()&&(P=JSON.parse(_))}catch(_){console.warn("Could not parse response:",_)}if(!W.ok){g();let _="Failed to update user status";throw P?_=P.message||P.error?.message||_:W.status===404?_="User status update endpoint not found. The API endpoint may not be implemented yet.":W.status===401?_="Authentication failed. Please log in again.":W.status===403?_="You do not have permission to update user status.":_=`Server error: ${W.status} ${W.statusText}`,new Error(_)}h(P?.message||`User status updated to ${z}`,"success"),g()}catch(W){console.error("Error updating user status:",W);const P=W instanceof Error?W.message:"Failed to update user status";h(P,"error"),g()}},C=q=>{e.find(B=>B.id===q)?.expanded||(a(B=>new Set(B).add(q)),setTimeout(()=>{a(B=>{const V=new Set(B);return V.delete(q),V})},300)),r(B=>B.map(V=>V.id===q?{...V,expanded:!V.expanded}:V))},T=q=>new Date(q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=async()=>{try{const q=new v7.Workbook,z=q.addWorksheet("Users");z.columns=[{header:"User ID",key:"id",width:10},{header:"Name",key:"name",width:25},{header:"Email",key:"email",width:30},{header:"Phone",key:"phone",width:15},{header:"Address",key:"address",width:40},{header:"City",key:"city",width:20},{header:"State",key:"state",width:20},{header:"Pincode",key:"pincode",width:10},{header:"Status",key:"status",width:12},{header:"Email Verified",key:"email_verified",width:15},{header:"Phone Verified",key:"phone_verified",width:15},{header:"Total Bookings",key:"total_bookings",width:15},{header:"Total Spent ()",key:"total_spent",width:15},{header:"Created At",key:"created_at",width:20},{header:"Last Login",key:"last_login",width:20},{header:"Updated At",key:"updated_at",width:20}],y.forEach(_=>{z.addRow({id:_.id,name:_.name,email:_.email,phone:_.phone,address:_.address,city:_.city,state:_.state,pincode:_.pincode,status:_.status,email_verified:_.email_verified?"Yes":"No",phone_verified:_.phone_verified?"Yes":"No",total_bookings:_.total_bookings,total_spent:_.total_spent,created_at:T(_.created_at),last_login:T(_.last_login),updated_at:T(_.updated_at)})}),z.getRow(1).font={bold:!0},z.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE0E0E0"}};const X=`Users_Export_${new Date().toISOString().split("T")[0]}.xlsx`,W=await q.xlsx.writeBuffer(),P=new Blob([W],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),M=window.URL.createObjectURL(P),E=document.createElement("a");E.href=M,E.download=X,E.click(),window.URL.revokeObjectURL(M),h(`Excel file exported successfully: ${X}`,"success")}catch(q){console.error("Error exporting to Excel:",q),h("Failed to export Excel file","error")}};return n.jsxs(Gr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Users"}),n.jsx("p",{className:"text-gray-600",children:"Manage user accounts, orders, and engagement activity."})]}),t?n.jsx(pu,{}):n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(tr,{children:"All Users"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(rt,{variant:"outline",size:"sm",onClick:D,className:"flex items-center space-x-2 border-2 border-primary text-black font-semibold hover:bg-primary hover:text-black hover:border-primary",disabled:y.length===0,children:[n.jsx(Sx,{size:16}),n.jsx("span",{children:"Export to Excel"})]}),n.jsx(KY,{searchTerm:l,onSearchChange:i})]})]}),n.jsxs(Nt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full border-collapse",children:[n.jsx(GY,{columnVisibility:u}),n.jsx("tbody",{children:v.map(q=>n.jsxs(cs.Fragment,{children:[n.jsx(YY,{user:q,columnVisibility:u,expandingUsers:c,onStatusChange:j,onToggleDropdown:C,formatDate:T}),q.expanded&&n.jsx("tr",{className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary/20",children:n.jsx("td",{colSpan:Object.values(u).filter(Boolean).length,className:"py-6 px-6",children:n.jsx(XY,{user:q,formatDate:T})})})]},q.id))})]})}),p>1&&n.jsx(VY,{currentPage:o,totalPages:p,startIndex:b,itemsPerPage:f,totalItems:y.length,onPageChange:d})]})]})]})},tZ=({searchTerm:e,onSearchChange:r})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Un,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search categories...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:t=>r(t.target.value)})]}),rZ=({currentPage:e,totalPages:r,startIndex:t,itemsPerPage:s,totalItems:l,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",t+1," to ",Math.min(t+s,l)," of ",l," categories"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ul,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",r]}),n.jsx(rt,{onClick:()=>i(Math.min(e+1,r)),disabled:e===r,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ia,{size:16})})]})]}),nZ=({isOpen:e,onClose:r,onSave:t,category:s,isSubmitting:l=!1,initialImageUrl:i})=>{const[o,d]=F.useState({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1,is_popular_category:!1}),[c,a]=F.useState(null);F.useEffect(()=>{if(s){const f=s;d({name:s.name,description:"",icon:"",image:typeof i=="string"?i:"",status:"active",sort_order:0,show_on_homepage:f.show_on_homepage||!1,is_popular_category:f.is_popular_category||!1}),a(typeof i=="string"&&i?i:null)}else d({name:"",description:"",icon:"",image:"",status:"active",sort_order:0,show_on_homepage:!1,is_popular_category:!1}),a(null)},[s,e,i]);const u=f=>{f.preventDefault(),t(o)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:s?"Edit Category":"Add New Category"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),n.jsxs("form",{onSubmit:u,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),n.jsx("input",{type:"text",required:!0,value:o.name,onChange:f=>d({...o,name:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image (upload a file or paste a URL)"}),n.jsxs("div",{className:"grid gap-3",children:[n.jsx("div",{children:n.jsxs("label",{className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md cursor-pointer bg-gray-50 hover:bg-gray-100",children:[n.jsx(Al,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Choose file"}),n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:f=>{const h=f.target.files&&f.target.files[0];if(h){const m=URL.createObjectURL(h);a(m),d({...o,image:h})}}})]})}),n.jsx("div",{children:n.jsx("input",{type:"url",value:typeof o.image=="string"?o.image:"",onChange:f=>{d({...o,image:f.target.value}),a(f.target.value||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"/public/images/cat.jpg or https://..."})})]}),c&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:c,alt:"Preview",className:"max-h-24 max-w-full rounded border"})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o.show_on_homepage||!1,onChange:f=>d({...o,show_on_homepage:f.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Show on Homepage (Max 6 categories)"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Only 6 categories with this checkbox checked will be displayed on the homepage"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o.is_popular_category||!1,onChange:f=>d({...o,is_popular_category:f.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Popular on Homepage"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:'This category will be shown as "Popular" on the user homepage with its medicines in a carousel (only one category can be popular).'})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(rt,{type:"button",onClick:r,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(rt,{type:"submit",disabled:l,className:"bg-primary hover:bg-primary/90 text-white",children:l?"Saving...":s?"Update":"Create"})]})]})]})}):null},_6=({isOpen:e,onClose:r,onConfirm:t,category:s,isSubmitting:l=!1})=>e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Delete Category"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete "',s?.name,'"? This action cannot be undone.']}),n.jsxs("div",{className:"flex justify-end space-x-3",children:[n.jsx(rt,{onClick:r,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(rt,{onClick:t,disabled:l,className:"bg-red-600 hover:bg-red-700 text-white",children:l?"Deleting...":"Delete"})]})]})]})}):null,j6=e=>{const r=typeof e=="string"?e.trim():"";if(!r)return"";if(/^https?:\/\//i.test(r))return r;let t=r.replace(/\\/g,"/");return t.startsWith("public/")?t=t.slice(7):t.startsWith("/public/")&&(t=t.slice(8)),t=t.startsWith("/")?t:`/${t}`,`${_x}${t}`},mf=()=>{const{addToast:e}=Fr(),{user:r}=gn(),t=Bn();Qn();const s=r?.role==="admin",i=(()=>{const me=t.pathname;return me.includes("/inventory")?"inventory":me.includes("/generic")?"generic":me.includes("/branded")?"branded":"categories"})(),[o,d]=F.useState(0),[c,a]=F.useState(0),[u,f]=F.useState(!1),[h,m]=F.useState([]),[g,y]=F.useState([]),[p,b]=F.useState(!1),[v,j]=F.useState(!1),[C,T]=F.useState(""),[D,q]=F.useState(""),[z,B]=F.useState(1),[V,X]=F.useState(1),[W,P]=F.useState(!1),[M,E]=F.useState("add"),[_,k]=F.useState(null),[N,S]=F.useState(!1),[O,L]=F.useState(!1),[I,G]=F.useState([]),[Y,te]=F.useState(!1),[U,J]=F.useState([]),[$,R]=F.useState(!1),[K,ee]=F.useState(!1),[se,ie]=F.useState(null),[ae,re]=F.useState("add"),[le,ne]=F.useState(!1),[fe,ue]=F.useState(null),[xe,ge]=F.useState([]),[be,ke]=F.useState(!1),[Ee,ze]=F.useState(null),[Fe,de]=F.useState("all"),[ce,je]=F.useState("all"),[Ce,Ue]=F.useState(!1),Ye=10,Oe=async()=>{b(!0);try{const me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Re=await fetch(`${Ie}/admin/categories`,{method:"GET",headers:{"Content-Type":"application/json",...me?{Authorization:`Bearer ${me}`}:{}}}),$e=await Re.json();if(Re.ok&&$e.categories&&Array.isArray($e.categories)){const ct=$e.categories.map(Et=>({id:Et.id,name:Et.name,image_url:typeof Et.image_url=="string"?Et.image_url:"",show_on_homepage:Et.show_on_homepage||!1,is_popular_category:Et.is_popular_category===!0||Et.is_popular_category===1||Et.is_popular_category==="1",created_at:Et.created_at||new Date().toISOString(),updated_at:Et.updated_at||new Date().toISOString()}));m(ct)}else throw new Error($e.message||"Failed to fetch categories")}catch(me){console.error("Error fetching categories:",me);const Re=me instanceof Error?me.message:"Failed to fetch categories";e(Re,"error")}finally{b(!1)}};F.useEffect(()=>{Oe()},[]),F.useEffect(()=>{(i==="inventory"||i==="generic"||i==="branded")&&it(),(i==="generic"||i==="branded")&&qe()},[i]);const qe=async()=>{f(!0);try{const me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Re=await fetch(`${Ie}/admin/commissions`,{method:"GET",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json"}});if(Re.ok){const $e=await Re.json();d($e.generic_commission||0),a($e.branded_commission||0)}}catch(me){console.error("Error fetching commissions:",me)}finally{f(!1)}},Qe=async(me,Re)=>{if(!s){e("Only super admin can update commission rates","error");return}f(!0);try{const $e=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),st=await fetch(`${Ie}/admin/commissions`,{method:"PUT",headers:{Authorization:`Bearer ${$e}`,"Content-Type":"application/json"},body:JSON.stringify({[me==="generic"?"generic_commission":"branded_commission"]:Re})}),ct=await st.json();if(st.ok&&ct.success)d(ct.generic_commission||0),a(ct.branded_commission||0),e("Commission updated successfully","success");else{const Et=ct?.error?.message||ct?.message||"Failed to update commission";console.error("Error updating commission:",ct),e(Et,"error")}}catch($e){console.error("Error updating commission:",$e);const st=$e?.message||"Failed to update commission. Please try again.";e(st,"error")}finally{f(!1)}},it=async()=>{j(!0);try{const me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Re=new URLSearchParams;D&&Re.append("search",D);const $e=await fetch(`${Ie}/admin/inventory?${Re.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",...me?{Authorization:`Bearer ${me}`}:{}}});if(!$e.ok){const ct=await $e.json().catch(()=>({}));throw console.error("Inventory fetch error:",$e.status,ct),new Error(ct.error?.message||ct.message||`Failed to fetch inventory: ${$e.statusText}`)}const st=await $e.json();if(st.inventory&&Array.isArray(st.inventory)){const ct=st.inventory.map(Et=>({...Et,price:Number(Et.price||0),discounted_price:Et.discounted_price?Number(Et.discounted_price):null,stock_quantity:Number(Et.stock_quantity||0),low_stock_threshold:Number(Et.low_stock_threshold||0)}));y(ct)}else console.warn("Unexpected inventory response format:",st),y([])}catch(me){console.error("Error fetching inventory:",me);const Re=me instanceof Error?me.message:"Failed to fetch inventory";e(Re,"error"),y([])}finally{j(!1)}},at=async me=>{const Re=me.target.files?.[0];if(Re){if(!Re.name.toLowerCase().endsWith(".xlsx")&&!Re.name.toLowerCase().endsWith(".xls")){e("Please upload an Excel file (.xlsx or .xls)","error");return}L(!0);try{const $e=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),st=new FormData;st.append("inventory_file",Re);const ct=await fetch(`${Ie}/admin/inventory/upload`,{method:"POST",headers:{...$e?{Authorization:`Bearer ${$e}`}:{}},body:st}),Et=await ct.json();if(ct.ok)e(`Inventory uploaded: ${Et.inserted} new, ${Et.updated} updated`,"success"),it();else throw new Error(Et.error?.message||Et.message||"Failed to upload inventory")}catch($e){console.error("Error uploading inventory:",$e);const st=$e instanceof Error?$e.message:"Failed to upload inventory";e(st,"error")}finally{L(!1),me.target.value=""}}},Lt=me=>{ie(me),re("edit"),R(!0)},Ht=async me=>{if(confirm(`Are you sure you want to delete "${me.medicine_name}"?`))try{const Re=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Re){e("Please login to delete inventory","error");return}const $e=await fetch(`${Ie}/admin/inventory/${me.id}`,{method:"DELETE",headers:{...Re?{Authorization:`Bearer ${Re}`}:{}}}),st=await $e.json();if($e.ok)e("Inventory item deleted successfully","success"),it();else throw new Error(st.error?.message||st.message||"Failed to delete inventory item")}catch(Re){console.error("Error deleting inventory:",Re);const $e=Re instanceof Error?Re.message:"Failed to delete inventory item";e($e,"error")}},dt=async me=>{ee(!0);try{const Re=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Re){e("Please login to add inventory","error");return}const $e=ae==="edit"&&se?"PUT":"POST",st=ae==="edit"&&se?`${Ie}/admin/inventory/${se.id}`:`${Ie}/admin/inventory`,ct=await fetch(st,{method:$e,headers:{...Re?{Authorization:`Bearer ${Re}`}:{}},body:me}),Et=await ct.json();if(ct.ok)e(`Inventory item ${ae==="edit"?"updated":"added"} successfully`,"success"),R(!1),ie(null),re("add"),it();else throw new Error(Et.error?.message||Et.message||`Failed to ${ae==="edit"?"update":"add"} inventory item`)}catch(Re){console.error(`Error ${ae==="edit"?"updating":"adding"} inventory:`,Re);const $e=Re instanceof Error?Re.message:`Failed to ${ae==="edit"?"update":"add"} inventory item`;e($e,"error")}finally{ee(!1)}},ye=async(me,Re)=>{try{const $e=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),st=await fetch(`${Ie}/admin/inventory/${me}/categories`,{method:"PUT",headers:{"Content-Type":"application/json",...$e?{Authorization:`Bearer ${$e}`}:{}},body:JSON.stringify({category_ids:Re})}),ct=await st.json();if(st.ok)e("Categories assigned successfully","success"),it();else throw new Error(ct.error?.message||ct.message||"Failed to assign categories")}catch($e){console.error("Error assigning categories:",$e);const st=$e instanceof Error?$e.message:"Failed to assign categories";e(st,"error")}},Le=async()=>{if(I.length===0||U.length===0){e("Please select inventory items and categories","error");return}try{const me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),Re=await fetch(`${Ie}/admin/inventory/bulk-assign-categories`,{method:"POST",headers:{"Content-Type":"application/json",...me?{Authorization:`Bearer ${me}`}:{}},body:JSON.stringify({inventory_ids:I,category_ids:U})}),$e=await Re.json();if(Re.ok)e(`Categories assigned to ${$e.items_updated} items`,"success"),G([]),J([]),te(!1),it();else throw new Error($e.error?.message||$e.message||"Failed to assign categories")}catch(me){console.error("Error bulk assigning categories:",me);const Re=me instanceof Error?me.message:"Failed to assign categories";e(Re,"error")}},Ke=me=>{G(Re=>Re.includes(me)?Re.filter($e=>$e!==me):[...Re,me])},It=()=>{I.length===Ze.length?G([]):G(Ze.map(me=>me.id))},gt=async()=>{if(I.length===0){e("Please select inventory items to delete","error");return}if(confirm(`Are you sure you want to delete ${I.length} inventory item(s)?`))try{const me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!me){e("Please login to delete inventory","error");return}const Re=await fetch(`${Ie}/admin/inventory/bulk-delete`,{method:"POST",headers:{"Content-Type":"application/json",...me?{Authorization:`Bearer ${me}`}:{}},body:JSON.stringify({inventory_ids:I})}),$e=await Re.json();if(Re.ok)e(`Successfully deleted ${$e.deleted_count} inventory item(s)`,"success"),G([]),it();else throw new Error($e.error?.message||$e.message||"Failed to delete inventory items")}catch(me){console.error("Error bulk deleting inventory:",me);const Re=me instanceof Error?me.message:"Failed to delete inventory items";e(Re,"error")}},lt=()=>{ze(null),de("all"),je("all"),Ue(!1)},Dt=Ee!==null||Fe!=="all"||ce!=="all"||Ce,Wt=()=>{E("add"),k(null),P(!0)},wt=me=>{E("edit"),k(me),P(!0)},zt=me=>{E("delete"),k(me),P(!0)},Kt=async me=>{S(!0);try{const Re=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!Re){e("Please login to save category","error"),S(!1);return}const $e=st=>{if(!st)return"Request failed";if(typeof st=="string")return st;if(st.message&&typeof st.message=="string")return st.message;if(st.error&&typeof st.error=="string")return st.error;if(st.errors&&typeof st.errors=="object"){const ct=Object.keys(st.errors)[0],Et=Array.isArray(st.errors[ct])?st.errors[ct][0]:st.errors[ct];return typeof Et=="string"?Et:"Validation failed"}try{return JSON.stringify(st)}catch{return"Unknown error"}};if(M==="add"){let st;if(me.image instanceof File){const Bt=new FormData;Bt.append("name",me.name),Bt.append("image",me.image),Bt.append("show_on_homepage",me.show_on_homepage?"1":"0"),Bt.append("is_popular_category",me.is_popular_category?"1":"0"),st=await fetch(`${Ie}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${Re}`},body:Bt})}else{const Bt={name:me.name};typeof me.image=="string"&&me.image.trim()!==""&&(Bt.image=me.image),Bt.show_on_homepage=me.show_on_homepage?1:0,Bt.is_popular_category=me.is_popular_category?1:0,st=await fetch(`${Ie}/admin/categories`,{method:"POST",headers:{Authorization:`Bearer ${Re}`,"Content-Type":"application/json"},body:JSON.stringify(Bt)})}const ct=await st.text(),Et=(()=>{try{return ct?JSON.parse(ct):{}}catch{return{raw:ct}}})();if(st.ok&&Et.category)await Oe(),e("Category created successfully","success"),P(!1);else throw new Error($e(Et)||"Failed to create category")}else if(M==="edit"&&_){let st;if(me.image instanceof File){const Bt=new FormData;Bt.append("name",me.name),Bt.append("image",me.image),Bt.append("show_on_homepage",me.show_on_homepage?"1":"0"),Bt.append("is_popular_category",me.is_popular_category?"1":"0"),st=await fetch(`${Ie}/admin/categories/${_.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Re}`},body:Bt})}else{const Bt={name:me.name};typeof me.image=="string"&&me.image.trim()!==""&&(Bt.image=me.image),Bt.show_on_homepage=me.show_on_homepage?1:0,Bt.is_popular_category=me.is_popular_category?1:0,st=await fetch(`${Ie}/admin/categories/${_.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Re}`,"Content-Type":"application/json"},body:JSON.stringify(Bt)})}const ct=await st.text(),Et=(()=>{try{return ct?JSON.parse(ct):{}}catch{return{raw:ct}}})();if(st.ok&&Et.category)await Oe(),e("Category updated successfully","success"),P(!1);else throw new Error($e(Et)||"Failed to update category")}}catch(Re){console.error("Error saving category:",Re);const $e=Re instanceof Error?Re.message:typeof Re=="string"?Re:"Failed to save category";e($e,"error")}finally{S(!1)}},At=async()=>{if(_){S(!0);try{const me=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!me){e("Please login to delete category","error"),S(!1);return}const Re=await fetch(`${Ie}/admin/categories/${_.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json"}}),$e=await Re.json();if(Re.ok)m(st=>st.filter(ct=>ct.id!==_.id)),e("Category deleted successfully","success"),P(!1),Oe();else throw new Error($e.message||$e.error||"Failed to delete category")}catch(me){console.error("Error deleting category:",me);const Re=me instanceof Error?me.message:"Failed to delete category";e(Re,"error")}finally{S(!1)}}},ve=h.filter(me=>me.name.toLowerCase().includes(C.toLowerCase())),Se=Math.ceil(ve.length/Ye),De=(z-1)*Ye,et=ve.slice(De,De+Ye),Ct=me=>new Date(me).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Ze=g.filter(me=>!(!(me.medicine_name.toLowerCase().includes(D.toLowerCase())||me.manufacturer_name?.toLowerCase().includes(D.toLowerCase()))||Ee!==null&&!me.category_ids.includes(Ee)||Fe==="yes"&&!me.is_discontinued||Fe==="no"&&me.is_discontinued||ce==="required"&&!me.prescription_required||ce==="not_required"&&me.prescription_required||Ce&&me.stock_quantity>(me.low_stock_threshold||0))),Pt=Math.ceil(Ze.length/Ye),kt=(V-1)*Ye,ft=Ze.slice(kt,kt+Ye);return n.jsxs(Gr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Medicine Categories"}),n.jsx("p",{className:"text-gray-600",children:"Manage categories and platform inventory with category assignment."})]}),i==="categories"&&n.jsxs(n.Fragment,{children:[p?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading categories..."})]}):n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(tr,{children:"All Categories"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx(tZ,{searchTerm:C,onSearchChange:T}),n.jsxs(rt,{onClick:Wt,className:"flex items-center space-x-2",children:[n.jsx(Jn,{size:16}),n.jsx("span",{children:"Add Category"})]})]})]}),n.jsxs(Nt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Image"}),n.jsx("th",{className:"text-left pb-4",children:"Name"}),n.jsx("th",{className:"text-left pb-4",children:"Published"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:et.map(me=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:me.image_url?n.jsx("img",{src:j6(me.image_url),alt:me.name,className:"h-10 w-10 rounded object-cover border",onError:Re=>{const $e=Re.currentTarget;$e.src!==me.image_url&&($e.src=me.image_url)}}):n.jsx("div",{className:"h-10 w-10 rounded bg-gray-100 border"})}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-gray-900 font-medium",children:me.name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",me.id]})]}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:Ct(me.created_at)})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{onClick:()=>wt(me),children:"Edit"}),n.jsx(rt,{onClick:()=>zt(me),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})})]},me.id))})]})}),Se>1&&n.jsx(rZ,{currentPage:z,totalPages:Se,startIndex:De,itemsPerPage:Ye,totalItems:ve.length,onPageChange:B})]})]}),(M==="add"||M==="edit")&&n.jsx(nZ,{isOpen:W,onClose:()=>P(!1),onSave:Kt,category:_?{id:_.id,name:_.name,description:"",icon:"",status:"active",total_services:0,created_at:_.created_at,updated_at:_.updated_at,show_on_homepage:_.show_on_homepage||!1,is_popular_category:_.is_popular_category||!1}:void 0,initialImageUrl:_?.image_url,isSubmitting:N}),M==="delete"&&n.jsx(_6,{isOpen:W,onClose:()=>P(!1),onConfirm:At,category:_,isSubmitting:N}),M==="delete"&&n.jsx(_6,{isOpen:W,onClose:()=>P(!1),onConfirm:At,category:_,isSubmitting:N})]}),i==="inventory"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:"relative flex-1 max-w-md",children:n.jsx("input",{type:"text",placeholder:"Search inventory by name or manufacturer...",value:D,onChange:me=>q(me.target.value),className:"w-full px-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),I.length>0&&n.jsxs(n.Fragment,{children:[n.jsxs(rt,{onClick:()=>te(!0),className:"flex items-center gap-2",children:[n.jsx(ZE,{size:16}),"Assign Categories (",I.length,")"]}),n.jsxs(rt,{onClick:gt,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white",children:[n.jsx(Xs,{size:16}),"Delete (",I.length,")"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(rt,{onClick:()=>ke(!be),className:`flex items-center gap-2 ${Dt?"bg-primary text-white":""}`,children:[n.jsx(Oh,{size:16}),"Filters",Dt&&n.jsx("span",{className:"ml-1 bg-white text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs",children:[Ee!==null,Fe!=="all",ce!=="all",Ce].filter(Boolean).length})]}),n.jsxs(rt,{onClick:()=>R(!0),className:"flex items-center gap-2",children:[n.jsx(Jn,{size:16}),"Add Inventory"]}),n.jsxs("label",{className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors cursor-pointer flex items-center gap-2",children:[n.jsx(Al,{size:16}),O?"Uploading...":"Upload Excel",n.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:at,className:"hidden",disabled:O})]})]})]}),be&&n.jsxs(jt,{className:"mb-6",children:[n.jsxs(er,{className:"flex items-center justify-between pb-3",children:[n.jsx(tr,{className:"text-lg",children:"Filters"}),n.jsxs("div",{className:"flex items-center gap-2",children:[Dt&&n.jsxs(rt,{onClick:lt,className:"text-xs flex items-center gap-1",size:"sm",children:[n.jsx(ai,{size:14}),"Clear All"]}),n.jsx("button",{onClick:()=>ke(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),n.jsxs("select",{value:Ee||"",onChange:me=>ze(me.target.value?parseInt(me.target.value):null),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"All Categories"}),h.map(me=>n.jsx("option",{value:me.id,children:me.name},me.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Discontinued"}),n.jsxs("select",{value:Fe,onChange:me=>de(me.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Discontinued"}),n.jsx("option",{value:"no",children:"Active"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Prescription"}),n.jsxs("select",{value:ce,onChange:me=>je(me.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"required",children:"Required"}),n.jsx("option",{value:"not_required",children:"Not Required"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Stock Status"}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:Ce,onChange:me=>Ue(me.target.checked),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Low Stock Only"})]})]})]})})]}),v?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]}):n.jsxs(jt,{children:[n.jsx(er,{children:n.jsx(tr,{children:"Platform Inventory"})}),n.jsxs(Nt,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"text-left pb-4 px-2",children:n.jsx("input",{type:"checkbox",checked:I.length===Ze.length&&Ze.length>0,onChange:It,className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Name"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Discounted Price"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Prescription Required or Not"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Marketed By"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Type"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Pack Size Label"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Item Group"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Stock Quantity"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Low Stock Threshold"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Justification (Active Ingredient & Class)"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Description"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Picture"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Categories"}),n.jsx("th",{className:"text-left pb-4 px-2",children:"Actions"})]})}),n.jsx("tbody",{children:ft.map(me=>n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-2",children:n.jsx("input",{type:"checkbox",checked:I.includes(me.id),onChange:()=>Ke(me.id),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"})}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"font-medium max-w-[150px] truncate",title:me.medicine_name,children:me.medicine_name})}),n.jsx("td",{className:"py-3 px-2",children:n.jsxs("span",{className:"font-medium",children:["",Number(me.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-2",children:me.discounted_price&&me.discounted_price>0?n.jsxs("span",{className:"font-medium text-green-600",children:["",Number(me.discounted_price).toFixed(2)]}):"-"}),n.jsx("td",{className:"py-3 px-2",children:me.prescription_required?n.jsx("span",{className:"px-2 py-1 text-xs bg-primary/20 text-primary rounded",children:"Required"}):n.jsx("span",{className:"text-xs text-gray-400",children:"Not Required"})}),n.jsx("td",{className:"py-3 px-2 text-sm text-gray-600 max-w-[120px]",children:me.manufacturer_name?n.jsx("div",{className:"truncate",title:me.manufacturer_name,children:me.manufacturer_name}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:me.medicine_type?n.jsx("div",{className:"truncate",title:me.medicine_type,children:me.medicine_type}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:me.pack_size_label?n.jsx("div",{className:"truncate",title:me.pack_size_label,children:me.pack_size_label}):"-"}),n.jsx("td",{className:"py-3 px-2 text-sm max-w-[100px]",children:me.category?n.jsx("div",{className:"truncate",title:me.category,children:me.category}):"-"}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("span",{className:me.stock_quantity<=(me.low_stock_threshold||0)?"text-red-600 font-medium":"",children:me.stock_quantity})}),n.jsx("td",{className:"py-3 px-2 text-sm",children:me.low_stock_threshold||0}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:me.justification?n.jsx("div",{className:"truncate",title:me.justification,children:me.justification}):"-"}),n.jsx("td",{className:"py-3 px-2 text-xs max-w-[200px]",children:me.description?n.jsx("div",{className:"truncate",title:me.description,children:me.description}):"-"}),n.jsx("td",{className:"py-3 px-2",children:(()=>{const Re=Array.isArray(me.images)?me.images:typeof me.images=="string"?me.images.split(",").map($e=>$e.trim()).filter(Boolean):[];return Re.length===0?n.jsx("span",{className:"text-xs text-gray-400",children:"No image"}):n.jsxs("div",{className:"flex gap-1 items-center",children:[Re.slice(0,2).map(($e,st)=>n.jsx("img",{src:j6($e),alt:`${me.medicine_name} ${st+1}`,className:"w-10 h-10 object-cover rounded border bg-gray-100",onError:ct=>{ct.target.style.display="none"}},st)),Re.length>2&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",Re.length-2]})]})})()}),n.jsx("td",{className:"py-3 px-2",children:n.jsx("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:me.category_names.length>0?me.category_names.map((Re,$e)=>n.jsx("span",{className:"px-2 py-1 text-xs bg-secondary text-primary rounded-full",children:Re},$e)):n.jsx("span",{className:"text-xs text-gray-400",children:"No categories"})})}),n.jsx("td",{className:"py-3 px-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(rt,{onClick:()=>{ue(me),ge(me.category_ids),ne(!0)},className:"px-2 py-1 text-xs flex items-center gap-1 bg-primary hover:bg-primary-dark text-white",size:"sm",title:"Assign Categories",children:[n.jsx(Tn,{size:14}),"Categories"]}),n.jsxs(rt,{onClick:()=>Lt(me),className:"px-2 py-1 text-xs flex items-center gap-1",size:"sm",children:[n.jsx(Px,{size:14}),"Edit"]}),n.jsxs(rt,{onClick:()=>Ht(me),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white flex items-center gap-1",size:"sm",children:[n.jsx(Xs,{size:14}),"Delete"]})]})})]},me.id))})]})}),Pt>1&&n.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",kt+1," to ",Math.min(kt+Ye,Ze.length)," of ",Ze.length," items"]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(rt,{onClick:()=>X(me=>Math.max(1,me-1)),disabled:V===1,children:"Previous"}),n.jsx(rt,{onClick:()=>X(me=>Math.min(Pt,me+1)),disabled:V===Pt,children:"Next"})]})]}),Ze.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Tn,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No inventory items found"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload an Excel file to get started"})]})]})]}),Y&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(jt,{className:"w-full max-w-md mx-4",children:[n.jsxs(er,{className:"flex items-center justify-between",children:[n.jsx(tr,{children:"Bulk Assign Categories"}),n.jsx("button",{onClick:()=>{te(!1),J([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Categories (",I.length," items selected)"]}),n.jsx("select",{multiple:!0,value:U.map(String),onChange:me=>{const Re=Array.from(me.target.selectedOptions,$e=>Number($e.value));J(Re)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(h.length,8),children:h.map(me=>n.jsx("option",{value:me.id,children:me.name},me.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(rt,{onClick:()=>{te(!1),J([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(rt,{onClick:Le,className:"flex-1",disabled:U.length===0,children:"Assign"})]})]})]})}),le&&fe&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(jt,{className:"w-full max-w-md mx-4",children:[n.jsxs(er,{className:"flex items-center justify-between",children:[n.jsxs(tr,{children:["Assign Categories to ",fe.medicine_name]}),n.jsx("button",{onClick:()=>{ne(!1),ue(null),ge([])},className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Categories"}),n.jsx("select",{multiple:!0,value:xe.map(String),onChange:me=>{const Re=Array.from(me.target.selectedOptions,$e=>Number($e.value));ge(Re)},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(h.length,8),children:h.map(me=>n.jsx("option",{value:me.id,children:me.name},me.id))}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple categories"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(rt,{onClick:()=>{ne(!1),ue(null),ge([])},className:"flex-1 border border-primary/20 text-primary hover:bg-secondary bg-transparent",children:"Cancel"}),n.jsx(rt,{onClick:async()=>{fe&&(await ye(fe.id,xe),ne(!1),ue(null),ge([]))},className:"flex-1",disabled:xe.length===0,children:"Assign"})]})]})]})}),$&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(jt,{className:"w-full max-w-7xl max-h-[90vh] overflow-y-auto",children:[n.jsx(er,{children:n.jsx(tr,{children:ae==="edit"?"Edit Inventory Item":"Add New Inventory Item"})}),n.jsx(Nt,{children:n.jsx(sZ,{categories:h,onSubmit:dt,onCancel:()=>{R(!1),ie(null),re("add")},isSubmitting:K,initialData:se,mode:ae})})]})})]}),i==="generic"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search generic medicines...",value:D,onChange:me=>q(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),s&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Generic Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:o,onChange:me=>{const Re=parseFloat(me.target.value)||0;d(Re)},onBlur:()=>Qe("generic",o),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u}),n.jsx(rt,{onClick:()=>Qe("generic",o),size:"sm",disabled:u,children:n.jsx(cy,{size:16})})]})})]}),v?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading generic medicines..."})]}):n.jsx(jt,{children:n.jsx(Nt,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:g.filter(me=>me.medicine_type==="Generic").filter(me=>D===""||me.medicine_name.toLowerCase().includes(D.toLowerCase())).map(me=>{const Re=me.price*o/100,$e=me.price-Re;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:me.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(me.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[o.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",$e.toFixed(2)]})})]},me.id)})})]}),g.filter(me=>me.medicine_type==="Generic").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No generic medicines found"})]})})})]}),i==="branded"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center gap-4 flex-1",children:n.jsxs("div",{className:"relative flex-1 max-w-md",children:[n.jsx("input",{type:"text",placeholder:"Search branded medicines...",value:D,onChange:me=>q(me.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),n.jsx(Tn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})}),s&&n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Branded Commission %:"}),n.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:c,onChange:me=>{const Re=parseFloat(me.target.value)||0;a(Re)},onBlur:()=>Qe("branded",c),className:"w-24 px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",disabled:u}),n.jsx(rt,{onClick:()=>Qe("branded",c),size:"sm",disabled:u,children:n.jsx(cy,{size:16})})]})})]}),v?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading branded medicines..."})]}):n.jsx(jt,{children:n.jsx(Nt,{className:"p-0",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50/50",children:[n.jsx("th",{className:"text-left pb-4 px-4",children:"Medicine Name"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Price"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Commission %"}),n.jsx("th",{className:"text-left pb-4 px-4",children:"Payout Price"})]})}),n.jsx("tbody",{children:g.filter(me=>me.medicine_type==="Branded").filter(me=>D===""||me.medicine_name.toLowerCase().includes(D.toLowerCase())).map(me=>{const Re=me.price*c/100,$e=me.price-Re;return n.jsxs("tr",{className:"border-b hover:bg-secondary/50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("div",{className:"font-medium",children:me.medicine_name})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:["",Number(me.price||0).toFixed(2)]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium",children:[c.toFixed(2),"%"]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"font-medium text-green-600",children:["",$e.toFixed(2)]})})]},me.id)})})]}),g.filter(me=>me.medicine_type==="Branded").length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No branded medicines found"})]})})})]})]})},sZ=({categories:e,onSubmit:r,onCancel:t,isSubmitting:s,initialData:l,mode:i="add"})=>{const[o,d]=F.useState({medicine_name:l?.medicine_name||"",price:l?.price?.toString()||"",discounted_price:l?.discounted_price?l.discounted_price.toString():"",prescription_required:l?.prescription_required||!1,manufacturer_name:l?.manufacturer_name||"",medicine_type:l?.medicine_type||"",category:l?.category||"",pack_size_label:l?.pack_size_label||"",stock_quantity:l?.stock_quantity?.toString()||"",low_stock_threshold:l?.low_stock_threshold?.toString()||"",justification:l?.justification||"",description:l?.description||"",category_ids:l?.category_ids||[]}),[c,a]=F.useState([]),[u,f]=F.useState(l?.images?(Array.isArray(l.images)?l.images:l.images.split(",")).filter(p=>p.trim()):[]);F.useEffect(()=>{l&&i==="edit"?(d({medicine_name:l.medicine_name||"",price:l.price?.toString()||"",discounted_price:l.discounted_price?l.discounted_price.toString():"",prescription_required:l.prescription_required||!1,manufacturer_name:l.manufacturer_name||"",medicine_type:l.medicine_type||"",category:l.category||"",pack_size_label:l.pack_size_label||"",stock_quantity:l.stock_quantity?.toString()||"",low_stock_threshold:l.low_stock_threshold?.toString()||"",justification:l.justification||"",description:l.description||"",category_ids:l.category_ids||[]}),f(l.images?(Array.isArray(l.images)?l.images:l.images.split(",")).filter(p=>p.trim()):[])):i==="add"&&(d({medicine_name:"",price:"",discounted_price:"",prescription_required:!1,manufacturer_name:"",medicine_type:"",category:"",pack_size_label:"",stock_quantity:"",low_stock_threshold:"",justification:"",description:"",category_ids:[]}),f([]),a([]))},[l,i]);const h=p=>{p.preventDefault();const b=new FormData;Object.entries(o).forEach(([v,j])=>{v==="category_ids"?o.category_ids.forEach(C=>{b.append("category_ids",C.toString())}):v==="prescription_required"?b.append(v,j?"true":"false"):j!==""&&j!==null&&j!==void 0&&b.append(v,j.toString())}),c.forEach(v=>{b.append("images",v)}),i==="edit"&&u.length>0&&u.forEach(v=>{b.append("existing_images",v)}),r(b)},m=p=>{f(b=>b.filter((v,j)=>j!==p))},g=p=>{if(p.target.files){const b=Array.from(p.target.files);a(v=>[...v,...b])}},y=p=>{a(b=>b.filter((v,j)=>j!==p))};return n.jsxs("form",{onSubmit:h,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Name *"}),n.jsx("input",{type:"text",required:!0,value:o.medicine_name,onChange:p=>d({...o,medicine_name:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),n.jsx("input",{type:"number",step:"0.01",required:!0,value:o.price,onChange:p=>d({...o,price:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Discounted Price (Optional)"}),n.jsx("input",{type:"number",step:"0.01",value:o.discounted_price,onChange:p=>d({...o,discounted_price:p.target.value}),placeholder:"Leave empty if no discount",className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marketed By"}),n.jsx("input",{type:"text",value:o.manufacturer_name,onChange:p=>d({...o,manufacturer_name:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Medicine Type *"}),n.jsxs("select",{value:o.medicine_type,onChange:p=>d({...o,medicine_type:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[n.jsx("option",{value:"",children:"Select Type"}),n.jsx("option",{value:"Generic",children:"Generic"}),n.jsx("option",{value:"Branded",children:"Branded"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select whether this is a Generic or Branded medicine"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Pack Size Label"}),n.jsx("input",{type:"text",value:o.pack_size_label,onChange:p=>d({...o,pack_size_label:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Item Group"}),n.jsx("input",{type:"text",value:o.category,onChange:p=>d({...o,category:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock Quantity"}),n.jsx("input",{type:"number",value:o.stock_quantity,onChange:p=>d({...o,stock_quantity:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Low Stock Threshold"}),n.jsx("input",{type:"number",value:o.low_stock_threshold,onChange:p=>d({...o,low_stock_threshold:p.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Justification (Active Ingredient & Class)"}),n.jsx("textarea",{value:o.justification,onChange:p=>d({...o,justification:p.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),n.jsx("textarea",{value:o.description,onChange:p=>d({...o,description:p.target.value}),rows:3,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Picture"}),n.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:g,className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"}),u.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"Existing Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((p,b)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:p.trim(),alt:`Existing ${b+1}`,className:"w-20 h-20 object-cover rounded border",onError:v=>{v.target.style.display="none"}}),n.jsx("button",{type:"button",onClick:()=>m(b),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`existing-${b}`))})]}),c.length>0&&n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"New Images:"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:c.map((p,b)=>n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:URL.createObjectURL(p),alt:`Preview ${b+1}`,className:"w-20 h-20 object-cover rounded border"}),n.jsx("button",{type:"button",onClick:()=>y(b),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs",children:""})]},`new-${b}`))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categories"}),n.jsx("select",{multiple:!0,value:o.category_ids.map(String),onChange:p=>{const b=Array.from(p.target.selectedOptions,v=>Number(v.value));d({...o,category_ids:b})},className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",size:Math.min(e.length,5),children:e.map(p=>n.jsx("option",{value:p.id,children:p.name},p.id))})]}),n.jsx("div",{className:"flex items-center gap-4",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:o.prescription_required,onChange:p=>d({...o,prescription_required:p.target.checked}),className:"w-4 h-4 text-primary border-primary/20 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm",children:"Prescription Required or Not"})]})}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx(rt,{type:"button",onClick:t,variant:"outline",className:"flex-1 border-gray-300 bg-white text-gray-800 hover:bg-gray-100 hover:text-gray-900",disabled:s,children:"Cancel"}),n.jsx(rt,{type:"submit",className:"flex-1",disabled:s,children:s?i==="edit"?"Updating...":"Adding...":i==="edit"?"Update Inventory":"Add Inventory"})]})]})},pf=e=>{if(!e)return"N/A";try{const[r,t]=e.split(":"),s=parseInt(r,10),l=parseInt(t,10),i=s===0?12:s>12?s-12:s,o=s>=12?"PM":"AM",d=l.toString().padStart(2,"0");return`${i}:${d} ${o}`}catch{return e}},iZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState(!0),[i,o]=F.useState(1),[d,c]=F.useState(null),[a,u]=F.useState(!1),[f,h]=F.useState(null),[m,g]=F.useState({status:"",notes:""}),[y,p]=F.useState(!1),[b,v]=F.useState(1),[j,C]=F.useState({}),[T,D]=F.useState({}),[q,z]=F.useState(!1),[B,V]=F.useState(null),[X,W]=F.useState({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0}),[P,M]=F.useState({status:"",payment_status:"",priority:"",date_from:"",date_to:"",city:"",assigned_provider:"",overdue:!1,sort_by:"created_at",sort_order:"desc"}),[E,_]=F.useState(!1),[k,N]=F.useState(!1),[S,O]=F.useState(null),[L,I]=F.useState([]),[G,Y]=F.useState(!1),[te,U]=F.useState(null),[J,$]=F.useState(!1),R=10,K=Ie;F.useEffect(()=>{ne()},[i,P]);const ee=de=>{const ce=[de.total_amount,de.payment_amount,de.service_price_discounted,de.service_price_original,de.amount,de.price,de.subcategory?.price,de.subcategory?.amount,de.service?.price_discounted,de.service?.price_original,de.service?.price];for(const je of ce)if(!(je==null||je===""||je==="0"||je===0)){if(typeof je=="number"){if(Number.isFinite(je))return je}else if(typeof je=="string"){const Ce=parseFloat(je.replace(/[,\s]/g,""));if(!isNaN(Ce))return Ce}}return 0},se=de=>de.assigned_provider_name||de.assigned_provider||de.provider?.full_name||de.provider?.name||(de.provider_id?`Provider #${de.provider_id}`:null),ie=de=>de.service_title||de.service?.service_name||de.service?.title||de.service_name||de.subcategory?.service_name||de.subcategory?.name||de.category?.name||"Unknown Service",ae=async de=>{const ce=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ce){D(je=>({...je,[de]:!0}));try{const je=await fetch(`${K}/admin/booking/session-history/${de}`,{headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}});if(je.ok){const Ce=await je.json();C(Ue=>({...Ue,[de]:Ce.sessions||[]}))}}catch(je){console.error("Failed to load session history:",je),e("Failed to load session history","error")}finally{D(je=>({...je,[de]:!1}))}}},re=async de=>{const ce=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ce)try{if((await fetch(`${K}/admin/booking/approve-completion/${de}`,{method:"POST",headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"},body:JSON.stringify({admin_username:"Admin"})})).ok)e("Booking completion approved","success"),await ne();else throw new Error("Failed to approve")}catch{e("Failed to approve completion","error")}},le=async(de,ce)=>{const je=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(je)try{if((await fetch(`${K}/admin/booking/reject-completion/${de}`,{method:"POST",headers:{Authorization:`Bearer ${je}`,"Content-Type":"application/json"},body:JSON.stringify({rejection_reason:ce,admin_username:"Admin"})})).ok)e("Booking completion rejected","success"),await ne();else throw new Error("Failed to reject")}catch{e("Failed to reject completion","error")}},ne=async()=>{const de=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!de){e("Please login to view bookings","error"),l(!1);return}try{l(!0);const ce=new URLSearchParams;ce.append("page",i.toString()),ce.append("limit",R.toString()),Object.entries(P).forEach(([Ye,Oe])=>{Oe&&ce.append(Ye,Oe.toString())});const je=await fetch(`${K}/admin/appointments?${ce.toString()}`,{headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}});if(!je.ok){if(je.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${je.status}`)}const Ce=await je.json(),Ue=Ce.data||Ce.bookings||[];if(Array.isArray(Ue)){const Ye=Ue.map(Oe=>({id:Oe.id,booking_date:Oe.preferred_date||Oe.booking_date,booking_time:Oe.preferred_time||Oe.booking_time,status:Oe.status,payment_status:Oe.payment_status||"pending",priority:Oe.priority||"normal",total_amount:ee(Oe),service_address:Oe.service_address||Oe.address||"N/A",pincode:Oe.pincode||"N/A",city:Oe.city||"N/A",contact_person:Oe.contact_person||Oe.user?.name||"N/A",contact_phone:Oe.contact_phone||Oe.user?.phone||"N/A",created_at:Oe.created_at||"",updated_at:Oe.updated_at||"",assigned_provider:se(Oe),user_name:Oe.user?.name||`User #${Oe.user_id||"N/A"}`,provider_name:Oe.provider?.name||`Provider #${Oe.provider_id||"N/A"}`,service_name:ie(Oe),service_description:Oe.service?.description||Oe.subcategory?.description||Oe.description||"",category_id:Oe.category_id||Oe.service?.category_id||Oe.subcategory?.category_id,subcategory_id:Oe.subcategory_id||Oe.service?.subcategory_id,is_overdue:Oe.is_overdue||!1,admin_notes:Oe.admin_notes,cancellation_reason:Oe.cancellation_reason,refund_amount:Oe.refund_amount,user_id:Oe.user_id,provider_id:Oe.provider_id,slot_type:Oe.slot_type,total_sessions:Oe.total_sessions,completed_sessions:Oe.completed_sessions,admin_approval_status:Oe.admin_approval_status,admin_rejection_reason:Oe.admin_rejection_reason}));if(t(Ye),Ce.pagination){const Oe=Ce.pagination.total||Ye.length,qe=Ce.pagination.page_size||R;v(Math.ceil(Oe/qe))}else v(1)}else console.error("Failed to fetch bookings: Invalid response format"),e("Failed to fetch bookings: Invalid response format","error"),t([]),v(1)}catch(ce){console.error("Error fetching bookings:",ce);const je=ce instanceof Error?ce.message:"Failed to fetch bookings";e(je,"error"),t([]),v(1)}finally{l(!1)}},fe=(de,ce)=>{c(d===de.id?null:de.id)},ue=async de=>{if(de.preventDefault(),!!f){p(!0);try{let ce="",je={};switch(m.status){case"confirm":ce=`${K}/admin/bookings/${f.id}/status`,je={status:"confirmed",notes:m.notes,reason:"Admin confirmed booking"};break;case"cancel":ce=`${K}/admin/bookings/${f.id}/cancel`,je={reason:m.reason||"Cancelled by admin",refund_amount:m.refund_amount||0,notes:m.notes};break;case"assign":ce=`${K}/admin/bookings/${f.id}/assign`,je={provider_id:m.provider_id,notes:m.notes};break;case"start":ce=`${K}/admin/bookings/${f.id}/status`,je={status:"in_progress",notes:m.notes,reason:"Admin started the service"};break;case"complete":ce=`${K}/admin/bookings/${f.id}/status`,je={status:"completed",notes:m.notes,reason:"Admin marked as completed"};break;default:throw new Error(`Unknown action: ${m.status}`)}const Ue=await(await fetch(ce,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")}`,"Content-Type":"application/json"},body:JSON.stringify(je)})).json();if(Ue.success){const Ye=Ue.message||`Booking ${m.status}ed successfully`;e(Ye,"success"),u(!1),ne()}else e(Ue.message||`Failed to ${m.status} booking`,"error")}catch(ce){console.error("Error processing booking:",ce),e("Error processing booking","error")}finally{p(!1)}}},xe=de=>{switch(de){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"confirmed":case"accepted":return"bg-primary/10 text-primary-dark";case"in_progress":return"bg-purple-100 text-purple-700";case"cancelled":return"bg-red-100 text-red-700";case"awaiting_payment":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},ge=de=>{switch(de){case"paid":return"bg-green-100 text-green-700";case"refunded":return"bg-primary/10 text-primary-dark";case"pending":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},be=de=>{switch(de){case"urgent":return"bg-red-100 text-red-700";case"high":return"bg-orange-100 text-orange-700";case"normal":return"bg-primary/10 text-primary-dark";case"low":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}},ke=de=>{["id","date","status","actions"].includes(de)||W(ce=>({...ce,[de]:!ce[de]}))},Ee=()=>{W({id:!0,date:!0,service:!0,parties:!0,location:!0,amount:!0,status:!0,payment:!0,priority:!0,assigned:!0,actions:!0})},ze=async de=>{O(de),N(!0),Y(!0),I([]),U(null);try{const ce=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!ce){e("Please login to assign provider","error");return}const je=await fetch(`${K}/admin/bookings/${de.id}/available-providers`,{headers:{Authorization:`Bearer ${ce}`,"Content-Type":"application/json"}});if(!je.ok)throw new Error(`Failed to fetch providers: ${je.status}`);const Ce=await je.json();I(Ce.providers||[])}catch(ce){console.error("Error fetching available providers:",ce),e("Failed to fetch available providers","error")}finally{Y(!1)}},Fe=async()=>{if(!S||!te){e("Please select a provider","error");return}$(!0);try{const de=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!de){e("Please login to assign provider","error");return}const ce=await fetch(`${K}/admin/bookings/${S.id}/assign-provider`,{method:"PUT",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify({provider_id:te,admin_name:"Admin"})}),je=await ce.json();if(ce.ok)e("Provider assigned successfully","success"),N(!1),O(null),U(null),ne();else throw new Error(je.message||je.error?.message||"Failed to assign provider")}catch(de){console.error("Error assigning provider:",de);const ce=de instanceof Error?de.message:"Failed to assign provider";e(ce,"error")}finally{$(!1)}};return n.jsxs("div",{children:[s?n.jsx(pu,{}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex items-center justify-end mb-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(rt,{onClick:()=>_(!E),variant:"outline",className:"flex items-center space-x-1",children:[n.jsx(ly,{size:14}),n.jsx("span",{children:"Columns"})]}),n.jsxs(rt,{onClick:ne,className:"flex items-center space-x-1",children:[n.jsx(Dn,{size:14}),n.jsx("span",{children:"Refresh"})]})]})}),E&&n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Column Visibility"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{onClick:Ee,variant:"outline",size:"sm",className:"text-xs",children:"Reset All"}),n.jsx(rt,{onClick:()=>_(!1),variant:"ghost",size:"sm",className:"text-xs",children:n.jsx(hr,{size:14})})]})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Object.entries(X).map(([de,ce])=>n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:ce,onChange:()=>ke(de),disabled:["id","date","status","actions"].includes(de),className:"rounded border-gray-300 text-primary focus:ring-primary disabled:opacity-50"}),n.jsx("span",{className:`text-sm ${["id","date","status","actions"].includes(de)?"text-gray-500":"text-gray-700"}`,children:de.charAt(0).toUpperCase()+de.slice(1).replace("_"," ")})]},de))})]}),n.jsx("div",{className:"overflow-x-auto bg-white rounded-lg border border-gray-200 shadow-sm",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"w-10 px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),X.id&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),X.date&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),X.service&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),X.parties&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Parties"}),X.location&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),X.amount&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),X.status&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),X.payment&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),X.priority&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),X.assigned&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assigned To"}),X.actions&&n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{children:r.map(de=>n.jsxs(cs.Fragment,{children:[n.jsxs("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"px-4 py-4",children:n.jsx(rt,{variant:"ghost",size:"sm",onClick:()=>fe(de),className:"p-1 hover:bg-gray-100 rounded",children:d===de.id?n.jsx(vu,{size:16,className:"text-gray-500"}):n.jsx(Ka,{size:16,className:"text-gray-500"})})}),X.id&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"font-medium text-gray-900",children:["#",de.id]}),de.is_overdue&&n.jsxs("div",{className:"text-xs text-red-600 flex items-center mt-1",children:[n.jsx(pn,{size:12,className:"mr-1"}),"Overdue"]})]}),X.date&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:de.booking_date?new Date(de.booking_date).toLocaleDateString():"N/A"}),n.jsx("div",{className:"text-sm text-gray-500",children:de.booking_time?pf(de.booking_time):"N/A"})]}),X.service&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"font-medium text-gray-900",children:de.service_name})}),X.parties&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsxs("div",{className:"text-sm text-gray-900",children:["User: ",de.user_name]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Provider: ",de.provider_name]})]}),X.location&&n.jsxs("td",{className:"px-4 py-4",children:[n.jsx("div",{className:"text-sm text-gray-900",children:de.service_address}),n.jsxs("div",{className:"text-sm text-gray-500",children:[de.city," - ",de.pincode]})]}),X.amount&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"font-medium text-gray-900",children:["",de.total_amount.toFixed(2)]})}),X.status&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${xe(de.status)}`,children:de.status.split("_").map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(" ")})}),X.payment&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge(de.payment_status)}`,children:de.payment_status.charAt(0).toUpperCase()+de.payment_status.slice(1)})}),X.priority&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be(de.priority)}`,children:de.priority.charAt(0).toUpperCase()+de.priority.slice(1)})}),X.assigned&&n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"text-sm text-gray-600",children:de.assigned_provider||"Unassigned"})}),X.actions&&n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{onClick:()=>fe(de),variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-900",children:n.jsx($o,{size:16})}),de.slot_type&&de.total_sessions&&n.jsx(rt,{onClick:()=>{V(de),z(!0)},variant:"ghost",size:"sm",className:"text-primary hover:text-blue-900",title:"View Report",children:n.jsx(ly,{size:16})})]})})]}),d===de.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(X).filter(Boolean).length+1,className:"bg-gradient-to-r from-gray-50 to-blue-50/30 border-l-4 border-primary",children:n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Basic Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking ID:"}),n.jsxs("span",{className:"font-medium",children:["#",de.id]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${xe(de.status)}`,children:de.status.split("_").map(ce=>ce.charAt(0).toUpperCase()+ce.slice(1)).join(" ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Payment Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge(de.payment_status)}`,children:de.payment_status.charAt(0).toUpperCase()+de.payment_status.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Priority:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${be(de.priority)}`,children:de.priority.charAt(0).toUpperCase()+de.priority.slice(1)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),n.jsxs("span",{className:"font-medium text-green-600",children:["",de.total_amount.toFixed(2)]})]}),de.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Shift Pattern:"}),n.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-xs font-medium",children:[de.slot_type,de.slot_type==="MWF"&&" (Mon, Wed, Fri)",de.slot_type==="TTS"&&" (Tue, Thu, Sat)"]})]}),de.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[de.completed_sessions||0," / ",de.total_sessions]})]})]})]}),n.jsxs("div",{className:"space-y-4 md:col-span-2",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Service Details"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium",children:de.service_name})]}),de.service_description&&n.jsxs("div",{className:"col-span-full",children:[n.jsx("span",{className:"text-gray-600 block mb-2",children:"Description:"}),n.jsx("div",{className:"text-sm text-gray-700 border border-gray-200 rounded p-3 bg-gray-50 service-description-html",style:{lineHeight:"1.6"},dangerouslySetInnerHTML:{__html:de.service_description}})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"User:"}),n.jsx("span",{className:"font-medium",children:de.user_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Provider:"}),n.jsx("span",{className:"font-medium",children:de.provider_name})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Assigned To:"}),n.jsx("span",{className:"font-medium",children:de.assigned_provider||"Unassigned"})]}),(!de.provider_id||de.status==="awaiting_assignment")&&n.jsx("div",{className:"mt-4",children:n.jsx(rt,{onClick:()=>ze(de),className:"bg-primary hover:bg-primary-dark text-white",size:"sm",children:"Assign Provider"})})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Location & Contact"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Address:"}),n.jsx("span",{className:"font-medium",children:de.service_address})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"City:"}),n.jsx("span",{className:"font-medium",children:de.city})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Pincode:"}),n.jsx("span",{className:"font-medium",children:de.pincode})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Person:"}),n.jsx("span",{className:"font-medium",children:de.contact_person})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Contact Phone:"}),n.jsx("span",{className:"font-medium",children:de.contact_phone})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Date & Time"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Date:"}),n.jsx("span",{className:"font-medium",children:de.booking_date?new Date(de.booking_date).toLocaleDateString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Booking Time:"}),n.jsx("span",{className:"font-medium",children:de.booking_time?pf(de.booking_time):"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:de.created_at?new Date(de.created_at).toLocaleString():"N/A"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),n.jsx("span",{className:"font-medium",children:de.updated_at?new Date(de.updated_at).toLocaleString():"N/A"})]})]})]}),(de.slot_type||de.total_sessions)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Session Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[de.slot_type&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Slot Type:"}),n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:de.slot_type})]}),de.total_sessions&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Sessions:"}),n.jsxs("span",{className:"font-medium",children:[de.completed_sessions||0," / ",de.total_sessions," completed"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(rt,{onClick:()=>{V(de),z(!0),j[de.id]||ae(de.id)},variant:"outline",size:"sm",className:"w-full",children:T[de.id]?"Loading...":"View Session History"})})]})]}),de.status==="pending_admin_approval"&&n.jsxs("div",{className:"space-y-4 col-span-full",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-900 border-b border-yellow-300 pb-2 bg-yellow-50 p-2 rounded",children:" Pending Admin Approval"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(rt,{onClick:()=>re(de.id),className:"bg-green-600 hover:bg-green-700 text-white",size:"sm",children:"Approve Completion"}),n.jsx(rt,{onClick:()=>{const ce=prompt("Please provide rejection reason:");ce&&ce.trim()&&le(de.id,ce.trim())},variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50",size:"sm",children:"Reject Completion"})]}),de.admin_rejection_reason&&n.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:[n.jsx("strong",{children:"Previous Rejection:"})," ",de.admin_rejection_reason]})]}),(de.admin_notes||de.cancellation_reason||de.refund_amount)&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 border-b pb-2",children:"Additional Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[de.admin_notes&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Admin Notes:"}),n.jsx("span",{className:"font-medium",children:de.admin_notes})]}),de.cancellation_reason&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block",children:"Cancellation Reason:"}),n.jsx("span",{className:"font-medium text-red-600",children:de.cancellation_reason})]}),de.refund_amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Refund Amount:"}),n.jsxs("span",{className:"font-medium text-primary",children:["",de.refund_amount.toFixed(2)]})]})]})]})]})})})})]},de.id))})]})}),b>1&&n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",i," of ",b]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{onClick:()=>o(de=>Math.max(de-1,1)),disabled:i===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ul,{size:16})}),n.jsx(rt,{onClick:()=>o(de=>Math.min(de+1,b)),disabled:i===b,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ia,{size:16})})]})]})]}),a&&f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:[m.status==="confirm"?"Confirm":m.status==="cancel"?"Cancel":m.status==="assign"?"Assign Provider":m.status==="start"?"Start Service":m.status==="complete"?"Complete":"View"," Booking"]}),n.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),n.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Booking Details"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Service:"})," ",f.service_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",new Date(f.booking_date).toLocaleDateString()]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Time:"})," ",pf(f.booking_time)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Amount:"})," ",f.total_amount.toFixed(2)]})]})]}),m.status==="confirm"&&n.jsx("div",{className:"bg-blue-50 border border-primary/20 rounded-lg p-3",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Vs,{className:"h-5 w-5 text-blue-400"})}),n.jsx("div",{className:"ml-3",children:n.jsxs("p",{className:"text-sm text-primary-dark",children:[n.jsx("strong",{children:"Provider Assignment:"})," This booking already has a provider assigned. Confirmation will approve the booking for service."]})})]})}),m.status==="assign"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider ID *"}),n.jsx("input",{type:"number",required:!0,value:m.provider_id,onChange:de=>g({...m,provider_id:parseInt(de.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter provider ID"})]}),m.status==="cancel"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsx("input",{type:"text",required:!0,value:m.reason,onChange:de=>g({...m,reason:de.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter cancellation reason"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount"}),n.jsx("input",{type:"number",value:m.refund_amount,onChange:de=>g({...m,refund_amount:parseFloat(de.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter refund amount"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes *"}),n.jsx("textarea",{required:!0,value:m.notes,onChange:de=>g({...m,notes:de.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:`Enter notes for ${m.status}...`})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(rt,{type:"button",onClick:()=>u(!1),className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(rt,{type:"submit",disabled:y,className:`${m.status==="confirm"?"bg-primary hover:bg-primary-dark":m.status==="cancel"?"bg-red-600 hover:bg-red-700":m.status==="assign"?"bg-green-600 hover:bg-green-700":(m.status==="start","bg-primary hover:bg-primary-dark")} text-white`,children:y?"Processing...":m.status==="confirm"?"Confirm":m.status==="cancel"?"Cancel":m.status==="assign"?"Assign":m.status==="start"?"Start":m.status==="complete"?"Complete":"Submit"})]})]})]})}),q&&B&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Session History - Booking #",B.id]}),n.jsx("button",{onClick:()=>{z(!1),V(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),T[B.id]?n.jsx("div",{className:"text-center py-8",children:"Loading sessions..."}):j[B.id]?.length>0?n.jsx("div",{className:"space-y-4",children:j[B.id].map(de=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-medium",children:["Session ",de.session_number]}),n.jsx("p",{className:"text-sm text-gray-600",children:new Date(de.session_date).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${de.status==="session_completed"?"bg-green-100 text-green-800":de.status==="session_started"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:de.status.replace("_"," ").replace(/\b\w/g,ce=>ce.toUpperCase())})]}),de.reached_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Reached: ",new Date(de.reached_at).toLocaleString()]}),de.started_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",new Date(de.started_at).toLocaleTimeString()]}),de.ended_at&&n.jsxs("p",{className:"text-sm text-gray-600",children:["Ended: ",new Date(de.ended_at).toLocaleTimeString()]}),de.picture_proof_url&&n.jsxs("div",{className:"mt-3",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Proof:"}),n.jsx("img",{src:de.picture_proof_url,alt:`Session ${de.session_number} proof`,className:"max-w-xs rounded border border-gray-200 cursor-pointer hover:opacity-80",onClick:()=>window.open(de.picture_proof_url,"_blank")})]})]},de.id))}):n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No sessions found"})]})}),k&&S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Assign Provider to Booking #",S.id]}),n.jsx("button",{onClick:()=>{N(!1),O(null),I([]),U(null)},className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),n.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Service:"}),n.jsx("span",{className:"font-medium ml-2",children:S.service_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Customer:"}),n.jsx("span",{className:"font-medium ml-2",children:S.user_name})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Location:"}),n.jsxs("span",{className:"font-medium ml-2",children:[S.city,", ",S.pincode]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Date:"}),n.jsxs("span",{className:"font-medium ml-2",children:[S.booking_date?new Date(S.booking_date).toLocaleDateString():"N/A"," ",S.booking_time?pf(S.booking_time):""]})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Available Providers (Filtered by Service & Location)"}),G?n.jsx("div",{className:"flex items-center justify-center py-8",children:n.jsx(pu,{})}):L.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx("p",{children:"No available providers found for this service."}),n.jsx("p",{className:"text-sm mt-2",children:"Please check if there are approved providers who offer this service."})]}):n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:L.map(de=>n.jsx("div",{onClick:()=>U(de.id),className:`p-4 border rounded-lg cursor-pointer transition-colors ${te===de.id?"border-primary bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h5",{className:"font-semibold text-gray-900",children:de.full_name}),te===de.id&&n.jsx(Vs,{size:16,className:"text-primary"})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm text-gray-600",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",de.phone_number]}),de.email&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",de.email]}),de.city&&de.state&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Location:"})," ",de.city,", ",de.state]}),de.average_rating&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Rating:"}),"  ",de.average_rating.toFixed(1)]}),de.completed_bookings!==void 0&&n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Completed:"})," ",de.completed_bookings," bookings"]})]})]})})},de.id))})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(rt,{type:"button",onClick:()=>{N(!1),O(null),I([]),U(null)},className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(rt,{type:"button",onClick:Fe,disabled:!te||J||G,className:"bg-primary hover:bg-primary-dark text-white disabled:opacity-50 disabled:cursor-not-allowed",children:J?"Assigning...":"Assign Provider"})]})]})})]})},aZ=()=>n.jsx(Gr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bookings"}),n.jsx("p",{className:"text-gray-600",children:"Manage and monitor all bookings in the system"})]}),n.jsxs(jt,{children:[n.jsx(er,{children:n.jsx(tr,{children:"All Bookings"})}),n.jsx(Nt,{children:n.jsx(iZ,{})})]})]})}),oZ=({invoice:e,onClose:r})=>{if(!e)return null;const t=e.order||{},s=e.items||[],l=e.invoice_number||`INV-${t.id||"0000"}-${new Date().toISOString().split("T")[0].replace(/-/g,"")}`,i=parseFloat(t.subtotal||0),o=parseFloat(t.discount||0),d=parseFloat(t.delivery_charges||0),c=parseFloat(t.total_amount||0),a=.18,u=i-o,f=(u*(a/2)).toFixed(2),h=(u*(a/2)).toFixed(2),m=p=>p?new Date(p).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}):"N/A",g=p=>p?new Date(p).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",y=()=>{window.print()};return n.jsx("div",{className:"invoice-overlay",onClick:r,children:n.jsx("div",{className:"invoice-modal",onClick:p=>p.stopPropagation(),children:n.jsxs("div",{className:"invoice-container",children:[n.jsxs("div",{className:"invoice-header",children:[n.jsxs("div",{className:"invoice-company-info",children:[n.jsx("div",{className:"invoice-logo",children:n.jsx("img",{src:"/kwikmedi_logo.svg",alt:"KwikMedi Logo",onError:p=>{p.target.style.display="none"}})}),n.jsxs("div",{className:"invoice-company-details",children:[n.jsx("h1",{className:"invoice-company-name",children:"KwikMedi"}),n.jsxs("p",{className:"invoice-company-address",children:["Your Health Partner",n.jsx("br",{}),"India"]}),n.jsxs("p",{className:"invoice-company-contact",children:["Email: support@kwikmedi.com",n.jsx("br",{}),"Phone: +91-XXXXXXXXXX"]})]})]}),n.jsxs("div",{className:"invoice-title-section",children:[n.jsx("h2",{className:"invoice-title",children:"TAX INVOICE"}),n.jsxs("div",{className:"invoice-meta",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Invoice No:"})," ",l]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Date:"})," ",m(t.created_at)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Order ID:"})," #",t.id]})]})]})]}),n.jsxs("div",{className:"invoice-address-section",children:[n.jsxs("div",{className:"invoice-address-box",children:[n.jsx("h3",{className:"invoice-address-title",children:"Bill To:"}),n.jsx("p",{className:"invoice-address-name",children:t.user_name||t.full_name||"N/A"}),n.jsxs("p",{className:"invoice-address-text",children:[t.user_phone||t.phone||"",n.jsx("br",{}),t.user_email||t.email||""]})]}),n.jsxs("div",{className:"invoice-address-box",children:[n.jsx("h3",{className:"invoice-address-title",children:"Ship To:"}),n.jsx("p",{className:"invoice-address-name",children:t.user_name||t.full_name||"N/A"}),n.jsxs("p",{className:"invoice-address-text",children:[t.delivery_address||"N/A",n.jsx("br",{}),[t.delivery_city,t.delivery_state,t.delivery_pincode].filter(Boolean).join(", ")]})]})]}),n.jsx("div",{className:"invoice-items-section",children:n.jsxs("table",{className:"invoice-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"invoice-table-sno",children:"S.No"}),n.jsx("th",{className:"invoice-table-item",children:"Item Description"}),n.jsx("th",{className:"invoice-table-qty",children:"Qty"}),n.jsx("th",{className:"invoice-table-price",children:"Unit Price"}),n.jsx("th",{className:"invoice-table-amount",children:"Amount ()"})]})}),n.jsxs("tbody",{children:[s.map((p,b)=>n.jsxs("tr",{children:[n.jsx("td",{children:b+1}),n.jsxs("td",{className:"invoice-table-item-cell",children:[n.jsx("strong",{children:p.medicine_name||"Medicine"}),p.dosage&&n.jsxs("div",{className:"invoice-item-details",children:["Dosage: ",p.dosage]}),p.days&&n.jsxs("div",{className:"invoice-item-details",children:["Days: ",p.days]})]}),n.jsx("td",{children:p.quantity||0}),n.jsxs("td",{children:["",parseFloat(p.price||0).toFixed(2)]}),n.jsxs("td",{children:["",((p.price||0)*(p.quantity||0)).toFixed(2)]})]},p.id||b)),s.length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",padding:"20px"},children:"No items found"})})]})]})}),n.jsx("div",{className:"invoice-totals-section",children:n.jsxs("div",{className:"invoice-totals-box",children:[n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Subtotal:"}),n.jsxs("span",{children:["",i.toFixed(2)]})]}),o>0&&n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Discount:"}),n.jsxs("span",{children:["-",o.toFixed(2)]})]}),n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Taxable Amount:"}),n.jsxs("span",{children:["",u.toFixed(2)]})]}),parseFloat(f)>0&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"CGST (9%):"}),n.jsxs("span",{children:["",f]})]}),n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"SGST (9%):"}),n.jsxs("span",{children:["",h]})]})]}),d>0&&n.jsxs("div",{className:"invoice-total-row",children:[n.jsx("span",{children:"Delivery Charges:"}),n.jsxs("span",{children:["",d.toFixed(2)]})]}),n.jsxs("div",{className:"invoice-total-row invoice-total-final",children:[n.jsx("span",{children:n.jsx("strong",{children:"Total Amount:"})}),n.jsx("span",{children:n.jsxs("strong",{children:["",c.toFixed(2)]})})]})]})}),n.jsx("div",{className:"invoice-payment-section",children:n.jsxs("div",{className:"invoice-payment-info",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Method:"})," ",t.payment_method==="cod"?"Cash on Delivery":"Online Payment"]}),t.payment_method==="online"&&t.payment_status&&n.jsxs("p",{children:[n.jsx("strong",{children:"Payment Status:"})," ",t.payment_status]}),t.created_at&&n.jsxs("p",{children:[n.jsx("strong",{children:"Order Date:"})," ",g(t.created_at)]})]})}),n.jsxs("div",{className:"invoice-footer",children:[n.jsx("p",{className:"invoice-footer-note",children:"This is a computer-generated invoice and does not require a signature."}),n.jsx("p",{className:"invoice-footer-thanks",children:"Thank you for your business!"}),n.jsx("p",{className:"invoice-footer-support",children:"For any queries, please contact us at support@kwikmedi.com"})]}),n.jsxs("div",{className:"invoice-actions",children:[n.jsx("button",{onClick:y,className:"invoice-btn-print",children:"Print Invoice"}),n.jsx("button",{onClick:r,className:"invoice-btn-close",children:"Close"})]})]})})})},lZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState(!0),[i,o]=F.useState(1),[d,c]=F.useState(null),[a,u]=F.useState(1),[f,h]=F.useState(0),[m,g]=F.useState({id:!0,date:!0,user:!0,vendor:!0,medicines:!0,amount:!0,status:!0,payment:!0,actions:!0}),[y,p]=F.useState({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),[b,v]=F.useState(!1),[j,C]=F.useState(!1),[T,D]=F.useState(null),[q,z]=F.useState(!1),[B,V]=F.useState({}),[X,W]=F.useState({}),P=20,M=Ie;F.useEffect(()=>{E()},[i,y]);const E=async()=>{const I=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!I){e("Please login to view orders","error"),l(!1);return}try{l(!0);const G=new URLSearchParams;G.append("page",i.toString()),G.append("limit",P.toString()),Object.entries(y).forEach(([U,J])=>{J&&G.append(U,J.toString())});const Y=await fetch(`${M}/admin/orders?${G.toString()}`,{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!Y.ok){if(Y.status===401){e("Authentication failed. Please log in again.","error");return}throw new Error(`HTTP error! status: ${Y.status}`)}const te=await Y.json();t(te.orders||[]),u(te.pagination?.total_pages||1),h(te.pagination?.total||0)}catch(G){console.error("Failed to fetch orders:",G),e(G.message||"Failed to fetch orders","error"),t([])}finally{l(!1)}},_=I=>{const Y={placed:{label:"Placed",color:"text-primary-dark",bgColor:"bg-primary/10"},pending_vendor_response:{label:"Awaiting Vendor",color:"text-yellow-700",bgColor:"bg-yellow-100"},confirmed:{label:"Confirmed",color:"text-green-700",bgColor:"bg-green-100"},packed:{label:"Packed",color:"text-purple-700",bgColor:"bg-purple-100"},out_for_delivery:{label:"Out for Delivery",color:"text-indigo-700",bgColor:"bg-indigo-100"},delivered:{label:"Delivered",color:"text-green-700",bgColor:"bg-green-100"},rejected:{label:"Rejected",color:"text-red-700",bgColor:"bg-red-100"},cancelled:{label:"Cancelled",color:"text-gray-700",bgColor:"bg-gray-100"},no_vendor_available:{label:"No Vendor",color:"text-orange-700",bgColor:"bg-orange-100"}}[I]||{label:I,color:"text-gray-700",bgColor:"bg-gray-100"};return n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.color} ${Y.bgColor}`,children:Y.label})},k=I=>n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I==="online"?"text-green-700 bg-green-100":"text-primary-dark bg-primary/10"}`,children:I==="online"?"Online":"COD"}),N=I=>I?new Date(I).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",S=I=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(I),O=I=>{c(d===I?null:I)},L=async I=>{z(!0),C(!1),D(null);try{const G=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!G){e("Please login to view invoice","error");return}const Y=await fetch(`${M}/admin/orders/${I}/invoice`,{method:"GET",headers:{Authorization:`Bearer ${G}`,"Content-Type":"application/json"}}),te=await Y.json();Y.ok&&te.invoice?(D(te.invoice),C(!0)):e(te.error?.message||"Failed to load invoice","error")}catch(G){console.error("Error fetching invoice:",G),e("Failed to load invoice","error")}finally{z(!1)}};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Monitor all medicine orders and vendor assignments"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>v(!b),className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(ly,{size:16}),"Columns"]}),n.jsxs("button",{onClick:E,disabled:s,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Dn,{size:16,className:s?"animate-spin":""}),"Refresh"]})]})]}),n.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:y.status,onChange:I=>p({...y,status:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"All Statuses"}),n.jsx("option",{value:"placed",children:"Placed"}),n.jsx("option",{value:"pending_vendor_response",children:"Awaiting Vendor"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"packed",children:"Packed"}),n.jsx("option",{value:"out_for_delivery",children:"Out for Delivery"}),n.jsx("option",{value:"delivered",children:"Delivered"}),n.jsx("option",{value:"rejected",children:"Rejected"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date From"}),n.jsx("input",{type:"date",value:y.date_from,onChange:I=>p({...y,date_from:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date To"}),n.jsx("input",{type:"date",value:y.date_to,onChange:I=>p({...y,date_to:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsx("div",{className:"flex items-end",children:n.jsx("button",{onClick:()=>p({status:"",provider_id:"",user_id:"",date_from:"",date_to:"",sort_by:"created_at",sort_order:"desc"}),className:"w-full px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-lg hover:bg-gray-200",children:"Clear Filters"})})]})}),s?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(pu,{})}):r.length===0?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-12 text-center",children:[n.jsx(Tn,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No orders found"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:Object.values(y).some(I=>I)?"Try adjusting your filters":"Orders will appear here once users place them"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[m.id&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),m.date&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),m.user&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),m.vendor&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendor"}),m.medicines&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medicines"}),m.amount&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),m.status&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),m.payment&&n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),m.actions&&n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(I=>n.jsxs(cs.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-gray-50",children:[m.id&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",I.id]}),m.date&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:N(I.created_at)}),m.user&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:I.user_name||`User #${I.user_id}`}),n.jsx("div",{className:"text-gray-500",children:I.user_phone})]})}),m.vendor&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.provider_name?n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:I.provider_name}),n.jsx("div",{className:"text-gray-500",children:I.provider_phone})]}):n.jsx("span",{className:"text-gray-400 italic",children:"Not assigned"})}),m.medicines&&n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:n.jsxs("div",{className:"max-w-xs",children:[I.items.length," item",I.items.length!==1?"s":"",I.items.length>0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[I.items[0].medicine_name,I.items.length>1&&` +${I.items.length-1} more`]})]})}),m.amount&&n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[n.jsx("div",{className:"font-medium",children:S(I.total_amount)}),I.discount>0&&n.jsxs("div",{className:"text-xs text-green-600",children:["-",S(I.discount)]})]}),m.status&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_(I.status)}),m.payment&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(I.payment_method)}),m.actions&&n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("button",{onClick:()=>O(I.id),className:"text-primary hover:text-primary-dark flex items-center gap-1 ml-auto",children:[n.jsx($o,{size:16}),d===I.id?"Hide":"View",d===I.id?n.jsx(vu,{size:16}):n.jsx(Ka,{size:16})]})})]}),d===I.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:Object.values(m).filter(G=>G).length,className:"px-6 py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Order ID"}),n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",I.id]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Status"}),n.jsx("div",{children:_(I.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Payment"}),n.jsx("div",{children:k(I.payment_method)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500",children:"Total Amount"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:S(I.total_amount)})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-1",children:"Delivery Address"}),n.jsxs("div",{className:"text-sm text-gray-900",children:[I.full_name&&n.jsx("div",{className:"font-medium",children:I.full_name}),n.jsx("div",{children:I.delivery_address}),n.jsxs("div",{children:[I.delivery_city,", ",I.delivery_state||""," - ",I.delivery_pincode]}),I.phone&&n.jsxs("div",{className:"text-gray-500 mt-1",children:["Phone: ",I.phone]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2",children:["Medicines (",I.items.length,")"]}),n.jsx("div",{className:"space-y-2",children:I.items.map(G=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.medicine_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Qty: ",G.quantity,"  ",S(G.price)]})]}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:S(G.price*G.quantity)}),n.jsx("div",{className:"ml-4",children:_(G.status)})]},G.id))})]}),I.provider_name&&n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:[n.jsx("div",{className:"text-xs font-medium text-blue-900 mb-1",children:"Assigned Vendor"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("div",{className:"font-medium",children:I.provider_name}),n.jsx("div",{children:I.provider_phone}),I.pass_on_info&&n.jsxs("div",{className:"mt-2 text-xs text-primary",children:[I.pass_on_info.pass_on_type==="partial"?"Partially":"Fully"," passed on from another vendor"]})]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),X[I.id]?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):B[I.id]&&B[I.id].length>0?n.jsxs("div",{className:"space-y-2",children:[B[I.id].map(G=>n.jsxs("div",{className:`p-3 rounded-lg border ${G.response_status==="accepted"?"bg-green-50 border-green-200":G.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.provider_name||G.provider_business_name||`Provider #${G.provider_id}`}),G.provider_phone&&n.jsx("div",{className:"text-xs text-gray-600",children:G.provider_phone})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G.response_status==="accepted"?"bg-green-100 text-green-700":G.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:G.response_status==="accepted"?" Accepted":G.response_status==="rejected"?" Rejected":" Aborted"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[G.response_status==="accepted"&&G.response_at&&n.jsxs("div",{children:["Accepted at: ",N(G.response_at)]}),G.response_status==="rejected"&&G.response_at&&n.jsxs("div",{children:["Rejected at: ",N(G.response_at)]}),G.response_status==="aborted"&&n.jsx("div",{children:G.aborted_at?`Aborted at: ${N(G.aborted_at)}`:"No response - deadline passed"}),n.jsxs("div",{className:"mt-1",children:["Notified: ",N(G.notification_sent_at)]}),G.deadline_at&&n.jsxs("div",{children:["Deadline: ",N(G.deadline_at)]})]})]},G.id)),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",B[I.id].length," | Accepted: ",B[I.id].filter(G=>G.response_status==="accepted").length," | Rejected: ",B[I.id].filter(G=>G.response_status==="rejected").length," | Aborted: ",B[I.id].filter(G=>G.response_status==="aborted").length]})]}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),n.jsx("div",{className:"flex gap-2 pt-2 border-t border-gray-200",children:n.jsxs("button",{onClick:()=>L(I.id),disabled:q,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(li,{size:16}),q?"Loading...":"View Invoice"]})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Provider Responses"}),X[I.id]?n.jsx("div",{className:"text-sm text-gray-500",children:"Loading responses..."}):B[I.id]&&B[I.id].length>0?n.jsxs("div",{className:"space-y-2",children:[B[I.id].map(G=>n.jsxs("div",{className:`p-3 rounded-lg border ${G.response_status==="accepted"?"bg-green-50 border-green-200":G.response_status==="rejected"?"bg-red-50 border-red-200":"bg-orange-50 border-orange-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:G.provider_name||G.provider_business_name||`Provider #${G.provider_id}`}),G.provider_phone&&n.jsx("div",{className:"text-xs text-gray-600",children:G.provider_phone})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${G.response_status==="accepted"?"bg-green-100 text-green-700":G.response_status==="rejected"?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"}`,children:G.response_status==="accepted"?" Accepted":G.response_status==="rejected"?" Rejected":" Aborted"})})]}),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[G.response_status==="accepted"&&G.response_at&&n.jsxs("div",{children:["Accepted at: ",N(G.response_at)]}),G.response_status==="rejected"&&G.response_at&&n.jsxs("div",{children:["Rejected at: ",N(G.response_at)]}),G.response_status==="aborted"&&n.jsx("div",{children:G.aborted_at?`Aborted at: ${N(G.aborted_at)}`:"No response - deadline passed"}),n.jsxs("div",{className:"mt-1",children:["Notified: ",N(G.notification_sent_at)]}),G.deadline_at&&n.jsxs("div",{children:["Deadline: ",N(G.deadline_at)]})]})]},G.id)),n.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Total: ",B[I.id].length," | Accepted: ",B[I.id].filter(G=>G.response_status==="accepted").length," | Rejected: ",B[I.id].filter(G=>G.response_status==="rejected").length," | Aborted: ",B[I.id].filter(G=>G.response_status==="aborted").length]})]}):n.jsx("div",{className:"text-sm text-gray-400 italic",children:"No provider responses recorded"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"Timeline"}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("div",{children:["Placed: ",N(I.created_at)]}),I.confirmed_at&&n.jsxs("div",{children:["Confirmed: ",N(I.confirmed_at)]}),I.packed_at&&n.jsxs("div",{children:["Packed: ",N(I.packed_at)]}),I.out_for_delivery_at&&n.jsxs("div",{children:["Out for Delivery: ",N(I.out_for_delivery_at)]}),I.delivered_at&&n.jsxs("div",{className:"text-green-600 font-medium",children:["Delivered: ",N(I.delivered_at)]})]})]})]})})})]},I.id))})]})})}),a>1&&n.jsxs("div",{className:"flex items-center justify-between bg-white px-4 py-3 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",i," of ",a," (",f," total orders)"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>o(I=>Math.max(1,I-1)),disabled:i===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:[n.jsx(Ul,{size:16}),"Previous"]}),n.jsxs("button",{onClick:()=>o(I=>Math.min(a,I+1)),disabled:i===a,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1",children:["Next",n.jsx(ia,{size:16})]})]})]})]}),j&&T&&n.jsx(oZ,{invoice:T,onClose:()=>{C(!1),D(null)}})]})},cZ=()=>n.jsx(Gr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Medicine Orders"}),n.jsx("p",{className:"text-gray-600",children:"Monitor and track all medicine orders from users"})]}),n.jsxs(jt,{children:[n.jsx(er,{children:n.jsx(tr,{children:"All Orders"})}),n.jsx(Nt,{children:n.jsx(lZ,{})})]})]})}),uZ=[{id:1,booking_id:101,complaint_type:"service_quality",description:"The groomer was late and didn't follow the instructions I provided for my dog's haircut.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-15T10:00:00Z",resolved_at:null,user_name:"Sarah Johnson",user_email:"sarah.johnson@example.com",user_phone:"+91 98765 43210",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Grooming",booking_date:"2025-01-14",booking_time:"14:00"},{id:2,booking_id:102,complaint_type:"provider_behavior",description:"The trainer was rude and unprofessional during the training session.",priority:"medium",status:"in_progress",admin_notes:"Contacted provider for their side of the story",created_at:"2025-01-14T15:30:00Z",resolved_at:null,user_name:"Michael Chen",user_email:"michael.chen@example.com",user_phone:"+91 98765 43211",provider_name:"Sarah Trainer",provider_email:"sarah.trainer@example.com",service_name:"Dog Training",booking_date:"2025-01-13",booking_time:"10:00"},{id:3,booking_id:103,complaint_type:"billing_dispute",description:"I was charged extra for services that were not provided.",priority:"high",status:"resolved",admin_notes:"Refund processed. Amount credited to user account.",created_at:"2025-01-12T09:20:00Z",resolved_at:"2025-01-13T11:00:00Z",user_name:"Emily Rodriguez",user_email:"emily.rodriguez@example.com",user_phone:"+91 98765 43212",provider_name:"Mike Handler",provider_email:"mike.handler@example.com",service_name:"Veterinary Care",booking_date:"2025-01-11",booking_time:"16:00"},{id:4,booking_id:104,complaint_type:"safety_concern",description:"The boarding facility didn't have proper safety measures for my pet.",priority:"high",status:"pending",admin_notes:null,created_at:"2025-01-11T14:15:00Z",resolved_at:null,user_name:"David Wilson",user_email:"david.wilson@example.com",user_phone:"+91 98765 43213",provider_name:"Lisa Coach",provider_email:"lisa.coach@example.com",service_name:"Pet Boarding",booking_date:"2025-01-10",booking_time:"09:00"},{id:5,booking_id:105,complaint_type:"other",description:"General dissatisfaction with the service quality.",priority:"low",status:"closed",admin_notes:"Issue resolved after discussion with provider.",created_at:"2025-01-08T11:00:00Z",resolved_at:"2025-01-09T15:30:00Z",user_name:"Priya Sharma",user_email:"priya.sharma@example.com",user_phone:"+91 98765 43214",provider_name:"John Trainer",provider_email:"john.trainer@example.com",service_name:"Pet Walking",booking_date:"2025-01-07",booking_time:"18:00"}],dZ={total_complaints:5,pending_complaints:2,in_progress_complaints:1,resolved_complaints:1,closed_complaints:1,high_priority_complaints:3,medium_priority_complaints:1,low_priority_complaints:1},fZ=()=>{const[e,r]=F.useState(uZ),[t,s]=F.useState(dZ),[l,i]=F.useState(!1),[o,d]=F.useState(null),[c,a]=F.useState("all"),[u,f]=F.useState("all"),[h,m]=F.useState(""),[g,y]=F.useState(!1),[p,b]=F.useState(""),[v,j]=F.useState(""),C=(B,V,X)=>{y(!0),setTimeout(()=>{r(e.map(P=>P.id===B?{...P,status:V,admin_notes:X,resolved_at:V==="resolved"||V==="closed"?new Date().toISOString():P.resolved_at}:P));const W=e.map(P=>P.id===B?{...P,status:V}:P);s({total_complaints:W.length,pending_complaints:W.filter(P=>P.status==="pending").length,in_progress_complaints:W.filter(P=>P.status==="in_progress").length,resolved_complaints:W.filter(P=>P.status==="resolved").length,closed_complaints:W.filter(P=>P.status==="closed").length,high_priority_complaints:W.filter(P=>P.priority==="high").length,medium_priority_complaints:W.filter(P=>P.priority==="medium").length,low_priority_complaints:W.filter(P=>P.priority==="low").length}),d(null),b(""),j(""),y(!1)},500)},T=B=>{switch(B){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},D=B=>{switch(B){case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"in_progress":return"bg-primary/10 text-primary-dark border-primary/20";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},q=B=>({service_quality:"Service Quality Issue",provider_behavior:"Provider Behavior",billing_dispute:"Billing Dispute",safety_concern:"Safety Concern",equipment_damage:"Equipment Damage",other:"Other"})[B]||B,z=e.filter(B=>{const V=c==="all"||B.status===c,X=u==="all"||B.priority===u,W=h===""||B.user_name.toLowerCase().includes(h.toLowerCase())||B.provider_name.toLowerCase().includes(h.toLowerCase())||B.service_name.toLowerCase().includes(h.toLowerCase())||B.description.toLowerCase().includes(h.toLowerCase());return V&&X&&W});return l?n.jsx(Gr,{children:n.jsxs("div",{className:"flex items-center justify-center h-64",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Loading complaints..."})]})}):n.jsx(Gr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Complaint Management"}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and resolve customer complaints"})]})}),t&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(jt,{className:"border-0 shadow-lg",children:n.jsx(Nt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Complaints"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.total_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Ba,{size:24,className:"text-primary"})})]})})}),n.jsx(jt,{className:"border-0 shadow-lg",children:n.jsx(Nt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),n.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:t.pending_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:n.jsx(pn,{size:24,className:"text-yellow-600"})})]})})}),n.jsx(jt,{className:"border-0 shadow-lg",children:n.jsx(Nt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),n.jsx("p",{className:"text-3xl font-bold text-primary",children:t.in_progress_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(Ex,{size:24,className:"text-primary"})})]})})}),n.jsx(jt,{className:"border-0 shadow-lg",children:n.jsx(Nt,{className:"p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Resolved"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.resolved_complaints})]}),n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(fn,{size:24,className:"text-green-600"})})]})})})]}),n.jsx(jt,{className:"border-0 shadow-lg",children:n.jsx(Nt,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Un,{size:20,className:"absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search complaints...",value:h,onChange:B=>m(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary"})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("select",{value:c,onChange:B=>a(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:u,onChange:B=>f(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"all",children:"All Priority"}),n.jsx("option",{value:"high",children:"High"}),n.jsx("option",{value:"medium",children:"Medium"}),n.jsx("option",{value:"low",children:"Low"})]})]})]})})}),n.jsx("div",{className:"space-y-4",children:z.length===0?n.jsx(jt,{className:"border-0 shadow-lg",children:n.jsxs(Nt,{className:"p-12 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(Ba,{size:48,className:"text-gray-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Complaints Found"}),n.jsx("p",{className:"text-gray-600",children:h||c!=="all"||u!=="all"?"No complaints match your filter criteria.":"No complaints have been submitted yet."})]})}):z.map(B=>n.jsx(jt,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow",children:n.jsx(Nt,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-4",children:[n.jsxs("div",{className:"mb-4 lg:mb-0",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:q(B.complaint_type)}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${T(B.priority)}`,children:B.priority.toUpperCase()}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${D(B.status)}`,children:B.status.replace("_"," ").toUpperCase()})]}),n.jsx("p",{className:"text-gray-600 mb-3",children:B.description}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Lr,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:B.user_name})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Xa,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:B.user_phone})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(mn,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:new Date(B.booking_date).toLocaleDateString()})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx($i,{size:16,className:"mr-2 text-primary"}),n.jsx("span",{children:B.service_name})]})]})]}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs(rt,{size:"sm",variant:"outline",onClick:()=>d(B),className:"border-primary/20 text-primary hover:bg-primary/5",children:[n.jsx($o,{size:16,className:"mr-2"}),"View Details"]})})]})})},B.id))}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Complaint Details"}),n.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:n.jsx(ai,{size:20,className:"text-gray-500"})})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Complaint Type"}),n.jsx("p",{className:"text-gray-900",children:q(o.complaint_type)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Priority"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${T(o.priority)}`,children:o.priority.toUpperCase()})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${D(o.status)}`,children:o.status.replace("_"," ").toUpperCase()})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.created_at).toLocaleString()})]}),o.resolved_at&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Resolved At"}),n.jsx("p",{className:"text-gray-900",children:new Date(o.resolved_at).toLocaleString()})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Description"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-gray-50 rounded-lg",children:o.description})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Customer Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Phone:"})," ",o.user_phone]})]})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-green-900 mb-3",children:"Provider Information"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Name:"})," ",o.provider_name]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Email:"})," ",o.provider_email]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"Service:"})," ",o.service_name]})]})]})]}),o.admin_notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("p",{className:"text-gray-900 mt-1 p-4 bg-yellow-50 rounded-lg",children:o.admin_notes})]}),n.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Update Status"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"New Status"}),n.jsxs("select",{value:p,onChange:B=>b(B.target.value),className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",children:[n.jsx("option",{value:"",children:"Select Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"in_progress",children:"In Progress"}),n.jsx("option",{value:"resolved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Admin Notes"}),n.jsx("textarea",{value:v,onChange:B=>j(B.target.value),placeholder:"Add notes about the resolution...",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary",rows:3})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx(rt,{onClick:()=>d(null),variant:"outline",className:"flex-1",children:"Cancel"}),n.jsx(rt,{onClick:()=>C(o.id,p,v),disabled:!p||g,className:"flex-1 bg-gradient-to-r from-primary to-primary-dark hover:from-primary-dark hover:to-primary",children:g?"Updating...":"Update Status"})]})]})]})]})]})})]})})},Fa={New:{badge:"bg-primary/10 text-primary-dark border border-primary/20",dot:"bg-primary"},Contacted:{badge:"bg-yellow-100 text-yellow-700 border border-yellow-200",dot:"bg-yellow-500"},Converted:{badge:"bg-green-100 text-green-700 border border-green-200",dot:"bg-green-500"},Lost:{badge:"bg-red-100 text-red-700 border border-red-200",dot:"bg-red-500"}},hZ=e=>{let r=[];if(e.cart_items)try{typeof e.cart_items=="string"?r=JSON.parse(e.cart_items):Array.isArray(e.cart_items)&&(r=e.cart_items)}catch(t){console.error("Error parsing cart_items:",t),r=[]}return{id:e.id,userId:e.user_id||null,ownerName:e.owner_name||e.user_full_name||"",email:e.email||e.user_email||"",phone:e.phone||e.user_phone||"",serviceInterest:e.service_interest,location:e.location||e.user_city||"",createdAt:e.created_at,status:e.status,notes:e.notes||"",assignedTrainer:e.assigned_trainer,assigned_admin_id:e.assigned_admin_id||null,assigned_admin_name:e.assigned_admin_name||null,assigned_admin_username:e.assigned_admin_username||null,scheduled_date:e.scheduled_date||null,scheduled_time:e.scheduled_time||null,cartItems:r,cartTotal:e.cart_total?parseFloat(String(e.cart_total)):null,cartSubtotal:e.cart_subtotal?parseFloat(String(e.cart_subtotal)):null,cartDiscount:e.cart_discount?parseFloat(String(e.cart_discount)):null,cartCreatedAt:e.cart_created_at||null,cartUpdatedAt:e.cart_updated_at||null,leadSource:e.lead_source||"manual",leadType:e.lead_type||"medicine",userFullName:e.user_full_name||null,userPhone:e.user_phone||null,userEmail:e.user_email||null,userCity:e.user_city||null,userState:e.user_state||null,status_history:e.status_history||[]}},mZ=({lead:e,onClose:r,onUpdate:t,showHistory:s=!1})=>{const[l,i]=F.useState(e?.status??"New"),[o,d]=F.useState(e?.scheduled_date||""),[c,a]=F.useState(e?.scheduled_time||""),[u,f]=F.useState(!1),[h,m]=F.useState("details");if(F.useEffect(()=>{e&&(i(e.status),d(e.scheduled_date||""),a(e.scheduled_time||""))},[e]),!e)return null;const g=async()=>{f(!0);try{await t(e.id,{status:l,scheduledDate:o||null,scheduledTime:c||null}),r()}catch(p){console.error("Error updating lead:",p)}finally{f(!1)}},y=e;return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] rounded-3xl bg-white shadow-2xl flex flex-col",children:[n.jsx("button",{onClick:r,className:"absolute right-4 top-4 z-10 rounded-full bg-secondary p-2 text-primary hover:bg-secondary/80 transition-colors",children:n.jsx(hr,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-primary px-8 py-6 text-white flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ao,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Manage status, assignment, and notes"})]})]})}),s&&n.jsx("div",{className:"px-8 pt-6 pb-4 border-b border-primary/20 flex-shrink-0",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsx("button",{onClick:()=>m("details"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${h==="details"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:"Details"}),n.jsx("button",{onClick:()=>m("history"),className:`px-4 py-2 text-sm font-semibold rounded-xl transition-colors ${h==="history"?"bg-primary text-white":"text-primary hover:bg-secondary"}`,children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nA,{size:16}),"Status History"]})})]})}),n.jsx("div",{className:"overflow-y-auto flex-1",children:h==="details"?n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(Lr,{className:"text-primary-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-primary-900",children:e.ownerName})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Yi,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Xa,{size:16}),n.jsx("span",{children:e.phone})]}),e.userCity&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx($i,{size:16}),n.jsxs("span",{children:[e.userCity,e.userState?`, ${e.userState}`:""]})]}),e.assigned_admin_name&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(Gs,{size:16}),n.jsxs("span",{children:["Assigned to: ",e.assigned_admin_name]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-primary-700",children:[n.jsx(kx,{size:16}),n.jsxs("span",{children:["Cart added ",e.cartCreatedAt?new Date(e.cartCreatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]})]}),e.cartItems&&e.cartItems.length>0&&n.jsxs("div",{className:"space-y-3 rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Cart Items"}),n.jsx("div",{className:"space-y-2",children:e.cartItems.map((p,b)=>n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsxs("div",{className:"flex-1 min-w-0 pr-4",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("p",{className:"text-sm font-medium text-primary-900 truncate",children:p.medicine_name||"Item"}),p.type==="lab_test"&&n.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-1.5 py-0.5 text-[10px] font-bold text-blue-700 ring-1 ring-inset ring-blue-700/10 uppercase",children:"Lab Test"})]}),(p.tat_time||p.fasting_time)&&n.jsxs("p",{className:"text-[10px] text-primary-500 mt-0.5",children:[p.tat_time&&`TAT: ${p.tat_time}`,p.tat_time&&p.fasting_time&&"  ",p.fasting_time]}),(p.pack_size_label||p.manufacturer_name)&&n.jsx("p",{className:"text-[10px] text-primary-400 mt-0.5 truncate",children:[p.pack_size_label,p.manufacturer_name].filter(Boolean).join("  ")}),n.jsxs("p",{className:"text-xs text-primary-400 mt-1",children:["Quantity: ",p.quantity||1]})]}),n.jsxs("div",{className:"text-right flex-shrink-0",children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",((p.price||0)*(p.quantity||1)).toFixed(2)]}),n.jsxs("p",{className:"text-xs text-primary-400",children:["",(p.price||0).toFixed(2)," each"]})]})]},b))}),n.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-white/90 p-3 border-t border-primary-100",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Subtotal:"}),n.jsxs("span",{className:"text-sm font-semibold text-primary-900",children:["",e.cartSubtotal?.toFixed(2)||"0.00"]})]}),e.cartDiscount&&e.cartDiscount>0&&n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-white/90 p-3",children:[n.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Discount:"}),n.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["-",e.cartDiscount.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-primary-100 p-3",children:[n.jsx("span",{className:"text-sm font-semibold text-primary-900",children:"Total:"}),n.jsxs("span",{className:"text-lg font-bold text-primary-900",children:["",e.cartTotal?.toFixed(2)||"0.00"]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500",children:"Lead Status"}),n.jsx("div",{className:"mt-3 grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost"].map(p=>n.jsxs("button",{onClick:()=>i(p),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${l===p?"border-primary-500 bg-primary-50 text-primary-700 shadow-sm":"border-primary-100 bg-white text-primary-500 hover:border-primary-200"}`,children:[n.jsx("span",{children:p}),p==="Converted"?n.jsx(Vs,{size:18}):p==="Lost"?n.jsx(Ba,{size:18}):n.jsx(X6,{size:18})]},p))})]}),n.jsxs("div",{className:"rounded-2xl border border-primary-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Schedule"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Date"}),n.jsx("input",{type:"date",value:o,onChange:p=>d(p.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-medium text-primary-600 mb-1 block",children:"Time"}),n.jsx("input",{type:"time",value:c,onChange:p=>a(p.target.value),className:"w-full rounded-xl border border-primary-200 bg-white px-3 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]})]})]})]}):n.jsxs("div",{className:"px-8 py-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Status History"}),y.status_history&&y.status_history.length>0?n.jsx("div",{className:"space-y-3",children:y.status_history.map(p=>n.jsx("div",{className:"rounded-xl border border-primary-100 bg-primary-50/40 p-4",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Fa[p.status]?.badge||Fa.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Fa[p.status]?.dot||Fa.New.dot}`}),p.status]}),n.jsx("span",{className:"text-xs text-primary-600",children:new Date(p.created_at).toLocaleString()})]}),p.notes&&n.jsx("p",{className:"text-sm text-primary-700 mt-2",children:p.notes}),p.updated_by_name&&n.jsxs("p",{className:"text-xs text-primary-500 mt-1",children:["Updated by: ",p.updated_by_name]})]})})},p.id))}):n.jsx("p",{className:"text-sm text-primary-400 text-center py-8",children:"No status history available"})]})}),n.jsxs("div",{className:"px-8 pt-6 pb-8 border-t border-primary-100 bg-white flex-shrink-0",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5 mb-6",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-primary-500 mb-3",children:"Lead Notes"}),n.jsx("p",{className:"text-sm text-primary-900 leading-relaxed",children:e.notes||"No notes available"})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:r,disabled:u,className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:g,disabled:u,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:u?n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},pZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState(null),[i,o]=F.useState(""),[d,c]=F.useState("All"),[a,u]=F.useState(!1),[f,h]=F.useState(!1),[m,g]=F.useState(!1),[y,p]=F.useState([]),[b,v]=F.useState({ownerName:"",email:"",phone:"",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""}),[j,C]=F.useState({username:"",password:"",full_name:"",email:"",phone:""}),T=(_=!1)=>{const k=localStorage.getItem("KwikMedi_token"),N={};return k&&(N.Authorization=`Bearer ${k}`),_&&(N["Content-Type"]="application/json"),N},D=async()=>{u(!0);try{const _=d!=="All"?`?status=${d}`:"",N=await(await fetch(`${Ie}/admin/leads${_}`,{headers:T()})).json();if(N.success&&Array.isArray(N.leads)){const S=N.leads.map(hZ);t(S)}else e("Failed to load leads","error")}catch(_){console.error("Error fetching leads:",_),e("Error loading leads","error")}finally{u(!1)}};F.useEffect(()=>{D()},[d]),F.useEffect(()=>{q()},[]);const q=async()=>{try{const k=await(await fetch(`${Ie}/admin/lead-admins`,{headers:T()})).json();k.success&&Array.isArray(k.admins)&&p(k.admins)}catch(_){console.error("Error fetching lead admins:",_)}},z=async()=>{if(!j.username||!j.password){e("Username and password are required","error");return}try{const _=await fetch(`${Ie}/admin/lead-admins`,{method:"POST",headers:T(!0),body:JSON.stringify(j)}),k=await _.json();_.ok&&k.success?(await q(),e("Lead admin created successfully","success"),C({username:"",password:"",full_name:"",email:"",phone:""})):e(k.error?.message||"Failed to create admin","error")}catch(_){console.error("Error creating admin:",_),e("Error creating admin","error")}},B=async(_,k)=>{if(confirm(`Delete lead manager "${k}"? They will no longer be able to log in.`))try{const N=await fetch(`${Ie}/admin/lead-admins/${_}`,{method:"DELETE",headers:T()}),S=await N.json();N.ok&&S.success?(await q(),e("Lead manager deleted. They can no longer log in.","success")):e(S.error?.message||"Failed to delete lead manager","error")}catch(N){console.error("Error deleting lead admin:",N),e("Error deleting lead manager","error")}},V=F.useMemo(()=>{const _=r.length,k=r.filter(I=>I.status==="New").length,N=r.filter(I=>I.status==="Contacted").length,S=r.filter(I=>I.status==="Converted").length;r.filter(I=>I.status==="Lost").length;const O=_===0?0:Math.round(S/_*100),L=r.filter(I=>I.leadSource==="cart").length;return[{label:"New Leads",value:k,icon:n.jsx(Ax,{className:"text-white",size:22}),gradient:"bg-primary",subtitle:"From cart"},{label:"Contacted",value:N,icon:n.jsx(G6,{className:"text-primary-500",size:22}),gradient:"bg-yellow-500",subtitle:"In follow-up"},{label:"Converted",value:S,icon:n.jsx(Vs,{className:"text-emerald-600",size:22}),gradient:"bg-green-500",subtitle:`${O}% conversion`},{label:"Total Leads",value:_,icon:n.jsx(Nx,{className:"text-primary-500",size:22}),gradient:"bg-primary",subtitle:`${L} from cart`}]},[r]),X=r.filter(_=>{const k=_.ownerName.toLowerCase().includes(i.toLowerCase())||_.email.toLowerCase().includes(i.toLowerCase())||_.phone.toLowerCase().includes(i.toLowerCase()),N=d==="All"||_.status===d;return k&&N}),W=async(_,k)=>{try{const N={};k.status&&(N.status=k.status),k.assignedTrainer!==void 0&&(N.assigned_trainer=k.assignedTrainer),k.scheduledDate!==void 0&&(N.scheduled_date=k.scheduledDate),k.scheduledTime!==void 0&&(N.scheduled_time=k.scheduledTime);const S=await fetch(`${Ie}/admin/leads/${_}`,{method:"PUT",headers:T(!0),body:JSON.stringify(N)}),O=await S.json();if(S.ok&&O.success)await D(),e("Lead updated successfully","success");else throw e(O.error?.message||"Failed to update lead","error"),new Error(O.error?.message||"Failed to update lead")}catch(N){throw console.error("Error updating lead:",N),e("Error updating lead","error"),N}},P=async()=>{try{const _=await fetch(`${Ie}/admin/leads`,{method:"POST",headers:T(!0),body:JSON.stringify({owner_name:b.ownerName,email:b.email,phone:b.phone,service_interest:b.serviceInterest,location:b.location||null,notes:b.notes||null,status:b.status,assigned_trainer:b.assignedTrainer,scheduled_date:b.scheduledDate||null,scheduled_time:b.scheduledTime||null})}),k=await _.json();_.ok&&k.success?(await D(),e("Lead created successfully","success"),h(!1),v({ownerName:"",email:"",phone:"",serviceInterest:"Training",location:"",notes:"",status:"New",assignedTrainer:null,scheduledDate:"",scheduledTime:""})):e(k.error?.message||"Failed to create lead","error")}catch(_){console.error("Error creating lead:",_),e("Error creating lead","error")}},M=async _=>{if(confirm("Are you sure you want to delete this lead?"))try{const k=await fetch(`${Ie}/admin/leads/${_}`,{method:"DELETE",headers:T()}),N=await k.json();k.ok&&N.success?(await D(),e("Lead deleted successfully","success")):e(N.error?.message||"Failed to delete lead","error")}catch(k){console.error("Error deleting lead:",k),e("Error deleting lead","error")}},E=async()=>{if(X.length===0){e("No leads to export","error");return}try{const _=new v7.Workbook,k=_.addWorksheet("Leads");k.columns=[{header:"ID",key:"id",width:10},{header:"Owner Name",key:"ownerName",width:25},{header:"Email",key:"email",width:30},{header:"Phone",key:"phone",width:15},{header:"Status",key:"status",width:15},{header:"Service Interest",key:"serviceInterest",width:20},{header:"Location",key:"location",width:20},{header:"Cart Total ()",key:"cartTotal",width:15},{header:"Created At",key:"createdAt",width:20},{header:"Last Updated",key:"updatedAt",width:20}],X.forEach(I=>{k.addRow({id:I.id,ownerName:I.ownerName,email:I.email,phone:I.phone,status:I.status,serviceInterest:I.serviceInterest||"N/A",location:I.location||"N/A",cartTotal:I.cartTotal?I.cartTotal.toFixed(2):"0.00",createdAt:I.cartCreatedAt?new Date(I.cartCreatedAt).toLocaleString():new Date(I.createdAt).toLocaleString(),updatedAt:I.cartUpdatedAt?new Date(I.cartUpdatedAt).toLocaleString():"N/A"})}),k.getRow(1).font={bold:!0},k.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE6F4FF"}};const N=await _.xlsx.writeBuffer(),S=new Blob([N],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),O=window.URL.createObjectURL(S),L=document.createElement("a");L.href=O,L.download=`Leads_Export_${new Date().toISOString().split("T")[0]}.xlsx`,L.click(),window.URL.revokeObjectURL(O),e("Leads exported successfully","success")}catch(_){console.error("Export error:",_),e("Failed to export leads","error")}};return n.jsxs(Gr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-primary px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-secondary/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"User Leads Dashboard"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-secondary/80",children:"Track inquiries from users, manage leads, and follow progress across the sales pipeline."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"button",className:"rounded-xl bg-secondary px-5 py-2 text-sm font-semibold text-primary shadow-sm hover:bg-secondary/80 transition-colors flex items-center gap-2",onClick:()=>g(!0),children:[n.jsx(Gs,{size:16}),"Manage Admins"]}),n.jsx("button",{type:"button",className:"rounded-xl bg-white px-5 py-2 text-sm font-semibold text-primary shadow-sm hover:bg-primary-50 transition-colors",onClick:E,children:"Export Leads"}),n.jsxs("button",{type:"button",className:"rounded-xl bg-primary-600 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 transition-colors flex items-center gap-2",onClick:()=>{},style:{display:"none"},children:[n.jsx(Jn,{size:16}),"New Lead"]})]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:V.map(_=>n.jsx(jt,{className:"overflow-hidden rounded-3xl border border-primary-100/60 bg-white/95 shadow-md",children:n.jsxs(Nt,{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${_.gradient} shadow-sm`,children:_.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-primary-500",children:_.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-primary-900",children:_.value}),n.jsx("p",{className:"text-xs text-primary-400",children:_.subtitle})]})]})},_.label))}),n.jsx(jt,{className:"rounded-3xl border border-primary-100/60 bg-white/95 shadow-lg",children:n.jsxs(Nt,{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-primary-100 bg-primary-50/60 px-4 py-2",children:[n.jsx(Un,{size:18,className:"text-primary-400"}),n.jsx("input",{value:i,onChange:_=>o(_.target.value),placeholder:"Search users, email, or phone...",className:"flex-1 border-none bg-transparent text-sm text-primary-900 placeholder-orange-300 outline-none"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:["All","New","Contacted","Converted","Lost"].map(_=>n.jsxs("button",{onClick:()=>c(_),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${d===_?"border-primary-500 bg-primary-50 text-primary-600 shadow-sm":"border-primary-100 bg-white text-primary-400 hover:border-primary-200"}`,children:[n.jsx(Oh,{size:14}),_==="All"?"All Leads":`${_} Leads`]},_))})]}),n.jsx("div",{className:"overflow-hidden rounded-2xl border border-primary-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-primary-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-primary-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),n.jsx("th",{className:"px-6 py-4",children:"Type"}),n.jsx("th",{className:"px-6 py-4",children:"Added Date"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:a?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(ui,{className:"w-8 h-8 animate-spin text-primary-400"})})})}):X.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-primary-400",children:"No leads found for the current filters."})}):X.map(_=>n.jsxs("tr",{className:"transition-colors hover:bg-primary-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(Lr,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-primary-900",children:_.ownerName}),n.jsx("p",{className:"text-xs text-primary-400",children:_.email}),n.jsx("p",{className:"text-xs text-primary-400",children:_.phone})]})]})}),n.jsx("td",{className:"px-6 py-4",children:_.cartItems&&_.cartItems.length>0?n.jsxs("div",{className:"space-y-1",children:[_.cartItems.slice(0,3).map((k,N)=>n.jsxs("div",{className:"text-xs text-primary-700",children:[k.medicine_name||"Item",k.quantity&&` x${k.quantity}`]},N)),_.cartItems.length>3&&n.jsxs("div",{className:"text-xs text-primary-400",children:["+",_.cartItems.length-3," more"]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"No items"})}),n.jsx("td",{className:"px-6 py-4",children:_.cartTotal!==null&&_.cartTotal!==void 0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-primary-900",children:["",_.cartTotal.toFixed(2)]}),_.cartDiscount&&_.cartDiscount>0&&n.jsxs("p",{className:"text-xs text-primary-400",children:["Discount: ",_.cartDiscount.toFixed(2)]})]}):n.jsx("span",{className:"text-sm text-primary-400",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium border uppercase tracking-wider ${_.leadType==="lab_test"?"bg-blue-50 text-blue-700 border-blue-200":_.leadType==="mixed"?"bg-purple-50 text-purple-700 border-purple-200":"bg-emerald-50 text-emerald-700 border-emerald-200"}`,children:_.leadType==="mixed"?"Mixed":_.leadType==="lab_test"?"Lab Test":"Medicine"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-primary-600",children:_.cartCreatedAt?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mn,{size:14}),n.jsx("span",{children:new Date(_.cartCreatedAt).toLocaleDateString()})]}),_.cartUpdatedAt&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-primary-400",children:[n.jsx(pn,{size:12}),n.jsxs("span",{children:["Updated: ",new Date(_.cartUpdatedAt).toLocaleDateString()]})]})]}):n.jsx("span",{className:"text-primary-300",children:new Date(_.createdAt).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"space-y-1",children:[n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${Fa[_.status]?.badge||Fa.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${Fa[_.status]?.dot||Fa.New.dot}`}),_.status]}),_.assigned_admin_name&&n.jsxs("div",{className:"text-xs text-primary-500",children:["Assigned to: ",_.assigned_admin_name]})]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsxs("button",{onClick:()=>l(_),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(ia,{size:14})]}),n.jsx("button",{onClick:()=>M(_.id),className:"inline-flex items-center gap-2 rounded-full border border-red-200 bg-white px-3 py-2 text-xs font-semibold text-red-500 shadow-sm transition-all hover:bg-red-50",children:n.jsx(Xs,{size:14})})]})})]},_.id))})]})})]})})]}),n.jsx(mZ,{lead:s,onClose:()=>l(null),onUpdate:W,showHistory:!0}),m&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:()=>g(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(hr,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Gs,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Admin Management"}),n.jsx("p",{className:"text-sm text-primary-100/90",children:"Create and manage lead admin users"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-primary-100 bg-primary-50/40 p-5",children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Create New Lead Admin"}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Username *"}),n.jsx("input",{type:"text",value:j.username,onChange:_=>C({...j,username:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Password *"}),n.jsx("input",{type:"password",value:j.password,onChange:_=>C({...j,password:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Full Name"}),n.jsx("input",{type:"text",value:j.full_name,onChange:_=>C({...j,full_name:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email"}),n.jsx("input",{type:"email",value:j.email,onChange:_=>C({...j,email:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone"}),n.jsx("input",{type:"tel",value:j.phone,onChange:_=>C({...j,phone:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsx("button",{onClick:z,disabled:!j.username||!j.password,className:"mt-4 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Admin"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Existing Lead Admins"}),n.jsx("div",{className:"space-y-2",children:y.map(_=>n.jsxs("div",{className:"rounded-xl border border-primary-100 bg-white p-4 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-primary-900",children:_.username}),_.full_name&&n.jsx("p",{className:"text-sm text-primary-600",children:_.full_name}),_.email&&n.jsx("p",{className:"text-xs text-primary-500",children:_.email})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${_.is_active?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:_.is_active?"Active":"Inactive"}),n.jsxs("button",{type:"button",onClick:()=>B(_.id,_.username),className:"inline-flex items-center gap-1.5 rounded-lg border border-red-200 bg-white px-3 py-1.5 text-xs font-semibold text-red-600 hover:bg-red-50 transition-colors",title:"Delete lead manager (they will not be able to log in again)",children:[n.jsx(Xs,{size:14}),"Delete"]})]})]},_.id))})]})]})]})}),f&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:()=>h(!1),className:"absolute right-4 top-4 rounded-full bg-primary-100 p-2 text-primary-600 hover:bg-primary-200 transition-colors",children:n.jsx(hr,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Jn,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Create New Lead"}),n.jsx("p",{className:"text-sm text-secondary/90",children:"Add a new user lead"})]})]})}),n.jsxs("div",{className:"px-8 py-6 space-y-4",children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Owner Name *"}),n.jsx("input",{type:"text",value:b.ownerName,onChange:_=>v({...b,ownerName:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Email *"}),n.jsx("input",{type:"email",value:b.email,onChange:_=>v({...b,email:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Phone *"}),n.jsx("input",{type:"tel",value:b.phone,onChange:_=>v({...b,phone:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Service Interest"}),n.jsxs("select",{value:b.serviceInterest,onChange:_=>v({...b,serviceInterest:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Vaccination"}),n.jsx("option",{children:"Healthcare"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Location"}),n.jsx("input",{type:"text",value:b.location,onChange:_=>v({...b,location:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Date"}),n.jsx("input",{type:"date",value:b.scheduledDate,onChange:_=>v({...b,scheduledDate:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Scheduled Time"}),n.jsx("input",{type:"time",value:b.scheduledTime,onChange:_=>v({...b,scheduledTime:_.target.value}),className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold text-primary-500 mb-1 block",children:"Notes"}),n.jsx("textarea",{value:b.notes,onChange:_=>v({...b,notes:_.target.value}),rows:3,className:"w-full rounded-xl border border-primary-100 bg-white px-4 py-2 text-sm text-primary-900 outline-none focus:border-primary-400"})]}),n.jsxs("div",{className:"flex gap-3 justify-end pt-4",children:[n.jsx("button",{onClick:()=>h(!1),className:"rounded-xl border border-primary-200 px-5 py-2 text-sm font-medium text-primary-500 hover:bg-primary-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:P,disabled:!b.ownerName||!b.email||!b.phone,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50",children:"Create Lead"})]})]})]})})]})},gZ=()=>{const{addToast:e}=Fr(),{user:r}=gn(),[t]=OE(),s=t.get("tab")||"overview",[l,i]=F.useState(null),[o,d]=F.useState([]),[c,a]=F.useState([]),[u,f]=F.useState([]),[h,m]=F.useState([]),[g,y]=F.useState([]),[p,b]=F.useState([]),[v,j]=F.useState(!1),[C,T]=F.useState("30d"),[D,q]=F.useState(!1),[z,B]=F.useState({full_name:"",email:"",phone_number:"",password:""}),[V,X]=F.useState(null),[W,P]=F.useState(!1),[M,E]=F.useState(!1),[_,k]=F.useState(null),[N,S]=F.useState(null),[O,L]=F.useState({reference_number:"",notes:""}),[I,G]=F.useState(!1),[Y,te]=F.useState(!1),[U,J]=F.useState(null),$=r?.role==="admin",R=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});F.useEffect(()=>{s==="overview"?K():s==="settlements"?(ee(),$&&be()):s==="payouts"?ne():s==="transactions"?ue():s==="bookings"?Fe():s==="vendors"?de():s==="staff"&&$&&be()},[s,C,$]);const K=async()=>{j(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),j(!1);return}const je=new Date;let Ce,Ue=je.toISOString().split("T")[0];switch(C){case"7d":Ce=new Date(je.setDate(je.getDate()-7)).toISOString().split("T")[0];break;case"30d":Ce=new Date(je.setDate(je.getDate()-30)).toISOString().split("T")[0];break;case"90d":Ce=new Date(je.setDate(je.getDate()-90)).toISOString().split("T")[0];break;case"1y":Ce=new Date(je.setFullYear(je.getFullYear()-1)).toISOString().split("T")[0];break;default:Ce=new Date(je.setDate(je.getDate()-30)).toISOString().split("T")[0]}const Ye=await fetch(`${Ie}/admin/finance/gmv?date_from=${Ce}&date_to=${Ue}`,{headers:R()});if(Ye.ok){const Oe=await Ye.json();i({total_gmv:Oe.total_gmv||0,period:`${Ce} to ${Ue}`})}else{const Oe=await Ye.json().catch(()=>({}));console.error("GMV fetch error:",Ye.status,Oe),e(`Failed to fetch GMV data: ${Oe.error?.message||Ye.statusText}`,"error")}}catch(ce){console.error("GMV fetch exception:",ce),e(`Failed to fetch GMV data: ${ce instanceof Error?ce.message:"Network error"}`,"error")}finally{j(!1)}},ee=async()=>{j(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),j(!1);return}const je=await fetch(`${Ie}/admin/finance/settlements/pending`,{headers:R()});if(je.ok){const Ce=await je.json();console.log("Settlements data received:",Ce),console.log("Settlements array:",Ce.settlements),Ce.settlements&&Ce.settlements.length>0&&(console.log("First settlement:",Ce.settlements[0]),console.log("Allocation data:",{allocated_to_staff_id:Ce.settlements[0].allocated_to_staff_id,allocated_staff_name:Ce.settlements[0].allocated_staff_name,allocated_staff_email:Ce.settlements[0].allocated_staff_email})),d(Ce.settlements||[])}else{const Ce=await je.json().catch(()=>({}));console.error("Settlements fetch error:",je.status,Ce),e(`Failed to fetch settlements: ${Ce.error?.message||je.statusText}`,"error")}}catch(ce){console.error("Settlements fetch exception:",ce),e(`Failed to fetch settlements: ${ce instanceof Error?ce.message:"Network error"}`,"error")}finally{j(!1)}},se=async ce=>{try{const je=await fetch(`${Ie}/admin/finance/settlements/vendor/${ce}/bank-details`,{headers:R()});if(je.ok){const Ce=await je.json();return S(Ce),Ce}else{const Ce=await je.json().catch(()=>({}));return e(`Failed to fetch bank details: ${Ce.error?.message||je.statusText}`,"error"),null}}catch(je){return console.error("Bank details fetch exception:",je),e(`Failed to fetch bank details: ${je instanceof Error?je.message:"Network error"}`,"error"),null}},ie=async ce=>{k(ce),await se(ce.provider_id)&&P(!0)},ae=()=>{P(!1),E(!0)},re=async()=>{if(_){if(!O.reference_number.trim()){e("Please enter a reference number","error");return}G(!0);try{const ce=await fetch(`${Ie}/admin/finance/settlements/process`,{method:"POST",headers:R(),body:JSON.stringify({provider_id:_.provider_id,reference_number:O.reference_number.trim(),notes:O.notes.trim()||null})});if(ce.ok){const je=await ce.json();e("Settlement processed successfully","success"),E(!1),k(null),L({reference_number:"",notes:""}),ee()}else{const je=await ce.json().catch(()=>({}));e(`Failed to process payment: ${je.error?.message||ce.statusText}`,"error")}}catch(ce){console.error("Payment processing exception:",ce),e(`Failed to process payment: ${ce instanceof Error?ce.message:"Network error"}`,"error")}finally{G(!1)}}},le=async(ce,je)=>{if(!ce.id){e("Cannot allocate: Settlement ID missing","error");return}try{const Ce=await fetch(`${Ie}/admin/finance/settlements/allocate`,{method:"POST",headers:R(),body:JSON.stringify({settlement_id:ce.id,staff_id:je})});if(Ce.ok){const Ue=await Ce.json();e(je?"Settlement allocated successfully":"Settlement unallocated successfully","success"),ee()}else{const Ue=await Ce.json().catch(()=>({}));e(`Failed to allocate settlement: ${Ue.error?.message||Ce.statusText}`,"error")}}catch(Ce){console.error("Allocation exception:",Ce),e(`Failed to allocate settlement: ${Ce instanceof Error?Ce.message:"Network error"}`,"error")}},ne=async()=>{j(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),j(!1);return}const je=await fetch(`${Ie}/admin/finance/payouts`,{headers:R()});if(je.ok){const Ce=await je.json();a(Ce.payouts||[])}else{const Ce=await je.json().catch(()=>({}));console.error("Payouts fetch error:",je.status,Ce),e(`Failed to fetch payouts: ${Ce.error?.message||je.statusText}`,"error")}}catch(ce){console.error("Payouts fetch exception:",ce),e(`Failed to fetch payouts: ${ce instanceof Error?ce.message:"Network error"}`,"error")}finally{j(!1)}},fe=ce=>{J(ce),te(!0)},ue=async()=>{j(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),j(!1);return}const je=await fetch(`${Ie}/admin/finance/transactions`,{headers:R()});if(je.ok){const Ce=await je.json();f(Ce.transactions||[])}else{const Ce=await je.json().catch(()=>({}));console.error("Transactions fetch error:",je.status,Ce),e(`Failed to fetch transactions: ${Ce.error?.message||je.statusText}`,"error")}}catch(ce){console.error("Transactions fetch exception:",ce),e(`Failed to fetch transactions: ${ce instanceof Error?ce.message:"Network error"}`,"error")}finally{j(!1)}},xe=async()=>{ee()},ge=async()=>{try{const ce=await fetch(`${Ie}/admin/finance/gst-reports?period=${C}`,{headers:R()});if(ce.ok){const je=await ce.blob(),Ce=window.URL.createObjectURL(je),Ue=document.createElement("a");Ue.href=Ce,Ue.download=`gst-report-${C}.pdf`,document.body.appendChild(Ue),Ue.click(),window.URL.revokeObjectURL(Ce),document.body.removeChild(Ue),e("GST report downloaded","success")}}catch{e("Failed to download GST report","error")}},be=async()=>{try{const ce=await fetch(`${Ie}/admin/finance-staff`,{headers:R()});if(ce.ok){const je=await ce.json();m(je.staff||[])}}catch{e("Failed to fetch financial staff","error")}},ke=async()=>{if(!z.full_name||!z.email||!z.phone_number){e("Please fill all required fields","error");return}j(!0);try{const ce=await fetch(`${Ie}/admin/finance-staff`,{method:"POST",headers:R(),body:JSON.stringify(z)});if(ce.ok)e("Financial staff created successfully","success"),be(),q(!1),B({full_name:"",email:"",phone_number:"",password:""}),X(null);else{const je=await ce.json().catch(()=>({}));e(je.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{j(!1)}},Ee=async()=>{if(!V||!z.email){e("Please fill all fields","error");return}j(!0);try{const ce=await fetch(`${Ie}/admin/finance-staff/${V.id}`,{method:"PUT",headers:R(),body:JSON.stringify({email:z.email,username:z.full_name})});if(ce.ok)e("Staff member updated successfully","success"),be(),q(!1),B({full_name:"",email:"",phone_number:"",password:""}),X(null);else{const je=await ce.json().catch(()=>({}));e(je.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{j(!1)}},ze=async ce=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted from the database.")){j(!0);try{const je=await fetch(`${Ie}/admin/finance-staff/${ce}`,{method:"DELETE",headers:R()});if(je.ok)e("Staff member removed successfully","success"),be();else{const Ce=await je.json().catch(()=>({}));e(Ce.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{j(!1)}}},Fe=async()=>{j(!0);try{if(!(localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"))){e("Authentication required. Please login again.","error"),j(!1);return}const je=await fetch(`${Ie}/admin/finance/bookings?date_range=${C}`,{headers:R()});if(je.ok){const Ue=(await je.json()).bookings||[];y(Ue),Ue.length===0&&e("No bookings found","info")}else{const Ce=await je.json().catch(()=>({}));console.error("Bookings fetch error:",je.status,Ce),e(`Failed to fetch bookings: ${Ce.error?.message||je.statusText}`,"error")}}catch(ce){console.error("Bookings fetch exception:",ce),e(`Failed to fetch bookings: ${ce instanceof Error?ce.message:"Network error"}`,"error")}finally{j(!1)}},de=async()=>{j(!0);try{const ce=await fetch(`${Ie}/admin/providers`,{headers:R()});if(ce.ok){const je=await ce.json(),Ce=je.data||je.providers||(Array.isArray(je)?je:[]);console.log("Vendors fetched:",Ce.length);const Ue=await Promise.all(Ce.map(async Ye=>{try{const Oe=await fetch(`${Ie}/admin/orders?provider_id=${Ye.id}&limit=1000`,{headers:R()});let qe=0,Qe=0,it=0;if(Oe.ok){const at=await Oe.json(),Lt=at.orders||at.data||[];console.log(`Provider ${Ye.id}: Fetched ${Lt.length} total orders`);const Ht=["confirmed","packed","out_for_delivery","delivered","shipment"],dt=Lt.filter(ye=>Ht.includes(ye.status));console.log(`Provider ${Ye.id}: Found ${dt.length} completed orders (statuses: ${Ht.join(", ")})`),Qe=dt.length,dt.forEach(ye=>{const Le=parseFloat(ye.total_amount||0);!isNaN(Le)&&Le>0&&(qe+=Le),(ye.items||[]).forEach(It=>{const gt=parseInt(It.quantity||0);!isNaN(gt)&&gt>0&&(it+=gt)})})}return{...Ye,total_revenue:qe,total_orders:Qe,total_products_sold:it}}catch(Oe){return console.error(`Error fetching sales for provider ${Ye.id}:`,Oe),{...Ye,total_revenue:0,total_orders:0,total_products_sold:0}}}));b(Ue)}else{const je=await ce.json().catch(()=>({}));console.error("Vendors fetch error:",ce.status,je),e(`Failed to fetch vendors: ${je.error?.message||ce.statusText}`,"error")}}catch(ce){console.error("Vendors fetch exception:",ce),e(`Failed to fetch vendors: ${ce instanceof Error?ce.message:"Network error"}`,"error")}finally{j(!1)}};return n.jsxs(Gr,{children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage GMV, settlements, payouts, GST reports, and financial transactions."})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("select",{value:C,onChange:ce=>T(ce.target.value),className:"px-3 py-2 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"7d",children:"Last 7 days"}),n.jsx("option",{value:"30d",children:"Last 30 days"}),n.jsx("option",{value:"90d",children:"Last 90 days"}),n.jsx("option",{value:"1y",children:"Last year"})]})})]}),v?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsxs("div",{className:"space-y-6",children:[s==="overview"&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs(jt,{children:[n.jsx(er,{children:n.jsxs(tr,{className:"flex items-center gap-2",children:[n.jsx(Fo,{className:"text-primary",size:20}),"Total GMV"]})}),n.jsxs(Nt,{children:[n.jsxs("p",{className:"text-3xl font-bold text-primary",children:["",l?.total_gmv?.toLocaleString()||"0"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Period: ",C]})]})]}),n.jsxs(jt,{children:[n.jsx(er,{children:n.jsxs(tr,{className:"flex items-center gap-2",children:[n.jsx(Dn,{className:"text-primary",size:20}),"Pending Settlements"]})}),n.jsxs(Nt,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:o.filter(ce=>ce.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Awaiting processing"})]})]}),n.jsxs(jt,{children:[n.jsx(er,{children:n.jsxs(tr,{className:"flex items-center gap-2",children:[n.jsx(Gi,{className:"text-primary",size:20}),"Pending Payouts"]})}),n.jsxs(Nt,{children:[n.jsx("p",{className:"text-3xl font-bold text-primary",children:c.filter(ce=>ce.status==="pending").length}),n.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Ready for execution"})]})]})]}),s==="settlements"&&n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between",children:[n.jsx(tr,{children:"Settlements"}),n.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),n.jsx(Nt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),$&&n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Allocated To"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:o.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:$?6:5,className:"px-4 py-8 text-center text-gray-500",children:"No pending settlements found"})}):o.map((ce,je)=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium",children:ce.provider_name}),ce.orders&&ce.orders.length>0&&n.jsxs("div",{className:"flex flex-col gap-1 mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:[ce.orders.length," order(s)"]}),ce.orders.some(Ce=>Ce.order_status==="shipment")&&n.jsxs("span",{className:"text-xs text-primary font-medium",children:[ce.orders.filter(Ce=>Ce.order_status==="shipment").length," shipped"]}),ce.orders.some(Ce=>Ce.order_status==="delivered")&&n.jsxs("span",{className:"text-xs text-green-600 font-medium",children:[ce.orders.filter(Ce=>Ce.order_status==="delivered").length," delivered"]})]})]})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",ce.settlement_amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce.status==="paid"?"bg-green-100 text-green-800":ce.status==="processing"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}`,children:ce.status})}),$&&n.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[n.jsxs("select",{value:ce.allocated_to_staff_id||"",onChange:Ce=>{const Ue=Ce.target.value?parseInt(Ce.target.value):null;le(ce,Ue)},className:"px-2 py-1 border border-primary/20 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-primary min-w-[150px]",children:[n.jsx("option",{value:"",children:"Not allocated"}),h.map(Ce=>n.jsx("option",{value:Ce.id,children:Ce.username||Ce.email},Ce.id))]}),ce.allocated_staff_email&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ce.allocated_staff_email})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ce.period_from?`${new Date(ce.period_from).toLocaleDateString()} - ${new Date(ce.period_to||ce.period_from).toLocaleDateString()}`:new Date(ce.created_at).toLocaleDateString()}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex gap-2",children:[ce.status==="pending"&&n.jsx("button",{onClick:()=>ie(ce),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"Process Payment"}),ce.orders&&ce.orders.length>0&&n.jsxs("button",{onClick:()=>{const Ce=ce.orders?.map(Ue=>{const Ye=Ue.order_status||"unknown",Oe=Ye==="shipment"?Ue.shipped_at:Ue.delivered_at,qe=Ye==="shipment"?"Shipped":"Delivered";return`Order #${Ue.order_id}: ${Ue.order_amount.toLocaleString()}
  Status: ${Ye}
  ${qe} At: ${Oe||"N/A"}
  Shipped by: ${Ue.shipping_provider_name||"N/A"}
  Settlement: ${Ue.settlement_amount.toLocaleString()}`}).join(`

`);alert(`Order Details:

${Ce}`)},className:"px-3 py-1 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors text-sm",title:"View order details",children:["View Orders (",ce.orders.length,")"]})]})})]},ce.id||`settlement-${je}`))})]})})})]}),s==="payouts"&&n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between",children:[n.jsx(tr,{children:"Payouts"}),n.jsxs("button",{onClick:ne,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),n.jsx(Nt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Processed At"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),n.jsx("tbody",{children:c.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:"No payouts found"})}):c.map(ce=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:ce.provider_name}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",ce.amount.toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce.status==="completed"?"bg-green-100 text-green-800":ce.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ce.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ce.processed_at?new Date(ce.processed_at).toLocaleDateString():ce.executed_at?new Date(ce.executed_at).toLocaleDateString():"-"}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("button",{onClick:()=>fe(ce),className:"px-3 py-1 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm",children:"View Details"})})]},ce.id))})]})})})]}),s==="gst"&&n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between",children:[n.jsx(tr,{children:"GST Reports"}),n.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Sx,{size:18}),"Download Report"]})]}),n.jsx(Nt,{children:n.jsxs("div",{className:"text-center py-12",children:[n.jsx(li,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Generate and download GST compliance reports"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Select date range and click Download Report"})]})})]}),s==="transactions"&&n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between",children:[n.jsx(tr,{children:"All Transactions"}),n.jsxs("button",{onClick:ue,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),n.jsx(Nt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Type"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Method"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Razorpay Payment ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:u.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No transactions found"})}):u.map(ce=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:"text-sm font-medium capitalize",children:ce.transaction_type?.replace("_"," ")||"N/A"})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ce.user_name||"N/A"}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",ce.final_amount?.toLocaleString()||ce.amount.toLocaleString(),ce.discount_amount&&ce.discount_amount>0&&n.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(Discount: ",ce.discount_amount.toLocaleString(),")"]})]}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 capitalize",children:ce.payment_method||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600 font-mono",children:ce.razorpay_payment_id?n.jsx("span",{className:"text-xs",children:ce.razorpay_payment_id}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce.status==="paid"?"bg-green-100 text-green-800":ce.status==="failed"?"bg-red-100 text-red-800":ce.status==="requested"?"bg-yellow-100 text-yellow-800":ce.status==="cancelled"?"bg-gray-100 text-gray-800":"bg-blue-100 text-blue-800"}`,children:ce.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(ce.created_at).toLocaleString()})]},ce.id))})]})})})]}),s==="bookings"&&n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between",children:[n.jsx(tr,{children:"All Bookings"}),n.jsxs("button",{onClick:Fe,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),n.jsx(Nt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Shipping Provider"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Settlement"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Payment Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Date"})]})}),n.jsx("tbody",{children:g.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-gray-500",children:"No bookings found"})}):g.map(ce=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsxs("td",{className:"px-4 py-3",children:["#",ce.id]}),n.jsx("td",{className:"px-4 py-3",children:ce.user_name||ce.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3",children:ce.provider_name||"Unassigned"}),n.jsx("td",{className:"px-4 py-3",children:ce.shipping_provider_name?n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium",children:ce.shipping_provider_name}),ce.shipment_status&&n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:ce.shipment_status})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsxs("td",{className:"px-4 py-3 font-medium",children:["",(ce.payment_amount||ce.total_amount||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:ce.settlement_amount>0?n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-medium text-green-600",children:["",ce.settlement_amount.toLocaleString()]}),ce.commission>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Commission: ",ce.commission.toLocaleString()]})]}):n.jsx("span",{className:"text-gray-400",children:"-"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce.payment_status==="paid"?"bg-green-100 text-green-800":ce.payment_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:ce.payment_status||"pending"})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce.status==="completed"||ce.status==="delivered"?"bg-green-100 text-green-800":ce.status==="shipment"?"bg-blue-100 text-blue-800":ce.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ce.status||"pending"}),ce.status==="shipment"&&ce.shipped_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Shipped: ",new Date(ce.shipped_at).toLocaleDateString()]}),ce.status==="delivered"&&ce.delivered_at&&n.jsxs("span",{className:"text-xs text-gray-500",children:["Delivered: ",new Date(ce.delivered_at).toLocaleDateString()]})]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(ce.created_at||ce.booking_date).toLocaleDateString()})]},ce.id))})]})})})]}),s==="vendors"&&n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between",children:[n.jsx(tr,{children:"Vendors & Sales Data"}),n.jsxs("button",{onClick:de,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),n.jsx(Nt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-primary/20",children:[n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Vendor Name"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Email"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Phone"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Orders"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Products Sold"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Total Revenue"}),n.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold",children:"Status"})]})}),n.jsx("tbody",{children:p.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No vendors found"})}):p.map(ce=>n.jsxs("tr",{className:"border-b border-primary/10 hover:bg-secondary/50",children:[n.jsx("td",{className:"px-4 py-3 font-medium",children:ce.full_name||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ce.email||"N/A"}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ce.phone_number||"N/A"}),n.jsx("td",{className:"px-4 py-3 font-medium",children:ce.total_orders||0}),n.jsx("td",{className:"px-4 py-3 font-medium",children:ce.total_products_sold||0}),n.jsxs("td",{className:"px-4 py-3 font-medium text-primary",children:["",(ce.total_revenue||0).toLocaleString()]}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ce.status==="approved"?"bg-green-100 text-green-800":ce.status==="suspended"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ce.status||"pending"})})]},ce.id))})]})})})]}),s==="staff"&&$&&n.jsxs(jt,{children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(tr,{children:"Financial Staff Management"}),n.jsxs("button",{onClick:()=>{X(null),B({full_name:"",email:"",phone_number:"",password:""}),q(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(Jn,{size:18}),"Add Staff"]})]})}),n.jsx(Nt,{children:h.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No financial staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(ce=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 min-h-[2.5rem]",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-medium truncate",title:ce.username||ce.email,children:ce.username||ce.email}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:ce.email,children:ce.email})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs ${ce.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ce.status||"active"})]}),n.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Created: ",new Date(ce.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>{X(ce),B({full_name:ce.username||"",email:ce.email,phone_number:"",password:""}),q(!0)},className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>ze(ce.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(Xs,{size:14})})]})]},ce.id))})})]})]})]}),D&&$&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(jt,{className:"w-full max-w-md mx-4",children:[n.jsx(er,{children:n.jsx(tr,{children:V?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:z.full_name,onChange:ce=>B({...z,full_name:ce.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:z.email,onChange:ce=>B({...z,email:ce.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:z.phone_number,onChange:ce=>B({...z,phone_number:ce.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!V&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:z.password||"",onChange:ce=>B({...z,password:ce.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{q(!1),B({full_name:"",email:"",phone_number:"",password:""}),X(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:V?Ee:ke,disabled:v||!z.full_name||!z.email||!z.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:v?"Saving...":V?"Update":"Create"})]})]})]})}),W&&N&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Bank Details"}),n.jsx("button",{onClick:()=>{P(!1),S(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900",children:N.full_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Holder Name"}),n.jsx("p",{className:"text-gray-900",children:N.account_holder_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Bank Name"}),n.jsx("p",{className:"text-gray-900",children:N.bank_name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Account Number"}),n.jsx("p",{className:"text-gray-900",children:N.account_number||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"IFSC Code"}),n.jsx("p",{className:"text-gray-900",children:N.ifsc_code||"N/A"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{P(!1),S(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),n.jsx("button",{onClick:ae,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Payment Complete"})]})]})]})}),M&&_&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payment Complete"}),n.jsx("button",{onClick:()=>{E(!1),k(null),L({reference_number:"",notes:""})},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reference Number ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:O.reference_number,onChange:ce=>L({...O,reference_number:ce.target.value}),placeholder:"Enter payment reference number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),n.jsx("textarea",{value:O.notes,onChange:ce=>L({...O,notes:ce.target.value}),placeholder:"Add any additional notes (optional)",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("div",{className:"mt-6 flex gap-3",children:[n.jsx("button",{onClick:()=>{E(!1),k(null),L({reference_number:"",notes:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",disabled:I,children:"Cancel"}),n.jsx("button",{onClick:re,disabled:I||!O.reference_number.trim(),className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:I?"Processing...":"Done"})]})]})]})}),Y&&U&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Payout Details"}),n.jsx("button",{onClick:()=>{te(!1),J(null)},className:"text-gray-500 hover:text-gray-700",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Vendor Name"}),n.jsx("p",{className:"text-gray-900 font-semibold",children:U.provider_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payout Amount"}),n.jsxs("p",{className:"text-gray-900 font-semibold text-lg",children:["",U.amount.toLocaleString()]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status"}),n.jsx("p",{children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U.status==="completed"?"bg-green-100 text-green-800":U.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:U.status})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Processed At"}),n.jsx("p",{className:"text-gray-900",children:U.processed_at?new Date(U.processed_at).toLocaleString():U.executed_at?new Date(U.executed_at).toLocaleString():"-"})]})]}),U.settlement_amount!==void 0&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Settlement Information"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Settlement Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",U.settlement_amount.toLocaleString()]})]}),U.commission_amount!==void 0&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Commission Amount"}),n.jsxs("p",{className:"text-gray-900",children:["",U.commission_amount.toLocaleString()]})]}),U.period_from&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Period"}),n.jsxs("p",{className:"text-gray-900",children:[new Date(U.period_from).toLocaleDateString()," - ",new Date(U.period_to||U.period_from).toLocaleDateString()]})]})]})]}),(U.reference_number||U.notes)&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Payment Details"}),n.jsxs("div",{className:"space-y-3",children:[U.reference_number&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Reference Number"}),n.jsx("p",{className:"text-gray-900",children:U.reference_number})]}),U.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Notes"}),n.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:U.notes})]}),U.transaction_id&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Transaction ID"}),n.jsx("p",{className:"text-gray-900",children:U.transaction_id})]})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Created At"}),n.jsx("p",{className:"text-gray-900",children:new Date(U.created_at).toLocaleString()})]})}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>{te(!1),J(null)},className:"w-full px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Close"})})]})]})})]})},yZ=()=>{const{addToast:e}=Fr(),{user:r}=gn(),[t,s]=F.useState([]),[l,i]=F.useState(!1),[o,d]=F.useState(""),[c,a]=F.useState(!1),[u,f]=F.useState({full_name:"",email:"",phone_number:"",password:""}),[h,m]=F.useState(null),g=r?.role==="admin",y=()=>({Authorization:`Bearer ${localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token")||""}`,"Content-Type":"application/json"});F.useEffect(()=>{p()},[]);const p=async()=>{i(!0);try{const T=await fetch(`${Ie}/admin/finance-staff`,{headers:y()});if(T.ok){const D=await T.json();s(D.staff||[])}else e("Failed to fetch financial staff","error")}catch{e("Failed to fetch financial staff","error")}finally{i(!1)}},b=async()=>{if(!u.full_name||!u.email||!u.phone_number){e("Please fill all required fields","error");return}i(!0);try{const T=await fetch(`${Ie}/admin/finance-staff`,{method:"POST",headers:y(),body:JSON.stringify(u)});if(T.ok)e("Financial staff created successfully","success"),p(),a(!1),f({full_name:"",email:"",phone_number:"",password:""}),m(null);else{const D=await T.json().catch(()=>({}));e(D.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{i(!1)}},v=async()=>{if(!h||!u.email){e("Please fill all fields","error");return}i(!0);try{const T=await fetch(`${Ie}/admin/finance-staff/${h.id}`,{method:"PUT",headers:y(),body:JSON.stringify({email:u.email,username:u.full_name,phone_number:u.phone_number})});if(T.ok)e("Staff member updated successfully","success"),p(),a(!1),f({full_name:"",email:"",phone_number:"",password:""}),m(null);else{const D=await T.json().catch(()=>({}));e(D.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{i(!1)}},j=async T=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted from the database.")){i(!0);try{const D=await fetch(`${Ie}/admin/finance-staff/${T}`,{method:"DELETE",headers:y()});if(D.ok)e("Staff member removed successfully","success"),p();else{const q=await D.json().catch(()=>({}));e(q.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{i(!1)}}},C=t.filter(T=>T.username?.toLowerCase().includes(o.toLowerCase())||T.email?.toLowerCase().includes(o.toLowerCase()));return n.jsx(Gr,{children:n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Finance Staff Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage finance staff who will handle your finance panel"})]}),g&&n.jsxs("button",{onClick:()=>{m(null),f({full_name:"",email:"",phone_number:"",password:""}),a(!0)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Jn,{size:18}),"Add Finance Staff"]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-md",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by name or email...",value:o,onChange:T=>d(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),n.jsxs("button",{onClick:p,className:"px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Total Staff: ",n.jsx("span",{className:"font-semibold text-primary",children:C.length})]})]}),l&&t.length===0?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):C.length===0?n.jsx(jt,{children:n.jsxs(Nt,{className:"py-12 text-center",children:[n.jsx(Lr,{className:"mx-auto text-gray-400 mb-4",size:48}),n.jsx("p",{className:"text-gray-500 text-lg mb-2",children:o?"No staff members found matching your search":"No financial staff members yet"}),g&&!o&&n.jsxs("button",{onClick:()=>{m(null),f({full_name:"",email:"",phone_number:"",password:""}),a(!0)},className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors inline-flex items-center gap-2",children:[n.jsx(Jn,{size:18}),"Add Your First Finance Staff"]})]})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(T=>n.jsx(jt,{className:"hover:shadow-lg transition-shadow",children:n.jsxs(Nt,{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-4 min-h-[3rem]",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[n.jsx("div",{className:"w-12 h-12 shrink-0 rounded-full bg-primary/10 flex items-center justify-center",children:n.jsx(Lr,{className:"text-primary",size:24})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-semibold text-lg truncate",title:T.username||T.email,children:T.username||T.email}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:T.email,children:T.email})]})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs font-medium ${T.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.status||"active"})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Role:"}),n.jsx("span",{className:"font-medium",children:T.role_type||"Finance Admin"})]}),n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Created:"}),n.jsx("span",{className:"font-medium",children:new Date(T.created_at).toLocaleDateString()})]})]}),g&&n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-primary/10",children:[n.jsxs("button",{onClick:()=>{m(T),f({full_name:T.username||"",email:T.email,phone_number:"",password:""}),a(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary-dark transition-colors flex items-center justify-center gap-2",children:[n.jsx(Px,{size:14}),"Edit"]}),n.jsx("button",{onClick:()=>j(T.id),className:"px-3 py-2 bg-red-500 text-white rounded-lg text-sm hover:bg-red-600 transition-colors flex items-center justify-center",children:n.jsx(Xs,{size:14})})]})]})},T.id))}),c&&g&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(jt,{className:"w-full max-w-md mx-4",children:[n.jsx(er,{children:n.jsx(tr,{children:h?"Edit Financial Staff":"Add Financial Staff"})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name *"}),n.jsx("input",{type:"text",value:u.full_name,onChange:T=>f({...u,full_name:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:u.email,onChange:T=>f({...u,email:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number *"}),n.jsx("input",{type:"tel",value:u.phone_number,onChange:T=>f({...u,phone_number:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),!h&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: FinanceStaff@123)"})]}),n.jsx("input",{type:"password",value:u.password||"",onChange:T=>f({...u,password:T.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (optional)"})]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[n.jsx("button",{onClick:()=>{a(!1),f({full_name:"",email:"",phone_number:"",password:""}),m(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:h?v:b,disabled:l||!u.full_name||!u.email||!u.phone_number,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:l?"Saving...":h?"Update":"Create"})]})]})]})})]})})},Hc=e=>{const r=typeof e=="string"?e.trim():"";if(!r)return"";if(/^https?:\/\//i.test(r))return r;let t=r.replace(/\\/g,"/");return t.startsWith("public/")?t=t.slice(7):t.startsWith("/public/")&&(t=t.slice(8)),t=t.startsWith("/")?t:`/${t}`,`${_x}${t}`},Ma=e=>{if(typeof e=="number"&&!isNaN(e))return e;const r=parseFloat(String(e??0));return isNaN(r)?0:r},ty=e=>{if(!e)return null;try{if(Array.isArray(e))return e.length>0?Hc(e[0]):null;if(typeof e=="string"&&e.startsWith("[")&&e.endsWith("]")){const r=JSON.parse(e);if(Array.isArray(r)&&r.length>0)return Hc(r[0])}if(typeof e=="string"&&e.includes(",")){const r=e.split(",").map(t=>t.trim());if(r.length>0)return Hc(r[0])}return Hc(e)}catch{return Hc(e)}},ry=()=>{const{addToast:e}=Fr(),{user:r}=gn(),t=Bn(),s=Qn(),[l,i]=F.useState([]),[o,d]=F.useState([]),[c,a]=F.useState([]),[u,f]=F.useState(!1),[h,m]=F.useState(!1),y=t.pathname.includes("/orders")?"orders":"prescriptions",p=r?.role==="admin",[b,v]=F.useState(""),[j,C]=F.useState("all"),[T,D]=F.useState(null),[q,z]=F.useState(null),[B,V]=F.useState(!1),[X,W]=F.useState(!1),[P,M]=F.useState(""),[E,_]=F.useState(!1),[k,N]=F.useState(!1),[S,O]=F.useState(!1),[L,I]=F.useState(!1),[G,Y]=F.useState(!1),[te,U]=F.useState([]),[J,$]=F.useState([]),[R,K]=F.useState(!1),[ee,se]=F.useState({}),[ie,ae]=F.useState(null),[re,le]=F.useState({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),[ne,fe]=F.useState(null),ue=F.useRef(null),xe=F.useRef(null),ge=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});F.useEffect(()=>(y==="prescriptions"?be():y==="orders"&&qe(),p&&ke(),Ee(),xe.current=window.setInterval(()=>{Ee(!0)},5e3),()=>{xe.current&&window.clearInterval(xe.current)}),[j,p,y,t.pathname]);const be=async()=>{f(!0);try{const ye=r?.role||"",Le=ye==="helping_staff"||ye==="helping_staff_admin";let Ke;Le?Ke=j==="all"?`${Ie}/admin/helping-staff/prescriptions`:`${Ie}/admin/helping-staff/prescriptions?status=${j}`:Ke=j==="all"?`${Ie}/admin/prescriptions`:`${Ie}/admin/prescriptions?status=${j}`;const It=ge();console.log("Fetching prescriptions from:",Ke),console.log("User role:",r?.role,"isHelpingStaff:",Le);const gt=await fetch(Ke,{headers:It});if(console.log("Response status:",gt.status),gt.ok){const lt=await gt.json();console.log("Fetched prescriptions:",lt),i(lt.prescriptions||[])}else if(gt.status===404)if(Le){console.log("Helping staff endpoint not found, trying admin endpoint");const lt=j==="all"?`${Ie}/admin/prescriptions`:`${Ie}/admin/prescriptions?status=${j}`,Dt=await fetch(lt,{headers:It});if(Dt.ok){const Wt=await Dt.json();i(Wt.prescriptions||[])}else i([])}else i([]);else if(gt.status===401){const lt=await gt.json().catch(()=>({}));console.error("Authentication failed:",lt),e("Authentication failed. Please log in again.","error"),i([])}else{const lt=await gt.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",gt.status,lt),e(lt.error?.message||`Failed to fetch prescriptions (${gt.status})`,"error"),i([])}}catch(ye){console.error("Error fetching prescriptions:",ye),e(ye?.message||"Failed to fetch prescriptions. Please check your connection.","error"),i([])}finally{f(!1)}},ke=async()=>{try{const ye=await fetch(`${Ie}/admin/helping-staff`,{headers:ge()});if(ye.ok){const Le=await ye.json();console.log("Fetched staff members:",Le),d(Le.staff||[])}else{const Le=await ye.json().catch(()=>({}));console.error("Failed to fetch staff members:",Le),d([])}}catch(ye){console.error("Error fetching staff members:",ye),d([])}},Ee=async(ye=!1,Le=!1)=>{try{const Ke=Le||G?`${Ie}/admin/helping-staff/notifications`:`${Ie}/admin/helping-staff/notifications?unread_only=true`,It=await fetch(Ke,{headers:ge()});if(It.ok){const Dt=((await It.json()).notifications||[]).filter((wt,zt,Kt)=>zt===Kt.findIndex(At=>At.id===wt.id)),Wt=te.filter(wt=>wt.status==="sent").length;if(!ye){const wt=Dt.filter(zt=>zt.status==="sent").length;if(wt>Wt){if(ue.current)try{ue.current.currentTime=0,await ue.current.play()}catch(Kt){console.log("Audio play failed:",Kt)}const zt=wt-Wt;e(`${zt} new notification${zt>1?"s":""}!`,"success")}}U(Dt)}}catch(Ke){console.error("Failed to fetch notifications",Ke)}},ze=async(ye,Le)=>{try{(await fetch(`${Ie}/admin/helping-staff/notifications/${ye}/read`,{method:"PUT",headers:ge()})).ok&&(U(It=>It.map(gt=>gt.id===ye?{...gt,status:"read",read_at:new Date().toISOString()}:gt)),Le&&(y!=="orders"?(s("/admin/helping-staff-panel/orders"),await qe()):c.length===0&&await qe(),setTimeout(()=>{const It=document.getElementById(`order-${Le}`);It?(It.scrollIntoView({behavior:"smooth",block:"center"}),It.classList.add("ring-4","ring-primary"),setTimeout(()=>{It.classList.remove("ring-4","ring-primary")},2e3)):setTimeout(()=>{const gt=document.getElementById(`order-${Le}`);gt&&(gt.scrollIntoView({behavior:"smooth",block:"center"}),gt.classList.add("ring-4","ring-primary"),setTimeout(()=>{gt.classList.remove("ring-4","ring-primary")},2e3))},1e3)},500)))}catch(Ke){console.error("Failed to mark notification as read",Ke),e("Failed to mark notification as read","error")}},Fe=async()=>{try{(await fetch(`${Ie}/admin/helping-staff/notifications/read-all`,{method:"PUT",headers:ge()})).ok&&(U(Le=>Le.map(Ke=>({...Ke,status:"read",read_at:Ke.read_at||new Date().toISOString()}))),e("All notifications marked as read","success"))}catch(ye){console.error("Failed to mark all notifications as read",ye),e("Failed to mark all notifications as read","error")}};F.useEffect(()=>{G&&(async()=>{try{const Le=await fetch(`${Ie}/admin/helping-staff/notifications`,{headers:ge()});if(Le.ok){const gt=((await Le.json()).notifications||[]).filter((lt,Dt,Wt)=>Dt===Wt.findIndex(wt=>wt.id===lt.id));U(gt)}}catch(Le){console.error("Failed to fetch all notifications",Le)}})()},[G]);const de=async()=>{if(!re.full_name||!re.email||!re.phone_number){e("Please fill all required fields","error");return}f(!0);try{const ye=await fetch(`${Ie}/admin/helping-staff`,{method:"POST",headers:ge(),body:JSON.stringify(re)});if(ye.ok)e("Staff member created successfully","success"),ke(),I(!1),le({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),fe(null);else{const Le=await ye.json().catch(()=>({}));e(Le.error?.message||"Failed to create staff member","error")}}catch{e("Failed to create staff member","error")}finally{f(!1)}},ce=async()=>{if(!ne||!re.full_name||!re.email||!re.phone_number){e("Please fill all fields","error");return}f(!0);try{const ye=await fetch(`${Ie}/admin/helping-staff/${ne.id}`,{method:"PUT",headers:ge(),body:JSON.stringify(re)});if(ye.ok)e("Staff member updated successfully","success"),ke(),I(!1),le({full_name:"",email:"",phone_number:"",drug_license:""}),fe(null);else{const Le=await ye.json().catch(()=>({}));e(Le.error?.message||"Failed to update staff member","error")}}catch{e("Failed to update staff member","error")}finally{f(!1)}},je=async ye=>{if(confirm("Are you sure you want to remove this staff member? They will be deleted (or deactivated if they have pending prescriptions) from the database.")){f(!0);try{const Le=await fetch(`${Ie}/admin/helping-staff/${ye}`,{method:"DELETE",headers:ge()});if(Le.ok)e("Staff member removed successfully","success"),ke();else{const Ke=await Le.json().catch(()=>({}));e(Ke.error?.message||"Failed to remove staff member","error")}}catch{e("Failed to remove staff member","error")}finally{f(!1)}}},Ce=ye=>{ye?(fe(ye),le({full_name:ye.full_name,email:ye.email,phone_number:ye.phone_number||"",drug_license:ye.drug_license||"",password:""})):(fe(null),le({full_name:"",email:"",phone_number:"",drug_license:"",password:""})),I(!0)},Ue=async(ye,Le)=>{f(!0);try{(await fetch(`${Ie}/admin/prescription/assign`,{method:"PUT",headers:ge(),body:JSON.stringify({prescription_id:ye,staff_id:Le})})).ok?(e("Prescription assigned successfully","success"),be(),O(!1),D(null)):e("Failed to assign prescription","error")}catch{e("Failed to assign prescription","error")}finally{f(!1)}},Ye=async ye=>{K(!0);try{const Le=await fetch(`${Ie}/admin/prescription/${ye}/medicine-list`,{headers:ge()});if(Le.ok){const Ke=await Le.json();$(Ke.medicines||[]),se({})}else{const Ke=await Le.json().catch(()=>({}));e(Ke.error?.message||"Failed to fetch medicine list","error")}}catch{e("Failed to fetch medicine list","error")}finally{K(!1)}},Oe=async ye=>{f(!0);try{if(Object.keys(ee).length!==J.length){e(`Please approve or reject all ${J.length} medicines`,"error"),f(!1);return}const Le=await fetch(`${Ie}/admin/prescription/${ye}/approve-medicines`,{method:"POST",headers:ge(),body:JSON.stringify({medicine_approvals:ee})});if(Le.ok)e("Prescription medicines approved and released to vendors","success"),be(),N(!1),D(null),$([]),se({});else{const Ke=await Le.json().catch(()=>({}));e(Ke.error?.message||"Failed to approve medicines","error")}}catch{e("Failed to approve medicines","error")}finally{f(!1)}},qe=async()=>{m(!0);try{const ye=await fetch(`${Ie}/admin/helping-staff/orders/pending-approval`,{headers:ge()});if(ye.ok){const Le=await ye.json();a(Le.orders||[])}else{const Le=await ye.json().catch(()=>({}));console.error("Failed to fetch pending orders:",Le),e(Le.error?.message||"Failed to fetch pending orders","error"),a([])}}catch(ye){console.error("Error fetching pending orders:",ye),e(ye?.message||"Failed to fetch pending orders","error"),a([])}finally{m(!1)}},[Qe,it]=F.useState({}),at=async ye=>{m(!0);try{const Le=await fetch(`${Ie}/admin/helping-staff/orders/${ye}/approve`,{method:"POST",headers:ge(),body:JSON.stringify({medicine_approvals:Qe})});if(Le.ok)e("Order approved successfully","success"),qe(),V(!1),z(null),it({});else{const Ke=await Le.json().catch(()=>({}));e(Ke.error?.message||"Failed to approve order","error")}}catch(Le){console.error("Error approving order:",Le),e("Failed to approve order","error")}finally{m(!1)}},Lt=async(ye,Le)=>{m(!0);try{const Ke=await fetch(`${Ie}/admin/helping-staff/orders/${ye}/reject`,{method:"POST",headers:ge(),body:JSON.stringify({reason:Le})});if(Ke.ok)e("Order rejected successfully","success"),qe(),V(!1),_(!1),z(null),M("");else{const It=await Ke.json().catch(()=>({}));e(It.error?.message||"Failed to reject order","error")}}catch(Ke){console.error("Error rejecting order:",Ke),e("Failed to reject order","error")}finally{m(!1)}},Ht=ye=>({uploaded:"bg-secondary text-primary border border-primary/20",assigned:"bg-primary/20 text-primary",digitized:"bg-secondary text-primary border border-primary/20",released_to_vendor:"bg-primary/20 text-primary",fulfilled:"bg-secondary text-primary border border-primary/20",rejected:"bg-primary/20 text-primary"})[ye]||"bg-primary/20 text-primary",dt=l.filter(ye=>ye.user_name?.toLowerCase().includes(b.toLowerCase())||ye.id.toString().includes(b));return n.jsx(Gr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helping Staff Panel"}),n.jsx("p",{className:"text-gray-600",children:"Manage prescription processing, assignment, and digitization."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>Y(!G),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2 relative",children:[n.jsx(Eo,{size:18}),"Notifications",te.filter(ye=>ye.status==="sent").length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:te.filter(ye=>ye.status==="sent").length})]}),p&&n.jsxs("button",{onClick:()=>Ce(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(Jn,{size:18}),"Add Staff"]}),n.jsxs("button",{onClick:()=>{y==="prescriptions"?be():qe()},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]})]}),G&&n.jsxs(jt,{className:"mb-6",children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{children:"Notifications"}),te.filter(ye=>ye.status==="sent").length>0&&n.jsxs("span",{className:"text-sm text-gray-500",children:[te.filter(ye=>ye.status==="sent").length," unread"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[te.filter(ye=>ye.status==="sent").length>0&&n.jsx("button",{onClick:Fe,className:"text-xs text-primary hover:text-primary-dark font-medium",children:"Mark all as read"}),n.jsx("button",{onClick:()=>Y(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(hr,{size:20})})]})]})}),n.jsx(Nt,{children:te.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No notifications"}):n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:te.map((ye,Le)=>{const Ke=ye.status==="sent";return n.jsx("div",{onClick:()=>ze(ye.id,ye.order_id),className:`p-3 rounded-lg border cursor-pointer transition-colors ${Ke?"bg-primary/5 border-primary/20 hover:bg-primary/10":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("p",{className:"font-medium text-sm",children:ye.title}),Ke&&n.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:ye.message}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(ye.created_at).toLocaleString()})]})})},`notification-${ye.id}-${ye.created_at||Le}`)})})})]}),p&&n.jsxs(jt,{className:"mb-6",children:[n.jsx(er,{children:n.jsx(tr,{children:"Staff Members"})}),n.jsx(Nt,{children:o.length===0?n.jsx("p",{className:"text-gray-500 text-center py-4",children:"No staff members found"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(ye=>n.jsxs("div",{className:"p-4 border border-primary/20 rounded-lg",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2 min-h-[2.5rem]",children:[n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-medium truncate",title:ye.full_name,children:ye.full_name}),n.jsx("p",{className:"text-sm text-gray-600 truncate",title:ye.email,children:ye.email})]}),n.jsx("span",{className:`shrink-0 px-2 py-1 rounded-full text-xs ${ye.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ye.status||"active"})]}),ye.phone_number&&n.jsx("p",{className:"text-sm text-gray-600 mb-1 truncate",title:ye.phone_number,children:ye.phone_number}),ye.pending_prescriptions_count!==void 0&&n.jsxs("p",{className:"text-xs text-primary mb-2",children:["Pending: ",ye.pending_prescriptions_count]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsx("button",{onClick:()=>Ce(ye),className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary-dark transition-colors",children:"Edit"}),n.jsx("button",{onClick:()=>je(ye.id),className:"px-3 py-1.5 bg-red-500 text-white rounded text-sm hover:bg-red-600 transition-colors",children:n.jsx(Xs,{size:14})})]})]},ye.id))})})]}),y==="prescriptions"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user name or prescription ID...",value:b,onChange:ye=>v(ye.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:j,onChange:ye=>C(ye.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),u?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:dt.map(ye=>n.jsxs(jt,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(tr,{className:"text-lg",children:["Prescription #",ye.id]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ht(ye.status)}`,children:ye.status==="digitized"?"Approved":ye.status.replace("_"," ")})]})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Lr,{size:16,className:"text-primary"}),n.jsx("span",{children:ye.user_name||`User #${ye.user_id}`})]}),ye.assigned_staff_name&&n.jsxs("div",{className:"text-sm text-gray-600",children:["Assigned to: ",ye.assigned_staff_name]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(pn,{size:14}),new Date(ye.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex gap-2 pt-2",children:[ye.status==="uploaded"&&n.jsxs("button",{onClick:()=>{D(ye),O(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Lr,{size:14}),"Assign"]}),ye.status==="assigned"&&n.jsxs("button",{onClick:()=>{D(ye),Ye(ye.id),N(!0)},className:"flex-1 px-3 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(Tn,{size:14}),"Medicine List"]}),n.jsxs("button",{onClick:()=>{D(ye),window.open(ye.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(li,{size:14}),"View"]})]})]})]},ye.id))}),dt.length===0&&!u&&n.jsx(jt,{children:n.jsxs(Nt,{className:"text-center py-12",children:[n.jsx(li,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]}),y==="orders"&&n.jsxs(n.Fragment,{children:[h?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(ye=>n.jsxs(jt,{id:`order-${ye.id}`,className:"hover:shadow-lg transition-shadow",children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(tr,{className:"text-lg",children:["Order #",ye.id]}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Pending Approval"})]})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Lr,{size:16,className:"text-primary"}),n.jsx("span",{children:ye.user_name||`User #${ye.user_id}`})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Items:"})," ",ye.items_count]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Total:"})," ",Ma(ye.total_amount).toFixed(2)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Address:"})," ",ye.delivery_address,", ",ye.delivery_city," - ",ye.delivery_pincode]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(pn,{size:14}),new Date(ye.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[n.jsxs("button",{onClick:()=>{z(ye),it({}),W(!1),V(!0)},className:"flex-1 min-w-[7rem] px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(li,{size:14}),"View Details"]}),(ye.prescription_required_count??0)===0?n.jsxs("button",{onClick:()=>{it({}),at(ye.id)},disabled:h,className:"px-3 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[n.jsx(fn,{size:14}),"Approve"]}):null,n.jsxs("button",{onClick:()=>{z(ye),M(""),_(!0)},disabled:h,className:"px-3 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors text-sm flex items-center justify-center gap-2 disabled:opacity-50",children:[n.jsx(ai,{size:14}),"Reject"]})]})]})]},ye.id))}),c.length===0&&!h&&n.jsx(jt,{children:n.jsxs(Nt,{className:"text-center py-12",children:[n.jsx(Tn,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No orders pending approval"})]})})]}),S&&T&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(jt,{className:"w-full max-w-md mx-4",children:[n.jsx(er,{children:n.jsx(tr,{children:"Assign Prescription"})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Staff Member"}),n.jsxs("select",{value:ie||"",onChange:ye=>ae(Number(ye.target.value)),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"",children:"Select staff member..."}),o.map(ye=>n.jsxs("option",{value:ye.id,children:[ye.full_name," (",ye.email,")"]},ye.id))]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{O(!1),D(null),ae(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{ie&&Ue(T.id,ie)},disabled:!ie||u,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:"Assign"})]})]})]})}),k&&T&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(jt,{className:"w-full max-w-4xl",children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(tr,{children:["Medicine List - Prescription #",T.id]}),n.jsx("button",{onClick:()=>{N(!1),D(null),$([]),se({})},className:"text-gray-500 hover:text-gray-700",children:n.jsx(hr,{size:24})})]})}),n.jsxs(Nt,{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Image"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:T.prescription_url?n.jsx("img",{src:T.prescription_url,alt:"Prescription",className:"max-w-full max-h-80 h-auto rounded-lg border border-gray-200 object-contain",onError:ye=>{const Le=ye.target;Le.style.display="none";const Ke=Le.parentElement;Ke&&(Ke.innerHTML='<p class="text-gray-500">Failed to load prescription image</p>')}}):n.jsx("p",{className:"text-gray-500",children:"Prescription image not available"})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Approve or Reject"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription image and approve or reject each medicine. Approved medicines will be sent to vendors."})}),R?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-left",children:"Manufacturer"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:J.map(ye=>{const Le=ty(ye.images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Le&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Le,alt:ye.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ke=>{Ke.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ye.medicine_name}),ye.medicine_type&&n.jsx("div",{className:"text-xs text-gray-500",children:ye.medicine_type}),!Le&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-600",children:ye.manufacturer_name||"-"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",parseFloat(ye.price||0).toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{se({...ee,[ye.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${ee[ye.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(fn,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{se({...ee,[ye.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${ee[ye.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx(ai,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},ye.id)})})]})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsx("button",{onClick:()=>{N(!1),D(null),$([]),se({})},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsxs("button",{onClick:()=>{T&&Oe(T.id)},disabled:u||Object.keys(ee).length!==J.length,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[n.jsx(fn,{size:18}),Object.keys(ee).length>0?`Approve & Send to Vendors (${Object.keys(ee).length}/${J.length})`:"Approve & Send to Vendors"]})]})]})]})}),L&&p&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(jt,{className:"w-full max-w-md mx-4",children:[n.jsx(er,{children:n.jsx(tr,{children:ne?"Edit Staff Member":"Add Staff Member"})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),n.jsx("input",{type:"text",value:re.full_name,onChange:ye=>le({...re,full_name:ye.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter full name"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),n.jsx("input",{type:"email",value:re.email,onChange:ye=>le({...re,email:ye.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),n.jsx("input",{type:"tel",value:re.phone_number,onChange:ye=>le({...re,phone_number:ye.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter phone number"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Drug License"}),n.jsx("input",{type:"text",value:re.drug_license,onChange:ye=>le({...re,drug_license:ye.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter drug license number"})]}),!ne&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Password ",n.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional - default: HelpingStaff@123)"})]}),n.jsx("input",{type:"password",value:re.password||"",onChange:ye=>le({...re,password:ye.target.value}),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter password (leave empty for default)"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'If left empty, default password "HelpingStaff@123" will be set'})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{I(!1),le({full_name:"",email:"",phone_number:"",drug_license:"",password:""}),fe(null)},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:ne?ce:de,disabled:u,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50",children:ne?"Update":"Create"})]})]})]})}),B&&q&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto",children:n.jsxs(jt,{className:"w-full max-w-4xl",children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(tr,{children:["Order #",q.id," - Prescription Verification"]}),n.jsx("button",{onClick:()=>{V(!1),z(null),it({}),W(!1)},className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:n.jsx(hr,{size:24})})]})}),n.jsxs(Nt,{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Customer Information"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Name:"})," ",q.full_name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Email:"})," ",q.email]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Phone:"})," ",q.phone]}),n.jsxs("p",{children:[n.jsx("strong",{children:"User ID:"})," ",q.user_id]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Delivery Address"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsx("p",{children:q.delivery_address}),n.jsxs("p",{children:[q.delivery_city," - ",q.delivery_pincode]})]})]})]}),q.prescription_required_items&&q.prescription_required_items.length>0&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription Required Medicines - Verify & Approve"}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:n.jsx("p",{className:"text-sm text-yellow-800",children:"Please review the prescription and approve or reject each medicine. All medicines must be verified before the order can be released to vendors."})}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),n.jsx("tbody",{children:q.prescription_required_items.map(ye=>{const Le=ty(ye.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Le&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Le,alt:ye.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ke=>{Ke.target.style.display="none"}}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ye.medicine_name}),!Le&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:Ma(ye.quantity)}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",Ma(ye.price).toFixed(2)]}),n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs("button",{onClick:()=>{it({...Qe,[ye.id]:"approved"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Qe[ye.id]==="approved"?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(fn,{size:14,className:"inline mr-1"}),"Approve"]}),n.jsxs("button",{onClick:()=>{it({...Qe,[ye.id]:"rejected"})},className:`px-3 py-1 rounded text-xs font-medium transition-colors ${Qe[ye.id]==="rejected"?"bg-red-500 text-white":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:[n.jsx(ai,{size:14,className:"inline mr-1"}),"Reject"]})]})})]},ye.id)})})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"All Order Items"}),n.jsx("div",{className:"border border-primary/20 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{className:"bg-primary/10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left",children:"Medicine"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Quantity"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Price"}),n.jsx("th",{className:"px-4 py-2 text-right",children:"Total"})]})}),n.jsxs("tbody",{children:[q.items?.map(ye=>{const Le=ty(ye.medicine_images);return n.jsxs("tr",{className:"border-t border-primary/20",children:[n.jsx("td",{className:"px-4 py-2",children:n.jsxs("div",{className:"flex items-start gap-3",children:[Le&&n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("img",{src:Le,alt:ye.medicine_name,className:"w-16 h-16 object-cover rounded border border-gray-200",onError:Ke=>{Ke.target.style.display="none"}}),ye.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded whitespace-nowrap",children:"Prescription Required"})})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("div",{className:"font-medium",children:ye.medicine_name}),!Le&&ye.prescription_required&&n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Prescription Required"})})]})]})}),n.jsx("td",{className:"px-4 py-2 text-right",children:Ma(ye.quantity)}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",Ma(ye.price).toFixed(2)]}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",(Ma(ye.price)*Ma(ye.quantity)).toFixed(2)]})]},ye.id)}),n.jsxs("tr",{className:"border-t-2 border-primary/20 font-semibold",children:[n.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Total Amount:"}),n.jsxs("td",{className:"px-4 py-2 text-right",children:["",Ma(q.total_amount).toFixed(2)]})]})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Prescription"}),n.jsx("div",{className:"border border-primary/20 rounded-lg p-4 bg-gray-50 flex justify-center items-start overflow-auto max-h-96",children:q.prescription_url&&!X?n.jsx("img",{src:q.prescription_url,alt:"Prescription",className:"max-w-full h-auto rounded-lg border border-gray-200 object-contain",onError:()=>W(!0)}):n.jsx("p",{className:"text-gray-500",children:q.prescription_url&&X?"Failed to load prescription image":"Prescription image not available"})})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-primary/20",children:[n.jsxs("button",{onClick:()=>{_(!0)},className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2",disabled:h,children:[n.jsx(ai,{size:18}),"Reject Order"]}),n.jsxs("button",{onClick:()=>{const ye=q.prescription_required_items?.length||0,Le=Object.keys(Qe).length;if(ye>0&&Le!==ye){e(`Please approve or reject all ${ye} prescription-required medicines`,"error");return}at(q.id)},className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2",disabled:h,children:[n.jsx(fn,{size:18}),q.prescription_required_items&&q.prescription_required_items.length>0?`Approve Order (${Object.keys(Qe).length}/${q.prescription_required_items.length})`:"Approve Order"]})]})]})]})}),E&&q&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:n.jsxs(jt,{className:"w-full max-w-md mx-4",children:[n.jsx(er,{children:n.jsxs(tr,{children:["Reject Order #",q.id]})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Rejection Reason"}),n.jsx("textarea",{value:P,onChange:ye=>M(ye.target.value),className:"w-full px-3 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",rows:4,placeholder:"Enter reason for rejection..."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{_(!1),M("")},className:"flex-1 px-4 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{q&&Lt(q.id,P||"Prescription verification failed")},disabled:h,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",children:"Reject Order"})]})]})]})}),n.jsx("audio",{ref:ue,preload:"auto",children:n.jsx("source",{src:"data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OSfTQ8MUKfj8LZjHAY4kdfyzHksBSR3x/DdkEAKFF606euoVRQKRp/g8r5sIQUrgc7y2Yk2CBtpvfDkn00PDFCn4/C2YxwGOJHX8sx5LAUkd8fw3ZBAC",type:"audio/wav"})})]})})},xZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState(!1),[i,o]=F.useState(""),[d,c]=F.useState("all"),a=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"});F.useEffect(()=>{u()},[d]);const u=async()=>{l(!0);try{const m=d==="all"?`${Ie}/admin/prescriptions`:`${Ie}/admin/prescriptions?status=${d}`,g=await fetch(m,{headers:a()});if(g.ok){const y=await g.json();console.log("Fetched prescriptions:",y),t(y.prescriptions||[])}else{const y=await g.json().catch(()=>({}));console.error("Failed to fetch prescriptions:",y),e(y.error?.message||"Failed to fetch prescriptions","error"),t([])}}catch(m){console.error("Error fetching prescriptions:",m),e("Failed to fetch prescriptions","error"),t([])}finally{l(!1)}},f=m=>({uploaded:"bg-yellow-100 text-yellow-800 border border-yellow-300",assigned:"bg-primary/10 text-primary-dark border border-primary/20",digitized:"bg-green-100 text-green-800 border border-green-300",released_to_vendor:"bg-purple-100 text-purple-800 border border-purple-300",fulfilled:"bg-gray-100 text-gray-800 border border-gray-300",rejected:"bg-red-100 text-red-800 border border-red-300"})[m]||"bg-gray-100 text-gray-800 border border-gray-300",h=r.filter(m=>m.user_name?.toLowerCase().includes(i.toLowerCase())||m.id.toString().includes(i)||m.assigned_staff_name?.toLowerCase().includes(i.toLowerCase())||m.assigned_staff_drug_license?.toLowerCase().includes(i.toLowerCase())||m.digitized_by_staff_name?.toLowerCase().includes(i.toLowerCase())||m.digitized_by_staff_drug_license?.toLowerCase().includes(i.toLowerCase())||m.assigned_vendor_name?.toLowerCase().includes(i.toLowerCase()));return n.jsx(Gr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"All Prescriptions"}),n.jsx("p",{className:"text-gray-600",children:"View all prescriptions with staff and vendor assignments"})]}),n.jsxs("button",{onClick:u,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by user, staff, vendor, or prescription ID...",value:i,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:d,onChange:m=>c(m.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"uploaded",children:"Uploaded"}),n.jsx("option",{value:"assigned",children:"Assigned"}),n.jsx("option",{value:"digitized",children:"Approved"}),n.jsx("option",{value:"released_to_vendor",children:"Released to Vendor"}),n.jsx("option",{value:"fulfilled",children:"Fulfilled"}),n.jsx("option",{value:"rejected",children:"Rejected"})]})]}),s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"grid grid-cols-1 gap-6",children:h.map(m=>n.jsxs(jt,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(tr,{className:"text-lg",children:["Prescription #",m.id]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f(m.status)}`,children:m.status==="digitized"?"APPROVED":m.status.replace(/_/g," ").toUpperCase()})]})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Lr,{size:16,className:"text-primary"}),n.jsx("span",{className:"font-medium",children:"User:"}),n.jsx("span",{children:m.user_name||`User #${m.user_id}`})]}),m.assigned_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(Y6,{size:16,className:"text-blue-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Staff:"}),n.jsx("span",{children:m.assigned_staff_name}),m.assigned_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",m.assigned_staff_drug_license,")"]}),m.assigned_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(m.assigned_at).toLocaleString(),")"]})]}),m.digitized_by_staff_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(fn,{size:16,className:"text-green-500"}),n.jsx("span",{className:"font-medium",children:"Approved By:"}),n.jsx("span",{children:m.digitized_by_staff_name}),m.digitized_by_staff_drug_license&&n.jsxs("span",{className:"text-gray-600 text-xs font-medium",children:["(License: ",m.digitized_by_staff_drug_license,")"]}),m.digitized_at&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",new Date(m.digitized_at).toLocaleString(),")"]})]}),m.assigned_vendor_name&&n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsx(GE,{size:16,className:"text-purple-500"}),n.jsx("span",{className:"font-medium",children:"Assigned Vendor:"}),n.jsx("span",{children:m.assigned_vendor_name}),m.assigned_vendor_email&&n.jsxs("span",{className:"text-gray-500 text-xs",children:["(",m.assigned_vendor_email,")"]})]}),m.items&&m.items.length>0&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:"Medicine Items:"}),n.jsx("div",{className:"space-y-1",children:m.items.map((g,y)=>n.jsxs("div",{className:"text-xs text-gray-600",children:[" ",g.medicine_name," - Qty: ",g.quantity,", Days: ",g.days,g.dosage&&`, Dosage: ${g.dosage}`]},y))})]}),n.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 pt-2 border-t",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(pn,{size:12}),n.jsxs("span",{children:["Created: ",new Date(m.created_at).toLocaleString()]})]})}),n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>{window.open(m.prescription_url,"_blank")},className:"px-3 py-2 border border-primary/20 text-primary rounded-lg hover:bg-secondary transition-colors text-sm flex items-center justify-center gap-2",children:[n.jsx(li,{size:14}),"View Image"]})})]})]},m.id))}),h.length===0&&!s&&n.jsx(jt,{children:n.jsxs(Nt,{className:"text-center py-12",children:[n.jsx(li,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No prescriptions found"})]})})]})})},vZ=({transaction:e,expandedTransaction:r,onToggleDetails:t,formatDate:s,formatCurrency:l})=>{const i=d=>{switch(d){case"completed":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},o=d=>{switch(d){case"card":return n.jsx(Gi,{size:16,className:"text-gray-500"});case"upi":return n.jsx(bA,{size:16,className:"text-gray-500"});case"net_banking":return n.jsx(WE,{size:16,className:"text-gray-500"});default:return null}};return n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.transaction_id}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Booking: ",e.booking_id]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:e.provider_business_name}),n.jsxs("div",{className:"text-sm text-gray-500",children:[e.user_name,"  ",e.provider_name]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"font-medium text-gray-900",children:l(e.amount)}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Platform: ",l(e.platform_fee)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),e.failure_reason&&n.jsx("div",{className:"text-xs text-red-500 mt-1",children:e.failure_reason})]}),n.jsxs("td",{className:"py-4",children:[n.jsx("div",{className:"text-sm text-gray-600",children:s(e.created_at)}),e.completed_at&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Completed: ",s(e.completed_at)]})]}),n.jsxs("td",{className:"py-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[o(e.payment_method),n.jsx("span",{className:"text-sm text-gray-600",children:e.payment_method.split("_").map(d=>d.charAt(0).toUpperCase()+d.slice(1)).join(" ")})]}),n.jsxs("div",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsx("td",{className:"py-4",children:n.jsxs(rt,{onClick:()=>t(e.id),className:"flex items-center space-x-1 bg-primary hover:bg-primary-dark text-white",children:[n.jsx($o,{size:14}),n.jsx("span",{children:"Details"}),r===e.id?n.jsx(vu,{size:14}):n.jsx(Ka,{size:14})]})})]})},bZ=({transaction:e,formatDate:r,formatCurrency:t})=>n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-4 bg-gray-50",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary/5 to-primary/10 rounded-lg p-4 border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3",children:n.jsx(Gi,{size:18,className:"text-white"})}),n.jsx("h4",{className:"text-lg font-semibold text-blue-900",children:"Transaction Overview"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs font-bold",children:"#"})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Transaction ID"})]}),n.jsx("p",{className:"text-sm font-mono text-gray-800 bg-gray-50 px-2 py-1 rounded",children:e.transaction_id||`TXN-${e.id}`})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Amount"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:t(e.amount)})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-primary/20",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-orange-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Status"})]}),n.jsx("p",{className:"text-lg font-semibold text-gray-900",children:e.status})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-lg p-4 border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-emerald-900",children:"Payment Details"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-primary text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Payment Method"})]}),n.jsx("p",{className:"text-sm text-gray-800",children:e.payment_method}),n.jsxs("p",{className:"text-xs text-gray-500",children:["via ",e.payment_gateway]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-emerald-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-green-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Fees"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("p",{className:"text-sm text-gray-800",children:["Platform: ",t(e.platform_fee||0)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Gateway: ",t(e.gateway_fee||0)]}),n.jsxs("p",{className:"text-sm text-gray-800",children:["Provider: ",t(e.provider_amount||0)]})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-purple-900",children:"User & Provider"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-purple-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"User"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.user.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.email}),n.jsx("p",{className:"text-sm text-gray-600",children:e.user.phone})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-purple-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-pink-600 text-xs",children:""})}),n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Provider"})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.provider.name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.business_name}),n.jsx("p",{className:"text-sm text-gray-600",children:e.provider.email})]})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-4 border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-orange-900",children:"Booking Details"})]}),n.jsx("div",{className:"bg-white rounded-lg p-3 shadow-sm border border-orange-100",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Date"}),n.jsx("p",{className:"text-sm text-gray-900",children:r(e.booking.date)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Time"}),n.jsx("p",{className:"text-sm text-gray-900",children:e.booking.time})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-sm text-gray-900",children:t(e.booking.amount)})]})]})})]}),e.refunds&&e.refunds.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-rose-50 rounded-lg p-4 border border-red-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-red-900",children:"Refunds"})]}),n.jsxs("div",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.refunds.length," Refund",e.refunds.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-red-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-red-50 border-b border-red-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Refund ID"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Reason"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Status"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-red-900",children:"Processed At"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.refunds.map(s=>n.jsxs("tr",{className:"hover:bg-red-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.refund_id})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(s.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:s.reason})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(s.processed_at)})})]},s.id))})]})})})]}),e.wallet_transactions&&e.wallet_transactions.length>0&&n.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-lg p-4 border border-cyan-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-8 h-8 bg-cyan-500 rounded-lg flex items-center justify-center mr-3",children:n.jsx("span",{className:"text-white text-sm",children:""})}),n.jsx("h4",{className:"text-lg font-semibold text-cyan-900",children:"Wallet Transactions"})]}),n.jsxs("div",{className:"bg-cyan-100 text-cyan-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.wallet_transactions.length," Transaction",e.wallet_transactions.length!==1?"s":""]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-cyan-100 overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-cyan-50 border-b border-cyan-100",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Amount"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Type"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Category"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Description"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Balance After"}),n.jsx("th",{className:"text-left py-3 px-4 font-semibold text-cyan-900",children:"Date"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-100",children:e.wallet_transactions.map(s=>n.jsxs("tr",{className:"hover:bg-cyan-50 transition-colors",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:`text-sm font-medium ${s.type==="credit"?"text-green-600":"text-red-600"}`,children:t(s.amount)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.type==="credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.type})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:s.category})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:s.description})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:t(s.balance_after)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("p",{className:"text-sm text-gray-900",children:r(s.created_at)})})]},s.id))})]})})})]})]})})}),wZ=({searchTerm:e,onSearchChange:r})=>n.jsxs("div",{className:"relative w-64",children:[n.jsx(Un,{className:"absolute left-2 top-2.5 h-4 w-4 text-gray-500"}),n.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-8 pr-4 py-2 w-full rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/20",value:e,onChange:t=>r(t.target.value)})]}),_Z=({currentPage:e,totalPages:r,startIndex:t,itemsPerPage:s,totalItems:l,onPageChange:i})=>n.jsxs("div",{className:"flex items-center justify-between mt-4",children:[n.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",t+1," to ",Math.min(t+s,l)," of ",l," transactions"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rt,{onClick:()=>i(Math.max(e-1,1)),disabled:e===1,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(Ul,{size:16})}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",e," of ",r]}),n.jsx(rt,{onClick:()=>i(Math.min(e+1,r)),disabled:e===r,className:"flex items-center justify-center p-2 border border-gray-200 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(ia,{size:16})})]})]}),jZ=({isOpen:e,onClose:r,onSubmit:t,transaction:s,isSubmitting:l,formatCurrency:i})=>{const[o,d]=cs.useState({amount:s.amount,reason:"",reason_description:""}),c=a=>{a.preventDefault(),t(o)};return e?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Process Refund"}),n.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:20})})]}),n.jsxs("form",{onSubmit:c,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction Amount"}),n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:i(s.amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refund Amount *"}),n.jsx("input",{type:"number",required:!0,min:"0",max:s.amount,step:"0.01",value:o.amount,onChange:a=>d({...o,amount:parseFloat(a.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),n.jsxs("select",{required:!0,value:o.reason,onChange:a=>d({...o,reason:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",children:[n.jsx("option",{value:"",children:"Select a reason"}),n.jsx("option",{value:"customer_request",children:"Customer Request"}),n.jsx("option",{value:"service_not_provided",children:"Service Not Provided"}),n.jsx("option",{value:"quality_issues",children:"Quality Issues"}),n.jsx("option",{value:"duplicate_payment",children:"Duplicate Payment"}),n.jsx("option",{value:"other",children:"Other"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason Description *"}),n.jsx("textarea",{required:!0,value:o.reason_description,onChange:a=>d({...o,reason_description:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/20",rows:3,placeholder:"Provide additional details about the refund reason..."})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[n.jsx(rt,{type:"button",onClick:r,className:"bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"}),n.jsx(rt,{type:"submit",disabled:l,className:"bg-red-600 hover:bg-red-700 text-white",children:l?"Processing...":"Process Refund"})]})]})]})}):null},NZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState(!0),[i,o]=F.useState(""),[d,c]=F.useState(1),[a,u]=F.useState(null),[f,h]=F.useState(null),[m,g]=F.useState(!1),[y,p]=F.useState(!1),[b,v]=F.useState(null),[j,C]=F.useState(null),[T,D]=F.useState(1),[q,z]=F.useState(0),[B,V]=F.useState({status:"",payment_status:"",user_id:"",provider_id:"",booking_id:""}),X=10;F.useEffect(()=>{W()},[d,B]);const W=async()=>{const O=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!O){e("Please login to view transactions","error"),l(!1);return}try{l(!0);const L=new URLSearchParams;L.append("page",d.toString()),L.append("limit",X.toString()),i&&L.append("search",i),Object.entries(B).forEach(([te,U])=>{U&&L.append(te,U.toString())});const I=await fetch(`${Ie}/admin/transactions?${L.toString()}`,{headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"}});if(!I.ok){if(I.status===401){e("Authentication failed. Please log in again.","error");return}if(I.status===404){console.warn("Transactions endpoint not found. Backend may not be implemented yet."),t([]),D(1),z(0),l(!1);return}throw new Error(`HTTP error! status: ${I.status}`)}const G=await I.json(),Y=G.data||G.transactions||[];Array.isArray(Y)?(t(Y),D(G.pagination?.total_pages||Math.ceil(Y.length/X)||1),z(G.pagination?.total||Y.length||0)):(t([]),D(1),z(0))}catch(L){console.error("Error fetching transactions:",L),e("Failed to fetch transactions. The backend endpoint may not be implemented yet.","error"),t([]),D(1),z(0)}finally{l(!1)}},P=async O=>{const L=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(!L)return e("Please login to view transaction details","error"),null;try{const I=await fetch(`${Ie}/admin/transactions/${O}`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(!I.ok){if(I.status===404)return e("Transaction details not found","error"),null;throw new Error(`HTTP error! status: ${I.status}`)}const G=await I.json(),Y=G.transaction||G.data;return Y?{id:Y.id||0,transaction_id:Y.transaction_id||Y.razorpay_payment_id||Y.payment_order_id||`TXN-${Y.id||0}`,user_id:Y.user_id||0,provider_id:Y.provider_id||0,booking_id:Y.booking_id||0,amount:parseFloat(String(Y.amount||Y.final_amount||0)),platform_fee:(()=>{const U=parseFloat(String(Y.final_amount||Y.amount||0));return parseFloat(String(Y.platform_fee||U*.1||0))})(),gateway_fee:parseFloat(String(Y.gateway_fee||0)),provider_amount:(()=>{const U=parseFloat(String(Y.final_amount||Y.amount||0)),J=parseFloat(String(Y.platform_fee||U*.1||0)),$=parseFloat(String(Y.gateway_fee||0));return parseFloat(String(Y.provider_amount||U-J-$||0))})(),currency:Y.currency||"INR",payment_method:Y.payment_method||"online",payment_gateway:Y.payment_gateway||"Razorpay",gateway_transaction_id:Y.gateway_transaction_id||Y.razorpay_payment_id||Y.payment_order_id||"",status:Y.status||"pending",payment_status:Y.payment_status||Y.status||"pending",description:Y.description||Y.notes||"",metadata:Y.metadata||{},created_at:Y.created_at||"",completed_at:Y.completed_at||Y.updated_at||"",user:{name:Y.user?.name||Y.user?.full_name||"Unknown User",email:Y.user?.email||"",phone:Y.user?.phone||Y.user?.phone_number||""},provider:{name:Y.provider?.name||Y.provider?.full_name||"Unassigned",business_name:Y.provider?.business_name||"",email:Y.provider?.email||""},booking:{date:Y.booking?.date||Y.created_at||"",time:Y.booking?.time||"",amount:parseFloat(Y.booking?.amount||Y.final_amount||Y.amount||0)},refunds:Y.refunds||[],wallet_transactions:Y.wallet_transactions||[]}:null}catch(I){return console.error("Error fetching transaction details:",I),e("Failed to fetch transaction details","error"),null}},M=async O=>{if(a===O)u(null),h(null),C(null);else{u(O),v(O),C(null),h(null);const L=await P(O);if(L)h(L),C(null);else{C(O);const I=r.find(G=>G.id===O);if(I){const G=I.amount||0,Y=I.platform_fee||G*.1,te=I.gateway_fee||0,U=I.provider_amount||G-Y-te,J={id:I.id,transaction_id:I.transaction_id||`TXN-${I.id}`,user_id:0,provider_id:0,booking_id:I.booking_id,amount:G,platform_fee:Y,gateway_fee:te,provider_amount:U,currency:"INR",payment_method:I.payment_method||"online",payment_gateway:I.payment_gateway||"Razorpay",gateway_transaction_id:"",status:I.status,payment_status:I.payment_status,description:"",metadata:{},created_at:I.created_at,completed_at:I.completed_at||"",user:{name:I.user_name||"Unknown User",email:I.user_email||"",phone:""},provider:{name:I.provider_name||"Unassigned",business_name:I.provider_business_name||"",email:""},booking:{date:I.created_at,time:"",amount:G},refunds:[],wallet_transactions:[]};h(J)}}v(null)}},E=async O=>{if(!f)return;p(!0);const L=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");try{const I=await fetch(`${Ie}/admin/transactions/${f.id}/refund`,{method:"POST",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify(O)});if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const G=await I.json();e(G.message||"Refund processed successfully","success"),g(!1),h(null),W()}catch(I){console.error("Error processing refund:",I),e("Failed to process refund","error")}finally{p(!1)}},_=O=>{if(!O)return"N/A";try{return new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return O}},k=O=>{const L=typeof O=="number"&&!isNaN(O)?O:0;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(L)},N=(O,L)=>{V(I=>({...I,[O]:L})),c(1)},S=r.filter(O=>{if(!i)return!0;const L=i.toLowerCase();return O.transaction_id.toLowerCase().includes(L)||O.user_name.toLowerCase().includes(L)||O.provider_name.toLowerCase().includes(L)||O.booking_id.toString().includes(L)});return n.jsx(Gr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),n.jsx("p",{className:"text-gray-600",children:"Track and manage all payment transactions"})]}),n.jsxs(jt,{children:[n.jsxs(er,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(tr,{children:"All Transactions"}),n.jsx("div",{className:"flex items-center space-x-4",children:n.jsx(wZ,{searchTerm:i,onSearchChange:o})})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-4",children:[n.jsxs("select",{value:B.status,onChange:O=>N("status",O.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("select",{value:B.payment_status,onChange:O=>N("payment_status",O.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"All Payment Status"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"failed",children:"Failed"})]})]})]}),n.jsx(Nt,{children:s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):S.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("p",{className:"text-gray-500 text-lg",children:r.length===0?"No transactions found.":"No transactions match your search criteria."}),r.length===0&&n.jsx("p",{className:"text-gray-400 text-sm mt-2"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b bg-gray-50",children:[n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Transaction ID"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"User / Provider"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Amount"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Status"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Date"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Payment Method"}),n.jsx("th",{className:"py-3 px-4 text-left text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{children:S.map(O=>n.jsxs(cs.Fragment,{children:[n.jsx(vZ,{transaction:O,expandedTransaction:a,onToggleDetails:M,formatDate:_,formatCurrency:k}),a===O.id&&n.jsx(n.Fragment,{children:b===O.id?n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),n.jsx("span",{className:"text-gray-600",children:"Loading transaction details..."})]})})}):f?n.jsxs(n.Fragment,{children:[j===O.id&&n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-2 bg-yellow-50 border-b",children:n.jsxs("div",{className:"flex items-center justify-center text-yellow-700 text-sm",children:[n.jsx("span",{className:"mr-2",children:""}),n.jsx("span",{children:"Could not fetch full details from API. Showing basic transaction information."})]})})}),n.jsx(bZ,{transaction:f,formatDate:_,formatCurrency:k})]}):n.jsx("tr",{children:n.jsx("td",{colSpan:7,className:"py-8 bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-center text-red-600",children:[n.jsx("span",{className:"mr-2",children:""}),n.jsx("span",{children:"Failed to load transaction details. Please try again."})]})})})})]},O.id))})]})}),n.jsx(_Z,{currentPage:d,totalPages:T,startIndex:(d-1)*X,itemsPerPage:X,totalItems:q,onPageChange:c})]})})]}),m&&f&&n.jsx(jZ,{isOpen:m,transaction:f,onClose:()=>g(!1),onSubmit:E,isSubmitting:y,formatCurrency:k})]})})},Ia=({label:e,error:r,fullWidth:t=!1,className:s="",id:l,...i})=>{const o=l||`input-${Math.random().toString(36).substring(2,9)}`;return n.jsxs("div",{className:`${t?"w-full":""} mb-4`,children:[e&&n.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),n.jsx("input",{id:o,className:`px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary ${r?"border-error":""} ${t?"w-full":""} ${s}`,...i}),r&&n.jsx("p",{className:"mt-1 text-sm text-error",children:r})]})},kZ=({open:e,onClose:r,children:t})=>e?n.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:n.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-25 transition-opacity",onClick:r}),n.jsx("div",{className:"relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6",children:t})]})}):null,SZ=({children:e})=>n.jsx("div",{className:"mt-3 text-center sm:mt-5",children:e}),CZ=({children:e})=>n.jsx("div",{className:"mb-4",children:e}),EZ=({children:e})=>n.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:e}),ny=()=>{const{addToast:e}=Fr(),r=Bn(),[t,s]=F.useState([]),[l,i]=F.useState(!1),[o,d]=F.useState(""),[c,a]=F.useState(!1),[u,f]=F.useState("add"),[h,m]=F.useState(null),[g,y]=F.useState(!1),b=(()=>{const _=r.pathname;return _.includes("/medicine")?"medicine":_.includes("/lab-test")?"lab-test":"all"})(),[v,j]=F.useState({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:"",coupon_category:b==="medicine"?"medicine":b==="lab-test"?"lab_test":""}),[C,T]=F.useState({}),D=async()=>{i(!0);try{const _=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token"),k=await fetch(`${Ie}/admin/coupons`,{method:"GET",headers:{"Content-Type":"application/json",..._?{Authorization:`Bearer ${_}`}:{}}}),N=await k.json();if(k.ok&&N.coupons&&Array.isArray(N.coupons)){let S=N.coupons;b==="medicine"?S=N.coupons.filter(O=>!O.coupon_category||O.coupon_category==="medicine"):b==="lab-test"&&(S=N.coupons.filter(O=>!O.coupon_category||O.coupon_category==="lab_test")),s(S)}else throw new Error(N.message||N.error?.message||"Failed to fetch coupons")}catch(_){console.error("Error fetching coupons:",_);const k=_ instanceof Error?_.message:"Failed to fetch coupons";e(k,"error")}finally{i(!1)}};F.useEffect(()=>{D()},[b]);const q=()=>{f("add"),m(null),j({coupon_name:"",coupon_title:"",discount_type:"percentage",discount_percentage:0,total_coupons:1,is_active:!0,is_featured:!1,is_one_time:!1,valid_from:"",valid_until:"",min_order_amount:"",max_order_amount:"",coupon_category:b==="medicine"?"medicine":b==="lab-test"?"lab_test":""}),T({}),a(!0)},z=_=>{f("edit"),m(_),j({coupon_name:_.coupon_name,coupon_title:_.coupon_title,discount_type:"percentage",discount_percentage:_.discount_percentage||0,total_coupons:_.total_coupons,is_active:_.is_active,is_featured:_.is_featured,is_one_time:_.is_one_time||!1,valid_from:_.valid_from?_.valid_from.split("T")[0]:"",valid_until:_.valid_until?_.valid_until.split("T")[0]:"",min_order_amount:_.min_order_amount||"",max_order_amount:_.max_order_amount||"",coupon_category:_.coupon_category||""}),T({}),a(!0)},B=()=>{const _={};return v.coupon_name.trim()?v.coupon_name.trim().length<3&&(_.coupon_name="Coupon code must be at least 3 characters"):_.coupon_name="Coupon code is required",v.coupon_title.trim()||(_.coupon_title="Coupon title is required"),v.coupon_category||(_.coupon_category="Coupon category is required"),(v.discount_percentage<=0||v.discount_percentage>100)&&(_.discount_percentage="Discount percentage must be between 1 and 100"),(!v.min_order_amount||Number(v.min_order_amount)<=0)&&(_.min_order_amount="Minimum order amount is required and must be greater than 0"),v.max_order_amount&&Number(v.max_order_amount)<=0&&(_.max_order_amount="Maximum order amount must be greater than 0"),v.min_order_amount&&v.max_order_amount&&Number(v.min_order_amount)>=Number(v.max_order_amount)&&(_.max_order_amount="Max order amount must be greater than min order amount"),v.total_coupons<=0&&(_.total_coupons="Total coupons must be greater than 0"),v.valid_from&&v.valid_until&&new Date(v.valid_from)>new Date(v.valid_until)&&(_.valid_until="Valid until date must be after valid from date"),T(_),Object.keys(_).length===0},V=async _=>{if(_.preventDefault(),!!B()){y(!0);try{const k=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!k){e("Please login to save coupon","error"),y(!1);return}const N={coupon_name:v.coupon_name.trim().toUpperCase(),coupon_title:v.coupon_title.trim(),discount_type:"percentage",discount_percentage:v.discount_percentage,total_coupons:v.total_coupons,is_active:v.is_active,is_featured:v.is_featured,is_one_time:v.is_one_time,min_order_amount:Number(v.min_order_amount),max_order_amount:v.max_order_amount?Number(v.max_order_amount):null,coupon_category:v.coupon_category||null};v.valid_from&&(N.valid_from=`${v.valid_from}T00:00:00Z`),v.valid_until&&(N.valid_until=`${v.valid_until}T23:59:59Z`);const S=u==="add"?`${Ie}/admin/coupons`:`${Ie}/admin/coupons/${h?.id}`,O=await fetch(S,{method:u==="add"?"POST":"PUT",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify(N)}),L=await O.json();if(O.ok)await D(),e(`Coupon ${u==="add"?"created":"updated"} successfully`,"success"),a(!1);else{const I=L.error?.message||L.message||`Failed to ${u==="add"?"create":"update"} coupon`;throw new Error(I)}}catch(k){console.error(`Error ${u==="add"?"creating":"updating"} coupon:`,k);const N=k instanceof Error?k.message:`Failed to ${u==="add"?"create":"update"} coupon`;e(N,"error")}finally{y(!1)}}},X=async _=>{if(confirm(`Are you sure you want to delete coupon "${_.coupon_name}"?`)){y(!0);try{const k=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!k){e("Please login to delete coupon","error"),y(!1);return}const N=await fetch(`${Ie}/admin/coupons/${_.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}}),S=await N.json();if(N.ok)s(O=>O.filter(L=>L.id!==_.id)),e("Coupon deleted successfully","success");else throw new Error(S.error?.message||S.message||"Failed to delete coupon")}catch(k){console.error("Error deleting coupon:",k);const N=k instanceof Error?k.message:"Failed to delete coupon";e(N,"error")}finally{y(!1)}}},W=async _=>{try{const k=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!k){e("Please login to update coupon","error");return}const N=await fetch(`${Ie}/admin/coupons/${_.id}/toggle-active`,{method:"PUT",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}}),S=await N.json();if(N.ok)await D(),e(`Coupon ${_.is_active?"deactivated":"activated"} successfully`,"success");else throw new Error(S.error?.message||S.message||"Failed to update coupon")}catch(k){console.error("Error toggling coupon active status:",k);const N=k instanceof Error?k.message:"Failed to update coupon";e(N,"error")}},P=async _=>{try{const k=localStorage.getItem("admin_token")||localStorage.getItem("KwikMedi_token");if(!k){e("Please login to update coupon","error");return}const N=await fetch(`${Ie}/admin/coupons/${_.id}/toggle-featured`,{method:"PUT",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}}),S=await N.json();if(N.ok)await D(),e(`Coupon ${_.is_featured?"unfeatured":"featured"} successfully`,"success");else throw new Error(S.error?.message||S.message||"Failed to update coupon")}catch(k){console.error("Error toggling coupon featured status:",k);const N=k instanceof Error?k.message:"Failed to update coupon";e(N,"error")}},M=t.filter(_=>{const k=_.coupon_name.toLowerCase().includes(o.toLowerCase())||_.coupon_title.toLowerCase().includes(o.toLowerCase());return b==="medicine"?k&&(!_.coupon_category||_.coupon_category==="medicine"):b==="lab-test"?k&&(!_.coupon_category||_.coupon_category==="lab_test"):k}),E=_=>_?new Date(_).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return n.jsxs(Gr,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Coupon Management"}),n.jsx("p",{className:"text-gray-600",children:"Create and manage discount coupons for users"})]}),l?n.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px]",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-primary mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading coupons..."})]}):n.jsxs(jt,{children:[n.jsxs(er,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[n.jsx(tr,{children:"All Coupons"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search coupons...",value:o,onChange:_=>d(_.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary"})]}),n.jsxs(rt,{onClick:q,className:"flex items-center space-x-2",children:[n.jsx(Jn,{size:16}),n.jsx("span",{children:"Add Coupon"})]})]})]}),n.jsx(Nt,{children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left pb-4",children:"Code"}),n.jsx("th",{className:"text-left pb-4",children:"Title"}),n.jsx("th",{className:"text-left pb-4",children:"Category"}),n.jsx("th",{className:"text-left pb-4",children:"Discount"}),n.jsx("th",{className:"text-left pb-4",children:"Usage"}),n.jsx("th",{className:"text-left pb-4",children:"Status"}),n.jsx("th",{className:"text-left pb-4",children:"Valid Dates"}),n.jsx("th",{className:"text-left pb-4",children:"Actions"})]})}),n.jsx("tbody",{children:M.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"py-8 text-center text-gray-500",children:o?"No coupons found matching your search":"No coupons found. Create your first coupon!"})}):M.map(_=>n.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors duration-150",children:[n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-bold text-primary text-lg",children:_.coupon_name}),_.is_featured&&n.jsx(Zi,{className:"text-yellow-500 fill-yellow-500",size:16}),_.is_one_time&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-purple-100 text-purple-700 rounded-full",children:"One Time"})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"text-gray-900 font-medium",children:_.coupon_title})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{children:_.coupon_category?n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.coupon_category==="medicine"?"bg-blue-100 text-blue-700":"bg-green-100 text-green-700"}`,children:_.coupon_category==="medicine"?"Medicine":"Lab Test"}):n.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"All"})})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{children:[n.jsxs("span",{className:"text-lg font-bold text-green-600",children:[_.discount_percentage||0,"%"]}),(_.min_order_amount||_.max_order_amount)&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Order Range: ",_.min_order_amount||0," - ",_.max_order_amount||""]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"text-gray-900 font-medium",children:[_.used_count," / ",_.total_coupons]}),n.jsxs("div",{className:"text-gray-500 text-xs",children:[_.remaining_count||_.total_coupons-_.used_count," remaining"]})]})}),n.jsx("td",{className:"py-4",children:n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("button",{onClick:()=>W(_),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors ${_.is_active?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[_.is_active?n.jsx(xA,{size:14}):n.jsx(uy,{size:14}),_.is_active?"Active":"Inactive"]})})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsxs("div",{children:["From: ",E(_.valid_from)]}),n.jsxs("div",{children:["Until: ",E(_.valid_until)]})]})}),n.jsx("td",{className:"py-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>P(_),className:`p-2 rounded transition-colors ${_.is_featured?"bg-yellow-100 text-yellow-700 hover:bg-yellow-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:_.is_featured?"Unfeature":"Feature",children:_.is_featured?n.jsx(Zi,{className:"fill-current",size:16}):n.jsx(gA,{size:16})}),n.jsx(rt,{onClick:()=>z(_),variant:"outline",size:"sm",children:n.jsx(uA,{size:14})}),n.jsx(rt,{onClick:()=>X(_),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:_.used_count>0,title:_.used_count>0?"Cannot delete used coupon":"Delete coupon",children:n.jsx(Xs,{size:14})})]})})]},_.id))})]})})})]}),n.jsx(kZ,{open:c,onClose:()=>a(!1),children:n.jsxs(SZ,{children:[n.jsx(CZ,{children:n.jsx(EZ,{children:u==="add"?"Add New Coupon":"Edit Coupon"})}),n.jsxs("form",{onSubmit:V,className:"space-y-4",children:[n.jsx(Ia,{label:"Coupon Code *",type:"text",value:v.coupon_name,onChange:_=>{j({...v,coupon_name:_.target.value.toUpperCase()}),C.coupon_name&&T({...C,coupon_name:""})},error:C.coupon_name,placeholder:"SAVE10",disabled:u==="edit",fullWidth:!0}),n.jsx(Ia,{label:"Coupon Title *",type:"text",value:v.coupon_title,onChange:_=>{j({...v,coupon_title:_.target.value}),C.coupon_title&&T({...C,coupon_title:""})},error:C.coupon_title,placeholder:"Save 10 on booking",fullWidth:!0}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ia,{label:"Discount Percentage (%) *",type:"number",step:"0.01",min:"0",max:"100",value:v.discount_percentage,onChange:_=>{j({...v,discount_percentage:parseFloat(_.target.value)||0}),C.discount_percentage&&T({...C,discount_percentage:""})},error:C.discount_percentage,placeholder:"e.g., 10",fullWidth:!0}),n.jsx(Ia,{label:"Total Coupons *",type:"number",min:"1",value:v.total_coupons,onChange:_=>{j({...v,total_coupons:parseInt(_.target.value)||1}),C.total_coupons&&T({...C,total_coupons:""})},error:C.total_coupons,fullWidth:!0})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ia,{label:"Min Order Amount () *",type:"number",step:"0.01",min:"0",value:v.min_order_amount,onChange:_=>{j({...v,min_order_amount:_.target.value?parseFloat(_.target.value):""}),C.min_order_amount&&T({...C,min_order_amount:""})},error:C.min_order_amount,placeholder:"e.g., 200",fullWidth:!0}),n.jsx(Ia,{label:"Max Order Amount ()",type:"number",step:"0.01",min:"0",value:v.max_order_amount,onChange:_=>{j({...v,max_order_amount:_.target.value?parseFloat(_.target.value):""}),C.max_order_amount&&T({...C,max_order_amount:""})},error:C.max_order_amount,placeholder:"e.g., 1000 (optional)",fullWidth:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Coupon Category *"}),n.jsxs("select",{value:v.coupon_category,onChange:_=>{j({...v,coupon_category:_.target.value}),C.coupon_category&&T({...C,coupon_category:""})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary",required:!0,children:[n.jsx("option",{value:"",children:"Select Category"}),n.jsx("option",{value:"medicine",children:"Medicine Booking"}),n.jsx("option",{value:"lab_test",children:"Lab Test"})]}),C.coupon_category&&n.jsx("p",{className:"text-sm text-red-600",children:C.coupon_category})]}),v.min_order_amount&&v.discount_percentage>0&&v.coupon_category&&n.jsx("div",{className:"p-3 bg-primary/5 border border-primary/20 rounded-md",children:n.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:["This coupon will apply ",n.jsxs("strong",{children:[v.discount_percentage,"%"]})," discount on ",v.coupon_category==="medicine"?"medicine orders":"lab test bookings"," for orders ",v.max_order_amount?`between ${v.min_order_amount} - ${v.max_order_amount}`:`of ${v.min_order_amount} and above`]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ia,{label:"Valid From (Optional)",type:"date",value:v.valid_from,onChange:_=>{j({...v,valid_from:_.target.value}),C.valid_from&&T({...C,valid_from:""})},error:C.valid_from,fullWidth:!0}),n.jsx(Ia,{label:"Valid Until (Optional)",type:"date",value:v.valid_until,onChange:_=>{j({...v,valid_until:_.target.value}),C.valid_until&&T({...C,valid_until:""})},error:C.valid_until,fullWidth:!0})]}),n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v.is_active,onChange:_=>j({...v,is_active:_.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Active"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v.is_featured,onChange:_=>j({...v,is_featured:_.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Featured"})]}),n.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:v.is_one_time,onChange:_=>j({...v,is_one_time:_.target.checked}),className:"w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"One Time Use"})]})]}),v.is_one_time&&n.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"One Time Use:"})," This coupon can only be used once per user. Once a user uses this coupon, they cannot use it again."]})}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[n.jsx(rt,{type:"button",variant:"outline",onClick:()=>a(!1),disabled:g,children:"Cancel"}),n.jsx(rt,{type:"submit",disabled:g,isLoading:g,children:u==="add"?"Create Coupon":"Update Coupon"})]})]})]})})]})},AZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState(!1),[i,o]=F.useState(""),[d,c]=F.useState("all"),[a,u]=F.useState("all"),f=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"});F.useEffect(()=>{h()},[d,a]);const h=async()=>{l(!0);try{const v=new URLSearchParams;d!=="all"&&v.append("status",d),a!=="all"&&v.append("type",a);const j=await fetch(`${Ie}/admin/helpdesk/tickets?${v.toString()}`,{headers:f()});if(j.ok){const C=await j.json();t(C.tickets||[])}else e("Failed to fetch tickets","error"),t([])}catch{e("Failed to fetch tickets","error"),t([])}finally{l(!1)}},m=async(v,j,C)=>{try{const T=new URLSearchParams({type:j});C&&T.set("source",C),(await fetch(`${Ie}/admin/helpdesk/tickets/${v}/solve?${T}`,{method:"PUT",headers:f()})).ok?(e("Ticket marked as solved","success"),t(q=>q.map(z=>z.id===v&&z.type===j&&(z.source||"user_helpdesk")===C?{...z,status:"resolved"}:z)),await h()):e("Failed to mark ticket as solved","error")}catch{e("Failed to mark ticket as solved","error")}},g=v=>({open:"bg-primary/20 text-primary",resolved:"bg-green-100 text-green-800 border border-green-200",solved:"bg-green-100 text-green-800 border border-green-200",closed:"bg-gray-100 text-gray-700 border border-gray-200"})[v]||"bg-primary/20 text-primary",y=v=>v==="resolved"||v==="solved"||v==="closed",p=v=>y(v)?"Resolved":v==="open"?"Open":v,b=r.filter(v=>v.subject.toLowerCase().includes(i.toLowerCase())||v.message.toLowerCase().includes(i.toLowerCase())||v.user_name?.toLowerCase().includes(i.toLowerCase())||v.provider_name?.toLowerCase().includes(i.toLowerCase()));return n.jsx(Gr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Helpdesk Management"}),n.jsx("p",{className:"text-gray-600",children:"View and manage support tickets from users and vendors."})]})}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),n.jsx("input",{type:"text",placeholder:"Search by subject, message, or user/vendor name...",value:i,onChange:v=>o(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-primary/20 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})}),n.jsxs("select",{value:d,onChange:v=>c(v.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Status"}),n.jsx("option",{value:"open",children:"Open"}),n.jsx("option",{value:"solved",children:"Resolved"}),n.jsx("option",{value:"closed",children:"Closed"})]}),n.jsxs("select",{value:a,onChange:v=>u(v.target.value),className:"px-4 py-2 border border-primary/20 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-primary",children:[n.jsx("option",{value:"all",children:"All Types"}),n.jsx("option",{value:"user",children:"User Tickets"}),n.jsx("option",{value:"vendor",children:"Vendor Tickets"})]})]}),s?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.jsx("div",{className:"space-y-4",children:b.map(v=>n.jsxs(jt,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(er,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[v.type==="user"?n.jsx(Lr,{className:"text-primary",size:20}):n.jsx(Ef,{className:"text-primary",size:20}),n.jsx(tr,{className:"text-lg",children:v.subject})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(v.status)}`,children:p(v.status)}),n.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-secondary text-primary border border-primary/20",children:v.type==="user"?"User":"Vendor"})]})]})}),n.jsxs(Nt,{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-gray-700",children:n.jsx("p",{className:"mb-2",children:v.message})}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[v.type==="user"?n.jsx(n.Fragment,{children:v.user_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Lr,{size:14}),n.jsx("span",{children:v.user_name}),v.user_email&&n.jsxs("span",{className:"text-gray-400",children:["(",v.user_email,")"]})]})}):n.jsx(n.Fragment,{children:v.provider_name&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ef,{size:14}),n.jsx("span",{children:v.provider_name}),v.provider_email&&n.jsxs("span",{className:"text-gray-400",children:["(",v.provider_email,")"]})]})}),v.order_id&&n.jsxs("div",{className:"text-gray-500",children:["Order ID: #",v.order_id]}),n.jsx("div",{className:"text-gray-500",children:new Date(v.created_at).toLocaleDateString()})]}),!y(v.status)&&n.jsx("div",{className:"flex gap-2 pt-2",children:n.jsxs("button",{onClick:()=>m(v.id,v.type,v.source||(v.type==="vendor"?"vendor_helpdesk":"user_helpdesk")),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors flex items-center gap-2",children:[n.jsx(fn,{size:16}),"Mark as Solved"]})})]})]},`${v.source||"user_helpdesk"}-${v.type}-${v.id}`))}),b.length===0&&!s&&n.jsx(jt,{children:n.jsxs(Nt,{className:"text-center py-12",children:[n.jsx(Ex,{className:"mx-auto text-primary mb-4",size:48}),n.jsx("p",{className:"text-gray-600",children:"No tickets found"})]})})]})})},PZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState([]),[s,l]=F.useState([]),[i,o]=F.useState(!0),[d,c]=F.useState(!1),[a,u]=F.useState(!1),[f,h]=F.useState(null),[m,g]=F.useState(!1),[y,p]=F.useState(""),[b,v]=F.useState(null),[j,C]=F.useState({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),[T,D]=F.useState({user_id:"",provider_id:"",booking_id:"",payment_status:""}),[q,z]=F.useState(!1),[B,V]=F.useState(null),[X,W]=F.useState(!1),[P,M]=F.useState(""),[E,_]=F.useState(!1),k=F.useRef(null),N=F.useRef(null);F.useEffect(()=>{const K=ee=>{N.current&&!N.current.contains(ee.target)&&k.current&&!k.current.contains(ee.target)&&_(!1)};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),F.useEffect(()=>{S(),O()},[T]);const S=async()=>{const K=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(K){o(!0);try{const ee=new URLSearchParams;Object.entries(T).forEach(([ie,ae])=>{ae&&ee.append(ie,ae)});const se=await fetch(`${Ie}/admin/bills?${ee.toString()}`,{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(se.ok){const ie=await se.json();t(ie.bills||[])}}catch{e("Failed to load bills","error")}finally{o(!1)}}},O=async()=>{const K=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(K)try{const ee=await fetch(`${Ie}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(ee.ok){const se=await ee.json(),ie=se.data||se.bookings||[];l(ie.map(ae=>({id:ae.id,user_id:ae.user_id,provider_id:ae.provider_id,service_name:ae.service_name||ae.service_title||"Service",user_name:ae.user_name||ae.user?.full_name||ae.user?.name||`User #${ae.user_id}`,provider_name:ae.provider_name||ae.provider?.full_name||ae.provider?.name||(ae.provider_id?`Provider #${ae.provider_id}`:"Unassigned"),payment_amount:ae.payment_amount||ae.total_amount||0})))}}catch(ee){console.error("Failed to load bookings:",ee)}},L=async K=>{const ee=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ee){W(!0),V(null);try{let se=null,ie=[],ae={total_amount:0,paid_amount:0,outstanding_amount:0};const re=s.find(le=>le.id===K);re&&(se={id:re.id,user_id:re.user_id,provider_id:re.provider_id,service_name:re.service_name,service_title:re.service_name,user_name:re.user_name,provider_name:re.provider_name,payment_amount:re.payment_amount||0,user_full_name:re.user_name,provider_full_name:re.provider_name});try{const le=await fetch(`${Ie}/admin/bills/booking/${K}`,{headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"}});if(le.ok){const ne=await le.json();ne.booking&&(se={id:ne.booking.id,user_id:ne.booking.user_id,provider_id:ne.booking.provider_id,service_name:ne.booking.service_title||ne.booking.service_name||"Service",service_title:ne.booking.service_title,user_name:ne.booking.user_full_name||ne.booking.user_name||`User #${ne.booking.user_id}`,provider_name:ne.booking.provider_full_name||ne.booking.provider_name||(ne.booking.provider_id?`Provider #${ne.booking.provider_id}`:"Unassigned"),payment_amount:ne.booking.payment_amount||ne.booking.service_price_discounted||ne.booking.service_price_original||0,user_full_name:ne.booking.user_full_name,provider_full_name:ne.booking.provider_full_name}),ae=ne.outstanding_info||{total_amount:se?.payment_amount||0,paid_amount:0,outstanding_amount:se?.payment_amount||0},ie=ne.bills||[]}else if(le.status===404)console.log("Booking not found in bills endpoint, using data from bookings list");else{const ne=await le.json().catch(()=>({}));console.error("Bills endpoint error:",ne)}}catch(le){console.error("Error fetching from bills endpoint:",le)}if(!se)try{const le=await fetch(`${Ie}/admin/appointments?limit=1000`,{headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"}});if(le.ok){const ne=await le.json(),ue=(ne.data||ne.bookings||[]).find(xe=>xe.id===K);ue&&(se={id:ue.id,user_id:ue.user_id,provider_id:ue.provider_id,service_name:ue.service_title||ue.service_name||"Service",service_title:ue.service_title,user_name:ue.user_full_name||ue.user_name||`User #${ue.user_id}`,provider_name:ue.provider_full_name||ue.provider_name||(ue.provider_id?`Provider #${ue.provider_id}`:"Unassigned"),payment_amount:ue.payment_amount||ue.service_price_discounted||ue.service_price_original||0,user_full_name:ue.user_full_name,provider_full_name:ue.provider_full_name})}}catch(le){console.error("Error fetching from appointments endpoint:",le)}se?(ae.total_amount===0&&se.payment_amount&&(ae={total_amount:se.payment_amount,paid_amount:ie.reduce((le,ne)=>le+ne.bill_amount,0),outstanding_amount:se.payment_amount-ie.reduce((le,ne)=>le+ne.bill_amount,0)}),V({booking:se,outstanding_info:ae,bills:ie}),ae.outstanding_amount>0&&C(le=>({...le,bill_amount:ae.outstanding_amount.toString()}))):(e(`Booking #${K} not found. Please check the booking ID.`,"error"),V(null))}catch(se){console.error("Failed to load booking details:",se),e("Failed to load booking details. Please try again.","error"),V(null)}finally{W(!1)}}},I=K=>{const ee=parseInt(K);if(isNaN(ee)){e("Please enter a valid booking ID","error");return}C({...j,booking_id:K});const se=s.find(ie=>ie.id===ee);M(se?`#${se.id} - ${se.service_name} - ${se.user_name}`:`#${ee}`),_(!1),L(ee)},G=s.filter(K=>{if(!P)return!1;const ee=P.toLowerCase();return K.id.toString().includes(ee)||K.service_name.toLowerCase().includes(ee)||K.user_name.toLowerCase().includes(ee)||K.provider_name.toLowerCase().includes(ee)}),Y=async K=>{K.preventDefault();const ee=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ee){if(!B){e("Please select a booking first","error");return}z(!0);try{const se=await fetch(`${Ie}/admin/bills/generate`,{method:"POST",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify({booking_id:parseInt(j.booking_id),user_id:B.booking.user_id,provider_id:B.booking.provider_id||null,bill_amount:parseFloat(j.bill_amount),generated_by:"Admin",notes:j.notes})});if(se.ok)e("Bill generated successfully","success"),c(!1),C({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),M(""),V(null),S(),B&&B.booking.id&&L(B.booking.id);else{const ie=await se.json();throw new Error(ie.error?.message||"Failed to generate bill")}}catch(se){e(se.message||"Failed to generate bill","error")}finally{z(!1)}}},te=async K=>{const ee=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ee)try{const se=await fetch(`${Ie}/admin/bills/${K}`,{headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"}});if(se.ok){const ie=await se.json();h(ie.bill),u(!0)}}catch{e("Failed to load bill details","error")}},U=async(K,ee,se)=>{const ie=localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token");if(ie)try{const ae={payment_status:ee};ee==="partial"&&se!==void 0&&(ae.paid_amount=se);const re=await fetch(`${Ie}/admin/bills/${K}/update-payment-status`,{method:"POST",headers:{Authorization:`Bearer ${ie}`,"Content-Type":"application/json"},body:JSON.stringify(ae)});if(re.ok){if(e("Payment status updated","success"),S(),f?.id===K){const le=await re.json();h(le.bill)}B&&B.booking.id&&L(B.booking.id)}else{const le=await re.json();e(le.error?.message||"Failed to update payment status","error")}}catch{e("Failed to update payment status","error")}},J=()=>{if(!b)return;const K=parseFloat(y);if(isNaN(K)||K<=0){e("Please enter a valid payment amount","error");return}U(b,"partial",K),g(!1),p(""),v(null)},$=K=>`${K.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,R=K=>new Date(K).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"});return n.jsx(Gr,{children:n.jsxs("div",{className:"container mx-auto px-4 py-8",children:[n.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Bill Management"}),n.jsx("p",{className:"text-gray-600",children:"Generate and manage bills for bookings"})]}),n.jsxs(rt,{onClick:()=>c(!0),className:"flex items-center gap-2",children:[n.jsx(Jn,{size:16}),"Generate Bill"]})]}),n.jsx(jt,{className:"mb-6",children:n.jsx(Nt,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User ID"}),n.jsx("input",{type:"number",value:T.user_id,onChange:K=>D({...T,user_id:K.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by user"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider ID"}),n.jsx("input",{type:"number",value:T.provider_id,onChange:K=>D({...T,provider_id:K.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by provider"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID"}),n.jsx("input",{type:"number",value:T.booking_id,onChange:K=>D({...T,booking_id:K.target.value}),className:"w-full px-3 py-2 border rounded-md",placeholder:"Filter by booking"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Status"}),n.jsxs("select",{value:T.payment_status,onChange:K=>D({...T,payment_status:K.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[n.jsx("option",{value:"",children:"All"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"paid",children:"Paid"}),n.jsx("option",{value:"partial",children:"Partial"})]})]})]})})}),n.jsxs(jt,{children:[n.jsx(er,{children:n.jsx(tr,{children:"All Bills"})}),n.jsx(Nt,{children:i?n.jsx(pu,{}):r.length===0?n.jsx("div",{className:"text-center py-8 text-gray-500",children:"No bills found"}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Bill Number"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Booking ID"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Outstanding"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Generated"}),n.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(K=>{const ee=s.find(se=>se.id===K.booking_id);return n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:K.bill_number}),n.jsxs("td",{className:"px-4 py-3 text-sm",children:["#",K.booking_id]}),n.jsx("td",{className:"px-4 py-3 text-sm",children:ee?.user_name||`User #${K.user_id}`}),n.jsx("td",{className:"px-4 py-3 text-sm",children:$(K.bill_amount)}),n.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:K.current_outstanding_amount!==void 0?$(K.current_outstanding_amount):$(K.outstanding_amount)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${K.payment_status==="paid"?"bg-green-100 text-green-800":K.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:K.payment_status})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:R(K.generated_at)}),n.jsx("td",{className:"px-4 py-3",children:n.jsx(rt,{onClick:()=>te(K.id),variant:"ghost",size:"sm",children:n.jsx($o,{size:16})})})]},K.id)})})]})})})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Generate Bill"}),n.jsx("button",{onClick:()=>c(!1),children:n.jsx(hr,{size:20})})]}),n.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Booking ID / Select Booking"}),n.jsxs("div",{className:"relative",ref:N,children:[n.jsx("input",{ref:k,type:"text",value:P,onChange:K=>{const ee=K.target.value;M(ee),_(ee.length>0);const se=ee.match(/^#?(\d+)$/);if(se){const ie=parseInt(se[1]);C({...j,booking_id:ie.toString()})}else ee.length===0&&(C({...j,booking_id:""}),V(null))},onKeyDown:K=>{if(K.key==="Enter"){K.preventDefault();const ee=P.match(/^#?(\d+)$/);if(ee){const se=parseInt(ee[1]);I(se.toString())}else j.booking_id&&I(j.booking_id)}K.key==="Escape"&&_(!1)},onFocus:()=>{P&&_(!0)},placeholder:"Enter booking ID (e.g., 65) or search by service/user name...",className:"w-full px-3 py-2 border rounded-md",required:!0}),E&&P&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:G.length>0?G.slice(0,10).map(K=>n.jsxs("div",{onClick:()=>I(K.id.toString()),className:"px-4 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100",children:[n.jsxs("div",{className:"font-medium",children:["#",K.id," - ",K.service_name]}),n.jsxs("div",{className:"text-sm text-gray-600",children:[K.user_name,"  ",K.provider_name]})]},K.id)):n.jsx("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No bookings found. You can enter booking ID directly (e.g., 65) and press Enter."})})]}),j.booking_id&&n.jsx("input",{type:"hidden",name:"booking_id",value:j.booking_id})]}),B&&n.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border-2 border-primary/20 rounded-lg p-5 space-y-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between border-b-2 border-blue-200 pb-3",children:[n.jsx("h4",{className:"font-bold text-lg text-gray-900",children:" Booking Details"}),n.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded font-medium",children:["ID: #",B.booking.id||j.booking_id]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Service"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:B.booking.service_name||B.booking.service_title||"N/A"})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Booking ID"}),n.jsxs("span",{className:"font-semibold text-gray-900 text-base",children:["#",B.booking.id||j.booking_id]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"User"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:B.booking.user_full_name||B.booking.user_name||`User #${B.booking.user_id}`})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-gray-600 text-xs block mb-1",children:"Provider"}),n.jsx("span",{className:"font-semibold text-gray-900 text-base",children:B.booking.provider_full_name||B.booking.provider_name||(B.booking.provider_id?`Provider #${B.booking.provider_id}`:"Unassigned")})]})]}),n.jsxs("div",{className:"bg-white rounded p-3 border border-primary/20",children:[n.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm mb-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Booking Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-gray-900",children:$(B.outstanding_info.total_amount)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Total Billed Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-green-600",children:$(B.bills.reduce((K,ee)=>K+ee.bill_amount,0))}),B.bills.length>0&&n.jsxs("span",{className:"text-xs text-gray-500 block mt-1",children:["(",B.bills.length," ",B.bills.length===1?"bill":"bills",")"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600 block text-xs",children:"Outstanding Amount:"}),n.jsx("span",{className:"font-semibold text-lg text-red-600",children:$(B.outstanding_info.outstanding_amount)}),n.jsx("span",{className:"text-xs text-gray-500 block mt-1",children:"(Remaining to bill)"})]})]}),n.jsx("div",{className:"border-t pt-2 mt-2 text-xs text-gray-600",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"Calculation:"}),n.jsxs("span",{className:"font-medium",children:["Total (",$(B.outstanding_info.total_amount),") - Billed (",$(B.bills.reduce((K,ee)=>K+ee.bill_amount,0)),") = Outstanding (",$(B.outstanding_info.outstanding_amount),")"]})]})})]}),n.jsxs("div",{children:[n.jsxs("h5",{className:"font-medium text-gray-900 mb-2",children:["Bill History",B.bills.length>0&&n.jsxs("span",{className:"text-gray-500 font-normal",children:["(",B.bills.length," ",B.bills.length===1?"bill":"bills",")"]})]}),B.bills.length>0?n.jsx("div",{className:"bg-white rounded border border-gray-200 max-h-48 overflow-y-auto",children:n.jsxs("table",{className:"w-full text-xs",children:[n.jsx("thead",{className:"bg-gray-50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Bill #"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Amount"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Status"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Generated Date"}),n.jsx("th",{className:"px-3 py-2 text-left font-semibold",children:"Paid Date"})]})}),n.jsx("tbody",{children:B.bills.map((K,ee)=>n.jsxs("tr",{className:`border-b hover:bg-gray-50 ${ee===B.bills.length-1?"border-b-2 border-primary/20":""}`,children:[n.jsx("td",{className:"px-3 py-2 font-medium",children:K.bill_number}),n.jsx("td",{className:"px-3 py-2 font-semibold",children:$(K.bill_amount)}),n.jsx("td",{className:"px-3 py-2",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${K.payment_status==="paid"?"bg-green-100 text-green-800":K.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:K.payment_status.charAt(0).toUpperCase()+K.payment_status.slice(1)})}),n.jsx("td",{className:"px-3 py-2",children:R(K.generated_at)}),n.jsx("td",{className:"px-3 py-2",children:K.paid_at?n.jsx("span",{className:"text-green-600",children:R(K.paid_at)}):n.jsx("span",{className:"text-gray-400",children:"-"})})]},K.id))}),n.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-primary/20",children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:2,className:"px-3 py-2 font-semibold text-right",children:"Total Billed:"}),n.jsx("td",{colSpan:3,className:"px-3 py-2 font-bold text-lg",children:$(B.bills.reduce((K,ee)=>K+ee.bill_amount,0))})]})})]})}):n.jsx("div",{className:"bg-white rounded border border-gray-200 p-4 text-center text-gray-500 text-sm",children:"No bills generated yet for this booking. The outstanding amount shown above is the total booking amount."})]})]}),X&&n.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading booking details..."}),B&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"User"}),n.jsx("input",{type:"text",value:B.booking.user_full_name||B.booking.user_name||`User #${B.booking.user_id}`,readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),n.jsx("input",{type:"hidden",name:"user_id",value:B.booking.user_id})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Provider"}),n.jsx("input",{type:"text",value:B.booking.provider_full_name||B.booking.provider_name||(B.booking.provider_id?`Provider #${B.booking.provider_id}`:"Unassigned"),readOnly:!0,className:"w-full px-3 py-2 border rounded-md bg-gray-50 font-medium"}),B.booking.provider_id&&n.jsx("input",{type:"hidden",name:"provider_id",value:B.booking.provider_id})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bill Amount ()"}),n.jsx("input",{type:"number",step:"0.01",value:j.bill_amount,onChange:K=>C({...j,bill_amount:K.target.value}),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Notes (Optional)"}),n.jsx("textarea",{value:j.notes,onChange:K=>C({...j,notes:K.target.value}),className:"w-full px-3 py-2 border rounded-md",rows:3})]}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx(rt,{type:"button",variant:"outline",onClick:()=>{c(!1),C({booking_id:"",user_id:"",provider_id:"",bill_amount:"",notes:""}),M(""),V(null),_(!1)},onBlur:()=>setTimeout(()=>_(!1),200),children:"Cancel"}),n.jsx(rt,{type:"submit",disabled:q,children:q?"Generating...":"Generate Bill"})]})]})]})}),m&&b&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60]",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Enter Partial Payment Amount"}),n.jsx("button",{onClick:()=>{g(!1),p(""),v(null)},children:n.jsx(hr,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[f&&n.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Bill Amount:"}),n.jsx("div",{className:"text-lg font-semibold",children:$(f.bill_amount)}),f.outstanding_amount>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Outstanding:"}),n.jsx("div",{className:"text-base font-medium text-red-600",children:$(f.outstanding_amount)})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount Paid ()"}),n.jsx("input",{type:"number",step:"0.01",min:"0.01",max:f?.outstanding_amount||f?.bill_amount||0,value:y,onChange:K=>p(K.target.value),placeholder:"Enter amount being paid",className:"w-full px-3 py-2 border rounded-md",autoFocus:!0,onKeyDown:K=>{K.key==="Enter"&&(K.preventDefault(),J())}}),f&&n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: ",$(f.outstanding_amount||f.bill_amount)]})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[n.jsx(rt,{type:"button",variant:"outline",onClick:()=>{g(!1),p(""),v(null)},children:"Cancel"}),n.jsx(rt,{onClick:J,disabled:!y||parseFloat(y)<=0,children:"Confirm Partial Payment"})]})]})]})}),a&&f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Bill Details - ",f.bill_number]}),n.jsx("button",{onClick:()=>u(!1),children:n.jsx(hr,{size:20})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Bill Number"}),n.jsx("p",{className:"text-lg font-semibold",children:f.bill_number})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Amount"}),n.jsx("p",{className:"text-lg font-semibold text-green-600",children:$(f.bill_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Outstanding"}),n.jsx("p",{className:"text-lg font-semibold",children:$(f.outstanding_amount)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Status"}),n.jsx("p",{className:"text-lg",children:n.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${f.payment_status==="paid"?"bg-green-100 text-green-800":f.payment_status==="partial"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:f.payment_status})})]})]}),f.notes&&n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Notes"}),n.jsx("p",{className:"text-sm",children:f.notes})]}),n.jsx("div",{className:"flex gap-3 pt-4 border-t",children:n.jsx(rt,{onClick:()=>U(f.id,"paid"),className:"bg-green-600 hover:bg-green-700",disabled:f.payment_status==="paid",children:"Mark as Paid"})})]})]})})]})})},gf=e=>{const r=typeof e=="string"?e.trim():"";if(!r)return"";if(/^https?:\/\//i.test(r))return r;let t=r.replace(/\\/g,"/");return t.startsWith("public/")?t=t.slice(7):t.startsWith("/public/")&&(t=t.slice(8)),t=t.startsWith("/")?t:`/${t}`,`${_x}${t}`},TZ={Draft:"bg-amber-100 text-amber-700 border border-amber-200",Published:"bg-emerald-100 text-emerald-700 border border-emerald-200",Active:"bg-orange-100 text-orange-700 border border-orange-200",Inactive:"bg-rose-100 text-rose-500 border border-rose-200"},sy=()=>{const{addToast:e}=Fr(),s=Bn().pathname.includes("/banners")?"banners":"blogs",[l,i]=F.useState([]),[o,d]=F.useState([]),[c,a]=F.useState([]),[u,f]=F.useState([]),[h,m]=F.useState([]),[g,y]=F.useState([]),[p,b]=F.useState(!1),[v,j]=F.useState(!1),[C,T]=F.useState(!1),[D,q]=F.useState(!1),[z,B]=F.useState(null),[V,X]=F.useState(null),[W,P]=F.useState({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),[M,E]=F.useState({link_type:"category",category_id:0,product_id:0,lab_category_id:0,lab_package_id:0,sequence:0,image:null}),[_,k]=F.useState(null),N=(re=!1)=>{const le=localStorage.getItem("KwikMedi_token"),ne={};return le&&(ne.Authorization=`Bearer ${le}`),re&&(ne["Content-Type"]="application/json"),ne},S=async()=>{b(!0);try{const re=await fetch(`${Ie}/admin/blogs`,{headers:N()});if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const le=await re.json();le.success&&Array.isArray(le.blogs)?i(le.blogs):e("Failed to load blogs","error")}catch(re){console.error("Error fetching blogs:",re),e(`Error loading blogs: ${re instanceof Error?re.message:"Unknown error"}`,"error")}finally{b(!1)}},O=async()=>{b(!0);try{const re=await fetch(`${Ie}/admin/banners`,{headers:N()});if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const le=await re.json();le.success&&Array.isArray(le.banners)?d(le.banners):e("Failed to load banners","error")}catch(re){console.error("Error fetching banners:",re),e(`Error loading banners: ${re instanceof Error?re.message:"Unknown error"}`,"error")}finally{b(!1)}},L=async()=>{try{const re=await fetch(`${Ie}/admin/categories`,{headers:N()});if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const le=await re.json();Array.isArray(le.categories)&&a(le.categories)}catch(re){console.error("Error fetching categories:",re)}},I=async()=>{try{const re=await fetch(`${Ie}/admin/inventory?is_discontinued=0`,{headers:N()});if(!re.ok)throw new Error(`HTTP error! status: ${re.status}`);const le=await re.json();if(Array.isArray(le.inventory)){const ne=le.inventory.filter(fe=>!fe.is_discontinued&&fe.stock_quantity>0);f(ne)}}catch(re){console.error("Error fetching products:",re)}},G=async()=>{try{const re=await fetch(`${Ie}/admin/lab-tests/categories`,{headers:N()});if(re.ok){const le=await re.json();Array.isArray(le.categories)&&m(le.categories)}}catch(re){console.error("Error fetching lab categories:",re)}},Y=async()=>{try{const re=await fetch(`${Ie}/admin/lab-tests/packages?source=db`,{headers:N()});if(re.ok){const le=await re.json();le.packages&&Array.isArray(le.packages)?(y(le.packages),console.log(`Loaded ${le.packages.length} lab packages from database`)):(console.warn("No packages found in database response"),y([]))}}catch(re){console.error("Error fetching lab packages:",re)}};F.useEffect(()=>{S(),O(),L(),I(),G(),Y()},[]);const te=F.useMemo(()=>{const re=l.length,le=l.filter(fe=>fe.status==="Published").length,ne=l.filter(fe=>fe.status==="Draft").length;return[{label:"Total Posts",value:re,subtitle:"Across pet care categories",icon:n.jsx(h0,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Published",value:le,subtitle:"Live on the site",icon:n.jsx(Vs,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Drafts",value:ne,subtitle:"Ready for review",icon:n.jsx(pn,{className:"text-amber-500",size:22}),gradient:"from-amber-100 to-orange-50"}]},[]),U=F.useMemo(()=>{const re=o.length,le=o.filter(fe=>fe.status==="Active").length,ne=o.filter(fe=>fe.status==="Inactive").length;return[{label:"Total Banners",value:re,subtitle:"Displayed across pages",icon:n.jsx(cA,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Active",value:le,subtitle:"Currently visible",icon:n.jsx(p0,{className:"text-emerald-500",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Inactive",value:ne,subtitle:"Hidden banners",icon:n.jsx(uy,{className:"text-rose-500",size:22}),gradient:"from-rose-100 to-rose-50"}]},[]),J=async re=>{re.preventDefault(),j(!0);try{const le=localStorage.getItem("KwikMedi_token");let ne;if(W.image instanceof File){const ue=new FormData;ue.append("title",W.title),ue.append("category",W.category),ue.append("status",W.status),W.author&&ue.append("author",W.author),W.excerpt&&ue.append("excerpt",W.excerpt),W.content&&ue.append("content",W.content),ue.append("image",W.image),ne=await fetch(`${Ie}/admin/blogs${z?`/${z.id}`:""}`,{method:z?"PUT":"POST",headers:{Authorization:`Bearer ${le}`},body:ue})}else{const ue={title:W.title,category:W.category,status:W.status};W.author&&(ue.author=W.author),W.excerpt&&(ue.excerpt=W.excerpt),W.content&&(ue.content=W.content),typeof W.image=="string"&&W.image&&(ue.image=W.image),ne=await fetch(`${Ie}/admin/blogs${z?`/${z.id}`:""}`,{method:z?"PUT":"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"},body:JSON.stringify(ue)})}const fe=await ne.json();ne.ok&&fe.success?(await S(),e(z?"Blog updated successfully":"Blog created successfully","success"),T(!1),ee()):e(fe.error?.message||"Failed to save blog","error")}catch(le){console.error("Error saving blog:",le),e("Error saving blog","error")}finally{j(!1)}},$=async re=>{if(re.preventDefault(),M.link_type==="category"){if(!M.category_id||M.category_id===0){e("Please select a category","error");return}}else if(M.link_type==="product"){if(!M.product_id||M.product_id===0){e("Please select a product","error");return}}else if(M.link_type==="lab_category"){if(!M.lab_category_id||M.lab_category_id===0){e("Please select a lab category","error");return}}else if(M.link_type==="lab_package"&&(!M.lab_package_id||M.lab_package_id===0)){e("Please select a lab package","error");return}j(!0);try{const le=localStorage.getItem("KwikMedi_token");let ne;if(M.image instanceof File){const ue=new FormData;ue.append("link_type",M.link_type),M.link_type==="category"?ue.append("category_id",M.category_id.toString()):M.link_type==="product"?ue.append("product_id",M.product_id.toString()):M.link_type==="lab_category"?ue.append("lab_category_id",M.lab_category_id.toString()):M.link_type==="lab_package"&&ue.append("lab_package_id",M.lab_package_id.toString()),ue.append("sequence",M.sequence.toString()),ue.append("image",M.image),ne=await fetch(`${Ie}/admin/banners${V?`/${V.id}`:""}`,{method:V?"PUT":"POST",headers:{Authorization:`Bearer ${le}`},body:ue})}else{const ue={link_type:M.link_type,sequence:M.sequence};M.link_type==="category"?ue.category_id=M.category_id:M.link_type==="product"?ue.product_id=M.product_id:M.link_type==="lab_category"?ue.lab_category_id=M.lab_category_id:M.link_type==="lab_package"&&(ue.lab_package_id=M.lab_package_id),typeof M.image=="string"&&M.image&&(ue.image=M.image),ne=await fetch(`${Ie}/admin/banners${V?`/${V.id}`:""}`,{method:V?"PUT":"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json"},body:JSON.stringify(ue)})}const fe=await ne.json();ne.ok&&fe.success?(await O(),e(V?"Banner updated successfully":"Banner created successfully","success"),q(!1),se()):e(fe.error?.message||"Failed to save banner","error")}catch(le){console.error("Error saving banner:",le),e("Error saving banner","error")}finally{j(!1)}},R=async re=>{if(confirm("Are you sure you want to delete this blog post?"))try{const le=localStorage.getItem("KwikMedi_token"),ne=await fetch(`${Ie}/admin/blogs/${re}`,{method:"DELETE",headers:{Authorization:`Bearer ${le}`}}),fe=await ne.json();ne.ok&&fe.success?(await S(),e("Blog deleted successfully","success")):e(fe.error?.message||"Failed to delete blog","error")}catch(le){console.error("Error deleting blog:",le),e("Error deleting blog","error")}},K=async re=>{if(confirm("Are you sure you want to delete this banner?"))try{const le=localStorage.getItem("KwikMedi_token"),ne=await fetch(`${Ie}/admin/banners/${re}`,{method:"DELETE",headers:{Authorization:`Bearer ${le}`}}),fe=await ne.json();ne.ok&&fe.success?(await O(),e("Banner deleted successfully","success")):e(fe.error?.message||"Failed to delete banner","error")}catch(le){console.error("Error deleting banner:",le),e("Error deleting banner","error")}},ee=()=>{P({title:"",category:"Training",status:"Draft",author:"",excerpt:"",content:"",image:null}),B(null),k(null)},se=()=>{E({link_type:"category",category_id:0,product_id:0,lab_category_id:0,lab_package_id:0,sequence:0,image:null}),X(null),k(null)},ie=re=>{B(re),P({title:re.title,category:re.category,status:re.status,author:re.author||"",excerpt:re.excerpt||"",content:re.content||"",image:re.image_url}),k(re.image_url?gf(re.image_url):null),T(!0)},ae=re=>{X(re);const le=re.link_type||(re.category_id?"category":re.product_id?"product":"category");E({link_type:le,category_id:re.category_id||0,product_id:re.product_id||0,lab_category_id:re.lab_category_id||0,lab_package_id:re.lab_package_id||0,sequence:re.sequence||0,image:re.image_url}),k(re.image_url?gf(re.image_url):null),q(!0)};return n.jsx(Gr,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsx("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Site Experience"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"Site Management Studio"}),n.jsx("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:"Manage the KwikMedi story with fresh blog posts, vibrant banners, and curated experiences for pet parents exploring training, grooming, healthcare, and nutrition."})]})})}),n.jsx(jt,{className:"rounded-3xl border border-orange-100/70 bg-white/95 shadow-lg",children:n.jsxs(Nt,{className:"space-y-6",children:[n.jsx("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Manage"}),n.jsx("h2",{className:"mt-1 text-2xl font-semibold text-orange-900",children:"Content Hubs"})]})}),s==="blogs"?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:te.map(re=>n.jsx(jt,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Nt,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${re.gradient}`,children:re.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:re.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:re.value}),n.jsx("p",{className:"text-xs text-orange-400",children:re.subtitle})]})]})},re.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[n.jsx(jt,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(Nt,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(h0,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Create New Blog Post"}),n.jsx("p",{className:"text-sm text-orange-500",children:"Draft insights, publish stories, and keep pet parents inspired."})]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:J,children:[n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Title"}),n.jsx("input",{type:"text",placeholder:"Enter engaging headline",value:W.title,onChange:re=>P({...W,title:re.target.value}),required:!0,className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(Us,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:W.category,onChange:re=>P({...W,category:re.target.value}),className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{children:"Training"}),n.jsx("option",{children:"Grooming"}),n.jsx("option",{children:"Healthcare"}),n.jsx("option",{children:"Nutrition"})]})]})]})]}),n.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Featured Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_l,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx(Al,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:re=>{const le=re.target.files?.[0];if(le){const ne=URL.createObjectURL(le);k(ne),P({...W,image:le})}}})]})]}),n.jsx("input",{type:"url",value:typeof W.image=="string"?W.image:"",onChange:re=>{P({...W,image:re.target.value}),k(re.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),_&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:_,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Status"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900",children:[n.jsx(uy,{size:18,className:"text-orange-400"}),n.jsxs("select",{value:W.status,onChange:re=>P({...W,status:re.target.value}),className:"flex-1 bg-transparent outline-none",children:[n.jsx("option",{children:"Draft"}),n.jsx("option",{children:"Published"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Excerpt"}),n.jsx("textarea",{rows:3,placeholder:"Short summary for preview cards...",value:W.excerpt,onChange:re=>P({...W,excerpt:re.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Content (optional)"}),n.jsx("textarea",{rows:5,placeholder:"Full blog content...",value:W.content,onChange:re=>P({...W,content:re.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-3 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Author (optional)"}),n.jsx("input",{type:"text",placeholder:"Author name",value:W.author,onChange:re=>P({...W,author:re.target.value}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>T(!1),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:v,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:v?"Saving...":z?"Update Post":"Publish Post"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:p?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(ui,{className:"w-8 h-8 animate-spin text-orange-400"})}):l.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(h0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No blog posts yet. Create your first post!"})]}):l.map(re=>n.jsx(jt,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Nt,{className:"flex flex-col gap-4 p-5 sm:flex-row sm:gap-5",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 sm:w-44",children:re.image_url?n.jsx("img",{src:gf(re.image_url),alt:re.title,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(_l,{className:"text-orange-300",size:32})})}),n.jsxs("div",{className:"flex-1 space-y-3",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-orange-500",children:[n.jsx(KE,{size:14}),re.category]}),n.jsx("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${TZ[re.status]}`,children:re.status})]}),n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:re.title}),n.jsx("p",{className:"text-sm text-orange-500",children:re.excerpt||"No excerpt"}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-orange-400",children:[re.author&&n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(Lr,{size:14}),re.author]}),n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(mn,{size:14}),re.published_at?new Date(re.published_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not published"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 self-end sm:flex-col sm:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>ie(re),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(g0,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>R(re.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(Xs,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},re.id))})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold text-orange-900",children:"Banner Management"}),n.jsx("p",{className:"mt-1 text-sm text-orange-500",children:"Create and manage site banners"})]}),n.jsxs("button",{type:"button",onClick:()=>{se()},className:"flex items-center gap-2 rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500",children:[n.jsx(Jn,{size:18}),"Add New Banner"]})]}),n.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:U.map(re=>n.jsx(jt,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Nt,{className:"flex items-center gap-4 p-5",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${re.gradient}`,children:re.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:re.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:re.value}),n.jsx("p",{className:"text-xs text-orange-400",children:re.subtitle})]})]})},re.label))}),n.jsxs("div",{className:"grid gap-6 lg:grid-cols-[0.9fr,1.1fr]",children:[n.jsx(jt,{className:"rounded-3xl border border-orange-100 bg-orange-50/50 shadow-inner",children:n.jsxs(Nt,{className:"space-y-5 p-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/80 p-3 text-orange-500 shadow-sm",children:n.jsx(p0,{size:22})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:V?"Edit Banner":"Create New Banner"}),n.jsx("p",{className:"text-sm text-orange-500",children:V?"Update banner details and settings":"Craft hero banners with tailored CTAs for each section."})]})]}),V&&n.jsxs("button",{type:"button",onClick:()=>se(),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(hr,{size:14,className:"inline mr-1"}),"Cancel Edit"]})]}),n.jsxs("form",{className:"space-y-4",onSubmit:$,children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Link Type"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(oA,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.link_type,onChange:re=>{const le=re.target.value;E({...M,link_type:le,category_id:0,product_id:0,lab_category_id:0,lab_package_id:0})},className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"category",children:"Medicine Category"}),n.jsx("option",{value:"product",children:"Medicine Product"}),n.jsx("option",{value:"lab_category",children:"Lab Test Category"}),n.jsx("option",{value:"lab_package",children:"Lab Test Package"})]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Choose what the banner should link to"})]}),M.link_type==="category"?n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(Us,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.category_id,onChange:re=>E({...M,category_id:parseInt(re.target.value)||0}),required:M.link_type==="category",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a category"}),c.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link to services in this category"})]}):M.link_type==="product"?n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Product"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(Us,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.product_id,onChange:re=>E({...M,product_id:parseInt(re.target.value)||0}),required:M.link_type==="product",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a product"}),u.map(re=>n.jsxs("option",{value:re.id,children:[re.medicine_name," (",re.price,")"]},re.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link directly to this product"})]}):M.link_type==="lab_category"?n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Lab Test Category"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(Us,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.lab_category_id,onChange:re=>E({...M,lab_category_id:parseInt(re.target.value)||0}),required:M.link_type==="lab_category",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a lab category"}),h.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link to this lab test category"})]}):n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Lab Test Package"}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 rounded-xl border border-orange-100 bg-white/90 px-4 py-2",children:[n.jsx(Us,{size:16,className:"text-orange-400"}),n.jsxs("select",{value:M.lab_package_id,onChange:re=>E({...M,lab_package_id:parseInt(re.target.value)||0}),required:M.link_type==="lab_package",className:"flex-1 bg-transparent text-sm text-orange-900 outline-none",children:[n.jsx("option",{value:"0",children:"Select a lab package"}),g.map(re=>n.jsxs("option",{value:re.id,children:[re.package_name," (",re.package_code,")"]},re.id))]})]}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Banner will link to this lab test package"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Sequence"}),n.jsx("input",{type:"number",min:"0",placeholder:"0",value:M.sequence,onChange:re=>E({...M,sequence:parseInt(re.target.value)||0}),className:"mt-2 w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),n.jsx("p",{className:"mt-1 text-xs text-orange-400",children:"Lower numbers appear first"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-orange-400",children:"Banner Image"}),n.jsxs("div",{className:"mt-2 space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-orange-200 bg-white/90 px-4 py-4 text-sm text-orange-400",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(_l,{size:18}),n.jsx("span",{children:"Upload high-quality hero image"})]}),n.jsxs("label",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 cursor-pointer",children:[n.jsx(Al,{size:14,className:"inline mr-1"}),"Choose File",n.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:re=>{const le=re.target.files?.[0];if(le){const ne=URL.createObjectURL(le);k(ne),E({...M,image:le})}}})]})]}),n.jsx("input",{type:"url",value:typeof M.image=="string"?M.image:"",onChange:re=>{E({...M,image:re.target.value}),k(re.target.value||null)},placeholder:"Or paste image URL",className:"w-full rounded-xl border border-orange-100 bg-white/90 px-4 py-2 text-sm text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-100"}),_&&n.jsx("div",{className:"mt-2",children:n.jsx("img",{src:_,alt:"Preview",className:"max-h-32 max-w-full rounded border"})})]})]}),n.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:justify-end",children:[V&&n.jsx("button",{type:"button",className:"rounded-xl border border-orange-200 bg-white px-5 py-2 text-sm font-semibold text-orange-500 shadow-sm transition-colors hover:bg-orange-50",onClick:()=>se(),children:"Cancel"}),n.jsx("button",{type:"submit",disabled:v,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm transition-colors hover:from-orange-600 hover:to-amber-500 disabled:opacity-50",children:v?"Saving...":V?"Update Banner":"Create Banner"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:p?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(ui,{className:"w-8 h-8 animate-spin text-orange-400"})}):o.length===0?n.jsxs("div",{className:"text-center py-12 text-orange-400",children:[n.jsx(p0,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"No banners yet. Create your first banner!"})]}):o.map(re=>n.jsx(jt,{className:"rounded-3xl border border-orange-100 bg-white/95 shadow-sm",children:n.jsxs(Nt,{className:"flex flex-col gap-4 p-5 md:flex-row md:items-center md:gap-6",children:[n.jsx("div",{className:"h-28 w-full overflow-hidden rounded-2xl bg-orange-100 md:w-48",children:re.image_url?n.jsx("img",{src:gf(re.image_url),alt:re.category_name||`Banner ${re.id}`,className:"h-full w-full object-cover"}):n.jsx("div",{className:"h-full w-full flex items-center justify-center bg-orange-100",children:n.jsx(_l,{className:"text-orange-300",size:32})})}),n.jsx("div",{className:"flex-1 space-y-3",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[re.link_type==="product"&&re.product_id?n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-purple-50 px-3 py-1 text-xs font-semibold text-purple-600",children:[n.jsx(Us,{size:14}),"Medicine: ",re.product_name||`ID: ${re.product_id}`]}):re.link_type==="lab_category"&&re.lab_category_id?n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-xs font-semibold text-blue-600",children:[n.jsx(Us,{size:14}),"Lab Category: ",re.lab_category_name||`ID: ${re.lab_category_id}`]}):re.link_type==="lab_package"&&re.lab_package_id?n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-600",children:[n.jsx(Us,{size:14}),"Lab Package: ",re.lab_package_name||`ID: ${re.lab_package_id}`]}):n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-3 py-1 text-xs font-semibold text-orange-600",children:[n.jsx(Us,{size:14}),"Medicine Category: ",re.category_name||`ID: ${re.category_id}`]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-primary/5 px-3 py-1 text-xs font-semibold text-primary",children:["Sequence: ",re.sequence||0]})]})}),n.jsxs("div",{className:"flex items-center gap-2 self-end md:flex-col md:items-end",children:[n.jsxs("button",{type:"button",onClick:()=>ae(re),className:"rounded-xl border border-orange-200 bg-white px-4 py-2 text-xs font-semibold text-orange-500 transition-colors hover:bg-orange-50",children:[n.jsx(g0,{size:14,className:"inline mr-1"}),"Edit"]}),n.jsxs("button",{type:"button",onClick:()=>K(re.id),className:"rounded-xl border border-red-200 bg-white px-4 py-2 text-xs font-semibold text-red-500 transition-colors hover:bg-red-50",children:[n.jsx(Xs,{size:14,className:"inline mr-1"}),"Delete"]})]})]})},re.id))})]})]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 p-6 shadow-sm",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-orange-400",children:"Style Guides"}),n.jsx("h3",{className:"text-xl font-semibold text-orange-900",children:"KwikMedi Content Principles"}),n.jsx("p",{className:"mt-2 max-w-2xl text-sm text-orange-500",children:"Gilroy for headings, Inter for supporting text, and a warm orange-to-amber palette create a playful yet professional brand for pet parents and trainers."})]}),n.jsxs("div",{className:"flex flex-wrap gap-3 text-sm font-semibold text-orange-500",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx(Ax,{size:16}),"Brand Ready"]}),n.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-orange-50 px-4 py-2",children:[n.jsx(g0,{size:16}),"Copywriting Polished"]})]})]})})]})})},OZ=()=>{const[e,r]=F.useState([]),[t,s]=F.useState(!0),[l,i]=F.useState(""),[o,d]=F.useState(""),[c,a]=F.useState(""),[u,f]=F.useState(1),[h,m]=F.useState(1),[g,y]=F.useState(0),p=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),b=async()=>{s(!0),i("");try{const C=new URLSearchParams({page:u.toString(),page_size:"50"});o&&C.append("search",o),c&&C.append("status",c);const T=await fetch(`${Ie}/admin/lab-tests/bookings?${C}`,{headers:p()}),D=await T.json();T.ok?(r(D.bookings||[]),y(D.total||0),m(D.total_pages||1)):i(D.error?.message||"Failed to fetch bookings")}catch(C){i(C.message||"Failed to fetch bookings")}finally{s(!1)}};F.useEffect(()=>{b()},[u,c]),F.useEffect(()=>{const C=setTimeout(()=>{u===1?b():f(1)},500);return()=>clearTimeout(C)},[o]);const v=C=>{const T={pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",completed:"bg-blue-100 text-blue-800",failed:"bg-gray-100 text-gray-800"};return T[C]||T.pending},j=C=>{switch(C){case"confirmed":return n.jsx(fn,{size:16});case"cancelled":case"failed":return n.jsx(ai,{size:16});case"completed":return n.jsx(fn,{size:16});default:return n.jsx(pn,{size:16})}};return n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search by name, phone, or booking ID...",value:o,onChange:C=>d(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:c,onChange:C=>a(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"All Status"}),n.jsx("option",{value:"pending",children:"Pending"}),n.jsx("option",{value:"confirmed",children:"Confirmed"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"}),n.jsx("option",{value:"failed",children:"Failed"})]}),n.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(Oh,{size:18}),"Refresh"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Total Bookings"}),n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Pending"}),n.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(C=>C.status==="pending").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Confirmed"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(C=>C.status==="confirmed").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Completed"}),n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.filter(C=>C.status==="completed").length})]}),n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Failed"}),n.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.filter(C=>C.status==="failed").length})]})]}),t?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading bookings..."})]}):l?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx(xu,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:l})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(mn,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No bookings found"})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collection Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Packages"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(C=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",C.id]}),C.redcliffe_booking_id&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Redcliffe: ",C.redcliffe_booking_id]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.customer_name}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Xa,{size:12}),C.customer_phonenumber]}),n.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[n.jsx(Yi,{size:12}),C.email]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:new Date(C.collection_date).toLocaleDateString()}),n.jsxs("div",{className:"text-xs text-gray-500",children:["Slot: ",C.collection_slot]})]}),n.jsxs("td",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.package_codes?.slice(0,3).map((T,D)=>n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:[n.jsx(Tn,{size:12,className:"mr-1"}),T]},D)),C.package_codes?.length>3&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",C.package_codes.length-3," more"]})]}),C.additional_members?.length>0&&n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["+",C.additional_members.length," additional member(s)"]})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${v(C.status)}`,children:[j(C.status),C.status]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(C.created_at).toLocaleString()})]},C.id))})]})}),h>1&&n.jsxs("div",{className:"bg-gray-50 px-6 py-3 flex items-center justify-between border-t border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",u," of ",h]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>f(C=>Math.max(1,C-1)),disabled:u===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsx("button",{onClick:()=>f(C=>Math.min(h,C+1)),disabled:u===h,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},MZ=()=>{const[e,r]=F.useState([]),[t,s]=F.useState(!0),[l,i]=F.useState(""),[o,d]=F.useState(null),[c,a]=F.useState(!1),[u,f]=F.useState({name:"",image_url:"",show_on_homepage:!1,display_order:0}),[h,m]=F.useState(null),[g,y]=F.useState([]),[p,b]=F.useState(!1),[v,j]=F.useState([]),[C,T]=F.useState(""),[D,q]=F.useState(!1),[z,B]=F.useState(""),[V,X]=F.useState(""),W=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`,"Content-Type":"application/json"}),P=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")||""}`}),M=async()=>{s(!0),i("");try{const te=await fetch(`${Ie}/admin/lab-tests/categories`,{headers:W()}),U=await te.json();te.ok?r(U.categories||[]):i(U.error?.message||"Failed to fetch categories")}catch(te){i(te.message||"Failed to fetch categories")}finally{s(!1)}},E=async(te,U)=>{a(!0);try{const J=new FormData;J.append("image",te);const $=await fetch(`${Ie}/admin/lab-tests/categories/upload-image`,{method:"POST",headers:P(),body:J}),R=await $.json();$.ok?await _(U,{image_url:R.image_url}):i(R.error?.message||"Failed to upload image")}catch(J){i(J.message||"Failed to upload image")}finally{a(!1)}},_=async(te,U)=>{try{const J={...u,...U,show_on_homepage:u.show_on_homepage?1:0},$=await fetch(`${Ie}/admin/lab-tests/categories/${te}`,{method:"PUT",headers:W(),body:JSON.stringify(J)}),R=await $.json();$.ok?(await M(),d(null),i("")):i(R.error?.message||"Failed to update category")}catch(J){i(J.message||"Failed to update category")}},k=te=>{d(te.id),f({name:te.name,image_url:te.image_url||"",show_on_homepage:te.show_on_homepage||!1,display_order:te.display_order||0})},N=()=>{o&&_(o,{})},S=()=>{d(null),f({name:"",image_url:"",show_on_homepage:!1,display_order:0})},O=async te=>{b(!0);try{const U=await fetch(`${Ie}/admin/lab-tests/categories/${te}/packages`,{headers:W()}),J=await U.json();U.ok?y(J.packages||[]):i(J.error?.message||"Failed to fetch packages")}catch(U){i(U.message||"Failed to fetch packages")}finally{b(!1)}},L=async(te="")=>{try{const U=new URLSearchParams({page:"1",page_size:"100"});te&&U.append("search",te);const J=await fetch(`${Ie}/admin/lab-tests/packages?${U}`,{headers:W()}),$=await J.json();if(J.ok){let R=[];$.data&&Array.isArray($.data)?R=$.data:$.results&&Array.isArray($.results)?R=$.results:Array.isArray($)&&(R=$);const K=R.map(ee=>({code:ee.code||ee.package_code||"",name:ee.name||ee.package_name||ee.title||""})).filter(ee=>ee.code&&ee.code.trim()!=="");j(K),console.log(`Loaded ${K.length} available packages`)}else console.error("Failed to fetch packages:",$),i($.error?.message||"Failed to fetch available packages")}catch(U){console.error("Failed to fetch available packages:",U),i(U.message||"Failed to fetch available packages")}},I=async te=>{m(te),await O(te),await L()},G=async()=>{if(!(!z||!h)){q(!0),i("");try{const te=await fetch(`${Ie}/admin/lab-tests/categories/${h}/packages`,{method:"POST",headers:W(),body:JSON.stringify({package_code:z,package_name:V||z,display_order:g.length})}),U=await te.json();te.ok?(await O(h),await M(),B(""),X(""),T(""),i("")):i(U.error?.message||"Failed to add package")}catch(te){i(te.message||"Failed to add package")}finally{q(!1)}}},Y=async te=>{if(h&&window.confirm("Are you sure you want to remove this package from the category?")){i("");try{const U=await fetch(`${Ie}/admin/lab-tests/categories/${h}/packages/${te}`,{method:"DELETE",headers:W()}),J=await U.json();U.ok?(await O(h),await M(),i("")):i(J.error?.message||"Failed to remove package")}catch(U){i(U.message||"Failed to remove package")}}};return F.useEffect(()=>{M()},[]),F.useEffect(()=>{if(h){const te=setTimeout(()=>{L(C)},500);return()=>clearTimeout(te)}},[C,h]),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Lab Test Categories"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage static lab test categories and assign packages to them"})]}),n.jsxs("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]}),t?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading categories..."})]}):l?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx(xu,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:l})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(Kc,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No categories found"})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Categories: ",n.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:e.map(te=>n.jsxs("div",{className:`border rounded-lg p-4 hover:shadow-md transition-shadow ${te.show_on_homepage?"border-blue-500 bg-blue-50":"border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Kc,{className:"text-blue-600",size:20}),n.jsx("h3",{className:"font-semibold text-gray-900",children:te.name}),te.show_on_homepage&&n.jsx(Zi,{className:"text-yellow-500",size:16,fill:"currentColor"})]}),te.package_count!==void 0&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[n.jsx(Tn,{size:14}),n.jsxs("span",{children:[te.package_count," package(s)"]})]}),te.display_order!==void 0&&n.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Order: ",te.display_order]})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>I(te.id),className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded transition-colors",title:"Manage packages",children:n.jsx(Tn,{size:18})}),n.jsx("button",{onClick:()=>k(te),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit category",children:n.jsx(Px,{size:18})})]})]}),te.image_url&&n.jsx("div",{className:"mb-3",children:n.jsx("img",{src:te.image_url,alt:te.name,className:"w-full h-32 object-cover rounded border border-gray-200",onError:U=>{U.target.style.display="none"}})}),o===te.id&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded border border-gray-200 space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Image"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:`image-upload-${te.id}`,onChange:U=>{const J=U.target.files?.[0];J&&E(J,te.id)}}),n.jsxs("label",{htmlFor:`image-upload-${te.id}`,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-gray-300 rounded text-xs cursor-pointer hover:bg-gray-50",children:[n.jsx(Al,{size:14}),c?"Uploading...":"Upload Image"]}),n.jsx("input",{type:"url",value:u.image_url,onChange:U=>f({...u,image_url:U.target.value}),placeholder:"Or paste image URL",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),u.image_url&&n.jsx("img",{src:u.image_url,alt:"Preview",className:"mt-2 w-full h-20 object-cover rounded border border-gray-200",onError:U=>{U.target.style.display="none"}})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:u.show_on_homepage,onChange:U=>f({...u,show_on_homepage:U.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Show on Homepage (Max 6)"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Display Order"}),n.jsx("input",{type:"number",value:u.display_order,onChange:U=>f({...u,display_order:parseInt(U.target.value)||0}),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:N,className:"flex items-center gap-1 px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:[n.jsx(fA,{size:14}),"Save"]}),n.jsx("button",{onClick:S,className:"px-3 py-1.5 border border-gray-300 text-xs rounded hover:bg-gray-50",children:"Cancel"})]})]}),h===te.id&&n.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded border border-gray-200 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Manage Packages"}),n.jsx("button",{onClick:()=>{m(null),y([])},className:"p-1 text-gray-400 hover:text-gray-600",children:n.jsx(hr,{size:18})})]}),n.jsxs("div",{className:"bg-white p-3 rounded border border-gray-200 space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Un,{size:16,className:"text-gray-400"}),n.jsx("input",{type:"text",value:C,onChange:U=>T(U.target.value),placeholder:"Search packages...",className:"flex-1 px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500"})]}),v.length>0&&n.jsxs("select",{value:z,onChange:U=>{const J=v.find($=>$.code===U.target.value);B(U.target.value),X(J?.name||"")},className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Select a package..."}),v.slice(0,50).map(U=>n.jsx("option",{value:U.code,children:U.name||U.code},U.code))]}),n.jsxs("button",{onClick:G,disabled:!z||D,className:"flex items-center gap-2 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:[n.jsx(Jn,{size:14}),D?"Adding...":"Add Package"]})]}),p?n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"Loading packages..."}):g.length===0?n.jsx("div",{className:"text-center py-4 text-sm text-gray-500",children:"No packages in this category"}):n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:g.map(U=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border border-gray-200",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:U.package_name||U.package_code}),n.jsx("div",{className:"text-xs text-gray-500",children:U.package_code})]}),n.jsx("button",{onClick:()=>Y(U.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Remove package",children:n.jsx(Xs,{size:14})})]},U.id))})]})]},te.id))})]})]})},IZ=()=>{const[e,r]=F.useState([]),[t,s]=F.useState(!0),[l,i]=F.useState(""),[o,d]=F.useState(""),[c,a]=F.useState(1),[u,f]=F.useState(1),[h,m]=F.useState(0),g=async()=>{s(!0),i("");try{const y=new URLSearchParams({page:c.toString(),page_size:"50"});o&&y.append("search",o);const p=await fetch(`${Ie}/admin/lab-tests/packages?${y}`),b=await p.json();if(p.ok){const v=b.data||b.results||[];r(v),m(b.count||v.length),f(Math.ceil((b.count||v.length)/50))}else i(b.error?.message||"Failed to fetch packages")}catch(y){i(y.message||"Failed to fetch packages")}finally{s(!1)}};return F.useEffect(()=>{g()},[c]),F.useEffect(()=>{const y=setTimeout(()=>{c===1?g():a(1)},500);return()=>clearTimeout(y)},[o]),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Un,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),n.jsx("input",{type:"text",placeholder:"Search packages by name or code...",value:o,onChange:y=>d(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("button",{onClick:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Dn,{size:18}),"Refresh"]})]})}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:n.jsxs("div",{className:"text-sm text-gray-500",children:["Total Packages: ",n.jsx("span",{className:"font-semibold text-gray-900",children:h})]})}),t?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500",children:"Loading packages..."})]}):l?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[n.jsx(xu,{className:"text-red-600",size:20}),n.jsx("p",{className:"text-red-600",children:l})]}):e.length===0?n.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm text-center",children:[n.jsx(Tn,{className:"mx-auto text-gray-400",size:48}),n.jsx("p",{className:"mt-4 text-gray-500",children:"No packages found"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>{const p=y.package_center_prices?.offer_price||y.package_center_prices?.package_price||0;return n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx(Tn,{className:"text-blue-600",size:18}),n.jsx("h3",{className:"font-semibold text-gray-900",children:y.name})]}),n.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Code: ",y.code]})]})}),y.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:y.description}),n.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[n.jsx("div",{className:"flex items-center gap-1 text-sm font-semibold text-green-600",children:n.jsxs("span",{children:["",p]})}),y.parameter&&n.jsxs("div",{className:"text-xs text-gray-500",children:[y.parameter," test",y.parameter>1?"s":""]})]}),y.category_for_web&&y.category_for_web.length>0&&n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[y.category_for_web.slice(0,2).map((b,v)=>n.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:b.name},v)),y.category_for_web.length>2&&n.jsxs("span",{className:"text-xs text-gray-500",children:["+",y.category_for_web.length-2," more"]})]})]},y.id)})}),u>1&&n.jsxs("div",{className:"bg-white px-6 py-3 rounded-lg shadow-sm flex items-center justify-between border border-gray-200",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing page ",c," of ",u]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>a(y=>Math.max(1,y-1)),disabled:c===1,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Previous"}),n.jsx("button",{onClick:()=>a(y=>Math.min(u,y+1)),disabled:c===u,className:"px-4 py-2 border border-gray-300 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:"Next"})]})]})]})]})},yf=()=>{const e=Bn(),t=(()=>{const s=e.pathname;return s.includes("/bookings")?"bookings":s.includes("/categories")?"categories":s.includes("/packages")?"packages":"bookings"})();return n.jsx(Gr,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Af,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Lab Tests"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage lab test bookings, categories, and packages"})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t==="bookings"&&n.jsx(OZ,{}),t==="categories"&&n.jsx(MZ,{}),t==="packages"&&n.jsx(IZ,{})]})]})})},RZ=()=>{const[e,r]=F.useState(""),[t,s]=F.useState(""),[l,i]=F.useState(!1),o=Qn(),{addToast:d}=Fr(),c=async a=>{a.preventDefault(),i(!0);try{const u=await fetch(`${Ie}/lead-admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),f=await u.json();u.ok&&f.success?(localStorage.setItem("lead_admin_token",f.token),localStorage.setItem("lead_admin_user",JSON.stringify(f.admin)),d("Login successful!","success"),o("/lead-admin/dashboard",{replace:!0})):d(f.error?.message||"Invalid username or password","error")}catch(u){console.error("Login error:",u),d("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 px-4",children:n.jsx("div",{className:"w-full max-w-md",children:n.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-r from-orange-500 to-amber-400 mb-4",children:n.jsx(Ao,{className:"text-white",size:32})}),n.jsx("h1",{className:"text-3xl font-bold text-orange-900 mb-2",children:"Lead Admin Login"}),n.jsx("p",{className:"text-sm text-orange-600",children:"Access your lead management dashboard"})]}),n.jsxs("form",{onSubmit:c,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Username"}),n.jsx("input",{type:"text",value:e,onChange:a=>r(a.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your username",required:!0,disabled:l})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Password"}),n.jsx("input",{type:"password",value:t,onChange:a=>s(a.target.value),className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-3 text-orange-900 placeholder-orange-300 outline-none focus:border-orange-400 focus:ring-2 focus:ring-orange-200",placeholder:"Enter your password",required:!0,disabled:l})]}),n.jsx("button",{type:"submit",disabled:l||!e||!t,className:"w-full rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-3 text-white font-semibold shadow-lg hover:from-orange-600 hover:to-amber-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):"Login"})]})]})})})},xf={New:{badge:"bg-orange-100 text-orange-700 border border-orange-200",dot:"bg-orange-500"},Contacted:{badge:"bg-amber-100 text-amber-700 border border-amber-200",dot:"bg-amber-500"},Converted:{badge:"bg-emerald-100 text-emerald-700 border border-emerald-200",dot:"bg-emerald-500"},Lost:{badge:"bg-rose-100 text-rose-600 border border-rose-200",dot:"bg-rose-500"},Available:{badge:"bg-secondary text-primary border border-primary/20",dot:"bg-primary"},"Not connected":{badge:"bg-gray-100 text-gray-700 border border-gray-200",dot:"bg-gray-500"}},vf=(e=!1)=>{const r=localStorage.getItem("lead_admin_token"),t={};return r&&(t.Authorization=`Bearer ${r}`),e&&(t["Content-Type"]="application/json"),t},DZ=({lead:e,onClose:r,onUpdate:t})=>{const[s,l]=F.useState(e?.status??"New"),[i,o]=F.useState(e?.notes||""),[d,c]=F.useState(!1);if(F.useEffect(()=>{e&&(l(e.status),o(e.notes||""))},[e]),!e)return null;const a=async()=>{c(!0);try{await t(e.id,{status:s,notes:i}),r()}catch(u){console.error("Error updating lead:",u)}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-3xl rounded-3xl bg-white shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsx("button",{onClick:r,className:"absolute right-4 top-4 rounded-full bg-orange-100 p-2 text-orange-600 hover:bg-orange-200 transition-colors z-10",children:n.jsx(hr,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-8 py-6 text-white sticky top-0",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ao,{size:28}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Lead Details"}),n.jsx("p",{className:"text-sm text-orange-100/90",children:"Update status and add notes"})]})]})}),n.jsxs("div",{className:"grid gap-6 px-8 py-6 md:grid-cols-2",children:[n.jsxs("div",{className:"space-y-3 rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"rounded-2xl bg-white/90 p-3 shadow-sm",children:n.jsx(Lr,{className:"text-orange-500",size:22})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-primary",children:"User"}),n.jsx("p",{className:"text-lg font-semibold text-orange-900",children:e.owner_name})]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Yi,{size:16}),n.jsx("span",{children:e.email})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(Xa,{size:16}),n.jsx("span",{children:e.phone})]}),e.location&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx($i,{size:16}),n.jsx("span",{children:e.location})]}),e.scheduled_date&&n.jsxs("div",{className:"flex items-center gap-3 text-sm text-orange-700",children:[n.jsx(kx,{size:16}),n.jsxs("span",{children:["Scheduled: ",new Date(e.scheduled_date).toLocaleDateString(),e.scheduled_time&&` at ${e.scheduled_time}`]})]})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"rounded-2xl border border-orange-100 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Lead Status"}),n.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:["New","Contacted","Converted","Lost","Available","Not connected"].map(u=>n.jsxs("button",{onClick:()=>l(u),className:`flex items-center justify-between rounded-xl border p-3 text-sm font-medium transition-all ${s===u?"border-orange-500 bg-orange-50 text-orange-700 shadow-sm":"border-orange-100 bg-white text-orange-500 hover:border-orange-200"}`,children:[n.jsx("span",{children:u}),u==="Converted"?n.jsx(Vs,{size:18}):u==="Lost"?n.jsx(Ba,{size:18}):n.jsx(X6,{size:18})]},u))})]})})]}),n.jsxs("div",{className:"px-8 pb-8",children:[n.jsxs("div",{className:"rounded-2xl border border-orange-100 bg-orange-50/40 p-5",children:[n.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-orange-500 mb-3",children:"Notes"}),n.jsx("textarea",{value:i,onChange:u=>o(u.target.value),rows:4,className:"w-full rounded-xl border border-orange-200 bg-white px-4 py-2 text-sm text-orange-900 outline-none focus:border-orange-400",placeholder:"Add notes about this lead..."})]}),n.jsxs("div",{className:"mt-6 flex flex-col gap-3 sm:flex-row sm:justify-end",children:[n.jsx("button",{onClick:r,disabled:d,className:"rounded-xl border border-orange-200 px-5 py-2 text-sm font-medium text-orange-500 hover:bg-orange-50 transition-colors disabled:opacity-50",children:"Cancel"}),n.jsx("button",{onClick:a,disabled:d,className:"rounded-xl bg-gradient-to-r from-orange-500 to-amber-400 px-5 py-2 text-sm font-semibold text-white shadow-sm hover:from-orange-600 hover:to-amber-500 transition-colors disabled:opacity-50 flex items-center gap-2",children:d?n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})},LZ=({leads:e,onClose:r,onViewLead:t})=>n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4 py-8",children:n.jsxs("div",{className:"relative w-full max-w-2xl rounded-3xl bg-white shadow-2xl",children:[n.jsx("button",{onClick:r,className:"absolute right-4 top-4 rounded-full bg-red-100 p-2 text-red-600 hover:bg-red-200 transition-colors",children:n.jsx(hr,{size:18})}),n.jsx("div",{className:"rounded-t-3xl bg-gradient-to-r from-red-500 to-orange-500 px-8 py-6 text-white",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Eo,{size:28,className:"animate-pulse"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-semibold",children:"Alarm: Upcoming Calls"}),n.jsxs("p",{className:"text-sm text-red-100/90",children:["You have ",e.length," lead(s) scheduled within 10 minutes"]})]})]})}),n.jsx("div",{className:"px-8 py-6 max-h-96 overflow-y-auto",children:e.length===0?n.jsx("p",{className:"text-center text-gray-500 py-8",children:"No upcoming calls"}):n.jsx("div",{className:"space-y-3",children:e.map(s=>n.jsx("div",{className:"rounded-xl border border-red-100 bg-red-50/50 p-4 hover:bg-red-50 transition-colors cursor-pointer",onClick:()=>{t(s),r()},children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-semibold text-red-900",children:s.owner_name}),n.jsx("p",{className:"text-sm text-red-700 mt-1",children:s.phone}),s.scheduled_date&&s.scheduled_time&&n.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[n.jsx(pn,{size:12}),new Date(s.scheduled_date).toLocaleDateString()," at ",s.scheduled_time]})]}),n.jsx(ia,{className:"text-red-500",size:20})]})},s.id))})})]})}),zZ=()=>{const e=Qn(),{addToast:r}=Fr(),[t,s]=F.useState([]),[l,i]=F.useState(null),[o,d]=F.useState(""),[c,a]=F.useState("All"),[u,f]=F.useState(!1),[h,m]=F.useState(""),[g,y]=F.useState([]),[p,b]=F.useState(!1);F.useEffect(()=>{if(!localStorage.getItem("lead_admin_token")){e("/lead-admin/login",{replace:!0});return}v(),j();const X=setInterval(j,6e4);return()=>clearInterval(X)},[e]);const v=async()=>{f(!0);try{const V=h?`${Ie}/lead-admin/leads/by-date?date=${h}`:`${Ie}/lead-admin/leads${c!=="All"?`?status=${c}`:""}`,W=await(await fetch(V,{headers:vf()})).json();if(W.success&&Array.isArray(W.leads)){const P=W.leads.map(M=>{if(M.cart_items)try{typeof M.cart_items=="string"&&(M.cart_items=JSON.parse(M.cart_items)),Array.isArray(M.cart_items)||(M.cart_items=[])}catch{M.cart_items=[]}else M.cart_items=[];return M});s(P)}else r("Failed to load leads","error")}catch(V){console.error("Error fetching leads:",V),r("Error loading leads","error")}finally{f(!1)}},j=async()=>{try{const X=await(await fetch(`${Ie}/lead-admin/alarms`,{headers:vf()})).json();X.success&&Array.isArray(X.leads)&&X.leads.length>0&&(y(X.leads),b(!0))}catch(V){console.error("Error checking alarms:",V)}};F.useEffect(()=>{v()},[c,h]);const C=()=>{localStorage.removeItem("lead_admin_token"),localStorage.removeItem("lead_admin_user"),e("/lead-admin/login",{replace:!0})},T=async(V,X)=>{try{const W=await fetch(`${Ie}/lead-admin/leads/${V}/update-status`,{method:"PUT",headers:vf(!0),body:JSON.stringify(X)}),P=await W.json();if(W.ok&&P.success)await v(),r("Lead updated successfully","success");else throw r(P.error?.message||"Failed to update lead","error"),new Error(P.error?.message||"Failed to update lead")}catch(W){throw console.error("Error updating lead:",W),r("Error updating lead","error"),W}},D=async V=>{try{const X=await fetch(`${Ie}/lead-admin/leads/${V}/set-available`,{method:"PUT",headers:vf()}),W=await X.json();X.ok&&W.success?(await v(),r("Lead marked as available","success")):r(W.error?.message||"Failed to update lead","error")}catch(X){console.error("Error updating lead:",X),r("Error updating lead","error")}},q=F.useMemo(()=>{t.length;const V=t.filter(M=>M.status==="New").length,X=t.filter(M=>M.status==="Contacted").length,W=t.filter(M=>M.status==="Converted").length,P=t.filter(M=>M.status==="Available").length;return[{label:"New Leads",value:V,icon:n.jsx(Ax,{className:"text-white",size:22}),gradient:"from-orange-500 to-amber-400"},{label:"Contacted",value:X,icon:n.jsx(G6,{className:"text-orange-500",size:22}),gradient:"from-orange-100 to-amber-100"},{label:"Converted",value:W,icon:n.jsx(Vs,{className:"text-emerald-600",size:22}),gradient:"from-emerald-100 to-emerald-50"},{label:"Available",value:P,icon:n.jsx(Nx,{className:"text-primary",size:22}),gradient:"bg-secondary"}]},[t]),z=t.filter(V=>{const X=(V.owner_name||"").toLowerCase().includes(o.toLowerCase())||(V.email||"").toLowerCase().includes(o.toLowerCase())||(V.phone||"").toLowerCase().includes(o.toLowerCase())||(V.user_full_name||"").toLowerCase().includes(o.toLowerCase())||(V.user_email||"").toLowerCase().includes(o.toLowerCase())||(V.user_phone||"").toLowerCase().includes(o.toLowerCase()),W=c==="All"||V.status===c;return X&&W}),B=JSON.parse(localStorage.getItem("lead_admin_user")||"{}");return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 relative",children:[u&&t.length===0&&n.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-orange-500 to-amber-400 shadow-lg",children:n.jsx(ui,{className:"h-8 w-8 animate-spin text-white"})}),n.jsx("p",{className:"text-sm font-medium text-orange-700",children:"Loading admin dashboard"}),n.jsx("p",{className:"text-xs text-orange-400",children:"Fetching latest leads and stats"})]})}),n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsx("div",{className:"rounded-3xl bg-gradient-to-r from-orange-500 to-amber-400 px-6 py-8 text-white shadow-lg",children:n.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm uppercase tracking-wider text-orange-100/80",children:"Lead Management"}),n.jsx("h1",{className:"mt-2 text-3xl font-bold",children:"My Leads Dashboard"}),n.jsxs("p",{className:"mt-3 max-w-2xl text-sm text-orange-50/80",children:["Welcome, ",B.full_name||B.username]})]}),n.jsxs("button",{onClick:C,className:"flex items-center gap-2 rounded-xl bg-white px-5 py-2 text-sm font-semibold text-orange-600 shadow-sm hover:bg-orange-50 transition-colors",children:[n.jsx(Cx,{size:16}),"Logout"]})]})}),n.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-4",children:q.map(V=>n.jsx("div",{className:"overflow-hidden rounded-3xl border border-orange-100/60 bg-white/95 shadow-md",children:n.jsxs("div",{className:"relative flex items-center gap-4 p-6",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${V.gradient} shadow-sm`,children:V.icon}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium uppercase tracking-wide text-orange-500",children:V.label}),n.jsx("p",{className:"mt-1 text-2xl font-semibold text-orange-900",children:V.value})]})]})},V.label))}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg p-6",children:n.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-2xl border border-orange-100 bg-orange-50/60 px-4 py-2",children:[n.jsx(Un,{size:18,className:"text-orange-400"}),n.jsx("input",{value:o,onChange:V=>d(V.target.value),placeholder:"Search leads...",className:"flex-1 border-none bg-transparent text-sm text-orange-900 placeholder-orange-300 outline-none"})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-orange-100 bg-white px-4 py-2",children:[n.jsx(mn,{size:16,className:"text-orange-500"}),n.jsx("input",{type:"date",value:h,onChange:V=>m(V.target.value),className:"text-sm text-orange-900 outline-none"}),h&&n.jsx("button",{onClick:()=>m(""),className:"text-orange-400 hover:text-orange-600",children:n.jsx(hr,{size:14})})]}),["All","New","Contacted","Converted","Lost","Available","Not connected"].map(V=>n.jsxs("button",{onClick:()=>a(V),className:`flex items-center gap-2 rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-wide transition-all ${c===V?"border-orange-500 bg-orange-50 text-orange-600 shadow-sm":"border-orange-100 bg-white text-orange-400 hover:border-orange-200"}`,children:[n.jsx(Oh,{size:14}),V]},V))]})]})}),n.jsx("div",{className:"rounded-3xl border border-orange-100/60 bg-white/95 shadow-lg",children:n.jsx("div",{className:"overflow-hidden rounded-2xl border border-orange-100",children:n.jsxs("table",{className:"min-w-full divide-y divide-orange-100",children:[n.jsx("thead",{className:"bg-orange-50/70",children:n.jsxs("tr",{className:"text-left text-xs font-semibold uppercase tracking-wider text-orange-500",children:[n.jsx("th",{className:"px-6 py-4",children:"User"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Items"}),n.jsx("th",{className:"px-6 py-4",children:"Cart Total"}),n.jsx("th",{className:"px-6 py-4",children:"Added Date"}),n.jsx("th",{className:"px-6 py-4",children:"Status"}),n.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-orange-50 bg-white/95",children:u?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx(ui,{className:"w-8 h-8 animate-spin text-orange-400"})})})}):z.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-sm text-orange-400",children:"No leads found for the current filters."})}):z.map(V=>{const X=Array.isArray(V.cart_items)?V.cart_items:[];return n.jsxs("tr",{className:"transition-colors hover:bg-orange-50/50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-br from-orange-500 to-amber-400 text-white shadow-sm",children:n.jsx(Ao,{size:18})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-orange-900",children:V.owner_name||V.user_full_name||"N/A"}),n.jsx("p",{className:"text-xs text-orange-400",children:V.email||V.user_email||""}),n.jsx("p",{className:"text-xs text-orange-400",children:V.phone||V.user_phone||""})]})]})}),n.jsx("td",{className:"px-6 py-4",children:X.length>0?n.jsxs("div",{className:"space-y-1",children:[X.slice(0,3).map((W,P)=>n.jsxs("div",{className:"text-xs text-orange-700",children:[W.medicine_name||W.medicineName||"Item",W.quantity&&` x${W.quantity}`]},P)),X.length>3&&n.jsxs("div",{className:"text-xs text-orange-400",children:["+",X.length-3," more"]})]}):n.jsx("span",{className:"text-sm text-orange-400",children:"No items"})}),n.jsx("td",{className:"px-6 py-4",children:V.cart_total!==null&&V.cart_total!==void 0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-semibold text-orange-900",children:["",V.cart_total.toFixed(2)]}),V.cart_discount&&V.cart_discount>0&&n.jsxs("p",{className:"text-xs text-orange-400",children:["Discount: ",V.cart_discount.toFixed(2)]})]}):n.jsx("span",{className:"text-sm text-orange-400",children:"N/A"})}),n.jsx("td",{className:"px-6 py-4 text-sm text-orange-600",children:V.cart_created_at?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(mn,{size:14}),n.jsx("span",{children:new Date(V.cart_created_at).toLocaleDateString()})]}),V.cart_updated_at&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-orange-400",children:[n.jsx(pn,{size:12}),n.jsxs("span",{children:["Updated: ",new Date(V.cart_updated_at).toLocaleDateString()]})]})]}):n.jsx("span",{className:"text-orange-300",children:new Date(V.created_at).toLocaleDateString()})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("span",{className:`inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold ${xf[V.status]?.badge||xf.New.badge}`,children:[n.jsx("span",{className:`h-2 w-2 rounded-full ${xf[V.status]?.dot||xf.New.dot}`}),V.status]})}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[V.scheduled_date&&n.jsx("button",{onClick:()=>D(V.id),className:"inline-flex items-center gap-2 rounded-full bg-primary px-3 py-1 text-xs font-semibold text-white shadow-sm hover:bg-primary-dark transition-colors",children:"Mark Available"}),n.jsxs("button",{onClick:()=>i(V),className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-orange-500 to-amber-400 px-4 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition-all hover:from-orange-600 hover:to-amber-500",children:["Manage",n.jsx(ia,{size:14})]})]})})]},V.id)})})]})})})]}),n.jsx(DZ,{lead:l,onClose:()=>i(null),onUpdate:T}),p&&n.jsx(LZ,{leads:g,onClose:()=>b(!1),onViewLead:V=>i(V)})]})},FZ=()=>{const[e,r]=F.useState(""),[t,s]=F.useState(""),[l,i]=F.useState(!1),o=Qn(),{addToast:d}=Fr(),{isAuthenticated:c,user:a}=gn();F.useEffect(()=>{console.log("HelpingStaffLogin component mounted"),console.log("Current path:",window.location.pathname),console.log("isAuthenticated:",c),console.log("user:",a)},[c,a]),F.useEffect(()=>{c&&(a?.role==="helping_staff"||a?.role==="helping_staff_admin")&&o("/admin/helping-staff-panel",{replace:!0})},[c,a,o]);const u=async f=>{f.preventDefault(),i(!0);try{const h=await fetch(`${Ie}/helping-staff/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),m=await h.json();if(h.ok&&m.success){const g=m.staff||m.admin;if(g)g.role="helping_staff";else{const y=m.admin||{};y.role="helping_staff",localStorage.setItem("KwikMedi_user",JSON.stringify(y))}localStorage.setItem("KwikMedi_token",m.token),g&&localStorage.setItem("KwikMedi_user",JSON.stringify(g)),localStorage.setItem("KwikMedi_role","helping_staff"),d("Login successful!","success"),setTimeout(()=>{window.location.href="/admin/helping-staff-panel"},500)}else{const g=m.error?.message||"Login failed. Please check your credentials.";d(g,"error")}}catch(h){console.error("Helping staff login error:",h),d("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(jx,{className:"h-5 w-5 mr-2"}),"Back to Home"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-primary/10 p-3 rounded-full",children:n.jsx(Lr,{className:"h-8 w-8 text-primary"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Helping Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the prescription processing panel"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Email or Phone"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Email or Phone Number",value:e,onChange:f=>r(f.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary focus:border-primary focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:f=>s(f.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary disabled:opacity-50",children:l?"Logging in...":"Sign in"})})]})]})})},$Z=()=>{const[e,r]=F.useState(""),[t,s]=F.useState(""),[l,i]=F.useState(!1),o=Qn(),{addToast:d}=Fr(),{isAuthenticated:c,user:a}=gn();F.useEffect(()=>{c&&(a?.role==="finance_admin"||a?.role==="admin")&&o("/admin/finance-panel",{replace:!0})},[c,a,o]);const u=async f=>{f.preventDefault(),i(!0);try{const h=await fetch(`${Ie}/admin/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),m=await h.json();if(h.ok&&m.token){const g=m.admin?.role||"";if(g!=="finance_admin"&&g!=="super_admin"){d("Access denied. This login is for financial staff only.","error"),i(!1);return}const y=m.admin;y&&(y.role=g==="super_admin"?"admin":g),localStorage.setItem("KwikMedi_token",m.token),localStorage.setItem("KwikMedi_user",JSON.stringify(y)),localStorage.setItem("KwikMedi_role",y.role),d("Login successful!","success"),window.location.href="/admin/finance-panel"}else{const g=m.error?.message||"Login failed. Please check your credentials.";d(g,"error")}}catch(h){console.error("Financial staff login error:",h),d("Login failed. Please try again.","error")}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsxs("button",{onClick:()=>o("/login"),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx(jx,{className:"h-5 w-5 mr-2"}),"Back to Login Selection"]}),n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-green-100 p-3 rounded-full",children:n.jsx(Fo,{className:"h-8 w-8 text-green-600"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Financial Staff Login"}),n.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access the finance panel and payment management"})]}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username or Email"}),n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Username or Email",value:e,onChange:f=>r(f.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Password",value:t,onChange:f=>s(f.target.value)})]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:l,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:l?"Logging in...":"Sign in"})})]})]})})},N6=()=>{Qn();const e=[{id:"super_admin",title:"Super Admin",description:"Full system access and management",icon:Ua,route:"/admin/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"},{id:"helping_staff",title:"Helping Staff",description:"Prescription processing and digitization",icon:Gs,route:"/helping-staff/login",color:"bg-primary hover:bg-primary-dark",iconColor:"text-primary"},{id:"financial_staff",title:"Financial Staff",description:"Finance panel and payment management",icon:Fo,route:"/financial-staff/login",color:"bg-green-600 hover:bg-green-700",iconColor:"text-green-600"},{id:"lead_manager",title:"Lead Manager",description:"Lead management and customer relations",icon:XE,route:"/lead-admin/login",color:"bg-orange-600 hover:bg-orange-700",iconColor:"text-orange-600"}];return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-4xl w-full",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-2",children:"KwikMedi Admin Portal"}),n.jsx("p",{className:"text-lg text-gray-600",children:"Select your role to continue"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(r=>{const t=r.icon;return n.jsxs(bx,{to:r.route,onClick:()=>{console.log("Navigating to:",r.route,"from LoginSelection")},className:`${r.color} text-white rounded-lg shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105 p-8 flex flex-col items-center space-y-4 no-underline`,children:[n.jsx("div",{className:"bg-white/20 rounded-full p-4",children:n.jsx(t,{className:"h-10 w-10"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-xl font-semibold mb-2",children:r.title}),n.jsx("p",{className:"text-sm text-white/90",children:r.description})]})]},r.id)})}),n.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:n.jsx("p",{children:"Choose the appropriate login option based on your role"})})]})})},BZ=()=>{const{addToast:e}=Fr(),[r,t]=F.useState(""),[s,l]=F.useState(""),[i,o]=F.useState("all"),[d,c]=F.useState([]),[a,u]=F.useState([]),[f,h]=F.useState([]),[m,g]=F.useState([]),[y,p]=F.useState(!1),[b,v]=F.useState(!1),[j,C]=F.useState(null);F.useEffect(()=>{D(),q()},[]);const T=()=>({Authorization:`Bearer ${localStorage.getItem("KwikMedi_token")||localStorage.getItem("admin_token")}`,"Content-Type":"application/json"}),D=async()=>{try{p(!0);const P=await fetch(`${Ie}/admin/push-notifications/users`,{headers:T()});if(!P.ok)throw new Error("Failed to load users");const M=await P.json();h(M.users||[])}catch(P){console.error("Error loading users:",P),e("Failed to load users","error")}finally{p(!1)}},q=async()=>{try{p(!0);const P=await fetch(`${Ie}/admin/push-notifications/providers`,{headers:T()});if(!P.ok)throw new Error("Failed to load providers");const M=await P.json();g(M.providers||[])}catch(P){console.error("Error loading providers:",P),e("Failed to load providers","error")}finally{p(!1)}},z=async()=>{if(!r.trim()||!s.trim()){e("Please enter both title and message","error");return}if(i==="selected"&&d.length===0&&a.length===0){e("Please select at least one user or provider","error");return}try{v(!0);const P={title:r.trim(),body:s.trim(),target_type:i};i==="selected"&&(d.length>0&&(P.user_ids=d),a.length>0&&(P.provider_ids=a));const M=await fetch(`${Ie}/admin/push-notifications/send`,{method:"POST",headers:T(),body:JSON.stringify(P)});if(!M.ok){const _=await M.json();throw new Error(_.error?.message||"Failed to send notification")}const E=await M.json();C({sent:E.sent||0,failed:E.failed||0,total:E.total_tokens||0}),E.sent===0&&E.total_tokens===0?e(E.message||"No FCM tokens found. Users/providers need to register tokens first by logging into the app.","warning"):e(`Notification sent to ${E.sent} device(s)`,"success"),t(""),l(""),c([]),u([]),o("all")}catch(P){console.error("Error sending notification:",P),e(P.message||"Failed to send notification","error")}finally{v(!1)}},B=P=>{c(M=>M.includes(P)?M.filter(E=>E!==P):[...M,P])},V=P=>{u(M=>M.includes(P)?M.filter(E=>E!==P):[...M,P])},X=()=>{d.length===f.length?c([]):c(f.map(P=>P.id))},W=()=>{a.length===m.length?u([]):u(m.map(P=>P.id))};return n.jsx(Gr,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Eo,{className:"w-8 h-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Push Notifications"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send push notifications to users and providers"})]})]})})}),n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compose Notification"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),n.jsx("input",{type:"text",value:r,onChange:P=>t(P.target.value),placeholder:"Enter notification title",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:100}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.length,"/100"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),n.jsx("textarea",{value:s,onChange:P=>l(P.target.value),placeholder:"Enter notification message",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:500}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.length,"/500"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Audience *"}),n.jsxs("select",{value:i,onChange:P=>o(P.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"All Users & Providers"}),n.jsx("option",{value:"users",children:"All Users Only"}),n.jsx("option",{value:"providers",children:"All Providers Only"}),n.jsx("option",{value:"selected",children:"Selected Users/Providers"})]})]}),i==="selected"&&n.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Users"}),n.jsx("button",{onClick:X,className:"text-sm text-blue-600 hover:text-blue-700",children:d.length===f.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-2",children:f.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No users available"}):f.map(P=>n.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:d.includes(P.id),onChange:()=>B(P.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 flex-1",children:P.full_name}),P.has_fcm_token&&n.jsx(Vs,{className:"w-4 h-4 text-green-500"})]},P.id))})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Select Providers"}),n.jsx("button",{onClick:W,className:"text-sm text-blue-600 hover:text-blue-700",children:a.length===m.length?"Deselect All":"Select All"})]}),n.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg p-2",children:m.length===0?n.jsx("p",{className:"text-sm text-gray-500 text-center py-2",children:"No providers available"}):m.map(P=>n.jsxs("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:a.includes(P.id),onChange:()=>V(P.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-700 flex-1",children:P.full_name}),P.has_fcm_token&&n.jsx(Vs,{className:"w-4 h-4 text-green-500"})]},P.id))})]})]}),n.jsx("button",{onClick:z,disabled:b||!r.trim()||!s.trim(),className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?n.jsxs(n.Fragment,{children:[n.jsx(ui,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):n.jsxs(n.Fragment,{children:[n.jsx(hA,{className:"w-5 h-5"}),"Send Notification"]})})]})]}),j&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Last Notification Result"}),n.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j.sent}),n.jsx("div",{className:"text-sm text-gray-600",children:"Sent"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.failed}),n.jsx("div",{className:"text-sm text-gray-600",children:"Failed"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-600",children:j.total}),n.jsx("div",{className:"text-sm text-gray-600",children:"Total Tokens"})]})]}),j.total===0&&n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:n.jsxs("p",{className:"text-sm text-yellow-800",children:[n.jsx("strong",{children:" No FCM tokens registered:"})," Users and providers need to log into the mobile/web app first to register their FCM tokens. Once they log in, their tokens will be automatically registered and they will appear in the statistics above."]})})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gs,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Users"})]}),n.jsx("span",{className:"text-lg font-bold text-blue-600",children:f.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vs,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Users with FCM"})]}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:f.filter(P=>P.has_fcm_token).length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ao,{className:"w-5 h-5 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Providers"})]}),n.jsx("span",{className:"text-lg font-bold text-purple-600",children:m.length})]}),n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vs,{className:"w-5 h-5 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Providers with FCM"})]}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:m.filter(P=>P.has_fcm_token).length})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[n.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:" Tips"}),n.jsxs("ul",{className:"text-xs text-yellow-700 space-y-1",children:[n.jsx("li",{children:" Keep titles under 50 characters"}),n.jsx("li",{children:" Keep messages concise and clear"}),n.jsx("li",{children:" Only users/providers with FCM tokens will receive notifications"}),n.jsx("li",{children:" Green checkmarks indicate active FCM tokens"})]})]})]})]})})]})})},UZ=({children:e,allowedRoles:r=[]})=>{const{user:t,isAuthenticated:s,isLoading:l}=gn();if(l)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})});const i=localStorage.getItem("KwikMedi_token"),o=localStorage.getItem("KwikMedi_role"),d=i&&!i.startsWith("mock_token_"),c=t?.role||o||"",a=r.length===0||r.includes(c)||o&&r.includes(o);return!s&&!d?n.jsx(vo,{to:"/",replace:!0}):d&&a&&!s&&l?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):!s&&d&&l?n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):r.length>0&&!a?(console.log("ProtectedRoute: Role mismatch",{user:t,allowedRole:t?.role,allowedRoles:r,storedRole:o,currentPath:window.location.pathname}),c==="helping_staff"||c==="helping_staff_admin"||o==="helping_staff"?n.jsx(vo,{to:"/admin/helping-staff-panel",replace:!0}):c==="finance_admin"||o==="finance_admin"?n.jsx(vo,{to:"/admin/finance-panel",replace:!0}):n.jsx(vo,{to:"/admin/dashboard",replace:!0})):n.jsx(n.Fragment,{children:e})},qZ=()=>n.jsxs(cw,{children:[n.jsx(qt,{path:"/",element:n.jsx(N6,{})}),n.jsx(qt,{path:"/login",element:n.jsx(N6,{})}),n.jsx(qt,{path:"/admin/login",element:n.jsx(_A,{})}),n.jsx(qt,{path:"/lead-admin/login",element:n.jsx(RZ,{})}),n.jsx(qt,{path:"/lead-admin/dashboard",element:n.jsx(zZ,{})}),n.jsx(qt,{path:"/helping-staff/login",element:n.jsx(FZ,{})}),n.jsx(qt,{path:"/financial-staff/login",element:n.jsx($Z,{})}),n.jsx(qt,{path:"/admin/*",element:n.jsx(UZ,{allowedRoles:["admin","helping_staff","helping_staff_admin","finance_admin"],children:n.jsxs(cw,{children:[n.jsx(qt,{path:"/dashboard",element:n.jsx(MG,{})}),n.jsx(qt,{path:"/providers",element:n.jsx(WY,{})}),n.jsx(qt,{path:"/users",element:n.jsx(eZ,{})}),n.jsx(qt,{path:"/categories/inventory",element:n.jsx(mf,{})}),n.jsx(qt,{path:"/categories/generic",element:n.jsx(mf,{})}),n.jsx(qt,{path:"/categories/branded",element:n.jsx(mf,{})}),n.jsx(qt,{path:"/categories",element:n.jsx(mf,{})}),n.jsx(qt,{path:"/prescriptions",element:n.jsx(xZ,{})}),n.jsx(qt,{path:"/leads",element:n.jsx(pZ,{})}),n.jsx(qt,{path:"/finance-panel",element:n.jsx(gZ,{})}),n.jsx(qt,{path:"/finance",element:n.jsx(yZ,{})}),n.jsx(qt,{path:"/helping-staff-panel/prescriptions",element:n.jsx(ry,{})}),n.jsx(qt,{path:"/helping-staff-panel/orders",element:n.jsx(ry,{})}),n.jsx(qt,{path:"/helping-staff-panel",element:n.jsx(ry,{})}),n.jsx(qt,{path:"/disputes",element:n.jsx(vo,{to:"/admin/helpdesk",replace:!0})}),n.jsx(qt,{path:"/bookings",element:n.jsx(aZ,{})}),n.jsx(qt,{path:"/orders",element:n.jsx(cZ,{})}),n.jsx(qt,{path:"/transactions",element:n.jsx(NZ,{})}),n.jsx(qt,{path:"/coupons/medicine",element:n.jsx(ny,{})}),n.jsx(qt,{path:"/coupons/lab-test",element:n.jsx(ny,{})}),n.jsx(qt,{path:"/coupons",element:n.jsx(ny,{})}),n.jsx(qt,{path:"/helpdesk",element:n.jsx(AZ,{})}),n.jsx(qt,{path:"/push-notifications",element:n.jsx(BZ,{})}),n.jsx(qt,{path:"/lab-tests/bookings",element:n.jsx(yf,{})}),n.jsx(qt,{path:"/lab-tests/categories",element:n.jsx(yf,{})}),n.jsx(qt,{path:"/lab-tests/packages",element:n.jsx(yf,{})}),n.jsx(qt,{path:"/lab-tests",element:n.jsx(yf,{})}),n.jsx(qt,{path:"/site-management/blog",element:n.jsx(sy,{})}),n.jsx(qt,{path:"/site-management/banners",element:n.jsx(sy,{})}),n.jsx(qt,{path:"/site-management",element:n.jsx(sy,{})}),n.jsx(qt,{path:"/complaints",element:n.jsx(fZ,{})}),n.jsx(qt,{path:"/bills",element:n.jsx(PZ,{})}),n.jsx(qt,{path:"*",element:n.jsx(vo,{to:"/admin/dashboard",replace:!0})})]})})}),n.jsx(qt,{path:"*",element:n.jsx(vo,{to:"/",replace:!0})})]});function HZ(){return n.jsx(EE,{children:n.jsx(FE,{children:n.jsxs($E,{children:[" ",n.jsx(qZ,{}),n.jsx(BE,{})]})})})}oC.createRoot(document.getElementById("root")).render(n.jsx(F.StrictMode,{children:n.jsx(HZ,{})}));
